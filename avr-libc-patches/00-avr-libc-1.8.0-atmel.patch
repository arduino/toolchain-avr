diff --git a/ChangeLog b/ChangeLog
index 9a55a33..38b3294 100644
--- a/ChangeLog
+++ b/ChangeLog
@@ -1,431 +1,13 @@
-2011-12-29  Joerg Wunsch <j.gnu@uriah.heep.sax.de>
+2013-01-27  Dmitry Xmelkov  <dmix@gmail.ru>
 
-	Released avr-libc-1.7.1.
-	* configure.ac: Bump version.
-
-2011-12-29  Joerg Wunsch <j.gnu@uriah.heep.sax.de>
-
-	* include/avr/pgmspace.h: Do only include the deprecated prog_*
-	typedefs if the user requests this by defining
-	__PROG_TYPES_COMPAT__.  If they are generally defined, users are
-	being spammed with warning messages as soon as they include the
-	header file, regardless of whether they want to use these typedefs
-	or not.  Also, it's not good style to deprecate the old typedefs
-	but then use them ourselves, so make PGM_P and PGM_VOID_P use
-	the correct definitions.
-
-2011-12-29  Joerg Wunsch <j.gnu@uriah.heep.sax.de>
-
-	* include/avr/iotnx5.h (TIMER1_OVF_vect_num): add definition,
-	replacing the misspelled duplicate for TIMER1_OVF_vect
-
-2011-12-29  Joerg Wunsch <j.gnu@uriah.heep.sax.de>
-
-	* libc/string/strlcat.S: add !__AVR_TINY__ protection
-
-2011-12-28  Joerg Wunsch <j.gnu@uriah.heep.sax.de>
-
-	bug #32773: stdiodemo source code is broken
-	* doc/examples/stdiodemo/lcd.c: pass an argument when calling
-	hd44780_wait_ready()
-	* doc/examples/stdiodemo/Makefile: don't attempt to build the
-	EEPROM load files, as there are now EEPROM data
-
-2011-12-25  Dmitry Xmelkov  <dmix@gmail.ru>
-
-	Fix for bug #34514: misspelled in math.h
-	Thanks to Naotaka Fujita.
-	* include/math.h: Fix typo in documentation.
-	* NEWS: Add to fixed bug list.
-
-2011-12-24  Dmitry Xmelkov  <dmix@gmail.ru>
-
-	Fix for bug #35093. Thanks to Eric Mertens for the patch.
-	* libc/pmstring/strlcat_P.S: Fix X pointer decriment.
-	* libc/string/strlcat.S: Fix X pointer decriment.
-	* tests/regression/bug-35093.c: New file.
-	* NEWS: Add to fixed bug list.
-
-2011-12-09  Joerg Wunsch <j.gnu@uriah.heep.sax.de>
-
-	bug #35020: stdint.h: signed types need explicit "signed"
-	* include/stdint.h: explicitly declare int*_t types as signed
-
-2011-11-02  Eric B. Weddington  <eric.weddington@atmel.com>
-
-	* include/avr/iox64a1.h (enum TC_EVACT_enum): Fix typo in enum list.
-	Compared to iox128a1.h. Thanks to Francois Costin for the fix.
-
-2011-10-19  Joerg Wunsch <j.gnu@uriah.heep.sax.de>
-
-	* doc/api/faq.dox (faq_assign_chain): Add paragraph about avoiding
-	IO register assignment chains.
-
-2011-10-13  Joerg Wunsch <j.gnu@uriah.heep.sax.de>
-
-	* doc/api/faq.dox (faq_eeprom_corruption): Remove the remarks about
-	the EEPROM being erased pagewise, as they are not true.
-
-2011-09-26  Eric B. Weddington <eric.weddington@atmel.com>
-
-	Partial fix for bug #33716.
-	* include/avr/pgmspace.h: Deprecate typedefs with __progmem__ attribute.
-	Document as such.
-
-2011-09-26  Eric B. Weddington <eric.weddington@atmel.com>
-
-	Fix for bug #33858.
-	* include/avr/power.h: Add condition for _AVR_ATmega328_.
-	* NEWS: Add to fixed bug list.
-
-2011-09-26  Eric B. Weddington <eric.weddington@atmel.com>
-
-	Fix for bug #33920.
-	* include/avr/iotn167.h (ICR): Define ICR to be a word register.
+	Fix for bug #37778: _MemoryBarrier() in cpufunc.h error on compile
+	* include/avr/cpufunc.h: Place empty string for asm body. This is
+	needed for older GCC versions.
+	* tests/simulate/regression/bug-37778.c: New file.
 	* NEWS: Add to fixed bug list.
 
-2011-09-22  Joerg Wunsch <j.gnu@uriah.heep.sax.de>
-
-	* configure.ac (avr_libc_revision, avr_libc_reldate): Bump in
-	preparation of an 1.7.2rc.
-	* configure.ac (avr_libc_revision_suffix): New macro.
-
-2011-09-14  Joerg Wunsch <j.gnu@uriah.heep.sax.de>
-
-	bug #34047: missing math.h include in delay.h
-	* util/delay.h.in: include <math.h>
-
-2011-09-14  Joerg Wunsch <j.gnu@uriah.heep.sax.de>
-
-	* util/delay.h.in: Fall back to the historic algorithm when
-	compiling within a freestanding environment.
-
-2011-05-23  Joerg Wunsch <j.gnu@uriah.heep.sax.de>
-
-	Reported by Heike C. Zimmerer:
-	patch #7362: iom16a.h: USART vectors inconsistently named
-	for ATmega16A
-	* include/avr/iom16a.h: Add backwards-compatible USART
-	interrupt vector names.
-
-2011-05-23  Joerg Wunsch <j.gnu@uriah.heep.sax.de>
-
-	Reported by Palauqui Georges:
-	patch #7531: Bad name of bit in TCCR0A : WGM0 instead of CTC0
-	for ATtinyX61
-	* include/avr/iotnx61.h: Add new name CTC0 for bit 0 of
-	TCCR0A.
-
-2011-05-14  Joerg Wunsch <j.gnu@uriah.heep.sax.de>
-
-	Reported by Markus Lampert:
-	* include/avr/iousbxx2.h: Add new names for CLKSTA, CLKSEL0,
-	CLKSEL1 (old names have been without the `L').
-
-2011-05-12  Eric B. Weddington  <eric.weddington@atmel.com>
-
-	Patch #7226. Thanks to Avik Juneja for the patch.
-	* include/avr/iom8u2.h: Add UPOE register definition and bits.
-	* include/avr/power.h: Add ATmega8u2-16u2-32u2 devices in conditional.
-	* NEWS: Add to contributed patches list.
-
-2011-05-11  Eric B. Weddington  <eric.weddington@atmel.com>
-
-	Fix for bug #33130. Thanks to Antoine Mercier-Linteau for the patch.
-	* doc/examples/twitest/twitest.c: Check for reception of NAK.
-
-2011-05-11  Eric B. Weddington  <eric.weddington@atmel.com>
-
-	Fix for bug #32650.
-	* include/util/delay.h.in: Add math.h to list of includes.
-	* NEWS: Add to fixed bug list.
-
-2011-05-11  Eric B. Weddington  <eric.weddington@atmel.com>
-
-	Fix for bug #32675.
-	* include/avr/power.h: Add TIM1 to power_all_enable() and
-	power_all_disable().
-	* NEWS: Add to fixed bug list.
-
-2011-05-11  Joerg Wunsch <j.gnu@uriah.heep.sax.de>
-
-	* include/avr/pgmspace.h: Reorder so __strlen_P is declared by
-	the time it is attempted to be used.
-	* libc/stdlib/dtostre.c: Part #2 of fix for bug #32988: make
-	`s' a `const char *' as it is pointing to a constant (flash)
-	string.
-
-2011-05-09  Eric B. Weddington  <eric.weddington@atmel.com>
-
-	Fix for bug #32988.
-	* include/avr/pgmspace.h: Add const keyword to PSTR definition.
-	* NEWS: Add to fixed bug list.
-
-2011-05-09  Eric B. Weddington  <eric.weddington@atmel.com>
-
-	Fix for bug #33230.
-	* include/avr/sleep.h: Move conditionals for devices attiny261,
-	attiny261a, attiny461, attiny461a, attiny861, attiny861a to
-	correct location.
-	* NEWS: Add to fixed bug list.
-
-2011-05-09  Eric B. Weddington  <eric.weddington@atmel.com>
-
-	Fix for bug #33238.
-	* include/avr/iom8u2.h: Fix _VECTORS_SIZE value.
-	* include/avr/iom16u2.h: Same.
-	* include/avr/iom32u2.h: Same.
-	* NEWS: Add to fixed bug list.
-
-2011-03-17  Eric B. Weddington  <eric.weddington@atmel.com>
-
-	* include/avr/iotn11.h: Poison deprecated items.
-	* include/avr/iotn12.h: Same.
-	* include/avr/iotn13.h: Same.
-	* include/avr/iotn15.h: Same.
-	* include/avr/iotn22.h: Same.
-	* include/avr/iotn2313.h: Same. Also: remove duplicate definitions.
-	* include/avr/iotn26.h: Same.
-	* include/avr/iotn28.h: Same.
-
-2011-03-16  Eric B. Weddington  <eric.weddington@atmel.com>
-
-	* include/avr/iom3290.h: Poison deprecated items.
-	* include/avr/iom32m1.h: Same.
-	* include/avr/iom64.h: Same.
-	* include/avr/iom645.h: Same.
-	* include/avr/iom6450.h: Same.
-	* include/avr/iom649.h: Same.
-	* include/avr/iom8.h: Same.
-	* include/avr/iom8515.h: Same.
-	* include/avr/iom8535.h: Same.
-	* include/avr/iomx8.h: Same.
-	* include/avr/iomxx4.h: Same.
-	* include/avr/iomxx0_1: Same. Also add missing vector number
-	definitions.
-
-2011-03-15  Eric B. Weddington  <eric.weddington@atmel.com>
-
-	* include/avr/iom323.h: Poison deprecated items.
-	* include/avr/iom325.h: Same.
-	* include/avr/iom3250.h: Same.
-	* include/avr/iom329.h: Same.
-
-2011-03-08  Eric B. Weddington  <eric.weddington@atmel.com>
-
-	* include/avr/iom32.h: Poison deprecated items.
-
-2011-03-08  Anitha Boyapati <anitha.boyapati@atmel.com>
-
-	Fix for bug #32698.
-	* include/avr/power.h: Fix #endif error for Xmega A series.
-
-2011-03-06  Eric B. Weddington  <eric.weddington@atmel.com>
-
-	* include/avr/iom163.h: Poison deprecated items.
-	* include/avr/iom165.h: Same.
-	* include/avr/iom165p.h: Same.
-	* include/avr/iom169.h: Same.
-	* include/avr/iom169p.h: Same.
-
-2011-03-05  Eric B. Weddington  <eric.weddington@atmel.com>
-
-	* include/avr/iom162.h: Poison deprecated items.
-
-2011-03-05  Eric B. Weddington  <eric.weddington@atmel.com>
-
-	* include/avr/iom161.h: Poison deprecated items.
-
-2011-03-05  Eric B. Weddington  <eric.weddington@atmel.com>
-
-	* include/avr/iom16.h: Poison deprecated items.
-
-2011-03-04  Eric B. Weddington  <eric.weddington@atmel.com>
-
-	* include/avr/iom103.h: Poison deprecated items.
-
-2011-03-04  Eric B. Weddington  <eric.weddington@atmel.com>
-
-	* include/avr/iom128.h: Poison deprecated items.
-
-2011-03-02  Eric B. Weddington  <eric.weddington@atmel.com>
-
-	Fix for bug #23234.
-	* include/avr/iousbxx2.h: Add *_vect_num definitions.
-	* include/avr/iousbxx6_7.h: Same.
-	* include/avr/iotnx61.h: Same.
-	* include/avr/iotn43u.h: Same.
-	* include/avr/iotn48.h: Same.
-	* include/avr/iotn88.h: Same.
-	* include/avr/iotnx4.h: Same.
-	* include/avr/iotnx5.h: Same.
-	* include/avr/iotn28.h: Same.
-	* include/avr/iotn26.h: Same.
-	* include/avr/iotn11.h: Same.
-	* include/avr/iotn12.h: Same.
-	* include/avr/iotn13.h: Same.
-	* include/avr/iotn15.h: Same.
-	* include/avr/iotn167.h: Same.
-	* include/avr/iotn22.h: Same.
-	* include/avr/iotn2313.h: Same.
-	* include/avr/iom103.h: Same.
-	* include/avr/iom128.h: Same.
-	* include/avr/iom1284.h: Same.
-	* include/avr/iom16.h: Same.
-	* include/avr/iom161.h: Same.
-	* include/avr/iom162.h: Same.
-	* include/avr/iom163.h: Same.
-	* include/avr/iomxxhva.h: Same.
-	* include/avr/iomxx4.h: Same.
-	* include/avr/iomxx0_1.h: Same.
-	* include/avr/iomx8.h: Same.
-	* include/avr/iom88p.h: Same.
-	* include/avr/iom8535.h: Same.
-	* include/avr/iom8515.h: Same.
-	* include/avr/iom165.h: Same.
-	* include/avr/iom8.h: Same.
-	* include/avr/iom6490.h: Same.
-	* include/avr/iom165p.h: Same.
-	* include/avr/iom649.h: Same.
-	* include/avr/iom168p.h: Same.
-	* include/avr/iom169.h: Same.
-	* include/avr/iom169p.h: Same.
-	* include/avr/iom32.h: Same.
-	* include/avr/iom323.h: Same.
-	* include/avr/iom325.h: Same.
-	* include/avr/iom3250.h: Same.
-	* include/avr/iom328p.h: Same.
-	* include/avr/iom329.h: Same.
-	* include/avr/iom3290.h: Same.
-	* include/avr/iom32hvbrevb.h: Same.
-	* include/avr/iom32u4.h: Same.
-	* include/avr/iom406.h: Same.
-	* include/avr/iom48p.h: Same.
-	* include/avr/iom64.h: Same.
-	* include/avr/iom645.h: Same.
-	* include/avr/iom6450.h: Same.
-	* include/avr/iocanxx.h: Same.
-	* include/avr/io90pwm1.h: Same.
-	* include/avr/io90pwm216.h: Same.
-	* include/avr/io1200.h: Same.
-	* include/avr/io2343.h: Same.
-	* include/avr/io2323.h: Same.
-	* include/avr/io86r401.h: Same.
-	* include/avr/io2313.h: Same.
-	* include/avr/io2333.h: Same.
-	* include/avr/io4434.h: Same.
-	* include/avr/io4433.h: Same.
-	* include/avr/io4414.h: Same.
-	* include/avr/io8535.h: Same.
-	* include/avr/io8515.h: Same.
-	* include/avr/io90pwmx.h: Same.
-	* include/avr/io90pwm3b.h: Same.
-	* include/avr/io90pwm316.h: Same.
-	* include/avr/io90pwm2b.h: Same.
-	* include/avr/iom16hvbrevb: Also, update copyright year, change device name
-	(rev b version is the older version).
-	* include/avr/iom32hvbrevb: Same.
-	* NEWS: Add item.
-
-2011-02-23  Eric B. Weddington  <eric.weddington@atmel.com>
-
-	Partial fix for bug #28058, comment #2.
-	Thanks to Jan Waclawek for the code.
-	* include/avr/pgmspace.h: Add new strlen_P inline function.
-	* libc/pmstring/strlen_P.S: Rename function to __strlen_P.
-	* NEWS: Add item.
-
-2011-02-23  Eric B. Weddington  <eric.weddington@atmel.com>
-
-	Fix for bug #17815.
-	* doc/api/Makefile.am (install-dox-man): Rewrite to fix install
-	location to use mandir configuration option.
-	* NEWS: Add item to fixed bugs list.
-
-2011-02-22  Eric B. Weddington  <eric.weddington@atmel.com>
-
-	* doc/api/tools-install.dox: Partial documentation changes
-	for building avr-libc for MinGW/Windows.
-
-2011-02-22  Eric B. Weddington  <eric.weddington@atmel.com>
-
-	Fix for bug #24861.
-	* include/avr/interrupt.h: Remove extra code blocks in documentation.
-	Fix spacing.
-	* NEWS: Add item to fixed bugs list.
-
-2011-02-21  Eric B. Weddington  <eric.weddington@atmel.com>
-
-	Fix for bug #32103. Thanks to Thomas Rudin for fix.
-	* configure.ac: Fix wildcards in searching for cross tools.
-	* NEWS: Add item to fixed bugs list.
-
-2011-02-21  Eric B. Weddington  <eric.weddington@atmel.com>
-
-	Fix for bug #32419.
-	* include/avr/iox192a3.h (*EEPROM_SIZE): Fix values.
-	* NEWS: Add item to fixed bugs list.
-
-2011-02-16  Joerg Wunsch <j.gnu@uriah.heep.sax.de>
-
-	* configure.ac: Bump for post-release.
-
-2011-02-16  Joerg Wunsch <j.gnu@uriah.heep.sax.de>
-
-	Released avr-libc-1.7.1.
-
-2011-02-16  Anitha Boyapati <anitha.boyapati@atmel.com>
-
-	* include/avr/power.h: Changes to power_all_enable()/disable() for 
-	Xmega A and D family
-
-2011-02-14  Anitha Boyapati <anitha.boyapati@atmel.com>
-
-	Thanks to Praveen Kaushik <Praveen_Kumar.Kaushi@atmel.com> for the device
-	support.
-	* configure.ac: Support for ATMega16HVB RevB, ATMega32HVB RevB.
-	* devtools/gen-avr-lib-tree.sh: Same.
-	* doc/api/main_page.dox: Same.
-	* doc/api/using-tools.dox: Same.
-	* include/avr/eeprom.h: Same.
-	* include/avr/io.h: Same.
-	* include/avr/iom16hvb.h: Header file regenerated.
-	* include/avr/iom16hvbrevb.h: Added newly.
-	* include/avr/iom32hvb.h: Header file regenerated.
-	* include/avr/iom32hvbrevb.h: Added newly.
-	* include/avr/Makefile.am: Support for atmega16HVB RevB, 
-	ATMega32HVB RevB.
-	* include/avr/power.h: Same.
-	* include/avr/sleep.h: Same.
-	* include/avr/wdt.h: Same.
-
-2011-02-14  Anitha Boyapati <anitha.boyapati@atmel.com>
-
-	Thanks to Usha Gupta <usha.gupta@atmel.com> for the device
-	support.
-	* include/avr/io.h: Support for AVR Tiny84a
-	* include/avr/iotn84a.h: Same.
-	* include/avr/Makefile.am: Same.
-
-2011-02-14  Anitha Boyapati <anitha.boyapati@atmel.com>
-
-	Fix for #bug31873
-	* include/avr/power.h: Modifications to power_aes_enable/disable() 
-    power_all_enable/disable() functions for Xmega devices. 
-
-2011-02-11  Anitha Boyapati <anitha.boyapati@atmel.com>
-
-	Thanks to Praveen Kaushik <Praveen_Kumar.Kaushi@atmel.com> for
-	the fix for #bug31990.
-	* include/avr/io90pwm81.h: PRPSC0 is renamed to PRPSCR in sync 
-	with device XML file.
-	* include/avr/power.h:	power_psc0_enable()/disable() have been 
-	renamed to power_pscr_enable()/disable(). Documentation changes
-	to include PWM81 are also done.
-
-
+2013-01-10  Joerg Wunsch <j.gnu@uriah.heep.sax.de>
 
-2011-02-09  Joerg Wunsch <j.gnu@uriah.heep.sax.de>
+	Submitted by Senthil Kumar Selvaraj:
+	* include/avr/Makefile.am (avr_HEADERS): add xmega.h
 
-	* include/avr/iom8x.h (_VECTORS_SIZE): fix wrong vector table size
-	for ATmega168A devices.
diff --git a/ChangeLog-2010 b/ChangeLog-2010
new file mode 100644
index 0000000..13b1b42
--- /dev/null
+++ b/ChangeLog-2010
@@ -0,0 +1,864 @@
+2010-12-16  Eric B. Weddington  <eric.weddington@atmel.com>
+
+    Fix for bug #31270.
+    * doc/examples/twitest/twitest.dox: Fix stale document link.
+    * NEWS: Add to fixed bug list.
+
+2010-12-16  Eric B. Weddington  <eric.weddington@atmel.com>
+
+    Fix for bug #29235.
+    * include/avr/power.h: Rearrange commas to be -pedantic safe.
+    * NEWS: Add to fixed bug list.
+
+2010-12-13  Eric B. Weddington  <eric.weddington@atmel.com>
+
+    Fix for Atmel bug #12314.
+    * include/avr/iox192a3.h: Fix field names and macro names.
+    * include/avr/iox128a3.h: Same.
+    * include/avr/iox128a1.h: Same.
+    * include/avr/iox64a3.h: Same.
+    * include/avr/iox64a1.h: Same.
+    * include/avr/iox32d4.h: Same.
+    * include/avr/iox32a4.h: Same.
+    * include/avr/iox16d4.h: Same.
+    * include/avr/iox16a4.h: Same.
+    * include/avr/iox256a3b.h: Same.
+    * include/avr/iox256a3.h: Same.
+    * NEWS: Add to fixed bug list.
+
+2010-12-13  Eric B. Weddington  <eric.weddington@atmel.com>
+
+    Fix for Atmel bug #11793.
+    * include/avr/iox32a4.h: Fix 4086 to 4096.
+    * include/avr/iox16a4.h: Same.
+    * include/avr/iox256a3b.h: Same.
+    * include/avr/iox256a3.h: Same.
+    * include/avr/iox192a3.h: Same.
+    * include/avr/iox128a3.h: Same.
+    * include/avr/iox128a1.h: Same.
+    * include/avr/iox64a3.h: Same.
+    * include/avr/iox64a1.h: Same.
+    * NEWS: Add to fixed bug list.
+
+2010-11-24  Eric B. Weddington  <eric.weddington@atmel.com>
+
+    * doc/api/main_page.dox: Add blank line to fix indentation in HTML docs.
+
+2010-11-24  Joerg Wunsch <j.gnu@uriah.heep.sax.de>
+
+	Workaround for LaTeX build error after upgrading doxygen to
+	version 1.7.x
+	* doc/api/Makefile.am: replace the \renewcommand for
+	\cftchapfont and \cftchappagefont, respectively, by a
+	\newcommand.
+
+2010-11-23  Eric B. Weddington  <eric.weddington@atmel.com>
+
+    * doc/api/rel-method.dox: Escape all instances of @svn to silence
+    doxygen warnings.
+
+2010-11-22  Eric B. Weddington  <eric.weddington@atmel.com>
+
+    * configure.ac: Fix 2.64 cross compile detection for AVR by not trying to
+    compile fopen. This fix came from Newlib's config/override.m4. For some
+    reason autoconf 2.64 (and possibly above) puts in a check for the compiler
+    output file extension and creates a test program that has the fopen
+    function. Of course, this fails when avr-gcc is used to compile the test
+    program.
+
+2010-11-16  Eric B. Weddington  <eric.weddington@atmel.com>
+
+	Fix Atmel bug #12536.
+	* include/avr/iox64d3.h: Remove CALCTRL definitions.
+	* include/avr/iox64a3.h: Same.
+	* include/avr/iox64a1.h: Same.
+	* include/avr/iox32d4.h: Same.
+	* include/avr/iox32a4.h: Same.
+	* include/avr/iox256a3b.h: Same.
+	* include/avr/iox256a3.h: Same.
+	* include/avr/iox192d3.h: Same.
+	* include/avr/iox192a3.h: Same.
+	* include/avr/iox16d4.h: Same.
+	* include/avr/iox16a4.h: Same.
+	* include/avr/iox128d3.h: Same.
+	* include/avr/iox128a3.h: Same.
+	* include/avr/iox128a1.h: Same.
+	* NEWS: Add to fixed bugs list.
+
+2010-11-08  Eric B. Weddington  <eric.weddington@atmel.com>
+
+	* include/avr/iom3000.h: Fix typo.
+
+2010-11-08  Eric B. Weddington  <eric.weddington@atmel.com>
+
+	* include/avr/iom169pa.h: Rename UBRR0* definitions to remove a duplicate.
+	* libc/pmstring/strcasecmp_PF.S: Fix warning at end of file.
+	* include/avr/iom16hva2.h: Fix SPI interrupt vector names.
+	* include/avr/iom3000.h: Comment out duplicate definitions.
+
+2010-11-05  Eric B. Weddington  <eric.weddington@atmel.com>
+
+	* common/asmdef.h: Add conditional compilation to not compile for
+	ATiny10 family.
+	* common/ctoasm.inc: Same.
+	* libc/misc/eeupd_byte.S: Same.
+	* libc/misc/itoa.S: Same.
+	* libc/misc/utoa.S: Same.
+	* libc/pmstring/memchr_P.S: Same.
+	* libc/pmstring/memcmp_P.S: Same.
+	* libc/pmstring/memcmp_PF.S: Same.
+	* libc/pmstring/memcpy_P.S: Same.
+	* libc/pmstring/memcpy_PF.S: Same.
+	* libc/pmstring/memrchr_P.S: Same.
+	* libc/pmstring/strcasecmp_P.S: Same.
+	* libc/pmstring/strcasecmp_PF.S: Same.
+	* libc/pmstring/strcat_P.S: Same.
+	* libc/pmstring/strcat_PF.S: Same.
+	* libc/pmstring/strchr_P.S: Same.
+	* libc/pmstring/strchrnul_P.S: Same.
+	* libc/pmstring/strcmp_P.S: Same.
+	* libc/pmstring/strcmp_PF.S: Same.
+	* libc/pmstring/strcpy_P.S: Same.
+	* libc/pmstring/strcpy_PF.S: Same.
+	* libc/pmstring/strcspn_P.S: Same.
+	* libc/pmstring/strlcat_P.S: Same.
+	* libc/pmstring/strlcat_PF.S: Same.
+	* libc/pmstring/strlcpy_P.S: Same.
+	* libc/pmstring/strlcpy_PF.S: Same.
+	* libc/pmstring/strlen_P.S: Same.
+	* libc/pmstring/strlen_PF.S: Same.
+	* libc/pmstring/strncasecmp_P.S: Same.
+	* libc/pmstring/strncasecmp_PF.S: Same.
+	* libc/pmstring/strncat_P.S: Same.
+	* libc/pmstring/strncat_PF.S: Same.
+	* libc/pmstring/strncmp_P.S: Same.
+	* libc/pmstring/strncmp_PF.S: Same.
+	* libc/pmstring/strncpy_P.S: Same.
+	* libc/pmstring/strncpy_PF.S: Same.
+	* libc/pmstring/strnlen_P.S: Same.
+	* libc/pmstring/strnlen_PF.S: Same.
+	* libc/pmstring/strpbrk_P.S: Same.
+	* libc/pmstring/strrchr_P.S: Same.
+	* libc/pmstring/strsep_P.S: Same.
+	* libc/pmstring/strspn_P.S: Same.
+	* libc/pmstring/strstr_P.S: Same.
+	* libc/pmstring/strstr_PF.S: Same.
+	* libc/pmstring/strtok_P.c: Same.
+	* libc/pmstring/strtok_rP.S: Same.
+	* libc/stdio/fputs_p.c: Same.
+	* libc/stdio/puts_p.c: Same.
+	* libc/stdio/ultoa_invert.S: Same.
+	* libc/stdio/vfprintf.c: Same.
+	* libc/stdio/vfscanf.c: Same.
+	* libc/stdlib/ftoa_engine.S: Same.
+	* libc/stdlib/setjmp.S: Same.
+	* libc/stdlib/strtod.c: Same.
+	* libc/string/ffsll.S: Same.
+	* libc/string/memccpy.S: Same.
+	* libc/string/memchr.S: Same.
+	* libc/string/memmem.S: Same.
+	* libc/string/memrchr.S: Same.
+	* libc/string/strcasestr.S: Same.
+	* libc/string/strcat.S: Same.
+	* libc/string/strchr.S: Same.
+	* libc/string/strchrnul.S: Same.
+	* libc/string/strcspn.S: Same.
+	* libc/string/strlcpy.S: Same.
+	* libc/string/strncat.S: Same.
+	* libc/string/strpbrk.S: Same.
+	* libc/string/strrchr.S: Same.
+	* libc/string/strrev.S: Same.
+	* libc/string/strsep.S: Same.
+	* libc/string/strspn.S: Same.
+	* libc/string/strstr.S: Same.
+	* libc/string/strtok_r.S: Same.
+	* libm/fplib/acos.S: Same.
+	* libm/fplib/addsf3x.S: Same.
+	* libm/fplib/asin.S: Same.
+	* libm/fplib/atan.S: Same.
+	* libm/fplib/atan2.S: Same.
+	* libm/fplib/cbrt.S: Same.
+	* libm/fplib/ceil.S: Same.
+	* libm/fplib/divsf3x.S: Same.
+	* libm/fplib/exp.S: Same.
+	* libm/fplib/fdim.S: Same.
+	* libm/fplib/fixsfsi.S: Same.
+	* libm/fplib/floatsisf.S: Same.
+	* libm/fplib/floatundisf.S: Same.
+	* libm/fplib/floor.S: Same.
+	* libm/fplib/fma.S: Same.
+	* libm/fplib/fmax.S: Same.
+	* libm/fplib/fmin.S: Same.
+	* libm/fplib/fmod.S: Same.
+	* libm/fplib/fp_cmp.S: Same.
+	* libm/fplib/fp_mpack.S: Same.
+	* libm/fplib/fp_powser.S: Same.
+	* libm/fplib/fp_pscA.S: Same.
+	* libm/fplib/fp_pscB.S: Same.
+	* libm/fplib/fp_round.S: Same.
+	* libm/fplib/fp_sinus.S: Same.
+	* libm/fplib/fp_split3.S: Same.
+	* libm/fplib/fp_trunc.S: Same.
+	* libm/fplib/frexp.S: Same.
+	* libm/fplib/isinf.S: Same.
+	* libm/fplib/ldexp.S: Same.
+	* libm/fplib/log.S: Same.
+	* libm/fplib/lrint.S: Same.
+	* libm/fplib/lround.S: Same.
+	* libm/fplib/modf.S: Same.
+	* libm/fplib/mulsf3x.S: Same.
+	* libm/fplib/pow.S: Same.
+	* libm/fplib/round.S: Same.
+	* libm/fplib/sin.S: Same.
+	* libm/fplib/sinh.S: Same.
+	* libm/fplib/sqrt.S: Same.
+	* libm/fplib/tanh.S: Same.
+
+2010-10-26  Anitha Boyapati  <anitha.boyapati@atmel.com>
+
+	Thanks to Eric Weddington for the patch.
+	* common/macros.inc: __tmp_reg__ and __zero_reg__
+	redefined for tiny target.
+	* include/avr/iom3000.h: Define _VECTORS_SIZE.
+
+2010-10-13  Anitha Boyapati  <anitha.boyapati@atmel.com>
+
+	* include/util/delay.h.in: Functions _delay_ms and 
+	_delay_us are modified. They now calculate new _ticks
+	value when builtin_avr_delay_cycle() is used. Macros
+	__DELAY_ROUND_DOWN__, __DELAY_ROUND_CLOSEST__ control
+	round up/closest of _ticks. __DELAY_BACKWARD_COMPATIBLE__
+	macro enables backward compatibility. This macro will be
+	deprecated.
+
+2010-09-28  Anitha Boyapati  <anitha.boyapati@atmel.com>
+
+	* include/avr/iotn88.h: Fix RAMEND.
+
+2010-09-22  Anitha Boyapati  <anitha.boyapati@atmel.com>
+
+	* doc/examples/twitest/twitest.c: Fix endaddr calculation
+	in ee24xx_write_page function.
+
+2010-09-22  Anitha Boyapati  <anitha.boyapati@atmel.com>
+
+	* doc/examples/stdiodemo/defines.h: Modify comment
+
+2010-09-22  Anitha Boyapati  <anitha.boyapati@atmel.com>
+
+	Fix for bugs #30552 and #30569. 
+	Thanks to Frederic Nadeau for the patch.
+	* include/avr/iom16u4.h: Modify ADCTS3 to 3.
+	* include/avr/iom32u4.h: Add definition for ADCW.
+	Add__ASSEMBLER__ macro for ADC.
+	Modify ADCTS3 to 3
+	* include/avr/iotn43u.h: Add definition for ADCW.
+	Add__ASSEMBLER__ macro for ADC.
+
+2010-09-21  Anitha Boyapati  <anitha.boyapati@atmel.com>
+
+	* include/avr/io90pwm2b.h: Modified SPM_PAGESIZE to 64 bytes.
+	* include/avr/io90pwm3b.h: Same.
+
+2010-09-20  Anitha Boyapati  <anitha.boyapati@atmel.com>
+
+	* include/iom16m1.h: Add definitions for CANSIT, CANIDT and
+	CANIDM.
+	* include/iom32m1.h: Same.
+	* include/iom64m1.h: Same.
+	* include/iom32c1.h: Same.
+	* include/iom64c1.h: Same.
+
+2010-09-20  Anitha Boyapati  <anitha.boyapati@atmel.com>
+
+	* include/avr/wdt.h: Add definitions for ATmega325P and
+	ATmega3250P
+
+2010-08-22  Eric B. Weddington  <eric.weddington@atmel.com>
+
+	Atmel internal issue.
+	* include/avr/iotn87.h (BODS, BODSE): Fix value.
+	* include/avr/iotn167.h (BODS, BODSE): Same.
+
+2010-08-16  Joerg Wunsch <j.gnu@uriah.heep.sax.de>
+
+	Submitted by Andr'e:
+	bug #30783 Missing prototype in power.h
+	* include/avr/power.h: Add prototype for clock_prescale_set()
+	for the second block (prescaler reachable by IN/OUT
+	instructions).
+
+2010-06-24  Eric B. Weddington  <eric.weddington@atmel.com>
+
+	* include/avr/Makefile.am (avr_HEADERS): Add iom3000.h.
+
+2010-06-16  Joerg Wunsch <j.gnu@uriah.heep.sax.de>
+
+	* configure.ac: Bump version to 1.7.1, after releasing.
+
+2010-06-16  Joerg Wunsch <j.gnu@uriah.heep.sax.de>
+
+	Released avr-libc-1.7.0.
+
+2010-06-16  Joerg Wunsch <j.gnu@uriah.heep.sax.de>
+
+	* configure.ac: Bump version date in preparation for releasing
+	avr-libc 1.7.0.
+
+2010-06-15  Eric B. Weddington  <eric.weddington@atmel.com>
+
+	Fix bug #30148.
+	* include/avr/iox128a1.h: Rename HIRES.CTRL to HIRES.CTRLA.
+	* NEWS: Add to fixed bug list.
+
+2010-06-15  Eric B. Weddington  <eric.weddington@atmel.com>
+
+	* configure.ac: Change ATxemga32A4 from avrxmega3 to avrxmega2.
+	* devtools/gen-avr-lib-tree.sh: Same.
+	* doc/api/using-tools.dox: Same.
+
+2010-06-14  Eric B. Weddington  <eric.weddington@atmel.com>
+
+	* LICENSE: Update copyright year.
+
+2010-06-14  Eric B. Weddington  <eric.weddington@atmel.com>
+
+	* include/avr/pgmspace.h: Remove new features regarding new segments.
+	Feature not yet ready. Correct comment.
+
+2010-06-13  Joerg Wunsch <j.gnu@uriah.heep.sax.de>
+
+	* include/avr/pgmspace.h: Remove the #error for architectures that
+	don't support segmented progmem access.
+
+2010-06-12  Eric B. Weddington  <eric.weddington@atmel.com>
+
+	Special thanks to Carlos Lamas and Jan Waclawek for contributing
+	code in patch #6352 (that should've gotten in a long time ago).
+	* libc/pmstring/Files.am: Add new files to list.
+	* libc/pmstring/memcmp_PF.S: New file.
+	* libc/pmstring/memcpy_PF.S: Same.
+	* libc/pmstring/strcasecmp_PF.S: Same.
+	* libc/pmstring/strcat_PF.S: Same.
+	* libc/pmstring/strcmp_PF.S: Same.
+	* libc/pmstring/strcpy_PF.S: Same.
+	* libc/pmstring/strlcat_PF.S: Same.
+	* libc/pmstring/strlcpy_PF.S: Same.
+	* libc/pmstring/strlen_PF.S: Same.
+	* libc/pmstring/strncasecmp_PF.S: Same.
+	* libc/pmstring/strncat_PF.S: Same.
+	* libc/pmstring/strncmp_PF.S: Same.
+	* libc/pmstring/strncpy_PF.S: Same.
+	* libc/pmstring/strnlen_PF.S: Same.
+	* libc/pmstring/strstr_PF.S: Same.
+	* include/avr/pgmspace.h: Add support for far program memory
+	functions and macros.
+	* NEWS: Add news items.
+
+2010-06-11  Eric B. Weddington  <eric.weddington@atmel.com>
+
+	Atmel bug #11742.
+	* include/avr/iox128a1u.h: Change EBI_CS_ASPACE* to
+	EBI_CS_ASIZE*.
+	* include/avr/iox128a1.h: Same.
+	* include/avr/iox128a3.h: Same.
+	* include/avr/iox128d3.h: Same.
+	* include/avr/iox16a4.h: Same.
+	* include/avr/iox16d4.h: Same.
+	* include/avr/iox192a3.h: Same.
+	* include/avr/iox192d3.h: Same.
+	* include/avr/iox256a3.h: Same.
+	* include/avr/iox256a3b.h: Same.
+	* include/avr/iox256d3.h: Same.
+	* include/avr/iox32a4.h: Same.
+	* include/avr/iox32d4.h: Same.
+	* include/avr/iox64a1.h: Same.
+	* include/avr/iox64a1u.h: Same.
+	* include/avr/iox64a3.h: Same.
+	* include/avr/iox64d3.h: Same.
+
+2010-06-11  Eric B. Weddington  <eric.weddington@atmel.com>
+
+	Atmel bug #11738.
+	* include/avr/iox128d3.h (ADC_FLUSH_bm, ADC_ENABLE_bp): Add missing
+	definitions.
+	* include/avr/iox16d4.h: Same.
+	* include/avr/iox192d3.h: Same.
+	* include/avr/iox32d4.h: Same.
+	* include/avr/iox64d3.h: Same.
+
+2010-06-10  Joerg Wunsch <j.gnu@uriah.heep.sax.de>
+
+	bug #30104: power.h - Missing "power_usart1_/enable/disable()"
+	functions for ATmega644
+	* include/avr/power.h: Fix macros for ATmega644A/P/PA
+
+2010-06-10  Joerg Wunsch <j.gnu@uriah.heep.sax.de>
+
+	Submitted by Jan Waclawek:
+	Document issues around compiler optimizations and code reordering
+	* doc/api/optimize.dox: New file.
+	* doc/api/doxygen.config.in: Add optimize.dox.
+	* include/avr/cpufunc.h (_MemoryBarrier): xref to optim_code_reorder
+	* include/avr/interrupt.h: (Ditto.)
+	* include/util/atomic.h: (Ditto.)
+
+2010-06-10  Joerg Wunsch <j.gnu@uriah.heep.sax.de>
+
+	* doc/api/rel-method.dox: Adapt to our new release numbering scheme.
+
+2010-06-10  Joerg Wunsch <j.gnu@uriah.heep.sax.de>
+
+	* tests/simulate/avr/eeprom-1.c: Remove the old AT90S2313 simulator
+	bug workaround, as the workaround doesn't work anymore now while the
+	original code does.
+
+2010-06-09  Eric B. Weddington  <eric.weddington@atmel.com>
+
+	Fix for bug #26767.
+	* include/avr/iox256a3b.h: Added corrected names for GPIO registers.
+	* include/avr/iox128a1.h: Same.
+	* include/avr/iox128a3.h: Same.
+	* include/avr/iox16a4.h: Same.
+	* include/avr/iox16d4.h: Same.
+	* include/avr/iox192a3.h: Same.
+	* include/avr/iox256a3.h: Same.
+	* include/avr/iox32a4.h: Same.
+	* include/avr/iox64a1.h: Same.
+	* include/avr/iox64a3.h: Same.
+
+2010-06-09  Eric B. Weddington  <eric.weddington@atmel.com>
+
+	Fix for bug #28582.
+	* include/avr/iox256a3b.h: Add 3 missing double-word registers.
+	* NEWS: Add to fixed bugs list.
+
+2010-06-09  Eric B. Weddington  <eric.weddington@atmel.com>
+
+	Fix for bug #29502.
+	* include/avr/iox128a1.h (TC_EVACT_FRW_gc): Fix name to TC_EVACT_FRQ_gc.
+	* NEWS: Add to fixed bugs list.
+
+2010-06-09  Eric B. Weddington  <eric.weddington@atmel.com>
+
+	Fix for bug #29653.
+	* include/avr/iousbxx2.h (PUD): Add bit definition.
+	* NEWS: Add to fixed bugs list.
+
+2010-06-09  Joerg Wunsch <j.gnu@uriah.heep.sax.de>
+
+	Move some testscripts around.
+	* tests/simulate/other/malloc-01.c -> tests/simulate/stdlib/malloc-8.c
+	* tests/simulate/other/realloc-01.c -> tests/simulate/stdlib/realloc-3.c
+
+2010-06-09  Joerg Wunsch <j.gnu@uriah.heep.sax.de>
+
+	* libc/stdlib/malloc.c: Fix a bug introduced in r2131 that could
+	cause the freelist to be discarded.
+
+2010-06-09  Joerg Wunsch <j.gnu@uriah.heep.sax.de>
+
+	* tests/simulate/other/realloc-01.c: Cut out some bits when compling for
+	an AT90S8515 to avoid resource exhaustion (the ATmega128 version still
+	contains everything).
+	* tests/simulate/printf/sprintf-2.c: (Ditto.)
+	* tests/simulate/printf/sprintf-3.c: (Ditto.)
+	* tests/simulate/printf/sprintf-4.c: (Ditto.)
+	* tests/simulate/scanf/sscanf-l.c: (Ditto.)
+	* tests/simulate/scanf/sscanf_flt-fnn.c: (Ditto.)
+
+2010-06-09  Joerg Wunsch <j.gnu@uriah.heep.sax.de>
+
+	bug #28921: pointer to function > 128k flash
+	* doc/api/faq.dox (faq_funcptr_gt128kib): Add entry describing
+	that -mrelax is needed for the trampolines to work as designed.
+
+2010-06-09  Joerg Wunsch <j.gnu@uriah.heep.sax.de>
+
+	Submitted by Don Kinzer:
+	bug #30018: Errors in include files
+	* include/avr/iotn40.h: Fix stray characters in macro names.
+	* include/avr/iom649p.h: (Ditto.)
+	* include/avr/iom169pa.h: (Ditto.)
+
+2010-06-08  Joerg Wunsch <j.gnu@uriah.heep.sax.de>
+
+	Various documentation fixes, mostly cosmetic.
+	* include/avr/cpufunc.h: Fix doc grouping.
+	* include/util/delay_basic.h: Slightly reorder, so it actually
+	generates documentation again.
+	* doc/api/rel-method.dox: Update for our SVN repository.
+	* doc/api/malloc.dox: Fix doxygen warning.
+	* doc/api/tools-install.dox: (Ditto.)
+	* doc/api/faq.dox: (Ditto.)
+
+2010-06-08  Joerg Wunsch <j.gnu@uriah.heep.sax.de>
+
+	bug #30085: memcpy_P on XMega does not clr NVM.CMD before copy
+	* include/avr/pgmspace.h: Mention that for Xmega devices,
+	these functions require NVM.CMD being set to 0x00.
+
+2010-06-08  Joerg Wunsch <j.gnu@uriah.heep.sax.de>
+
+	* include/avr/interrupt.h (cli, sei): Add a memory barrier,
+	and cross-reference <util/atomic.h>.
+
+2010-06-08  Joerg Wunsch <j.gnu@uriah.heep.sax.de>
+
+	Implement new header file: <avr/cpufunc.h>
+	* include/avr/cpufunc.h: New file.
+	* include/avr/Makefile.am (avr_HEADERS): Add cpufunc.h.
+	* doc/api/doxygen.config.in (INPUT): Add avr/cpufunc.h.
+
+2010-06-08  Joerg Wunsch <j.gnu@uriah.heep.sax.de>
+
+	Submitted by Bob Paddock:
+	patch #6891: Add XMega software reset to the FAQ section on software
+	reset
+	* doc/api/faq.dox (faq_softreset): Mention the Xmega RST.CTRL method.
+
+2010-06-08  Joerg Wunsch <j.gnu@uriah.heep.sax.de>
+
+	Submitted by Ruwan Jayanetti:
+	patch #6194: Twitest updated to handle larger EEPROM devices
+	* doc/examples/twitest/twitest.c: Implement the
+	WORD_ADDRESS_16BIT option.
+	* doc/examples/twitest/twitest.dox: Document the new option.
+
+2010-06-08  Joerg Wunsch <j.gnu@uriah.heep.sax.de>
+
+	Submitted by Gerben van den Broeke:
+	patch #6555: malloc improvement
+	* libc/stdlib/malloc.c (malloc): Speed up reallocations.
+
+2010-06-08  Joerg Wunsch <j.gnu@uriah.heep.sax.de>
+
+	Submitted by Krzysztof Kosciuszkiewicz:
+	patch #6690: Shorten calculation of dallas 1-wire crc
+	* include/util/crc16.h (_crc_ibutton_update): no need to
+	use the T flag bit to save bit 0 of the operand
+
+2010-06-08  Joerg Wunsch <j.gnu@uriah.heep.sax.de>
+
+	Submitted by Tero Sinervo:
+	patch #6791: Minor fixes to stdio.h documentation
+	* include/stdio.h: Fix spelling mistakes.
+
+2010-06-08  Joerg Wunsch <j.gnu@uriah.heep.sax.de>
+
+	Submitted by Heike C. Zimmerer:
+	patch #6897: Allow <util/setbaud.h> to be used with assembler source
+	* include/util/setbaud.h: Add assembler snippets (no UL suffix
+	added to numbers)
+
+2010-06-08  Joerg Wunsch <j.gnu@uriah.heep.sax.de>
+
+	Add test scripts for <util/crc16.h>
+	* tests/simulate/util/crc16-1.c: New file.
+	* tests/simulate/util/crc16-2.c: (Ditto.)
+	* tests/simulate/util/crc16-3.c: (Ditto.)
+	* tests/simulate/util/crc16-4.c: (Ditto.)
+
+2010-06-08  Joerg Wunsch <j.gnu@uriah.heep.sax.de>
+
+	Submitted by Don Kinzer:
+	bug #29950: ATtiny167 SPM_PAGESIZE Discrepancy
+	* include/avr/iotn167.h: Bump SPM_PAGESIZE.
+
+2010-06-07  Joerg Wunsch <j.gnu@uriah.heep.sax.de>
+
+	bug #27235, malloc: Several things go wrong
+	* libc/stdlib/malloc.c (malloc): Revert the patch
+	from r2123, as it is no longer needed.
+	* libc/stdlib/malloc.c (free): When freeing the
+	topmost chunk of the heap, reduce __brkval again,
+	returning the area from the heap entirely.
+	* doc/api/malloc.dox: Mention that the heap is now
+	reduced if possible.
+	* tests/simulate/regression/bug-27242.c: Adapt testscript
+	to match the new behaviour.
+	* tests/simulate/stdlib/malloc-1.c: (Ditto.)
+	* tests/simulate/stdlib/malloc-6.c: (Ditto.)
+	* tests/simulate/stdlib/malloc-7.c: (Ditto.)
+	* tests/simulate/stdlib/realloc-2.c: New file (test whether
+	subsequent allocation does not extend the heap).
+	* tests/simulate/regression/bug-28135.c: New file, another
+	regression test (actual bugfix from bug #28135 is no longer
+	needed)
+
+2010-06-07  Joerg Wunsch <j.gnu@uriah.heep.sax.de>
+
+	More testscripts: test free() works as expected.
+	* tests/simulate/stdlib/malloc-5.c: New file.
+	* tests/simulate/stdlib/malloc-6.c: (Ditto.)
+	* tests/simulate/stdlib/malloc-7.c: (Ditto.)
+
+2010-06-07  Joerg Wunsch <j.gnu@uriah.heep.sax.de>
+
+	Submitted by Stefan Ernst:
+	bug #27243: malloc: small error in comment
+	* stdlib/malloc.c: Fix comment.
+
+2010-06-07  Joerg Wunsch <j.gnu@uriah.heep.sax.de>
+
+	Submitted by Aleksandar Kanchev:
+	bug #27242: realloc: serious error when size shrinks
+	* stdlib/realloc.c: Change freelist calculation.
+	* tests/simulate/regression/bug-27242.c: New file.
+
+2010-06-07  Joerg Wunsch <j.gnu@uriah.heep.sax.de>
+
+	* tests/simulate/stdlib/malloc-4.c: New file.
+
+2010-06-04  Joerg Wunsch <j.gnu@uriah.heep.sax.de>
+
+	Patch submitted by Stefan Ernst:
+	patch #6895: Improved malloc behaviour when expanding used area
+	bug #27235: malloc: Several things go wrong (part 1)
+	* stdlib/malloc.c: Improve allocation strategy.
+	* tests/simulate/regression/bug-27235-1.c: New file.
+
+2010-06-04  Joerg Wunsch <j.gnu@uriah.heep.sax.de>
+
+	Add some initial malloc and realloc tests to test
+	suite.
+	* tests/simulate/stdlib/malloc-1.c: New file.
+	* tests/simulate/stdlib/malloc-2.c: (Ditto.)
+	* tests/simulate/stdlib/malloc-3.c: (Ditto.)
+	* tests/simulate/stdlib/realloc-1.c: (Ditto.)
+
+2010-04-16  Anitha Boyapati <anitha.boyapati@atmel.com>
+
+        Fix bug #28574.
+	* include/avr/iox128d3.h - Modify EVSYS_t and ADC_t structures to 
+	  include reserved registers.	
+	* include/avr/iox16d4.h  - Same.
+	* include/avr/iox192d3.h - Same.
+	* include/avr/iox256d3.h - Same.
+	* include/avr/iox32d4.h  - Same.
+	* include/avr/iox64d3.h  - Same.
+
+2010-04-12  Joerg Wunsch <j.gnu@uriah.heep.sax.de>
+
+	* configure.ac (CHECK_BUILTIN_DELAY_CYCLES): Reimplement as a
+	compiler + grep pipeline rather than through AC_LINK_IFELSE, as we
+	cannot rely on a working linker while building the library.
+
+2010-04-12  Joerg Wunsch <j.gnu@uriah.heep.sax.de>
+
+	* devtools/gen-avr-lib-tree.sh: Fix directory name for ATxmega64A1U.
+
+2010-04-06  Anitha Boyapati <anitha.boyapati@atmel.com>
+
+        Fix bug #28584.
+	* include/avr/iocanxx.h - Add word definitions CANIE and CANEN.
+
+2010-04-06  Anitha Boyapati <anitha.boyapati@atmel.com>
+
+        Fix bug #28627.
+	* include/avr/power.h - ATmega32U2 defined for clock_prescale_set.
+
+2010-04-06  Anitha Boyapati <anitha.boyapati@atmel.com>
+
+        Fix bug #28901.
+        * include/avr/iox128a1.h - Removed GPIO and CPU memory map entries.
+        * include/avr/iox128a1u.h - Same.
+        * include/avr/iox128a3.h - Same.
+        * include/avr/iox128d3.h - Same.
+        * include/avr/iox16a4.h - Same.
+        * include/avr/iox16d4.h - Same.
+        * include/avr/iox192a3.h - Same.
+        * include/avr/iox192d3.h - Same.
+        * include/avr/iox256a3.h - Same.
+        * include/avr/iox256a3b.h - Same.
+        * include/avr/iox256d3.h - Same.
+        * include/avr/iox32a4.h - Same.
+        * include/avr/iox32d4.h - Same.
+        * include/avr/iox64a1.h - Same.
+        * include/avr/iox64a3.h - Same.
+        * include/avr/iox64d3.h - Same.
+
+2010-04-05  Eric B. Weddington  <eric.weddington@atmel.com>
+
+	Fix for bug #27367.
+	* include/avr/iom8.h: Add RAMSTART definition.
+	* include/avr/iom16.h: Same.
+	* include/avr/iom32.h: Same.
+	* include/avr/iom164.h: Same.
+	* include/avr/iom324.h: Same.
+	* include/avr/iom644.h: Same.
+	* include/avr/iom644p.h: Same.
+	* include/avr/iom328p.h: Same.
+	* include/avr/iom48.h: Same.
+	* include/avr/iom48p.h: Same.
+	* include/avr/iom88.h: Same.
+	* include/avr/iom88p.h: Same.
+	* include/avr/iom168.h: Same.
+	* include/avr/iom168p.h: Same.
+	* include/avr/iom325.h: Same.
+	* include/avr/iom645.h: Same.
+	* include/avr/iom3250.h: Same.
+	* include/avr/iom6450.h: Same.
+	* include/avr/iotn2313.h: Same.
+	* include/avr/iom8515.h: Same.
+	* include/avr/iom8535.h: Same.
+	* include/avr/iotn13.h: Same.
+	* include/avr/iotn24.h: Same.
+	* include/avr/iotn25.h: Same.
+	* include/avr/iotn44.h: Same.
+	* include/avr/iotn45.h: Same.
+	* include/avr/iotn84.h: Same.
+	* include/avr/iotn85.h: Same.
+	* include/avr/iotn261.h: Same.
+	* include/avr/iotn461.h: Same.
+	* include/avr/iotn861.h: Same.
+	* include/avr/iotn88.h: Same.
+	* include/avr/iotn48.h: Same.
+	* include/avr/iom1281.h: Same.
+	* include/avr/iom1284p.h: Same.
+	* NEW: Add to fixed bug list.
+
+2010-03-30  Eric B. Weddington  <eric.weddington@atmel.com>
+
+	* crt1/gcrt1.S: Add more interrupt vectors to cover the ATxmega128A1U
+	device.
+
+2010-03-30  Eric B. Weddington  <eric.weddington@atmel.com>
+
+	* xml/avrgcc-header: Modify XMEGA portion of script to not generate CPU
+	and GPIO definitions that include references to non-existent structures.
+	This is a partial fix for bug #28901, for future header files.
+
+2010-03-28  Eric B. Weddington  <eric.weddington@atmel.com>
+
+	Add support for new device: m3000.
+	* configure.ac: Add support for new device.
+	* devtools/gen-avr-lib-tree.sh: Same.
+	* include/avr/io.h: Same.
+	* doc/api/main_page.dox: Same.
+	* doc/api/using-tools.dox: Same.
+	* include/avr/iom3000.h: New file.
+	* NEWS: Add news item.
+
+2010-03-28  Eric B. Weddington  <eric.weddington@atmel.com>
+
+	Add support for new devices: attiny84a, atmega325a, atmega3250a,
+	atmega329a, atmega3290a.
+	* configure.ac: Add support for new devices.
+	* devtools/gen-avr-lib-tree.sh: Same.
+	* include/avr/io.h: Same.
+	* doc/api/main_page.dox: Same.
+	* doc/api/using-tools.dox: Same.
+	* include/avr/power.h: Same.
+	* include/avr/wdt.h: Same.
+	* include/avr/sleep.h: Same.
+	* include/avr/eeprom.h: Same.
+	* NEWS: Add news item.
+
+2010-03-25  Eric B. Weddington  <eric.weddington@atmel.com>
+
+	Add support for new architecture: avrtiny10. Add support for new devices:
+	attiny4, attiny5, attiny9, attiny10, attiny20, attiny40.
+	* configure.ac: Add support for new devices.
+	* devtools/gen-avr-lib-tree.sh: Same.
+	* include/avr/Makefile.am: Same.
+	* include/avr/io.h: Same.
+	* doc/api/main_page.dox: Same.
+	* doc/api/using-tools.dox: Same.
+	* include/avr/power.h: Same.
+	* include/avr/sleep.h: Same.
+	* NEWS: Add news item.
+
+2010-03-25  Eric B. Weddington  <eric.weddington@atmel.com>
+
+	Add support for new devices: ATxmega128A1U, ATxmega64A1U.
+	* configure.ac: Add support for new devices.
+	* devtools/gen-avr-lib-tree.sh: Same.
+	* include/avr/Makefile.am: Same.
+	* include/avr/io.h: Same.
+	* doc/api/main_page.dox: Same.
+	* doc/api/using-tools.dox: Same.
+	* include/avr/power.h: Same.
+	* include/avr/wdt.h: Same.
+	* include/avr/sleep.h: Same.
+	* include/avr/eeprom.h: Same.
+	* NEWS: Add news item.
+
+2010-03-22  Eric B. Weddington  <eric.weddington@atmel.com>
+
+	* include/avr/iox64a1u.h: New file.
+
+2010-03-20  Eric B. Weddington  <eric.weddington@atmel.com>
+
+	* include/avr/fuse.h: Add definition of FUSES for XMEGA devices.
+	* include/avr/iox128a1u.h: Regenerate file. New definitions, corrections.
+
+2010-03-19  Eric B. Weddington  <eric.weddington@atmel.com>
+
+	* include/avr/iotn20.h: New file.
+	* include/avr/iotn40.h: New file.
+
+2010-03-17  Joerg Wunsch <j.gnu@uriah.heep.sax.de>
+
+	Probe the compiler for the availability of the
+	__builtin_avr_delay_cycles() function, and modify the header files
+	<util/delay.h> and <avr/builtins.h> appropriately.  Note that the
+	modification is done by setting __HAS_DELAY_CYCLES on top of those
+	files, which has been left overridable from the compiler
+	environment (i.e., commandline -D option) on purpose.  Note also
+	that _delay_us() and _delay_ms() can only use
+	__builtin_avr_delay_cycles() if optimization is enabled as they'd
+	otherwise try to pass a floating-point argument to it which is not
+	allowed.  (The compiler does not seem to be able to convert it
+	into an unsigned long internally, not even with a type cast.)
+	However, not enabling optimization for them yields garbage timing
+	anyway, due to moving the compile-time constant floating-point
+	calculations from the compiler into the AVR.
+	* configure.ac: Add detection of __builtin_avr_delay_cycles
+	* include/util/delay.h.in: repocopied from delay.h
+	* include/util/Makefile.am: added delay.h.in
+	* include/avr/builtins.h.in: New file.
+	* include/avr/Makefile.am: added builtins.h.in
+
+2010-03-11  Eric B. Weddington  <eric.weddington@atmel.com>
+
+	Fix bug #28575.
+	* include/avr/iousb162.h (LFUSE_DEFAULT, HFUSE_DEFAULT, EFUSE_DEFAULT):
+	Fix definition.
+	* include/avr/iousb82.h: Same.
+	* include/avr/iousb647.h: Same.
+	* include/avr/iousb646.h: Same.
+	* NEWS: Add to fixed bug list.
+
+2010-03-11  Eric B. Weddington  <eric.weddington@atmel.com>
+
+	Fix bug #28812.
+	* include/avr/iotn48.h: Fix values of TWS3-7.
+	* NEWS: Add to fixed bug list.
+
+2010-02-03  Joerg Wunsch <j.gnu@uriah.heep.sax.de>
+
+	bug #28756: Bug in AVR libc 1.6.7 (power.h for 8-bit AVR)
+	* include/avr/power.h (clock_prescale_set): Implement as an inline
+	function rather than a macro so it syntactically becomes a true
+	function.
+
+2010-01-22  Eric B. Weddington  <eric.weddington@atmel.com>
+
+	* include/avr/iox128a1u.h: Add new file.
+
+2010-01-21  Joerg Wunsch <j.gnu@uriah.heep.sax.de>
+
+	bug #28688: using_tools.dox fails to build due to extra underscore
+	* doc/api/Makefile.am: added logic to detect which filename
+	doxygen did generate; while being here, fix the table layout as
+	well
+
+2010-01-20  Eric B. Weddington  <eric.weddington@atmel.com>
+
+	Rotate ChangeLogs.
+	* ChangeLog-2009: New file.
+	* ChangeLog: Clear for 2010.
+	* Makefile.am (EXTRA_DIST): Add ChangeLog-2009.
+
+For older changes see ChangeLog-2009
diff --git a/ChangeLog-2011 b/ChangeLog-2011
new file mode 100644
index 0000000..795379b
--- /dev/null
+++ b/ChangeLog-2011
@@ -0,0 +1,448 @@
+2012-01-03  Joerg Wunsch <j.gnu@uriah.heep.sax.de>
+
+	* doc/api/faq.dox (faq_assign_chain): fix spelling of \endcode, so
+	this actually compiles again :/  (bug #35226)
+	* dox/api/Makefile.am: Add forgotten optimize.dox.
+
+2011-09-26  Eric B. Weddington <eric.weddington@atmel.com>
+
+	(Patch re-applied after being backed out temporarily.)
+	Partial fix for bug #32945.
+	* common/macros.inc (LPM_R0_ZPLUS_* macros): Replace condition of
+	BIG_CODE with __AVR_HAVE_ELPM__.
+
+2011-12-29  Joerg Wunsch <j.gnu@uriah.heep.sax.de>
+
+	* configure.ac: Bump version version for post-release.
+
+2011-12-29  Joerg Wunsch <j.gnu@uriah.heep.sax.de>
+
+	Released avr-libc-1.7.1.
+	* configure.ac: Bump version.
+
+2011-12-29  Joerg Wunsch <j.gnu@uriah.heep.sax.de>
+
+	* include/avr/pgmspace.h: Do only include the deprecated prog_*
+	typedefs if the user requests this by defining
+	__PROG_TYPES_COMPAT__.  If they are generally defined, users are
+	being spammed with warning messages as soon as they include the
+	header file, regardless of whether they want to use these typedefs
+	or not.  Also, it's not good style to deprecate the old typedefs
+	but then use them ourselves, so make PGM_P and PGM_VOID_P use
+	the correct definitions.
+
+2011-12-29  Joerg Wunsch <j.gnu@uriah.heep.sax.de>
+
+	* include/avr/iotnx5.h (TIMER1_OVF_vect_num): add definition,
+	replacing the misspelled duplicate for TIMER1_OVF_vect
+
+2011-12-29  Joerg Wunsch <j.gnu@uriah.heep.sax.de>
+
+	* libc/string/strlcat.S: add !__AVR_TINY__ protection
+
+2011-12-28  Joerg Wunsch <j.gnu@uriah.heep.sax.de>
+
+	bug #32773: stdiodemo source code is broken
+	* doc/examples/stdiodemo/lcd.c: pass an argument when calling
+	hd44780_wait_ready()
+	* doc/examples/stdiodemo/Makefile: don't attempt to build the
+	EEPROM load files, as there are now EEPROM data
+
+2011-12-25  Dmitry Xmelkov  <dmix@gmail.ru>
+
+	Fix for bug #34514: misspelled in math.h
+	Thanks to Naotaka Fujita.
+	* include/math.h: Fix typo in documentation.
+	* NEWS: Add to fixed bug list.
+
+2011-12-24  Dmitry Xmelkov  <dmix@gmail.ru>
+
+	Fix for bug #35093. Thanks to Eric Mertens for the patch.
+	* libc/pmstring/strlcat_P.S: Fix X pointer decriment.
+	* libc/string/strlcat.S: Fix X pointer decriment.
+	* tests/regression/bug-35093.c: New file.
+	* NEWS: Add to fixed bug list.
+
+2011-12-09  Joerg Wunsch <j.gnu@uriah.heep.sax.de>
+
+	bug #35020: stdint.h: signed types need explicit "signed"
+	* include/stdint.h: explicitly declare int*_t types as signed
+
+2011-11-02  Eric B. Weddington  <eric.weddington@atmel.com>
+
+	* include/avr/iox64a1.h (enum TC_EVACT_enum): Fix typo in enum list.
+	Compared to iox128a1.h. Thanks to Francois Costin for the fix.
+
+2011-10-19  Joerg Wunsch <j.gnu@uriah.heep.sax.de>
+
+	* doc/api/faq.dox (faq_assign_chain): Add paragraph about avoiding
+	IO register assignment chains.
+
+2011-10-13  Joerg Wunsch <j.gnu@uriah.heep.sax.de>
+
+	* doc/api/faq.dox (faq_eeprom_corruption): Remove the remarks about
+	the EEPROM being erased pagewise, as they are not true.
+
+2011-09-26  Eric B. Weddington <eric.weddington@atmel.com>
+
+	Partial fix for bug #33716.
+	* include/avr/pgmspace.h: Deprecate typedefs with __progmem__ attribute.
+	Document as such.
+
+2011-09-26  Eric B. Weddington <eric.weddington@atmel.com>
+
+	Fix for bug #33858.
+	* include/avr/power.h: Add condition for _AVR_ATmega328_.
+	* NEWS: Add to fixed bug list.
+
+2011-09-26  Eric B. Weddington <eric.weddington@atmel.com>
+
+	Fix for bug #33920.
+	* include/avr/iotn167.h (ICR): Define ICR to be a word register.
+	* NEWS: Add to fixed bug list.
+
+2011-09-22  Joerg Wunsch <j.gnu@uriah.heep.sax.de>
+
+	* configure.ac (avr_libc_revision, avr_libc_reldate): Bump in
+	preparation of an 1.7.2rc.
+	* configure.ac (avr_libc_revision_suffix): New macro.
+
+2011-09-14  Joerg Wunsch <j.gnu@uriah.heep.sax.de>
+
+	bug #34047: missing math.h include in delay.h
+	* util/delay.h.in: include <math.h>
+
+2011-09-14  Joerg Wunsch <j.gnu@uriah.heep.sax.de>
+
+	* util/delay.h.in: Fall back to the historic algorithm when
+	compiling within a freestanding environment.
+
+2011-05-23  Joerg Wunsch <j.gnu@uriah.heep.sax.de>
+
+	Reported by Heike C. Zimmerer:
+	patch #7362: iom16a.h: USART vectors inconsistently named
+	for ATmega16A
+	* include/avr/iom16a.h: Add backwards-compatible USART
+	interrupt vector names.
+
+2011-05-23  Joerg Wunsch <j.gnu@uriah.heep.sax.de>
+
+	Reported by Palauqui Georges:
+	patch #7531: Bad name of bit in TCCR0A : WGM0 instead of CTC0
+	for ATtinyX61
+	* include/avr/iotnx61.h: Add new name CTC0 for bit 0 of
+	TCCR0A.
+
+2011-05-14  Joerg Wunsch <j.gnu@uriah.heep.sax.de>
+
+	Reported by Markus Lampert:
+	* include/avr/iousbxx2.h: Add new names for CLKSTA, CLKSEL0,
+	CLKSEL1 (old names have been without the `L').
+
+2011-05-12  Eric B. Weddington  <eric.weddington@atmel.com>
+
+	Patch #7226. Thanks to Avik Juneja for the patch.
+	* include/avr/iom8u2.h: Add UPOE register definition and bits.
+	* include/avr/power.h: Add ATmega8u2-16u2-32u2 devices in conditional.
+	* NEWS: Add to contributed patches list.
+
+2011-05-11  Eric B. Weddington  <eric.weddington@atmel.com>
+
+	Fix for bug #33130. Thanks to Antoine Mercier-Linteau for the patch.
+	* doc/examples/twitest/twitest.c: Check for reception of NAK.
+
+2011-05-11  Eric B. Weddington  <eric.weddington@atmel.com>
+
+	Fix for bug #32650.
+	* include/util/delay.h.in: Add math.h to list of includes.
+	* NEWS: Add to fixed bug list.
+
+2011-05-11  Eric B. Weddington  <eric.weddington@atmel.com>
+
+	Fix for bug #32675.
+	* include/avr/power.h: Add TIM1 to power_all_enable() and
+	power_all_disable().
+	* NEWS: Add to fixed bug list.
+
+2011-05-11  Joerg Wunsch <j.gnu@uriah.heep.sax.de>
+
+	* include/avr/pgmspace.h: Reorder so __strlen_P is declared by
+	the time it is attempted to be used.
+	* libc/stdlib/dtostre.c: Part #2 of fix for bug #32988: make
+	`s' a `const char *' as it is pointing to a constant (flash)
+	string.
+
+2011-05-09  Eric B. Weddington  <eric.weddington@atmel.com>
+
+	Fix for bug #32988.
+	* include/avr/pgmspace.h: Add const keyword to PSTR definition.
+	* NEWS: Add to fixed bug list.
+
+2011-05-09  Eric B. Weddington  <eric.weddington@atmel.com>
+
+	Fix for bug #33230.
+	* include/avr/sleep.h: Move conditionals for devices attiny261,
+	attiny261a, attiny461, attiny461a, attiny861, attiny861a to
+	correct location.
+	* NEWS: Add to fixed bug list.
+
+2011-05-09  Eric B. Weddington  <eric.weddington@atmel.com>
+
+	Fix for bug #33238.
+	* include/avr/iom8u2.h: Fix _VECTORS_SIZE value.
+	* include/avr/iom16u2.h: Same.
+	* include/avr/iom32u2.h: Same.
+	* NEWS: Add to fixed bug list.
+
+2011-03-17  Eric B. Weddington  <eric.weddington@atmel.com>
+
+	* include/avr/iotn11.h: Poison deprecated items.
+	* include/avr/iotn12.h: Same.
+	* include/avr/iotn13.h: Same.
+	* include/avr/iotn15.h: Same.
+	* include/avr/iotn22.h: Same.
+	* include/avr/iotn2313.h: Same. Also: remove duplicate definitions.
+	* include/avr/iotn26.h: Same.
+	* include/avr/iotn28.h: Same.
+
+2011-03-16  Eric B. Weddington  <eric.weddington@atmel.com>
+
+	* include/avr/iom3290.h: Poison deprecated items.
+	* include/avr/iom32m1.h: Same.
+	* include/avr/iom64.h: Same.
+	* include/avr/iom645.h: Same.
+	* include/avr/iom6450.h: Same.
+	* include/avr/iom649.h: Same.
+	* include/avr/iom8.h: Same.
+	* include/avr/iom8515.h: Same.
+	* include/avr/iom8535.h: Same.
+	* include/avr/iomx8.h: Same.
+	* include/avr/iomxx4.h: Same.
+	* include/avr/iomxx0_1: Same. Also add missing vector number
+	definitions.
+
+2011-03-15  Eric B. Weddington  <eric.weddington@atmel.com>
+
+	* include/avr/iom323.h: Poison deprecated items.
+	* include/avr/iom325.h: Same.
+	* include/avr/iom3250.h: Same.
+	* include/avr/iom329.h: Same.
+
+2011-03-08  Eric B. Weddington  <eric.weddington@atmel.com>
+
+	* include/avr/iom32.h: Poison deprecated items.
+
+2011-03-08  Anitha Boyapati <anitha.boyapati@atmel.com>
+
+	Fix for bug #32698.
+	* include/avr/power.h: Fix #endif error for Xmega A series.
+
+2011-03-06  Eric B. Weddington  <eric.weddington@atmel.com>
+
+	* include/avr/iom163.h: Poison deprecated items.
+	* include/avr/iom165.h: Same.
+	* include/avr/iom165p.h: Same.
+	* include/avr/iom169.h: Same.
+	* include/avr/iom169p.h: Same.
+
+2011-03-05  Eric B. Weddington  <eric.weddington@atmel.com>
+
+	* include/avr/iom162.h: Poison deprecated items.
+
+2011-03-05  Eric B. Weddington  <eric.weddington@atmel.com>
+
+	* include/avr/iom161.h: Poison deprecated items.
+
+2011-03-05  Eric B. Weddington  <eric.weddington@atmel.com>
+
+	* include/avr/iom16.h: Poison deprecated items.
+
+2011-03-04  Eric B. Weddington  <eric.weddington@atmel.com>
+
+	* include/avr/iom103.h: Poison deprecated items.
+
+2011-03-04  Eric B. Weddington  <eric.weddington@atmel.com>
+
+	* include/avr/iom128.h: Poison deprecated items.
+
+2011-03-02  Eric B. Weddington  <eric.weddington@atmel.com>
+
+	Fix for bug #23234.
+	* include/avr/iousbxx2.h: Add *_vect_num definitions.
+	* include/avr/iousbxx6_7.h: Same.
+	* include/avr/iotnx61.h: Same.
+	* include/avr/iotn43u.h: Same.
+	* include/avr/iotn48.h: Same.
+	* include/avr/iotn88.h: Same.
+	* include/avr/iotnx4.h: Same.
+	* include/avr/iotnx5.h: Same.
+	* include/avr/iotn28.h: Same.
+	* include/avr/iotn26.h: Same.
+	* include/avr/iotn11.h: Same.
+	* include/avr/iotn12.h: Same.
+	* include/avr/iotn13.h: Same.
+	* include/avr/iotn15.h: Same.
+	* include/avr/iotn167.h: Same.
+	* include/avr/iotn22.h: Same.
+	* include/avr/iotn2313.h: Same.
+	* include/avr/iom103.h: Same.
+	* include/avr/iom128.h: Same.
+	* include/avr/iom1284.h: Same.
+	* include/avr/iom16.h: Same.
+	* include/avr/iom161.h: Same.
+	* include/avr/iom162.h: Same.
+	* include/avr/iom163.h: Same.
+	* include/avr/iomxxhva.h: Same.
+	* include/avr/iomxx4.h: Same.
+	* include/avr/iomxx0_1.h: Same.
+	* include/avr/iomx8.h: Same.
+	* include/avr/iom88p.h: Same.
+	* include/avr/iom8535.h: Same.
+	* include/avr/iom8515.h: Same.
+	* include/avr/iom165.h: Same.
+	* include/avr/iom8.h: Same.
+	* include/avr/iom6490.h: Same.
+	* include/avr/iom165p.h: Same.
+	* include/avr/iom649.h: Same.
+	* include/avr/iom168p.h: Same.
+	* include/avr/iom169.h: Same.
+	* include/avr/iom169p.h: Same.
+	* include/avr/iom32.h: Same.
+	* include/avr/iom323.h: Same.
+	* include/avr/iom325.h: Same.
+	* include/avr/iom3250.h: Same.
+	* include/avr/iom328p.h: Same.
+	* include/avr/iom329.h: Same.
+	* include/avr/iom3290.h: Same.
+	* include/avr/iom32hvbrevb.h: Same.
+	* include/avr/iom32u4.h: Same.
+	* include/avr/iom406.h: Same.
+	* include/avr/iom48p.h: Same.
+	* include/avr/iom64.h: Same.
+	* include/avr/iom645.h: Same.
+	* include/avr/iom6450.h: Same.
+	* include/avr/iocanxx.h: Same.
+	* include/avr/io90pwm1.h: Same.
+	* include/avr/io90pwm216.h: Same.
+	* include/avr/io1200.h: Same.
+	* include/avr/io2343.h: Same.
+	* include/avr/io2323.h: Same.
+	* include/avr/io86r401.h: Same.
+	* include/avr/io2313.h: Same.
+	* include/avr/io2333.h: Same.
+	* include/avr/io4434.h: Same.
+	* include/avr/io4433.h: Same.
+	* include/avr/io4414.h: Same.
+	* include/avr/io8535.h: Same.
+	* include/avr/io8515.h: Same.
+	* include/avr/io90pwmx.h: Same.
+	* include/avr/io90pwm3b.h: Same.
+	* include/avr/io90pwm316.h: Same.
+	* include/avr/io90pwm2b.h: Same.
+	* include/avr/iom16hvbrevb: Also, update copyright year, change device name
+	(rev b version is the older version).
+	* include/avr/iom32hvbrevb: Same.
+	* NEWS: Add item.
+
+2011-02-23  Eric B. Weddington  <eric.weddington@atmel.com>
+
+	Partial fix for bug #28058, comment #2.
+	Thanks to Jan Waclawek for the code.
+	* include/avr/pgmspace.h: Add new strlen_P inline function.
+	* libc/pmstring/strlen_P.S: Rename function to __strlen_P.
+	* NEWS: Add item.
+
+2011-02-23  Eric B. Weddington  <eric.weddington@atmel.com>
+
+	Fix for bug #17815.
+	* doc/api/Makefile.am (install-dox-man): Rewrite to fix install
+	location to use mandir configuration option.
+	* NEWS: Add item to fixed bugs list.
+
+2011-02-22  Eric B. Weddington  <eric.weddington@atmel.com>
+
+	* doc/api/tools-install.dox: Partial documentation changes
+	for building avr-libc for MinGW/Windows.
+
+2011-02-22  Eric B. Weddington  <eric.weddington@atmel.com>
+
+	Fix for bug #24861.
+	* include/avr/interrupt.h: Remove extra code blocks in documentation.
+	Fix spacing.
+	* NEWS: Add item to fixed bugs list.
+
+2011-02-21  Eric B. Weddington  <eric.weddington@atmel.com>
+
+	Fix for bug #32103. Thanks to Thomas Rudin for fix.
+	* configure.ac: Fix wildcards in searching for cross tools.
+	* NEWS: Add item to fixed bugs list.
+
+2011-02-21  Eric B. Weddington  <eric.weddington@atmel.com>
+
+	Fix for bug #32419.
+	* include/avr/iox192a3.h (*EEPROM_SIZE): Fix values.
+	* NEWS: Add item to fixed bugs list.
+
+2011-02-16  Joerg Wunsch <j.gnu@uriah.heep.sax.de>
+
+	* configure.ac: Bump for post-release.
+
+2011-02-16  Joerg Wunsch <j.gnu@uriah.heep.sax.de>
+
+	Released avr-libc-1.7.1.
+
+2011-02-16  Anitha Boyapati <anitha.boyapati@atmel.com>
+
+	* include/avr/power.h: Changes to power_all_enable()/disable() for 
+	Xmega A and D family
+
+2011-02-14  Anitha Boyapati <anitha.boyapati@atmel.com>
+
+	Thanks to Praveen Kaushik <Praveen_Kumar.Kaushi@atmel.com> for the device
+	support.
+	* configure.ac: Support for ATMega16HVB RevB, ATMega32HVB RevB.
+	* devtools/gen-avr-lib-tree.sh: Same.
+	* doc/api/main_page.dox: Same.
+	* doc/api/using-tools.dox: Same.
+	* include/avr/eeprom.h: Same.
+	* include/avr/io.h: Same.
+	* include/avr/iom16hvb.h: Header file regenerated.
+	* include/avr/iom16hvbrevb.h: Added newly.
+	* include/avr/iom32hvb.h: Header file regenerated.
+	* include/avr/iom32hvbrevb.h: Added newly.
+	* include/avr/Makefile.am: Support for atmega16HVB RevB, 
+	ATMega32HVB RevB.
+	* include/avr/power.h: Same.
+	* include/avr/sleep.h: Same.
+	* include/avr/wdt.h: Same.
+
+2011-02-14  Anitha Boyapati <anitha.boyapati@atmel.com>
+
+	Thanks to Usha Gupta <usha.gupta@atmel.com> for the device
+	support.
+	* include/avr/io.h: Support for AVR Tiny84a
+	* include/avr/iotn84a.h: Same.
+	* include/avr/Makefile.am: Same.
+
+2011-02-14  Anitha Boyapati <anitha.boyapati@atmel.com>
+
+	Fix for #bug31873
+	* include/avr/power.h: Modifications to power_aes_enable/disable() 
+    power_all_enable/disable() functions for Xmega devices. 
+
+2011-02-11  Anitha Boyapati <anitha.boyapati@atmel.com>
+
+	Thanks to Praveen Kaushik <Praveen_Kumar.Kaushi@atmel.com> for
+	the fix for #bug31990.
+	* include/avr/io90pwm81.h: PRPSC0 is renamed to PRPSCR in sync 
+	with device XML file.
+	* include/avr/power.h:	power_psc0_enable()/disable() have been 
+	renamed to power_pscr_enable()/disable(). Documentation changes
+	to include PWM81 are also done.
+
+
+
+2011-02-09  Joerg Wunsch <j.gnu@uriah.heep.sax.de>
+
+	* include/avr/iom8x.h (_VECTORS_SIZE): fix wrong vector table size
+	for ATmega168A devices.
diff --git a/ChangeLog-2012 b/ChangeLog-2012
new file mode 100644
index 0000000..69eaa9b
--- /dev/null
+++ b/ChangeLog-2012
@@ -0,0 +1,13 @@
+2012-01-06  Dmitry Xmelkov  <dmix@gmail.ru>
+
+	* include/avr/common.h: Fix typo of last commit.
+
+2012-01-05  Dmitry Xmelkov  <dmix@gmail.ru>
+
+	* include/avr/common.h: Define RAMPZ.
+
+2012-01-03  Joerg Wunsch <j.gnu@uriah.heep.sax.de>
+
+	* doc/api/faq.dox (faq_assign_chain): fix spelling of \endcode, so
+	this actually compiles again :/  (bug #35226)
+	* dox/api/Makefile.am: Add forgotten optimize.dox.
diff --git a/Makefile.am b/Makefile.am
index a0ec05c..7474e00 100644
--- a/Makefile.am
+++ b/Makefile.am
@@ -26,7 +26,7 @@
 # ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 # POSSIBILITY OF SUCH DAMAGE.
 #
-# $Id: Makefile.am 2099 2010-02-11 16:26:06Z joerg_wunsch $
+# $Id$
 #
 
 EXTRA_DIST = \
diff --git a/NEWS b/NEWS
index 0e5dad4..19fed26 100644
--- a/NEWS
+++ b/NEWS
@@ -1,3 +1,31 @@
+*** Changes since avr-libc-1.8.0:
+
+* Bugs fixed:
+
+  [#35226] Online-documentation broken - [...]
+  [#35398] assert doesn't work unless stdlib.h is also included
+
+* New devices supported:
+
+* Contributed Patches:
+
+  [#3729] Printf for integers speed up
+  [#7212] Add pgm_read_ptr() macros to pgmspace.h
+  [#7220] Add UBRR overload functionality to <util/setbaud.h>
+  [#7260] Addition to power.h
+  [#7485] CRC8-CCITT
+  [#7654] include/delay.h: delay_us >255us without decreasing resolution
+  [#7826] Add ATMega32u4 support to the led-blinking demo
+  [#7909] Adding __volatile__ to __asm__ within pgmspace header
+  [#7910] Add missing PCINT2_vect to iotn40.h and update all the
+          following vector numbers
+
+* Other changes:
+
+  - New macro _PROTECTED_WRITE(): write to Xmega IO registers that are
+    protected through the CCP mechanism
+
+
 *** Changes in avr-libc-1.8.0:
 
 * Bugs fixed:
diff --git a/avr-libc.spec.in b/avr-libc.spec.in
index d20025d..6f743de 100644
--- a/avr-libc.spec.in
+++ b/avr-libc.spec.in
@@ -31,7 +31,7 @@
 ## ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 ## POSSIBILITY OF SUCH DAMAGE.
 ##
-## $Id: avr-libc.spec.in 1037 2006-01-06 22:31:33Z joerg_wunsch $
+## $Id$
 ##
 ## @configure_input@
 ##
diff --git a/bootstrap b/bootstrap
index 43625b2..46d6909 100755
--- a/bootstrap
+++ b/bootstrap
@@ -1,6 +1,6 @@
 #! /bin/sh
 #
-# $Id: bootstrap 1863 2009-02-04 18:06:24Z arcanum $
+# $Id$
 #
 # bootstrap script to build all the *.in files and configure script.
 #
diff --git a/common/Makefile.am b/common/Makefile.am
index 08470c4..5cf8837 100644
--- a/common/Makefile.am
+++ b/common/Makefile.am
@@ -26,7 +26,7 @@
 # ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 # POSSIBILITY OF SUCH DAMAGE.
 #
-# $Id: Makefile.am 2008 2009-07-01 14:14:25Z joerg_wunsch $
+# $Id$
 #
 
 EXTRA_DIST = \
diff --git a/common/asmdef.h b/common/asmdef.h
index 3a1ae12..a6cb399 100644
--- a/common/asmdef.h
+++ b/common/asmdef.h
@@ -26,7 +26,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: asmdef.h 2191 2010-11-05 13:45:57Z arcanum $	*/
+/* $Id$	*/
 
 #ifndef	_ASMDEF_H
 #define _ASMDEF_H
diff --git a/common/ftoa_engine.h b/common/ftoa_engine.h
index be8d221..225792b 100644
--- a/common/ftoa_engine.h
+++ b/common/ftoa_engine.h
@@ -26,7 +26,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: ftoa_engine.h 1218 2007-02-18 13:18:41Z dmix $ */
+/* $Id$ */
 
 #ifndef	_FTOA_ENGINE_H
 #define	_FTOA_ENGINE_H
diff --git a/common/macros.inc b/common/macros.inc
index 78f6780..d4c2ad4 100644
--- a/common/macros.inc
+++ b/common/macros.inc
@@ -334,7 +334,10 @@
    LPM_R0_ZPLUS_NEXT is used inside the loop to load a byte from
    the program memory at [RAMPZ:]Z to R0, and increment [RAMPZ:]Z.
 
-   The argument in both macros is a register that contains the
+   LPM_R0_ZPLUS_FINI is used after the loop to restore RAMPZ if
+   both ELPM and RAMPD are present.
+
+   The argument in above macros is a register that contains the
    high byte (bits 23-16) of the address, bits 15-0 should be in
    the Z (r31:r30) register.  It can be any register except for:
    r0, r1 (__zero_reg__ - assumed to always contain 0), r30, r31.
@@ -342,15 +345,21 @@
 
 	.macro	LPM_R0_ZPLUS_INIT hhi
 #if __AVR_ENHANCED__
-  #if BIG_CODE
-	out	AVR_RAMPZ_ADDR, \hhi
+  #if __AVR_HAVE_ELPM__
+    #if __AVR_HAVE_RAMPD__
+      in r0, AVR_RAMPZ_ADDR   
+      out AVR_RAMPZ_ADDR, \hhi
+      mov \hhi, r0            
+    #else                     
+      out AVR_RAMPZ_ADDR, \hhi
+    #endif                    
   #endif
 #endif
 	.endm
 
 	.macro	LPM_R0_ZPLUS_NEXT hhi
 #if __AVR_ENHANCED__
-  #if BIG_CODE
+  #if __AVR_HAVE_ELPM__
     /* ELPM with RAMPZ:Z post-increment, load RAMPZ only once */
 	elpm	r0, Z+
   #else
@@ -358,7 +367,7 @@
 	lpm	r0, Z+
   #endif
 #else
-  #if BIG_CODE
+  #if __AVR_HAVE_ELPM__
     /* ELPM without post-increment, load RAMPZ each time (ATmega103) */
 	out	AVR_RAMPZ_ADDR, \hhi
 	elpm
@@ -371,3 +380,14 @@
   #endif
 #endif
 	.endm
+
+	.macro LPM_R0_ZPLUS_FINI hhi
+#if __AVR_ENHANCED__
+  #if __AVR_HAVE_ELPM__
+    #if __AVR_HAVE_RAMPD__
+      out AVR_RAMPZ_ADDR, \hhi
+    #endif
+  #endif
+#endif
+	.endm
+
diff --git a/common/ntz.h b/common/ntz.h
index 08e2586..090bf9a 100644
--- a/common/ntz.h
+++ b/common/ntz.h
@@ -26,7 +26,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: ntz.h 1217 2007-02-18 13:18:05Z dmix $	*/
+/* $Id$	*/
 
 #ifndef	_NTZ_H
 #define	_NTZ_H
diff --git a/configure.ac b/configure.ac
index a372df2..ab0ee5c 100644
--- a/configure.ac
+++ b/configure.ac
@@ -30,7 +30,7 @@
 # ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 # POSSIBILITY OF SUCH DAMAGE.
 #
-# $Id: configure.ac 2272 2011-12-29 08:49:21Z joerg_wunsch $
+# $Id$
 #
 # Process this file with autoconf to produce a configure script.
 #
@@ -40,8 +40,8 @@ dnl        macro name           value            description
 m4_define([avr_libc_major],    [1])dnl           major version
 m4_define([avr_libc_minor],    [8])dnl           minor version
 m4_define([avr_libc_revision], [0])dnl           revision (dot-dot version)
-m4_define([avr_libc_revision_suffix], [])dnl  revision suffix (if any)
-m4_define([avr_libc_reldate],  [20111228])dnl    release date
+m4_define([avr_libc_revision_suffix], [svn])dnl  revision suffix (if any)
+m4_define([avr_libc_reldate],  [20111229])dnl    release date
 dnl end of library versioning data
 
 m4_define([avr_libc_version],
@@ -54,7 +54,7 @@ m4_define([avr_libc_version_numeric],
 AC_INIT(avr-libc, avr_libc_version, avr-libc-dev@nongnu.org)
 
 AC_PREREQ(2.59)
-AC_REVISION($Revision: 2272 $)
+AC_REVISION($Revision$)
 
 AC_CONFIG_SRCDIR([doc/examples/demo/demo.c])
 AC_CONFIG_HEADER([config.h])
@@ -189,6 +189,14 @@ AC_ARG_ENABLE(html-doc,
   *)   AC_MSG_ERROR(bad value ${enableval} for html-doc option) ;;
  esac], [html_doc=yes])dnl
 
+AC_ARG_ENABLE(xml-doc,
+[  --enable-xml-doc        build XML documentation (default)],
+[case "${enableval}" in
+  yes) xml_doc=yes ;;
+  no)  xml_doc=no ;;
+  *)   AC_MSG_ERROR(bad value ${enableval} for xml-doc option) ;;
+ esac], [xml_doc=yes])dnl
+
 AC_ARG_ENABLE(pdf-doc,
 [  --enable-pdf-doc        build PDF documentation (default)],
 [case "${enableval}" in
@@ -246,6 +254,11 @@ else
 		TARGET_DOX_HTML=dox-html
 		INSTALL_DOX_HTML=install-dox-html
 	fi
+	if test "$xml_doc" = "yes"; then
+		AC_MSG_NOTICE([Enabling XML docs])
+		TARGET_DOX_XML=dox-xml
+		INSTALL_DOX_XML=install-dox-xml
+	fi
 dnl The creation of man pages is a side-effect of the HTML
 dnl generation, so a different target is only needed for installation.
 	if test "$man_doc" = "yes"; then
@@ -257,8 +270,10 @@ fi
 dnl
 AC_SUBST(TARGET_DOX_PDF)
 AC_SUBST(TARGET_DOX_HTML)
+AC_SUBST(TARGET_DOX_XML)
 AC_SUBST(INSTALL_DOX_PDF)
 AC_SUBST(INSTALL_DOX_HTML)
+AC_SUBST(INSTALL_DOX_XML)
 AC_SUBST(INSTALL_DOX_MAN)
 ])dnl
 
@@ -326,6 +341,31 @@ AC_SUBST(DOCSDIR)
 AC_SUBST(AVR_LIBC_USER_MANUAL)
 AC_SUBST(DOC_INST_DIR)
 
+dnl Let the user decide which debug information to generate.
+dnl Default is nothing, suitable for binary distributions of the
+dnl compiled library.  Alternative options include stabs, dwarf-2,
+dnl or dwarf-4.
+AC_ARG_ENABLE(debug-info,
+[  --enable-debug-info=stabs|dwarf-2|dwarf-4  Enable generation of debugging information],
+[case "${enableval}" in
+  yes|dwarf2|dwarf-2) debuginfo=dwarf2 ;;
+  no)                 debuginfo="" ;;
+  stabs)              debuginfo=stabs ;;
+  dwarf4|dwarf-4)     debuginfo=dwarf4 ;;
+  *)                  AC_MSG_ERROR([bad value ${enableval} for --enable-debug-info option; should be either stabs, dwarf-2, or dwarf-4]) ;;
+ esac], [debuginfo=""])
+
+dnl Decide which debuginfo information to include
+case "$debuginfo" in
+"")      CDEBUG=""; ASDEBUG="" ;;
+stabs)   CDEBUG="-gstabs"; ASDEBUG="-Wa,-gstabs" ;;
+dwarf2)  CDEBUG="-gdwarf-2"; ASDEBUG="-Wa,-gdwarf-2" ;;
+dwarf4)  CDEBUG="-gdwarf-4"; ASDEBUG="-Wa,-gdwarf-2" ;;
+esac
+
+AC_SUBST(CDEBUG)
+AC_SUBST(ASDEBUG)
+
 FNO_JUMP_TABLES=""
 AC_SUBST(FNO_JUMP_TABLES)
 
@@ -458,8 +498,11 @@ AM_CONDITIONAL(HAS_attiny26, true)
 CHECK_AVR_DEVICE(avr25)
 AM_CONDITIONAL(HAS_avr25, test "x$HAS_avr25" = "xyes")
 
-CHECK_AVR_DEVICE(ata6289)
-AM_CONDITIONAL(HAS_ata6289, test "x$HAS_ata6289" = "xyes")
+CHECK_AVR_DEVICE(ata5272)
+AM_CONDITIONAL(HAS_ata5272, test "x$HAS_ata5272" = "xyes")
+
+CHECK_AVR_DEVICE(ata6616c)
+AM_CONDITIONAL(HAS_ata6616c, test "x$HAS_ata6616c" = "xyes")
 
 CHECK_AVR_DEVICE(attiny13)
 AM_CONDITIONAL(HAS_attiny13, test "x$HAS_attiny13" = "xyes")
@@ -500,6 +543,9 @@ AM_CONDITIONAL(HAS_attiny44, test "x$HAS_attiny44" = "xyes")
 CHECK_AVR_DEVICE(attiny44a)
 AM_CONDITIONAL(HAS_attiny44a, test "x$HAS_attiny44a" = "xyes")
 
+CHECK_AVR_DEVICE(attiny441)
+AM_CONDITIONAL(HAS_attiny441, test "x$HAS_attiny441" = "xyes")
+
 CHECK_AVR_DEVICE(attiny45)
 AM_CONDITIONAL(HAS_attiny45, test "x$HAS_attiny45" = "xyes")
 
@@ -512,12 +558,18 @@ AM_CONDITIONAL(HAS_attiny461a, test "x$HAS_attiny461a" = "xyes")
 CHECK_AVR_DEVICE(attiny48)
 AM_CONDITIONAL(HAS_attiny48, test "x$HAS_attiny48" = "xyes")
 
+CHECK_AVR_DEVICE(attiny828)
+AM_CONDITIONAL(HAS_attiny828, test "x$HAS_attiny828" = "xyes")
+
 CHECK_AVR_DEVICE(attiny84)
 AM_CONDITIONAL(HAS_attiny84, test "x$HAS_attiny84" = "xyes")
 
 CHECK_AVR_DEVICE(attiny84a)
 AM_CONDITIONAL(HAS_attiny84a, test "x$HAS_attiny84a" = "xyes")
 
+CHECK_AVR_DEVICE(attiny841)
+AM_CONDITIONAL(HAS_attiny841, test "x$HAS_attiny841" = "xyes")
+
 CHECK_AVR_DEVICE(attiny85)
 AM_CONDITIONAL(HAS_attiny85, test "x$HAS_attiny85" = "xyes")
 
@@ -560,6 +612,15 @@ AM_CONDITIONAL(HAS_at90usb82, test "x$HAS_at90usb82" = "xyes")
 CHECK_AVR_DEVICE(at90usb162)
 AM_CONDITIONAL(HAS_at90usb162, test "x$HAS_at90usb162" = "xyes")
 
+CHECK_AVR_DEVICE(ata5505)
+AM_CONDITIONAL(HAS_ata5505, test "x$HAS_ata5505" = "xyes")
+
+CHECK_AVR_DEVICE(ata6617c)
+AM_CONDITIONAL(HAS_ata6617c, test "x$HAS_ata6617c" = "xyes")
+
+CHECK_AVR_DEVICE(ata664251)
+AM_CONDITIONAL(HAS_ata664251, test "x$HAS_ata664251" = "xyes")
+
 CHECK_AVR_DEVICE(atmega8u2)
 AM_CONDITIONAL(HAS_atmega8u2, test "x$HAS_atmega8u2" = "xyes")
 
@@ -572,6 +633,9 @@ AM_CONDITIONAL(HAS_atmega32u2, test "x$HAS_atmega32u2" = "xyes")
 CHECK_AVR_DEVICE(attiny167)
 AM_CONDITIONAL(HAS_attiny167, test "x$HAS_attiny167" = "xyes")
 
+CHECK_AVR_DEVICE(attiny1634)
+AM_CONDITIONAL(HAS_attiny1634, test "x$HAS_attiny1634" = "xyes")
+
 
 # avr4
 AM_CONDITIONAL(HAS_avr4, true)
@@ -579,12 +643,30 @@ AM_CONDITIONAL(HAS_atmega8, true)
 AM_CONDITIONAL(HAS_atmega8515, true)
 AM_CONDITIONAL(HAS_atmega8535, true)
 
+CHECK_AVR_DEVICE(ata6285)
+AM_CONDITIONAL(HAS_ata6285, test "x$HAS_ata6285" = "xyes")
+
+CHECK_AVR_DEVICE(ata6286)
+AM_CONDITIONAL(HAS_ata6286, test "x$HAS_ata6286" = "xyes")
+
+CHECK_AVR_DEVICE(ata6289)
+AM_CONDITIONAL(HAS_ata6289, test "x$HAS_ata6289" = "xyes")
+
+CHECK_AVR_DEVICE(ata6612c)
+AM_CONDITIONAL(HAS_ata6612c, test "x$HAS_ata6612c" = "xyes")
+
+CHECK_AVR_DEVICE(atmega8a)
+AM_CONDITIONAL(HAS_atmega8a, test "x$HAS_atmega8a" = "xyes")
+
 CHECK_AVR_DEVICE(atmega48)
 AM_CONDITIONAL(HAS_atmega48, test "x$HAS_atmega48" = "xyes")
 
 CHECK_AVR_DEVICE(atmega48a)
 AM_CONDITIONAL(HAS_atmega48a, test "x$HAS_atmega48a" = "xyes")
 
+CHECK_AVR_DEVICE(atmega48pa)
+AM_CONDITIONAL(HAS_atmega48pa, test "x$HAS_atmega48pa" = "xyes")
+
 CHECK_AVR_DEVICE(atmega48p)
 AM_CONDITIONAL(HAS_atmega48p, test "x$HAS_atmega48p" = "xyes")
 
@@ -646,9 +728,27 @@ AM_CONDITIONAL(HAS_at90pwm316, test "x$HAS_at90pwm316" = "xyes")
 CHECK_AVR_DEVICE(at90pwm216)
 AM_CONDITIONAL(HAS_at90pwm216, test "x$HAS_at90pwm216" = "xyes")
 
+CHECK_AVR_DEVICE(at90pwm161)
+AM_CONDITIONAL(HAS_at90pwm161, test "x$HAS_at90pwm161" = "xyes")
+
 CHECK_AVR_DEVICE(at94k)
 AM_CONDITIONAL(HAS_at94k, test "x$HAS_at94k" = "xyes")
 
+CHECK_AVR_DEVICE(ata5790)
+AM_CONDITIONAL(HAS_ata5790, test "x$HAS_ata5790" = "xyes")
+
+CHECK_AVR_DEVICE(ata5790n)
+AM_CONDITIONAL(HAS_ata5790n, test "x$HAS_ata5790n" = "xyes")
+
+CHECK_AVR_DEVICE(ata5795)
+AM_CONDITIONAL(HAS_ata5795, test "x$HAS_ata5795" = "xyes")
+
+CHECK_AVR_DEVICE(ata6613c)
+AM_CONDITIONAL(HAS_ata6613c, test "x$HAS_ata6613c" = "xyes")
+
+CHECK_AVR_DEVICE(ata6614q)
+AM_CONDITIONAL(HAS_ata6614q, test "x$HAS_ata6614q" = "xyes")
+
 CHECK_AVR_DEVICE(atmega16)
 AM_CONDITIONAL(HAS_atmega16, test "x$HAS_atmega16" = "xyes")
 
@@ -670,6 +770,9 @@ AM_CONDITIONAL(HAS_atmega164a, test "x$HAS_atmega164a" = "xyes")
 CHECK_AVR_DEVICE(atmega164p)
 AM_CONDITIONAL(HAS_atmega164p, test "x$HAS_atmega164p" = "xyes")
 
+CHECK_AVR_DEVICE(atmega164pa)
+AM_CONDITIONAL(HAS_atmega164pa, test "x$HAS_atmega164pa" = "xyes")
+
 CHECK_AVR_DEVICE(atmega165)
 AM_CONDITIONAL(HAS_atmega165, test "x$HAS_atmega165" = "xyes")
 
@@ -679,6 +782,9 @@ AM_CONDITIONAL(HAS_atmega165a, test "x$HAS_atmega165a" = "xyes")
 CHECK_AVR_DEVICE(atmega165p)
 AM_CONDITIONAL(HAS_atmega165p, test "x$HAS_atmega165p" = "xyes")
 
+CHECK_AVR_DEVICE(atmega165pa)
+AM_CONDITIONAL(HAS_atmega165pa, test "x$HAS_atmega165pa" = "xyes")
+
 CHECK_AVR_DEVICE(atmega168)
 AM_CONDITIONAL(HAS_atmega168, test "x$HAS_atmega168" = "xyes")
 
@@ -688,6 +794,9 @@ AM_CONDITIONAL(HAS_atmega168a, test "x$HAS_atmega168a" = "xyes")
 CHECK_AVR_DEVICE(atmega168p)
 AM_CONDITIONAL(HAS_atmega168p, test "x$HAS_atmega168p" = "xyes")
 
+CHECK_AVR_DEVICE(atmega168pa)
+AM_CONDITIONAL(HAS_atmega168pa, test "x$HAS_atmega168pa" = "xyes")
+
 CHECK_AVR_DEVICE(atmega169)
 AM_CONDITIONAL(HAS_atmega169, test "x$HAS_atmega169" = "xyes")
 
@@ -721,6 +830,9 @@ AM_CONDITIONAL(HAS_atmega16u4, test "x$HAS_atmega16u4" = "xyes")
 CHECK_AVR_DEVICE(atmega32)
 AM_CONDITIONAL(HAS_atmega32, test "x$HAS_atmega32" = "xyes")
 
+CHECK_AVR_DEVICE(atmega32a)
+AM_CONDITIONAL(HAS_atmega32a, test "x$HAS_atmega32a" = "xyes")
+
 CHECK_AVR_DEVICE(atmega323)
 AM_CONDITIONAL(HAS_atmega323, test "x$HAS_atmega323" = "xyes")
 
@@ -742,6 +854,9 @@ AM_CONDITIONAL(HAS_atmega325a, test "x$HAS_atmega325a" = "xyes")
 CHECK_AVR_DEVICE(atmega325p)
 AM_CONDITIONAL(HAS_atmega325p, test "x$HAS_atmega325p" = "xyes")
 
+CHECK_AVR_DEVICE(atmega325pa)
+AM_CONDITIONAL(HAS_atmega325pa, test "x$HAS_atmega325pa" = "xyes")
+
 CHECK_AVR_DEVICE(atmega3250)
 AM_CONDITIONAL(HAS_atmega3250, test "x$HAS_atmega3250" = "xyes")
 
@@ -751,6 +866,9 @@ AM_CONDITIONAL(HAS_atmega3250a, test "x$HAS_atmega3250a" = "xyes")
 CHECK_AVR_DEVICE(atmega3250p)
 AM_CONDITIONAL(HAS_atmega3250p, test "x$HAS_atmega3250p" = "xyes")
 
+CHECK_AVR_DEVICE(atmega3250pa)
+AM_CONDITIONAL(HAS_atmega3250pa, test "x$HAS_atmega3250pa" = "xyes")
+
 CHECK_AVR_DEVICE(atmega328)
 AM_CONDITIONAL(HAS_atmega328, test "x$HAS_atmega328" = "xyes")
 
@@ -778,6 +896,9 @@ AM_CONDITIONAL(HAS_atmega3290a, test "x$HAS_atmega3290a" = "xyes")
 CHECK_AVR_DEVICE(atmega3290p)
 AM_CONDITIONAL(HAS_atmega3290p, test "x$HAS_atmega3290p" = "xyes")
 
+CHECK_AVR_DEVICE(atmega3290pa)
+AM_CONDITIONAL(HAS_atmega3290pa, test "x$HAS_atmega3290pa" = "xyes")
+
 CHECK_AVR_DEVICE(atmega32c1)
 AM_CONDITIONAL(HAS_atmega32c1, test "x$HAS_atmega32c1" = "xyes")
 
@@ -799,9 +920,18 @@ AM_CONDITIONAL(HAS_atmega32u6, test "x$HAS_atmega32u6" = "xyes")
 CHECK_AVR_DEVICE(atmega406)
 AM_CONDITIONAL(HAS_atmega406, test "x$HAS_atmega406" = "xyes")
 
+CHECK_AVR_DEVICE(atmega64rfr2)
+AM_CONDITIONAL(HAS_atmega64rfr2, test "x$HAS_atmega64rfr2" = "xyes")
+
+CHECK_AVR_DEVICE(atmega644rfr2)
+AM_CONDITIONAL(HAS_atmega644rfr2, test "x$HAS_atmega644rfr2" = "xyes")
+
 CHECK_AVR_DEVICE(atmega64)
 AM_CONDITIONAL(HAS_atmega64, test "x$HAS_atmega64" = "xyes")
 
+CHECK_AVR_DEVICE(atmega64a)
+AM_CONDITIONAL(HAS_atmega64a, test "x$HAS_atmega64a" = "xyes")
+
 CHECK_AVR_DEVICE(atmega640)
 AM_CONDITIONAL(HAS_atmega640, test "x$HAS_atmega640" = "xyes")
 
@@ -859,6 +989,9 @@ AM_CONDITIONAL(HAS_atmega64c1, test "x$HAS_atmega64c1" = "xyes")
 CHECK_AVR_DEVICE(atmega64hve)
 AM_CONDITIONAL(HAS_atmega64hve, test "x$HAS_atmega64hve" = "xyes")
 
+CHECK_AVR_DEVICE(atmega64hve2)
+AM_CONDITIONAL(HAS_atmega64hve2, test "x$HAS_atmega64hve2" = "xyes")
+
 CHECK_AVR_DEVICE(atmega64m1)
 AM_CONDITIONAL(HAS_atmega64m1, test "x$HAS_atmega64m1" = "xyes")
 
@@ -876,12 +1009,18 @@ AM_CONDITIONAL(HAS_avr51, test "x$HAS_avr51" = "xyes")
 
 AM_CONDITIONAL(HAS_atmega128, true)
 
+CHECK_AVR_DEVICE(atmega128a)
+AM_CONDITIONAL(HAS_atmega128a, test "x$HAS_atmega128a" = "xyes")
+
 CHECK_AVR_DEVICE(atmega1280)
 AM_CONDITIONAL(HAS_atmega1280, test "x$HAS_atmega1280" = "xyes")
 
 CHECK_AVR_DEVICE(atmega1281)
 AM_CONDITIONAL(HAS_atmega1281, test "x$HAS_atmega1281" = "xyes")
 
+CHECK_AVR_DEVICE(atmega1284)
+AM_CONDITIONAL(HAS_atmega1284, test "x$HAS_atmega1284" = "xyes")
+
 CHECK_AVR_DEVICE(atmega1284p)
 AM_CONDITIONAL(HAS_atmega1284p, test "x$HAS_atmega1284p" = "xyes")
 
@@ -894,6 +1033,12 @@ AM_CONDITIONAL(HAS_at90usb1286, test "x$HAS_at90usb1286" = "xyes")
 CHECK_AVR_DEVICE(at90usb1287)
 AM_CONDITIONAL(HAS_at90usb1287, test "x$HAS_at90usb1287" = "xyes")
 
+CHECK_AVR_DEVICE(atmega128rfr2)
+AM_CONDITIONAL(HAS_atmega128rfr2, test "x$HAS_atmega128rfr2" = "xyes")
+
+CHECK_AVR_DEVICE(atmega1284rfr2)
+AM_CONDITIONAL(HAS_atmega1284rfr2, test "x$HAS_atmega1284rfr2" = "xyes")
+
 
 # avr6
 CHECK_AVR_DEVICE(avr6)
@@ -905,6 +1050,20 @@ AM_CONDITIONAL(HAS_atmega2560, test "x$HAS_atmega2560" = "xyes")
 CHECK_AVR_DEVICE(atmega2561)
 AM_CONDITIONAL(HAS_atmega2561, test "x$HAS_atmega2561" = "xyes")
 
+CHECK_AVR_DEVICE(atmega256rfr2)
+AM_CONDITIONAL(HAS_atmega256rfr2, test "x$HAS_atmega256rfr2" = "xyes")
+
+CHECK_AVR_DEVICE(atmega2564rfr2)
+AM_CONDITIONAL(HAS_atmega2564rfr2, test "x$HAS_atmega2564rfr2" = "xyes")
+
+
+# avr7
+CHECK_AVR_DEVICE(avr7)
+AM_CONDITIONAL(HAS_avr7, test "x$HAS_avr7" = "xyes")
+
+CHECK_AVR_DEVICE(ata5831)
+AM_CONDITIONAL(HAS_ata5831, test "x$HAS_ata5831" = "xyes")
+
 
 # avrxmega2
 CHECK_AVR_DEVICE(avrxmega2)
@@ -913,15 +1072,42 @@ AM_CONDITIONAL(HAS_avrxmega2, test "x$HAS_avrxmega2" = "xyes")
 CHECK_AVR_DEVICE(atxmega16a4)
 AM_CONDITIONAL(HAS_atxmega16a4, test "x$HAS_atxmega16a4" = "xyes")
 
+CHECK_AVR_DEVICE(atxmega16a4u)
+AM_CONDITIONAL(HAS_atxmega16a4u, test "x$HAS_atxmega16a4u" = "xyes")
+
+CHECK_AVR_DEVICE(atxmega16c4)
+AM_CONDITIONAL(HAS_atxmega16c4, test "x$HAS_atxmega16c4" = "xyes")
+
 CHECK_AVR_DEVICE(atxmega16d4)
 AM_CONDITIONAL(HAS_atxmega16d4, test "x$HAS_atxmega16d4" = "xyes")
 
 CHECK_AVR_DEVICE(atxmega32a4)
 AM_CONDITIONAL(HAS_atxmega32a4, test "x$HAS_atxmega32a4" = "xyes")
 
+CHECK_AVR_DEVICE(atxmega32a4u)
+AM_CONDITIONAL(HAS_atxmega32a4u, test "x$HAS_atxmega32a4u" = "xyes")
+
+CHECK_AVR_DEVICE(atxmega32c3)
+AM_CONDITIONAL(HAS_atxmega32c3, test "x$HAS_atxmega32c3" = "xyes")
+
+CHECK_AVR_DEVICE(atxmega32c4)
+AM_CONDITIONAL(HAS_atxmega32c4, test "x$HAS_atxmega32c4" = "xyes")
+
+CHECK_AVR_DEVICE(atxmega32d3)
+AM_CONDITIONAL(HAS_atxmega32d3, test "x$HAS_atxmega32d3" = "xyes")
+
 CHECK_AVR_DEVICE(atxmega32d4)
 AM_CONDITIONAL(HAS_atxmega32d4, test "x$HAS_atxmega32d4" = "xyes")
 
+CHECK_AVR_DEVICE(atxmega8e5)
+AM_CONDITIONAL(HAS_atxmega8e5, test "x$HAS_atxmega8e5" = "xyes")
+
+CHECK_AVR_DEVICE(atxmega16e5)
+AM_CONDITIONAL(HAS_atxmega16e5, test "x$HAS_atxmega16e5" = "xyes")
+
+CHECK_AVR_DEVICE(atxmega32e5)
+AM_CONDITIONAL(HAS_atxmega32e5, test "x$HAS_atxmega32e5" = "xyes")
+
 
 # avrxmega4
 CHECK_AVR_DEVICE(avrxmega4)
@@ -930,9 +1116,27 @@ AM_CONDITIONAL(HAS_avrxmega4, test "x$HAS_avrxmega4" = "xyes")
 CHECK_AVR_DEVICE(atxmega64a3)
 AM_CONDITIONAL(HAS_atxmega64a3, test "x$HAS_atxmega64a3" = "xyes")
 
+CHECK_AVR_DEVICE(atxmega64a3u)
+AM_CONDITIONAL(HAS_atxmega64a3u, test "x$HAS_atxmega64a3u" = "xyes")
+
+CHECK_AVR_DEVICE(atxmega64a4u)
+AM_CONDITIONAL(HAS_atxmega64a4u, test "x$HAS_atxmega64a4u" = "xyes")
+
+CHECK_AVR_DEVICE(atxmega64b1)
+AM_CONDITIONAL(HAS_atxmega64b1, test "x$HAS_atxmega64b1" = "xyes")
+
+CHECK_AVR_DEVICE(atxmega64b3)
+AM_CONDITIONAL(HAS_atxmega64b3, test "x$HAS_atxmega64b3" = "xyes")
+
+CHECK_AVR_DEVICE(atxmega64c3)
+AM_CONDITIONAL(HAS_atxmega64c3, test "x$HAS_atxmega64c3" = "xyes")
+
 CHECK_AVR_DEVICE(atxmega64d3)
 AM_CONDITIONAL(HAS_atxmega64d3, test "x$HAS_atxmega64d3" = "xyes")
 
+CHECK_AVR_DEVICE(atxmega64d4)
+AM_CONDITIONAL(HAS_atxmega64d4, test "x$HAS_atxmega64d4" = "xyes")
+
 
 # avrxmega5
 CHECK_AVR_DEVICE(avrxmega5)
@@ -952,24 +1156,59 @@ AM_CONDITIONAL(HAS_avrxmega6, test "x$HAS_avrxmega6" = "xyes")
 CHECK_AVR_DEVICE(atxmega128a3)
 AM_CONDITIONAL(HAS_atxmega128a3, test "x$HAS_atxmega128a3" = "xyes")
 
+CHECK_AVR_DEVICE(atxmega128a3u)
+AM_CONDITIONAL(HAS_atxmega128a3u, test "x$HAS_atxmega128a3u" = "xyes")
+
+CHECK_AVR_DEVICE(atxmega128b1)
+AM_CONDITIONAL(HAS_atxmega128b1, test "x$HAS_atxmega128b1" = "xyes")
+
+CHECK_AVR_DEVICE(atxmega128b3)
+AM_CONDITIONAL(HAS_atxmega128b3, test "x$HAS_atxmega128b3" = "xyes")
+
+CHECK_AVR_DEVICE(atxmega128c3)
+AM_CONDITIONAL(HAS_atxmega128c3, test "x$HAS_atxmega128c3" = "xyes")
+
 CHECK_AVR_DEVICE(atxmega128d3)
 AM_CONDITIONAL(HAS_atxmega128d3, test "x$HAS_atxmega128d3" = "xyes")
 
+CHECK_AVR_DEVICE(atxmega128d4)
+AM_CONDITIONAL(HAS_atxmega128d4, test "x$HAS_atxmega128d4" = "xyes")
+
 CHECK_AVR_DEVICE(atxmega192a3)
 AM_CONDITIONAL(HAS_atxmega192a3, test "x$HAS_atxmega192a3" = "xyes")
 
+CHECK_AVR_DEVICE(atxmega192a3u)
+AM_CONDITIONAL(HAS_atxmega192a3u, test "x$HAS_atxmega192a3u" = "xyes")
+
+CHECK_AVR_DEVICE(atxmega192c3)
+AM_CONDITIONAL(HAS_atxmega192c3, test "x$HAS_atxmega192c3" = "xyes")
+
 CHECK_AVR_DEVICE(atxmega192d3)
 AM_CONDITIONAL(HAS_atxmega192d3, test "x$HAS_atxmega192d3" = "xyes")
 
 CHECK_AVR_DEVICE(atxmega256a3)
 AM_CONDITIONAL(HAS_atxmega256a3, test "x$HAS_atxmega256a3" = "xyes")
 
+CHECK_AVR_DEVICE(atxmega256a3u)
+AM_CONDITIONAL(HAS_atxmega256a3u, test "x$HAS_atxmega256a3u" = "xyes")
+
 CHECK_AVR_DEVICE(atxmega256a3b)
 AM_CONDITIONAL(HAS_atxmega256a3b, test "x$HAS_atxmega256a3b" = "xyes")
 
+CHECK_AVR_DEVICE(atxmega256a3bu)
+AM_CONDITIONAL(HAS_atxmega256a3bu, test "x$HAS_atxmega256a3bu" = "xyes")
+
+CHECK_AVR_DEVICE(atxmega256c3)
+AM_CONDITIONAL(HAS_atxmega256c3, test "x$HAS_atxmega256c3" = "xyes")
+
 CHECK_AVR_DEVICE(atxmega256d3)
 AM_CONDITIONAL(HAS_atxmega256d3, test "x$HAS_atxmega256d3" = "xyes")
 
+CHECK_AVR_DEVICE(atxmega384c3)
+AM_CONDITIONAL(HAS_atxmega384c3, test "x$HAS_atxmega384c3" = "xyes")
+
+CHECK_AVR_DEVICE(atxmega384d3)
+AM_CONDITIONAL(HAS_atxmega384d3, test "x$HAS_atxmega384d3" = "xyes")
 
 # avrxmega7
 CHECK_AVR_DEVICE(avrxmega7)
@@ -981,10 +1220,13 @@ AM_CONDITIONAL(HAS_atxmega128a1, test "x$HAS_atxmega128a1" = "xyes")
 CHECK_AVR_DEVICE(atxmega128a1u)
 AM_CONDITIONAL(HAS_atxmega128a1u, test "x$HAS_atxmega128a1u" = "xyes")
 
+CHECK_AVR_DEVICE(atxmega128a4u)
+AM_CONDITIONAL(HAS_atxmega128a4u, test "x$HAS_atxmega128a4u" = "xyes")
 
-# avrtiny10
-CHECK_AVR_DEVICE(avrtiny10)
-AM_CONDITIONAL(HAS_avrtiny10, test "x$HAS_avrtiny10" = "xyes")
+
+# avrtiny
+CHECK_AVR_DEVICE(avrtiny)
+AM_CONDITIONAL(HAS_avrtiny, test "x$HAS_avrtiny" = "xyes")
 
 CHECK_AVR_DEVICE(attiny4)
 AM_CONDITIONAL(HAS_attiny4, test "x$HAS_attiny4" = "xyes")
@@ -1071,11 +1313,24 @@ AC_CONFIG_FILES([
 	avr/lib/avr2/at86rf401/Makefile
 ])
 
+#avr2/tiny-stack
+AC_CONFIG_FILES([
+    avr/lib/avr2/tiny-stack/Makefile
+    avr/lib/avr2/tiny-stack/at90s2313/Makefile
+    avr/lib/avr2/tiny-stack/at90s2323/Makefile
+    avr/lib/avr2/tiny-stack/at90s2333/Makefile
+    avr/lib/avr2/tiny-stack/at90s2343/Makefile
+    avr/lib/avr2/tiny-stack/at90s4433/Makefile
+    avr/lib/avr2/tiny-stack/attiny22/Makefile
+    avr/lib/avr2/tiny-stack/attiny26/Makefile
+])
+
 #avr25
 AC_CONFIG_FILES([
 	avr/lib/avr25/Makefile
 	avr/lib/avr25/at86rf401/Makefile
-	avr/lib/avr25/ata6289/Makefile
+	avr/lib/avr25/ata5272/Makefile
+	avr/lib/avr25/ata6616c/Makefile
 	avr/lib/avr25/attiny13/Makefile
 	avr/lib/avr25/attiny13a/Makefile
 	avr/lib/avr25/attiny2313/Makefile
@@ -1089,12 +1344,15 @@ AC_CONFIG_FILES([
 	avr/lib/avr25/attiny43u/Makefile
 	avr/lib/avr25/attiny44/Makefile
 	avr/lib/avr25/attiny44a/Makefile
+	avr/lib/avr25/attiny441/Makefile
 	avr/lib/avr25/attiny45/Makefile
 	avr/lib/avr25/attiny461/Makefile
 	avr/lib/avr25/attiny461a/Makefile
 	avr/lib/avr25/attiny48/Makefile
+	avr/lib/avr25/attiny828/Makefile
 	avr/lib/avr25/attiny84/Makefile
 	avr/lib/avr25/attiny84a/Makefile
+	avr/lib/avr25/attiny841/Makefile
 	avr/lib/avr25/attiny85/Makefile
 	avr/lib/avr25/attiny861/Makefile
 	avr/lib/avr25/attiny861a/Makefile
@@ -1102,6 +1360,20 @@ AC_CONFIG_FILES([
 	avr/lib/avr25/attiny88/Makefile
 ])
 
+#avr25/tiny-stack
+AC_CONFIG_FILES([
+    avr/lib/avr25/tiny-stack/Makefile
+    avr/lib/avr25/tiny-stack/attiny13/Makefile
+    avr/lib/avr25/tiny-stack/attiny13a/Makefile
+    avr/lib/avr25/tiny-stack/attiny2313/Makefile
+    avr/lib/avr25/tiny-stack/attiny2313a/Makefile
+    avr/lib/avr25/tiny-stack/attiny24/Makefile
+    avr/lib/avr25/tiny-stack/attiny24a/Makefile
+    avr/lib/avr25/tiny-stack/attiny25/Makefile
+    avr/lib/avr25/tiny-stack/attiny261/Makefile
+    avr/lib/avr25/tiny-stack/attiny261a/Makefile
+])
+
 #avr3
 AC_CONFIG_FILES([
 	avr/lib/avr3/Makefile
@@ -1125,19 +1397,29 @@ AC_CONFIG_FILES([
 	avr/lib/avr35/Makefile
 	avr/lib/avr35/at90usb82/Makefile
 	avr/lib/avr35/at90usb162/Makefile
+	avr/lib/avr35/ata5505/Makefile
+	avr/lib/avr35/ata6617c/Makefile
+	avr/lib/avr35/ata664251/Makefile
 	avr/lib/avr35/atmega8u2/Makefile
 	avr/lib/avr35/atmega16u2/Makefile
 	avr/lib/avr35/atmega32u2/Makefile
 	avr/lib/avr35/attiny167/Makefile
+	avr/lib/avr35/attiny1634/Makefile
 ])
 
 #avr4
 AC_CONFIG_FILES([
 	avr/lib/avr4/Makefile
+	avr/lib/avr4/ata6285/Makefile
+	avr/lib/avr4/ata6286/Makefile
+	avr/lib/avr4/ata6289/Makefile
+	avr/lib/avr4/ata6612c/Makefile
 	avr/lib/avr4/atmega48/Makefile
 	avr/lib/avr4/atmega48a/Makefile
+	avr/lib/avr4/atmega48pa/Makefile
 	avr/lib/avr4/atmega48p/Makefile
 	avr/lib/avr4/atmega8/Makefile
+	avr/lib/avr4/atmega8a/Makefile
 	avr/lib/avr4/atmega88/Makefile
 	avr/lib/avr4/atmega88a/Makefile
 	avr/lib/avr4/atmega88p/Makefile
@@ -1161,12 +1443,18 @@ AC_CONFIG_FILES([
 	avr/lib/avr5/at90can128/Makefile
 	avr/lib/avr5/at90pwm216/Makefile
 	avr/lib/avr5/at90pwm316/Makefile
+	avr/lib/avr5/at90pwm161/Makefile
 	avr/lib/avr5/at90scr100/Makefile
 	avr/lib/avr5/at90usb646/Makefile
 	avr/lib/avr5/at90usb647/Makefile
 	avr/lib/avr5/at90usb1286/Makefile
 	avr/lib/avr5/at90usb1287/Makefile
 	avr/lib/avr5/at94k/Makefile 
+	avr/lib/avr5/ata5790/Makefile 
+	avr/lib/avr5/ata5790n/Makefile 
+	avr/lib/avr5/ata5795/Makefile 
+	avr/lib/avr5/ata6613c/Makefile
+	avr/lib/avr5/ata6614q/Makefile
 	avr/lib/avr5/atmega16/Makefile
 	avr/lib/avr5/atmega16a/Makefile
 	avr/lib/avr5/atmega161/Makefile
@@ -1174,12 +1462,15 @@ AC_CONFIG_FILES([
 	avr/lib/avr5/atmega163/Makefile
 	avr/lib/avr5/atmega164a/Makefile
 	avr/lib/avr5/atmega164p/Makefile
+	avr/lib/avr5/atmega164pa/Makefile
 	avr/lib/avr5/atmega165/Makefile
 	avr/lib/avr5/atmega165a/Makefile
 	avr/lib/avr5/atmega165p/Makefile
+        avr/lib/avr5/atmega165pa/Makefile
 	avr/lib/avr5/atmega168/Makefile
 	avr/lib/avr5/atmega168a/Makefile
 	avr/lib/avr5/atmega168p/Makefile
+	avr/lib/avr5/atmega168pa/Makefile
 	avr/lib/avr5/atmega169/Makefile
 	avr/lib/avr5/atmega169a/Makefile
 	avr/lib/avr5/atmega169p/Makefile
@@ -1191,6 +1482,7 @@ AC_CONFIG_FILES([
 	avr/lib/avr5/atmega16m1/Makefile
 	avr/lib/avr5/atmega16u4/Makefile
 	avr/lib/avr5/atmega32/Makefile
+	avr/lib/avr5/atmega32a/Makefile
 	avr/lib/avr5/atmega323/Makefile
 	avr/lib/avr5/atmega324a/Makefile
 	avr/lib/avr5/atmega324p/Makefile
@@ -1198,9 +1490,11 @@ AC_CONFIG_FILES([
 	avr/lib/avr5/atmega325/Makefile
 	avr/lib/avr5/atmega325a/Makefile
 	avr/lib/avr5/atmega325p/Makefile
+	avr/lib/avr5/atmega325pa/Makefile
 	avr/lib/avr5/atmega3250/Makefile
 	avr/lib/avr5/atmega3250a/Makefile
 	avr/lib/avr5/atmega3250p/Makefile
+	avr/lib/avr5/atmega3250pa/Makefile
 	avr/lib/avr5/atmega328/Makefile
 	avr/lib/avr5/atmega328p/Makefile
 	avr/lib/avr5/atmega329/Makefile
@@ -1210,6 +1504,7 @@ AC_CONFIG_FILES([
 	avr/lib/avr5/atmega3290/Makefile
 	avr/lib/avr5/atmega3290a/Makefile
 	avr/lib/avr5/atmega3290p/Makefile
+	avr/lib/avr5/atmega3290pa/Makefile
 	avr/lib/avr5/atmega32c1/Makefile
 	avr/lib/avr5/atmega32hvb/Makefile
 	avr/lib/avr5/atmega32hvbrevb/Makefile
@@ -1217,7 +1512,10 @@ AC_CONFIG_FILES([
 	avr/lib/avr5/atmega32u4/Makefile
 	avr/lib/avr5/atmega32u6/Makefile
 	avr/lib/avr5/atmega406/Makefile
+	avr/lib/avr5/atmega64rfr2/Makefile
+	avr/lib/avr5/atmega644rfr2/Makefile
 	avr/lib/avr5/atmega64/Makefile
+	avr/lib/avr5/atmega64a/Makefile
 	avr/lib/avr5/atmega640/Makefile
 	avr/lib/avr5/atmega644/Makefile
 	avr/lib/avr5/atmega644a/Makefile
@@ -1237,6 +1535,7 @@ AC_CONFIG_FILES([
 	avr/lib/avr5/atmega6490p/Makefile
 	avr/lib/avr5/atmega64c1/Makefile
 	avr/lib/avr5/atmega64hve/Makefile
+	avr/lib/avr5/atmega64hve2/Makefile
 	avr/lib/avr5/atmega64m1/Makefile
 	avr/lib/avr5/atmega128/Makefile
 	avr/lib/avr5/atmega1280/Makefile
@@ -1250,10 +1549,14 @@ AC_CONFIG_FILES([
 AC_CONFIG_FILES([
 	avr/lib/avr51/Makefile
 	avr/lib/avr51/atmega128/Makefile
+	avr/lib/avr51/atmega128a/Makefile
 	avr/lib/avr51/atmega1280/Makefile
 	avr/lib/avr51/atmega1281/Makefile
+	avr/lib/avr51/atmega1284/Makefile
 	avr/lib/avr51/atmega1284p/Makefile
 	avr/lib/avr51/atmega128rfa1/Makefile
+	avr/lib/avr51/atmega128rfr2/Makefile
+	avr/lib/avr51/atmega1284rfr2/Makefile
 	avr/lib/avr51/at90can128/Makefile
 	avr/lib/avr51/at90usb1286/Makefile
 	avr/lib/avr51/at90usb1287/Makefile
@@ -1264,22 +1567,45 @@ AC_CONFIG_FILES([
 	avr/lib/avr6/Makefile
 	avr/lib/avr6/atmega2560/Makefile
 	avr/lib/avr6/atmega2561/Makefile
+	avr/lib/avr6/atmega256rfr2/Makefile
+	avr/lib/avr6/atmega2564rfr2/Makefile
+])
+
+#avr7
+AC_CONFIG_FILES([
+	avr/lib/avr7/Makefile
+	avr/lib/avr7/ata5831/Makefile
 ])
 
 # avrxmega2
 AC_CONFIG_FILES([
 	avr/lib/avrxmega2/Makefile
 	avr/lib/avrxmega2/atxmega16a4/Makefile
+	avr/lib/avrxmega2/atxmega16a4u/Makefile
+	avr/lib/avrxmega2/atxmega16c4/Makefile
 	avr/lib/avrxmega2/atxmega16d4/Makefile
 	avr/lib/avrxmega2/atxmega32a4/Makefile
+	avr/lib/avrxmega2/atxmega32a4u/Makefile
+	avr/lib/avrxmega2/atxmega32c3/Makefile
+	avr/lib/avrxmega2/atxmega32c4/Makefile
+	avr/lib/avrxmega2/atxmega32d3/Makefile
 	avr/lib/avrxmega2/atxmega32d4/Makefile
+	avr/lib/avrxmega2/atxmega8e5/Makefile
+	avr/lib/avrxmega2/atxmega16e5/Makefile
+	avr/lib/avrxmega2/atxmega32e5/Makefile
 ])
 
 # avrxmega4
 AC_CONFIG_FILES([
 	avr/lib/avrxmega4/Makefile
 	avr/lib/avrxmega4/atxmega64a3/Makefile
+	avr/lib/avrxmega4/atxmega64a3u/Makefile
+	avr/lib/avrxmega4/atxmega64a4u/Makefile
+	avr/lib/avrxmega4/atxmega64b1/Makefile
+	avr/lib/avrxmega4/atxmega64b3/Makefile
+	avr/lib/avrxmega4/atxmega64c3/Makefile
 	avr/lib/avrxmega4/atxmega64d3/Makefile
+	avr/lib/avrxmega4/atxmega64d4/Makefile
 ])
 
 # avrxmega5
@@ -1293,12 +1619,24 @@ AC_CONFIG_FILES([
 AC_CONFIG_FILES([
 	avr/lib/avrxmega6/Makefile
 	avr/lib/avrxmega6/atxmega128a3/Makefile
+	avr/lib/avrxmega6/atxmega128a3u/Makefile
+	avr/lib/avrxmega6/atxmega128b1/Makefile
+	avr/lib/avrxmega6/atxmega128b3/Makefile
+	avr/lib/avrxmega6/atxmega128c3/Makefile
 	avr/lib/avrxmega6/atxmega128d3/Makefile
+	avr/lib/avrxmega6/atxmega128d4/Makefile
 	avr/lib/avrxmega6/atxmega192a3/Makefile
+	avr/lib/avrxmega6/atxmega192a3u/Makefile
+	avr/lib/avrxmega6/atxmega192c3/Makefile
 	avr/lib/avrxmega6/atxmega192d3/Makefile
 	avr/lib/avrxmega6/atxmega256a3/Makefile
+	avr/lib/avrxmega6/atxmega256a3u/Makefile
 	avr/lib/avrxmega6/atxmega256a3b/Makefile
+	avr/lib/avrxmega6/atxmega256a3bu/Makefile
+	avr/lib/avrxmega6/atxmega256c3/Makefile
 	avr/lib/avrxmega6/atxmega256d3/Makefile
+	avr/lib/avrxmega6/atxmega384c3/Makefile
+	avr/lib/avrxmega6/atxmega384d3/Makefile
 ])
 
 # avrxmega7
@@ -1306,18 +1644,19 @@ AC_CONFIG_FILES([
 	avr/lib/avrxmega7/Makefile
 	avr/lib/avrxmega7/atxmega128a1/Makefile
 	avr/lib/avrxmega7/atxmega128a1u/Makefile
+	avr/lib/avrxmega7/atxmega128a4u/Makefile
 ])
 
 
-# avrtiny10
+# avrtiny
 AC_CONFIG_FILES([
-	avr/lib/avrtiny10/Makefile
-	avr/lib/avrtiny10/attiny4/Makefile
-	avr/lib/avrtiny10/attiny5/Makefile
-	avr/lib/avrtiny10/attiny9/Makefile
-	avr/lib/avrtiny10/attiny10/Makefile
-	avr/lib/avrtiny10/attiny20/Makefile
-	avr/lib/avrtiny10/attiny40/Makefile
+	avr/lib/avrtiny/Makefile
+	avr/lib/avrtiny/attiny4/Makefile
+	avr/lib/avrtiny/attiny5/Makefile
+	avr/lib/avrtiny/attiny9/Makefile
+	avr/lib/avrtiny/attiny10/Makefile
+	avr/lib/avrtiny/attiny20/Makefile
+	avr/lib/avrtiny/attiny40/Makefile
 ])
 
 
diff --git a/crt1/Makefile.am b/crt1/Makefile.am
index 1d92488..f2f050e 100644
--- a/crt1/Makefile.am
+++ b/crt1/Makefile.am
@@ -23,7 +23,7 @@
 # ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 # POSSIBILITY OF SUCH DAMAGE.
 #
-# $Id: Makefile.am 802 2005-08-11 20:55:26Z joerg_wunsch $
+# $Id$
 #
 
 EXTRA_DIST = gcrt1.S
diff --git a/crt1/gcrt1.S b/crt1/gcrt1.S
index eaad975..b30f47a 100644
--- a/crt1/gcrt1.S
+++ b/crt1/gcrt1.S
@@ -29,7 +29,7 @@
    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
    POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: gcrt1.S 2114 2010-03-31 05:12:22Z arcanum $ */
+/* $Id$ */
 
 #if (__GNUC__ < 3) || (__GNUC__ == 3 && __GNUC_MINOR__ < 3)
 #error "GCC version >= 3.3 required"
@@ -216,11 +216,19 @@ __init:
 	clr	__zero_reg__
 	out	AVR_STATUS_ADDR, __zero_reg__
 	ldi	r28,lo8(__stack)
+#ifdef __AVR_XMEGA__
+	out	AVR_STACK_POINTER_LO_ADDR, r28
+#ifdef _HAVE_AVR_STACK_POINTER_HI
+	ldi	r29,hi8(__stack)
+	out	AVR_STACK_POINTER_HI_ADDR, r29
+#endif	/* _HAVE_AVR_STACK_POINTER_HI */
+#else
 #ifdef _HAVE_AVR_STACK_POINTER_HI
 	ldi	r29,hi8(__stack)
 	out	AVR_STACK_POINTER_HI_ADDR, r29
 #endif	/* _HAVE_AVR_STACK_POINTER_HI */
 	out	AVR_STACK_POINTER_LO_ADDR, r28
+#endif  /* __AVR_XMEGA__ */
 
 #ifdef __AVR_3_BYTE_PC__
 	ldi	r16, hh8(pm(__vectors))
diff --git a/devtools/Architecture.am b/devtools/Architecture.am
index e729355..dd06140 100644
--- a/devtools/Architecture.am
+++ b/devtools/Architecture.am
@@ -47,9 +47,9 @@ endif	# <<dev>>
 
 AM_CPPFLAGS = -I$(top_srcdir)/common -I$(top_srcdir)/include -I$(top_builddir)/include
 
-AVRLIB_CFLAGS = -g -Wall -W -Wstrict-prototypes -mmcu=$(AVR_TARGET) $(AVR_TARGET_DEFS) $(AVR_TARGET_CFLAGS)
+AVRLIB_CFLAGS = @CDEBUG@ -Wall -W -Wstrict-prototypes -mmcu=$(AVR_TARGET) $(AVR_TARGET_DEFS) $(AVR_TARGET_CFLAGS)
 
-AVRLIB_ASFLAGS = -x assembler-with-cpp -Wa,-gstabs -mmcu=$(AVR_TARGET) $(AVR_TARGET_DEFS) $(AVR_TARGET_ASFLAGS)
+AVRLIB_ASFLAGS = -x assembler-with-cpp @ASDEBUG@ -mmcu=$(AVR_TARGET) $(AVR_TARGET_DEFS) $(AVR_TARGET_ASFLAGS)
 
 AM_CFLAGS = $(AVRLIB_CFLAGS)
 AM_CCASFLAGS = $(AM_CPPFLAGS) $(AVRLIB_ASFLAGS)
diff --git a/devtools/Device.am b/devtools/Device.am
index 6a461e7..8c8af87 100644
--- a/devtools/Device.am
+++ b/devtools/Device.am
@@ -41,9 +41,9 @@ if HAS_<<dev>>
 
 AM_CPPFLAGS = -I$(top_srcdir)/common -I$(top_srcdir)/include -I$(top_builddir)/include
 
-AVRLIB_CFLAGS = -gstabs -Wall -W -Wstrict-prototypes -mmcu=$(AVR_TARGET) $(AVR_TARGET_DEFS) $(AVR_TARGET_CFLAGS)
+AVRLIB_CFLAGS = @CDEBUG@ -Wall -W -Wstrict-prototypes -mmcu=$(AVR_TARGET) $(AVR_TARGET_DEFS) $(AVR_TARGET_CFLAGS)
 
-AVRLIB_ASFLAGS = -x assembler-with-cpp -Wa,-gstabs -mmcu=$(AVR_TARGET) $(AVR_TARGET_DEFS) $(AVR_TARGET_ASFLAGS)
+AVRLIB_ASFLAGS = -x assembler-with-cpp @ASDEBUG@ -mmcu=$(AVR_TARGET) $(AVR_TARGET_DEFS) $(AVR_TARGET_ASFLAGS)
 
 AM_CFLAGS = $(AVRLIB_CFLAGS)
 AM_CCASFLAGS = $(AM_CPPFLAGS) $(AVRLIB_ASFLAGS)
diff --git a/devtools/Makefile.am b/devtools/Makefile.am
index 245ffc7..2bf4ec3 100644
--- a/devtools/Makefile.am
+++ b/devtools/Makefile.am
@@ -26,7 +26,7 @@
 # ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 # POSSIBILITY OF SUCH DAMAGE.
 #
-# $Id: Makefile.am 2166 2010-06-13 13:14:47Z joerg_wunsch $
+# $Id$
 #
 
 EXTRA_DIST = \
diff --git a/devtools/cr_check.py b/devtools/cr_check.py
index cb5a45e..f72ee21 100755
--- a/devtools/cr_check.py
+++ b/devtools/cr_check.py
@@ -30,7 +30,7 @@
 # ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 # POSSIBILITY OF SUCH DAMAGE.
 #
-# $Id: cr_check.py 605 2004-11-02 16:01:29Z troth $
+# $Id$
 #
 
 #
diff --git a/devtools/gen-avr-lib-tree.sh b/devtools/gen-avr-lib-tree.sh
index 276304a..47b12c1 100755
--- a/devtools/gen-avr-lib-tree.sh
+++ b/devtools/gen-avr-lib-tree.sh
@@ -29,7 +29,7 @@
 # ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 # POSSIBILITY OF SUCH DAMAGE.
 #
-# $Id: gen-avr-lib-tree.sh 2211 2011-02-14 14:04:25Z aboyapati $
+# $Id$
 #
 
 # This is a script to automate the generation of the avr/lib/ tree. Since
@@ -44,6 +44,7 @@
 # Define the special flags for special sub-targets.
 
 CFLAGS_SPACE="-mcall-prologues -Os"
+CFLAGS_TINY_STACK="-mtiny-stack -mcall-prologues -Os"
 CFLAGS_BIG_MEMORY='-Os $(FNO_JUMP_TABLES)'
 CFLAGS_SPEED="-Os"
 
@@ -81,9 +82,21 @@ attiny461:crttn461.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
 attiny861:crttn861.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS}\
 "
 
+
+AVR12TS_DEV_INFO="\
+at90s2313:crts2313.o:${DEV_DEFS}:${CFLAGS_TINY_STACK}:${DEV_ASFLAGS};\
+at90s2323:crts2323.o:${DEV_DEFS}:${CFLAGS_TINY_STACK}:${DEV_ASFLAGS};\
+at90s2333:crts2333.o:${DEV_DEFS}:${CFLAGS_TINY_STACK}:${DEV_ASFLAGS};\
+at90s2343:crts2343.o:${DEV_DEFS}:${CFLAGS_TINY_STACK}:${DEV_ASFLAGS};\
+at90s4433:crts4433.o:${DEV_DEFS}:${CFLAGS_TINY_STACK}:${DEV_ASFLAGS};\
+attiny22:crttn22.o:${DEV_DEFS}:${CFLAGS_TINY_STACK}:${DEV_ASFLAGS};\
+attiny26:crttn26.o:${DEV_DEFS}:${CFLAGS_TINY_STACK}:${DEV_ASFLAGS}\
+"
+
 AVR25_DEV_INFO="\
 at86rf401:crt86401.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
-ata6289:crta6289.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
+ata5272:crta5272.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
+ata6616c:crta6616c.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
 attiny13:crttn13.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
 attiny13a:crttn13a.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
 attiny2313:crttn2313.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
@@ -97,18 +110,33 @@ attiny4313:crttn4313.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
 attiny43u:crttn43u.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
 attiny44:crttn44.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
 attiny44a:crttn44a.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
+attiny441:crttn441.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
 attiny45:crttn45.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
 attiny461:crttn461.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
 attiny461a:crttn461a.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
 attiny48:crttn48.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
+attiny828:crttn828.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
 attiny84:crttn84.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
 attiny84a:crttn84a.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
+attiny841:crttn841.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
 attiny85:crttn85.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
 attiny861:crttn861.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
 attiny861a:crttn861a.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
 attiny87:crttn87.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
 attiny88:crttn88.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS}\
 "
+AVR25TS_DEV_INFO="\
+attiny13:crttn13.o:${DEV_DEFS}:${CFLAGS_TINY_STACK}:${DEV_ASFLAGS};\
+attiny13a:crttn13a.o:${DEV_DEFS}:${CFLAGS_TINY_STACK}:${DEV_ASFLAGS};\
+attiny2313:crttn2313.o:${DEV_DEFS}:${CFLAGS_TINY_STACK}:${DEV_ASFLAGS};\
+attiny2313a:crttn2313a.o:${DEV_DEFS}:${CFLAGS_TINY_STACK}:${DEV_ASFLAGS};\
+attiny24:crttn24.o:${DEV_DEFS}:${CFLAGS_TINY_STACK}:${DEV_ASFLAGS};\
+attiny24a:crttn24a.o:${DEV_DEFS}:${CFLAGS_TINY_STACK}:${DEV_ASFLAGS};\
+attiny25:crttn25.o:${DEV_DEFS}:${CFLAGS_TINY_STACK}:${DEV_ASFLAGS};\
+attiny261:crttn261.o:${DEV_DEFS}:${CFLAGS_TINY_STACK}:${DEV_ASFLAGS};\
+attiny261a:crttn261a.o:${DEV_DEFS}:${CFLAGS_TINY_STACK}:${DEV_ASFLAGS}\
+"
+
 
 AVR3_DEV_INFO="\
 atmega103:crtm103.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
@@ -127,17 +155,27 @@ at43usb320:crt43320.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS}\
 AVR35_DEV_INFO="\
 at90usb82:crtusb82.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
 at90usb162:crtusb162.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
+ata5505:crta5505.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
+ata6617c:crta6617c.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
+ata664251:crta664251.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
 atmega8u2:crtm8u2.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
 atmega16u2:crtm16u2.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
 atmega32u2:crtm32u2.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
-attiny167:crttn167.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS}\
+attiny167:crttn167.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
+attiny1634:crttn1634.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS}\
 "
 
 AVR4_DEV_INFO="\
+ata6285:crta6285.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
+ata6286:crta6286.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
+ata6289:crta6289.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
+ata6612c:crta6612c.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
 atmega48:crtm48.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
 atmega48a:crtm48a.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
+atmega48pa:crtm48pa.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
 atmega48p:crtm48p.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
 atmega8:crtm8.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
+atmega8a:crtm8a.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
 atmega88:crtm88.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
 atmega88a:crtm88a.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
 atmega88p:crtm88p.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
@@ -159,12 +197,18 @@ at90can64:crtcan64.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
 at90can128:crtcan128.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
 at90pwm216:crt90pwm216.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
 at90pwm316:crt90pwm316.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
+at90pwm161:crt90pwm161.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
 at90scr100:crt90scr100.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
 at90usb646:crtusb646.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
 at90usb647:crtusb647.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
 at90usb1286:crtusb1286.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
 at90usb1287:crtusb1287.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
 at94k:crtat94k.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
+ata5790:crta5790.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
+ata5790n:crta5790n.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
+ata5795:crta5795.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
+ata6613c:crta6613c.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
+ata6614q:crta6614q.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
 atmega16:crtm16.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
 atmega16a:crtm16a.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
 atmega161:crtm161.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
@@ -172,12 +216,15 @@ atmega162:crtm162.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
 atmega163:crtm163.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
 atmega164a:crtm164a.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
 atmega164p:crtm164p.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
+atmega164pa:crtm164pa.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
 atmega165:crtm165.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
 atmega165a:crtm165a.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
 atmega165p:crtm165p.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
+atmega165pa:crtm165pa.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
 atmega168:crtm168.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
 atmega168a:crtm168a.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
 atmega168p:crtm168p.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
+atmega168pa:crtm168pa.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
 atmega169:crtm169.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
 atmega169a:crtm169a.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
 atmega169p:crtm169p.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
@@ -189,6 +236,7 @@ atmega16hvbrevb:crtm16hvbrevb.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
 atmega16m1:crtm16m1.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
 atmega16u4:crtm16u4.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
 atmega32:crtm32.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
+atmega32a:crtm32a.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
 atmega323:crtm323.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
 atmega324a:crtm324a.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
 atmega324p:crtm324p.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
@@ -196,9 +244,11 @@ atmega324pa:crtm324pa.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
 atmega325:crtm325.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
 atmega325a:crtm325a.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
 atmega325p:crtm325p.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
+atmega325pa:crtm325pa.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
 atmega3250:crtm3250.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
 atmega3250a:crtm3250a.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
 atmega3250p:crtm3250p.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
+atmega3250pa:crtm3250pa.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
 atmega328:crtm328.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
 atmega328p:crtm328p.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
 atmega329:crtm329.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
@@ -208,6 +258,7 @@ atmega329pa:crtm329pa.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
 atmega3290:crtm3290.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
 atmega3290a:crtm3290a.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
 atmega3290p:crtm3290p.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
+atmega3290pa:crtm3290pa.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
 atmega32c1:crtm32c1.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
 atmega32hvb:crtm32hvb.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
 atmega32hvbrevb:crtm32hvbrevb.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
@@ -215,7 +266,10 @@ atmega32m1:crtm32m1.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
 atmega32u4:crtm32u4.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
 atmega32u6:crtm32u6.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
 atmega406:crtm406.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
+atmega64rfr2:crtm64rfr2.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
+atmega644rfr2:crtm644rfr2.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
 atmega64:crtm64.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
+atmega64a:crtm64a.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
 atmega640:crtm640.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
 atmega644:crtm644.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
 atmega644a:crtm644a.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
@@ -235,6 +289,7 @@ atmega6490a:crtm6490a.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
 atmega6490p:crtm6490p.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
 atmega64c1:crtm64c1.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
 atmega64hve:crtm64hve.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
+atmega64hve2:crtm64hve2.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
 atmega64m1:crtm64m1.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
 atmega128:crtm128.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
 atmega1280:crtm1280.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
@@ -246,10 +301,14 @@ m3000:crtm3000.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS}\
 
 AVR51_DEV_INFO="\
 atmega128:crtm128.o:${DEV_DEFS}:${CFLAGS_BIG_MEMORY}:${DEV_ASFLAGS};\
+atmega128a:crtm128a.o:${DEV_DEFS}:${CFLAGS_BIG_MEMORY}:${DEV_ASFLAGS};\
 atmega1280:crtm1280.o:${DEV_DEFS}:${CFLAGS_BIG_MEMORY}:${DEV_ASFLAGS};\
 atmega1281:crtm1281.o:${DEV_DEFS}:${CFLAGS_BIG_MEMORY}:${DEV_ASFLAGS};\
+atmega1284:crtm1284.o:${DEV_DEFS}:${CFLAGS_BIG_MEMORY}:${DEV_ASFLAGS};\
 atmega1284p:crtm1284p.o:${DEV_DEFS}:${CFLAGS_BIG_MEMORY}:${DEV_ASFLAGS};\
 atmega128rfa1:crtm128rfa1.o:${DEV_DEFS}:${CFLAGS_BIG_MEMORY}:${DEV_ASFLAGS};\
+atmega128rfr2:crtm128rfr2.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
+atmega1284rfr2:crtm1284rfr2.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
 at90can128:crtcan128.o:${DEV_DEFS}:${CFLAGS_BIG_MEMORY}:${DEV_ASFLAGS};\
 at90usb1286:crtusb1286.o:${DEV_DEFS}:${CFLAGS_BIG_MEMORY}:${DEV_ASFLAGS};\
 at90usb1287:crtusb1287.o:${DEV_DEFS}:${CFLAGS_BIG_MEMORY}:${DEV_ASFLAGS}\
@@ -257,19 +316,40 @@ at90usb1287:crtusb1287.o:${DEV_DEFS}:${CFLAGS_BIG_MEMORY}:${DEV_ASFLAGS}\
 
 AVR6_DEV_INFO="\
 atmega2560:crtm2560.o:${DEV_DEFS}:${CFLAGS_BIG_MEMORY}:${DEV_ASFLAGS};\
-atmega2561:crtm2561.o:${DEV_DEFS}:${CFLAGS_BIG_MEMORY}:${DEV_ASFLAGS}\
+atmega2561:crtm2561.o:${DEV_DEFS}:${CFLAGS_BIG_MEMORY}:${DEV_ASFLAGS};\
+atmega256rfr2:crtm256rfr2.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
+atmega2564rfr2:crtm2564rfr2.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS}\
+"
+
+AVR7_DEV_INFO="\
+ata5831:crta5831.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS}\
 "
 
 AVRXMEGA2_DEV_INFO="\
 atxmega16a4:crtx16a4.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
+atxmega16a4u:crtx16a4u.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
+atxmega16c4:crtx16c4.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
 atxmega16d4:crtx16d4.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
 atxmega32a4:crtx32a4.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
-atxmega32d4:crtx32d4.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS}\
+atxmega32a4u:crtx32a4u.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
+atxmega32c3:crtx32c3.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
+atxmega32c4:crtx32c4.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
+atxmega32d3:crtx32d3.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
+atxmega32d4:crtx32d4.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
+atxmega8e5:crtx8e5.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
+atxmega16e5:crtx16e5.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
+atxmega32e5:crtx32e5.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS}\
 "
 
 AVRXMEGA4_DEV_INFO="\
 atxmega64a3:crtx64a3.o:${DEV_DEFS}:${CFLAGS_BIG_MEMORY}:${DEV_ASFLAGS};\
-atxmega64d3:crtx64d3.o:${DEV_DEFS}:${CFLAGS_BIG_MEMORY}:${DEV_ASFLAGS}\
+atxmega64a3u:crtx64a3u.o:${DEV_DEFS}:${CFLAGS_BIG_MEMORY}:${DEV_ASFLAGS};\
+atxmega64a4u:crtx64a4u.o:${DEV_DEFS}:${CFLAGS_BIG_MEMORY}:${DEV_ASFLAGS};\
+atxmega64b1:crtx64b1.o:${DEV_DEFS}:${CFLAGS_BIG_MEMORY}:${DEV_ASFLAGS};\
+atxmega64b3:crtx64b3.o:${DEV_DEFS}:${CFLAGS_BIG_MEMORY}:${DEV_ASFLAGS};\
+atxmega64c3:crtx64c3.o:${DEV_DEFS}:${CFLAGS_BIG_MEMORY}:${DEV_ASFLAGS};\
+atxmega64d3:crtx64d3.o:${DEV_DEFS}:${CFLAGS_BIG_MEMORY}:${DEV_ASFLAGS};\
+atxmega64d4:crtx64d4.o:${DEV_DEFS}:${CFLAGS_BIG_MEMORY}:${DEV_ASFLAGS}\
 "
 
 AVRXMEGA5_DEV_INFO="\
@@ -279,20 +359,33 @@ atxmega64a1u:crtx64a1u.o:${DEV_DEFS}:${CFLAGS_BIG_MEMORY}:${DEV_ASFLAGS}\
 
 AVRXMEGA6_DEV_INFO="\
 atxmega128a3:crtx128a3.o:${DEV_DEFS}:${CFLAGS_BIG_MEMORY}:${DEV_ASFLAGS};\
+atxmega128a3u:crtx128a3u.o:${DEV_DEFS}:${CFLAGS_BIG_MEMORY}:${DEV_ASFLAGS};\
+atxmega128b1:crtx128b1.o:${DEV_DEFS}:${CFLAGS_BIG_MEMORY}:${DEV_ASFLAGS};\
+atxmega128b3:crtx128b3.o:${DEV_DEFS}:${CFLAGS_BIG_MEMORY}:${DEV_ASFLAGS};\
+atxmega128c3:crtx128c3.o:${DEV_DEFS}:${CFLAGS_BIG_MEMORY}:${DEV_ASFLAGS};\
 atxmega128d3:crtx128d3.o:${DEV_DEFS}:${CFLAGS_BIG_MEMORY}:${DEV_ASFLAGS};\
+atxmega128d4:crtx128d4.o:${DEV_DEFS}:${CFLAGS_BIG_MEMORY}:${DEV_ASFLAGS};\
 atxmega192a3:crtx192a3.o:${DEV_DEFS}:${CFLAGS_BIG_MEMORY}:${DEV_ASFLAGS};\
+atxmega192a3u:crtx192a3u.o:${DEV_DEFS}:${CFLAGS_BIG_MEMORY}:${DEV_ASFLAGS};\
+atxmega192c3:crtx192c3.o:${DEV_DEFS}:${CFLAGS_BIG_MEMORY}:${DEV_ASFLAGS};\
 atxmega192d3:crtx192d3.o:${DEV_DEFS}:${CFLAGS_BIG_MEMORY}:${DEV_ASFLAGS};\
 atxmega256a3:crtx256a3.o:${DEV_DEFS}:${CFLAGS_BIG_MEMORY}:${DEV_ASFLAGS};\
+atxmega256a3u:crtx256a3u.o:${DEV_DEFS}:${CFLAGS_BIG_MEMORY}:${DEV_ASFLAGS};\
 atxmega256a3b:crtx256a3b.o:${DEV_DEFS}:${CFLAGS_BIG_MEMORY}:${DEV_ASFLAGS};\
-atxmega256d3:crtx256d3.o:${DEV_DEFS}:${CFLAGS_BIG_MEMORY}:${DEV_ASFLAGS}\
+atxmega256a3bu:crtx256a3bu.o:${DEV_DEFS}:${CFLAGS_BIG_MEMORY}:${DEV_ASFLAGS};\
+atxmega256c3:crtx256c3.o:${DEV_DEFS}:${CFLAGS_BIG_MEMORY}:${DEV_ASFLAGS};\
+atxmega256d3:crtx256d3.o:${DEV_DEFS}:${CFLAGS_BIG_MEMORY}:${DEV_ASFLAGS};\
+atxmega384c3:crtx384c3.o:${DEV_DEFS}:${CFLAGS_BIG_MEMORY}:${DEV_ASFLAGS};\
+atxmega384d3:crtx384d3.o:${DEV_DEFS}:${CFLAGS_BIG_MEMORY}:${DEV_ASFLAGS}\
 "
 
 AVRXMEGA7_DEV_INFO="\
 atxmega128a1:crtx128a1.o:${DEV_DEFS}:${CFLAGS_BIG_MEMORY}:${DEV_ASFLAGS};\
-atxmega128a1u:crtx128a1u.o:${DEV_DEFS}:${CFLAGS_BIG_MEMORY}:${DEV_ASFLAGS}\
+atxmega128a1u:crtx128a1u.o:${DEV_DEFS}:${CFLAGS_BIG_MEMORY}:${DEV_ASFLAGS};\
+atxmega128a4u:crtx128a4u.o:${DEV_DEFS}:${CFLAGS_BIG_MEMORY}:${DEV_ASFLAGS}\
 "
 
-AVRTINY10_DEV_INFO="\
+AVRTINY_DEV_INFO="\
 attiny4:crttn4.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
 attiny5:crttn5.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
 attiny9:crttn9.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
@@ -305,21 +398,24 @@ attiny40:crttn40.o:${DEV_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS}\
 LIB_DEFS="-D__COMPILING_AVR_LIBC__"
 
 AVR_ARH_INFO="\
-avr2:AVR12_DEV_INFO:${LIB_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
-avr25:AVR25_DEV_INFO:${LIB_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
-avr3:AVR3_DEV_INFO:${LIB_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
-avr31:AVR31_DEV_INFO:${LIB_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
-avr35:AVR35_DEV_INFO:${LIB_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
-avr4:AVR4_DEV_INFO:${LIB_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
-avr5:AVR5_DEV_INFO:${LIB_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
-avr51:AVR51_DEV_INFO:${LIB_DEFS}:${CFLAGS_BIG_MEMORY}:${DEV_ASFLAGS};\
-avr6:AVR6_DEV_INFO:${LIB_DEFS}:${CFLAGS_BIG_MEMORY}:${DEV_ASFLAGS};\
-avrxmega2:AVRXMEGA2_DEV_INFO:${LIB_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
-avrxmega4:AVRXMEGA4_DEV_INFO:${LIB_DEFS}:${CFLAGS_BIG_MEMORY}:${DEV_ASFLAGS};\
-avrxmega5:AVRXMEGA5_DEV_INFO:${LIB_DEFS}:${CFLAGS_BIG_MEMORY}:${DEV_ASFLAGS};\
-avrxmega6:AVRXMEGA6_DEV_INFO:${LIB_DEFS}:${CFLAGS_BIG_MEMORY}:${DEV_ASFLAGS};\
-avrxmega7:AVRXMEGA7_DEV_INFO:${LIB_DEFS}:${CFLAGS_BIG_MEMORY}:${DEV_ASFLAGS};\
-avrtiny10:AVRTINY10_DEV_INFO:${LIB_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS}\
+avr2::AVR12_DEV_INFO:${LIB_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
+avr2:tiny-stack:AVR12TS_DEV_INFO:${LIB_DEFS}:${CFLAGS_TINY_STACK}:${DEV_ASFLAGS};\
+avr25::AVR25_DEV_INFO:${LIB_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
+avr25:tiny-stack:AVR25TS_DEV_INFO:${LIB_DEFS}:${CFLAGS_TINY_STACK}:${DEV_ASFLAGS};\
+avr3::AVR3_DEV_INFO:${LIB_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
+avr31::AVR31_DEV_INFO:${LIB_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
+avr35::AVR35_DEV_INFO:${LIB_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
+avr4::AVR4_DEV_INFO:${LIB_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
+avr5::AVR5_DEV_INFO:${LIB_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
+avr51::AVR51_DEV_INFO:${LIB_DEFS}:${CFLAGS_BIG_MEMORY}:${DEV_ASFLAGS};\
+avr6::AVR6_DEV_INFO:${LIB_DEFS}:${CFLAGS_BIG_MEMORY}:${DEV_ASFLAGS};\
+avr7::AVR7_DEV_INFO:${LIB_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
+avrxmega2::AVRXMEGA2_DEV_INFO:${LIB_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS};\
+avrxmega4::AVRXMEGA4_DEV_INFO:${LIB_DEFS}:${CFLAGS_BIG_MEMORY}:${DEV_ASFLAGS};\
+avrxmega5::AVRXMEGA5_DEV_INFO:${LIB_DEFS}:${CFLAGS_BIG_MEMORY}:${DEV_ASFLAGS};\
+avrxmega6::AVRXMEGA6_DEV_INFO:${LIB_DEFS}:${CFLAGS_BIG_MEMORY}:${DEV_ASFLAGS};\
+avrxmega7::AVRXMEGA7_DEV_INFO:${LIB_DEFS}:${CFLAGS_BIG_MEMORY}:${DEV_ASFLAGS};\
+avrtiny::AVRTINY_DEV_INFO:${LIB_DEFS}:${CFLAGS_SPACE}:${DEV_ASFLAGS}\
 "
 
 echo "Generating source directories:"
@@ -354,21 +450,38 @@ ARH_SUBDIRS=""
 for ath_lib in $AVR_ARH_INFO
 do
 	arh=$(echo $ath_lib | cut -d ':' -f 1)
-	dev_info=$(echo $ath_lib | cut -d ':' -f 2)
-	lib_defs=$(echo $ath_lib | cut -d ':' -f 3)
-	lib_cflags=$(echo $ath_lib | cut -d ':' -f 4)
-	lib_asflags=$(echo $ath_lib | cut -d ':' -f 5)
+	sublib=$(echo $ath_lib | cut -d ':' -f 2)
+	dev_info=$(echo $ath_lib | cut -d ':' -f 3)
+	lib_defs=$(echo $ath_lib | cut -d ':' -f 4)
+	lib_cflags=$(echo $ath_lib | cut -d ':' -f 5)
+	lib_asflags=$(echo $ath_lib | cut -d ':' -f 6)
 
 	install_dir=$arh
 	if [ $arh = avr2 ]
 	then
-		install_dir=""
+		if [ -z "$sublib" ] ; then
+			install_dir=""
+		else
+			install_dir=$sublib
+		fi
+	else
+		if [ -z "$sublib" ] ; then
+			install_dir=$arh
+		else
+			install_dir=$arh'/'$sublib
+		fi
 	fi
 
-	echo "  avr/lib/$arh/"
+	# Install directory for sed substitution, the '/' character is masked.
+	inst_dir_masked=`echo $install_dir | sed 's/\\//\\\\\\//'`
+
+	# In build tree.
+	subdir=${arh}${sublib:+/}${sublib}
+	echo "  avr/lib/$subdir/"
 
-	test -d $arh || mkdir $arh
-	cd $arh || exit 1
+	# The first record of each arch must be sublib-free.
+	test -d $subdir || mkdir $subdir
+	cd $subdir || exit 1
 
 	DEV_SUBDIRS=""
 
@@ -382,7 +495,7 @@ do
 		crt_cflags=$(echo $dev_crt | cut -d ':' -f 4)
 		crt_asflags=$(echo $dev_crt | cut -d ':' -f 5)
 
-		echo "  avr/lib/$arh/$dev"
+		echo "  avr/lib/$subdir/$dev"
 
 		test -d $dev || mkdir $dev
 
@@ -393,7 +506,7 @@ do
 		    -e "s/<<crt_defs>>/$crt_defs/g" \
 		    -e "s/<<crt_cflags>>/$crt_cflags/g" \
 		    -e "s/<<crt_asflags>>/$crt_asflags/g"  \
-		    -e "s/<<install_dir>>/$install_dir/g" $dev/Makefile.am \
+		    -e "s/<<install_dir>>/$inst_dir_masked/g" $dev/Makefile.am \
 		    > $dev/tempfile && mv -f $dev/tempfile $dev/Makefile.am
 
 		DEV_SUBDIRS="$DEV_SUBDIRS $dev"
@@ -406,7 +519,7 @@ do
 	    -e "s/<<lib_defs>>/$lib_defs/g" \
 	    -e "s/<<lib_cflags>>/$lib_cflags/g" \
 	    -e "s/<<lib_asflags>>/$lib_asflags/g" \
-	    -e "s/<<install_dir>>/$install_dir/g" Makefile.am \
+	    -e "s/<<install_dir>>/$inst_dir_masked/g" Makefile.am \
 	    > tempfile && mv -f tempfile Makefile.am
 
 	# Find the first and the last lines of <<dev>> block.
@@ -428,19 +541,22 @@ do
 
 	# After the <<dev>> block.
 	tail -n +$(($n2 + 1)) Makefile.am >> tempfile
-	
+
 	# Result.
 	mv -f tempfile Makefile.am
 
-	ARH_SUBDIRS="$ARH_SUBDIRS $arh"
+	ARH_SUBDIRS="$ARH_SUBDIRS $subdir"
 
-	cd ..
+	cd .. || exit 1
+	if [ -n "$sublib" ] ; then
+		cd .. || exit 1
+	fi
 done
 
 cat $top_dir/devtools/Lib.am > Makefile.am
 
-sed -e "s/<<arh_subdirs>>/$ARH_SUBDIRS/g" Makefile.am \
-    > tempfile && mv -f tempfile Makefile.am
+sed -e "s/<<arh_subdirs>>/`echo $ARH_SUBDIRS | sed 's/\\//\\\\\\//g'`/g" \
+    Makefile.am > tempfile && mv -f tempfile Makefile.am
 
 cd ..
 
diff --git a/devtools/make-binary-dist.sh b/devtools/make-binary-dist.sh
index d9c884e..99aba39 100755
--- a/devtools/make-binary-dist.sh
+++ b/devtools/make-binary-dist.sh
@@ -28,7 +28,7 @@
 # ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 # POSSIBILITY OF SUCH DAMAGE.
 #
-# $Id: make-binary-dist.sh 897 2005-10-17 19:43:21Z joerg_wunsch $
+# $Id$
 #
 # Build a binary distribution archive.
 #
diff --git a/doc/LICENSE-Changes/PERM-Bob-Paddock b/doc/LICENSE-Changes/PERM-Bob-Paddock
new file mode 100644
index 0000000..f72c651
--- /dev/null
+++ b/doc/LICENSE-Changes/PERM-Bob-Paddock
@@ -0,0 +1,45 @@
+From bpaddock@csonline.net Thu Nov 11 11:54:04 2004
+Date: Mon, 1 Nov 2004 19:49:51 +0000
+From: Bob Paddock <bpaddock@csonline.net>
+To: E. Weddington <ericw@evcohs.com>
+Cc: avr-libc-dev <avr-libc-dev@nongnu.org>
+Subject: [avr-libc-dev] Re: avr-libc licensing audit
+
+On Monday 01 November 2004 10:30 pm, E. Weddington wrote:
+> Bob Paddock,
+>
+> I've been conducting an audit of the licenses in the files in avr-libc
+>...
+> May I have your permission to modify the licenses of all the files in
+> avr-libc where you hold the copyright, to add the missing clause
+> reproduced below?
+
+Yes you may change the file.  I have been following the discussion on the 
+list.
+
+>    * Neither the name of the copyright holders nor the names of
+>      contributors may be used to endorse or promote products derived
+>      from this software without specific prior written permission.
+
+Just so this is clear in my own mind, is is ok to say "This product was 
+developed using GCC and avr-libc" on my web site if I ever have a product to 
+sell?
+
+It would be bad if I listed anyones name that I find in the code on the web 
+site where trying to sell product?
+
+> If I have your permission please respond to this email that you give
+> your permission and be sure to keep the CC to the avr-libc-dev mailing
+> list where it may be archived.
+
+-- 
+                       http://www.softwaresafety.net/
+http://www.unusualresearch.com/ http://www.bpaddock.com/
+
+
+
+_______________________________________________
+AVR-libc-dev mailing list
+AVR-libc-dev@nongnu.org
+http://lists.nongnu.org/mailman/listinfo/avr-libc-dev
+
diff --git a/doc/LICENSE-Changes/PERM-Colin-OFlynn b/doc/LICENSE-Changes/PERM-Colin-OFlynn
new file mode 100644
index 0000000..c61234c
--- /dev/null
+++ b/doc/LICENSE-Changes/PERM-Colin-OFlynn
@@ -0,0 +1,53 @@
+From coflynn@newae.com Thu Nov 11 11:55:40 2004
+Date: Fri, 29 Oct 2004 17:59:22 -0300
+From: Colin O'Flynn <coflynn@newae.com>
+To: E. Weddington <ericw@evcohs.com>
+Cc: avr-libc-dev <avr-libc-dev@nongnu.org>
+Subject: [avr-libc-dev] Re: avr-libc license audit
+
+Hello,
+
+Sorry about that - you have my full permission to modify those 
+files to which I have a copyright to include the additional 
+clause.
+
+Regards,
+
+ -Colin O'Flynn
+
+
+On October 29, 2004 5:14 pm, you wrote:
+> Hi Colin,
+>
+> I've been conducting an audit of the licenses in the files in
+> avr-libc <http://savannah.nongnu.org/projects/avr-libc/>.
+> avr-libc is supposed to be licensed with a modified BSD
+> license that contains the "no advertising" clause. I've
+> discovered a number of files that have incorrect licensing and
+> are missing the "no advertising" clause including some files
+> where you hold the copyright.
+>
+> May I have your permission to modify the licenses of all the
+> files in avr-libc where you hold the copyright, to add the
+> missing clause reproduced below?
+>
+>    * Neither the name of the copyright holders nor the names
+> of contributors may be used to endorse or promote products
+> derived from this software without specific prior written
+> permission.
+>
+> If I have your permission please respond to this email that
+> you give your permission and be sure to keep the CC to the
+> avr-libc-dev mailing list where it may be archived.
+>
+> Thank you.
+> Eric Weddington
+> avr-libc developer
+
+
+
+_______________________________________________
+AVR-libc-dev mailing list
+AVR-libc-dev@nongnu.org
+http://lists.nongnu.org/mailman/listinfo/avr-libc-dev
+
diff --git a/doc/LICENSE-Changes/PERM-Joerg-Wunsch b/doc/LICENSE-Changes/PERM-Joerg-Wunsch
new file mode 100644
index 0000000..3e2bb21
--- /dev/null
+++ b/doc/LICENSE-Changes/PERM-Joerg-Wunsch
@@ -0,0 +1,40 @@
+From j@ida.interface-business.de Thu Nov 11 11:56:45 2004
+Date: Thu, 28 Oct 2004 23:25:05 +0200
+From: Joerg Wunsch <j@ida.interface-business.de>
+Reply-To: Joerg Wunsch <joerg_wunsch@interface-systems.de>
+To: avr-libc-dev <avr-libc-dev@nongnu.org>
+Subject: Re: [avr-libc-dev] [RFC] Licensing information
+
+As E. Weddington wrote:
+
+> Attached are IMO what the LICENSING and AUTHORS file should be.
+
+Thank you!
+
+> Now to the big problem: The original license file said that avr-libc was 
+> a Modified BSD License (with the No Advertising clause). However the 
+> "template" that it gave for new authors, only showed the original two 
+> clauses of the BSD license.
+
+The original BSD license had four clauses, where the `No advertising'
+clause was #3, and later officially dropped.  Individual *BSD
+developers later on also dropped clause #4 ("name ... may not be used
+to endorse"), which led to the two-clause template we had by now.
+
+For those files where I hold the copyright, I don't mind whether it's
+the 2-clause or 3-clause version.  I agree we should settle for one of
+both, and see to convert the remaining files (given author's
+permission).  It seems converting everything to the 3-clause version
+is less work, so let's pick this one.
+
+Thanks again!
+-- 
+J"org Wunsch                                           Unix support engineer
+joerg_wunsch@interface-systems.de        http://www.interface-systems.de/~j/
+
+
+_______________________________________________
+AVR-libc-dev mailing list
+AVR-libc-dev@nongnu.org
+http://lists.nongnu.org/mailman/listinfo/avr-libc-dev
+
diff --git a/doc/LICENSE-Changes/PERM-Juergen-Schilling b/doc/LICENSE-Changes/PERM-Juergen-Schilling
new file mode 100644
index 0000000..5f1f50d
--- /dev/null
+++ b/doc/LICENSE-Changes/PERM-Juergen-Schilling
@@ -0,0 +1,61 @@
+From juergen.schilling@honeywell.com Thu Nov 11 11:53:02 2004
+Date: Wed, 3 Nov 2004 00:39:00 -0700 
+From: "Schilling, Juergen (GE51)" <juergen.schilling@honeywell.com>
+To: 'E. Weddington' <ericw@evcohs.com>
+Cc: avr-libc-dev <avr-libc-dev@nongnu.org>
+Subject: [avr-libc-dev] AW: avr-libc license audit
+
+Hi Eric,
+
+I don't have problems with that, so you have my permission to modify the
+files.
+
+Regards,
+Juergen
+
+
+> -----Ursprngliche Nachricht-----
+> Von: E. Weddington [mailto:ericw@evcohs.com]
+> Gesendet: Dienstag, 2. November 2004 19:46
+> An: Juergen Schilling
+> Cc: avr-libc-dev
+> Betreff: avr-libc license audit
+> 
+> 
+> Juergen,
+> 
+> I've been conducting an audit of the licenses in the files in 
+> avr-libc 
+> <http://savannah.nongnu.org/projects/avr-libc/>. avr-libc is 
+> supposed to 
+> be licensed with a modified BSD license that contains a "no 
+> endorsement" 
+> clause. I've discovered a number of files that have incorrect 
+> licensing 
+> and are missing this clause including some files where you hold the 
+> copyright.
+> 
+> May I have your permission to modify the licenses of all the files in 
+> avr-libc where you hold the copyright, to add the missing clause 
+> reproduced below?
+> 
+>    * Neither the name of the copyright holders nor the names of
+>      contributors may be used to endorse or promote products derived
+>      from this software without specific prior written permission.
+> 
+> If I have your permission please respond to this email that you give 
+> your permission and be sure to keep the CC to the 
+> avr-libc-dev mailing 
+> list where it may be archived.
+> 
+> Thank you.
+> Eric Weddington
+> avr-libc developer
+> 
+
+
+_______________________________________________
+AVR-libc-dev mailing list
+AVR-libc-dev@nongnu.org
+http://lists.nongnu.org/mailman/listinfo/avr-libc-dev
+
diff --git a/doc/LICENSE-Changes/PERM-Keith-Gudger b/doc/LICENSE-Changes/PERM-Keith-Gudger
new file mode 100644
index 0000000..152450f
--- /dev/null
+++ b/doc/LICENSE-Changes/PERM-Keith-Gudger
@@ -0,0 +1,50 @@
+From keith@atmel.com Thu Nov 11 11:55:23 2004
+Date: Fri, 29 Oct 2004 13:57:44 -0700 (PDT)
+From: Keith Gudger <keith@atmel.com>
+To: E. Weddington <ericw@evcohs.com>
+Cc: avr-libc-dev <avr-libc-dev@nongnu.org>
+Subject: [avr-libc-dev] Re: avr-libc license audit
+
+Eric:
+
+Yes, you have my permission to change the copyright as you mentioned in
+the text below.
+
+Keith Gudger
+29-Oct-2004
+
+On Fri, 29 Oct 2004, E. Weddington wrote:
+
+> Hi Keith,
+> 
+> I've been conducting an audit of the licenses in the files in avr-libc 
+> <http://savannah.nongnu.org/projects/avr-libc/>. avr-libc is supposed to 
+> be licensed with a modified BSD license that contains the "no 
+> advertising" clause. I've discovered a number of files that have 
+> incorrect licensing and are missing the "no advertising" clause 
+> including some files where you hold the copyright.
+> 
+> May I have your permission to modify the licenses of all the files in 
+> avr-libc where you hold the copyright, to add the missing clause 
+> reproduced below?
+> 
+>    * Neither the name of the copyright holders nor the names of
+>      contributors may be used to endorse or promote products derived
+>      from this software without specific prior written permission.
+> 
+> If I have your permission please respond to this email that you give 
+> your permission and be sure to keep the CC to the avr-libc-dev mailing 
+> list where it may be archived.
+> 
+> Thank you.
+> Eric Weddington
+> avr-libc developer
+> 
+
+
+
+_______________________________________________
+AVR-libc-dev mailing list
+AVR-libc-dev@nongnu.org
+http://lists.nongnu.org/mailman/listinfo/avr-libc-dev
+
diff --git a/doc/LICENSE-Changes/PERM-Marek-Michalkiewicz b/doc/LICENSE-Changes/PERM-Marek-Michalkiewicz
new file mode 100644
index 0000000..1642a38
--- /dev/null
+++ b/doc/LICENSE-Changes/PERM-Marek-Michalkiewicz
@@ -0,0 +1,69 @@
+From marekm@amelek.gda.pl Thu Nov 11 11:54:55 2004
+Date: Fri, 29 Oct 2004 23:38:08 +0200
+From: Marek Michalkiewicz <marekm@amelek.gda.pl>
+To: E. Weddington <ericw@evcohs.com>
+Cc: avr-libc-dev@nongnu.org
+Subject: Re: [avr-libc-dev] avr-libc license audit
+
+On Fri, Oct 29, 2004 at 02:56:02PM -0600, E. Weddington wrote:
+> 
+> The problem is that the original LICENSE file said that avr-libc is 
+> licensed with
+> "Modified BSD license (no advertising clause)"
+> There are many files in there that are *not licensed this way*, only 
+> having 2 clauses and not including the "no advertising" clause.
+
+Poorly defined operator precedence ;) - it was meant to be read as:
+
+(no (advertising clause))
+
+not as:
+
+((no advertising) clause)
+
+where the "advertising clause" is the one which was removed from the
+original (4-clause) BSD license.  The problem (full-page ads, etc.)
+is explained in http://www.gnu.org/philosophy/bsd.html .
+
+Some time ago, I chose the 3-clause BSD license as a fairly simple,
+liberal and standard one.  Later, BSD people made it even simpler by
+removing another clause (I guess it was a problem for someone again...
+licensing issues are evil), and I have no problem with that, so I
+started using the 2-clause license in newer files (and probably
+forgot to update some of the older ones).
+
+> The "no advertising" is only marginally restrictive:
+> 
+>   * Neither the name of the copyright holders nor the names of
+>     contributors may be used to endorse or promote products derived
+>     from this software without specific prior written permission.
+> 
+> It only restricts the user of avr-libc so they don't go off and say 
+> "Marek Michalkiewicz endorses the use of this product! :-) Buy it!". 
+> This is a fairly reaonable restriction for users.
+
+No problem for me either way - it was never my intent to add more
+restrictions, as they only make things more complicated for everyone
+(especially if one program contains code with different licenses: you
+have to check each license if it is compatible with all others, grrr...).
+
+> So, then do I have your permission to change the files that you hold a 
+> copyright on to include the "no adverstising" clause? If yes, could you 
+> CC avr-libc-dev?
+
+Yes.  But, you could just as well do the reverse: ask authors who
+hold copyright on files with 3-clause license if they agree to
+remove that one clause (I agree, if I forgot to remove that clause
+from any of the files I wrote).  It's up to you.  Sorry for not
+speaking up about this earlier (I'm overworked as usual).
+
+Thanks,
+Marek
+
+
+
+_______________________________________________
+AVR-libc-dev mailing list
+AVR-libc-dev@nongnu.org
+http://lists.nongnu.org/mailman/listinfo/avr-libc-dev
+
diff --git a/doc/LICENSE-Changes/PERM-Micheal-Stumpf b/doc/LICENSE-Changes/PERM-Micheal-Stumpf
new file mode 100644
index 0000000..925d852
--- /dev/null
+++ b/doc/LICENSE-Changes/PERM-Micheal-Stumpf
@@ -0,0 +1,70 @@
+From mistumpf@de.pepperl-fuchs.com Thu Nov 11 11:50:21 2004
+Date: Wed, 10 Nov 2004 10:13:19 +0100
+From: Stumpf Michael <mistumpf@de.pepperl-fuchs.com>
+To: 'E. Weddington' <ericw@evcohs.com>,
+     Stumpf Michael <mistumpf@de.pepperl-fuchs.com>
+Cc: avr-libc-dev <avr-libc-dev@nongnu.org>
+Subject: [avr-libc-dev] AW: avr-libc license audit
+
+Hello,
+
+I never cared much about licences, so feel free to apply the 
+modifications as you suggested.
+No problem with relicencing the math lib either.
+
+best regards, 
+Michael Stumpf
+
+> -----Ursprngliche Nachricht-----
+> Von: E. Weddington [mailto:ericw@evcohs.com]
+> Gesendet: Dienstag, 9. November 2004 21:49
+> An: MiStumpf@de.pepperl-fuchs.com
+> Cc: avr-libc-dev
+> Betreff: avr-libc license audit
+> 
+> 
+> Michael Stumpf,
+> 
+> I've been conducting an audit of the licenses in the files in 
+> avr-libc 
+> <http://savannah.nongnu.org/projects/avr-libc/>. avr-libc is 
+> supposed to 
+> be licensed with a modified BSD license that contains a "no 
+> endorsement" 
+> clause. I've discovered a number of files that have incorrect 
+> licensing 
+> and are missing this clause including some files where you hold the 
+> copyright, specifically I am referring to include/ctype.h and 
+> include/math.h, NOT the math library.
+> 
+> May I have your permission to modify the licenses of the two files in 
+> avr-libc listed above where you hold the copyright, to add 
+> the missing 
+> clause reproduced below?
+> 
+>    * Neither the name of the copyright holders nor the names of
+>      contributors may be used to endorse or promote products derived
+>      from this software without specific prior written permission.
+> 
+> If I have your permission please respond to this email that you give 
+> your permission and be sure to keep the CC to the 
+> avr-libc-dev mailing 
+> list where it may be archived.
+> 
+> As a seperate issue, would you be willing to relicense the 
+> avr-libc math 
+> library functions written by you to have the Modified BSD 
+> License (the 
+> same as the rest of avr-libc)? This would greatly help in making the 
+> licensing for all of avr-libc consistent. I also understand if you do 
+> not wish to do this.
+> 
+> Thank you.
+> Eric Weddington
+> avr-libc developer
+> 
+_______________________________________________
+AVR-libc-dev mailing list
+AVR-libc-dev@nongnu.org
+http://lists.nongnu.org/mailman/listinfo/avr-libc-dev
+
diff --git a/doc/LICENSE-Changes/PERM-Nils-Kristian-Strom b/doc/LICENSE-Changes/PERM-Nils-Kristian-Strom
new file mode 100644
index 0000000..3244d8d
--- /dev/null
+++ b/doc/LICENSE-Changes/PERM-Nils-Kristian-Strom
@@ -0,0 +1,31 @@
+From nilsst@invalid.ed.ntnu.no Thu Nov 11 11:52:24 2004
+Date: Wed, 03 Nov 2004 08:12:27 +0100
+From: Nils Kristian Strom <nilsst@invalid.ed.ntnu.no>
+To: E. Weddington <ericw@evcohs.com>
+Cc: avr-libc-dev <avr-libc-dev@nongnu.org>,
+     Nils Kristian Strom <nilsst@omegav.ntnu.no>
+Subject: [avr-libc-dev] Re: avr-libc license audit
+
+On Tue, 2004-11-02 at 11:47 -0700, E. Weddington wrote:
+> May I have your permission to modify the licenses of all the files in 
+> avr-libc where you hold the copyright, to add the missing clause 
+> reproduced below?
+
+Yes, you have my permission to modify those files to which I have a
+copyright.
+
+>    * Neither the name of the copyright holders nor the names of
+>      contributors may be used to endorse or promote products derived
+>      from this software without specific prior written permission.
+
+Best regards,
+Nils Strom
+
+
+
+
+_______________________________________________
+AVR-libc-dev mailing list
+AVR-libc-dev@nongnu.org
+http://lists.nongnu.org/mailman/listinfo/avr-libc-dev
+
diff --git a/doc/LICENSE-Changes/PERM-Peter-Jansen b/doc/LICENSE-Changes/PERM-Peter-Jansen
new file mode 100644
index 0000000..9f98c47
--- /dev/null
+++ b/doc/LICENSE-Changes/PERM-Peter-Jansen
@@ -0,0 +1,67 @@
+From peter.jansen@aad.gov.au Thu Nov 11 11:50:50 2004
+Date: Wed, 10 Nov 2004 09:35:52 +1100
+From: Peter Jansen <peter.jansen@aad.gov.au>
+To: E. Weddington <ericw@evcohs.com>
+Cc: avr-libc-dev <avr-libc-dev@nongnu.org>
+Subject: [avr-libc-dev] Re: avr-libc contribution?
+
+E. Weddington wrote:
+> Peter Jansen wrote:
+> 
+>> E. Weddington wrote:
+>>
+>>> Peter,
+>>>
+>>> I'm trying to find the Peter Jansen that made a contribution of the 
+>>> iom128.h header file to the avr-libc project:
+>>> <http://savannah.nongnu.org/projects/avr-libc/>
+>>>
+>>> This email was suggested to me by one of the admins of that project. 
+>>> Are you the original submitter of this file?
+>>
+>>
+>>
+>> Yes I think I submitted that file, I have not worked on AVR's for a 
+>> while, do you have some questions?
+>>
+>>
+> Yes, I've been conducting an audit of the licenses in the files in 
+> avr-libc <http://savannah.nongnu.org/projects/avr-libc/>. avr-libc is 
+> supposed to be licensed with a modified BSD license that contains a "no 
+> endorsement" clause. I've discovered a number of files that have 
+> incorrect licensing and are missing this clause including that file 
+> (iom128.h) where you hold the copyright.
+> 
+> May I have your permission to modify the licenses of all the files in 
+> avr-libc where you hold the copyright, to add the missing clause 
+> reproduced below?
+> 
+>   * Neither the name of the copyright holders nor the names of
+>     contributors may be used to endorse or promote products derived
+>     from this software without specific prior written permission.
+> 
+> If I have your permission please respond to this email that you give 
+> your permission and be sure to keep the CC to the avr-libc-dev mailing 
+> list where it may be archived.
+
+Yes you have my permission to modify the license as per your above text.
+
+Thanks it must be difficult to follow all those up.
+
+-- 
+Peter Jansen
+STS
+Australian Antarctic Division
+Channel Highway
+Kingston
+TAS        7050
+AUSTRALIA
+Ph  (03) 62 323 533
+Fax (03) 62 323 351
+
+
+_______________________________________________
+AVR-libc-dev mailing list
+AVR-libc-dev@nongnu.org
+http://lists.nongnu.org/mailman/listinfo/avr-libc-dev
+
diff --git a/doc/LICENSE-Changes/PERM-Reinhard-Jessich b/doc/LICENSE-Changes/PERM-Reinhard-Jessich
new file mode 100644
index 0000000..2fdac0b
--- /dev/null
+++ b/doc/LICENSE-Changes/PERM-Reinhard-Jessich
@@ -0,0 +1,47 @@
+From reinhard.jessich@telering.at Thu Nov 11 11:51:50 2004
+Date: Fri, 5 Nov 2004 22:28:18 +0100
+From: reinhard.jessich@telering.at
+To: E. Weddington <ericw@evcohs.com>
+Cc: avr-libc-dev <avr-libc-dev@nongnu.org>
+Subject: [avr-libc-dev] Re: avr-libc license audit
+
+On Wed, 03 Nov 2004, E. Weddington wrote:
+You have the permission to change what ever you want.
+BR
+   Reinhard
+
+> Reinhard,
+> 
+> I've been conducting an audit of the licenses in the files in avr-libc 
+> <http://savannah.nongnu.org/projects/avr-libc/>. avr-libc is supposed to 
+> be licensed with a modified BSD license that contains a "no endorsement" 
+> clause. I've discovered a number of files that have incorrect licensing 
+> and are missing this clause including some files where you hold the 
+> copyright.
+> 
+> May I have your permission to modify the licenses of all the files in 
+> avr-libc where you hold the copyright, to add the missing clause 
+> reproduced below?
+> 
+>    * Neither the name of the copyright holders nor the names of
+>      contributors may be used to endorse or promote products derived
+>      from this software without specific prior written permission.
+> 
+> If I have your permission please respond to this email that you give 
+> your permission and be sure to keep the CC to the avr-libc-dev mailing 
+> list where it may be archived.
+> 
+> Thank you.
+> Eric Weddington
+> avr-libc developer
+-- 
+ Ing. Reinhard Jessich              mailto: reinhard.jessich@telering.at
+ A-1190 Vienna, Goergengasse 2/2/1  phone: +43/1/3692600
+ http://members.telering.at/jessich mobile: +43/664/1735439
+
+
+_______________________________________________
+AVR-libc-dev mailing list
+AVR-libc-dev@nongnu.org
+http://lists.nongnu.org/mailman/listinfo/avr-libc-dev
+
diff --git a/doc/LICENSE-Changes/PERM-Steinar-Haugen b/doc/LICENSE-Changes/PERM-Steinar-Haugen
new file mode 100644
index 0000000..5610ae9
--- /dev/null
+++ b/doc/LICENSE-Changes/PERM-Steinar-Haugen
@@ -0,0 +1,50 @@
+From xoplanet@msn.com Thu Nov 11 11:53:40 2004
+Date: Tue, 02 Nov 2004 19:32:35 +0100
+From: Stone Hill <xoplanet@msn.com>
+To: ericw@evcohs.com
+Cc: avr-libc-dev@nongnu.org
+Subject: [avr-libc-dev] RE: avr-libc license audit
+
+Yes, You have my permission to modify those
+files to which I have a copyright.
+
+Best regards,
+Steinar Haugen
+
+
+>From: "E. Weddington" <ericw@evcohs.com>
+>To: Steinar Haugen <xoplanet@msn.com>
+>CC: avr-libc-dev <avr-libc-dev@nongnu.org>
+>Subject: avr-libc license audit
+>Date: Mon, 01 Nov 2004 15:28:25 -0700
+>
+>I've been conducting an audit of the licenses in the files in avr-libc 
+><http://savannah.nongnu.org/projects/avr-libc/>. avr-libc is supposed to be 
+>licensed with a modified BSD license that contains a "no endorsement" 
+>clause. I've discovered a number of files that have incorrect licensing and 
+>are missing this clause including some files where you hold the copyright.
+>
+>May I have your permission to modify the licenses of all the files in 
+>avr-libc where you hold the copyright, to add the missing clause reproduced 
+>below?
+>
+>   * Neither the name of the copyright holders nor the names of
+>     contributors may be used to endorse or promote products derived
+>     from this software without specific prior written permission.
+>
+>If I have your permission please respond to this email that you give your 
+>permission and be sure to keep the CC to the avr-libc-dev mailing list 
+>where it may be archived.
+>
+>Thank you.
+>Eric Weddington
+>avr-libc developer
+
+
+
+
+_______________________________________________
+AVR-libc-dev mailing list
+AVR-libc-dev@nongnu.org
+http://lists.nongnu.org/mailman/listinfo/avr-libc-dev
+
diff --git a/doc/LICENSE-Changes/PERM-Theodore-A-Roth b/doc/LICENSE-Changes/PERM-Theodore-A-Roth
new file mode 100644
index 0000000..64b3b3b
--- /dev/null
+++ b/doc/LICENSE-Changes/PERM-Theodore-A-Roth
@@ -0,0 +1,37 @@
+From troth@openavr.org Thu Nov 11 11:57:48 2004
+Date: Tue, 2 Nov 2004 08:56:48 -0800 (PST)
+From: Theodore A. Roth <troth@openavr.org>
+To: E. Weddington <ericw@evcohs.com>
+Cc: avr-libc-dev <avr-libc-dev@nongnu.org>
+Subject: [avr-libc-dev] Re: Missing copyrights?
+
+On Tue, 2 Nov 2004, E. Weddington wrote:
+
+> Theodore A. Roth wrote:
+>
+> >I have just added copyrights to the files I wrote in CVS HEAD. [See
+> >attached patch.]
+> >
+> >
+> >
+> Thanks. One note though: acconfig.h just has the two-clause license.
+> While I'm at it, can I have your permission to fix all of your
+> copyrighted files in avr-libc to add the missing clause?
+
+Pooh. I tried to add all those with the 3 clause, but looks like
+copy-paste got me again. ;-)
+
+Yes, got ahead and add the 3rd clause on any of my files that are
+missing it.
+
+---
+Ted Roth
+PGP Key ID: 0x18F846E9
+Jabber ID: troth@jabber.org
+
+
+_______________________________________________
+AVR-libc-dev mailing list
+AVR-libc-dev@nongnu.org
+http://lists.nongnu.org/mailman/listinfo/avr-libc-dev
+
diff --git a/doc/Makefile.am b/doc/Makefile.am
index 28a89d9..03034ae 100644
--- a/doc/Makefile.am
+++ b/doc/Makefile.am
@@ -28,7 +28,7 @@
 #
 # Contributors:
 #
-# $Id: Makefile.am 1018 2005-12-31 18:42:02Z joerg_wunsch $
+# $Id$
 #
 
 MAINTAINERCLEANFILES = Makefile.in
diff --git a/doc/api/Makefile.am b/doc/api/Makefile.am
index 65465e5..c36f600 100644
--- a/doc/api/Makefile.am
+++ b/doc/api/Makefile.am
@@ -28,11 +28,11 @@
 #
 # Contributors:
 #
-# $Id: Makefile.am 2224 2011-02-23 19:25:28Z joerg_wunsch $
+# $Id$
 #
 MAINTAINERCLEANFILES = Makefile.in stamp-vti
 
-CLEANFILES           = *.html *.pdf *.ma *.mas \
+CLEANFILES           = *.html *.xml *.pdf *.ma *.mas \
                        *.png *.eps fix_png \
                        doxygen.config doxygen-pdf.config
 
@@ -56,6 +56,7 @@ EXTRA_DIST           = dox.css dox_html_header dox_html_footer \
                        bench-libc.dox \
                        bench-libm.dox \
                        porting.dox \
+                       optimize.dox \
                        overview.dox \
                        pgmspace.dox \
                        library.dox \
@@ -66,6 +67,7 @@ SUFFIXES             = .pdf .fig .png .eps
 DOC_INST_DIR         = @DOC_INST_DIR@
 
 USER_MANUAL          = @AVR_LIBC_USER_MANUAL@
+USER_MANUAL_XML      = @AVR_LIBC_USER_MANUAL@-xml
 
 DEMO_LIBS            = $(shell cd $(top_srcdir) && find `pwd` \( -name crtm8.o -o -name exit.o \) -print | grep avr4)
 # As avr-gcc must have been installed already, we can reference its
@@ -76,7 +78,7 @@ DEMO_INC             = $(shell cd $(top_srcdir) && echo "-I`pwd`/include")
 # All demo projects where we need to run "make dox" beforehand.
 DEMOS                = demo largedemo stdiodemo
 
-all-local: html pdf
+all-local: html xml pdf
 
 # Before we can build the dox, we need to build the demo project so that some
 # included files get generated.
@@ -125,12 +127,15 @@ fix_png: $(wildcard $(USER_MANUAL)/*.png) latex_src/refman.tex
 	done
 	echo timestamp > fix_png
 
+# Rule for generating XML output
+xml: demo demodox fix_png $(TARGET_DOX_XML)
+
 # Rule for generating PDF output
 pdf: demo demodox $(TARGET_DOX_PDF)
 
 # General rule for installing documentation
 install-data-local: $(INSTALL_DOX_HTML) $(INSTALL_DOX_PDF) \
-	$(INSTALL_DOX_MAN)
+	$(INSTALL_DOX_MAN) $(INSTALL_DOX_XML)
 
 uninstall-local:
 	rm -rf $(DOC_INST_DIR)
@@ -215,6 +220,10 @@ dox-html: demo demodox fix_png $(USER_MANUAL)/index.html
 
 $(USER_MANUAL)/index.html: latex_src/refman.tex
 
+dox-xml: demo demodox fix_png $(USER_MANUAL)/index.xml
+
+$(USER_MANUAL)/index.xml: latex_src/refman.tex
+
 dox-pdf: $(USER_MANUAL).pdf
 
 $(USER_MANUAL).pdf: latex_src/refman.tex
@@ -234,6 +243,15 @@ install-dox-html: dox-html
 	  $(INSTALL_DATA) $$file $(DOC_INST_DIR)/$$file; \
 	done
 
+install-dox-xml: dox-xml
+	$(mkinstalldirs) $(DOC_INST_DIR)/$(USER_MANUAL_XML)
+	@list='$(wildcard $(USER_MANUAL)/*.xml $(USER_MANUAL)/*.css \
+	                  $(USER_MANUAL)/*.jpg $(USER_MANUAL)/*.png)'; \
+	for file in $$list ; do \
+	  echo " $(INSTALL_DATA) $$file $(DOC_INST_DIR)/$(USER_MANUAL_XML)/"`basename $$file`; \
+	  $(INSTALL_DATA) $$file $(DOC_INST_DIR)/$(USER_MANUAL_XML)/`basename $$file`; \
+	done
+
 install-dox-pdf: dox-pdf
 	$(mkinstalldirs) $(DOC_INST_DIR)
 	$(INSTALL_DATA) $(USER_MANUAL).pdf $(DOC_INST_DIR)/$(USER_MANUAL).pdf
@@ -242,7 +260,7 @@ install-dox-man: dox-html
 	$(mkinstalldirs) $(DESTDIR)$(mandir)/man3
 	$(INSTALL_DATA) man/man3/*.3 $(DESTDIR)$(mandir)/man3
 
-.PHONY: html latex pdf demo demodox \
-	dox-html dox-pdf install-pdf install-html \
-	install-dox-html install-dox-pdf \
+.PHONY: html xml latex pdf demo demodox \
+	dox-html dox-xml dox-pdf install-pdf install-html install-xml \
+	install-dox-html install-dox-xml install-dox-pdf \
 	install-dox-man
diff --git a/doc/api/assembler.dox b/doc/api/assembler.dox
index 0242296..0dbb1e5 100644
--- a/doc/api/assembler.dox
+++ b/doc/api/assembler.dox
@@ -26,7 +26,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: assembler.dox 1876 2009-02-11 18:57:36Z joerg_wunsch $ */
+/* $Id$ */
 
 /** \page assembler avr-libc and assembler programs
 
diff --git a/doc/api/bench-libc.dox b/doc/api/bench-libc.dox
index bbb358d..8eba733 100644
--- a/doc/api/bench-libc.dox
+++ b/doc/api/bench-libc.dox
@@ -1,13 +1,13 @@
 /* Note: this file has been automatically generated.
    DO NOT EDIT, or your changes WILL BE LOST!	*/
 
-/* $Id: bench-libc.dox 1604 2008-02-24 01:27:22Z dmix $ */
+/* $Id$ */
 
 /** \page benchmarks
 
 \section bench_libc A few of libc functions.
 
-Avr-gcc version is 4.2.3
+Avr-gcc version is 4.7.1
 
 The size of function is given in view of all picked up functions. By default
 Avr-libc is compiled with \c -mcall-prologues option. In brackets the size
@@ -28,127 +28,127 @@ prologue/epilogue.
     <td> atoi ("12345")</td>
     <td>Flash bytes<br>Stack bytes<br>MCU clocks</td>
     <td>82 (82)<br>2<br>155</td>
-    <td>78 (78)<br><br></td>
+    <td>78 (78)<br>2<br>149</td>
     <td>74 (74)<br>2<br>149</td>
   </tr>
   <tr>
     <td> atol ("12345")</td>
     <td>Flash bytes<br>Stack bytes<br>MCU clocks</td>
     <td>122 (122)<br>2<br>221</td>
-    <td>118 (118)<br><br></td>
+    <td>118 (118)<br>2<br>219</td>
     <td>118 (118)<br>2<br>219</td>
   </tr>
   <tr>
     <td> dtostre (1.2345, s, 6, 0)</td>
     <td>Flash bytes<br>Stack bytes<br>MCU clocks</td>
-    <td>1184 (1072)<br>17<br>1313</td>
-    <td>1088 (978)<br><br></td>
-    <td>1088 (978)<br>17<br>1152</td>
+    <td>1116 (1004)<br>17<br>1247</td>
+    <td>1048 (938)<br>17<br>1105</td>
+    <td>1048 (938)<br>17<br>1105</td>
   </tr>
   <tr>
     <td> dtostrf (1.2345, 15, 6, s)</td>
     <td>Flash bytes<br>Stack bytes<br>MCU clocks</td>
-    <td>1676 (1564)<br>36<br>1608</td>
-    <td>1548 (1438)<br><br></td>
-    <td>1548 (1438)<br>36<br>1443</td>
+    <td>1616 (1616)<br>38<br>1634</td>
+    <td>1508 (1508)<br>38<br>1462</td>
+    <td>1508 (1508)<br>38<br>1462</td>
   </tr>
   <tr>
     <td> itoa (12345, s, 10)</td>
     <td>Flash bytes<br>Stack bytes<br>MCU clocks</td>
-    <td>150 (150)<br>4<br>1172</td>
-    <td>134 (134)<br><br></td>
-    <td>134 (134)<br>4<br>1152</td>
+    <td>110 (110)<br>2<br>879</td>
+    <td>102 (102)<br>2<br>875</td>
+    <td>102 (102)<br>2<br>875</td>
   </tr>
   <tr>
     <td> ltoa (12345L, s, 10)</td>
     <td>Flash bytes<br>Stack bytes<br>MCU clocks</td>
-    <td>220 (220)<br>9<br>3174</td>
-    <td>200 (200)<br><br></td>
-    <td>200 (200)<br>9<br>3136</td>
+    <td>134 (134)<br>2<br>1597</td>
+    <td>126 (126)<br>2<br>1593</td>
+    <td>126 (126)<br>2<br>1593</td>
   </tr>
   <tr>
     <td> malloc (1)</td>
     <td>Flash bytes<br>Stack bytes<br>MCU clocks</td>
-    <td>554 (554)<br>4<br>196</td>
-    <td>506 (506)<br><br></td>
-    <td>506 (506)<br>4<br>178</td>
+    <td>768 (712)<br>6<br>215</td>
+    <td>714 (660)<br>6<br>201</td>
+    <td>714 (660)<br>6<br>201</td>
   </tr>
   <tr>
     <td> realloc ((void *)0, 1)</td>
     <td>Flash bytes<br>Stack bytes<br>MCU clocks</td>
-    <td>1152 (1040)<br>20<br>303</td>
-    <td>1042 (932)<br><br></td>
-    <td>1042 (932)<br>20<br>280</td>
+    <td>1284 (1172)<br>18<br>305</td>
+    <td>1174 (1064)<br>18<br>286</td>
+    <td>1174 (1064)<br>18<br>286</td>
   </tr>
   <tr>
     <td> qsort (s, sizeof(s), 1, cmp)</td>
     <td>Flash bytes<br>Stack bytes<br>MCU clocks</td>
-    <td>1242 (1130)<br>38<br>20914</td>
-    <td>990 (880)<br><br></td>
-    <td>1008 (898)<br>38<br>16678</td>
+    <td>1252 (1140)<br>42<br>21996</td>
+    <td>1022 (912)<br>42<br>19905</td>
+    <td>1028 (918)<br>42<br>17541</td>
   </tr>
   <tr>
     <td> sprintf_min (s, "%d", 12345)</td>
     <td>Flash bytes<br>Stack bytes<br>MCU clocks</td>
-    <td>1216 (1104)<br>59<br>1846</td>
-    <td>1090 (980)<br><br></td>
-    <td>1086 (976)<br>59<br>1711</td>
+    <td>1224 (1112)<br>53<br>1841</td>
+    <td>1092 (982)<br>53<br>1694</td>
+    <td>1088 (978)<br>53<br>1689</td>
   </tr>
   <tr>
     <td> sprintf (s, "%d", 12345)</td>
     <td>Flash bytes<br>Stack bytes<br>MCU clocks</td>
-    <td>1674 (1562)<br>58<br>1610</td>
-    <td>1542 (1432)<br><br></td>
-    <td>1498 (1388)<br>58<br>1528</td>
+    <td>1614 (1502)<br>58<br>1647</td>
+    <td>1476 (1366)<br>58<br>1552</td>
+    <td>1454 (1344)<br>58<br>1547</td>
   </tr>
   <tr>
     <td> sprintf_flt (s, "%e", 1.2345)</td>
     <td>Flash bytes<br>Stack bytes<br>MCU clocks</td>
-    <td>3334 (3222)<br>66<br>2513</td>
-    <td>3084 (2974)<br><br></td>
-    <td>3040 (2930)<br>66<br>2297</td>
+    <td>3228 (3116)<br>67<br>2573</td>
+    <td>2990 (2880)<br>67<br>2311</td>
+    <td>2968 (2858)<br>67<br>2311</td>
   </tr>
   <tr>
     <td> sscanf_min ("12345", "%d", &i)</td>
     <td>Flash bytes<br>Stack bytes<br>MCU clocks</td>
-    <td>1540 (1428)<br>55<br>1339</td>
-    <td>1354 (1244)<br><br></td>
-    <td>1354 (1244)<br>55<br>1240</td>
+    <td>1532 (1420)<br>55<br>1607</td>
+    <td>1328 (1218)<br>55<br>1446</td>
+    <td>1328 (1218)<br>55<br>1446</td>
   </tr>
   <tr>
     <td> sscanf ("12345", "%d", &i)</td>
     <td>Flash bytes<br>Stack bytes<br>MCU clocks</td>
-    <td>1950 (1838)<br>53<br>1334</td>
-    <td>1704 (1594)<br><br></td>
-    <td>1704 (1594)<br>53<br>1235</td>
+    <td>2008 (1896)<br>55<br>1610</td>
+    <td>1748 (1638)<br>55<br>1449</td>
+    <td>1748 (1638)<br>55<br>1449</td>
   </tr>
   <tr>
     <td> sscanf ("point,color", "%[a-z]", s)</td>
     <td>Flash bytes<br>Stack bytes<br>MCU clocks</td>
-    <td>1950 (1838)<br>87<br>2878</td>
-    <td>1704 (1594)<br><br></td>
-    <td>1704 (1594)<br>87<br>2718</td>
+    <td>2008 (1896)<br>86<br>3067</td>
+    <td>1748 (1638)<br>86<br>2806</td>
+    <td>1748 (1638)<br>86<br>2806</td>
   </tr>
   <tr>
     <td> sscanf_flt ("1.2345", "%e", &x)</td>
     <td>Flash bytes<br>Stack bytes<br>MCU clocks</td>
-    <td>3298 (3186)<br>63<br>2187</td>
-    <td>2934 (2824)<br><br></td>
-    <td>2918 (2808)<br>63<br>1833</td>
+    <td>3464 (3352)<br>71<br>2497</td>
+    <td>3086 (2976)<br>71<br>2281</td>
+    <td>3070 (2960)<br>71<br>2078</td>
   </tr>
   <tr>
     <td> strtod ("1.2345", &p)</td>
     <td>Flash bytes<br>Stack bytes<br>MCU clocks</td>
-    <td>1570 (1458)<br>22<br>1237</td>
-    <td>1472 (1362)<br><br></td>
-    <td>1456 (1346)<br>22<br>971</td>
+    <td>1632 (1520)<br>20<br>1235</td>
+    <td>1536 (1426)<br>20<br>1177</td>
+    <td>1480 (1480)<br>21<br>1124</td>
   </tr>
   <tr>
     <td> strtol ("12345", &p, 0)</td>
     <td>Flash bytes<br>Stack bytes<br>MCU clocks</td>
-    <td>942 (830)<br>29<br>1074</td>
-    <td>874 (764)<br><br></td>
-    <td>808 (698)<br>21<br>722</td>
+    <td>918 (806)<br>22<br>956</td>
+    <td>834 (724)<br>22<br>891</td>
+    <td>792 (792)<br>28<br>794</td>
   </tr>
 </table>
 </small>
diff --git a/doc/api/bench-libm.dox b/doc/api/bench-libm.dox
index b84c74a..8fe2784 100644
--- a/doc/api/bench-libm.dox
+++ b/doc/api/bench-libm.dox
@@ -1,7 +1,7 @@
 /* Note: this file has been automatically generated.
    DO NOT EDIT, or your changes WILL BE LOST!	*/
 
-/* $Id: bench-libm.dox 1965 2009-05-24 06:18:18Z dmix $ */
+/* $Id$ */
 
 /** \page benchmarks
 
diff --git a/doc/api/bench.dox b/doc/api/bench.dox
index 4317d7d..a4550f6 100644
--- a/doc/api/bench.dox
+++ b/doc/api/bench.dox
@@ -26,7 +26,7 @@
    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
    POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: bench.dox 1604 2008-02-24 01:27:22Z dmix $	*/
+/* $Id$	*/
 
 /** \page benchmarks Benchmarks
 
diff --git a/doc/api/doxygen.config.in b/doc/api/doxygen.config.in
index 8e678f2..b6dceec 100644
--- a/doc/api/doxygen.config.in
+++ b/doc/api/doxygen.config.in
@@ -1,4 +1,4 @@
-# $Id: doxygen.config.in 2158 2010-06-10 15:48:28Z joerg_wunsch $
+# $Id$
 
 # @configure_input@
 
@@ -579,6 +579,7 @@ INPUT                  = @top_srcdir@/include/alloca.h \
                          @top_srcdir@/include/avr/signature.h \
                          @top_srcdir@/include/avr/sleep.h \
                          @top_srcdir@/include/avr/version.h \
+                         @top_srcdir@/include/avr/xmega.h \
                          @top_srcdir@/include/avr/wdt.h \
                          @top_srcdir@/include/util \
                          @top_srcdir@/include/compat \
@@ -1146,13 +1147,13 @@ MAN_LINKS              = YES
 # generate an XML file that captures the structure of 
 # the code including all documentation.
 
-GENERATE_XML           = NO
+GENERATE_XML           = YES
 
 # The XML_OUTPUT tag is used to specify where the XML pages will be put. 
 # If a relative path is entered the value of OUTPUT_DIRECTORY will be 
 # put in front of it. If left blank `xml' will be used as the default path.
 
-XML_OUTPUT             = xml
+XML_OUTPUT             = @AVR_LIBC_USER_MANUAL@
 
 # The XML_SCHEMA tag can be used to specify an XML schema, 
 # which can be used by a validating XML parser to check the 
diff --git a/doc/api/faq.dox b/doc/api/faq.dox
index 98aad76..4d6531c 100644
--- a/doc/api/faq.dox
+++ b/doc/api/faq.dox
@@ -26,7 +26,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: faq.dox 2259 2011-10-19 11:07:02Z joerg_wunsch $ */
+/* $Id$ */
 
 /** \page FAQ Frequently Asked Questions
 
@@ -1710,7 +1710,7 @@ Even worse ist this, e. g. on an ATmega1281:
 
 \code
   DDRA = DDRB = DDRC = DDRD = DDRE = DDRF = DDRG = 0xff;
-\endcde
+\endcode
 
 The same happens as outlined above.  However, when reading back
 register \c DDRG, this register only implements 6 out of the 8 bits,
diff --git a/doc/api/interrupts.dox b/doc/api/interrupts.dox
index a3c4e8a..78c3e49 100644
--- a/doc/api/interrupts.dox
+++ b/doc/api/interrupts.dox
@@ -26,7 +26,7 @@
    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
    POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: interrupts.dox 1455 2007-10-29 14:01:18Z joerg_wunsch $ */
+/* $Id$ */
 
 /** \defgroup avr_interrupts <avr/interrupt.h>: Interrupts
 
diff --git a/doc/api/library.dox b/doc/api/library.dox
index a519ab1..9e64b04 100644
--- a/doc/api/library.dox
+++ b/doc/api/library.dox
@@ -26,7 +26,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: library.dox 1553 2008-01-03 19:33:15Z arcanum $ */
+/* $Id$ */
 
 /** 
 
diff --git a/doc/api/main_page.dox b/doc/api/main_page.dox
index 689e366..e483a3f 100644
--- a/doc/api/main_page.dox
+++ b/doc/api/main_page.dox
@@ -27,7 +27,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: main_page.dox 2211 2011-02-14 14:04:25Z aboyapati $ */
+/* $Id$ */
 
 /** \mainpage AVR Libc
 
@@ -94,8 +94,10 @@ compile-time.
 
 - atmega103
 - atmega128
+- atmega128a
 - atmega1280
 - atmega1281
+- atmega1284
 - atmega1284p
 - atmega16
 - atmega161
@@ -103,16 +105,20 @@ compile-time.
 - atmega163
 - atmega164a
 - atmega164p
+- atmega164pa
 - atmega165
 - atmega165a
 - atmega165p
+- atmega165pa
 - atmega168
 - atmega168a
 - atmega168p
+- atmega168pa
 - atmega16a
 - atmega2560
 - atmega2561
 - atmega32
+- atmega32a
 - atmega323
 - atmega324a
 - atmega324p
@@ -120,15 +126,19 @@ compile-time.
 - atmega325
 - atmega325a
 - atmega325p
+- atmega325pa
 - atmega3250
 - atmega3250a
 - atmega3250p
+- atmega3250pa
 - atmega328
 - atmega328p
 - atmega48
 - atmega48a
+- atmega48pa
 - atmega48p
 - atmega64
+- atmega64a
 - atmega640
 - atmega644
 - atmega644a
@@ -141,6 +151,7 @@ compile-time.
 - atmega6450a
 - atmega6450p
 - atmega8
+- atmega8a
 - atmega88
 - atmega88a
 - atmega88p
@@ -174,17 +185,21 @@ compile-time.
 - attiny43u
 - attiny44
 - attiny44a
+- attiny441
 - attiny45
 - attiny461
 - attiny461a
 - attiny48
+- attiny828
 - attiny84
 - attiny84a
+- attiny841
 - attiny85
 - attiny861
 - attiny861a
 - attiny87
 - attiny88
+- attiny1634
 
 \par Automotive AVR Devices:
 
@@ -194,6 +209,18 @@ compile-time.
 - atmega64c1
 - atmega64m1
 - attiny167
+- ata5505
+- ata5272
+- ata5790
+- ata5790n
+- ata5795
+- ata5831
+- ata6612c
+- ata6613c
+- ata6614q
+- ata6616c
+- ata6617c
+- ata664251
 
 \par CAN AVR Devices:
 
@@ -214,6 +241,7 @@ compile-time.
 - atmega3290
 - atmega3290a
 - atmega3290p
+- atmega3290pa
 - atmega649
 - atmega649a
 - atmega6490
@@ -230,6 +258,7 @@ compile-time.
 - at90pwm3
 - at90pwm3b
 - at90pwm316
+- at90pwm161
 - at90pwm81
 
 \par Smart Battery AVR Devices:
@@ -242,6 +271,7 @@ compile-time.
 - atmega32hvb
 - atmega32hvbrevb
 - atmega64hve
+- atmega64hve2
 - atmega406
 
 \par USB AVR Devices:
@@ -262,22 +292,61 @@ compile-time.
 \par XMEGA Devices:
 
 - atxmega16a4
+- atxmega16a4u
+- atxmega16c4
 - atxmega16d4
 - atxmega32a4
+- atxmega32a4u
+- atxmega32c3
+- atxmega32c4
+- atxmega32d3
 - atxmega32d4
+- atxmega8e5
+- atxmega16e5
+- atxmega32e5
 - atxmega64a1
 - atxmega64a1u
 - atxmega64a3
+- atxmega64a3u
+- atxmega64a4u
+- atxmega64b1
+- atxmega64b3
+- atxmega64c3
 - atxmega64d3
+- atxmega64d4
 - atxmega128a1
 - atxmega128a1u
 - atxmega128a3
+- atxmega128a3u
+- atxmega128a4u
+- atxmega128b1
+- atxmega128b3
+- atxmega128c3
 - atxmega128d3
+- atxmega128d4
 - atxmega192a3
+- atxmega192a3u
+- atxmega192c3
 - atxmega192d3
 - atxmega256a3
+- atxmega256a3u
 - atxmega256a3b
+- atxmega256a3bu
+- atxmega256c3
 - atxmega256d3
+- atxmega384c3
+- atxmega384d3
+
+\par Wireless AVR devices:
+
+-atmega64rfr2
+-atmega644rfr2
+-atmega128rfa1
+- atmega128rfa1
+-atmega128rfr2
+-atmega1284rfr2
+-atmega256rfr2
+-atmega2564rfr2
 
 \par Miscellaneous Devices:
 
@@ -287,6 +356,8 @@ compile-time.
 - at43usb355
 - at86rf401
 - at90scr100
+- ata6285
+- ata6286
 - ata6289
 - m3000 \ref supp_dev_footnote_four "[4]"
 
diff --git a/doc/api/malloc.dox b/doc/api/malloc.dox
index 615b9d9..9726216 100644
--- a/doc/api/malloc.dox
+++ b/doc/api/malloc.dox
@@ -26,7 +26,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: malloc.dox 2143 2010-06-08 21:19:51Z joerg_wunsch $ */
+/* $Id$ */
 
 /** \page malloc Memory Areas and Using malloc()
 
diff --git a/doc/api/optimize.dox b/doc/api/optimize.dox
new file mode 100644
index 0000000..bb8c544
--- /dev/null
+++ b/doc/api/optimize.dox
@@ -0,0 +1,137 @@
+/* Copyright (c) 2010 Jan Waclawek
+   Copyright (c) 2010 Joerg Wunsch
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+
+  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+  AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+  IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+  ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+  LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+  CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+  SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+  INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+  CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+  ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+  POSSIBILITY OF SUCH DAMAGE. */
+
+/* $Id$ */
+
+/** \page optimization Compiler optimization
+
+\section optim_code_reorder Problems with reordering code
+\author Jan Waclawek
+
+Programs contain sequences of statements, and a naive compiler would
+execute them exactly in the order as they are written. But an
+optimizing compiler is free to \e reorder the statements - or even
+parts of them - if the resulting "net effect" is the same. The
+"measure" of the "net effect" is what the standard calls "side
+effects", and is accomplished exclusively through accesses (reads and
+writes) to variables qualified as \c volatile. So, as long as all
+volatile reads and writes are to the same addresses and in the same
+order (and writes write the same values), the program is correct,
+regardless of other operations in it. (One important point to note
+here is, that time duration between consecutive volatile accesses is
+not considered at all.)
+
+Unfortunately, there are also operations which are not covered by
+volatile accesses. An example of this in avr-gcc/avr-libc are the
+cli() and sei() macros defined in <avr/interrupt.h>, which convert
+directly to the respective assembler mnemonics through the __asm__()
+statement. These don't constitute a variable access at all, not even
+volatile, so the compiler is free to move them around. Although there
+is a "volatile" qualifier which can be attached to the __asm__()
+statement, its effect on (re)ordering is not clear from the
+documentation (and is more likely only to prevent complete removal by
+the optimiser), as it (among other) states:
+
+<em>Note that even a volatile asm instruction can be moved
+relative to other code, including across jump instructions. [...]
+Similarly, you can't expect a sequence of volatile asm instructions to
+remain perfectly consecutive.</em>
+
+\sa http://gcc.gnu.org/onlinedocs/gcc-4.3.4/gcc/Extended-Asm.html
+
+There is another mechanism which can be used to achieve something
+similar: <em>memory barriers</em>. This is accomplished through adding a
+special "memory" clobber to the inline \c asm statement, and ensures that
+all variables are flushed from registers to memory before the
+statement, and then re-read after the statement. The purpose of memory
+barriers is slightly different than to enforce code ordering: it is
+supposed to ensure that there are no variables "cached" in registers,
+so that it is safe to change the content of registers e.g. when
+switching context in a multitasking OS (on "big" processors with
+out-of-order execution they also imply usage of special instructions
+which force the processor into "in-order" state (this is not the case
+of AVRs)).
+
+However, memory barrier works well in ensuring that all volatile
+accesses before and after the barrier occur in the given order with
+respect to the barrier. However, it does not ensure the compiler
+moving non-volatile-related statements across the barrier. Peter
+Dannegger provided a nice example of this effect:
+
+\code
+#define cli() __asm volatile( "cli" ::: "memory" )
+#define sei() __asm volatile( "sei" ::: "memory" )
+
+unsigned int ivar;
+
+void test2( unsigned int val )
+{
+  val = 65535U / val;
+
+  cli();
+
+  ivar = val;
+
+  sei();
+}
+\endcode
+
+compiles with optimisations switched on (-Os) to
+
+\verbatim
+00000112 <test2>:
+ 112:	bc 01       	movw	r22, r24
+ 114:	f8 94       	cli
+ 116:	8f ef       	ldi	r24, 0xFF	; 255
+ 118:	9f ef       	ldi	r25, 0xFF	; 255
+ 11a:	0e 94 96 00 	call	0x12c	; 0x12c <__udivmodhi4>
+ 11e:	70 93 01 02 	sts	0x0201, r23
+ 122:	60 93 00 02 	sts	0x0200, r22
+ 126:	78 94       	sei
+ 128:	08 95       	ret
+\endverbatim
+
+where the potentially slow division is moved across cli(),
+resulting in interrupts to be disabled longer than intended. Note,
+that the volatile access occurs in order with respect to cli() or
+sei(); so the "net effect" required by the standard is achieved as
+intended, it is "only" the timing which is off. However, for most of
+embedded applications, timing is an important, sometimes critical
+factor.
+
+\sa https://www.mikrocontroller.net/topic/65923
+
+Unfortunately, at the moment, in avr-gcc (nor in the C standard),
+there is no mechanism to enforce complete match of written and
+executed code ordering - except maybe of switching the optimization
+completely off (-O0), or writing all the critical code in assembly.
+
+To sum it up:
+
+\li memory barriers ensure proper ordering of volatile accesses
+\li memory barriers don't ensure statements with no volatile accesses to be reordered across the barrier
+
+*/
diff --git a/doc/api/overview.dox b/doc/api/overview.dox
index aa24b36..87b00fc 100644
--- a/doc/api/overview.dox
+++ b/doc/api/overview.dox
@@ -26,7 +26,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: overview.dox 1526 2007-12-20 14:17:56Z joerg_wunsch $ */
+/* $Id$ */
 
 /** 
 
diff --git a/doc/api/pgmspace.dox b/doc/api/pgmspace.dox
index 992c7e8..1b7be10 100644
--- a/doc/api/pgmspace.dox
+++ b/doc/api/pgmspace.dox
@@ -26,7 +26,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: pgmspace.dox 1420 2007-10-02 13:50:16Z arcanum $ */
+/* $Id$ */
 
 /** 
 
diff --git a/doc/api/porting.dox b/doc/api/porting.dox
index deeb357..3356206 100644
--- a/doc/api/porting.dox
+++ b/doc/api/porting.dox
@@ -26,7 +26,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: porting.dox 1526 2007-12-20 14:17:56Z joerg_wunsch $ */
+/* $Id$ */
 
 /** 
 
diff --git a/doc/api/rel-method.dox b/doc/api/rel-method.dox
index c501887..1bc80be 100644
--- a/doc/api/rel-method.dox
+++ b/doc/api/rel-method.dox
@@ -23,7 +23,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: rel-method.dox 2196 2010-11-24 03:57:03Z arcanum $ */
+/* $Id$ */
 
 /** \page release_method Release Numbering and Methodology
 
diff --git a/doc/api/sections.dox b/doc/api/sections.dox
index 9ddf5cc..a93dec4 100644
--- a/doc/api/sections.dox
+++ b/doc/api/sections.dox
@@ -23,7 +23,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: sections.dox 845 2005-09-06 18:17:43Z joerg_wunsch $ */
+/* $Id$ */
 
 /** \page mem_sections Memory Sections
 
diff --git a/doc/api/sfr.dox b/doc/api/sfr.dox
index 85b2f5d..091e75b 100644
--- a/doc/api/sfr.dox
+++ b/doc/api/sfr.dox
@@ -29,7 +29,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: sfr.dox 1631 2008-03-17 17:59:10Z arcanum $ */
+/* $Id$ */
 
 /** \defgroup avr_sfr <avr/sfr_defs.h>: Special function registers
 
diff --git a/doc/api/tools-install.dox b/doc/api/tools-install.dox
index 3ef57a4..24d6d3b 100644
--- a/doc/api/tools-install.dox
+++ b/doc/api/tools-install.dox
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: tools-install.dox 2221 2011-02-22 21:30:28Z arcanum $ */
+/* $Id$ */
 
 /** 
 
@@ -197,11 +197,6 @@ You should now have the programs from binutils installed into
 <tt>$PREFIX/bin</tt>.  Don't forget to \ref path "set your PATH" environment
 variable before going to build avr-gcc.
 
-\note The official version of binutils might lack support for recent AVR
-devices.  A patch that adds more AVR types can be found at
-http://www.freebsd.org/cgi/cvsweb.cgi/ports/devel/avr-binutils/files/patch-newdevices
-
-
 
 \section install_avr_gcc GCC for the AVR target
 \addindex installation, gcc
@@ -227,18 +222,14 @@ $ make install
 To save your self some download time, you can alternatively download only the
 <tt>gcc-core-\<version\>.tar.bz2</tt> and <tt>gcc-c++-\<version\>.tar.bz2</tt>
 parts of the gcc.  Also, if you don't need C++ support, you only need the core
-part and should only enable the C language support.
+part and should only enable the C language support.  (Starting with GCC 4.7
+releases, these split files are no longer available though.)
 
 \note Early versions of these tools did not support C++.
 
 \note The stdc++ libs are not included with C++ for AVR due to the size
 limitations of the devices.
 
-\note The official version of GCC might lack support for recent AVR
-devices.  A patch that adds more AVR types can be found at
-http://www.freebsd.org/cgi/cvsweb.cgi/ports/devel/avr-gcc/files/patch-newdevices
-
-
 
 \section install_avr_libc AVR LibC
 \addindex installation, avr-libc
@@ -261,6 +252,22 @@ $ make
 $ make install
 \endverbatim
 
+Optionally, generation of debug information can be requested with:
+
+\verbatim
+$ gunzip -c avr-libc-<version>.tar.gz | tar xf -
+$ cd avr-libc-<version>
+$ ./configure --prefix=$PREFIX --build=`./config.guess` --host=avr \
+  --with-debug-info=DEBUG_INFO
+$ make
+$ make install
+\endverbatim
+
+where \c DEBUG_INFO can be one of \c stabs, \c dwarf-2, or \c dwarf-4.
+
+The default is to not generate any debug information, which is
+suitable for binary distributions of avr-libc, where the user does not
+have the source code installed the debug information would refer to.
 
 \section install_avrprog AVRDUDE
 \addindex installation, avrprog
@@ -613,6 +620,7 @@ Build the tools below in MinGW/MSYS.
             --enable-doc \
             --disable-versioned-doc \
             --enable-html-doc \
+            --enable-xml-doc \
             --enable-pdf-doc \
             --enable-man-doc \
             --mandir=$installdir/man \
diff --git a/doc/api/unjs.pl b/doc/api/unjs.pl
new file mode 100644
index 0000000..70666d5
--- /dev/null
+++ b/doc/api/unjs.pl
@@ -0,0 +1,155 @@
+#!/usr/bin/perl
+# ----------------------------------------------------------------------------
+# "THE BEER-WARE LICENSE" (Revision 42):
+# <joerg@FreeBSD.ORG> wrote this file.  As long as you retain this notice you
+# can do whatever you want with this stuff. If we meet some day, and you think
+# this stuff is worth it, you can buy me a beer in return.        Joerg Wunsch
+# ----------------------------------------------------------------------------
+#
+# Parse the generated tree.js file, and insert a <noscript> tree into the
+# HTML source.
+#
+# $Id$
+#
+
+die "usage: unjs tree.js tree.html index.html" unless $#ARGV == 2;
+
+$treejs = $ARGV[0];
+$treehtml = $ARGV[1];
+$indexhtml = $ARGV[2];
+
+parsejs($treejs) || exit 1;
+
+open(HTML, $treehtml) || die "Cannot open $treehtml: $!\n";
+open(NEW, ">${treehtml}.new") ||
+    die "Cannot create ${treehtml}.new: $!\n";
+
+while (<HTML>) {
+    print NEW;
+    if (/^<\/script>$/) {
+	print NEW "<noscript>\n";
+	print NEW $nojs;
+	print NEW "</noscript>\n";
+    }
+}
+close(NEW);
+close(HTML);
+rename($treehtml, "${treehtml}.bak") &&
+    rename("${treehtml}.new", $treehtml);
+
+open(HTML, $indexhtml) || die "Cannot open $indexhtml: $!\n";
+open(NEW, ">${indexhtml}.new") ||
+    die "Cannot create ${indexhtml}.new: $!\n";
+
+while (<HTML>) {
+    print NEW;
+    if (/^<\/frameset>$/) {
+	print NEW "<noframes>\n";
+	print NEW $nojs;
+	print NEW "</noframes>\n";
+    }
+}
+close(NEW);
+close(HTML);
+rename($indexhtml, "${indexhtml}.bak") &&
+    rename("${indexhtml}.new", $indexhtml);
+exit(0);
+
+sub parsejs
+{
+    my ($f) = @_;
+    my ($i, $err);
+
+    open(JS, $f) || die "Cannot open $f: $!\n";
+
+    while ($l = <JS>) {
+	chomp $l;
+
+	$resvar = undef;
+	$insvar = undef;
+
+	$l =~ s/^\s+//;
+	if ($l =~ /^([A-Za-z][A-Za-z0-9]*)\s*=\s*/) {
+	    # variable assignment
+	    $resvar = $1;
+	    $l = $';
+	}
+	$i = parsefun($l);
+	if ($i == 0) {
+	    $errs++;
+	    next;
+	}
+    }
+    close(JS);
+    return $errs == 0;
+}
+
+sub parsefun
+{
+    my ($line) = @_;
+    my $fun, $arg;
+
+    if ($line !~ /^([A-Za-z]+)[(](.*)[)]$/) {
+	warn "item ignored: $line\n";
+	return 0;
+    }
+    $fun = $1;
+    $arg = $2;
+    if ($fun ne "gFld" && $fun ne "gLnk" &&
+	$fun ne "insFld" && $fun ne "insDoc") {
+	warn "function $fun unknown\n";
+	return 0;
+    }
+    if ($fun =~ /^ins(.*)/) {
+	parseins($1, $arg) || return 0;
+    } elsif ($fun =~ /^g(.*)/) {
+	parseg($1, $arg) || return 0;
+    }
+
+    return 1;
+}
+
+sub parseg
+{
+    my ($name, $line) = @_;
+
+    if ($line !~ /^["](.*)["],\s*["](.*)["],\s*["](.*)["]/) {
+	warn "arglist expected: $line\n";
+	return 0;
+    }
+    $text = $1;
+    $tag = $2;
+    $lnk = $3;
+
+    if ($name eq "Fld") {
+	if ($lnk ne "") {
+	    $nojs .= "<a href=\"$lnk\" target=\"basefrm\"><b>$text</b></a><br>\n";
+	} else {
+	    $nojs .= "$text<br>\n";
+	}
+    } else {
+	# gLnk
+	if ($lnk ne "") {
+	    $nojs .= "<a href=\"$lnk\" target=\"basefrm\">$text</a><br>\n";
+	} else {
+	    # Huh, link without target?
+	    $nojs .= "$text<br>\n";
+	}
+    }
+}
+
+sub parseins
+{
+    my ($name, $line) = @_;
+
+    if ($line !~ /^([A-Za-z][A-Za-z0-9]*),\s*/) {
+	warn "variable expected: $line\n";
+	return;
+    }
+    $insvar = $1;
+
+    parsefun($') || return 0;
+
+    return 1;
+}
+	
diff --git a/doc/api/using-avrprog.dox b/doc/api/using-avrprog.dox
index f34420b..f4596b8 100644
--- a/doc/api/using-avrprog.dox
+++ b/doc/api/using-avrprog.dox
@@ -23,7 +23,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: using-avrprog.dox 291 2003-02-27 18:32:46Z troth $ */
+/* $Id$ */
 
 /** \page using_avrprog Using the avrdude program
 
diff --git a/doc/api/using-tools.dox b/doc/api/using-tools.dox
index f2b753a..03a810a 100644
--- a/doc/api/using-tools.dox
+++ b/doc/api/using-tools.dox
@@ -26,7 +26,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: using-tools.dox 2211 2011-02-14 14:04:25Z aboyapati $ */
+/* $Id$ */
 
 /** \page using_tools Using the GNU tools
 
@@ -180,6 +180,20 @@ AVR will be defined as well when using the standard levels gnu89
     </td>
     <td>"Enhanced" CPU core, 256 KB of ROM</td>
   </tr>
+  <tr>
+    <td>avr7&nbsp;[2]</td>
+    <td>
+    __AVR_ARCH__=7<BR>
+    __AVR_MEGA__&nbsp;[5]<BR>
+    __AVR_ENHANCED__&nbsp;[5]<BR>
+    __AVR_HAVE_JMP_CALL__&nbsp;[4]<BR>
+    __AVR_HAVE_MOVW__&nbsp;[1]<BR>
+    __AVR_HAVE_LPMX__&nbsp;[1]<BR>
+    __AVR_HAVE_MUL__&nbsp;[1]<BR>
+    __AVR_2_BYTE_PC__&nbsp;[2]
+    </td>
+    <td>"Enhanced" CPU core, 20K of Flash that starts at 0x8000</td>
+  </tr>
   </table>
   <p>
   [1] New in GCC 4.2<BR>
@@ -231,6 +245,8 @@ AVR will be defined as well when using the standard levels gnu89
 
   <tr><td>avr2/avr25&nbsp;[1]</td><td>at86rf401</td><td>__AVR_AT86RF401__</td></tr>
   <tr><td>avr2/avr25&nbsp;[1]</td><td>ata6289</td><td>__AVR_ATA6289__</td></tr>
+  <tr><td>avr2/avr25&nbsp;[1]</td><td>ata5272</td><td>__AVR_ATA5272__</td></tr>
+  <tr><td>avr2/avr25&nbsp;[1]</td><td>ata6616c</td><td>__AVR_ATA6616C__</td></tr>
   <tr><td>avr2/avr25&nbsp;[1]</td><td>attiny13</td><td>__AVR_ATtiny13__</td></tr>
   <tr><td>avr2/avr25&nbsp;[1]</td><td>attiny13a</td><td>__AVR_ATtiny13A__</td></tr>
   <tr><td>avr2/avr25&nbsp;[1]</td><td>attiny2313</td><td>__AVR_ATtiny2313__</td></tr>
@@ -244,12 +260,15 @@ AVR will be defined as well when using the standard levels gnu89
   <tr><td>avr2/avr25&nbsp;[1]</td><td>attiny43u</td><td>__AVR_ATtiny43U__</td></tr>
   <tr><td>avr2/avr25&nbsp;[1]</td><td>attiny44</td><td>__AVR_ATtiny44__</td></tr>
   <tr><td>avr2/avr25&nbsp;[1]</td><td>attiny44a</td><td>__AVR_ATtiny44A__</td></tr>
+  <tr><td>avr2/avr25&nbsp;[1]</td><td>attiny441</td><td>__AVR_ATtiny441__</td></tr>
   <tr><td>avr2/avr25&nbsp;[1]</td><td>attiny45</td><td>__AVR_ATtiny45__</td></tr>
   <tr><td>avr2/avr25&nbsp;[1]</td><td>attiny461</td><td>__AVR_ATtiny461__</td></tr>
   <tr><td>avr2/avr25&nbsp;[1]</td><td>attiny461a</td><td>__AVR_ATtiny461A__</td></tr>
   <tr><td>avr2/avr25&nbsp;[1]</td><td>attiny48</td><td>__AVR_ATtiny48__</td></tr>
+  <tr><td>avr2/avr25&nbsp;[1]</td><td>attiny828</td><td>__AVR_ATtiny828__</td></tr>
   <tr><td>avr2/avr25&nbsp;[1]</td><td>attiny84</td><td>__AVR_ATtiny84__</td></tr>
   <tr><td>avr2/avr25&nbsp;[1]</td><td>attiny84a</td><td>__AVR_ATtiny84A__</td></tr>
+  <tr><td>avr2/avr25&nbsp;[1]</td><td>attiny841</td><td>__AVR_ATtiny841__</td></tr>
   <tr><td>avr2/avr25&nbsp;[1]</td><td>attiny85</td><td>__AVR_ATtiny85__</td></tr>
   <tr><td>avr2/avr25&nbsp;[1]</td><td>attiny861</td><td>__AVR_ATtiny861__</td></tr>
   <tr><td>avr2/avr25&nbsp;[1]</td><td>attiny861a</td><td>__AVR_ATtiny861A__</td></tr>
@@ -264,16 +283,25 @@ AVR will be defined as well when using the standard levels gnu89
 
   <tr><td>avr3/avr35&nbsp;[2]</td><td>at90usb82</td><td>__AVR_AT90USB82__</td></tr>
   <tr><td>avr3/avr35&nbsp;[2]</td><td>at90usb162</td><td>__AVR_AT90USB162__</td></tr>
+  <tr><td>avr3/avr35&nbsp;[2]</td><td>ata5505</td><td>__AVR_ATA5505__</td></tr>
+  <tr><td>avr3/avr35&nbsp;[2]</td><td>ata6617c</td><td>__AVR_ATA6617C__</td></tr>
+  <tr><td>avr3/avr35&nbsp;[2]</td><td>ata664251</td><td>__AVR_ATA664251__</td></tr>
   <tr><td>avr3/avr35&nbsp;[2]</td><td>atmega8u2</td><td>__AVR_ATmega8U2__</td></tr>
   <tr><td>avr3/avr35&nbsp;[2]</td><td>atmega16u2</td><td>__AVR_ATmega16U2__</td></tr>
   <tr><td>avr3/avr35&nbsp;[2]</td><td>atmega32u2</td><td>__AVR_ATmega32U2__</td></tr>
   <tr><td>avr3/avr35&nbsp;[2]</td><td>attiny167</td><td>__AVR_ATtiny167__</td></tr>
+  <tr><td>avr3/avr35&nbsp;[2]</td><td>attiny1634</td><td>__AVR_ATtiny1634__</td></tr>
 
   <tr><td>avr3</td><td>at76c711</td><td>__AVR_AT76C711__</td></tr>
+  <tr><td>avr4</td><td>ata6285</td><td>__AVR_ATA6285__</td></tr>
+  <tr><td>avr4</td><td>ata6286</td><td>__AVR_ATA6286__</td></tr>
+  <tr><td>avr4</td><td>ata6612c</td><td>__AVR_ATA6612C__</td></tr>
   <tr><td>avr4</td><td>atmega48</td><td>__AVR_ATmega48__</td></tr>
   <tr><td>avr4</td><td>atmega48a</td><td>__AVR_ATmega48A__</td></tr>
+  <tr><td>avr4</td><td>atmega48pa</td><td>__AVR_ATmega48PA__</td></tr>
   <tr><td>avr4</td><td>atmega48p</td><td>__AVR_ATmega48P__</td></tr>
   <tr><td>avr4</td><td>atmega8</td><td>__AVR_ATmega8__</td></tr>
+  <tr><td>avr4</td><td>atmega8a</td><td>__AVR_ATmega8A__</td></tr>
   <tr><td>avr4</td><td>atmega8515</td><td>__AVR_ATmega8515__</td></tr>
   <tr><td>avr4</td><td>atmega8535</td><td>__AVR_ATmega8535__</td></tr>
   <tr><td>avr4</td><td>atmega88</td><td>__AVR_ATmega88__</td></tr>
@@ -290,6 +318,7 @@ AVR will be defined as well when using the standard levels gnu89
 
   <tr><td>avr5</td><td>at90can32</td><td>__AVR_AT90CAN32__</td></tr>
   <tr><td>avr5</td><td>at90can64</td><td>__AVR_AT90CAN64__</td></tr>
+  <tr><td>avr5</td><td>at90pwm161</td><td>__AVR_AT90PWM161__</td></tr>
   <tr><td>avr5</td><td>at90pwm216</td><td>__AVR_AT90PWM216__</td></tr>
   <tr><td>avr5</td><td>at90pwm316</td><td>__AVR_AT90PWM316__</td></tr>
   <tr><td>avr5</td><td>at90scr100</td><td>__AVR_AT90SCR100__</td></tr>
@@ -297,17 +326,25 @@ AVR will be defined as well when using the standard levels gnu89
   <tr><td>avr5</td><td>at90usb647</td><td>__AVR_AT90USB647__</td></tr>
   <tr><td>avr5</td><td>at94k</td><td>__AVR_AT94K__</td></tr>
   <tr><td>avr5</td><td>atmega16</td><td>__AVR_ATmega16__</td></tr>
+  <tr><td>avr5</td><td>ata5790</td><td>__AVR_ATA5790__</td></tr>
+  <tr><td>avr5</td><td>ata6613c</td><td>__AVR_ATA6613C__</td></tr>
+  <tr><td>avr5</td><td>ata6614q</td><td>__AVR_ATA6614Q__</td></tr>
+  <tr><td>avr5</td><td>ata5790n</td><td>__AVR_ATA5790N__</td></tr>
+  <tr><td>avr5</td><td>ata5795</td><td>__AVR_ATA5795__</td></tr>
   <tr><td>avr5</td><td>atmega161</td><td>__AVR_ATmega161__</td></tr>
   <tr><td>avr5</td><td>atmega162</td><td>__AVR_ATmega162__</td></tr>
   <tr><td>avr5</td><td>atmega163</td><td>__AVR_ATmega163__</td></tr>
   <tr><td>avr5</td><td>atmega164a</td><td>__AVR_ATmega164A__</td></tr>
   <tr><td>avr5</td><td>atmega164p</td><td>__AVR_ATmega164P__</td></tr>
+  <tr><td>avr5</td><td>atmega164pa</td><td>__AVR_ATmega164PA__</td></tr>
   <tr><td>avr5</td><td>atmega165</td><td>__AVR_ATmega165__</td></tr>
   <tr><td>avr5</td><td>atmega165a</td><td>__AVR_ATmega165A__</td></tr>
   <tr><td>avr5</td><td>atmega165p</td><td>__AVR_ATmega165P__</td></tr>
+  <tr><td>avr5</td><td>atmega165pa</td><td>__AVR_ATmega165PA__</td></tr>
   <tr><td>avr5</td><td>atmega168</td><td>__AVR_ATmega168__</td></tr>
   <tr><td>avr5</td><td>atmega168a</td><td>__AVR_ATmega168A__</td></tr>
   <tr><td>avr5</td><td>atmega168p</td><td>__AVR_ATmega168P__</td></tr>
+  <tr><td>avr5</td><td>atmega168pa</td><td>__AVR_ATmega168PA__</td></tr>
   <tr><td>avr5</td><td>atmega169</td><td>__AVR_ATmega169__</td></tr>
   <tr><td>avr5</td><td>atmega169a</td><td>__AVR_ATmega169A__</td></tr>
   <tr><td>avr5</td><td>atmega169p</td><td>__AVR_ATmega169P__</td></tr>
@@ -320,6 +357,7 @@ AVR will be defined as well when using the standard levels gnu89
   <tr><td>avr5</td><td>atmega16m1</td><td>__AVR_ATmega16M1__</td></tr>
   <tr><td>avr5</td><td>atmega16u4</td><td>__AVR_ATmega16U4__</td></tr>
   <tr><td>avr5</td><td>atmega32</td><td>__AVR_ATmega32__</td></tr>
+  <tr><td>avr5</td><td>atmega32a</td><td>__AVR_ATmega32A__</td></tr>
   <tr><td>avr5</td><td>atmega323</td><td>__AVR_ATmega323__</td></tr>
   <tr><td>avr5</td><td>atmega324a</td><td>__AVR_ATmega324A__</td></tr>
   <tr><td>avr5</td><td>atmega324p</td><td>__AVR_ATmega324P__</td></tr>
@@ -327,9 +365,11 @@ AVR will be defined as well when using the standard levels gnu89
   <tr><td>avr5</td><td>atmega325</td><td>__AVR_ATmega325__</td></tr>
   <tr><td>avr5</td><td>atmega325a</td><td>__AVR_ATmega325A__</td></tr>
   <tr><td>avr5</td><td>atmega325p</td><td>__AVR_ATmega325P__</td></tr>
+  <tr><td>avr5</td><td>atmega325pa</td><td>__AVR_ATmega325PA__</td></tr>
   <tr><td>avr5</td><td>atmega3250</td><td>__AVR_ATmega3250__</td></tr>
   <tr><td>avr5</td><td>atmega3250a</td><td>__AVR_ATmega3250A__</td></tr>
   <tr><td>avr5</td><td>atmega3250p</td><td>__AVR_ATmega3250P__</td></tr>
+  <tr><td>avr5</td><td>atmega3250pa</td><td>__AVR_ATmega3250PA__</td></tr>
   <tr><td>avr5</td><td>atmega328</td><td>__AVR_ATmega328__</td></tr>
   <tr><td>avr5</td><td>atmega328p</td><td>__AVR_ATmega328P__</td></tr>
   <tr><td>avr5</td><td>atmega329</td><td>__AVR_ATmega329__</td></tr>
@@ -339,6 +379,7 @@ AVR will be defined as well when using the standard levels gnu89
   <tr><td>avr5</td><td>atmega3290</td><td>__AVR_ATmega3290__</td></tr>
   <tr><td>avr5</td><td>atmega3290a</td><td>__AVR_ATmega3290A__</td></tr>
   <tr><td>avr5</td><td>atmega3290p</td><td>__AVR_ATmega3290P__</td></tr>
+  <tr><td>avr5</td><td>atmega3290pa</td><td>__AVR_ATmega3290PA__</td></tr>
   <tr><td>avr5</td><td>atmega32c1</td><td>__AVR_ATmega32C1__</td></tr>
   <tr><td>avr5</td><td>atmega32hvb</td><td>__AVR_ATmega32HVB__</td></tr>
   <tr><td>avr5</td><td>atmega32hvbrevb</td><td>__AVR_ATmega32HVBREVB__</td></tr>
@@ -346,7 +387,10 @@ AVR will be defined as well when using the standard levels gnu89
   <tr><td>avr5</td><td>atmega32u4</td><td>__AVR_ATmega32U4__</td></tr>
   <tr><td>avr5</td><td>atmega32u6</td><td>__AVR_ATmega32U6__</td></tr>
   <tr><td>avr5</td><td>atmega406</td><td>__AVR_ATmega406__</td></tr>
+  <tr><td>avr5</td><td>atmega64rfr2</td><td>__AVR_ATmega64RFR2__</td></tr>
+  <tr><td>avr5</td><td>atmega644rfr2</td><td>__AVR_ATmega644RFR2__</td></tr>
   <tr><td>avr5</td><td>atmega64</td><td>__AVR_ATmega64__</td></tr>
+  <tr><td>avr5</td><td>atmega64a</td><td>__AVR_ATmega64A__</td></tr>
   <tr><td>avr5</td><td>atmega640</td><td>__AVR_ATmega640__</td></tr>
   <tr><td>avr5</td><td>atmega644</td><td>__AVR_ATmega644__</td></tr>
   <tr><td>avr5</td><td>atmega644a</td><td>__AVR_ATmega644A__</td></tr>
@@ -366,6 +410,7 @@ AVR will be defined as well when using the standard levels gnu89
   <tr><td>avr5</td><td>atmega649p</td><td>__AVR_ATmega649P__</td></tr>
   <tr><td>avr5</td><td>atmega64c1</td><td>__AVR_ATmega64C1__</td></tr>
   <tr><td>avr5</td><td>atmega64hve</td><td>__AVR_ATmega64HVE__</td></tr>
+  <tr><td>avr5</td><td>atmega64hve2</td><td>__AVR_ATmega64HVE2__</td></tr>
   <tr><td>avr5</td><td>atmega64m1</td><td>__AVR_ATmega64M1__</td></tr>
   <tr><td>avr5</td><td>m3000</td><td>__AVR_M3000__</td></tr>
 
@@ -373,34 +418,69 @@ AVR will be defined as well when using the standard levels gnu89
   <tr><td>avr5/avr51&nbsp;[3]</td><td>at90usb1286</td><td>__AVR_AT90USB1286__</td></tr>
   <tr><td>avr5/avr51&nbsp;[3]</td><td>at90usb1287</td><td>__AVR_AT90USB1287__</td></tr>
   <tr><td>avr5/avr51&nbsp;[3]</td><td>atmega128</td><td>__AVR_ATmega128__</td></tr>
+  <tr><td>avr5/avr51&nbsp;[3]</td><td>atmega128a</td><td>__AVR_ATmega128A__</td></tr>
   <tr><td>avr5/avr51&nbsp;[3]</td><td>atmega1280</td><td>__AVR_ATmega1280__</td></tr>
   <tr><td>avr5/avr51&nbsp;[3]</td><td>atmega1281</td><td>__AVR_ATmega1281__</td></tr>
+  <tr><td>avr5/avr51&nbsp;[3]</td><td>atmega1284</td><td>__AVR_ATmega1284__</td></tr>
   <tr><td>avr5/avr51&nbsp;[3]</td><td>atmega1284p</td><td>__AVR_ATmega1284P__</td></tr>
+  <tr><td>avr5/avr51&nbsp;[3]</td><td>atmega128rfr2</td><td>__AVR_ATmega128RFR2__</td></tr>
+  <tr><td>avr5/avr51&nbsp;[3]</td><td>atmega1284rfr2</td><td>__AVR_ATmega1284RFR2__</td></tr>
 
   <tr><td>avr6</td><td>atmega2560</td><td>__AVR_ATmega2560__</td></tr>
   <tr><td>avr6</td><td>atmega2561</td><td>__AVR_ATmega2561__</td></tr>
+  <tr><td>avr6</td><td>atmega256rfr2</td><td>__AVR_ATmega256RFR2__</td></tr>
+  <tr><td>avr6</td><td>atmega2564rfr2</td><td>__AVR_ATmega2564RFR2__</td></tr>
+  <tr><td>avr7</td><td>ata5831</td><td>__AVR_ATA5831__</td></tr>
 
   <tr><td>avrxmega2</td><td>atxmega16a4</td><td>__AVR_ATxmega16A4__</td></tr>
+  <tr><td>avrxmega2</td><td>atxmega16a4u</td><td>__AVR_ATxmega16A4U__</td></tr>
+  <tr><td>avrxmega2</td><td>atxmega16c4</td><td>__AVR_ATxmega16C4__</td></tr>
   <tr><td>avrxmega2</td><td>atxmega16d4</td><td>__AVR_ATxmega16D4__</td></tr>
   <tr><td>avrxmega2</td><td>atxmega32a4</td><td>__AVR_ATxmega32A4__</td></tr>
+  <tr><td>avrxmega2</td><td>atxmega32a4u</td><td>__AVR_ATxmega32A4U__</td></tr>
+  <tr><td>avrxmega2</td><td>atxmega32c3</td><td>__AVR_ATxmega32C3__</td></tr>
+  <tr><td>avrxmega2</td><td>atxmega32c4</td><td>__AVR_ATxmega32C4__</td></tr>
+  <tr><td>avrxmega2</td><td>atxmega32d3</td><td>__AVR_ATxmega32D3__</td></tr>
   <tr><td>avrxmega2</td><td>atxmega32d4</td><td>__AVR_ATxmega32D4__</td></tr>
+  <tr><td>avrxmega2</td><td>atxmega8e5</td><td>__AVR_ATxmega8E5__</td></tr>
+  <tr><td>avrxmega2</td><td>atxmega16e5</td><td>__AVR_ATxmega16E5__</td></tr>
+  <tr><td>avrxmega2</td><td>atxmega32e5</td><td>__AVR_ATxmega32E5__</td></tr>
 
   <tr><td>avrxmega4</td><td>atxmega64a3</td><td>__AVR_ATxmega64A3__</td></tr>
+  <tr><td>avrxmega4</td><td>atxmega64a3u</td><td>__AVR_ATxmega64A3U__</td></tr>
+  <tr><td>avrxmega4</td><td>atxmega64a4u</td><td>__AVR_ATxmega64A4U__</td></tr>
+  <tr><td>avrxmega4</td><td>atxmega64b1</td><td>__AVR_ATxmega64B1__</td></tr>
+  <tr><td>avrxmega4</td><td>atxmega64b3</td><td>__AVR_ATxmega64B3__</td></tr>
+  <tr><td>avrxmega4</td><td>atxmega64c3</td><td>__AVR_ATxmega64C3__</td></tr>
   <tr><td>avrxmega4</td><td>atxmega64d3</td><td>__AVR_ATxmega64D3__</td></tr>
+  <tr><td>avrxmega4</td><td>atxmega64d4</td><td>__AVR_ATxmega64D4__</td></tr>
 
   <tr><td>avrxmega5</td><td>atxmega64a1</td><td>__AVR_ATxmega64A1__</td></tr>
   <tr><td>avrxmega5</td><td>atxmega64a1u</td><td>__AVR_ATxmega64A1U__</td></tr>
 
   <tr><td>avrxmega6</td><td>atxmega128a3</td><td>__AVR_ATxmega128A3__</td></tr>
+  <tr><td>avrxmega6</td><td>atxmega128a3u</td><td>__AVR_ATxmega128A3U__</td></tr>
+  <tr><td>avrxmega6</td><td>atxmega128b1</td><td>__AVR_ATxmega128B1__</td></tr>
+  <tr><td>avrxmega6</td><td>atxmega128b3</td><td>__AVR_ATxmega128B3__</td></tr>
+  <tr><td>avrxmega6</td><td>atxmega128c3</td><td>__AVR_ATxmega128C3__</td></tr>
   <tr><td>avrxmega6</td><td>atxmega128d3</td><td>__AVR_ATxmega128D3__</td></tr>
+  <tr><td>avrxmega6</td><td>atxmega128d4</td><td>__AVR_ATxmega128D4__</td></tr>
   <tr><td>avrxmega6</td><td>atxmega192a3</td><td>__AVR_ATxmega192A3__</td></tr>
+  <tr><td>avrxmega6</td><td>atxmega192a3u</td><td>__AVR_ATxmega192A3U__</td></tr>
+  <tr><td>avrxmega6</td><td>atxmega192c3</td><td>__AVR_ATxmega192C3__</td></tr>
   <tr><td>avrxmega6</td><td>atxmega192d3</td><td>__AVR_ATxmega192D3__</td></tr>
   <tr><td>avrxmega6</td><td>atxmega256a3</td><td>__AVR_ATxmega256A3__</td></tr>
+  <tr><td>avrxmega6</td><td>atxmega256a3u</td><td>__AVR_ATxmega256A3U__</td></tr>
   <tr><td>avrxmega6</td><td>atxmega256a3b</td><td>__AVR_ATxmega256A3B__</td></tr>
+  <tr><td>avrxmega6</td><td>atxmega256a3bu</td><td>__AVR_ATxmega256A3BU__</td></tr>
+  <tr><td>avrxmega6</td><td>atxmega256c3</td><td>__AVR_ATxmega256C3__</td></tr>
   <tr><td>avrxmega6</td><td>atxmega256d3</td><td>__AVR_ATxmega256D3__</td></tr>
+  <tr><td>avrxmega6</td><td>atxmega384c3</td><td>__AVR_ATxmega384C3__</td></tr>
+  <tr><td>avrxmega6</td><td>atxmega384d3</td><td>__AVR_ATxmega384D3__</td></tr>
 
   <tr><td>avrxmega7</td><td>atxmega128a1</td><td>__AVR_ATxmega128A1__</td></tr>
   <tr><td>avrxmega7</td><td>atxmega128a1u</td><td>__AVR_ATxmega128A1U__</td></tr>
+  <tr><td>avrxmega7</td><td>atxmega128a4u</td><td>__AVR_ATxmega128A4U__</td></tr>
   
   <tr><td>avrtiny10</td><td>attiny4</td><td>__AVR_ATtiny4__</td></tr>
   <tr><td>avrtiny10</td><td>attiny5</td><td>__AVR_ATtiny5__</td></tr>
diff --git a/doc/api/vectortable.dox b/doc/api/vectortable.dox
index 58d04db..7df2ef6 100644
--- a/doc/api/vectortable.dox
+++ b/doc/api/vectortable.dox
@@ -31,7 +31,7 @@
    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
    POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: vectortable.dox 1530 2007-12-20 20:43:54Z joerg_wunsch $ */
+/* $Id$ */
 
 
 /** \addtogroup avr_interrupts
diff --git a/doc/examples/Makefile.am b/doc/examples/Makefile.am
index da8e909..927326b 100644
--- a/doc/examples/Makefile.am
+++ b/doc/examples/Makefile.am
@@ -28,7 +28,7 @@
 #
 # Contributors:
 #
-# $Id: Makefile.am 1124 2006-08-29 19:45:06Z joerg_wunsch $
+# $Id$
 #
 
 MAINTAINERCLEANFILES = Makefile.in
diff --git a/doc/examples/all-demos.dox b/doc/examples/all-demos.dox
index fe9b7b6..6b0744f 100644
--- a/doc/examples/all-demos.dox
+++ b/doc/examples/all-demos.dox
@@ -23,7 +23,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: all-demos.dox 1124 2006-08-29 19:45:06Z joerg_wunsch $ */
+/* $Id$ */
 
 /** \defgroup demos Demo projects
 
diff --git a/doc/examples/asmdemo/asmdemo.c b/doc/examples/asmdemo/asmdemo.c
index c88889f..1467102 100644
--- a/doc/examples/asmdemo/asmdemo.c
+++ b/doc/examples/asmdemo/asmdemo.c
@@ -23,7 +23,7 @@
  * PWM signal, and timer 0 to generate the outgoing PWM.  In that
  * case, no additional assembly code is needed.
  *
- * $Id: asmdemo.c 1124 2006-08-29 19:45:06Z joerg_wunsch $
+ * $Id$
  */
 
 /*
diff --git a/doc/examples/asmdemo/asmdemo.dox b/doc/examples/asmdemo/asmdemo.dox
index 6154411..1b535f6 100644
--- a/doc/examples/asmdemo/asmdemo.dox
+++ b/doc/examples/asmdemo/asmdemo.dox
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: asmdemo.dox 1368 2007-05-06 05:05:02Z arcanum $ */
+/* $Id$ */
 
 /** \defgroup asmdemo Combining C and assembly source files
     \ingroup demos
diff --git a/doc/examples/asmdemo/isrs.S b/doc/examples/asmdemo/isrs.S
index c448573..861876e 100644
--- a/doc/examples/asmdemo/isrs.S
+++ b/doc/examples/asmdemo/isrs.S
@@ -8,7 +8,7 @@
  *
  * Demo combining C and assembly source files.
  *
- * $Id: isrs.S 1124 2006-08-29 19:45:06Z joerg_wunsch $
+ * $Id$
  */
 /*
  * This file contains the interrupt service routine implementations
diff --git a/doc/examples/asmdemo/project.h b/doc/examples/asmdemo/project.h
index 79a405a..d260f45 100644
--- a/doc/examples/asmdemo/project.h
+++ b/doc/examples/asmdemo/project.h
@@ -8,7 +8,7 @@
  *
  * Demo combining C and assembly source files.
  *
- * $Id: project.h 1124 2006-08-29 19:45:06Z joerg_wunsch $
+ * $Id$
  */
 
 /*
diff --git a/doc/examples/demo/Makefile b/doc/examples/demo/Makefile
index 95b2012..a36f1fe 100644
--- a/doc/examples/demo/Makefile
+++ b/doc/examples/demo/Makefile
@@ -27,6 +27,7 @@ OBJ            = demo.o
 #MCU_TARGET     = atmega3250
 #MCU_TARGET     = atmega329
 #MCU_TARGET     = atmega3290
+#MCU_TARGET     = atmega32u4
 #MCU_TARGET     = atmega48
 #MCU_TARGET     = atmega64
 #MCU_TARGET     = atmega640
diff --git a/doc/examples/demo/demo.c b/doc/examples/demo/demo.c
index c049da9..5984b75 100644
--- a/doc/examples/demo/demo.c
+++ b/doc/examples/demo/demo.c
@@ -11,7 +11,7 @@
  * controlled with the PWM.  After each period of the PWM, the PWM
  * value is either incremented or decremented, that's all.
  *
- * $Id: demo.c 1637 2008-03-17 21:49:41Z joerg_wunsch $
+ * $Id$
  */
 
 #include <inttypes.h>
diff --git a/doc/examples/demo/demo.dox b/doc/examples/demo/demo.dox
index 928aead..3a3d2ec 100644
--- a/doc/examples/demo/demo.dox
+++ b/doc/examples/demo/demo.dox
@@ -23,7 +23,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: demo.dox 1195 2007-01-22 23:34:24Z joerg_wunsch $ */
+/* $Id$ */
 
 /** \defgroup demo_project A simple project
     \ingroup demos
diff --git a/doc/examples/demo/iocompat.h b/doc/examples/demo/iocompat.h
index 5300773..d6a7358 100644
--- a/doc/examples/demo/iocompat.h
+++ b/doc/examples/demo/iocompat.h
@@ -8,7 +8,7 @@
  *
  * IO feature compatibility definitions for various AVRs.
  *
- * $Id: iocompat.h 1638 2008-03-17 21:52:00Z joerg_wunsch $
+ * $Id$
  */
 
 #if !defined(IOCOMPAT_H)
@@ -121,7 +121,8 @@
       defined(__AVR_ATmega649__) || defined(__AVR_ATmega6490__) || \
       defined(__AVR_ATmega640__) || \
       defined(__AVR_ATmega1280__) || defined(__AVR_ATmega1281__) || \
-      defined(__AVR_ATmega2560__) || defined(__AVR_ATmega2561__)
+      defined(__AVR_ATmega2560__) || defined(__AVR_ATmega2561__) || \
+      defined(__AVR_ATmega32U4__)
 #  define OC1 PB5
 #  define DDROC DDRB
 #  define OCR OCR1A
diff --git a/doc/examples/largedemo/largedemo.c b/doc/examples/largedemo/largedemo.c
index 60b4e77..fe629aa 100644
--- a/doc/examples/largedemo/largedemo.c
+++ b/doc/examples/largedemo/largedemo.c
@@ -10,7 +10,7 @@
  * The brightness of the LED is controlled with the PWM.  A number of
  * methods are implemented to control that PWM.
  *
- * $Id: largedemo.c 1190 2007-01-19 22:17:10Z joerg_wunsch $
+ * $Id$
  */
 
 #include <stdint.h>
diff --git a/doc/examples/largedemo/largedemo.dox b/doc/examples/largedemo/largedemo.dox
index b6c4435..7b4bbef 100644
--- a/doc/examples/largedemo/largedemo.dox
+++ b/doc/examples/largedemo/largedemo.dox
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: largedemo.dox 1190 2007-01-19 22:17:10Z joerg_wunsch $ */
+/* $Id$ */
 
 /** \defgroup largedemo A more sophisticated project
     \ingroup demos
diff --git a/doc/examples/stdiodemo/defines.h b/doc/examples/stdiodemo/defines.h
index e390c12..c417f55 100644
--- a/doc/examples/stdiodemo/defines.h
+++ b/doc/examples/stdiodemo/defines.h
@@ -8,7 +8,7 @@
  *
  * General stdiodemo defines
  *
- * $Id: defines.h 2186 2010-09-22 10:25:15Z aboyapati $
+ * $Id$
  */
 
 /* CPU frequency */
diff --git a/doc/examples/stdiodemo/hd44780.c b/doc/examples/stdiodemo/hd44780.c
index 147dcc0..df23a3d 100644
--- a/doc/examples/stdiodemo/hd44780.c
+++ b/doc/examples/stdiodemo/hd44780.c
@@ -11,7 +11,7 @@
  * The LCD controller is used in 4-bit mode with a full bi-directional
  * interface (i.e. R/~W is connected) so the busy flag can be read.
  *
- * $Id: hd44780.c 2002 2009-06-25 20:21:16Z joerg_wunsch $
+ * $Id$
  */
 
 #include "defines.h"
diff --git a/doc/examples/stdiodemo/hd44780.h b/doc/examples/stdiodemo/hd44780.h
index 6d3d978..addf92b 100644
--- a/doc/examples/stdiodemo/hd44780.h
+++ b/doc/examples/stdiodemo/hd44780.h
@@ -8,7 +8,7 @@
  *
  * HD44780 LCD display driver
  *
- * $Id: hd44780.h 2002 2009-06-25 20:21:16Z joerg_wunsch $
+ * $Id$
  */
 
 /*
diff --git a/doc/examples/stdiodemo/lcd.c b/doc/examples/stdiodemo/lcd.c
index e477bee..e134f83 100644
--- a/doc/examples/stdiodemo/lcd.c
+++ b/doc/examples/stdiodemo/lcd.c
@@ -8,7 +8,7 @@
  *
  * Stdio demo, upper layer of LCD driver.
  *
- * $Id: lcd.c 2265 2011-12-28 21:28:29Z joerg_wunsch $
+ * $Id$
  */
 
 #include "defines.h"
diff --git a/doc/examples/stdiodemo/lcd.h b/doc/examples/stdiodemo/lcd.h
index 19a875f..a1ab925 100644
--- a/doc/examples/stdiodemo/lcd.h
+++ b/doc/examples/stdiodemo/lcd.h
@@ -8,7 +8,7 @@
  *
  * Stdio demo, upper layer of LCD driver.
  *
- * $Id: lcd.h 1008 2005-12-28 21:38:59Z joerg_wunsch $
+ * $Id$
  */
 
 /*
diff --git a/doc/examples/stdiodemo/stdiodemo.c b/doc/examples/stdiodemo/stdiodemo.c
index c822f2b..8da4740 100644
--- a/doc/examples/stdiodemo/stdiodemo.c
+++ b/doc/examples/stdiodemo/stdiodemo.c
@@ -8,7 +8,7 @@
  *
  * Stdio demo
  *
- * $Id: stdiodemo.c 1008 2005-12-28 21:38:59Z joerg_wunsch $
+ * $Id$
  */
 
 #include "defines.h"
diff --git a/doc/examples/stdiodemo/uart.c b/doc/examples/stdiodemo/uart.c
index 4aa54df..4dc45fc 100644
--- a/doc/examples/stdiodemo/uart.c
+++ b/doc/examples/stdiodemo/uart.c
@@ -8,7 +8,7 @@
  *
  * Stdio demo, UART implementation
  *
- * $Id: uart.c 1008 2005-12-28 21:38:59Z joerg_wunsch $
+ * $Id$
  */
 
 #include "defines.h"
diff --git a/doc/examples/stdiodemo/uart.h b/doc/examples/stdiodemo/uart.h
index a7be25c..d30549d 100644
--- a/doc/examples/stdiodemo/uart.h
+++ b/doc/examples/stdiodemo/uart.h
@@ -8,7 +8,7 @@
  *
  * Stdio demo, UART declarations
  *
- * $Id: uart.h 1008 2005-12-28 21:38:59Z joerg_wunsch $
+ * $Id$
  */
 
 /*
diff --git a/doc/examples/twitest/Makefile b/doc/examples/twitest/Makefile
index 4aaa4ab..bd20d77 100644
--- a/doc/examples/twitest/Makefile
+++ b/doc/examples/twitest/Makefile
@@ -1,5 +1,5 @@
 #
-# $Id: Makefile 233 2002-12-18 22:35:38Z joerg_wunsch $
+# $Id$
 #
 CC= avr-gcc
 #MCU=atmega8
diff --git a/doc/examples/twitest/twitest.c b/doc/examples/twitest/twitest.c
index bca3149..233eb3b 100644
--- a/doc/examples/twitest/twitest.c
+++ b/doc/examples/twitest/twitest.c
@@ -13,7 +13,7 @@
  * ----------------------------------------------------------------------------
  */
 
-/* $Id: twitest.c 2244 2011-05-12 03:33:42Z arcanum $ */
+/* $Id$ */
 
 /*
  * Simple demo program that talks to a 24Cxx IC EEPROM using the
diff --git a/doc/examples/twitest/twitest.dox b/doc/examples/twitest/twitest.dox
index 801f4be..4e8bf8c 100644
--- a/doc/examples/twitest/twitest.dox
+++ b/doc/examples/twitest/twitest.dox
@@ -23,7 +23,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: twitest.dox 2202 2010-12-16 23:11:37Z arcanum $ */
+/* $Id$ */
 
 /** \defgroup twi_demo Example using the two-wire interface (TWI)
     \ingroup demos
diff --git a/include/Makefile.am b/include/Makefile.am
index 176c657..82ce951 100644
--- a/include/Makefile.am
+++ b/include/Makefile.am
@@ -26,7 +26,7 @@
 # ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 # POSSIBILITY OF SUCH DAMAGE.
 #
-# $Id: Makefile.am 1406 2007-07-01 07:13:16Z joerg_wunsch $
+# $Id$
 #
 
 avrdir = $(prefix)/avr/include
@@ -38,6 +38,7 @@ avr_HEADERS = \
     inttypes.h \
     math.h \
     setjmp.h \
+    stdfix-avrlibc.h \
     stdint.h \
     stdio.h \
     stdlib.h \
diff --git a/include/alloca.h b/include/alloca.h
index 80b7335..a213c0c 100644
--- a/include/alloca.h
+++ b/include/alloca.h
@@ -26,7 +26,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: alloca.h 1508 2007-12-18 13:36:50Z dmix $	*/
+/* $Id$	*/
 
 #ifndef	_ALLOCA_H
 #define _ALLOCA_H  1
diff --git a/include/assert.h b/include/assert.h
index c349463..fc53235 100644
--- a/include/assert.h
+++ b/include/assert.h
@@ -33,7 +33,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE.
 
-  $Id: assert.h 1196 2007-01-23 15:34:58Z joerg_wunsch $
+  $Id$
 */
 
 /** \file */
@@ -62,6 +62,8 @@
 
 #undef assert
 
+#include <stdlib.h>
+
 #if defined(__DOXYGEN__)
 /**
  * \def assert
diff --git a/include/avr/Makefile.am b/include/avr/Makefile.am
index efbef3d..a353c10 100644
--- a/include/avr/Makefile.am
+++ b/include/avr/Makefile.am
@@ -26,7 +26,7 @@
 # ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 # POSSIBILITY OF SUCH DAMAGE.
 #
-# $Id: Makefile.am 2211 2011-02-14 14:04:25Z aboyapati $
+# $Id$
 #
 
 avrdir = $(prefix)/avr/include/avr
@@ -61,9 +61,24 @@ avr_HEADERS = \
     io90pwm216.h \
     io90pwm3b.h \
     io90pwm316.h \
+    io90pwm161.h \
     io90pwm81.h \
     io90scr100.h \
+    ioa5505.h \
+    ioa5272.h \
+    ioa5790.h \
+    ioa5790n.h \
+    ioa5795.h \
+    ioa5831.h \
+    ioa6285.h \
+    ioa6286.h \
     ioa6289.h \
+    ioa6612c.h \
+    ioa6613c.h \
+    ioa6614q.h \
+    ioa6616c.h \
+    ioa6617c.h \
+    ioa664251.h \
     ioat94k.h \
     iocan32.h \
     iocan64.h \
@@ -71,21 +86,33 @@ avr_HEADERS = \
     iocanxx.h \
     iom103.h \
     iom128.h \
+    iom128a.h \
     iom1280.h \
     iom1281.h \
+    iom1284.h \
     iom1284p.h \
     iom128rfa1.h \
+    iom128rfr2.h \
+    iom1284rfr2.h \
     iom16.h \
     iom16a.h \
     iom161.h \
     iom162.h \
     iom163.h \
     iom164.h \
+    iom164p.h \
+    iom164a.h \
+    iom164pa.h \
     iom165.h \
+    iom165a.h \
     iom165p.h \
+    iom165pa.h \
     iom168.h \
+    iom168a.h \
     iom168p.h \
+    iom168pa.h \
     iom169.h \
+    iom169a.h \
     iom169p.h \
     iom169pa.h \
     iom16hva.h \
@@ -97,16 +124,32 @@ avr_HEADERS = \
     iom16u4.h \
     iom2560.h \
     iom2561.h \
+    iom256rfr2.h \
+    iom2564rfr2.h \
     iom3000.h \
     iom32.h \
+    iom32a.h \
     iom323.h \
-    iom324.h \
+    iom324p.h \
+    iom324a.h \
     iom324pa.h \
     iom325.h \
+    iom325a.h \
+    iom325p.h \
+    iom325pa.h \
     iom3250.h \
+    iom3250a.h \
+    iom3250p.h \
+    iom3250pa.h \
+    iom328.h \
     iom328p.h \
     iom329.h \
+    iom329p.h \
+    iom329a.h \
+    iom329pa.h \
     iom3290.h \
+    iom3290a.h \
+    iom3290pa.h \
     iom32hvb.h \
     iom32hvbrevb.h \
     iom32c1.h \
@@ -114,26 +157,42 @@ avr_HEADERS = \
     iom32u2.h \
     iom32u4.h \
     iom32u6.h \
+    iom48a.h \
     iom48.h \
+    iom48pa.h \
     iom48p.h \
     iom406.h \
     iom64.h \
+    iom64a.h \
     iom640.h \
     iom644.h \
+    iom644a.h \
     iom644p.h \
     iom644pa.h \
     iom645.h \
+    iom645a.h \
+    iom645p.h \
     iom6450.h \
+    iom6450a.h \
+    iom6450p.h \
     iom649.h \
+    iom649a.h \
     iom649p.h \
     iom6490.h \
+    iom6490a.h \
+    iom6490p.h \
     iom64c1.h \
     iom64hve.h \
+    iom64hve2.h \
     iom64m1.h \
+    iom64rfr2.h \
+    iom644rfr2.h \
     iom8.h \
+    iom8a.h \
     iom8515.h \
     iom8535.h \
     iom88.h \
+    iom88a.h \
     iom88p.h \
     iom88pa.h \
     iom8hva.h \
@@ -152,8 +211,10 @@ avr_HEADERS = \
     iotn13a.h \
     iotn15.h \
     iotn167.h \
+    iotn1634.h \
     iotn20.h \
     iotn22.h \
+    iotn828.h \
     iotn2313.h \
     iotn2313a.h \
     iotn24.h \
@@ -168,6 +229,7 @@ avr_HEADERS = \
     iotn43u.h \
     iotn44.h \
     iotn44a.h \
+    iotn441.h \
     iotn45.h \
     iotn461.h \
     iotn461a.h \
@@ -175,6 +237,7 @@ avr_HEADERS = \
     iotn88.h \
     iotn84.h \
     iotn84a.h \
+    iotn841.h \
     iotn85.h \
     iotn861.h \
     iotn861a.h \
@@ -191,22 +254,50 @@ avr_HEADERS = \
     iousb647.h \
     iousbxx6_7.h \
     iox64d3.h \
+    iox64d4.h \
     iox128a1.h \
     iox128a1u.h \
+    iox128a4u.h \
     iox128a3.h \
+    iox128a3u.h \
+    iox128b1.h \
+    iox128b3.h \
+    iox128c3.h \
     iox128d3.h \
+    iox128d4.h \
     iox16a4.h \
+    iox16a4u.h \
+    iox16c4.h \
     iox16d4.h \
     iox192a3.h \
+    iox192a3u.h \
+    iox192c3.h \
     iox192d3.h \
     iox256a3.h \
+    iox256a3u.h \
     iox256a3b.h \
+    iox256a3bu.h \
+    iox256c3.h \
     iox256d3.h \
+    iox384c3.h \
+    iox384d3.h \
     iox32a4.h \
+    iox32a4u.h \
+    iox32c3.h \
+    iox32c4.h \
+    iox32d3.h \
     iox32d4.h \
+    iox8e5.h \
+    iox16e5.h \
+    iox32e5.h \
     iox64a1.h \
     iox64a1u.h \
     iox64a3.h \
+    iox64a3u.h \
+    iox64a4u.h \
+    iox64b1.h \
+    iox64b3.h \
+    iox64c3.h \
     lock.h \
     parity.h \
     pgmspace.h \
@@ -217,7 +308,8 @@ avr_HEADERS = \
     signal.h \
     sleep.h \
     version.h \
-    wdt.h
+    wdt.h \
+    xmega.h
 
 nodist_avr_HEADERS = \
     builtins.h
diff --git a/include/avr/boot.h b/include/avr/boot.h
index 0ee9704..963dd1f 100644
--- a/include/avr/boot.h
+++ b/include/avr/boot.h
@@ -26,7 +26,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: boot.h 2102 2010-03-16 22:52:39Z joerg_wunsch $ */
+/* $Id$ */
 
 #ifndef _AVR_BOOT_H_
 #define _AVR_BOOT_H_    1
@@ -109,10 +109,12 @@
 /* Check for SPM Control Register in processor. */
 #if defined (SPMCSR)
 #  define __SPM_REG    SPMCSR
-#elif defined (SPMCR)
-#  define __SPM_REG    SPMCR
 #else
-#  error AVR processor does not provide bootloader support!
+#  if defined (SPMCR)
+#    define __SPM_REG    SPMCR
+#  else
+#    error AVR processor does not provide bootloader support!
+#  endif
 #endif
 
 
diff --git a/include/avr/builtins.h.in b/include/avr/builtins.h.in
index 43b36d0..17066e1 100644
--- a/include/avr/builtins.h.in
+++ b/include/avr/builtins.h.in
@@ -29,7 +29,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: builtins.h.in 2103 2010-03-17 05:16:10Z joerg_wunsch $ */
+/* $Id$ */
 
 /*
    avr/builtins.h - Intrinsic functions built into the compiler
diff --git a/include/avr/common.h b/include/avr/common.h
index ff9fa89..358b328 100644
--- a/include/avr/common.h
+++ b/include/avr/common.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: common.h 2102 2010-03-16 22:52:39Z joerg_wunsch $ */
+/* $Id$ */
 
 
 #ifndef _AVR_COMMON_H
@@ -187,6 +187,18 @@ keep the EEPROM-related definitions here.
 #    define EERIE  (3)
 #  endif
 
+
+/* RAM Page Z Select Register	*/
+#ifndef RAMPZ
+#  if     defined(__AVR_HAVE_RAMPZ__) && __AVR_HAVE_RAMPZ__
+#    if     __AVR_ARCH__ >= 100
+#      define RAMPZ	_SFR_MEM8(0x3B)
+#    else
+#      define RAMPZ	_SFR_IO8(0x3B)
+#    endif
+#  endif
+#endif
+
 #endif /* __COMPILING_AVR_LIBC__ */
 
 
diff --git a/include/avr/cpufunc.h b/include/avr/cpufunc.h
index 8760fb0..45533fa 100644
--- a/include/avr/cpufunc.h
+++ b/include/avr/cpufunc.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: cpufunc.h 2158 2010-06-10 15:48:28Z joerg_wunsch $ */
+/* $Id$ */
 
 /* avr/cpufunc.h - Special CPU functions */
 
@@ -77,7 +77,7 @@
 */
 #define _MemoryBarrier()
 #else  /* real code */
-#define _MemoryBarrier() __asm__ __volatile__(:::"memory")
+#define _MemoryBarrier() __asm__ __volatile__("":::"memory")
 #endif  /* __DOXYGEN__ */
 
 #endif /* _AVR_CPUFUNC_H_ */
diff --git a/include/avr/crc16.h b/include/avr/crc16.h
index 58cbd28..6c8de25 100644
--- a/include/avr/crc16.h
+++ b/include/avr/crc16.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: crc16.h 933 2005-11-05 22:23:16Z joerg_wunsch $ */
+/* $Id$ */
 
 #ifndef _AVR_CRC16_H_
 #define _AVR_CRC16_H_
diff --git a/include/avr/delay.h b/include/avr/delay.h
index 7a295a5..2847ceb 100644
--- a/include/avr/delay.h
+++ b/include/avr/delay.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: delay.h 933 2005-11-05 22:23:16Z joerg_wunsch $ */
+/* $Id$ */
 
 #ifndef _AVR_DELAY_H_
 #define _AVR_DELAY_H_
diff --git a/include/avr/eeprom.h b/include/avr/eeprom.h
index 8ff9bcf..93aa29b 100644
--- a/include/avr/eeprom.h
+++ b/include/avr/eeprom.h
@@ -30,7 +30,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: eeprom.h 2211 2011-02-14 14:04:25Z aboyapati $ */
+/* $Id$ */
 
 #ifndef _AVR_EEPROM_H_
 #define _AVR_EEPROM_H_ 1
@@ -67,6 +67,8 @@
 # define _EEPROM_SUFFIX _90pwm216
 #elif defined (__AVR_AT90PWM316__)
 # define _EEPROM_SUFFIX _90pwm316
+#elif defined (__AVR_AT90PWM161__)
+# define _EEPROM_SUFFIX _90pwm161
 #elif defined (__AVR_AT90PWM81__)
 # define _EEPROM_SUFFIX _90pwm81
 #elif defined (__AVR_ATmega16M1__)
@@ -93,14 +95,26 @@
 # define _EEPROM_SUFFIX  _m64m1
 #elif defined (__AVR_ATmega128__)
 # define _EEPROM_SUFFIX  _m128
+#elif defined (__AVR_ATmega128A__)
+# define _EEPROM_SUFFIX  _m128a
 #elif defined (__AVR_ATmega1280__)
 # define _EEPROM_SUFFIX  _m1280
 #elif defined (__AVR_ATmega1281__)
 # define _EEPROM_SUFFIX  _m1281
+#elif defined (__AVR_ATmega1284__)
+# define _EEPROM_SUFFIX  _m1284
 #elif defined (__AVR_ATmega1284P__)
 # define _EEPROM_SUFFIX  _m1284p
 #elif defined (__AVR_ATmega128RFA1__)
 # define _EEPROM_SUFFIX  _m128rfa1
+#elif defined (__AVR_ATmega128RFR2__)
+# define _EEPROM_SUFFIX  _m128rfr2
+#elif defined (__AVR_ATmega1284RFR2__)
+# define _EEPROM_SUFFIX  _m1284rfr2
+#elif defined (__AVR_ATmega256RFR2__)
+#elif defined (__AVR_ATmega2564RFR2__)
+# define _EEPROM_SUFFIX  _m2564rfr2
+# define _EEPROM_SUFFIX  _m256rfr2
 #elif defined (__AVR_ATmega2560__)
 # define _EEPROM_SUFFIX  _m2560
 #elif defined (__AVR_ATmega2561__)
@@ -123,8 +137,14 @@
 # define _EEPROM_SUFFIX _usb1286
 #elif defined (__AVR_AT90USB1287__)
 # define _EEPROM_SUFFIX _usb1287
+#elif defined (__AVR_ATmega64RFR2__)
+# define _EEPROM_SUFFIX  _m64rfr2
+#elif defined (__AVR_ATmega644RFR2__)
+# define _EEPROM_SUFFIX  _m644rfr2
 #elif defined (__AVR_ATmega64__)
 # define _EEPROM_SUFFIX  _m64
+#elif defined (__AVR_ATmega64A__)
+# define _EEPROM_SUFFIX  _m64a
 #elif defined (__AVR_ATmega640__)
 # define _EEPROM_SUFFIX  _m640
 #elif defined (__AVR_ATmega644__)
@@ -163,6 +183,8 @@
 # define _EEPROM_SUFFIX  _m103
 #elif defined (__AVR_ATmega32__)
 # define _EEPROM_SUFFIX  _m32
+#elif defined (__AVR_ATmega32A__)
+# define _EEPROM_SUFFIX  _m32a
 #elif defined (__AVR_ATmega323__)
 # define _EEPROM_SUFFIX  _m323
 #elif defined (__AVR_ATmega324A__)
@@ -177,12 +199,16 @@
 # define _EEPROM_SUFFIX  _m325a
 #elif defined (__AVR_ATmega325P__)
 # define _EEPROM_SUFFIX  _m325p
+#elif defined (__AVR_ATmega325PA__)
+# define _EEPROM_SUFFIX  _m325pa 
 #elif defined (__AVR_ATmega3250__)
 # define _EEPROM_SUFFIX  _m3250
 #elif defined (__AVR_ATmega3250A__)
 # define _EEPROM_SUFFIX  _m3250a
 #elif defined (__AVR_ATmega3250P__)
 # define _EEPROM_SUFFIX  _m3250p
+#elif defined (__AVR_ATmega3250PA__)
+# define _EEPROM_SUFFIX  _m3250pa
 #elif defined (__AVR_ATmega328__)
 # define _EEPROM_SUFFIX  _m328
 #elif defined (__AVR_ATmega328P__)
@@ -201,12 +227,16 @@
 # define _EEPROM_SUFFIX  _m3290a
 #elif defined (__AVR_ATmega3290P__)
 # define _EEPROM_SUFFIX  _m3290p
+#elif defined (__AVR_ATmega3290PA__)
+# define _EEPROM_SUFFIX  _m3290pa
 #elif defined (__AVR_ATmega32HVB__)
 # define _EEPROM_SUFFIX  _m32hvb
 #elif defined (__AVR_ATmega32HVBREVB__)
 # define _EEPROM_SUFFIX  _m32hvbrevb
 #elif defined (__AVR_ATmega64HVE__)
 # define _EEPROM_SUFFIX  _m64hve
+#elif defined (__AVR_ATmega64HVE2__)
+# define _EEPROM_SUFFIX  _m64hve2
 #elif defined (__AVR_ATmega406__)
 # define _EEPROM_SUFFIX  _m406
 #elif defined (__AVR_ATmega16__)
@@ -223,18 +253,24 @@
 # define _EEPROM_SUFFIX  _m164
 #elif defined (__AVR_ATmega164P__)
 # define _EEPROM_SUFFIX  _m164p
+#elif defined (__AVR_ATmega164PA__)
+# define _EEPROM_SUFFIX  _m164pa
 #elif defined (__AVR_ATmega165__)
 # define _EEPROM_SUFFIX  _m165
 #elif defined (__AVR_ATmega165A__)
 # define _EEPROM_SUFFIX  _m165a
 #elif defined (__AVR_ATmega165P__)
 # define _EEPROM_SUFFIX  _m165p
+#elif defined (__AVR_ATmega165PA__)
+# define _EEPROM_SUFFIX  _m165pa
 #elif defined (__AVR_ATmega168__)
 # define _EEPROM_SUFFIX  _m168
 #elif defined (__AVR_ATmega168A__)
 # define _EEPROM_SUFFIX  _m168a
 #elif defined (__AVR_ATmega168P__)
 # define _EEPROM_SUFFIX  _m168p
+#elif defined (__AVR_ATmega168PA__)
+# define _EEPROM_SUFFIX  _m168pa
 #elif defined (__AVR_ATmega169__)
 # define _EEPROM_SUFFIX  _m169
 #elif defined (__AVR_ATmega169A__)
@@ -255,10 +291,14 @@
 # define _EEPROM_SUFFIX  _m16hvbrevb
 #elif defined (__AVR_ATmega8__)
 # define _EEPROM_SUFFIX  _m8
+#elif defined (__AVR_ATmega8A__)
+# define _EEPROM_SUFFIX  _m8a
 #elif defined (__AVR_ATmega48__)
 # define _EEPROM_SUFFIX  _m48
 #elif defined (__AVR_ATmega48A__)
 # define _EEPROM_SUFFIX  _m48a
+#elif defined (__AVR_ATmega48PA__)
+# define _EEPROM_SUFFIX  _m48pa
 #elif defined (__AVR_ATmega48P__)
 # define _EEPROM_SUFFIX  _m48p
 #elif defined (__AVR_ATmega88__)
@@ -321,10 +361,14 @@
 # define _EEPROM_SUFFIX _tn44
 #elif defined (__AVR_ATtiny44A__)
 # define _EEPROM_SUFFIX _tn44a
+#elif defined (__AVR_ATtiny441__)
+# define _EEPROM_SUFFIX _tn441
 #elif defined (__AVR_ATtiny84__)
 # define _EEPROM_SUFFIX _tn84
 #elif defined (__AVR_ATtiny84A__)
 # define _EEPROM_SUFFIX _tn84a
+#elif defined (__AVR_ATtiny841__)
+# define _EEPROM_SUFFIX _tn841
 #elif defined (__AVR_ATtiny261__)
 # define _EEPROM_SUFFIX _tn261
 #elif defined (__AVR_ATtiny261A__)
@@ -341,50 +385,138 @@
 # define _EEPROM_SUFFIX _tn43u
 #elif defined (__AVR_ATtiny48__)
 # define _EEPROM_SUFFIX _tn48
+#elif defined (__AVR_ATtiny828__)
+# define _EEPROM_SUFFIX _tn828
 #elif defined (__AVR_ATtiny88__)
 # define _EEPROM_SUFFIX _tn88
 #elif defined (__AVR_ATtiny87__)
 # define _EEPROM_SUFFIX _tn87
 #elif defined (__AVR_ATtiny167__)
 # define _EEPROM_SUFFIX _tn167
+#elif defined (__AVR_ATtiny1634__)
+# define _EEPROM_SUFFIX _tn1634
 #elif defined (__AVR_AT90SCR100__)
 # define _EEPROM_SUFFIX _90scr100
 #elif defined (__AVR_ATxmega16A4__)
 # define _EEPROM_SUFFIX   _x16a4
+#elif defined (__AVR_ATxmega16A4U__)
+# define _EEPROM_SUFFIX   _x16a4u
+#elif defined (__AVR_ATxmega16C4__)
+# define _EEPROM_SUFFIX   _x16c4
 #elif defined (__AVR_ATxmega16D4__)
 # define _EEPROM_SUFFIX   _x16d4
 #elif defined (__AVR_ATxmega32A4__)
 # define _EEPROM_SUFFIX   _x32a4
+#elif defined (__AVR_ATxmega32A4U__)
+# define _EEPROM_SUFFIX   _x32a4u
+#elif defined (__AVR_ATxmega32C3__)
+# define _EEPROM_SUFFIX   _x32c3
+#elif defined (__AVR_ATxmega32C4__)
+# define _EEPROM_SUFFIX   _x32c4
+#elif defined (__AVR_ATxmega32D3__)
+# define _EEPROM_SUFFIX   _x32d3
 #elif defined (__AVR_ATxmega32D4__)
 # define _EEPROM_SUFFIX   _x32d4
+#elif defined (__AVR_ATxmega8E5__)
+#define _EEPROM_SUFFIX	  _x8e5
+#elif defined (__AVR_ATxmega16E5__)
+#define _EEPROM_SUFFIX	  _x16e5
+#elif defined (__AVR_ATxmega32E5__)
+# define _EEPROM_SUFFIX   _x32e5
 #elif defined (__AVR_ATxmega64A1__)
 # define _EEPROM_SUFFIX   _x64a1
 #elif defined (__AVR_ATxmega64A1U__)
 # define _EEPROM_SUFFIX   _x64a1u
 #elif defined (__AVR_ATxmega64A3__)
 # define _EEPROM_SUFFIX   _x64a3
+#elif defined (__AVR_ATxmega64A3U__)
+# define _EEPROM_SUFFIX   _x64a3u
+#elif defined (__AVR_ATxmega64A4U__)
+# define _EEPROM_SUFFIX   _x64a4u
+#elif defined (__AVR_ATxmega64B1__)
+# define _EEPROM_SUFFIX   _x64b1
+#elif defined (__AVR_ATxmega64B3__)
+# define _EEPROM_SUFFIX   _x64b3
+#elif defined (__AVR_ATxmega64C3__)
+# define _EEPROM_SUFFIX   _x64c3
 #elif defined (__AVR_ATxmega64D3__)
 # define _EEPROM_SUFFIX   _x64d3
+#elif defined (__AVR_ATxmega64D4__)
+# define _EEPROM_SUFFIX   _x64d4
 #elif defined (__AVR_ATxmega128A1__)
 # define _EEPROM_SUFFIX   _x128a1
 #elif defined (__AVR_ATxmega128A1U__)
 # define _EEPROM_SUFFIX   _x128a1u
+#elif defined (__AVR_ATxmega128A4U__)
+# define _EEPROM_SUFFIX   _x128a4u
 #elif defined (__AVR_ATxmega128A3__)
 # define _EEPROM_SUFFIX   _x128a3
+#elif defined (__AVR_ATxmega128A3U__)
+# define _EEPROM_SUFFIX   _x128a3u
+#elif defined (__AVR_ATxmega128B1__)
+# define _EEPROM_SUFFIX   _x128b1
+#elif defined (__AVR_ATxmega128B3__)
+# define _EEPROM_SUFFIX   _x128b3
+#elif defined (__AVR_ATxmega128C3__)
+# define _EEPROM_SUFFIX   _x128c3
 #elif defined (__AVR_ATxmega128D3__)
 # define _EEPROM_SUFFIX   _x128d3
+#elif defined (__AVR_ATxmega128D4__)
+# define _EEPROM_SUFFIX   _x128d4
 #elif defined (__AVR_ATxmega192A3__)
 # define _EEPROM_SUFFIX   _x192a3
+#elif defined (__AVR_ATxmega192A3U__)
+# define _EEPROM_SUFFIX   _x192a3u
+#elif defined (__AVR_ATxmega192C3__)
+# define _EEPROM_SUFFIX   _x192c3
 #elif defined (__AVR_ATxmega192D3__)
 # define _EEPROM_SUFFIX   _x192d3
 #elif defined (__AVR_ATxmega256A3__)
 # define _EEPROM_SUFFIX   _x256a3
+#elif defined (__AVR_ATxmega256A3U__)
+# define _EEPROM_SUFFIX   _x256a3u
 #elif defined (__AVR_ATxmega256A3B__)
 # define _EEPROM_SUFFIX   _x256a3b
+#elif defined (__AVR_ATxmega256A3BU__)
+# define _EEPROM_SUFFIX   _x256a3bu
+#elif defined (__AVR_ATxmega256C3__)
+# define _EEPROM_SUFFIX   _x256c3
 #elif defined (__AVR_ATxmega256D3__)
 # define _EEPROM_SUFFIX   _x256d3
+#elif defined (__AVR_ATxmega384C3__)
+# define _EEPROM_SUFFIX   _x384c3
+#elif defined (__AVR_ATxmega384D3__)
+# define _EEPROM_SUFFIX   _x384d3
+#elif defined (__AVR_ATA5505__)
+# define _EEPROM_SUFFIX _a5505
+#elif defined (__AVR_ATA5272__)
+# define _EEPROM_SUFFIX _a5272
+#elif defined (__AVR_ATA6285__)
+# define _EEPROM_SUFFIX _a6285
+#elif defined (__AVR_ATA6286__)
+# define _EEPROM_SUFFIX _a6286
 #elif defined (__AVR_ATA6289__)
 # define _EEPROM_SUFFIX _a6289
+#elif defined (__AVR_ATA5790__)
+# define _EEPROM_SUFFIX _a5790
+#elif defined (__AVR_ATA5790N__)
+# define _EEPROM_SUFFIX _a5790n
+#elif defined (__AVR_ATA5795__)
+# define _EEPROM_SUFFIX _a5795
+#elif defined (__AVR_ATA5831__)
+# define _EEPROM_SUFFIX _a5831
+#elif defined (__AVR_ATA6612C__)
+# define _EEPROM_SUFFIX _a6612c
+#elif defined (__AVR_ATA6613C__)
+# define _EEPROM_SUFFIX _a6613c
+#elif defined (__AVR_ATA6614Q__)
+# define _EEPROM_SUFFIX _a6614q
+#elif defined (__AVR_ATA6616C__)
+# define _EEPROM_SUFFIX _a6616c
+#elif defined (__AVR_ATA6617C__)
+# define _EEPROM_SUFFIX _a6617c
+#elif defined (__AVR_ATA664251__)
+# define _EEPROM_SUFFIX _a664251
 /* avr1: the following only supported for assembler programs */
 #elif defined (__AVR_ATtiny28__)
 # define _EEPROM_SUFFIX _tn28
diff --git a/include/avr/fuse.h b/include/avr/fuse.h
index f593ed8..e763e39 100644
--- a/include/avr/fuse.h
+++ b/include/avr/fuse.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: fuse.h 2107 2010-03-20 18:00:47Z arcanum $ */
+/* $Id$ */
 
 /* avr/fuse.h - Fuse API */
 
@@ -223,7 +223,7 @@
 #ifndef __ASSEMBLER__
 
 #ifndef FUSEMEM
-#define FUSEMEM  __attribute__((section (".fuse")))
+#define FUSEMEM  __attribute__((__used__, __section__ (".fuse")))
 #endif
 
 #if FUSE_MEMORY_SIZE > 3
diff --git a/include/avr/interrupt.h b/include/avr/interrupt.h
index 5487f66..ce9a4bd 100644
--- a/include/avr/interrupt.h
+++ b/include/avr/interrupt.h
@@ -30,7 +30,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: interrupt.h 2220 2011-02-22 21:08:58Z arcanum $ */
+/* $Id$ */
 
 #ifndef _AVR_INTERRUPT_H_
 #define _AVR_INTERRUPT_H_
diff --git a/include/avr/io.h b/include/avr/io.h
index c2dee8a..91b14e7 100644
--- a/include/avr/io.h
+++ b/include/avr/io.h
@@ -29,7 +29,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: io.h 2211 2011-02-14 14:04:25Z aboyapati $ */
+/* $Id$ */
 
 /** \file */
 /** \defgroup avr_io <avr/io.h>: AVR device-specific IO definitions
@@ -122,6 +122,8 @@
 #  include <avr/io90pwm216.h>
 #elif defined (__AVR_AT90PWM316__)
 #  include <avr/io90pwm316.h>
+#elif defined (__AVR_AT90PWM161__)
+#  include <avr/io90pwm161.h>
 #elif defined (__AVR_AT90PWM81__)
 #  include <avr/io90pwm81.h>
 #elif defined (__AVR_ATmega8U2__)
@@ -148,14 +150,26 @@
 #  include <avr/iom64m1.h>
 #elif defined (__AVR_ATmega128__)
 #  include <avr/iom128.h>
+#elif defined (__AVR_ATmega128A__)
+#  include <avr/iom128a.h>
 #elif defined (__AVR_ATmega1280__)
 #  include <avr/iom1280.h>
 #elif defined (__AVR_ATmega1281__)
 #  include <avr/iom1281.h>
+#elif defined (__AVR_ATmega1284__)
+#  include <avr/iom1284.h>
 #elif defined (__AVR_ATmega1284P__)
 #  include <avr/iom1284p.h>
 #elif defined (__AVR_ATmega128RFA1__)
 #  include <avr/iom128rfa1.h>
+#elif defined (__AVR_ATmega128RFR2__)
+#  include <avr/iom128rfr2.h>
+#elif defined (__AVR_ATmega1284RFR2__)
+#  include <avr/iom1284rfr2.h>
+#elif defined (__AVR_ATmega256RFR2__)
+#  include <avr/iom256rfr2.h>
+#elif defined (__AVR_ATmega2564RFR2__)
+#  include <avr/iom2564rfr2.h>
 #elif defined (__AVR_ATmega2560__)
 #  include <avr/iom2560.h>
 #elif defined (__AVR_ATmega2561__)
@@ -178,54 +192,100 @@
 #  include <avr/iousb1286.h>
 #elif defined (__AVR_AT90USB1287__)
 #  include <avr/iousb1287.h>
+#elif defined (__AVR_ATmega64RFR2__)
+#  include <avr/iom64rfr2.h>
+#elif defined (__AVR_ATmega644RFR2__)
+#  include <avr/iom644rfr2.h>
 #elif defined (__AVR_ATmega64__)
 #  include <avr/iom64.h>
+#elif defined (__AVR_ATmega64A__)
+#  include <avr/iom64a.h>
 #elif defined (__AVR_ATmega640__)
 #  include <avr/iom640.h>
-#elif defined (__AVR_ATmega644__) || defined (__AVR_ATmega644A__)
+#elif defined (__AVR_ATmega644__) 
 #  include <avr/iom644.h>
+#elif (defined __AVR_ATmega644A__)
+#include <avr/iom644a.h>
 #elif defined (__AVR_ATmega644P__)
 #  include <avr/iom644p.h>
 #elif defined (__AVR_ATmega644PA__)
 #  include <avr/iom644pa.h>
-#elif defined (__AVR_ATmega645__) || defined (__AVR_ATmega645A__) || defined (__AVR_ATmega645P__)
+#elif defined (__AVR_ATmega645__)
 #  include <avr/iom645.h>
-#elif defined (__AVR_ATmega6450__) || defined (__AVR_ATmega6450A__) || defined (__AVR_ATmega6450P__)
+#elif (defined __AVR_ATmega645A__)
+#include <avr/iom645a.h>
+#elif (defined __AVR_ATmega645P__)
+#include <avr/iom645p.h>
+#elif defined (__AVR_ATmega6450__)
 #  include <avr/iom6450.h>
-#elif defined (__AVR_ATmega649__) || defined (__AVR_ATmega649A__)
+#elif (defined __AVR_ATmega6450A__)
+#include <avr/iom6450a.h>
+#elif (defined __AVR_ATmega6450P__)
+#include <avr/iom6450p.h>
+#elif defined (__AVR_ATmega649__)
 #  include <avr/iom649.h>
-#elif defined (__AVR_ATmega6490__) || defined (__AVR_ATmega6490A__) || defined (__AVR_ATmega6490P__)
+#elif (defined __AVR_ATmega649A__)
+#include <avr/iom649a.h>
+#elif defined (__AVR_ATmega6490__)
 #  include <avr/iom6490.h>
+#elif (defined __AVR_ATmega6490A__)
+#include <avr/iom6490a.h>
+#elif (defined __AVR_ATmega6490P__)
+#include <avr/iom6490p.h>
 #elif defined (__AVR_ATmega649P__)
 #  include <avr/iom649p.h>
 #elif defined (__AVR_ATmega64HVE__)
 #  include <avr/iom64hve.h>
+#elif defined (__AVR_ATmega64HVE2__)
+#  include <avr/iom64hve2.h>
 #elif defined (__AVR_ATmega103__)
 #  include <avr/iom103.h>
 #elif defined (__AVR_ATmega32__)
 #  include <avr/iom32.h>
+#elif defined (__AVR_ATmega32A__)
+#  include <avr/iom32a.h>
 #elif defined (__AVR_ATmega323__)
 #  include <avr/iom323.h>
-#elif defined (__AVR_ATmega324P__) || defined (__AVR_ATmega324A__)
-#  include <avr/iom324.h>
+#elif defined (__AVR_ATmega324P__)
+#  include <avr/iom324p.h>
+#elif (defined __AVR_ATmega324A__)
+#include <avr/iom324a.h>
 #elif defined (__AVR_ATmega324PA__)
 #  include <avr/iom324pa.h>
-#elif defined (__AVR_ATmega325__) || defined (__AVR_ATmega325A__)
+#elif defined (__AVR_ATmega325__)
 #  include <avr/iom325.h>
+#elif (defined __AVR_ATmega325A__)
+#include <avr/iom325a.h>
 #elif defined (__AVR_ATmega325P__)
-#  include <avr/iom325.h>
-#elif defined (__AVR_ATmega3250__) || defined (__AVR_ATmega3250A__)
+#  include <avr/iom325p.h>
+#elif defined (__AVR_ATmega325PA__)
+#  include <avr/iom325pa.h>  
+#elif defined (__AVR_ATmega3250__) 
 #  include <avr/iom3250.h>
+#elif (defined __AVR_ATmega3250A__)
+#include <avr/iom3250a.h>
 #elif defined (__AVR_ATmega3250P__)
-#  include <avr/iom3250.h>
-#elif defined (__AVR_ATmega328P__) || defined (__AVR_ATmega328__)
+#  include <avr/iom3250p.h>
+#elif defined (__AVR_ATmega3250PA__)
+#  include <avr/iom3250pa.h>  
+#elif defined (__AVR_ATmega328P__)
 #  include <avr/iom328p.h>
-#elif defined (__AVR_ATmega329__) || defined (__AVR_ATmega329A__)
-#  include <avr/iom329.h>
-#elif defined (__AVR_ATmega329P__) || defined (__AVR_ATmega329PA__)
+#elif (defined __AVR_ATmega328__)
+#include <avr/iom328.h>
+#elif defined (__AVR_ATmega329__)
 #  include <avr/iom329.h>
-#elif defined (__AVR_ATmega3290__) || defined (__AVR_ATmega3290A__)
+#elif (defined __AVR_ATmega329A__)
+#include <avr/iom329a.h>
+#elif defined (__AVR_ATmega329P__) 
+#  include <avr/iom329p.h>
+#elif (defined __AVR_ATmega329PA__)
+#include <avr/iom329pa.h>
+#elif (defined __AVR_ATmega3290PA__)
+#include <avr/iom3290pa.h>
+#elif defined (__AVR_ATmega3290__)
 #  include <avr/iom3290.h>
+#elif (defined __AVR_ATmega3290A__)
+#include <avr/iom3290a.h>
 #elif defined (__AVR_ATmega3290P__)
 #  include <avr/iom3290.h>
 #elif defined (__AVR_ATmega32HVB__)
@@ -244,18 +304,32 @@
 #  include <avr/iom162.h>
 #elif defined (__AVR_ATmega163__)
 #  include <avr/iom163.h>
-#elif defined (__AVR_ATmega164P__) || defined (__AVR_ATmega164A__)
-#  include <avr/iom164.h>
-#elif defined (__AVR_ATmega165__) || defined (__AVR_ATmega165A__)
+#elif defined (__AVR_ATmega164P__)
+#  include <avr/iom164p.h>
+#elif (defined __AVR_ATmega164A__)
+#include <avr/iom164a.h>
+#elif defined (__AVR_ATmega164PA__)
+#  include <avr/iom164pa.h>
+#elif defined (__AVR_ATmega165__)
 #  include <avr/iom165.h>
+#elif (defined __AVR_ATmega165A__)
+#include <avr/iom165a.h>
 #elif defined (__AVR_ATmega165P__)
 #  include <avr/iom165p.h>
-#elif defined (__AVR_ATmega168__) || defined (__AVR_ATmega168A__)
+#elif defined (__AVR_ATmega165PA__)
+#  include <avr/iom165pa.h>
+#elif defined (__AVR_ATmega168__)
 #  include <avr/iom168.h>
+#elif (defined __AVR_ATmega168A__)
+#include <avr/iom168a.h>
 #elif defined (__AVR_ATmega168P__)
 #  include <avr/iom168p.h>
-#elif defined (__AVR_ATmega169__) || defined (__AVR_ATmega169A__)
+#elif defined (__AVR_ATmega168PA__)
+#  include <avr/iom168pa.h>
+#elif defined (__AVR_ATmega169__)
 #  include <avr/iom169.h>
+#elif (defined __AVR_ATmega169A__)
+#include <avr/iom169a.h>
 #elif defined (__AVR_ATmega169P__)
 #  include <avr/iom169p.h>
 #elif defined (__AVR_ATmega169PA__)
@@ -272,12 +346,20 @@
 #  include <avr/iom16hvbrevb.h>
 #elif defined (__AVR_ATmega8__)
 #  include <avr/iom8.h>
-#elif defined (__AVR_ATmega48__) || defined (__AVR_ATmega48A__)
+#elif defined (__AVR_ATmega8A__)
+#  include <avr/iom8a.h>
+#elif (defined __AVR_ATmega48A__)
+#  include <avr/iom48a.h>
+#elif defined (__AVR_ATmega48__)
 #  include <avr/iom48.h>
+#elif defined (__AVR_ATmega48PA__)
+#  include <avr/iom48pa.h>
 #elif defined (__AVR_ATmega48P__)
 #  include <avr/iom48p.h>
-#elif defined (__AVR_ATmega88__) || defined (__AVR_ATmega88A__)
+#elif defined (__AVR_ATmega88__)
 #  include <avr/iom88.h>
+#elif (defined __AVR_ATmega88A__)
+#  include <avr/iom88a.h>
 #elif defined (__AVR_ATmega88P__)
 #  include <avr/iom88p.h>
 #elif defined (__AVR_ATmega88PA__)
@@ -346,10 +428,14 @@
 #  include <avr/iotn44.h>
 #elif defined (__AVR_ATtiny44A__)
 #  include <avr/iotn44a.h>
+#elif defined (__AVR_ATtiny441__)
+#  include <avr/iotn441.h>
 #elif defined (__AVR_ATtiny84__)
 #  include <avr/iotn84.h>
 #elif defined (__AVR_ATtiny84A__)
 #  include <avr/iotn84a.h>  
+#elif defined (__AVR_ATtiny841__)
+#  include <avr/iotn841.h>
 #elif defined (__AVR_ATtiny261__)
 #  include <avr/iotn261.h>
 #elif defined (__AVR_ATtiny261A__)
@@ -368,48 +454,136 @@
 #  include <avr/iotn48.h>
 #elif defined (__AVR_ATtiny88__)
 #  include <avr/iotn88.h>
+#elif defined (__AVR_ATtiny828__)
+#  include <avr/iotn828.h>
 #elif defined (__AVR_ATtiny87__)
 #  include <avr/iotn87.h>
 #elif defined (__AVR_ATtiny167__)
 #  include <avr/iotn167.h>
+#elif defined (__AVR_ATtiny1634__)
+#  include <avr/iotn1634.h>
 #elif defined (__AVR_AT90SCR100__)
 #  include <avr/io90scr100.h>
 #elif defined (__AVR_ATxmega16A4__)
 #  include <avr/iox16a4.h>
+#elif defined (__AVR_ATxmega16A4U__)
+#  include <avr/iox16a4u.h>
+#elif defined (__AVR_ATxmega16C4__)
+#  include <avr/iox16c4.h>
 #elif defined (__AVR_ATxmega16D4__)
 #  include <avr/iox16d4.h>
 #elif defined (__AVR_ATxmega32A4__)
 #  include <avr/iox32a4.h>
+#elif defined (__AVR_ATxmega32A4U__)
+#  include <avr/iox32a4u.h>
+#elif defined (__AVR_ATxmega32C3__)
+#  include <avr/iox32c3.h>
+#elif defined (__AVR_ATxmega32C4__)
+#  include <avr/iox32c4.h>
+#elif defined (__AVR_ATxmega32D3__)
+#  include <avr/iox32d3.h>
 #elif defined (__AVR_ATxmega32D4__)
 #  include <avr/iox32d4.h>
+#elif defined (__AVR_ATxmega8E5__)
+#  include <avr/iox8e5.h>
+#elif defined (__AVR_ATxmega16E5__)
+#  include <avr/iox16e5.h>
+#elif defined (__AVR_ATxmega32E5__)
+#  include <avr/iox32e5.h>
 #elif defined (__AVR_ATxmega64A1__)
 #  include <avr/iox64a1.h>
 #elif defined (__AVR_ATxmega64A1U__)
 #  include <avr/iox64a1u.h>
 #elif defined (__AVR_ATxmega64A3__)
 #  include <avr/iox64a3.h>
+#elif defined (__AVR_ATxmega64A3U__)
+#  include <avr/iox64a3u.h>
+#elif defined (__AVR_ATxmega64A4U__)
+#  include <avr/iox64a4u.h>
+#elif defined (__AVR_ATxmega64B1__)
+#  include <avr/iox64b1.h>
+#elif defined (__AVR_ATxmega64B3__)
+#  include <avr/iox64b3.h>
+#elif defined (__AVR_ATxmega64C3__)
+#  include <avr/iox64c3.h>
 #elif defined (__AVR_ATxmega64D3__)
 #  include <avr/iox64d3.h>
+#elif defined (__AVR_ATxmega64D4__)
+#  include <avr/iox64d4.h>
 #elif defined (__AVR_ATxmega128A1__)
 #  include <avr/iox128a1.h>
 #elif defined (__AVR_ATxmega128A1U__)
 #  include <avr/iox128a1u.h>
+#elif defined (__AVR_ATxmega128A4U__)
+#  include <avr/iox128a4u.h>
 #elif defined (__AVR_ATxmega128A3__)
 #  include <avr/iox128a3.h>
+#elif defined (__AVR_ATxmega128A3U__)
+#  include <avr/iox128a3u.h>
+#elif defined (__AVR_ATxmega128B1__)
+#  include <avr/iox128b1.h>
+#elif defined (__AVR_ATxmega128B3__)
+#  include <avr/iox128b3.h>
+#elif defined (__AVR_ATxmega128C3__)
+#  include <avr/iox128c3.h>
 #elif defined (__AVR_ATxmega128D3__)
 #  include <avr/iox128d3.h>
+#elif defined (__AVR_ATxmega128D4__)
+#  include <avr/iox128d4.h>
 #elif defined (__AVR_ATxmega192A3__)
 #  include <avr/iox192a3.h>
+#elif defined (__AVR_ATxmega192A3U__)
+#  include <avr/iox192a3u.h>
+#elif defined (__AVR_ATxmega192C3__)
+#  include <avr/iox192c3.h>
 #elif defined (__AVR_ATxmega192D3__)
 #  include <avr/iox192d3.h>
 #elif defined (__AVR_ATxmega256A3__)
 #  include <avr/iox256a3.h>
+#elif defined (__AVR_ATxmega256A3U__)
+#  include <avr/iox256a3u.h>
 #elif defined (__AVR_ATxmega256A3B__)
 #  include <avr/iox256a3b.h>
+#elif defined (__AVR_ATxmega256A3BU__)
+#  include <avr/iox256a3bu.h>
+#elif defined (__AVR_ATxmega256C3__)
+#  include <avr/iox256c3.h>
 #elif defined (__AVR_ATxmega256D3__)
 #  include <avr/iox256d3.h>
+#elif defined (__AVR_ATxmega384C3__)
+#  include <avr/iox384c3.h>
+#elif defined (__AVR_ATxmega384D3__)
+#  include <avr/iox384d3.h>
+#elif defined (__AVR_ATA5790__)
+#  include <avr/ioa5790.h>
+#elif defined (__AVR_ATA5790N__)
+#  include <avr/ioa5790n.h>
+#elif defined (__AVR_ATA5272__)
+#  include <avr/ioa5272.h>
+#elif defined (__AVR_ATA5505__)
+#  include <avr/ioa5505.h>
+#elif defined (__AVR_ATA5795__)
+#  include <avr/ioa5795.h>
+#elif defined (__AVR_ATA5831__)
+#  include <avr/ioa5831.h>
+#elif defined (__AVR_ATA6285__)
+#  include <avr/ioa6285.h>
+#elif defined (__AVR_ATA6286__)
+#  include <avr/ioa6286.h>
 #elif defined (__AVR_ATA6289__)
 #  include <avr/ioa6289.h>
+#elif defined (__AVR_ATA6612C__)
+#  include <avr/ioa6612c.h>
+#elif defined (__AVR_ATA6613C__)
+#  include <avr/ioa6613c.h>
+#elif defined (__AVR_ATA6614Q__)
+#  include <avr/ioa6614q.h>
+#elif defined (__AVR_ATA6616C__)
+#  include <avr/ioa6616c.h>
+#elif defined (__AVR_ATA6617C__)
+#  include <avr/ioa6617c.h>
+#elif defined (__AVR_ATA664251__)
+#  include <avr/ioa664251.h>
 /* avr1: the following only supported for assembler programs */
 #elif defined (__AVR_ATtiny28__)
 #  include <avr/iotn28.h>
@@ -435,6 +609,10 @@
 
 #include <avr/version.h>
 
+#if __AVR_ARCH__ >= 100
+#  include <avr/xmega.h>
+#endif
+
 /* Include fuse.h after individual IO header files. */
 #include <avr/fuse.h>
 
diff --git a/include/avr/io1200.h b/include/avr/io1200.h
index b215eb6..f13ad50 100644
--- a/include/avr/io1200.h
+++ b/include/avr/io1200.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: io1200.h 2225 2011-03-02 16:27:26Z arcanum $ */
+/* $Id$ */
 
 /* avr/io1200.h - definitions for AT90S1200 */
 
diff --git a/include/avr/io2313.h b/include/avr/io2313.h
index c105dd8..eeecd20 100644
--- a/include/avr/io2313.h
+++ b/include/avr/io2313.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: io2313.h 2225 2011-03-02 16:27:26Z arcanum $ */
+/* $Id$ */
 
 /* avr/io2313.h - definitions for AT90S2313 */
 
diff --git a/include/avr/io2323.h b/include/avr/io2323.h
index e7886ca..26223fe 100644
--- a/include/avr/io2323.h
+++ b/include/avr/io2323.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: io2323.h 2225 2011-03-02 16:27:26Z arcanum $ */
+/* $Id$ */
 
 /* avr/io2323.h - definitions for AT90S2323 */
 
diff --git a/include/avr/io2333.h b/include/avr/io2333.h
index 157018c..228bca6 100644
--- a/include/avr/io2333.h
+++ b/include/avr/io2333.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: io2333.h 2225 2011-03-02 16:27:26Z arcanum $ */
+/* $Id$ */
 
 /* avr/io2333.h - definitions for AT90S2333 */
 
diff --git a/include/avr/io2343.h b/include/avr/io2343.h
index 40b76bf..ba2aba9 100644
--- a/include/avr/io2343.h
+++ b/include/avr/io2343.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: io2343.h 2225 2011-03-02 16:27:26Z arcanum $ */
+/* $Id$ */
 
 /* avr/io2343.h - definitions for AT90S2343 */
 
diff --git a/include/avr/io43u32x.h b/include/avr/io43u32x.h
index b7df824..750920f 100644
--- a/include/avr/io43u32x.h
+++ b/include/avr/io43u32x.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: io43u32x.h 1873 2009-02-11 17:53:39Z arcanum $ */
+/* $Id$ */
 
 /* avr/io43u32x.h - definitions for AT43USB32x */
 
diff --git a/include/avr/io43u35x.h b/include/avr/io43u35x.h
index e077f1f..364e277 100644
--- a/include/avr/io43u35x.h
+++ b/include/avr/io43u35x.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: io43u35x.h 1873 2009-02-11 17:53:39Z arcanum $ */
+/* $Id$ */
 
 /* avr/io43u35x.h - definitions for AT43USB35x */
 
diff --git a/include/avr/io4414.h b/include/avr/io4414.h
index 51c1e35..3f15837 100644
--- a/include/avr/io4414.h
+++ b/include/avr/io4414.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: io4414.h 2225 2011-03-02 16:27:26Z arcanum $ */
+/* $Id$ */
 
 /* avr/io4414.h - definitions for AT90S4414 */
 
diff --git a/include/avr/io4433.h b/include/avr/io4433.h
index 1a4cfd8..e8cc832 100644
--- a/include/avr/io4433.h
+++ b/include/avr/io4433.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: io4433.h 2225 2011-03-02 16:27:26Z arcanum $ */
+/* $Id$ */
 
 /* avr/io4433.h - definitions for AT90S4433 */
 
diff --git a/include/avr/io4434.h b/include/avr/io4434.h
index f113696..05150c6 100644
--- a/include/avr/io4434.h
+++ b/include/avr/io4434.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: io4434.h 2225 2011-03-02 16:27:26Z arcanum $ */
+/* $Id$ */
 
 /* avr/io4434.h - definitions for AT90S4434 */
 
diff --git a/include/avr/io76c711.h b/include/avr/io76c711.h
index 7ce3844..dec1d52 100644
--- a/include/avr/io76c711.h
+++ b/include/avr/io76c711.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: io76c711.h 1873 2009-02-11 17:53:39Z arcanum $ */
+/* $Id$ */
 
 /* avr/io76c711.h - definitions for AT76C711 */
 
diff --git a/include/avr/io8515.h b/include/avr/io8515.h
index 2a931b8..4ecb38f 100644
--- a/include/avr/io8515.h
+++ b/include/avr/io8515.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: io8515.h 2225 2011-03-02 16:27:26Z arcanum $ */
+/* $Id$ */
 
 /* avr/io8515.h - definitions for AT90S8515 */
 
diff --git a/include/avr/io8534.h b/include/avr/io8534.h
index 08e79da..d1a88c3 100644
--- a/include/avr/io8534.h
+++ b/include/avr/io8534.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: io8534.h 1873 2009-02-11 17:53:39Z arcanum $ */
+/* $Id$ */
 
 /* avr/io8534.h - definitions for AT90C8534 */
 
diff --git a/include/avr/io8535.h b/include/avr/io8535.h
index 884d02e..b4fa403 100644
--- a/include/avr/io8535.h
+++ b/include/avr/io8535.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: io8535.h 2225 2011-03-02 16:27:26Z arcanum $ */
+/* $Id$ */
 
 /* avr/io8535.h - definitions for AT90S8535 */
 
diff --git a/include/avr/io90pwm1.h b/include/avr/io90pwm1.h
index f1d2d08..f6195a3 100644
--- a/include/avr/io90pwm1.h
+++ b/include/avr/io90pwm1.h
@@ -29,7 +29,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: io90pwm1.h 2225 2011-03-02 16:27:26Z arcanum $ */
+/* $Id$ */
 
 /* avr/iopwm1.h - definitions for AT90PWM1 device */
 
diff --git a/include/avr/io90pwm216.h b/include/avr/io90pwm216.h
index 543ccec..299f2a5 100644
--- a/include/avr/io90pwm216.h
+++ b/include/avr/io90pwm216.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: io90pwm216.h 2225 2011-03-02 16:27:26Z arcanum $ */
+/* $Id$ */
 
 /* avr/io90pwm216.h - definitions for AT90PWM216 */
 
diff --git a/include/avr/io90pwm2b.h b/include/avr/io90pwm2b.h
index fc51f2b..4ae0d01 100644
--- a/include/avr/io90pwm2b.h
+++ b/include/avr/io90pwm2b.h
@@ -29,7 +29,7 @@
   POSSIBILITY OF SUCH DAMAGE. 
 */
 
-/* $Id: io90pwm2b.h 2225 2011-03-02 16:27:26Z arcanum $ */
+/* $Id$ */
 
 /* avr/io90pwm2b.h - definitions for AT90PWM2B */
 
diff --git a/include/avr/io90pwm316.h b/include/avr/io90pwm316.h
index ae0dda0..562b5db 100644
--- a/include/avr/io90pwm316.h
+++ b/include/avr/io90pwm316.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: io90pwm316.h 2225 2011-03-02 16:27:26Z arcanum $ */
+/* $Id$ */
 
 /* avr/io90pwm316.h - definitions for AT90PWM316 */
 
diff --git a/include/avr/io90pwm3b.h b/include/avr/io90pwm3b.h
index 76cdaef..4555a00 100644
--- a/include/avr/io90pwm3b.h
+++ b/include/avr/io90pwm3b.h
@@ -29,7 +29,7 @@
   POSSIBILITY OF SUCH DAMAGE. 
 */
 
-/* $Id: io90pwm3b.h 2225 2011-03-02 16:27:26Z arcanum $ */
+/* $Id$ */
 
 /* avr/io90pwm3b.h - definitions for AT90PWM3B */
 
diff --git a/include/avr/io90pwm81.h b/include/avr/io90pwm81.h
index c4b8941..f506658 100644
--- a/include/avr/io90pwm81.h
+++ b/include/avr/io90pwm81.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: io90pwm81.h 2206 2011-02-11 06:58:02Z aboyapati $ */
+/* $Id$ */
 
 /* avr/io90pwm81.h - definitions for AT90PWM81 */
 
diff --git a/include/avr/io90pwmx.h b/include/avr/io90pwmx.h
index c0ce8e5..06adb68 100644
--- a/include/avr/io90pwmx.h
+++ b/include/avr/io90pwmx.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: io90pwmx.h 2225 2011-03-02 16:27:26Z arcanum $ */
+/* $Id$ */
 
 /* avr/io90pwmx.h - definitions for AT90PWM2(B) and AT90PWM3(B) */
 
diff --git a/include/avr/io90scr100.h b/include/avr/io90scr100.h
index bb6a973..c863b39 100644
--- a/include/avr/io90scr100.h
+++ b/include/avr/io90scr100.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: io90scr100.h 1910 2009-03-04 17:45:30Z arcanum $ */
+/* $Id$ */
 
 /* avr/io90scr100.h - definitions for AT90SCR100 */
 
diff --git a/include/avr/ioa6289.h b/include/avr/ioa6289.h
index a38c649..9ac279c 100644
--- a/include/avr/ioa6289.h
+++ b/include/avr/ioa6289.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: ioa6289.h 2102 2010-03-16 22:52:39Z joerg_wunsch $ */
+/* $Id$ */
 
 /* avr/ioa6289.h - definitions for ATA6289 */
 
diff --git a/include/avr/ioat94k.h b/include/avr/ioat94k.h
index 1ae20cf..40d19dd 100644
--- a/include/avr/ioat94k.h
+++ b/include/avr/ioat94k.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: ioat94k.h 602 2004-11-01 22:23:56Z arcanum $ */
+/* $Id$ */
 
 /* avr/ioat94k.h - definitions for AT94K series FPSLIC(tm) */
 
diff --git a/include/avr/iocan128.h b/include/avr/iocan128.h
index c2c1268..3d9f5a2 100644
--- a/include/avr/iocan128.h
+++ b/include/avr/iocan128.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iocan128.h 1767 2008-10-17 23:27:53Z arcanum $ */
+/* $Id$ */
 
 /* iocan128.h - definitions for CAN128 */
 
diff --git a/include/avr/iocan32.h b/include/avr/iocan32.h
index 9cfa375..69f9d63 100644
--- a/include/avr/iocan32.h
+++ b/include/avr/iocan32.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iocan32.h 2102 2010-03-16 22:52:39Z joerg_wunsch $ */
+/* $Id$ */
 
 /* iocan32.h - definitions for CAN32 */
 
diff --git a/include/avr/iocan64.h b/include/avr/iocan64.h
index ccc45ee..efd2279 100644
--- a/include/avr/iocan64.h
+++ b/include/avr/iocan64.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iocan64.h 2102 2010-03-16 22:52:39Z joerg_wunsch $ */
+/* $Id$ */
 
 /* iocan64.h - definitions for CAN64 */
 
diff --git a/include/avr/iocanxx.h b/include/avr/iocanxx.h
index fe5c15a..2f27101 100644
--- a/include/avr/iocanxx.h
+++ b/include/avr/iocanxx.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iocanxx.h 2225 2011-03-02 16:27:26Z arcanum $ */
+/* $Id$ */
 
 /* This file is based largely on:
    - iom128.h by Peter Jansen (bit defines)
diff --git a/include/avr/iom103.h b/include/avr/iom103.h
index b79a9b0..067f785 100644
--- a/include/avr/iom103.h
+++ b/include/avr/iom103.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iom103.h 2227 2011-03-04 19:35:10Z arcanum $ */
+/* $Id$ */
 
 /* avr/iom103.h - definitions for ATmega103 */
 
diff --git a/include/avr/iom128.h b/include/avr/iom128.h
index 7eac0e0..a77d7dc 100644
--- a/include/avr/iom128.h
+++ b/include/avr/iom128.h
@@ -29,7 +29,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iom128.h 2226 2011-03-04 17:47:16Z arcanum $ */
+/* $Id$ */
 
 /* avr/iom128.h - defines for ATmega128 
 
diff --git a/include/avr/iom1280.h b/include/avr/iom1280.h
index b271040..9daff97 100644
--- a/include/avr/iom1280.h
+++ b/include/avr/iom1280.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iom1280.h 2102 2010-03-16 22:52:39Z joerg_wunsch $ */
+/* $Id$ */
 
 /* avr/iom1280.h - definitions for ATmega1280 */
 
diff --git a/include/avr/iom1281.h b/include/avr/iom1281.h
index 3e031de..cf26c75 100644
--- a/include/avr/iom1281.h
+++ b/include/avr/iom1281.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iom1281.h 2115 2010-04-05 23:19:53Z arcanum $ */
+/* $Id$ */
 
 /* avr/iom1281.h - definitions for ATmega1281 */
 
diff --git a/include/avr/iom1284p.h b/include/avr/iom1284p.h
index 5c32d43..1fd0587 100644
--- a/include/avr/iom1284p.h
+++ b/include/avr/iom1284p.h
@@ -29,7 +29,7 @@
   POSSIBILITY OF SUCH DAMAGE. 
 */
 
-/* $Id: iom1284p.h 2225 2011-03-02 16:27:26Z arcanum $ */
+/* $Id$ */
 
 /* avr/iom1284p.h - definitions for ATmega1284P. */
 
diff --git a/include/avr/iom128rfa1.h b/include/avr/iom128rfa1.h
index 1630807..6ce8576 100644
--- a/include/avr/iom128rfa1.h
+++ b/include/avr/iom128rfa1.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iom128rfa1.h 2009 2009-07-01 14:57:41Z joerg_wunsch $ */
+/* $Id$ */
 
 /* avr/iom128rfa1.h - definitions for ATmega128RFA1 */
 
@@ -5224,29 +5224,7 @@ struct __reg_TST_RX_LENGTH {
 #define TIMER5_OVF_vect                 _VECTOR(50)
 #define TIMER5_OVF_vect_num             50
 
-/* USART2, Rx Complete */
-#define USART2_RX_vect                  _VECTOR(51)
-#define USART2_RX_vect_num              51
-
-/* USART2 Data register Empty */
-#define USART2_UDRE_vect                _VECTOR(52)
-#define USART2_UDRE_vect_num            52
-
-/* USART2, Tx Complete */
-#define USART2_TX_vect                  _VECTOR(53)
-#define USART2_TX_vect_num              53
-
-/* USART3, Rx Complete */
-#define USART3_RX_vect                  _VECTOR(54)
-#define USART3_RX_vect_num              54
-
-/* USART3 Data register Empty */
-#define USART3_UDRE_vect                _VECTOR(55)
-#define USART3_UDRE_vect_num            55
-
-/* USART3, Tx Complete */
-#define USART3_TX_vect                  _VECTOR(56)
-#define USART3_TX_vect_num              56
+/* Vectors 51 through 56 are reserved (unimplemented UARTs) */
 
 /* TRX24 - PLL lock interrupt */
 #define TRX24_PLL_LOCK_vect             _VECTOR(57)
diff --git a/include/avr/iom16.h b/include/avr/iom16.h
index af7e9f8..dc71b77 100644
--- a/include/avr/iom16.h
+++ b/include/avr/iom16.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iom16.h 2228 2011-03-05 15:33:19Z arcanum $ */
+/* $Id$ */
 
 /* avr/iom16.h - definitions for ATmega16 */
 
diff --git a/include/avr/iom161.h b/include/avr/iom161.h
index 7f0cdaf..5a1f51b 100644
--- a/include/avr/iom161.h
+++ b/include/avr/iom161.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iom161.h 2229 2011-03-05 17:00:18Z arcanum $ */
+/* $Id$ */
 
 /* avr/iom161.h - definitions for ATmega161 */
 
diff --git a/include/avr/iom162.h b/include/avr/iom162.h
index 8cd454a..ddbeb8b 100644
--- a/include/avr/iom162.h
+++ b/include/avr/iom162.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iom162.h 2230 2011-03-06 02:42:04Z arcanum $ */
+/* $Id$ */
 
 /* iom162.h - definitions for ATmega162 */
 
diff --git a/include/avr/iom163.h b/include/avr/iom163.h
index 22a3f9d..0a1fbb4 100644
--- a/include/avr/iom163.h
+++ b/include/avr/iom163.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iom163.h 2231 2011-03-07 05:06:55Z arcanum $ */
+/* $Id$ */
 
 /* avr/iom163.h - definitions for ATmega163 */
 
diff --git a/include/avr/iom164.h b/include/avr/iom164.h
index 9c64599..dbd282c 100644
--- a/include/avr/iom164.h
+++ b/include/avr/iom164.h
@@ -30,7 +30,7 @@
 
 /* avr/iom164.h - definitions for ATmega164 */
 
-/* $Id: iom164.h 2115 2010-04-05 23:19:53Z arcanum $ */
+/* $Id$ */
 
 #ifndef _AVR_IOM164_H_
 #define _AVR_IOM164_H_ 1
diff --git a/include/avr/iom165.h b/include/avr/iom165.h
index 855e39a..5698c05 100644
--- a/include/avr/iom165.h
+++ b/include/avr/iom165.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iom165.h 2231 2011-03-07 05:06:55Z arcanum $ */
+/* $Id$ */
 
 /* avr/iom165.h - definitions for ATmega165 */
 
diff --git a/include/avr/iom165p.h b/include/avr/iom165p.h
index b9ea6e5..3fd20d9 100644
--- a/include/avr/iom165p.h
+++ b/include/avr/iom165p.h
@@ -29,7 +29,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iom165p.h 2231 2011-03-07 05:06:55Z arcanum $ */
+/* $Id$ */
 
 /* avr/iom165p.h - definitions for ATmega165P */
 
diff --git a/include/avr/iom168.h b/include/avr/iom168.h
index 7bf016a..85ac2ff 100644
--- a/include/avr/iom168.h
+++ b/include/avr/iom168.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iom168.h 2115 2010-04-05 23:19:53Z arcanum $ */
+/* $Id$ */
 
 #ifndef _AVR_IOM168_H_
 #define _AVR_IOM168_H_ 1
diff --git a/include/avr/iom168p.h b/include/avr/iom168p.h
index 528a12d..127b992 100644
--- a/include/avr/iom168p.h
+++ b/include/avr/iom168p.h
@@ -29,7 +29,7 @@
   POSSIBILITY OF SUCH DAMAGE. 
 */
 
-/* $Id: iom168p.h 2225 2011-03-02 16:27:26Z arcanum $ */
+/* $Id$ */
 
 /* avr/iom168p.h - definitions for ATmega168P. */
 
diff --git a/include/avr/iom169.h b/include/avr/iom169.h
index 210faaf..8b2bcf9 100644
--- a/include/avr/iom169.h
+++ b/include/avr/iom169.h
@@ -30,7 +30,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iom169.h 2231 2011-03-07 05:06:55Z arcanum $ */
+/* $Id$ */
 
 /* iom169.h - definitions for ATmega169 */
 
diff --git a/include/avr/iom169p.h b/include/avr/iom169p.h
index 52148db..cd1f122 100644
--- a/include/avr/iom169p.h
+++ b/include/avr/iom169p.h
@@ -31,7 +31,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iom169p.h 2231 2011-03-07 05:06:55Z arcanum $ */
+/* $Id$ */
 
 /* iom169p.h - definitions for ATmega169P */
 
diff --git a/include/avr/iom169pa.h b/include/avr/iom169pa.h
index e419272..8804959 100644
--- a/include/avr/iom169pa.h
+++ b/include/avr/iom169pa.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iom169pa.h 2192 2010-11-08 13:53:24Z arcanum $ */
+/* $Id$ */
 
 /* avr/iom169pa.h - definitions for ATmega169PA */
 
diff --git a/include/avr/iom16a.h b/include/avr/iom16a.h
index 2093610..4a668f8 100644
--- a/include/avr/iom16a.h
+++ b/include/avr/iom16a.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iom16a.h 2248 2011-05-23 19:54:32Z joerg_wunsch $ */
+/* $Id$ */
 
 /* avr/iom16a.h - definitions for ATmega16A */
 
diff --git a/include/avr/iom16hva.h b/include/avr/iom16hva.h
index c278cc8..674e65b 100644
--- a/include/avr/iom16hva.h
+++ b/include/avr/iom16hva.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iom16hva.h 2102 2010-03-16 22:52:39Z joerg_wunsch $ */
+/* $Id$ */
 
 /* iom16hva.h - definitions for ATmega16HVA.  */
 
diff --git a/include/avr/iom16hva2.h b/include/avr/iom16hva2.h
index d7c1274..f4c4654 100644
--- a/include/avr/iom16hva2.h
+++ b/include/avr/iom16hva2.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iom16hva2.h 2192 2010-11-08 13:53:24Z arcanum $ */
+/* $Id$ */
 
 /* avr/iom16hva2.h - definitions for ATmega16HVA2 */
 
diff --git a/include/avr/iom16hvb.h b/include/avr/iom16hvb.h
index fecd6e3..3f9774c 100644
--- a/include/avr/iom16hvb.h
+++ b/include/avr/iom16hvb.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iom16hvb.h 2211 2011-02-14 14:04:25Z aboyapati $ */
+/* $Id$ */
 
 /* avr/iom16hvb.h - definitions for ATmega16HVB */
 
@@ -970,10 +970,10 @@
 #define VREF_PIN   PINVREF
 #define VREF_BIT   VREF
 
-#define VREF_DDR   DDRVREFGND
-#define VREF_PORT  PORTVREFGND
-#define VREF_PIN   PINVREFGND
-#define VREF_BIT   VREFGND
+#define VREFGND_DDR   DDRVREFGND
+#define VREFGND_PORT  PORTVREFGND
+#define VREFGND_PIN   PINVREFGND
+#define VREFGND_BIT   VREFGND
 
 #define PI_DDR   DDRI
 #define PI_PORT  PORTI
diff --git a/include/avr/iom16m1.h b/include/avr/iom16m1.h
index 9c052b3..7c3000b 100644
--- a/include/avr/iom16m1.h
+++ b/include/avr/iom16m1.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iom16m1.h 2183 2010-09-21 05:37:46Z aboyapati $ */
+/* $Id$ */
 
 /* avr/iom16m1.h - definitions for ATmega16M1 */
 
diff --git a/include/avr/iom16u2.h b/include/avr/iom16u2.h
index 09a2cbc..dce414d 100644
--- a/include/avr/iom16u2.h
+++ b/include/avr/iom16u2.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iom16u2.h 2240 2011-05-09 22:18:18Z arcanum $ */
+/* $Id$ */
 
 /* avr/iom16u2.h - definitions for ATmega16U2 */
 
diff --git a/include/avr/iom16u4.h b/include/avr/iom16u4.h
index 7fafdee..bf2d278 100644
--- a/include/avr/iom16u4.h
+++ b/include/avr/iom16u4.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iom16u4.h 2185 2010-09-22 07:06:35Z aboyapati $ */
+/* $Id$ */
 
 /* avr/iom16u4.h - definitions for ATmega16U4 */
 
diff --git a/include/avr/iom32.h b/include/avr/iom32.h
index d5aae07..4c372a3 100644
--- a/include/avr/iom32.h
+++ b/include/avr/iom32.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iom32.h 2233 2011-03-15 15:49:50Z arcanum $ */
+/* $Id$ */
 
 /* avr/iom32.h - definitions for ATmega32 */
 
diff --git a/include/avr/iom323.h b/include/avr/iom323.h
index 6e6eebf..94dd9d9 100644
--- a/include/avr/iom323.h
+++ b/include/avr/iom323.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iom323.h 2234 2011-03-16 04:32:21Z arcanum $ */
+/* $Id$ */
 
 /* avr/iom323.h - definitions for ATmega323 */
 
diff --git a/include/avr/iom324.h b/include/avr/iom324.h
index 47d76cf..5de170d 100644
--- a/include/avr/iom324.h
+++ b/include/avr/iom324.h
@@ -30,7 +30,7 @@
 
 /* avr/iom324.h - definitions for ATmega324 */
 
-/* $Id: iom324.h 2115 2010-04-05 23:19:53Z arcanum $ */
+/* $Id$ */
 
 #ifndef _AVR_IOM324_H_
 #define _AVR_IOM324_H_ 1
diff --git a/include/avr/iom324pa.h b/include/avr/iom324pa.h
index fb617db..8231a9b 100644
--- a/include/avr/iom324pa.h
+++ b/include/avr/iom324pa.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iom324pa.h 2063 2009-11-18 22:06:28Z arcanum $ */
+/* $Id$ */
 
 /* avr/iom324pa.h - definitions for ATmega324PA */
 
diff --git a/include/avr/iom325.h b/include/avr/iom325.h
index cbecaf2..bd6eab5 100644
--- a/include/avr/iom325.h
+++ b/include/avr/iom325.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iom325.h 2234 2011-03-16 04:32:21Z arcanum $ */
+/* $Id$ */
 
 /* avr/iom325.h - definitions for ATmega325 and ATmega325P.  */
 
diff --git a/include/avr/iom3250.h b/include/avr/iom3250.h
index f640f8e..4956d12 100644
--- a/include/avr/iom3250.h
+++ b/include/avr/iom3250.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iom3250.h 2234 2011-03-16 04:32:21Z arcanum $ */
+/* $Id$ */
 
 /* avr/iom3250.h - definitions for ATmega3250 and ATmega3250P.  */
 
diff --git a/include/avr/iom328p.h b/include/avr/iom328p.h
index 2c9c9fe..fc15aa6 100644
--- a/include/avr/iom328p.h
+++ b/include/avr/iom328p.h
@@ -29,7 +29,7 @@
   POSSIBILITY OF SUCH DAMAGE. 
 */
 
-/* $Id: iom328p.h 2225 2011-03-02 16:27:26Z arcanum $ */
+/* $Id$ */
 
 /* avr/iom328p.h - definitions for ATmega328P. */
 
diff --git a/include/avr/iom32c1.h b/include/avr/iom32c1.h
index e5df378..e6e7c10 100644
--- a/include/avr/iom32c1.h
+++ b/include/avr/iom32c1.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iom32c1.h 2183 2010-09-21 05:37:46Z aboyapati $ */
+/* $Id$ */
 
 /* avr/iom32c1.h - definitions for ATmega32C1 */
 
diff --git a/include/avr/iom32hvb.h b/include/avr/iom32hvb.h
index c63c4f0..01816a0 100644
--- a/include/avr/iom32hvb.h
+++ b/include/avr/iom32hvb.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iom32hvb.h 2211 2011-02-14 14:04:25Z aboyapati $ */
+/* $Id$ */
 
 /* avr/iom32hvb.h - definitions for ATmega32HVB */
 
@@ -970,10 +970,10 @@
 #define VREF_PIN   PINVREF
 #define VREF_BIT   VREF
 
-#define VREF_DDR   DDRVREFGND
-#define VREF_PORT  PORTVREFGND
-#define VREF_PIN   PINVREFGND
-#define VREF_BIT   VREFGND
+#define VREFGND_DDR   DDRVREFGND
+#define VREFGND_PORT  PORTVREFGND
+#define VREFGND_PIN   PINVREFGND
+#define VREFGND_BIT   VREFGND
 
 #define PI_DDR   DDRI
 #define PI_PORT  PORTI
diff --git a/include/avr/iom32m1.h b/include/avr/iom32m1.h
index 49469fc..b620b3e 100644
--- a/include/avr/iom32m1.h
+++ b/include/avr/iom32m1.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iom32m1.h 2235 2011-03-17 04:13:14Z arcanum $ */
+/* $Id$ */
 
 /* avr/iom32m1.h - definitions for ATmega32M1 */
 
diff --git a/include/avr/iom32u2.h b/include/avr/iom32u2.h
index 249c3f0..24ab0a5 100644
--- a/include/avr/iom32u2.h
+++ b/include/avr/iom32u2.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iom32u2.h 2240 2011-05-09 22:18:18Z arcanum $ */
+/* $Id$ */
 
 /* avr/iom32u2.h - definitions for ATmega32U2 */
 
diff --git a/include/avr/iom32u4.h b/include/avr/iom32u4.h
index b73ccd7..9a70d20 100644
--- a/include/avr/iom32u4.h
+++ b/include/avr/iom32u4.h
@@ -29,7 +29,7 @@
   POSSIBILITY OF SUCH DAMAGE. 
 */
 
-/* $Id: iom32u4.h 2225 2011-03-02 16:27:26Z arcanum $ */
+/* $Id$ */
 
 /* avr/iom32u4.h - definitions for ATmega32U4. */
 
diff --git a/include/avr/iom32u6.h b/include/avr/iom32u6.h
index 9d5785b..667b166 100644
--- a/include/avr/iom32u6.h
+++ b/include/avr/iom32u6.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iom32u6.h 1873 2009-02-11 17:53:39Z arcanum $ */
+/* $Id$ */
 
 /* avr/iom32u6.h - definitions for ATmega32U6 */
 
diff --git a/include/avr/iom406.h b/include/avr/iom406.h
index 29c6531..b5beedf 100644
--- a/include/avr/iom406.h
+++ b/include/avr/iom406.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iom406.h 2225 2011-03-02 16:27:26Z arcanum $ */
+/* $Id$ */
 
 /* avr/iom406.h - definitions for ATmega406 */
 
diff --git a/include/avr/iom48.h b/include/avr/iom48.h
index e204388..23aafc2 100644
--- a/include/avr/iom48.h
+++ b/include/avr/iom48.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iom48.h 2115 2010-04-05 23:19:53Z arcanum $ */
+/* $Id$ */
 
 #ifndef _AVR_IOM48_H_
 #define _AVR_IOM48_H_ 1
diff --git a/include/avr/iom48p.h b/include/avr/iom48p.h
index 8f01df0..b873c2c 100644
--- a/include/avr/iom48p.h
+++ b/include/avr/iom48p.h
@@ -29,7 +29,7 @@
   POSSIBILITY OF SUCH DAMAGE. 
 */
 
-/* $Id: iom48p.h 2225 2011-03-02 16:27:26Z arcanum $ */
+/* $Id$ */
 
 /* avr/iom48p.h - definitions for ATmega48P. */
 
diff --git a/include/avr/iom64.h b/include/avr/iom64.h
index fefb83d..22c1047 100644
--- a/include/avr/iom64.h
+++ b/include/avr/iom64.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iom64.h 2235 2011-03-17 04:13:14Z arcanum $ */
+/* $Id$ */
 
 /* avr/iom64.h - defines for ATmega64 
 
diff --git a/include/avr/iom640.h b/include/avr/iom640.h
index 3f8ea62..39b21ca 100644
--- a/include/avr/iom640.h
+++ b/include/avr/iom640.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iom640.h 2102 2010-03-16 22:52:39Z joerg_wunsch $ */
+/* $Id$ */
 
 /* avr/iom640.h - definitions for ATmega640 */
 
diff --git a/include/avr/iom644.h b/include/avr/iom644.h
index cca3269..174a129 100644
--- a/include/avr/iom644.h
+++ b/include/avr/iom644.h
@@ -30,7 +30,7 @@
 
 /* avr/iom644.h - definitions for ATmega644 */
 
-/* $Id: iom644.h 2115 2010-04-05 23:19:53Z arcanum $ */
+/* $Id$ */
 
 #ifndef _AVR_IOM644_H_
 #define _AVR_IOM644_H_ 1
diff --git a/include/avr/iom644p.h b/include/avr/iom644p.h
index 1480a93..f4fe30a 100644
--- a/include/avr/iom644p.h
+++ b/include/avr/iom644p.h
@@ -30,7 +30,7 @@
 
 /* avr/iom644p.h - definitions for ATmega644P */
 
-/* $Id: iom644p.h 2115 2010-04-05 23:19:53Z arcanum $ */
+/* $Id$ */
 
 #ifndef _AVR_IOM644P_H_
 #define _AVR_IOM644P_H_ 1
diff --git a/include/avr/iom644pa.h b/include/avr/iom644pa.h
index 3d43083..da68676 100644
--- a/include/avr/iom644pa.h
+++ b/include/avr/iom644pa.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iom644pa.h 2035 2009-11-02 02:44:17Z arcanum $ */
+/* $Id$ */
 
 /* avr/iom644PA.h - definitions for ATmega644PA */
 
diff --git a/include/avr/iom645.h b/include/avr/iom645.h
index a3dd5f4..7ed8f45 100644
--- a/include/avr/iom645.h
+++ b/include/avr/iom645.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iom645.h 2235 2011-03-17 04:13:14Z arcanum $ */
+/* $Id$ */
 
 /* avr/iom645.h - definitions for ATmega645 */
 
diff --git a/include/avr/iom6450.h b/include/avr/iom6450.h
index 80eab1e..12ba74e 100644
--- a/include/avr/iom6450.h
+++ b/include/avr/iom6450.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iom6450.h 2235 2011-03-17 04:13:14Z arcanum $ */
+/* $Id$ */
 
 /* avr/iom6450.h - definitions for ATmega6450 */
 
diff --git a/include/avr/iom649p.h b/include/avr/iom649p.h
index e6226f6..f44ce20 100644
--- a/include/avr/iom649p.h
+++ b/include/avr/iom649p.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iom649p.h 2146 2010-06-09 06:38:54Z joerg_wunsch $ */
+/* $Id$ */
 
 /* avr/iom649p.h - definitions for ATmega649 */
 
diff --git a/include/avr/iom64c1.h b/include/avr/iom64c1.h
index bf22e44..292f7c9 100644
--- a/include/avr/iom64c1.h
+++ b/include/avr/iom64c1.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iom64c1.h 2183 2010-09-21 05:37:46Z aboyapati $ */
+/* $Id$ */
 
 /* avr/iom64c1.h - definitions for ATmega64C1 */
 
diff --git a/include/avr/iom64hve.h b/include/avr/iom64hve.h
index a86cd29..b1429e6 100644
--- a/include/avr/iom64hve.h
+++ b/include/avr/iom64hve.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iom64hve.h 2086 2009-12-15 03:24:16Z arcanum $ */
+/* $Id$ */
 
 /* avr/iom64hve.h - definitions for ATmega64HVE */
 
diff --git a/include/avr/iom64m1.h b/include/avr/iom64m1.h
index 4164532..2ff79c8 100644
--- a/include/avr/iom64m1.h
+++ b/include/avr/iom64m1.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iom64m1.h 2183 2010-09-21 05:37:46Z aboyapati $ */
+/* $Id$ */
 
 /* avr/iom64m1.h - definitions for ATmega64M1 */
 
diff --git a/include/avr/iom8.h b/include/avr/iom8.h
index 5e68ba2..c24db1a 100644
--- a/include/avr/iom8.h
+++ b/include/avr/iom8.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iom8.h 2235 2011-03-17 04:13:14Z arcanum $ */
+/* $Id$ */
 
 /* avr/iom8.h - definitions for ATmega8 */
 
diff --git a/include/avr/iom8515.h b/include/avr/iom8515.h
index 9a11838..cc7ebba 100644
--- a/include/avr/iom8515.h
+++ b/include/avr/iom8515.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iom8515.h 2235 2011-03-17 04:13:14Z arcanum $ */
+/* $Id$ */
 
 /* avr/iom8515.h - definitions for ATmega8515 */
 
diff --git a/include/avr/iom8535.h b/include/avr/iom8535.h
index b14129d..c1e8f96 100644
--- a/include/avr/iom8535.h
+++ b/include/avr/iom8535.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iom8535.h 2235 2011-03-17 04:13:14Z arcanum $ */
+/* $Id$ */
 
 /* avr/iom8535.h - definitions for ATmega8535 */
 
diff --git a/include/avr/iom88.h b/include/avr/iom88.h
index b9704c5..bca791a 100644
--- a/include/avr/iom88.h
+++ b/include/avr/iom88.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iom88.h 2115 2010-04-05 23:19:53Z arcanum $ */
+/* $Id$ */
 
 #ifndef _AVR_IOM88_H_
 #define _AVR_IOM88_H_ 1
diff --git a/include/avr/iom88p.h b/include/avr/iom88p.h
index b51c7de..577c5c4 100644
--- a/include/avr/iom88p.h
+++ b/include/avr/iom88p.h
@@ -29,7 +29,7 @@
   POSSIBILITY OF SUCH DAMAGE. 
 */
 
-/* $Id: iom88p.h 2225 2011-03-02 16:27:26Z arcanum $ */
+/* $Id$ */
 
 /* avr/iom88p.h - definitions for ATmega88P. */
 
diff --git a/include/avr/iom88pa.h b/include/avr/iom88pa.h
index 62efee3..476e0dd 100644
--- a/include/avr/iom88pa.h
+++ b/include/avr/iom88pa.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iom88pa.h 2035 2009-11-02 02:44:17Z arcanum $ */
+/* $Id$ */
 
 /* avr/iom88pa.h - definitions for ATmega88PA */
 
diff --git a/include/avr/iom8hva.h b/include/avr/iom8hva.h
index 8885c56..ac323b0 100644
--- a/include/avr/iom8hva.h
+++ b/include/avr/iom8hva.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iom8hva.h 2102 2010-03-16 22:52:39Z joerg_wunsch $ */
+/* $Id$ */
 
 /* iom8hva.h - definitions for ATmega8HVA.  */
 
diff --git a/include/avr/iom8u2.h b/include/avr/iom8u2.h
index dacd768..0ee3628 100644
--- a/include/avr/iom8u2.h
+++ b/include/avr/iom8u2.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iom8u2.h 2245 2011-05-12 22:42:21Z arcanum $ */
+/* $Id$ */
 
 /* avr/iom8u2.h - definitions for ATmega8U2 */
 
diff --git a/include/avr/iomx8.h b/include/avr/iomx8.h
index 99ab37a..03ad491 100644
--- a/include/avr/iomx8.h
+++ b/include/avr/iomx8.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iomx8.h 2235 2011-03-17 04:13:14Z arcanum $ */
+/* $Id$ */
 
 /* avr/iomx8.h - definitions for ATmega48, ATmega88 and ATmega168 */
 
diff --git a/include/avr/iomxx0_1.h b/include/avr/iomxx0_1.h
index 74e807d..0bbf26b 100644
--- a/include/avr/iomxx0_1.h
+++ b/include/avr/iomxx0_1.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iomxx0_1.h 2235 2011-03-17 04:13:14Z arcanum $ */
+/* $Id$ */
 
 /* avr/iomxx0_1.h - definitions for ATmega640, Atmega1280, ATmega1281,
    ATmega2560 and ATmega2561. */
diff --git a/include/avr/iomxx4.h b/include/avr/iomxx4.h
index 9795cb1..718e54b 100644
--- a/include/avr/iomxx4.h
+++ b/include/avr/iomxx4.h
@@ -30,7 +30,7 @@
 
 /* avr/iomXX4.h - definitions for ATmega164P/324P/644P and ATmega644 */
 
-/* $Id: iomxx4.h 2235 2011-03-17 04:13:14Z arcanum $ */
+/* $Id$ */
 
 #ifndef _AVR_IOMXX4_H_
 #define _AVR_IOMXX4_H_ 1
diff --git a/include/avr/iomxxhva.h b/include/avr/iomxxhva.h
index 82b0981..1059e87 100644
--- a/include/avr/iomxxhva.h
+++ b/include/avr/iomxxhva.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iomxxhva.h 2225 2011-03-02 16:27:26Z arcanum $ */
+/* $Id$ */
 
 /* iomxxhva.h - definitions for ATmega8HVA and ATmega16HVA.  */
 
diff --git a/include/avr/iotn10.h b/include/avr/iotn10.h
index 6c85f42..34c701c 100644
--- a/include/avr/iotn10.h
+++ b/include/avr/iotn10.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iotn10.h 2063 2009-11-18 22:06:28Z arcanum $ */
+/* $Id$ */
 
 /* avr/iotn10.h - definitions for ATtiny10 */
 
diff --git a/include/avr/iotn11.h b/include/avr/iotn11.h
index 42f8b1b..c54aeb0 100644
--- a/include/avr/iotn11.h
+++ b/include/avr/iotn11.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iotn11.h 2236 2011-03-17 21:53:39Z arcanum $ */
+/* $Id$ */
 
 /* avr/iotn11.h - definitions for ATtiny10/11 */
 
diff --git a/include/avr/iotn12.h b/include/avr/iotn12.h
index 2b051b2..f81ae81 100644
--- a/include/avr/iotn12.h
+++ b/include/avr/iotn12.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iotn12.h 2236 2011-03-17 21:53:39Z arcanum $ */
+/* $Id$ */
 
 /* avr/iotn12.h - definitions for ATtiny12 */
 
diff --git a/include/avr/iotn13.h b/include/avr/iotn13.h
index aba7ffe..61d0184 100644
--- a/include/avr/iotn13.h
+++ b/include/avr/iotn13.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iotn13.h 2236 2011-03-17 21:53:39Z arcanum $ */
+/* $Id$ */
 
 /* avr/iotn13.h - definitions for ATtiny13 */
 
diff --git a/include/avr/iotn13a.h b/include/avr/iotn13a.h
index 7c9c5f9..7f05279 100644
--- a/include/avr/iotn13a.h
+++ b/include/avr/iotn13a.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iotn13a.h 1955 2009-04-28 08:51:16Z arcanum $ */
+/* $Id$ */
 
 /* avr/iotn13a.h - definitions for ATtiny13 */
 
diff --git a/include/avr/iotn15.h b/include/avr/iotn15.h
index 1a12541..7082542 100644
--- a/include/avr/iotn15.h
+++ b/include/avr/iotn15.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iotn15.h 2236 2011-03-17 21:53:39Z arcanum $ */
+/* $Id$ */
 
 /* avr/iotn15.h - definitions for ATtiny15 */
 
diff --git a/include/avr/iotn167.h b/include/avr/iotn167.h
index 04ee489..b5d1d1f 100644
--- a/include/avr/iotn167.h
+++ b/include/avr/iotn167.h
@@ -29,7 +29,7 @@
   POSSIBILITY OF SUCH DAMAGE. 
 */
 
-/* $Id: iotn167.h 2253 2011-09-26 14:53:41Z arcanum $ */
+/* $Id$ */
 
 /* avr/iotn167.h - definitions for ATtiny167. */
 
diff --git a/include/avr/iotn22.h b/include/avr/iotn22.h
index c7e8c38..e119c49 100644
--- a/include/avr/iotn22.h
+++ b/include/avr/iotn22.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iotn22.h 2236 2011-03-17 21:53:39Z arcanum $ */
+/* $Id$ */
 
 /* avr/iotn22.h - definitions for ATtiny22 */
 
diff --git a/include/avr/iotn2313.h b/include/avr/iotn2313.h
index 6d7aa50..46c259b 100644
--- a/include/avr/iotn2313.h
+++ b/include/avr/iotn2313.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iotn2313.h 2236 2011-03-17 21:53:39Z arcanum $ */
+/* $Id$ */
 
 /* iotn2313.h derived from io2313.h by Bob Paddock.
 
diff --git a/include/avr/iotn2313a.h b/include/avr/iotn2313a.h
index 6c6db60..7f0e94c 100644
--- a/include/avr/iotn2313a.h
+++ b/include/avr/iotn2313a.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iotn2313a.h 2035 2009-11-02 02:44:17Z arcanum $ */
+/* $Id$ */
 
 /* avr/iotn2313a.h - definitions for ATtiny2313A */
 
diff --git a/include/avr/iotn24.h b/include/avr/iotn24.h
index e877e7b..4d73118 100644
--- a/include/avr/iotn24.h
+++ b/include/avr/iotn24.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iotn24.h 2115 2010-04-05 23:19:53Z arcanum $ */
+/* $Id$ */
 
 /* avr/iotn24.h - definitions for ATtiny24 */
 
diff --git a/include/avr/iotn24a.h b/include/avr/iotn24a.h
index f260215..d715e3a 100644
--- a/include/avr/iotn24a.h
+++ b/include/avr/iotn24a.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iotn24a.h 2035 2009-11-02 02:44:17Z arcanum $ */
+/* $Id$ */
 
 /* avr/iotn24a.h - definitions for ATtiny24A */
 
diff --git a/include/avr/iotn25.h b/include/avr/iotn25.h
index b2a7bfd..be12aee 100644
--- a/include/avr/iotn25.h
+++ b/include/avr/iotn25.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iotn25.h 2115 2010-04-05 23:19:53Z arcanum $ */
+/* $Id$ */
 
 /* avr/iotn25.h - definitions for ATtiny25 */
 
diff --git a/include/avr/iotn26.h b/include/avr/iotn26.h
index d348431..f5c7a42 100644
--- a/include/avr/iotn26.h
+++ b/include/avr/iotn26.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iotn26.h 2236 2011-03-17 21:53:39Z arcanum $ */
+/* $Id$ */
 
 /* avr/iotn26.h - definitions for ATtiny26 */
 
diff --git a/include/avr/iotn261.h b/include/avr/iotn261.h
index c19ef39..a08100d 100644
--- a/include/avr/iotn261.h
+++ b/include/avr/iotn261.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iotn261.h 2115 2010-04-05 23:19:53Z arcanum $ */
+/* $Id$ */
 
 /* avr/iotn261.h - definitions for ATtiny261 */
 
diff --git a/include/avr/iotn261a.h b/include/avr/iotn261a.h
index 2246264..23fa2f5 100644
--- a/include/avr/iotn261a.h
+++ b/include/avr/iotn261a.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iotn261a.h 2063 2009-11-18 22:06:28Z arcanum $ */
+/* $Id$ */
 
 /* avr/iotn261a.h - definitions for ATtiny261A */
 
diff --git a/include/avr/iotn28.h b/include/avr/iotn28.h
index 3f6eb05..717834a 100644
--- a/include/avr/iotn28.h
+++ b/include/avr/iotn28.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iotn28.h 2236 2011-03-17 21:53:39Z arcanum $ */
+/* $Id$ */
 
 /* avr/iotn28.h - definitions for ATtiny28 */
 
diff --git a/include/avr/iotn4.h b/include/avr/iotn4.h
index fe7e724..039b974 100644
--- a/include/avr/iotn4.h
+++ b/include/avr/iotn4.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iotn4.h 2063 2009-11-18 22:06:28Z arcanum $ */
+/* $Id$ */
 
 /* avr/iotn4.h - definitions for ATtiny4 */
 
diff --git a/include/avr/iotn40.h b/include/avr/iotn40.h
index 01c8531..a07f194 100644
--- a/include/avr/iotn40.h
+++ b/include/avr/iotn40.h
@@ -545,35 +545,37 @@
 #define PCINT0_vect      _VECTOR(2)  /* Pin Change Interrupt Request 0 */
 #define PCINT1_vect_num  3
 #define PCINT1_vect      _VECTOR(3)  /* Pin Change Interrupt Request 1 */
-#define WDT_vect_num  4
-#define WDT_vect      _VECTOR(4)  /* Watchdog Time-out */
-#define TIM1_CAPT_vect_num  5
-#define TIM1_CAPT_vect      _VECTOR(5)  /* Timer/Counter1 Input Capture */
-#define TIM1_COMPA_vect_num  6
-#define TIM1_COMPA_vect      _VECTOR(6)  /*  Timer/Counter1 Compare Match A */
-#define TIM1_COMPB_vect_num  7
-#define TIM1_COMPB_vect      _VECTOR(7)  /*  Timer/Counter1 Compare Match B */
-#define TIM1_OVF_vect_num  8
-#define TIM1_OVF_vect      _VECTOR(8)  /* Timer/Counter1 Overflow */
-#define TIM0_COMPA_vect_num  9
-#define TIM0_COMPA_vect      _VECTOR(9)  /* Timer/Counter0 Compare Match A */
-#define TIM0_COMPB_vect_num  10
-#define TIM0_COMPB_vect      _VECTOR(10)  /* Timer/Counter0 Compare Match B */
-#define TIM0_OVF_vect_num  11
-#define TIM0_OVF_vect      _VECTOR(11)  /* Timer/Counter0 Overflow */
-#define ANA_COMP_vect_num  12
-#define ANA_COMP_vect      _VECTOR(12)  /* Analog Comparator */
-#define ADC_ADC_vect_num  13
-#define ADC_ADC_vect      _VECTOR(13)  /* Conversion Complete */
-#define TWI_SLAVE_vect_num  14
-#define TWI_SLAVE_vect      _VECTOR(14)  /* Two-Wire Interface */
-#define SPI_vect_num  15
-#define SPI_vect      _VECTOR(15)  /* Serial Peripheral Interface */
-#define QTRIP_vect_num  16
-#define QTRIP_vect      _VECTOR(16)  /* Touch Sensing */
+#define PCINT2_vect_num  4
+#define PCINT2_vect      _VECTOR(4)  /* Pin Change Interrupt Request 2 */
+#define WDT_vect_num  5
+#define WDT_vect      _VECTOR(5)  /* Watchdog Time-out */
+#define TIM1_CAPT_vect_num  6
+#define TIM1_CAPT_vect      _VECTOR(6)  /* Timer/Counter1 Input Capture */
+#define TIM1_COMPA_vect_num  7
+#define TIM1_COMPA_vect      _VECTOR(7)  /*  Timer/Counter1 Compare Match A */
+#define TIM1_COMPB_vect_num  8
+#define TIM1_COMPB_vect      _VECTOR(8)  /*  Timer/Counter1 Compare Match B */
+#define TIM1_OVF_vect_num  9
+#define TIM1_OVF_vect      _VECTOR(9)  /* Timer/Counter1 Overflow */
+#define TIM0_COMPA_vect_num  10
+#define TIM0_COMPA_vect      _VECTOR(10)  /* Timer/Counter0 Compare Match A */
+#define TIM0_COMPB_vect_num  11
+#define TIM0_COMPB_vect      _VECTOR(11)  /* Timer/Counter0 Compare Match B */
+#define TIM0_OVF_vect_num  12
+#define TIM0_OVF_vect      _VECTOR(12)  /* Timer/Counter0 Overflow */
+#define ANA_COMP_vect_num  13
+#define ANA_COMP_vect      _VECTOR(13)  /* Analog Comparator */
+#define ADC_vect_num  14
+#define ADC_vect      _VECTOR(14)  /* Conversion Complete */
+#define TWI_SLAVE_vect_num  15
+#define TWI_SLAVE_vect      _VECTOR(15)  /* Two-Wire Interface */
+#define SPI_vect_num  16
+#define SPI_vect      _VECTOR(16)  /* Serial Peripheral Interface */
+#define QTRIP_vect_num  17
+#define QTRIP_vect      _VECTOR(17)  /* Touch Sensing */
 
 #define _VECTOR_SIZE 2 /* Size of individual vector. */
-#define _VECTORS_SIZE (17 * _VECTOR_SIZE)
+#define _VECTORS_SIZE (18 * _VECTOR_SIZE)
 
 
 /* Constants */
diff --git a/include/avr/iotn4313.h b/include/avr/iotn4313.h
index bdef413..e5b9a4b 100644
--- a/include/avr/iotn4313.h
+++ b/include/avr/iotn4313.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iotn4313.h 2035 2009-11-02 02:44:17Z arcanum $ */
+/* $Id$ */
 
 /* avr/iotn4313.h - definitions for ATtiny4313 */
 
diff --git a/include/avr/iotn43u.h b/include/avr/iotn43u.h
index 42f00cb..51a7ced 100644
--- a/include/avr/iotn43u.h
+++ b/include/avr/iotn43u.h
@@ -29,7 +29,7 @@
   POSSIBILITY OF SUCH DAMAGE. 
 */
 
-/* $Id: iotn43u.h 2225 2011-03-02 16:27:26Z arcanum $ */
+/* $Id$ */
 
 /* avr/iotn43u.h - definitions for ATtiny43U */
 
diff --git a/include/avr/iotn44.h b/include/avr/iotn44.h
index 1fc3a8e..9431025 100644
--- a/include/avr/iotn44.h
+++ b/include/avr/iotn44.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iotn44.h 2115 2010-04-05 23:19:53Z arcanum $ */
+/* $Id$ */
 
 /* avr/iotn44.h - definitions for ATtiny44 */
 
diff --git a/include/avr/iotn44a.h b/include/avr/iotn44a.h
index cca6515..f073d95 100644
--- a/include/avr/iotn44a.h
+++ b/include/avr/iotn44a.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iotn44a.h 2035 2009-11-02 02:44:17Z arcanum $ */
+/* $Id$ */
 
 /* avr/iotn44a.h - definitions for ATtiny44A */
 
diff --git a/include/avr/iotn45.h b/include/avr/iotn45.h
index 66f4062..63a33e9 100644
--- a/include/avr/iotn45.h
+++ b/include/avr/iotn45.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iotn45.h 2115 2010-04-05 23:19:53Z arcanum $ */
+/* $Id$ */
 
 /* avr/iotn45.h - definitions for ATtiny45 */
 
diff --git a/include/avr/iotn461.h b/include/avr/iotn461.h
index 0e48c9c..6e64c71 100644
--- a/include/avr/iotn461.h
+++ b/include/avr/iotn461.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iotn461.h 2115 2010-04-05 23:19:53Z arcanum $ */
+/* $Id$ */
 
 /* avr/iotn461.h - definitions for ATtiny461 */
 
diff --git a/include/avr/iotn461a.h b/include/avr/iotn461a.h
index aadb2c2..afae35c 100644
--- a/include/avr/iotn461a.h
+++ b/include/avr/iotn461a.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iotn461a.h 2063 2009-11-18 22:06:28Z arcanum $ */
+/* $Id$ */
 
 /* avr/iotn461a.h - definitions for ATtiny461A */
 
diff --git a/include/avr/iotn48.h b/include/avr/iotn48.h
index 616cbf4..1919ce9 100644
--- a/include/avr/iotn48.h
+++ b/include/avr/iotn48.h
@@ -29,7 +29,7 @@
   POSSIBILITY OF SUCH DAMAGE. 
 */
 
-/* $Id: iotn48.h 2225 2011-03-02 16:27:26Z arcanum $ */
+/* $Id$ */
 
 /* avr/iotn48.h - definitions for ATtiny48 */
 
diff --git a/include/avr/iotn5.h b/include/avr/iotn5.h
index cd99654..b8df24f 100644
--- a/include/avr/iotn5.h
+++ b/include/avr/iotn5.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iotn5.h 2063 2009-11-18 22:06:28Z arcanum $ */
+/* $Id$ */
 
 /* avr/iotn5.h - definitions for ATtiny5 */
 
diff --git a/include/avr/iotn84.h b/include/avr/iotn84.h
index 47a867f..c7f903c 100644
--- a/include/avr/iotn84.h
+++ b/include/avr/iotn84.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iotn84.h 2115 2010-04-05 23:19:53Z arcanum $ */
+/* $Id$ */
 
 /* avr/iotn84.h - definitions for ATtiny84 */
 
diff --git a/include/avr/iotn85.h b/include/avr/iotn85.h
index afc675d..b4b2a4d 100644
--- a/include/avr/iotn85.h
+++ b/include/avr/iotn85.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iotn85.h 2115 2010-04-05 23:19:53Z arcanum $ */
+/* $Id$ */
 
 /* avr/iotn85.h - definitions for ATtiny85 */
 
diff --git a/include/avr/iotn861.h b/include/avr/iotn861.h
index b7337a0..ab04147 100644
--- a/include/avr/iotn861.h
+++ b/include/avr/iotn861.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iotn861.h 2115 2010-04-05 23:19:53Z arcanum $ */
+/* $Id$ */
 
 /* avr/iotn861.h - definitions for ATtiny861 */
 
diff --git a/include/avr/iotn861a.h b/include/avr/iotn861a.h
index a629612..9d12327 100644
--- a/include/avr/iotn861a.h
+++ b/include/avr/iotn861a.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iotn861a.h 2063 2009-11-18 22:06:28Z arcanum $ */
+/* $Id$ */
 
 /* avr/iotn861a.h - definitions for ATtiny861A */
 
diff --git a/include/avr/iotn87.h b/include/avr/iotn87.h
index 7681ec8..dc55f4c 100644
--- a/include/avr/iotn87.h
+++ b/include/avr/iotn87.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iotn87.h 2181 2010-08-23 03:46:23Z arcanum $ */
+/* $Id$ */
 
 /* avr/iotn87.h - definitions for ATtiny87 */
 
diff --git a/include/avr/iotn88.h b/include/avr/iotn88.h
index 8213a53..eb31661 100644
--- a/include/avr/iotn88.h
+++ b/include/avr/iotn88.h
@@ -29,7 +29,7 @@
   POSSIBILITY OF SUCH DAMAGE. 
 */
 
-/* $Id: iotn88.h 2225 2011-03-02 16:27:26Z arcanum $ */
+/* $Id$ */
 
 /* avr/iotn88.h - definitions for ATtiny88 */
 
diff --git a/include/avr/iotn9.h b/include/avr/iotn9.h
index 16dc4dc..8f35078 100644
--- a/include/avr/iotn9.h
+++ b/include/avr/iotn9.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iotn9.h 2063 2009-11-18 22:06:28Z arcanum $ */
+/* $Id$ */
 
 /* avr/iotn9.h - definitions for ATtiny9 */
 
diff --git a/include/avr/iotnx4.h b/include/avr/iotnx4.h
index ddcadae..75c855d 100644
--- a/include/avr/iotnx4.h
+++ b/include/avr/iotnx4.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iotnx4.h 2225 2011-03-02 16:27:26Z arcanum $ */
+/* $Id$ */
 
 /* avr/iotnx4.h - definitions for ATtiny24, ATtiny44 and ATtiny84 */
 
diff --git a/include/avr/iotnx5.h b/include/avr/iotnx5.h
index 49ec56b..7955b1a 100644
--- a/include/avr/iotnx5.h
+++ b/include/avr/iotnx5.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iotnx5.h 2269 2011-12-29 08:07:25Z joerg_wunsch $ */
+/* $Id$ */
 
 /* avr/iotnx5.h - definitions for ATtiny25, ATtiny45 and ATtiny85 */
 
diff --git a/include/avr/iotnx61.h b/include/avr/iotnx61.h
index 630a8bd..c72a00f 100644
--- a/include/avr/iotnx61.h
+++ b/include/avr/iotnx61.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iotnx61.h 2247 2011-05-23 19:39:56Z joerg_wunsch $ */
+/* $Id$ */
 
 /* avr/iotnx61.h - definitions for ATtiny261, ATtiny461 and ATtiny861 */
 
diff --git a/include/avr/iousb1286.h b/include/avr/iousb1286.h
index 7d3d4ec..09e8d7c 100644
--- a/include/avr/iousb1286.h
+++ b/include/avr/iousb1286.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iousb1286.h 2102 2010-03-16 22:52:39Z joerg_wunsch $ */
+/* $Id$ */
 
 /* avr/iousb1286.h - definitions for AT90USB1286 */
 
diff --git a/include/avr/iousb1287.h b/include/avr/iousb1287.h
index 1fe45e1..3c599a3 100644
--- a/include/avr/iousb1287.h
+++ b/include/avr/iousb1287.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iousb1287.h 2102 2010-03-16 22:52:39Z joerg_wunsch $ */
+/* $Id$ */
 
 /* avr/iousb1287.h - definitions for AT90USB1287 */
 
diff --git a/include/avr/iousb162.h b/include/avr/iousb162.h
index e0648bf..8d561d2 100644
--- a/include/avr/iousb162.h
+++ b/include/avr/iousb162.h
@@ -29,7 +29,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iousb162.h 2102 2010-03-16 22:52:39Z joerg_wunsch $ */
+/* $Id$ */
 
 /* avr/iousb162.h - definitions for AT90USB162 */
 
diff --git a/include/avr/iousb646.h b/include/avr/iousb646.h
index 1dea508..cb05ff9 100644
--- a/include/avr/iousb646.h
+++ b/include/avr/iousb646.h
@@ -29,7 +29,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iousb646.h 2102 2010-03-16 22:52:39Z joerg_wunsch $ */
+/* $Id$ */
 
 /* avr/iousb646.h - definitions for AT90USB646 */
 
diff --git a/include/avr/iousb647.h b/include/avr/iousb647.h
index d0dba09..de32d90 100644
--- a/include/avr/iousb647.h
+++ b/include/avr/iousb647.h
@@ -29,7 +29,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iousb647.h 2102 2010-03-16 22:52:39Z joerg_wunsch $ */
+/* $Id$ */
 
 /* avr/iousb647.h - definitions for AT90USB647 */
 
diff --git a/include/avr/iousb82.h b/include/avr/iousb82.h
index 53b0686..978a9ff 100644
--- a/include/avr/iousb82.h
+++ b/include/avr/iousb82.h
@@ -29,7 +29,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iousb82.h 2102 2010-03-16 22:52:39Z joerg_wunsch $ */
+/* $Id$ */
 
 /* avr/iousb82.h - definitions for AT90USB82 */
 
diff --git a/include/avr/iousbxx2.h b/include/avr/iousbxx2.h
index 2961de0..2ab3a72 100644
--- a/include/avr/iousbxx2.h
+++ b/include/avr/iousbxx2.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iousbxx2.h 2246 2011-05-14 20:02:02Z joerg_wunsch $ */
+/* $Id$ */
 
 /* iousbxx2.h - definitions for AT90USB82 and AT90USB162.  */
 
diff --git a/include/avr/iousbxx6_7.h b/include/avr/iousbxx6_7.h
index 30af678..5dcf580 100644
--- a/include/avr/iousbxx6_7.h
+++ b/include/avr/iousbxx6_7.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iousbxx6_7.h 2225 2011-03-02 16:27:26Z arcanum $ */
+/* $Id$ */
 
 /* iousbxx6_7.h - definitions for AT90USB646, AT90USB647, AT90USB1286 
    and AT90USB1287 */
diff --git a/include/avr/iox128a1.h b/include/avr/iox128a1.h
index fff87ab..6e2c96e 100644
--- a/include/avr/iox128a1.h
+++ b/include/avr/iox128a1.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iox128a1.h 2200 2010-12-14 04:24:24Z arcanum $ */
+/* $Id$ */
 
 /* avr/iox128a1.h - definitions for ATxmega128A1 */
 
diff --git a/include/avr/iox128a1u.h b/include/avr/iox128a1u.h
index e8f4163..c45fc55 100644
--- a/include/avr/iox128a1u.h
+++ b/include/avr/iox128a1u.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iox128a1u.h 2162 2010-06-11 17:26:12Z arcanum $ */
+/* $Id$ */
 
 /* avr/iox128a1u.h - definitions for ATxmega128A1U */
 
diff --git a/include/avr/iox128a3.h b/include/avr/iox128a3.h
index 7973b62..99fec61 100644
--- a/include/avr/iox128a3.h
+++ b/include/avr/iox128a3.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iox128a3.h 2200 2010-12-14 04:24:24Z arcanum $ */
+/* $Id$ */
 
 /* avr/iox128a3.h - definitions for ATxmega128A3 */
 
diff --git a/include/avr/iox128d3.h b/include/avr/iox128d3.h
index df0ce13..2c35520 100644
--- a/include/avr/iox128d3.h
+++ b/include/avr/iox128d3.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iox128d3.h 2194 2010-11-16 15:10:51Z arcanum $ */
+/* $Id$ */
 
 /* avr/iox128d3.h - definitions for ATxmega128D3 */
 
@@ -174,7 +174,7 @@ typedef struct PR_struct
 {
     register8_t PRGEN;  /* General Power Reduction */
     register8_t PRPA;  /* Power Reduction Port A */
-    register8_t PRPB;  /* Power Reduction Port B */
+    register8_t reserved_0x02;
     register8_t PRPC;  /* Power Reduction Port C */
     register8_t PRPD;  /* Power Reduction Port D */
     register8_t PRPE;  /* Power Reduction Port E */
@@ -416,6 +416,46 @@ typedef struct PMIC_struct
 
 /*
 --------------------------------------------------------------------------
+CRC - Cyclic Redundancy Checker
+--------------------------------------------------------------------------
+*/
+
+/* Cyclic Redundancy Checker */
+typedef struct CRC_struct
+{
+    register8_t CTRL;  /* Control Register */
+    register8_t STATUS;  /* Status Register */
+    register8_t reserved_0x02;
+    register8_t DATAIN;  /* Data Input */
+    register8_t CHECKSUM0;  /* Checksum byte 0 */
+    register8_t CHECKSUM1;  /* Checksum byte 1 */
+    register8_t CHECKSUM2;  /* Checksum byte 2 */
+    register8_t CHECKSUM3;  /* Checksum byte 3 */
+} CRC_t;
+
+/* Reset */
+typedef enum CRC_RESET_enum
+{
+    CRC_RESET_NO_gc = (0x00<<6),  /* No Reset */
+    CRC_RESET_RESET0_gc = (0x02<<6),  /* Reset CRC with CHECKSUM to all zeros */
+    CRC_RESET_RESET1_gc = (0x03<<6),  /* Reset CRC with CHECKSUM to all ones */
+} CRC_RESET_t;
+
+/* Input Source */
+typedef enum CRC_SOURCE_enum
+{
+    CRC_SOURCE_DISABLE_gc = (0x00<<0),  /* Disabled */
+    CRC_SOURCE_IO_gc = (0x01<<0),  /* I/O Interface */
+    CRC_SOURCE_FLASH_gc = (0x02<<0),  /* Flash */
+    CRC_SOURCE_DMAC0_gc = (0x04<<0),  /* DMAC Channel 0 */
+    CRC_SOURCE_DMAC1_gc = (0x05<<0),  /* DMAC Channel 1 */
+    CRC_SOURCE_DMAC2_gc = (0x06<<0),  /* DMAC Channel 2 */
+    CRC_SOURCE_DMAC3_gc = (0x07<<0),  /* DMAC Channel 3 */
+} CRC_SOURCE_t;
+
+
+/*
+--------------------------------------------------------------------------
 EVSYS - Event System
 --------------------------------------------------------------------------
 */
@@ -2180,6 +2220,7 @@ IO Module Instances. Mapped to memory.
 #define MCU    (*(MCU_t *) 0x0090)  /* MCU Control */
 #define PMIC    (*(PMIC_t *) 0x00A0)  /* Programmable Interrupt Controller */
 #define PORTCFG    (*(PORTCFG_t *) 0x00B0)  /* Port Configuration */
+#define CRC    (*(CRC_t *) 0x00D0)  /* Cyclic Redundancy Checker */
 #define EVSYS    (*(EVSYS_t *) 0x0180)  /* Event System */
 #define NVM    (*(NVM_t *) 0x01C0)  /* Non Volatile Memory Controller */
 #define ADCA    (*(ADC_t *) 0x0200)  /* Analog to Digital Converter A */
@@ -2309,7 +2350,6 @@ IO Module Instances. Mapped to memory.
 /* PR - Power Reduction */
 #define PR_PRGEN  _SFR_MEM8(0x0070)
 #define PR_PRPA  _SFR_MEM8(0x0071)
-#define PR_PRPB  _SFR_MEM8(0x0072)
 #define PR_PRPC  _SFR_MEM8(0x0073)
 #define PR_PRPD  _SFR_MEM8(0x0074)
 #define PR_PRPE  _SFR_MEM8(0x0075)
@@ -2345,6 +2385,15 @@ IO Module Instances. Mapped to memory.
 #define PORTCFG_VPCTRLB  _SFR_MEM8(0x00B3)
 #define PORTCFG_CLKEVOUT  _SFR_MEM8(0x00B4)
 
+/* CRC - Cyclic Redundancy Checker */
+#define CRC_CTRL  _SFR_MEM8(0x00D0)
+#define CRC_STATUS  _SFR_MEM8(0x00D1)
+#define CRC_DATAIN  _SFR_MEM8(0x00D3)
+#define CRC_CHECKSUM0  _SFR_MEM8(0x00D4)
+#define CRC_CHECKSUM1  _SFR_MEM8(0x00D5)
+#define CRC_CHECKSUM2  _SFR_MEM8(0x00D6)
+#define CRC_CHECKSUM3  _SFR_MEM8(0x00D7)
+
 /* EVSYS - Event System */
 #define EVSYS_CH0MUX  _SFR_MEM8(0x0180)
 #define EVSYS_CH1MUX  _SFR_MEM8(0x0181)
@@ -2901,59 +2950,31 @@ IO Module Instances. Mapped to memory.
 
 
 /* PR.PRGEN  bit masks and bit positions */
-#define PR_AES_bm  0x10  /* AES bit mask. */
-#define PR_AES_bp  4  /* AES bit position. */
-
-#define PR_EBI_bm  0x08  /* External Bus Interface bit mask. */
-#define PR_EBI_bp  3  /* External Bus Interface bit position. */
-
 #define PR_RTC_bm  0x04  /* Real-time Counter bit mask. */
 #define PR_RTC_bp  2  /* Real-time Counter bit position. */
 
 #define PR_EVSYS_bm  0x02  /* Event System bit mask. */
 #define PR_EVSYS_bp  1  /* Event System bit position. */
 
-#define PR_DMA_bm  0x01  /* DMA-Controller bit mask. */
-#define PR_DMA_bp  0  /* DMA-Controller bit position. */
-
-
 /* PR.PRPA  bit masks and bit positions */
-#define PR_DAC_bm  0x04  /* Port A DAC bit mask. */
-#define PR_DAC_bp  2  /* Port A DAC bit position. */
-
 #define PR_ADC_bm  0x02  /* Port A ADC bit mask. */
 #define PR_ADC_bp  1  /* Port A ADC bit position. */
 
 #define PR_AC_bm  0x01  /* Port A Analog Comparator bit mask. */
 #define PR_AC_bp  0  /* Port A Analog Comparator bit position. */
 
-
-/* PR.PRPB  bit masks and bit positions */
-/* PR_DAC_bm  Predefined. */
-/* PR_DAC_bp  Predefined. */
-
-/* PR_ADC_bm  Predefined. */
-/* PR_ADC_bp  Predefined. */
-
-/* PR_AC_bm  Predefined. */
-/* PR_AC_bp  Predefined. */
-
-
 /* PR.PRPC  bit masks and bit positions */
 #define PR_TWI_bm  0x40  /* Port C Two-wire Interface bit mask. */
 #define PR_TWI_bp  6  /* Port C Two-wire Interface bit position. */
 
-#define PR_USART1_bm  0x20  /* Port C USART1 bit mask. */
-#define PR_USART1_bp  5  /* Port C USART1 bit position. */
-
 #define PR_USART0_bm  0x10  /* Port C USART0 bit mask. */
 #define PR_USART0_bp  4  /* Port C USART0 bit position. */
 
 #define PR_SPI_bm  0x08  /* Port C SPI bit mask. */
 #define PR_SPI_bp  3  /* Port C SPI bit position. */
 
-#define PR_HIRES_bm  0x04  /* Port C AWEX bit mask. */
-#define PR_HIRES_bp  2  /* Port C AWEX bit position. */
+#define PR_HIRES_bm  0x04  /* Port C HIRES bit mask. */
+#define PR_HIRES_bp  2  /* Port C HIRES bit position. */
 
 #define PR_TC1_bm  0x02  /* Port C Timer/Counter1 bit mask. */
 #define PR_TC1_bp  1  /* Port C Timer/Counter1 bit position. */
@@ -2961,76 +2982,33 @@ IO Module Instances. Mapped to memory.
 #define PR_TC0_bm  0x01  /* Port C Timer/Counter0 bit mask. */
 #define PR_TC0_bp  0  /* Port C Timer/Counter0 bit position. */
 
-
 /* PR.PRPD  bit masks and bit positions */
-/* PR_TWI_bm  Predefined. */
-/* PR_TWI_bp  Predefined. */
-
-/* PR_USART1_bm  Predefined. */
-/* PR_USART1_bp  Predefined. */
-
 /* PR_USART0_bm  Predefined. */
 /* PR_USART0_bp  Predefined. */
 
 /* PR_SPI_bm  Predefined. */
 /* PR_SPI_bp  Predefined. */
 
-/* PR_HIRES_bm  Predefined. */
-/* PR_HIRES_bp  Predefined. */
-
-/* PR_TC1_bm  Predefined. */
-/* PR_TC1_bp  Predefined. */
-
 /* PR_TC0_bm  Predefined. */
 /* PR_TC0_bp  Predefined. */
 
-
 /* PR.PRPE  bit masks and bit positions */
 /* PR_TWI_bm  Predefined. */
 /* PR_TWI_bp  Predefined. */
 
-/* PR_USART1_bm  Predefined. */
-/* PR_USART1_bp  Predefined. */
-
 /* PR_USART0_bm  Predefined. */
 /* PR_USART0_bp  Predefined. */
 
-/* PR_SPI_bm  Predefined. */
-/* PR_SPI_bp  Predefined. */
-
-/* PR_HIRES_bm  Predefined. */
-/* PR_HIRES_bp  Predefined. */
-
-/* PR_TC1_bm  Predefined. */
-/* PR_TC1_bp  Predefined. */
-
 /* PR_TC0_bm  Predefined. */
 /* PR_TC0_bp  Predefined. */
 
-
 /* PR.PRPF  bit masks and bit positions */
-/* PR_TWI_bm  Predefined. */
-/* PR_TWI_bp  Predefined. */
-
-/* PR_USART1_bm  Predefined. */
-/* PR_USART1_bp  Predefined. */
-
 /* PR_USART0_bm  Predefined. */
 /* PR_USART0_bp  Predefined. */
 
-/* PR_SPI_bm  Predefined. */
-/* PR_SPI_bp  Predefined. */
-
-/* PR_HIRES_bm  Predefined. */
-/* PR_HIRES_bp  Predefined. */
-
-/* PR_TC1_bm  Predefined. */
-/* PR_TC1_bp  Predefined. */
-
 /* PR_TC0_bm  Predefined. */
 /* PR_TC0_bp  Predefined. */
 
-
 /* SLEEP - Sleep Controller */
 /* SLEEP.CTRL  bit masks and bit positions */
 #define SLEEP_SMODE_gm  0x0E  /* Sleep Mode group mask. */
@@ -3311,6 +3289,37 @@ IO Module Instances. Mapped to memory.
 #define PMIC_LOLVLEN_bp  0  /* Low Level Enable bit position. */
 
 
+/* CRC - Cyclic Redundancy Checker */
+/* CRC.CTRL  bit masks and bit positions */
+#define CRC_RESET_gm  0xC0  /* Reset group mask. */
+#define CRC_RESET_gp  6  /* Reset group position. */
+#define CRC_RESET0_bm  (1<<6)  /* Reset bit 0 mask. */
+#define CRC_RESET0_bp  6  /* Reset bit 0 position. */
+#define CRC_RESET1_bm  (1<<7)  /* Reset bit 1 mask. */
+#define CRC_RESET1_bp  7  /* Reset bit 1 position. */
+
+#define CRC_CRC32_bm  0x20  /* CRC Mode bit mask. */
+#define CRC_CRC32_bp  5  /* CRC Mode bit position. */
+
+#define CRC_SOURCE_gm  0x0F  /* Input Source group mask. */
+#define CRC_SOURCE_gp  0  /* Input Source group position. */
+#define CRC_SOURCE0_bm  (1<<0)  /* Input Source bit 0 mask. */
+#define CRC_SOURCE0_bp  0  /* Input Source bit 0 position. */
+#define CRC_SOURCE1_bm  (1<<1)  /* Input Source bit 1 mask. */
+#define CRC_SOURCE1_bp  1  /* Input Source bit 1 position. */
+#define CRC_SOURCE2_bm  (1<<2)  /* Input Source bit 2 mask. */
+#define CRC_SOURCE2_bp  2  /* Input Source bit 2 position. */
+#define CRC_SOURCE3_bm  (1<<3)  /* Input Source bit 3 mask. */
+#define CRC_SOURCE3_bp  3  /* Input Source bit 3 position. */
+
+/* CRC.STATUS  bit masks and bit positions */
+#define CRC_ZERO_bm  0x02  /* Zero detection bit mask. */
+#define CRC_ZERO_bp  1  /* Zero detection bit position. */
+
+#define CRC_BUSY_bm  0x01  /* Busy bit mask. */
+#define CRC_BUSY_bp  0  /* Busy bit position. */
+
+
 /* EVSYS - Event System */
 /* EVSYS.CH0MUX  bit masks and bit positions */
 #define EVSYS_CHMUX_gm  0xFF  /* Event Channel 0 Multiplexer group mask. */
diff --git a/include/avr/iox16a4.h b/include/avr/iox16a4.h
index 38df6f9..d55049e 100644
--- a/include/avr/iox16a4.h
+++ b/include/avr/iox16a4.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iox16a4.h 2200 2010-12-14 04:24:24Z arcanum $ */
+/* $Id$ */
 
 /* avr/iox16a4.h - definitions for ATxmega16A4 */
 
diff --git a/include/avr/iox16d4.h b/include/avr/iox16d4.h
index 7518428..3db7f2a 100644
--- a/include/avr/iox16d4.h
+++ b/include/avr/iox16d4.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iox16d4.h 2200 2010-12-14 04:24:24Z arcanum $ */
+/* $Id$ */
 
 /* avr/iox16d4.h - definitions for ATxmega16D4 */
 
diff --git a/include/avr/iox192a3.h b/include/avr/iox192a3.h
index 35e9b4e..59e25a8 100644
--- a/include/avr/iox192a3.h
+++ b/include/avr/iox192a3.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iox192a3.h 2218 2011-02-21 19:43:03Z arcanum $ */
+/* $Id$ */
 
 /* avr/iox192a3.h - definitions for ATxmega192A3 */
 
diff --git a/include/avr/iox192d3.h b/include/avr/iox192d3.h
index 874685f..fd03088 100644
--- a/include/avr/iox192d3.h
+++ b/include/avr/iox192d3.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iox192d3.h 2194 2010-11-16 15:10:51Z arcanum $ */
+/* $Id$ */
 
 /* avr/iox192d3.h - definitions for ATxmega192D3 */
 
@@ -174,7 +174,7 @@ typedef struct PR_struct
 {
     register8_t PRGEN;  /* General Power Reduction */
     register8_t PRPA;  /* Power Reduction Port A */
-    register8_t PRPB;  /* Power Reduction Port B */
+    register8_t reserved_0x02;
     register8_t PRPC;  /* Power Reduction Port C */
     register8_t PRPD;  /* Power Reduction Port D */
     register8_t PRPE;  /* Power Reduction Port E */
@@ -416,6 +416,46 @@ typedef struct PMIC_struct
 
 /*
 --------------------------------------------------------------------------
+CRC - Cyclic Redundancy Checker
+--------------------------------------------------------------------------
+*/
+
+/* Cyclic Redundancy Checker */
+typedef struct CRC_struct
+{
+    register8_t CTRL;  /* Control Register */
+    register8_t STATUS;  /* Status Register */
+    register8_t reserved_0x02;
+    register8_t DATAIN;  /* Data Input */
+    register8_t CHECKSUM0;  /* Checksum byte 0 */
+    register8_t CHECKSUM1;  /* Checksum byte 1 */
+    register8_t CHECKSUM2;  /* Checksum byte 2 */
+    register8_t CHECKSUM3;  /* Checksum byte 3 */
+} CRC_t;
+
+/* Reset */
+typedef enum CRC_RESET_enum
+{
+    CRC_RESET_NO_gc = (0x00<<6),  /* No Reset */
+    CRC_RESET_RESET0_gc = (0x02<<6),  /* Reset CRC with CHECKSUM to all zeros */
+    CRC_RESET_RESET1_gc = (0x03<<6),  /* Reset CRC with CHECKSUM to all ones */
+} CRC_RESET_t;
+
+/* Input Source */
+typedef enum CRC_SOURCE_enum
+{
+    CRC_SOURCE_DISABLE_gc = (0x00<<0),  /* Disabled */
+    CRC_SOURCE_IO_gc = (0x01<<0),  /* I/O Interface */
+    CRC_SOURCE_FLASH_gc = (0x02<<0),  /* Flash */
+    CRC_SOURCE_DMAC0_gc = (0x04<<0),  /* DMAC Channel 0 */
+    CRC_SOURCE_DMAC1_gc = (0x05<<0),  /* DMAC Channel 1 */
+    CRC_SOURCE_DMAC2_gc = (0x06<<0),  /* DMAC Channel 2 */
+    CRC_SOURCE_DMAC3_gc = (0x07<<0),  /* DMAC Channel 3 */
+} CRC_SOURCE_t;
+
+
+/*
+--------------------------------------------------------------------------
 EVSYS - Event System
 --------------------------------------------------------------------------
 */
@@ -2180,6 +2220,7 @@ IO Module Instances. Mapped to memory.
 #define MCU    (*(MCU_t *) 0x0090)  /* MCU Control */
 #define PMIC    (*(PMIC_t *) 0x00A0)  /* Programmable Interrupt Controller */
 #define PORTCFG    (*(PORTCFG_t *) 0x00B0)  /* Port Configuration */
+#define CRC    (*(CRC_t *) 0x00D0)  /* Cyclic Redundancy Checker */
 #define EVSYS    (*(EVSYS_t *) 0x0180)  /* Event System */
 #define NVM    (*(NVM_t *) 0x01C0)  /* Non Volatile Memory Controller */
 #define ADCA    (*(ADC_t *) 0x0200)  /* Analog to Digital Converter A */
@@ -2309,7 +2350,6 @@ IO Module Instances. Mapped to memory.
 /* PR - Power Reduction */
 #define PR_PRGEN  _SFR_MEM8(0x0070)
 #define PR_PRPA  _SFR_MEM8(0x0071)
-#define PR_PRPB  _SFR_MEM8(0x0072)
 #define PR_PRPC  _SFR_MEM8(0x0073)
 #define PR_PRPD  _SFR_MEM8(0x0074)
 #define PR_PRPE  _SFR_MEM8(0x0075)
@@ -2345,6 +2385,15 @@ IO Module Instances. Mapped to memory.
 #define PORTCFG_VPCTRLB  _SFR_MEM8(0x00B3)
 #define PORTCFG_CLKEVOUT  _SFR_MEM8(0x00B4)
 
+/* CRC - Cyclic Redundancy Checker */
+#define CRC_CTRL  _SFR_MEM8(0x00D0)
+#define CRC_STATUS  _SFR_MEM8(0x00D1)
+#define CRC_DATAIN  _SFR_MEM8(0x00D3)
+#define CRC_CHECKSUM0  _SFR_MEM8(0x00D4)
+#define CRC_CHECKSUM1  _SFR_MEM8(0x00D5)
+#define CRC_CHECKSUM2  _SFR_MEM8(0x00D6)
+#define CRC_CHECKSUM3  _SFR_MEM8(0x00D7)
+
 /* EVSYS - Event System */
 #define EVSYS_CH0MUX  _SFR_MEM8(0x0180)
 #define EVSYS_CH1MUX  _SFR_MEM8(0x0181)
@@ -2901,59 +2950,31 @@ IO Module Instances. Mapped to memory.
 
 
 /* PR.PRGEN  bit masks and bit positions */
-#define PR_AES_bm  0x10  /* AES bit mask. */
-#define PR_AES_bp  4  /* AES bit position. */
-
-#define PR_EBI_bm  0x08  /* External Bus Interface bit mask. */
-#define PR_EBI_bp  3  /* External Bus Interface bit position. */
-
 #define PR_RTC_bm  0x04  /* Real-time Counter bit mask. */
 #define PR_RTC_bp  2  /* Real-time Counter bit position. */
 
 #define PR_EVSYS_bm  0x02  /* Event System bit mask. */
 #define PR_EVSYS_bp  1  /* Event System bit position. */
 
-#define PR_DMA_bm  0x01  /* DMA-Controller bit mask. */
-#define PR_DMA_bp  0  /* DMA-Controller bit position. */
-
-
 /* PR.PRPA  bit masks and bit positions */
-#define PR_DAC_bm  0x04  /* Port A DAC bit mask. */
-#define PR_DAC_bp  2  /* Port A DAC bit position. */
-
 #define PR_ADC_bm  0x02  /* Port A ADC bit mask. */
 #define PR_ADC_bp  1  /* Port A ADC bit position. */
 
 #define PR_AC_bm  0x01  /* Port A Analog Comparator bit mask. */
 #define PR_AC_bp  0  /* Port A Analog Comparator bit position. */
 
-
-/* PR.PRPB  bit masks and bit positions */
-/* PR_DAC_bm  Predefined. */
-/* PR_DAC_bp  Predefined. */
-
-/* PR_ADC_bm  Predefined. */
-/* PR_ADC_bp  Predefined. */
-
-/* PR_AC_bm  Predefined. */
-/* PR_AC_bp  Predefined. */
-
-
 /* PR.PRPC  bit masks and bit positions */
 #define PR_TWI_bm  0x40  /* Port C Two-wire Interface bit mask. */
 #define PR_TWI_bp  6  /* Port C Two-wire Interface bit position. */
 
-#define PR_USART1_bm  0x20  /* Port C USART1 bit mask. */
-#define PR_USART1_bp  5  /* Port C USART1 bit position. */
-
 #define PR_USART0_bm  0x10  /* Port C USART0 bit mask. */
 #define PR_USART0_bp  4  /* Port C USART0 bit position. */
 
 #define PR_SPI_bm  0x08  /* Port C SPI bit mask. */
 #define PR_SPI_bp  3  /* Port C SPI bit position. */
 
-#define PR_HIRES_bm  0x04  /* Port C AWEX bit mask. */
-#define PR_HIRES_bp  2  /* Port C AWEX bit position. */
+#define PR_HIRES_bm  0x04  /* Port C HIRES bit mask. */
+#define PR_HIRES_bp  2  /* Port C HIRES bit position. */
 
 #define PR_TC1_bm  0x02  /* Port C Timer/Counter1 bit mask. */
 #define PR_TC1_bp  1  /* Port C Timer/Counter1 bit position. */
@@ -2961,76 +2982,33 @@ IO Module Instances. Mapped to memory.
 #define PR_TC0_bm  0x01  /* Port C Timer/Counter0 bit mask. */
 #define PR_TC0_bp  0  /* Port C Timer/Counter0 bit position. */
 
-
 /* PR.PRPD  bit masks and bit positions */
-/* PR_TWI_bm  Predefined. */
-/* PR_TWI_bp  Predefined. */
-
-/* PR_USART1_bm  Predefined. */
-/* PR_USART1_bp  Predefined. */
-
 /* PR_USART0_bm  Predefined. */
 /* PR_USART0_bp  Predefined. */
 
 /* PR_SPI_bm  Predefined. */
 /* PR_SPI_bp  Predefined. */
 
-/* PR_HIRES_bm  Predefined. */
-/* PR_HIRES_bp  Predefined. */
-
-/* PR_TC1_bm  Predefined. */
-/* PR_TC1_bp  Predefined. */
-
 /* PR_TC0_bm  Predefined. */
 /* PR_TC0_bp  Predefined. */
 
-
 /* PR.PRPE  bit masks and bit positions */
 /* PR_TWI_bm  Predefined. */
 /* PR_TWI_bp  Predefined. */
 
-/* PR_USART1_bm  Predefined. */
-/* PR_USART1_bp  Predefined. */
-
 /* PR_USART0_bm  Predefined. */
 /* PR_USART0_bp  Predefined. */
 
-/* PR_SPI_bm  Predefined. */
-/* PR_SPI_bp  Predefined. */
-
-/* PR_HIRES_bm  Predefined. */
-/* PR_HIRES_bp  Predefined. */
-
-/* PR_TC1_bm  Predefined. */
-/* PR_TC1_bp  Predefined. */
-
 /* PR_TC0_bm  Predefined. */
 /* PR_TC0_bp  Predefined. */
 
-
 /* PR.PRPF  bit masks and bit positions */
-/* PR_TWI_bm  Predefined. */
-/* PR_TWI_bp  Predefined. */
-
-/* PR_USART1_bm  Predefined. */
-/* PR_USART1_bp  Predefined. */
-
 /* PR_USART0_bm  Predefined. */
 /* PR_USART0_bp  Predefined. */
 
-/* PR_SPI_bm  Predefined. */
-/* PR_SPI_bp  Predefined. */
-
-/* PR_HIRES_bm  Predefined. */
-/* PR_HIRES_bp  Predefined. */
-
-/* PR_TC1_bm  Predefined. */
-/* PR_TC1_bp  Predefined. */
-
 /* PR_TC0_bm  Predefined. */
 /* PR_TC0_bp  Predefined. */
 
-
 /* SLEEP - Sleep Controller */
 /* SLEEP.CTRL  bit masks and bit positions */
 #define SLEEP_SMODE_gm  0x0E  /* Sleep Mode group mask. */
@@ -3311,6 +3289,37 @@ IO Module Instances. Mapped to memory.
 #define PMIC_LOLVLEN_bp  0  /* Low Level Enable bit position. */
 
 
+/* CRC - Cyclic Redundancy Checker */
+/* CRC.CTRL  bit masks and bit positions */
+#define CRC_RESET_gm  0xC0  /* Reset group mask. */
+#define CRC_RESET_gp  6  /* Reset group position. */
+#define CRC_RESET0_bm  (1<<6)  /* Reset bit 0 mask. */
+#define CRC_RESET0_bp  6  /* Reset bit 0 position. */
+#define CRC_RESET1_bm  (1<<7)  /* Reset bit 1 mask. */
+#define CRC_RESET1_bp  7  /* Reset bit 1 position. */
+
+#define CRC_CRC32_bm  0x20  /* CRC Mode bit mask. */
+#define CRC_CRC32_bp  5  /* CRC Mode bit position. */
+
+#define CRC_SOURCE_gm  0x0F  /* Input Source group mask. */
+#define CRC_SOURCE_gp  0  /* Input Source group position. */
+#define CRC_SOURCE0_bm  (1<<0)  /* Input Source bit 0 mask. */
+#define CRC_SOURCE0_bp  0  /* Input Source bit 0 position. */
+#define CRC_SOURCE1_bm  (1<<1)  /* Input Source bit 1 mask. */
+#define CRC_SOURCE1_bp  1  /* Input Source bit 1 position. */
+#define CRC_SOURCE2_bm  (1<<2)  /* Input Source bit 2 mask. */
+#define CRC_SOURCE2_bp  2  /* Input Source bit 2 position. */
+#define CRC_SOURCE3_bm  (1<<3)  /* Input Source bit 3 mask. */
+#define CRC_SOURCE3_bp  3  /* Input Source bit 3 position. */
+
+/* CRC.STATUS  bit masks and bit positions */
+#define CRC_ZERO_bm  0x02  /* Zero detection bit mask. */
+#define CRC_ZERO_bp  1  /* Zero detection bit position. */
+
+#define CRC_BUSY_bm  0x01  /* Busy bit mask. */
+#define CRC_BUSY_bp  0  /* Busy bit position. */
+
+
 /* EVSYS - Event System */
 /* EVSYS.CH0MUX  bit masks and bit positions */
 #define EVSYS_CHMUX_gm  0xFF  /* Event Channel 0 Multiplexer group mask. */
diff --git a/include/avr/iox256a3.h b/include/avr/iox256a3.h
index 1048d46..3c3d44e 100644
--- a/include/avr/iox256a3.h
+++ b/include/avr/iox256a3.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iox256a3.h 2200 2010-12-14 04:24:24Z arcanum $ */
+/* $Id$ */
 
 /* avr/iox256a3.h - definitions for ATxmega256A3 */
 
diff --git a/include/avr/iox256a3b.h b/include/avr/iox256a3b.h
index aac039d..b186b0b 100644
--- a/include/avr/iox256a3b.h
+++ b/include/avr/iox256a3b.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iox256a3b.h 2200 2010-12-14 04:24:24Z arcanum $ */
+/* $Id$ */
 
 /* avr/iox256a3b.h - definitions for ATxmega256A3B */
 
diff --git a/include/avr/iox256d3.h b/include/avr/iox256d3.h
index 72e167b..2025a28 100644
--- a/include/avr/iox256d3.h
+++ b/include/avr/iox256d3.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iox256d3.h 2162 2010-06-11 17:26:12Z arcanum $ */
+/* $Id$ */
 
 /* avr/iox256d3.h - definitions for ATxmega256D3 */
 
@@ -163,6 +163,19 @@ typedef struct CLK_struct
     register8_t RTCCTRL;  /* RTC Control Register */
 } CLK_t;
 
+
+/* Power Reduction */
+typedef struct PR_struct
+{
+    register8_t PRGEN;  /* General Power Reduction */
+    register8_t PRPA;  /* Power Reduction Port A */
+    register8_t reserved_0x02;
+    register8_t PRPC;  /* Power Reduction Port C */
+    register8_t PRPD;  /* Power Reduction Port D */
+    register8_t PRPE;  /* Power Reduction Port E */
+    register8_t PRPF;  /* Power Reduction Port F */
+} PR_t;
+
 /* System Clock Selection */
 typedef enum CLK_SCLKSEL_enum
 {
@@ -398,6 +411,46 @@ typedef struct PMIC_struct
 
 /*
 --------------------------------------------------------------------------
+CRC - Cyclic Redundancy Checker
+--------------------------------------------------------------------------
+*/
+
+/* Cyclic Redundancy Checker */
+typedef struct CRC_struct
+{
+    register8_t CTRL;  /* Control Register */
+    register8_t STATUS;  /* Status Register */
+    register8_t reserved_0x02;
+    register8_t DATAIN;  /* Data Input */
+    register8_t CHECKSUM0;  /* Checksum byte 0 */
+    register8_t CHECKSUM1;  /* Checksum byte 1 */
+    register8_t CHECKSUM2;  /* Checksum byte 2 */
+    register8_t CHECKSUM3;  /* Checksum byte 3 */
+} CRC_t;
+
+/* Reset */
+typedef enum CRC_RESET_enum
+{
+    CRC_RESET_NO_gc = (0x00<<6),  /* No Reset */
+    CRC_RESET_RESET0_gc = (0x02<<6),  /* Reset CRC with CHECKSUM to all zeros */
+    CRC_RESET_RESET1_gc = (0x03<<6),  /* Reset CRC with CHECKSUM to all ones */
+} CRC_RESET_t;
+
+/* Input Source */
+typedef enum CRC_SOURCE_enum
+{
+    CRC_SOURCE_DISABLE_gc = (0x00<<0),  /* Disabled */
+    CRC_SOURCE_IO_gc = (0x01<<0),  /* I/O Interface */
+    CRC_SOURCE_FLASH_gc = (0x02<<0),  /* Flash */
+    CRC_SOURCE_DMAC0_gc = (0x04<<0),  /* DMAC Channel 0 */
+    CRC_SOURCE_DMAC1_gc = (0x05<<0),  /* DMAC Channel 1 */
+    CRC_SOURCE_DMAC2_gc = (0x06<<0),  /* DMAC Channel 2 */
+    CRC_SOURCE_DMAC3_gc = (0x07<<0),  /* DMAC Channel 3 */
+} CRC_SOURCE_t;
+
+
+/*
+--------------------------------------------------------------------------
 EVSYS - Event System
 --------------------------------------------------------------------------
 */
@@ -2144,6 +2197,7 @@ IO Module Instances. Mapped to memory.
 #define MCU    (*(MCU_t *) 0x0090)  /* MCU Control */
 #define PMIC    (*(PMIC_t *) 0x00A0)  /* Programmable Interrupt Controller */
 #define PORTCFG    (*(PORTCFG_t *) 0x00B0)  /* Port Configuration */
+#define CRC    (*(CRC_t *) 0x00D0)  /* Cyclic Redundancy Checker */
 #define EVSYS    (*(EVSYS_t *) 0x0180)  /* Event System */
 #define NVM    (*(NVM_t *) 0x01C0)  /* Non Volatile Memory Controller */
 #define ADCA    (*(ADC_t *) 0x0200)  /* Analog to Digital Converter A */
@@ -2270,6 +2324,14 @@ IO Module Instances. Mapped to memory.
 #define DFLLRC2M_COMP1  _SFR_MEM8(0x006D)
 #define DFLLRC2M_COMP2  _SFR_MEM8(0x006E)
 
+/* PR - Power Reduction */
+#define PR_PRGEN  _SFR_MEM8(0x0070)
+#define PR_PRPA  _SFR_MEM8(0x0071)
+#define PR_PRPC  _SFR_MEM8(0x0073)
+#define PR_PRPD  _SFR_MEM8(0x0074)
+#define PR_PRPE  _SFR_MEM8(0x0075)
+#define PR_PRPF  _SFR_MEM8(0x0076)
+
 /* RST - Reset Controller */
 #define RST_STATUS  _SFR_MEM8(0x0078)
 #define RST_CTRL  _SFR_MEM8(0x0079)
@@ -2300,6 +2362,15 @@ IO Module Instances. Mapped to memory.
 #define PORTCFG_VPCTRLB  _SFR_MEM8(0x00B3)
 #define PORTCFG_CLKEVOUT  _SFR_MEM8(0x00B4)
 
+/* CRC - Cyclic Redundancy Checker */
+#define CRC_CTRL  _SFR_MEM8(0x00D0)
+#define CRC_STATUS  _SFR_MEM8(0x00D1)
+#define CRC_DATAIN  _SFR_MEM8(0x00D3)
+#define CRC_CHECKSUM0  _SFR_MEM8(0x00D4)
+#define CRC_CHECKSUM1  _SFR_MEM8(0x00D5)
+#define CRC_CHECKSUM2  _SFR_MEM8(0x00D6)
+#define CRC_CHECKSUM3  _SFR_MEM8(0x00D7)
+
 /* EVSYS - Event System */
 #define EVSYS_CH0MUX  _SFR_MEM8(0x0180)
 #define EVSYS_CH1MUX  _SFR_MEM8(0x0181)
@@ -2855,6 +2926,65 @@ IO Module Instances. Mapped to memory.
 #define CLK_RTCEN_bm  0x01  /* RTC Clock Source Enable bit mask. */
 #define CLK_RTCEN_bp  0  /* RTC Clock Source Enable bit position. */
 
+/* PR.PRGEN  bit masks and bit positions */
+#define PR_RTC_bm  0x04  /* Real-time Counter bit mask. */
+#define PR_RTC_bp  2  /* Real-time Counter bit position. */
+
+#define PR_EVSYS_bm  0x02  /* Event System bit mask. */
+#define PR_EVSYS_bp  1  /* Event System bit position. */
+
+/* PR.PRPA  bit masks and bit positions */
+#define PR_ADC_bm  0x02  /* Port A ADC bit mask. */
+#define PR_ADC_bp  1  /* Port A ADC bit position. */
+
+#define PR_AC_bm  0x01  /* Port A Analog Comparator bit mask. */
+#define PR_AC_bp  0  /* Port A Analog Comparator bit position. */
+
+/* PR.PRPC  bit masks and bit positions */
+#define PR_TWI_bm  0x40  /* Port C Two-wire Interface bit mask. */
+#define PR_TWI_bp  6  /* Port C Two-wire Interface bit position. */
+
+#define PR_USART0_bm  0x10  /* Port C USART0 bit mask. */
+#define PR_USART0_bp  4  /* Port C USART0 bit position. */
+
+#define PR_SPI_bm  0x08  /* Port C SPI bit mask. */
+#define PR_SPI_bp  3  /* Port C SPI bit position. */
+
+#define PR_HIRES_bm  0x04  /* Port C HIRES bit mask. */
+#define PR_HIRES_bp  2  /* Port C HIRES bit position. */
+
+#define PR_TC1_bm  0x02  /* Port C Timer/Counter1 bit mask. */
+#define PR_TC1_bp  1  /* Port C Timer/Counter1 bit position. */
+
+#define PR_TC0_bm  0x01  /* Port C Timer/Counter0 bit mask. */
+#define PR_TC0_bp  0  /* Port C Timer/Counter0 bit position. */
+
+/* PR.PRPD  bit masks and bit positions */
+/* PR_USART0_bm  Predefined. */
+/* PR_USART0_bp  Predefined. */
+
+/* PR_SPI_bm  Predefined. */
+/* PR_SPI_bp  Predefined. */
+
+/* PR_TC0_bm  Predefined. */
+/* PR_TC0_bp  Predefined. */
+
+/* PR.PRPE  bit masks and bit positions */
+/* PR_TWI_bm  Predefined. */
+/* PR_TWI_bp  Predefined. */
+
+/* PR_USART0_bm  Predefined. */
+/* PR_USART0_bp  Predefined. */
+
+/* PR_TC0_bm  Predefined. */
+/* PR_TC0_bp  Predefined. */
+
+/* PR.PRPF  bit masks and bit positions */
+/* PR_USART0_bm  Predefined. */
+/* PR_USART0_bp  Predefined. */
+
+/* PR_TC0_bm  Predefined. */
+/* PR_TC0_bp  Predefined. */
 
 /* SLEEP - Sleep Controller */
 /* SLEEP.CTRL  bit masks and bit positions */
@@ -3136,6 +3266,37 @@ IO Module Instances. Mapped to memory.
 #define PMIC_LOLVLEN_bp  0  /* Low Level Enable bit position. */
 
 
+/* CRC - Cyclic Redundancy Checker */
+/* CRC.CTRL  bit masks and bit positions */
+#define CRC_RESET_gm  0xC0  /* Reset group mask. */
+#define CRC_RESET_gp  6  /* Reset group position. */
+#define CRC_RESET0_bm  (1<<6)  /* Reset bit 0 mask. */
+#define CRC_RESET0_bp  6  /* Reset bit 0 position. */
+#define CRC_RESET1_bm  (1<<7)  /* Reset bit 1 mask. */
+#define CRC_RESET1_bp  7  /* Reset bit 1 position. */
+
+#define CRC_CRC32_bm  0x20  /* CRC Mode bit mask. */
+#define CRC_CRC32_bp  5  /* CRC Mode bit position. */
+
+#define CRC_SOURCE_gm  0x0F  /* Input Source group mask. */
+#define CRC_SOURCE_gp  0  /* Input Source group position. */
+#define CRC_SOURCE0_bm  (1<<0)  /* Input Source bit 0 mask. */
+#define CRC_SOURCE0_bp  0  /* Input Source bit 0 position. */
+#define CRC_SOURCE1_bm  (1<<1)  /* Input Source bit 1 mask. */
+#define CRC_SOURCE1_bp  1  /* Input Source bit 1 position. */
+#define CRC_SOURCE2_bm  (1<<2)  /* Input Source bit 2 mask. */
+#define CRC_SOURCE2_bp  2  /* Input Source bit 2 position. */
+#define CRC_SOURCE3_bm  (1<<3)  /* Input Source bit 3 mask. */
+#define CRC_SOURCE3_bp  3  /* Input Source bit 3 position. */
+
+/* CRC.STATUS  bit masks and bit positions */
+#define CRC_ZERO_bm  0x02  /* Zero detection bit mask. */
+#define CRC_ZERO_bp  1  /* Zero detection bit position. */
+
+#define CRC_BUSY_bm  0x01  /* Busy bit mask. */
+#define CRC_BUSY_bp  0  /* Busy bit position. */
+
+
 /* EVSYS - Event System */
 /* EVSYS.CH0MUX  bit masks and bit positions */
 #define EVSYS_CHMUX_gm  0xFF  /* Event Channel 0 Multiplexer group mask. */
diff --git a/include/avr/iox32a4.h b/include/avr/iox32a4.h
index d27bde1..65c11ec 100644
--- a/include/avr/iox32a4.h
+++ b/include/avr/iox32a4.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iox32a4.h 2200 2010-12-14 04:24:24Z arcanum $ */
+/* $Id$ */
 
 /* avr/iox32a4.h - definitions for ATxmega32A4 */
 
diff --git a/include/avr/iox32d4.h b/include/avr/iox32d4.h
index efc25b9..1cfe10d 100644
--- a/include/avr/iox32d4.h
+++ b/include/avr/iox32d4.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iox32d4.h 2200 2010-12-14 04:24:24Z arcanum $ */
+/* $Id$ */
 
 /* avr/iox32d4.h - definitions for ATxmega32D4 */
 
diff --git a/include/avr/iox64a1.h b/include/avr/iox64a1.h
index f0138e7..0a791de 100644
--- a/include/avr/iox64a1.h
+++ b/include/avr/iox64a1.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iox64a1.h 2260 2011-11-02 16:53:30Z arcanum $ */
+/* $Id$ */
 
 /* avr/iox64a1.h - definitions for ATxmega64A1 */
 
diff --git a/include/avr/iox64a3.h b/include/avr/iox64a3.h
index 336fe76..3122fb4 100644
--- a/include/avr/iox64a3.h
+++ b/include/avr/iox64a3.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iox64a3.h 2200 2010-12-14 04:24:24Z arcanum $ */
+/* $Id$ */
 
 /* avr/iox64a3.h - definitions for ATxmega64A3 */
 
diff --git a/include/avr/iox64d3.h b/include/avr/iox64d3.h
index df6b35e..511ed7d 100644
--- a/include/avr/iox64d3.h
+++ b/include/avr/iox64d3.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: iox64d3.h 2194 2010-11-16 15:10:51Z arcanum $ */
+/* $Id$ */
 
 /* avr/iox64d3.h - definitions for ATxmega64D3 */
 
@@ -174,7 +174,7 @@ typedef struct PR_struct
 {
     register8_t PRGEN;  /* General Power Reduction */
     register8_t PRPA;  /* Power Reduction Port A */
-    register8_t PRPB;  /* Power Reduction Port B */
+    register8_t reserved_0x02;
     register8_t PRPC;  /* Power Reduction Port C */
     register8_t PRPD;  /* Power Reduction Port D */
     register8_t PRPE;  /* Power Reduction Port E */
@@ -416,6 +416,46 @@ typedef struct PMIC_struct
 
 /*
 --------------------------------------------------------------------------
+CRC - Cyclic Redundancy Checker
+--------------------------------------------------------------------------
+*/
+
+/* Cyclic Redundancy Checker */
+typedef struct CRC_struct
+{
+    register8_t CTRL;  /* Control Register */
+    register8_t STATUS;  /* Status Register */
+    register8_t reserved_0x02;
+    register8_t DATAIN;  /* Data Input */
+    register8_t CHECKSUM0;  /* Checksum byte 0 */
+    register8_t CHECKSUM1;  /* Checksum byte 1 */
+    register8_t CHECKSUM2;  /* Checksum byte 2 */
+    register8_t CHECKSUM3;  /* Checksum byte 3 */
+} CRC_t;
+
+/* Reset */
+typedef enum CRC_RESET_enum
+{
+    CRC_RESET_NO_gc = (0x00<<6),  /* No Reset */
+    CRC_RESET_RESET0_gc = (0x02<<6),  /* Reset CRC with CHECKSUM to all zeros */
+    CRC_RESET_RESET1_gc = (0x03<<6),  /* Reset CRC with CHECKSUM to all ones */
+} CRC_RESET_t;
+
+/* Input Source */
+typedef enum CRC_SOURCE_enum
+{
+    CRC_SOURCE_DISABLE_gc = (0x00<<0),  /* Disabled */
+    CRC_SOURCE_IO_gc = (0x01<<0),  /* I/O Interface */
+    CRC_SOURCE_FLASH_gc = (0x02<<0),  /* Flash */
+    CRC_SOURCE_DMAC0_gc = (0x04<<0),  /* DMAC Channel 0 */
+    CRC_SOURCE_DMAC1_gc = (0x05<<0),  /* DMAC Channel 1 */
+    CRC_SOURCE_DMAC2_gc = (0x06<<0),  /* DMAC Channel 2 */
+    CRC_SOURCE_DMAC3_gc = (0x07<<0),  /* DMAC Channel 3 */
+} CRC_SOURCE_t;
+
+
+/*
+--------------------------------------------------------------------------
 EVSYS - Event System
 --------------------------------------------------------------------------
 */
@@ -2180,6 +2220,7 @@ IO Module Instances. Mapped to memory.
 #define MCU    (*(MCU_t *) 0x0090)  /* MCU Control */
 #define PMIC    (*(PMIC_t *) 0x00A0)  /* Programmable Interrupt Controller */
 #define PORTCFG    (*(PORTCFG_t *) 0x00B0)  /* Port Configuration */
+#define CRC    (*(CRC_t *) 0x00D0)  /* Cyclic Redundancy Checker */
 #define EVSYS    (*(EVSYS_t *) 0x0180)  /* Event System */
 #define NVM    (*(NVM_t *) 0x01C0)  /* Non Volatile Memory Controller */
 #define ADCA    (*(ADC_t *) 0x0200)  /* Analog to Digital Converter A */
@@ -2311,7 +2352,6 @@ IO Module Instances. Mapped to memory.
 /* PR - Power Reduction */
 #define PR_PRGEN  _SFR_MEM8(0x0070)
 #define PR_PRPA  _SFR_MEM8(0x0071)
-#define PR_PRPB  _SFR_MEM8(0x0072)
 #define PR_PRPC  _SFR_MEM8(0x0073)
 #define PR_PRPD  _SFR_MEM8(0x0074)
 #define PR_PRPE  _SFR_MEM8(0x0075)
@@ -2347,6 +2387,15 @@ IO Module Instances. Mapped to memory.
 #define PORTCFG_VPCTRLB  _SFR_MEM8(0x00B3)
 #define PORTCFG_CLKEVOUT  _SFR_MEM8(0x00B4)
 
+/* CRC - Cyclic Redundancy Checker */
+#define CRC_CTRL  _SFR_MEM8(0x00D0)
+#define CRC_STATUS  _SFR_MEM8(0x00D1)
+#define CRC_DATAIN  _SFR_MEM8(0x00D3)
+#define CRC_CHECKSUM0  _SFR_MEM8(0x00D4)
+#define CRC_CHECKSUM1  _SFR_MEM8(0x00D5)
+#define CRC_CHECKSUM2  _SFR_MEM8(0x00D6)
+#define CRC_CHECKSUM3  _SFR_MEM8(0x00D7)
+
 /* EVSYS - Event System */
 #define EVSYS_CH0MUX  _SFR_MEM8(0x0180)
 #define EVSYS_CH1MUX  _SFR_MEM8(0x0181)
@@ -2915,59 +2964,31 @@ IO Module Instances. Mapped to memory.
 
 
 /* PR.PRGEN  bit masks and bit positions */
-#define PR_AES_bm  0x10  /* AES bit mask. */
-#define PR_AES_bp  4  /* AES bit position. */
-
-#define PR_EBI_bm  0x08  /* External Bus Interface bit mask. */
-#define PR_EBI_bp  3  /* External Bus Interface bit position. */
-
 #define PR_RTC_bm  0x04  /* Real-time Counter bit mask. */
 #define PR_RTC_bp  2  /* Real-time Counter bit position. */
 
 #define PR_EVSYS_bm  0x02  /* Event System bit mask. */
 #define PR_EVSYS_bp  1  /* Event System bit position. */
 
-#define PR_DMA_bm  0x01  /* DMA-Controller bit mask. */
-#define PR_DMA_bp  0  /* DMA-Controller bit position. */
-
-
 /* PR.PRPA  bit masks and bit positions */
-#define PR_DAC_bm  0x04  /* Port A DAC bit mask. */
-#define PR_DAC_bp  2  /* Port A DAC bit position. */
-
 #define PR_ADC_bm  0x02  /* Port A ADC bit mask. */
 #define PR_ADC_bp  1  /* Port A ADC bit position. */
 
 #define PR_AC_bm  0x01  /* Port A Analog Comparator bit mask. */
 #define PR_AC_bp  0  /* Port A Analog Comparator bit position. */
 
-
-/* PR.PRPB  bit masks and bit positions */
-/* PR_DAC_bm  Predefined. */
-/* PR_DAC_bp  Predefined. */
-
-/* PR_ADC_bm  Predefined. */
-/* PR_ADC_bp  Predefined. */
-
-/* PR_AC_bm  Predefined. */
-/* PR_AC_bp  Predefined. */
-
-
 /* PR.PRPC  bit masks and bit positions */
 #define PR_TWI_bm  0x40  /* Port C Two-wire Interface bit mask. */
 #define PR_TWI_bp  6  /* Port C Two-wire Interface bit position. */
 
-#define PR_USART1_bm  0x20  /* Port C USART1 bit mask. */
-#define PR_USART1_bp  5  /* Port C USART1 bit position. */
-
 #define PR_USART0_bm  0x10  /* Port C USART0 bit mask. */
 #define PR_USART0_bp  4  /* Port C USART0 bit position. */
 
 #define PR_SPI_bm  0x08  /* Port C SPI bit mask. */
 #define PR_SPI_bp  3  /* Port C SPI bit position. */
 
-#define PR_HIRES_bm  0x04  /* Port C AWEX bit mask. */
-#define PR_HIRES_bp  2  /* Port C AWEX bit position. */
+#define PR_HIRES_bm  0x04  /* Port C HIRES bit mask. */
+#define PR_HIRES_bp  2  /* Port C HIRES bit position. */
 
 #define PR_TC1_bm  0x02  /* Port C Timer/Counter1 bit mask. */
 #define PR_TC1_bp  1  /* Port C Timer/Counter1 bit position. */
@@ -2975,76 +2996,33 @@ IO Module Instances. Mapped to memory.
 #define PR_TC0_bm  0x01  /* Port C Timer/Counter0 bit mask. */
 #define PR_TC0_bp  0  /* Port C Timer/Counter0 bit position. */
 
-
 /* PR.PRPD  bit masks and bit positions */
-/* PR_TWI_bm  Predefined. */
-/* PR_TWI_bp  Predefined. */
-
-/* PR_USART1_bm  Predefined. */
-/* PR_USART1_bp  Predefined. */
-
 /* PR_USART0_bm  Predefined. */
 /* PR_USART0_bp  Predefined. */
 
 /* PR_SPI_bm  Predefined. */
 /* PR_SPI_bp  Predefined. */
 
-/* PR_HIRES_bm  Predefined. */
-/* PR_HIRES_bp  Predefined. */
-
-/* PR_TC1_bm  Predefined. */
-/* PR_TC1_bp  Predefined. */
-
 /* PR_TC0_bm  Predefined. */
 /* PR_TC0_bp  Predefined. */
 
-
 /* PR.PRPE  bit masks and bit positions */
 /* PR_TWI_bm  Predefined. */
 /* PR_TWI_bp  Predefined. */
 
-/* PR_USART1_bm  Predefined. */
-/* PR_USART1_bp  Predefined. */
-
 /* PR_USART0_bm  Predefined. */
 /* PR_USART0_bp  Predefined. */
 
-/* PR_SPI_bm  Predefined. */
-/* PR_SPI_bp  Predefined. */
-
-/* PR_HIRES_bm  Predefined. */
-/* PR_HIRES_bp  Predefined. */
-
-/* PR_TC1_bm  Predefined. */
-/* PR_TC1_bp  Predefined. */
-
 /* PR_TC0_bm  Predefined. */
 /* PR_TC0_bp  Predefined. */
 
-
 /* PR.PRPF  bit masks and bit positions */
-/* PR_TWI_bm  Predefined. */
-/* PR_TWI_bp  Predefined. */
-
-/* PR_USART1_bm  Predefined. */
-/* PR_USART1_bp  Predefined. */
-
 /* PR_USART0_bm  Predefined. */
 /* PR_USART0_bp  Predefined. */
 
-/* PR_SPI_bm  Predefined. */
-/* PR_SPI_bp  Predefined. */
-
-/* PR_HIRES_bm  Predefined. */
-/* PR_HIRES_bp  Predefined. */
-
-/* PR_TC1_bm  Predefined. */
-/* PR_TC1_bp  Predefined. */
-
 /* PR_TC0_bm  Predefined. */
 /* PR_TC0_bp  Predefined. */
 
-
 /* SLEEP - Sleep Controller */
 /* SLEEP.CTRL  bit masks and bit positions */
 #define SLEEP_SMODE_gm  0x0E  /* Sleep Mode group mask. */
@@ -3325,6 +3303,37 @@ IO Module Instances. Mapped to memory.
 #define PMIC_LOLVLEN_bp  0  /* Low Level Enable bit position. */
 
 
+/* CRC - Cyclic Redundancy Checker */
+/* CRC.CTRL  bit masks and bit positions */
+#define CRC_RESET_gm  0xC0  /* Reset group mask. */
+#define CRC_RESET_gp  6  /* Reset group position. */
+#define CRC_RESET0_bm  (1<<6)  /* Reset bit 0 mask. */
+#define CRC_RESET0_bp  6  /* Reset bit 0 position. */
+#define CRC_RESET1_bm  (1<<7)  /* Reset bit 1 mask. */
+#define CRC_RESET1_bp  7  /* Reset bit 1 position. */
+
+#define CRC_CRC32_bm  0x20  /* CRC Mode bit mask. */
+#define CRC_CRC32_bp  5  /* CRC Mode bit position. */
+
+#define CRC_SOURCE_gm  0x0F  /* Input Source group mask. */
+#define CRC_SOURCE_gp  0  /* Input Source group position. */
+#define CRC_SOURCE0_bm  (1<<0)  /* Input Source bit 0 mask. */
+#define CRC_SOURCE0_bp  0  /* Input Source bit 0 position. */
+#define CRC_SOURCE1_bm  (1<<1)  /* Input Source bit 1 mask. */
+#define CRC_SOURCE1_bp  1  /* Input Source bit 1 position. */
+#define CRC_SOURCE2_bm  (1<<2)  /* Input Source bit 2 mask. */
+#define CRC_SOURCE2_bp  2  /* Input Source bit 2 position. */
+#define CRC_SOURCE3_bm  (1<<3)  /* Input Source bit 3 mask. */
+#define CRC_SOURCE3_bp  3  /* Input Source bit 3 position. */
+
+/* CRC.STATUS  bit masks and bit positions */
+#define CRC_ZERO_bm  0x02  /* Zero detection bit mask. */
+#define CRC_ZERO_bp  1  /* Zero detection bit position. */
+
+#define CRC_BUSY_bm  0x01  /* Busy bit mask. */
+#define CRC_BUSY_bp  0  /* Busy bit position. */
+
+
 /* EVSYS - Event System */
 /* EVSYS.CH0MUX  bit masks and bit positions */
 #define EVSYS_CHMUX_gm  0xFF  /* Event Channel 0 Multiplexer group mask. */
diff --git a/include/avr/lock.h b/include/avr/lock.h
index 9adc668..25d284e 100644
--- a/include/avr/lock.h
+++ b/include/avr/lock.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: lock.h 1692 2008-04-29 18:07:36Z arcanum $ */
+/* $Id$ */
 
 /* avr/lock.h - Lock Bits API */
 
@@ -187,7 +187,7 @@
 #ifndef __ASSEMBLER__
 
 #ifndef LOCKMEM
-#define LOCKMEM  __attribute__((section (".lock")))
+#define LOCKMEM  __attribute__((__used__, __section__ (".lock")))
 #endif
 
 #ifndef LOCKBITS
diff --git a/include/avr/parity.h b/include/avr/parity.h
index 0d04e57..d7afd34 100644
--- a/include/avr/parity.h
+++ b/include/avr/parity.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: parity.h 933 2005-11-05 22:23:16Z joerg_wunsch $ */
+/* $Id$ */
 
 #ifndef _AVR_PARITY_H_
 #define _AVR_PARITY_H_
diff --git a/include/avr/pgmspace.h b/include/avr/pgmspace.h
index 869481e..cde8ceb 100644
--- a/include/avr/pgmspace.h
+++ b/include/avr/pgmspace.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: pgmspace.h 2270 2011-12-29 08:42:00Z joerg_wunsch $ */
+/* $Id$ */
 
 /*
    pgmspace.h
@@ -408,7 +408,7 @@ typedef uint64_t  prog_uint64_t __attribute__((__progmem__,deprecated("prog_uint
 (__extension__({                \
     uint16_t __addr16 = (uint16_t)(addr); \
     uint8_t __result;           \
-    __asm__                     \
+    __asm__ __volatile__        \
     (                           \
         "lpm" "\n\t"            \
         "mov %0, r0" "\n\t"     \
@@ -419,11 +419,24 @@ typedef uint64_t  prog_uint64_t __attribute__((__progmem__,deprecated("prog_uint
     __result;                   \
 }))
 
+#define __LPM_tiny__(addr)      \
+(__extension__({                \
+    uint16_t __addr16 = (uint16_t)(addr) + __AVR_TINY_PM_BASE_ADDRESS__; \
+    uint8_t __result;           \
+    __asm__                     \
+    (                           \
+        "ld %0, z" "\n\t"       \
+        : "=r" (__result)       \
+        : "z" (__addr16)        \
+    );                          \
+    __result;                   \
+}))
+
 #define __LPM_enhanced__(addr)  \
 (__extension__({                \
     uint16_t __addr16 = (uint16_t)(addr); \
     uint8_t __result;           \
-    __asm__                     \
+    __asm__ __volatile__        \
     (                           \
         "lpm %0, Z" "\n\t"      \
         : "=r" (__result)       \
@@ -436,7 +449,7 @@ typedef uint64_t  prog_uint64_t __attribute__((__progmem__,deprecated("prog_uint
 (__extension__({                            \
     uint16_t __addr16 = (uint16_t)(addr);   \
     uint16_t __result;                      \
-    __asm__                                 \
+    __asm__ __volatile__                    \
     (                                       \
         "lpm"           "\n\t"              \
         "mov %A0, r0"   "\n\t"              \
@@ -450,11 +463,25 @@ typedef uint64_t  prog_uint64_t __attribute__((__progmem__,deprecated("prog_uint
     __result;                               \
 }))
 
+#define __LPM_word_tiny__(addr)             \
+(__extension__({                            \
+    uint16_t __addr16 = (uint16_t)(addr) + __AVR_TINY_PM_BASE_ADDRESS__; \
+    uint16_t __result;                      \
+    __asm__                                 \
+    (                                       \
+        "ld %A0, z+"     "\n\t"             \
+        "ld %B0, z"      "\n\t"             \
+        : "=r" (__result), "=z" (__addr16)  \
+        : "1" (__addr16)                    \
+    );                                      \
+    __result;                               \
+}))
+
 #define __LPM_word_enhanced__(addr)         \
 (__extension__({                            \
     uint16_t __addr16 = (uint16_t)(addr);   \
     uint16_t __result;                      \
-    __asm__                                 \
+    __asm__ __volatile__                    \
     (                                       \
         "lpm %A0, Z+"   "\n\t"              \
         "lpm %B0, Z"    "\n\t"              \
@@ -468,7 +495,7 @@ typedef uint64_t  prog_uint64_t __attribute__((__progmem__,deprecated("prog_uint
 (__extension__({                            \
     uint16_t __addr16 = (uint16_t)(addr);   \
     uint32_t __result;                      \
-    __asm__                                 \
+    __asm__ __volatile__                    \
     (                                       \
         "lpm"           "\n\t"              \
         "mov %A0, r0"   "\n\t"              \
@@ -488,11 +515,27 @@ typedef uint64_t  prog_uint64_t __attribute__((__progmem__,deprecated("prog_uint
     __result;                               \
 }))
 
+#define __LPM_dword_tiny__(addr)            \
+(__extension__({                            \
+    uint16_t __addr16 = (uint16_t)(addr) + __AVR_TINY_PM_BASE_ADDRESS__; \
+    uint32_t __result;                      \
+    __asm__                                 \
+    (                                       \
+        "ld %A0, z+"    "\n\t"              \
+        "ld %B0, z+"    "\n\t"              \
+        "ld %C0, z+"    "\n\t"              \
+        "ld %D0, z"     "\n\t"              \
+        : "=r" (__result), "=z" (__addr16)  \
+        : "1" (__addr16)                    \
+    );                                      \
+    __result;                               \
+}))
+
 #define __LPM_dword_enhanced__(addr)        \
 (__extension__({                            \
     uint16_t __addr16 = (uint16_t)(addr);   \
     uint32_t __result;                      \
-    __asm__                                 \
+    __asm__ __volatile__                    \
     (                                       \
         "lpm %A0, Z+"   "\n\t"              \
         "lpm %B0, Z+"   "\n\t"              \
@@ -508,7 +551,7 @@ typedef uint64_t  prog_uint64_t __attribute__((__progmem__,deprecated("prog_uint
 (__extension__({                            \
     uint16_t __addr16 = (uint16_t)(addr);   \
     float __result;                         \
-    __asm__                                 \
+    __asm__ __volatile__                    \
     (                                       \
         "lpm"           "\n\t"              \
         "mov %A0, r0"   "\n\t"              \
@@ -528,11 +571,27 @@ typedef uint64_t  prog_uint64_t __attribute__((__progmem__,deprecated("prog_uint
     __result;                               \
 }))
 
+#define __LPM_float_tiny__(addr)            \
+(__extension__({                            \
+    uint16_t __addr16 = (uint16_t)(addr) + __AVR_TINY_PM_BASE_ADDRESS__; \
+    float __result;                         \
+    __asm__                                 \
+    (                                       \
+        "ld %A0, z+"   "\n\t"               \
+        "ld %B0, z+"   "\n\t"               \
+        "ld %C0, z+"   "\n\t"               \
+        "ld %D0, z"    "\n\t"               \
+        : "=r" (__result), "=z" (__addr16)  \
+        : "1" (__addr16)                    \
+    );                                      \
+    __result;                               \
+}))
+
 #define __LPM_float_enhanced__(addr)        \
 (__extension__({                            \
     uint16_t __addr16 = (uint16_t)(addr);   \
     float __result;                         \
-    __asm__                                 \
+    __asm__ __volatile__                    \
     (                                       \
         "lpm %A0, Z+"   "\n\t"              \
         "lpm %B0, Z+"   "\n\t"              \
@@ -549,6 +608,20 @@ typedef uint64_t  prog_uint64_t __attribute__((__progmem__,deprecated("prog_uint
 #define __LPM_word(addr)    __LPM_word_enhanced__(addr)
 #define __LPM_dword(addr)   __LPM_dword_enhanced__(addr)
 #define __LPM_float(addr)   __LPM_float_enhanced__(addr)
+/*
+Macro to read data from program memory for avr tiny parts(tiny 4/5/9/10/20/40).
+why:
+- LPM instruction is not available in AVR_TINY instruction set.
+- Programs are executed starting from address 0x0000 in program memory.
+But it must be addressed starting from 0x4000 when accessed via data memory.
+Reference: TINY device (ATTiny 4,5,9,10,20 and 40) datasheets
+Bug: avrtc-536
+*/
+#elif defined (__AVR_TINY__)
+#define __LPM(addr)         __LPM_tiny__(addr)
+#define __LPM_word(addr)    __LPM_word_tiny__(addr)
+#define __LPM_dword(addr)   __LPM_dword_tiny__(addr)
+#define __LPM_float(addr)   __LPM_float_tiny__(addr)
 #else
 #define __LPM(addr)         __LPM_classic__(addr)
 #define __LPM_word(addr)    __LPM_word_classic__(addr)
@@ -590,6 +663,15 @@ typedef uint64_t  prog_uint64_t __attribute__((__progmem__,deprecated("prog_uint
 #define pgm_read_float_near(address_short) \
     __LPM_float((uint16_t)(address_short))
 
+/** \ingroup avr_pgmspace
+    \def pgm_read_ptr_near(address_short)
+    Read a pointer from the program space with a 16-bit (near) address. 
+    \note The address is a byte address. 
+    The address is in the program space. */
+
+#define pgm_read_ptr_near(address_short) \
+    (void*)__LPM_word((uint16_t)(address_short))
+
 #if defined(RAMPZ) || defined(__DOXYGEN__)
 
 /* Only for devices with more than 64K of program memory.
@@ -602,7 +684,7 @@ typedef uint64_t  prog_uint64_t __attribute__((__progmem__,deprecated("prog_uint
 (__extension__({                    \
     uint32_t __addr32 = (uint32_t)(addr); \
     uint8_t __result;               \
-    __asm__                         \
+    __asm__ __volatile__            \
     (                               \
         "out %2, %C1" "\n\t"        \
         "mov r31, %B1" "\n\t"       \
@@ -621,7 +703,7 @@ typedef uint64_t  prog_uint64_t __attribute__((__progmem__,deprecated("prog_uint
 (__extension__({                    \
     uint32_t __addr32 = (uint32_t)(addr); \
     uint8_t __result;               \
-    __asm__                         \
+    __asm__ __volatile__            \
     (                               \
         "out %2, %C1" "\n\t"        \
         "movw r30, %1" "\n\t"       \
@@ -638,7 +720,7 @@ typedef uint64_t  prog_uint64_t __attribute__((__progmem__,deprecated("prog_uint
 (__extension__({                    \
     uint32_t __addr32 = (uint32_t)(addr); \
     uint8_t __result;               \
-    __asm__                         \
+    __asm__ __volatile__            \
     (                               \
         "in __tmp_reg__, %2" "\n\t" \
         "out %2, %C1" "\n\t"        \
@@ -657,7 +739,7 @@ typedef uint64_t  prog_uint64_t __attribute__((__progmem__,deprecated("prog_uint
 (__extension__({                        \
     uint32_t __addr32 = (uint32_t)(addr); \
     uint16_t __result;                  \
-    __asm__                             \
+    __asm__ __volatile__                \
     (                                   \
         "out %2, %C1"   "\n\t"          \
         "mov r31, %B1"  "\n\t"          \
@@ -682,7 +764,7 @@ typedef uint64_t  prog_uint64_t __attribute__((__progmem__,deprecated("prog_uint
 (__extension__({                        \
     uint32_t __addr32 = (uint32_t)(addr); \
     uint16_t __result;                  \
-    __asm__                             \
+    __asm__ __volatile__                \
     (                                   \
         "out %2, %C1"   "\n\t"          \
         "movw r30, %1"  "\n\t"          \
@@ -700,7 +782,7 @@ typedef uint64_t  prog_uint64_t __attribute__((__progmem__,deprecated("prog_uint
 (__extension__({                        \
     uint32_t __addr32 = (uint32_t)(addr); \
     uint16_t __result;                  \
-    __asm__                             \
+    __asm__ __volatile__                \
     (                                   \
         "in __tmp_reg__, %2" "\n\t"     \
         "out %2, %C1"   "\n\t"          \
@@ -720,7 +802,7 @@ typedef uint64_t  prog_uint64_t __attribute__((__progmem__,deprecated("prog_uint
 (__extension__({                          \
     uint32_t __addr32 = (uint32_t)(addr); \
     uint32_t __result;                    \
-    __asm__                               \
+    __asm__ __volatile__                  \
     (                                     \
         "out %2, %C1"          "\n\t"     \
         "mov r31, %B1"         "\n\t"     \
@@ -757,7 +839,7 @@ typedef uint64_t  prog_uint64_t __attribute__((__progmem__,deprecated("prog_uint
 (__extension__({                          \
     uint32_t __addr32 = (uint32_t)(addr); \
     uint32_t __result;                    \
-    __asm__                               \
+    __asm__ __volatile__                  \
     (                                     \
         "out %2, %C1"   "\n\t"            \
         "movw r30, %1"  "\n\t"            \
@@ -777,7 +859,7 @@ typedef uint64_t  prog_uint64_t __attribute__((__progmem__,deprecated("prog_uint
 (__extension__({                          \
     uint32_t __addr32 = (uint32_t)(addr); \
     uint32_t __result;                    \
-    __asm__                               \
+    __asm__ __volatile__                  \
     (                                     \
         "in __tmp_reg__, %2" "\n\t"       \
         "out %2, %C1"   "\n\t"            \
@@ -799,7 +881,7 @@ typedef uint64_t  prog_uint64_t __attribute__((__progmem__,deprecated("prog_uint
 (__extension__({                          \
     uint32_t __addr32 = (uint32_t)(addr); \
     float __result;                       \
-    __asm__                               \
+    __asm__ __volatile__                  \
     (                                     \
         "out %2, %C1"          "\n\t"     \
         "mov r31, %B1"         "\n\t"     \
@@ -836,7 +918,7 @@ typedef uint64_t  prog_uint64_t __attribute__((__progmem__,deprecated("prog_uint
 (__extension__({                          \
     uint32_t __addr32 = (uint32_t)(addr); \
     float __result;                       \
-    __asm__                               \
+    __asm__ __volatile__                  \
     (                                     \
         "out %2, %C1"   "\n\t"            \
         "movw r30, %1"  "\n\t"            \
@@ -856,7 +938,7 @@ typedef uint64_t  prog_uint64_t __attribute__((__progmem__,deprecated("prog_uint
 (__extension__({                          \
     uint32_t __addr32 = (uint32_t)(addr); \
     float __result;                       \
-    __asm__                               \
+    __asm__ __volatile__                  \
     (                                     \
         "in __tmp_reg__, %2" "\n\t"       \
         "out %2, %C1"   "\n\t"            \
@@ -943,6 +1025,15 @@ not interfere with data accesses.
 
 #define pgm_read_float_far(address_long) __ELPM_float((uint32_t)(address_long))
 
+/** \ingroup avr_pgmspace
+    \def pgm_read_ptr_far(address_long)
+    Read a pointer from the program space with a 32-bit (far) address. 
+
+    \note The address is a byte address.
+    The address is in the program space. */
+
+#define pgm_read_ptr_far(address_long) (void*)__ELPM_word((uint32_t)(address_long))
+
 #endif /* RAMPZ or __DOXYGEN__ */
 
 /** \ingroup avr_pgmspace
@@ -981,6 +1072,15 @@ not interfere with data accesses.
 
 #define pgm_read_float(address_short)   pgm_read_float_near(address_short)
 
+/** \ingroup avr_pgmspace
+    \def pgm_read_ptr(address_short)
+    Read a pointer from the program space with a 16-bit (near) address. 
+
+    \note The address is a byte address. 
+    The address is in the program space. */
+
+#define pgm_read_ptr(address_short)     pgm_read_ptr_near(address_short)
+
 /* pgm_get_far_address() macro
 
    This macro facilitates the obtention of a 32 bit "far" pointer (only 24 bits
diff --git a/include/avr/portpins.h b/include/avr/portpins.h
index 6a24830..c179edf 100644
--- a/include/avr/portpins.h
+++ b/include/avr/portpins.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: portpins.h 1936 2009-03-19 22:19:26Z arcanum $ */
+/* $Id$ */
 
 #ifndef _AVR_PORTPINS_H_
 #define _AVR_PORTPINS_H_ 1
diff --git a/include/avr/power.h b/include/avr/power.h
index 76bbd86..166d57e 100644
--- a/include/avr/power.h
+++ b/include/avr/power.h
@@ -1,4 +1,5 @@
 /* Copyright (c) 2006, 2007, 2008  Eric B. Weddington
+   Copyright (c) 2011 Frdric Nadeau
    All rights reserved.
 
    Redistribution and use in source and binary forms, with or without
@@ -26,7 +27,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: power.h 2254 2011-09-26 15:06:50Z arcanum $ */
+/* $Id$ */
 
 #ifndef _AVR_POWER_H_
 #define _AVR_POWER_H_   1
@@ -42,20 +43,28 @@
 
 Many AVRs contain a Power Reduction Register (PRR) or Registers (PRRx) that 
 allow you to reduce power consumption by disabling or enabling various on-board 
-peripherals as needed.
+peripherals as needed. Some devices have the XTAL Divide Control Register
+(XDIV) which offer similar functionality as System Clock Prescale
+Register (CLKPR).
 
 There are many macros in this header file that provide an easy interface
 to enable or disable on-board peripherals to reduce power. See the table below.
 
 \note Not all AVR devices have a Power Reduction Register (for example
-the ATmega128). On those devices without a Power Reduction Register, these 
-macros are not available.
+the ATmega8). On those devices without a Power Reduction Register, the
+power reduction macros are not available..
 
 \note Not all AVR devices contain the same peripherals (for example, the LCD
 interface), or they will be named differently (for example, USART and 
 USART0). Please consult your device's datasheet, or the header file, to 
 find out which macros are applicable to your device.
 
+\note For device using the XTAL Divide Control Register (XDIV), when prescaler
+is used, Timer/Counter0 can only be used in asynchronous mode. Keep in mind
+that Timer/Counter0 source shall be less than th of peripheral clock.
+Therefore, when using a typical 32.768 kHz crystal, one shall not scale
+the clock below 131.072 kHz.
+
 */
 
 
@@ -72,465 +81,1676 @@ find out which macros are applicable to your device.
   </tr>
 
   <tr>
-    <td>power_adc_enable()</td>
-    <td>Enable the Analog to Digital Converter module.</td>
-    <td>ATmega640, ATmega1280, ATmega1281, ATmega128RFA1, ATmega2560, ATmega2561, AT90USB646, AT90USB647, AT90USB1286, AT90USB1287, AT90PWM1, AT90PWM2, AT90PWM2B, AT90PWM3, AT90PWM3B, AT90PWM216, AT90PWM316, AT90PWM81, ATmega165, ATmega165P, ATmega325, ATmega325A, ATmega3250, ATmega3250A, ATmega645, ATmega6450, ATmega169, ATmega169P, ATmega329, ATmega329A, ATmega3290, ATmega3290A, ATmega649, ATmega6490, ATmega164P, ATmega324P, ATmega644, ATmega48, ATmega88, ATmega168, ATtiny24, ATtiny44, ATtiny84, ATtiny84A, ATtiny25, ATtiny45, ATtiny85, ATtiny261, ATtiny461, ATtiny861</td>
+   <td>power_aca_disable()</td>
+    <td> Disable The Analog Comparator On PortA </td>
+    <td>ATxmega16C4, ATxmega32C4, ATxmega32C3, ATxmega64C3, ATxmega128C3, ATxmega192C3, ATxmega256C3, ATxmega16A4, ATxmega16A4U, ATxmega16D4, ATxmega32A4, ATxmega32A4U, ATxmega32D4, ATxmega64A1, ATxmega64A1U, ATxmega64A3, ATxmega64A3U, ATxmega64A4U, ATxmega32D3, ATxmega64D3, ATxmega128A1, ATxmega128A1U, ATxmega128A3, ATxmega128A3U, ATxmega128A4U, ATxmega128D3, ATxmega192A3, ATxmega192A3U, ATxmega192D3, ATxmega256A3, ATxmega256A3U, ATxmega256A3B, ATxmega256A3BU, ATxmega384C3, ATxmega64D4, ATxmega128D4, ATxmega64B1, ATxmega64B3, ATxmega128B1, ATxmega128B3</td>
   </tr>
 
   <tr>
-    <td>power_adc_disable()</td>
-    <td>Disable the Analog to Digital Converter module.</td>
-    <td>ATmega640, ATmega1280, ATmega1281, ATmega128RFA1, ATmega2560, ATmega2561, AT90USB646, AT90USB647, AT90USB1286, AT90USB1287, AT90PWM1, AT90PWM2, AT90PWM2B, AT90PWM3, AT90PWM3B, AT90PWM216, AT90PWM316, AT90PWM81, ATmega165, ATmega165P, ATmega325, ATmega325A, ATmega3250, ATmega3250A, ATmega645, ATmega6450, ATmega169, ATmega169P, ATmega329, ATmega329A, ATmega3290, ATmega3290A, ATmega649, ATmega6490, ATmega164P, ATmega324P, ATmega644, ATmega48, ATmega88, ATmega168, ATtiny24, ATtiny44, ATtiny84, ATtiny84A, ATtiny25, ATtiny45, ATtiny85, ATtiny261, ATtiny461, ATtiny861</td>
+   <td>power_aca_enable()</td>
+    <td> Enable The Analog Comparator On PortA </td>
+    <td>ATxmega16C4, ATxmega32C4, ATxmega32C3, ATxmega64C3, ATxmega128C3, ATxmega192C3, ATxmega256C3, ATxmega16A4, ATxmega16A4U, ATxmega16D4, ATxmega32A4, ATxmega32A4U, ATxmega32D4, ATxmega64A1, ATxmega64A1U, ATxmega64A3, ATxmega64A3U, ATxmega64A4U, ATxmega32D3, ATxmega64D3, ATxmega128A1, ATxmega128A1U, ATxmega128A3, ATxmega128A3U, ATxmega128A4U, ATxmega128D3, ATxmega192A3, ATxmega192A3U, ATxmega192D3, ATxmega256A3, ATxmega256A3U, ATxmega256A3B, ATxmega256A3BU, ATxmega384C3, ATxmega64D4, ATxmega128D4, ATxmega64B1, ATxmega64B3, ATxmega128B1, ATxmega128B3</td>
   </tr>
 
   <tr>
-    <td>power_lcd_enable()</td>
-    <td>Enable the LCD module.</td>
-    <td>ATmega169, ATmega169P, ATmega329, ATmega329A, ATmega3290, ATmega3290A, ATmega649, ATmega6490</td>
+   <td>power_acb_disable()</td>
+    <td> Disable The Analog Comparator On PortB </td>
+    <td>ATxmega16A4, ATxmega16A4U, ATxmega16D4, ATxmega32A4, ATxmega32A4U, ATxmega32D4, ATxmega64A1, ATxmega64A1U, ATxmega64A3, ATxmega64A3U, ATxmega64A4U, ATxmega32D3, ATxmega64D3, ATxmega128A1, ATxmega128A1U, ATxmega128A3, ATxmega128A3U, ATxmega128A4U, ATxmega128D3, ATxmega192A3, ATxmega192A3U, ATxmega192D3, ATxmega256A3, ATxmega256A3U, ATxmega256A3B, ATxmega256A3BU, ATxmega384C3, ATxmega64B1, ATxmega64B3, ATxmega128B1, ATxmega128B3</td>
   </tr>
 
   <tr>
-    <td>power_lcd_disable().</td>
-    <td>Disable the LCD module.</td>
-    <td>ATmega169, ATmega169P, ATmega329, ATmega329A, ATmega3290, ATmega3290A, ATmega649, ATmega6490</td>
+   <td>power_acb_enable()</td>
+    <td> Enable The Analog Comparator On PortB </td>
+    <td>ATxmega16A4, ATxmega16A4U, ATxmega16D4, ATxmega32A4, ATxmega32A4U, ATxmega32D4, ATxmega64A1, ATxmega64A1U, ATxmega64A3, ATxmega64A3U, ATxmega64A4U, ATxmega32D3, ATxmega64D3, ATxmega128A1, ATxmega128A1U, ATxmega128A3, ATxmega128A3U, ATxmega128A4U, ATxmega128D3, ATxmega192A3, ATxmega192A3U, ATxmega192D3, ATxmega256A3, ATxmega256A3U, ATxmega256A3B, ATxmega256A3BU, ATxmega384C3, ATxmega64B1, ATxmega64B3, ATxmega128B1, ATxmega128B3</td>
   </tr>
 
   <tr>
-    <td>power_pscr_enable()</td>
-    <td>Enable the Reduced Power Stage Controller module.</td>
-    <td>AT90PWM81</td>
+   <td>power_adc_disable()</td>
+     <td>Disable the Analog to Digital Converter module.</td>
+    <td>ATmega640, ATmega1280, ATmega1281, ATmega2560, ATmega2561, ATmega128RFA1, AT90USB646, AT90USB647, AT90USB1286, AT90USB1287, ATmega32U4, ATmega16U4, ATmega32U6, AT90PWM1, AT90PWM2, AT90PWM2B, AT90PWM3, AT90PWM3B, AT90PWM216, AT90PWM316, AT90PWM81, AT90PWM161, ATmega165, ATmega165A, ATmega165P, ATmega165PA, ATmega325, ATmega325A, ATmega325PA, ATmega3250, ATmega3250A, ATmega3250PA, ATmega645, ATmega645A, ATmega645P, ATmega6450, ATmega6450A, ATmega6450P, ATmega169, ATmega169A, ATmega169P, ATmega169PA, ATmega329, ATmega329A, ATmega329P, ATmega329PA, ATmega3290, ATmega3290A, ATmega3290P, ATmega3290PA, ATmega649, ATmega649A, ATmega649P, ATmega6490, ATmega6490A, ATmega6490P, ATmega164A, ATmega164P, ATmega324A, ATmega324P, ATmega324PA, ATmega644P, ATmega644A, ATmega644PA, ATmega644, ATmega164PA, ATmega48, ATmega48A, ATmega48PA, ATmega48P, ATmega88, ATmega88A, ATmega88P, ATmega88PA, ATmega168, ATmega168A, ATmega168P, ATmega168PA, ATmega328, ATmega328P, ATtiny48, ATtiny88, ATtiny828, ATtiny441, ATtiny24, ATtiny24A, ATtiny44, ATtiny44A, ATtiny84, ATtiny84A, ATtiny25, ATtiny45, ATtiny85, ATtiny261, ATtiny261A, ATtiny461, ATtiny461A, ATtiny861, ATtiny861A, ATtiny43U, ATmega1284, ATmega1284P, ATmega16M1, ATmega32C1, ATmega32M1, ATmega64C1, ATmega64M1, ATtiny167, ATtiny87, ATA5505, ATA5272, ATA6612C, ATA6613C, ATA6614Q, ATA6616C, ATA6617C, ATA664251, ATtiny1634, ATtiny4, ATtiny5, ATtiny9, ATtiny10, ATtiny13A, ATtiny20, ATtiny40</td>
   </tr>
 
   <tr>
-    <td>power_pscr_disable()</td>
-    <td>Disable the Reduced Power Stage Controller module.</td>
-    <td>AT90PWM81</td>
+   <td>power_adc_enable()</td>
+     <td>Enable the Analog to Digital Converter module.</td>
+    <td>ATmega640, ATmega1280, ATmega1281, ATmega2560, ATmega2561, ATmega128RFA1, AT90USB646, AT90USB647, AT90USB1286, AT90USB1287, ATmega32U4, ATmega16U4, ATmega32U6, AT90PWM1, AT90PWM2, AT90PWM2B, AT90PWM3, AT90PWM3B, AT90PWM216, AT90PWM316, AT90PWM81, AT90PWM161, ATmega165, ATmega165A, ATmega165P, ATmega165PA, ATmega325, ATmega325A, ATmega325PA, ATmega3250, ATmega3250A, ATmega3250PA, ATmega645, ATmega645A, ATmega645P, ATmega6450, ATmega6450A, ATmega6450P, ATmega169, ATmega169A, ATmega169P, ATmega169PA, ATmega329, ATmega329A, ATmega329P, ATmega329PA, ATmega3290, ATmega3290A, ATmega3290P, ATmega3290PA, ATmega649, ATmega649A, ATmega649P, ATmega6490, ATmega6490A, ATmega6490P, ATmega164A, ATmega164P, ATmega324A, ATmega324P, ATmega324PA, ATmega644P, ATmega644A, ATmega644PA, ATmega644, ATmega164PA, ATmega48, ATmega48A, ATmega48PA, ATmega48P, ATmega88, ATmega88A, ATmega88P, ATmega88PA, ATmega168, ATmega168A, ATmega168P, ATmega168PA, ATmega328, ATmega328P, ATtiny48, ATtiny88, ATtiny828, ATtiny441, ATtiny24, ATtiny24A, ATtiny44, ATtiny44A, ATtiny84, ATtiny84A, ATtiny25, ATtiny45, ATtiny85, ATtiny261, ATtiny261A, ATtiny461, ATtiny461A, ATtiny861, ATtiny861A, ATtiny43U, ATmega1284, ATmega1284P, ATmega16M1, ATmega32C1, ATmega32M1, ATmega64C1, ATmega64M1, ATtiny167, ATtiny87, ATA5505, ATA5272, ATA6612C, ATA6613C, ATA6614Q, ATA6616C, ATA6617C, ATA664251, ATtiny1634, ATtiny4, ATtiny5, ATtiny9, ATtiny10, ATtiny13A, ATtiny20, ATtiny40</td>
   </tr>
 
   <tr>
-    <td>power_psc0_enable()</td>
-    <td>Enable the Power Stage Controller 0 module.</td>
-    <td>AT90PWM1, AT90PWM2, AT90PWM2B, AT90PWM3, AT90PWM3B</td>
+   <td>power_adca_disable()</td>
+    <td> Disable the Analog to Digital Converter module On PortA </td>
+    <td>ATxmega16C4, ATxmega32C4, ATxmega32C3, ATxmega64C3, ATxmega128C3, ATxmega192C3, ATxmega256C3, ATxmega16A4, ATxmega16A4U, ATxmega16D4, ATxmega32A4, ATxmega32A4U, ATxmega32D4, ATxmega64A1, ATxmega64A1U, ATxmega64A3, ATxmega64A3U, ATxmega64A4U, ATxmega32D3, ATxmega64D3, ATxmega128A1, ATxmega128A1U, ATxmega128A3, ATxmega128A3U, ATxmega128A4U, ATxmega128D3, ATxmega192A3, ATxmega192A3U, ATxmega192D3, ATxmega256A3, ATxmega256A3U, ATxmega256A3B, ATxmega256A3BU, ATxmega384C3, ATxmega64D4, ATxmega128D4, ATxmega64B1, ATxmega64B3, ATxmega128B1, ATxmega128B3</td>
   </tr>
 
   <tr>
-    <td>power_psc0_disable()</td>
-    <td>Disable the Power Stage Controller 0 module.</td>
-    <td>AT90PWM1, AT90PWM2, AT90PWM2B, AT90PWM3, AT90PWM3B</td>
+   <td>power_adca_enable()</td>
+    <td> Enable the Analog to Digital Converter module On PortA </td>
+    <td>ATxmega16C4, ATxmega32C4, ATxmega32C3, ATxmega64C3, ATxmega128C3, ATxmega192C3, ATxmega256C3, ATxmega16A4, ATxmega16A4U, ATxmega16D4, ATxmega32A4, ATxmega32A4U, ATxmega32D4, ATxmega64A1, ATxmega64A1U, ATxmega64A3, ATxmega64A3U, ATxmega64A4U, ATxmega32D3, ATxmega64D3, ATxmega128A1, ATxmega128A1U, ATxmega128A3, ATxmega128A3U, ATxmega128A4U, ATxmega128D3, ATxmega192A3, ATxmega192A3U, ATxmega192D3, ATxmega256A3, ATxmega256A3U, ATxmega256A3B, ATxmega256A3BU, ATxmega384C3, ATxmega64D4, ATxmega128D4, ATxmega64B1, ATxmega64B3, ATxmega128B1, ATxmega128B3</td>
   </tr>
 
   <tr>
-    <td>power_psc1_enable()</td>
-    <td>Enable the Power Stage Controller 1 module.</td>
-    <td>AT90PWM1, AT90PWM2, AT90PWM2B, AT90PWM3, AT90PWM3B</td>
+   <td>power_adcb_disable()</td>
+    <td> Disable the Analog to Digital Converter module On PortB </td>
+    <td>ATxmega16A4, ATxmega16A4U, ATxmega16D4, ATxmega32A4, ATxmega32A4U, ATxmega32D4, ATxmega64A1, ATxmega64A1U, ATxmega64A3, ATxmega64A3U, ATxmega64A4U, ATxmega32D3, ATxmega64D3, ATxmega128A1, ATxmega128A1U, ATxmega128A3, ATxmega128A3U, ATxmega128A4U, ATxmega128D3, ATxmega192A3, ATxmega192A3U, ATxmega192D3, ATxmega256A3, ATxmega256A3U, ATxmega256A3B, ATxmega256A3BU, ATxmega384C3, ATxmega64B1, ATxmega64B3, ATxmega128B1, ATxmega128B3</td>
   </tr>
 
   <tr>
-    <td>power_psc1_disable()</td>
-    <td>Disable the Power Stage Controller 1 module.</td>
-    <td>AT90PWM1, AT90PWM2, AT90PWM2B, AT90PWM3, AT90PWM3B</td>
+   <td>power_adcb_enable()</td>
+    <td> Enable the Analog to Digital Converter module On PortB </td>
+    <td>ATxmega16A4, ATxmega16A4U, ATxmega16D4, ATxmega32A4, ATxmega32A4U, ATxmega32D4, ATxmega64A1, ATxmega64A1U, ATxmega64A3, ATxmega64A3U, ATxmega64A4U, ATxmega32D3, ATxmega64D3, ATxmega128A1, ATxmega128A1U, ATxmega128A3, ATxmega128A3U, ATxmega128A4U, ATxmega128D3, ATxmega192A3, ATxmega192A3U, ATxmega192D3, ATxmega256A3, ATxmega256A3U, ATxmega256A3B, ATxmega256A3BU, ATxmega384C3, ATxmega64B1, ATxmega64B3, ATxmega128B1, ATxmega128B3</td>
   </tr>
 
   <tr>
-    <td>power_psc2_enable()</td>
-    <td>Enable the Power Stage Controller 2 module.</td>
-    <td>AT90PWM1, AT90PWM2, AT90PWM2B, AT90PWM3, AT90PWM3B, AT90PWM81</td>
+   <td>power_aes_disable()</td>
+    <td> Disable the AES module </td>
+    <td>ATxmega16A4, ATxmega16A4U, ATxmega32A4U, ATxmega32A4, ATxmega64A1, ATxmega64A1U, ATxmega64A3, ATxmega64A3U, ATxmega64A4U, ATxmega128A1, ATxmega128A1U, ATxmega128A3, ATxmega128A3U, ATxmega128A4U, ATxmega192A3, ATxmega192A3U, ATxmega256A3, ATxmega256A3U, ATxmega256A3B, ATxmega256A3BU, ATxmega384C3, ATxmega16C4, ATxmega32C4, ATxmega32C3, ATxmega64C3, ATxmega128C3, ATxmega192C3, ATxmega256C3, ATxmega64B1, ATxmega64B3, ATxmega128B1, ATxmega128B3, AT90SCR100</td>
   </tr>
 
   <tr>
-    <td>power_psc2_disable()</td>
-    <td>Disable the Power Stage Controller 2 module.</td>
-    <td>AT90PWM1, AT90PWM2, AT90PWM2B, AT90PWM3, AT90PWM3B, AT90PWM81</td>
+   <td>power_aes_enable()</td>
+    <td> Enable the AES module </td>
+    <td>ATxmega16A4, ATxmega16A4U, ATxmega32A4U, ATxmega32A4, ATxmega64A1, ATxmega64A1U, ATxmega64A3, ATxmega64A3U, ATxmega64A4U, ATxmega128A1, ATxmega128A1U, ATxmega128A3, ATxmega128A3U, ATxmega128A4U, ATxmega192A3, ATxmega192A3U, ATxmega256A3, ATxmega256A3U, ATxmega256A3B, ATxmega256A3BU, ATxmega384C3, ATxmega16C4, ATxmega32C4, ATxmega32C3, ATxmega64C3, ATxmega128C3, ATxmega192C3, ATxmega256C3, ATxmega64B1, ATxmega64B3, ATxmega128B1, ATxmega128B3, AT90SCR100</td>
   </tr>
 
   <tr>
-    <td>power_spi_enable()</td>
-    <td>Enable the Serial Peripheral Interface module.</td>
-    <td>ATmega640, ATmega1280, ATmega1281, ATmega128RFA1, ATmega2560, ATmega2561, AT90USB646, AT90USB647, AT90USB1286, AT90USB1287, AT90PWM1, AT90PWM2, AT90PWM2B, AT90PWM3, AT90PWM3B, AT90PWM216, AT90PWM316, AT90PWM81, ATmega165, ATmega165P, ATmega325, ATmega325A, ATmega3250, ATmega3250A, ATmega645, ATmega6450, ATmega169, ATmega169P, ATmega329, ATmega329A, ATmega3290, ATmega3290A, ATmega649, ATmega6490, ATmega164P, ATmega324P, ATmega644, ATmega48, ATmega88, ATmega168</td>
+   <td>power_all_disable()</td>
+     <td>Disable all modules.</td>
+    <td>ATxmega384C3, ATxmega256A3BU, ATxmega16A4U, ATxmega32A4U, ATxmega64A3U, ATxmega64A4U, ATxmega128A3U, ATxmega128A4U, ATxmega192A3U, ATxmega256A3U, ATxmega384C3, ATxmega256A3BU, ATxmega16A4U, ATxmega32A4U, ATxmega64A3U, ATxmega64A4U, ATxmega128A3U, ATxmega128A4U, ATxmega192A3U, ATxmega256A3U, ATxmega16C4, ATxmega32C4, ATxmega32C3, ATxmega64C3, ATxmega128C3, ATxmega192C3, ATxmega256C3, ATxmega64D4, ATxmega128D4, ATxmega16D4, ATxmega32D4, ATxmega32D3, ATxmega64D3, ATxmega128D3, ATxmega192D3, ATxmega64B1, ATxmega64B3, ATxmega128B1, ATxmega128B3, ATmega640, ATmega1280, ATmega1281, ATmega2560, ATmega2561, ATmega128RFA1, AT90USB646, AT90USB647, AT90USB1286, AT90USB1287, ATmega32U4, ATmega16U4, ATmega32U6, AT90PWM1, AT90PWM2, AT90PWM2B, AT90PWM3, AT90PWM3B, AT90PWM216, AT90PWM316, AT90PWM81, AT90PWM161, ATmega165, ATmega165A, ATmega165P, ATmega165PA, ATmega325, ATmega325A, ATmega325PA, ATmega3250, ATmega3250A, ATmega3250PA, ATmega645, ATmega645A, ATmega645P, ATmega6450, ATmega6450A, ATmega6450P, ATmega169, ATmega169A, ATmega169P, ATmega169PA, ATmega329, ATmega329A, ATmega329P, ATmega329PA, ATmega3290, ATmega3290A, ATmega3290P, ATmega3290PA, ATmega649, ATmega649A, ATmega649P, ATmega6490, ATmega6490A, ATmega6490P, ATmega164A, ATmega164P, ATmega324A, ATmega324P, ATmega324PA, ATmega644P, ATmega644A, ATmega644PA, ATmega644, ATmega164PA, ATmega406, ATtiny828, ATtiny828, ATtiny441, ATtiny24, ATtiny24A, ATtiny44, ATtiny44A, ATtiny84, ATtiny84A, ATtiny25, ATtiny45, ATtiny85, ATtiny261, ATtiny261A, ATtiny461, ATtiny461A, ATtiny861, ATtiny861A, ATtiny43U, ATmega1284, ATmega1284P, ATmega32HVB, ATmega32HVBREVB, ATmega16HVB, ATmega16HVBREVB, ATA5790, ATA5795, ATmega16M1, ATmega32C1, ATmega32M1, ATmega64C1, ATmega64M1, ATtiny167, ATtiny87, ATA5505, ATA5272, ATA6616C, ATA6617C, ATA664251, ATtiny1634, AT90USB82, AT90USB162, ATmega8U2, ATmega16U2, ATmega32U2, AT90SCR100, ATtiny4, ATtiny5, ATtiny9, ATtiny10, ATtiny13A, ATtiny20, ATtiny40</td>
   </tr>
 
   <tr>
-    <td>power_spi_disable()</td>
-    <td>Disable the Serial Peripheral Interface module.</td>
-    <td>ATmega640, ATmega1280, ATmega1281, ATmega128RFA1, ATmega2560, ATmega2561, AT90USB646, AT90USB647, AT90USB1286, AT90USB1287, AT90PWM1, AT90PWM2, AT90PWM2B, AT90PWM3, AT90PWM3B, AT90PWM216, AT90PWM316, AT90PWM81, ATmega165, ATmega165P, ATmega325, ATmega325A, ATmega3250, ATmega3250A, ATmega645, ATmega6450, ATmega169, ATmega169P, ATmega329, ATmega329A, ATmega3290, ATmega3290A, ATmega649, ATmega6490, ATmega164P, ATmega324P, ATmega644, ATmega48, ATmega88, ATmega168</td>
+   <td>power_all_enable()</td>
+     <td>Enable all modules.</td>
+    <td>ATxmega384C3, ATxmega256A3BU, ATxmega16A4U, ATxmega32A4U, ATxmega64A3U, ATxmega64A4U, ATxmega128A3U, ATxmega128A4U, ATxmega192A3U, ATxmega256A3U, ATxmega384C3, ATxmega256A3BU, ATxmega16A4U, ATxmega32A4U, ATxmega64A3U, ATxmega64A4U, ATxmega128A3U, ATxmega128A4U, ATxmega192A3U, ATxmega256A3U, ATxmega16C4, ATxmega32C4, ATxmega32C3, ATxmega64C3, ATxmega128C3, ATxmega192C3, ATxmega256C3, ATxmega64D4, ATxmega128D4, ATxmega16D4, ATxmega32D4, ATxmega32D3, ATxmega64D3, ATxmega128D3, ATxmega192D3, ATxmega64B1, ATxmega64B3, ATxmega128B1, ATxmega128B3, ATmega640, ATmega1280, ATmega1281, ATmega2560, ATmega2561, ATmega128RFA1, AT90USB646, AT90USB647, AT90USB1286, AT90USB1287, ATmega32U4, ATmega16U4, ATmega32U6, AT90PWM1, AT90PWM2, AT90PWM2B, AT90PWM3, AT90PWM3B, AT90PWM216, AT90PWM316, AT90PWM81, AT90PWM161, ATmega165, ATmega165A, ATmega165P, ATmega165PA, ATmega325, ATmega325A, ATmega325PA, ATmega3250, ATmega3250A, ATmega3250PA, ATmega645, ATmega645A, ATmega645P, ATmega6450, ATmega6450A, ATmega6450P, ATmega169, ATmega169A, ATmega169P, ATmega169PA, ATmega329, ATmega329A, ATmega329P, ATmega329PA, ATmega3290, ATmega3290A, ATmega3290P, ATmega3290PA, ATmega649, ATmega649A, ATmega649P, ATmega6490, ATmega6490A, ATmega6490P, ATmega164A, ATmega164P, ATmega324A, ATmega324P, ATmega324PA, ATmega644P, ATmega644A, ATmega644PA, ATmega644, ATmega164PA, ATmega406, ATtiny828, ATtiny828, ATtiny441, ATtiny24, ATtiny24A, ATtiny44, ATtiny44A, ATtiny84, ATtiny84A, ATtiny25, ATtiny45, ATtiny85, ATtiny261, ATtiny261A, ATtiny461, ATtiny461A, ATtiny861, ATtiny861A, ATtiny43U, ATmega1284, ATmega1284P, ATmega32HVB, ATmega32HVBREVB, ATmega16HVB, ATmega16HVBREVB, ATA5790, ATA5795, ATmega16M1, ATmega32C1, ATmega32M1, ATmega64C1, ATmega64M1, ATtiny167, ATtiny87, ATA5505, ATA5272, ATA6616C, ATA6617C, ATA664251, ATtiny1634, AT90USB82, AT90USB162, ATmega8U2, ATmega16U2, ATmega32U2, AT90SCR100, ATtiny4, ATtiny5, ATtiny9, ATtiny10, ATtiny13A, ATtiny20, ATtiny40</td>
   </tr>
 
   <tr>
-    <td>power_timer0_enable()</td>
-    <td>Enable the Timer 0 module.</td>
-    <td>ATmega640, ATmega1280, ATmega1281, ATmega128RFA1, ATmega2560, ATmega2561, AT90USB646, AT90USB647, AT90USB1286, AT90USB1287, AT90PWM1, AT90PWM216, AT90PWM316, AT90PWM2, AT90PWM2B, AT90PWM3, AT90PWM3B, ATmega165, ATmega165P, ATmega325, ATmega325A, ATmega3250, ATmega3250A, ATmega645, ATmega6450, ATmega164P, ATmega324P, ATmega644, ATmega406, ATmega48, ATmega88, ATmega168, ATtiny24, ATtiny44, ATtiny84, ATtiny84A, ATtiny25, ATtiny45, ATtiny85, ATtiny261, ATtiny461, ATtiny861</td>
+   <td>power_can_disable()</td>
+    <td> Disable the CAN module </td>
+    <td>ATmega16M1, ATmega32C1, ATmega32M1, ATmega64C1, ATmega64M1</td>
   </tr>
 
   <tr>
-    <td>power_timer0_disable()</td>
-    <td>Disable the Timer 0 module.</td>
-    <td>ATmega640, ATmega1280, ATmega1281, ATmega128RFA1, ATmega2560, ATmega2561, AT90USB646, AT90USB647, AT90USB1286, AT90USB1287, AT90PWM1, AT90PWM2, AT90PWM2B, AT90PWM3, AT90PWM3B, AT90PWM216, AT90PWM316, ATmega165, ATmega165P, ATmega325, ATmega325A, ATmega3250, ATmega3250A, ATmega645, ATmega6450, ATmega164P, ATmega324P, ATmega644, ATmega406, ATmega48, ATmega88, ATmega168, ATtiny24, ATtiny44, ATtiny84, ATtiny84A, ATtiny25, ATtiny45, ATtiny85, ATtiny261, ATtiny461, ATtiny861</td>
+   <td>power_can_enable()</td>
+    <td> Enable the CAN module </td>
+    <td>ATmega16M1, ATmega32C1, ATmega32M1, ATmega64C1, ATmega64M1</td>
   </tr>
 
   <tr>
-    <td>power_timer1_enable()</td>
-    <td>Enable the Timer 1 module.</td>
-    <td>ATmega640, ATmega1280, ATmega1281, ATmega128RFA1, ATmega2560, ATmega2561, AT90USB646, AT90USB647, AT90USB1286, AT90USB1287, AT90PWM1, AT90PWM2, AT90PWM2B, AT90PWM3, AT90PWM3B, AT90PWM216, AT90PWM316, AT90PWM81, ATmega165, ATmega165P, ATmega325, ATmega325A, ATmega3250, ATmega3250A, ATmega645, ATmega6450, ATmega169, ATmega169P, ATmega329, ATmega329A, ATmega3290, ATmega3290A, ATmega649, ATmega6490, ATmega164P, ATmega324P, ATmega644, ATmega406, ATmega48, ATmega88, ATmega168, ATtiny24, ATtiny44, ATtiny84, ATtiny84A, ATtiny25, ATtiny45, ATtiny85, ATtiny261, ATtiny461, ATtiny861</td>
+   <td>power_cinterface_disable()</td>
+    <td> Disable the CINTERFACE module </td>
+    <td>ATA5790, ATA5795</td>
   </tr>
 
   <tr>
-    <td>power_timer1_disable()</td>
-    <td>Disable the Timer 1 module.</td>
-    <td>ATmega640, ATmega1280, ATmega1281, ATmega128RFA1, ATmega2560, ATmega2561, AT90USB646, AT90USB647, AT90USB1286, AT90USB1287, AT90PWM1, AT90PWM2, AT90PWM2B, AT90PWM3, AT90PWM3B, AT90PWM216, AT90PWM316, AT90PWM81, ATmega165, ATmega165P, ATmega325, ATmega325A, ATmega3250, ATmega3250A, ATmega645, ATmega6450, ATmega169, ATmega169P, ATmega329, ATmega329A, ATmega3290, ATmega3290A, ATmega649, ATmega6490, ATmega164P, ATmega324P, ATmega644, ATmega406, ATmega48, ATmega88, ATmega168, ATtiny24, ATtiny44, ATtiny84, ATtiny84A, ATtiny25, ATtiny45, ATtiny85, ATtiny261, ATtiny461, ATtiny861</td>
+   <td>power_cinterface_enable()</td>
+    <td> Enable the CINTERFACE module </td>
+    <td>ATA5790, ATA5795</td>
   </tr>
 
   <tr>
-    <td>power_timer2_enable()</td>
-    <td>Enable the Timer 2 module.</td>
-    <td>ATmega640, ATmega1280, ATmega1281, ATmega128RFA1, ATmega2560, ATmega2561, AT90USB646, AT90USB647, AT90USB1286, AT90USB1287, ATmega164P, ATmega324P, ATmega644, ATmega48, ATmega88, ATmega168</td>
+   <td>power_crypto_disable()</td>
+    <td> Disable the CRYPTO module </td>
+    <td>ATA5790, ATA5795</td>
   </tr>
 
   <tr>
-    <td>power_timer2_disable()</td>
-    <td>Disable the Timer 2 module.</td>
-    <td>ATmega640, ATmega1280, ATmega1281, ATmega128RFA1, ATmega2560, ATmega2561, AT90USB646, AT90USB647, AT90USB1286, AT90USB1287, ATmega164P, ATmega324P, ATmega644, ATmega48, ATmega88, ATmega168</td>
+   <td>power_crypto_enable()</td>
+    <td> Enable the CRYPTO module </td>
+    <td>ATA5790, ATA5795</td>
   </tr>
 
   <tr>
-    <td>power_timer3_enable()</td>
-    <td>Enable the Timer 3 module.</td>
-    <td>ATmega640, ATmega1280, ATmega1281, ATmega128RFA1, ATmega2560, ATmega2561, AT90USB646, AT90USB647, AT90USB1286, AT90USB1287</td>
+   <td>power_daca_disable()</td>
+    <td> Disable the DAC module on PortA </td>
+    <td>ATxmega16A4, ATxmega16A4U, ATxmega32A4U, ATxmega32A4, ATxmega64A1, ATxmega64A1U, ATxmega64A3, ATxmega64A3U, ATxmega64A4U, ATxmega128A1, ATxmega128A1U, ATxmega128A3, ATxmega128A3U, ATxmega128A4U, ATxmega192A3, ATxmega192A3U, ATxmega256A3, ATxmega256A3U, ATxmega256A3B, ATxmega256A3BU, ATxmega384C3</td>
   </tr>
 
   <tr>
-    <td>power_timer3_disable()</td>
-    <td>Disable the Timer 3 module.</td>
-    <td>ATmega640, ATmega1280, ATmega1281, ATmega128RFA1, ATmega2560, ATmega2561, AT90USB646, AT90USB647, AT90USB1286, AT90USB1287</td>
+   <td>power_daca_enable()</td>
+    <td> Enable the DAC module on PortA </td>
+    <td>ATxmega16A4, ATxmega16A4U, ATxmega32A4U, ATxmega32A4, ATxmega64A1, ATxmega64A1U, ATxmega64A3, ATxmega64A3U, ATxmega64A4U, ATxmega128A1, ATxmega128A1U, ATxmega128A3, ATxmega128A3U, ATxmega128A4U, ATxmega192A3, ATxmega192A3U, ATxmega256A3, ATxmega256A3U, ATxmega256A3B, ATxmega256A3BU, ATxmega384C3</td>
   </tr>
 
   <tr>
-    <td>power_timer4_enable()</td>
-    <td>Enable the Timer 4 module.</td>
-    <td>ATmega640, ATmega1280, ATmega1281, ATmega128RFA1, ATmega2560, ATmega2561</td>
+   <td>power_dacb_disable()</td>
+    <td> Disable the DAC module on PortB </td>
+    <td>ATxmega16A4, ATxmega16A4U, ATxmega32A4U, ATxmega32A4, ATxmega64A1, ATxmega64A1U, ATxmega64A3, ATxmega64A3U, ATxmega64A4U, ATxmega128A1, ATxmega128A1U, ATxmega128A3, ATxmega128A3U, ATxmega128A4U, ATxmega192A3, ATxmega192A3U, ATxmega256A3, ATxmega256A3U, ATxmega256A3B, ATxmega256A3BU, ATxmega384C3</td>
   </tr>
 
   <tr>
-    <td>power_timer4_disable()</td>
-    <td>Disable the Timer 4 module.</td>
-    <td>ATmega640, ATmega1280, ATmega1281, ATmega128RFA1, ATmega2560, ATmega2561</td>
+   <td>power_dacb_enable()</td>
+    <td> Enable the DAC module on PortB </td>
+    <td>ATxmega16A4, ATxmega16A4U, ATxmega32A4U, ATxmega32A4, ATxmega64A1, ATxmega64A1U, ATxmega64A3, ATxmega64A3U, ATxmega64A4U, ATxmega128A1, ATxmega128A1U, ATxmega128A3, ATxmega128A3U, ATxmega128A4U, ATxmega192A3, ATxmega192A3U, ATxmega256A3, ATxmega256A3U, ATxmega256A3B, ATxmega256A3BU, ATxmega384C3</td>
   </tr>
 
   <tr>
-    <td>power_timer5_enable()</td>
-    <td>Enable the Timer 5 module.</td>
-    <td>ATmega640, ATmega1280, ATmega1281, ATmega128RFA1, ATmega2560, ATmega2561</td>
+   <td>power_dma_disable()</td>
+    <td> Disable the DMA module </td>
+    <td>ATxmega16A4, ATxmega16A4U, ATxmega32A4U, ATxmega32A4, ATxmega64A1, ATxmega64A1U, ATxmega64A3, ATxmega64A3U, ATxmega64A4U, ATxmega128A1, ATxmega128A1U, ATxmega128A3, ATxmega128A3U, ATxmega128A4U, ATxmega192A3, ATxmega192A3U, ATxmega256A3, ATxmega256A3U, ATxmega256A3B, ATxmega256A3BU, ATxmega384C3, ATxmega16C4, ATxmega32C4, ATxmega32C3, ATxmega64C3, ATxmega128C3, ATxmega192C3, ATxmega256C3, ATxmega64B1, ATxmega64B3, ATxmega128B1, ATxmega128B3</td>
   </tr>
 
   <tr>
-    <td>power_timer5_disable()</td>
-    <td>Disable the Timer 5 module.</td>
-    <td>ATmega640, ATmega1280, ATmega1281, ATmega128RFA1, ATmega2560, ATmega2561</td>
+   <td>power_dma_enable()</td>
+    <td> Enable the DMA module </td>
+    <td>ATxmega16A4, ATxmega16A4U, ATxmega32A4U, ATxmega32A4, ATxmega64A1, ATxmega64A1U, ATxmega64A3, ATxmega64A3U, ATxmega64A4U, ATxmega128A1, ATxmega128A1U, ATxmega128A3, ATxmega128A3U, ATxmega128A4U, ATxmega192A3, ATxmega192A3U, ATxmega256A3, ATxmega256A3U, ATxmega256A3B, ATxmega256A3BU, ATxmega384C3, ATxmega16C4, ATxmega32C4, ATxmega32C3, ATxmega64C3, ATxmega128C3, ATxmega192C3, ATxmega256C3, ATxmega64B1, ATxmega64B3, ATxmega128B1, ATxmega128B3</td>
   </tr>
 
   <tr>
-    <td>power_twi_enable()</td>
-    <td>Enable the Two Wire Interface module.</td>
-    <td>ATmega640, ATmega1280, ATmega1281, ATmega128RFA1, ATmega2560, ATmega2561, AT90USB646, AT90USB647, AT90USB1286, AT90USB1287, ATmega164P, ATmega324P, ATmega644, ATmega406, ATmega48, ATmega88, ATmega168</td>
+   <td>power_ebi_disable()</td>
+    <td> Disable the EBI module </td>
+    <td>ATxmega16A4, ATxmega16A4U, ATxmega32A4U, ATxmega32A4, ATxmega64A1, ATxmega64A1U, ATxmega64A3, ATxmega64A3U, ATxmega64A4U, ATxmega128A1, ATxmega128A1U, ATxmega128A3, ATxmega128A3U, ATxmega128A4U, ATxmega192A3, ATxmega192A3U, ATxmega256A3, ATxmega256A3U, ATxmega256A3B, ATxmega256A3BU, ATxmega384C3</td>
   </tr>
 
   <tr>
-    <td>power_twi_disable()</td>
-    <td>Disable the Two Wire Interface module.</td>
-    <td>ATmega640, ATmega1280, ATmega1281, ATmega128RFA1, ATmega2560, ATmega2561, AT90USB646, AT90USB647, AT90USB1286, AT90USB1287, ATmega164P, ATmega324P, ATmega644, ATmega406, ATmega48, ATmega88, ATmega168</td>
+   <td>power_ebi_enable()</td>
+    <td> Enable the EBI module </td>
+    <td>ATxmega16A4, ATxmega16A4U, ATxmega32A4U, ATxmega32A4, ATxmega64A1, ATxmega64A1U, ATxmega64A3, ATxmega64A3U, ATxmega64A4U, ATxmega128A1, ATxmega128A1U, ATxmega128A3, ATxmega128A3U, ATxmega128A4U, ATxmega192A3, ATxmega192A3U, ATxmega256A3, ATxmega256A3U, ATxmega256A3B, ATxmega256A3BU, ATxmega384C3</td>
   </tr>
 
   <tr>
-    <td>power_usart_enable()</td>
-    <td>Enable the USART module.</td>
-    <td>AT90PWM2, AT90PWM2B, AT90PWM3, AT90PWM3B</td>
+   <td>power_evsys_disable()</td>
+    <td> Disable the EVSYS module </td>
+    <td>ATxmega16C4, ATxmega32C4, ATxmega32C3, ATxmega64C3, ATxmega128C3, ATxmega192C3, ATxmega256C3, ATxmega16A4, ATxmega16A4U, ATxmega16D4, ATxmega32A4, ATxmega32A4U, ATxmega32D4, ATxmega64A1, ATxmega64A1U, ATxmega64A3, ATxmega64A3U, ATxmega64A4U, ATxmega32D3, ATxmega64D3, ATxmega128A1, ATxmega128A1U, ATxmega128A3, ATxmega128A3U, ATxmega128A4U, ATxmega128D3, ATxmega192A3, ATxmega192A3U, ATxmega192D3, ATxmega256A3, ATxmega256A3U, ATxmega256A3B, ATxmega256A3BU, ATxmega384C3, ATxmega64D4, ATxmega128D4, ATxmega64B1, ATxmega64B3, ATxmega128B1, ATxmega128B3</td>
   </tr>
 
   <tr>
-    <td>power_usart_disable()</td>
-    <td>Disable the USART module.</td>
-    <td>AT90PWM2, AT90PWM2B, AT90PWM3, AT90PWM3B</td>
+   <td>power_evsys_enable()</td>
+    <td> Enable the EVSYS module </td>
+    <td>ATxmega16C4, ATxmega32C4, ATxmega32C3, ATxmega64C3, ATxmega128C3, ATxmega192C3, ATxmega256C3, ATxmega16A4, ATxmega16A4U, ATxmega16D4, ATxmega32A4, ATxmega32A4U, ATxmega32D4, ATxmega64A1, ATxmega64A1U, ATxmega64A3, ATxmega64A3U, ATxmega64A4U, ATxmega32D3, ATxmega64D3, ATxmega128A1, ATxmega128A1U, ATxmega128A3, ATxmega128A3U, ATxmega128A4U, ATxmega128D3, ATxmega192A3, ATxmega192A3U, ATxmega192D3, ATxmega256A3, ATxmega256A3U, ATxmega256A3B, ATxmega256A3BU, ATxmega384C3, ATxmega64D4, ATxmega128D4, ATxmega64B1, ATxmega64B3, ATxmega128B1, ATxmega128B3</td>
   </tr>
 
   <tr>
-    <td>power_usart0_enable()</td>
-    <td>Enable the USART 0 module.</td>
-    <td>ATmega640, ATmega1280, ATmega1281, ATmega128RFA1, ATmega2560, ATmega2561, ATmega165, ATmega165P, ATmega325, ATmega325A, ATmega3250, ATmega3250A, ATmega645, ATmega6450, ATmega169, ATmega169P, ATmega329, ATmega329A, ATmega3290, ATmega3290A, ATmega649, ATmega6490, ATmega164P, ATmega324P, ATmega644, ATmega48, ATmega88, ATmega168</td>
+   <td>power_hiresc_disable()</td>
+    <td> Disable the HIRES module on PortC </td>
+    <td>ATxmega16C4, ATxmega32C4, ATxmega32C3, ATxmega64C3, ATxmega128C3, ATxmega192C3, ATxmega256C3, ATxmega16A4, ATxmega16A4U, ATxmega16D4, ATxmega32A4, ATxmega32A4U, ATxmega32D4, ATxmega64A1, ATxmega64A1U, ATxmega64A3, ATxmega64A3U, ATxmega64A4U, ATxmega32D3, ATxmega64D3, ATxmega128A1, ATxmega128A1U, ATxmega128A3, ATxmega128A3U, ATxmega128A4U, ATxmega128D3, ATxmega192A3, ATxmega192A3U, ATxmega192D3, ATxmega256A3, ATxmega256A3U, ATxmega256A3B, ATxmega256A3BU, ATxmega384C3, ATxmega64D4, ATxmega128D4, ATxmega64B1, ATxmega64B3, ATxmega128B1, ATxmega128B3</td>
   </tr>
 
   <tr>
-    <td>power_usart0_disable()</td>
-    <td>Disable the USART 0 module.</td>
-    <td>ATmega640, ATmega1280, ATmega1281, ATmega128RFA1, ATmega2560, ATmega2561, ATmega165, ATmega165P, ATmega325, ATmega325A, ATmega3250, ATmega3250A, ATmega645, ATmega6450, ATmega169, ATmega169P, ATmega329, ATmega329A, ATmega3290, ATmega3290A, ATmega649, ATmega6490, ATmega164P, ATmega324P, ATmega644, ATmega48, ATmega88, ATmega168</td>
+   <td>power_hiresc_enable()</td>
+    <td> Enable the HIRES module on PortC </td>
+    <td>ATxmega16C4, ATxmega32C4, ATxmega32C3, ATxmega64C3, ATxmega128C3, ATxmega192C3, ATxmega256C3, ATxmega16A4, ATxmega16A4U, ATxmega16D4, ATxmega32A4, ATxmega32A4U, ATxmega32D4, ATxmega64A1, ATxmega64A1U, ATxmega64A3, ATxmega64A3U, ATxmega64A4U, ATxmega32D3, ATxmega64D3, ATxmega128A1, ATxmega128A1U, ATxmega128A3, ATxmega128A3U, ATxmega128A4U, ATxmega128D3, ATxmega192A3, ATxmega192A3U, ATxmega192D3, ATxmega256A3, ATxmega256A3U, ATxmega256A3B, ATxmega256A3BU, ATxmega384C3, ATxmega64D4, ATxmega128D4, ATxmega64B1, ATxmega64B3, ATxmega128B1, ATxmega128B3</td>
   </tr>
 
   <tr>
-    <td>power_usart1_enable()</td>
-    <td>Enable the USART 1 module.</td>
-    <td>ATmega640, ATmega1280, ATmega1281, ATmega128RFA1, ATmega2560, ATmega2561, AT90USB646, AT90USB647, AT90USB1286, AT90USB1287, ATmega164P, ATmega324P, ATmega644</td>
+   <td>power_hiresd_disable()</td>
+    <td> Disable the HIRES module on PortD </td>
+    <td>ATxmega16A4, ATxmega16A4U, ATxmega16D4, ATxmega32A4, ATxmega32A4U, ATxmega32D4, ATxmega64A1, ATxmega64A1U, ATxmega64A3, ATxmega64A3U, ATxmega64A4U, ATxmega32D3, ATxmega64D3, ATxmega128A1, ATxmega128A1U, ATxmega128A3, ATxmega128A3U, ATxmega128A4U, ATxmega128D3, ATxmega192A3, ATxmega192A3U, ATxmega192D3, ATxmega256A3, ATxmega256A3U, ATxmega256A3B, ATxmega256A3BU, ATxmega384C3</td>
   </tr>
 
   <tr>
-    <td>power_usart1_disable()</td>
-    <td>Disable the USART 1 module.</td>
-    <td>ATmega640, ATmega1280, ATmega1281, ATmega128RFA1, ATmega2560, ATmega2561, AT90USB646, AT90USB647, AT90USB1286, AT90USB1287, ATmega164P, ATmega324P, ATmega644</td>
+   <td>power_hiresd_enable()</td>
+    <td> Enable the HIRES module on PortD </td>
+    <td>ATxmega16A4, ATxmega16A4U, ATxmega16D4, ATxmega32A4, ATxmega32A4U, ATxmega32D4, ATxmega64A1, ATxmega64A1U, ATxmega64A3, ATxmega64A3U, ATxmega64A4U, ATxmega32D3, ATxmega64D3, ATxmega128A1, ATxmega128A1U, ATxmega128A3, ATxmega128A3U, ATxmega128A4U, ATxmega128D3, ATxmega192A3, ATxmega192A3U, ATxmega192D3, ATxmega256A3, ATxmega256A3U, ATxmega256A3B, ATxmega256A3BU, ATxmega384C3</td>
   </tr>
 
   <tr>
-    <td>power_usart2_enable()</td>
-    <td>Enable the USART 2 module.</td>
-    <td>ATmega640, ATmega1280, ATmega1281, ATmega2560, ATmega2561</td>
+   <td>power_hirese_disable()</td>
+    <td> Disable the HIRES module on PortE </td>
+    <td>ATxmega16A4, ATxmega16A4U, ATxmega16D4, ATxmega32A4, ATxmega32A4U, ATxmega32D4, ATxmega64A1, ATxmega64A1U, ATxmega64A3, ATxmega64A3U, ATxmega64A4U, ATxmega32D3, ATxmega64D3, ATxmega128A1, ATxmega128A1U, ATxmega128A3, ATxmega128A3U, ATxmega128A4U, ATxmega128D3, ATxmega192A3, ATxmega192A3U, ATxmega192D3, ATxmega256A3, ATxmega256A3U, ATxmega256A3B, ATxmega256A3BU, ATxmega384C3</td>
   </tr>
 
   <tr>
-    <td>power_usart2_disable()</td>
-    <td>Disable the USART 2 module.</td>
-    <td>ATmega640, ATmega1280, ATmega1281, ATmega2560, ATmega2561</td>
+   <td>power_hirese_enable()</td>
+    <td> Enable the HIRES module on PortE </td>
+    <td>ATxmega16A4, ATxmega16A4U, ATxmega16D4, ATxmega32A4, ATxmega32A4U, ATxmega32D4, ATxmega64A1, ATxmega64A1U, ATxmega64A3, ATxmega64A3U, ATxmega64A4U, ATxmega32D3, ATxmega64D3, ATxmega128A1, ATxmega128A1U, ATxmega128A3, ATxmega128A3U, ATxmega128A4U, ATxmega128D3, ATxmega192A3, ATxmega192A3U, ATxmega192D3, ATxmega256A3, ATxmega256A3U, ATxmega256A3B, ATxmega256A3BU, ATxmega384C3</td>
   </tr>
 
   <tr>
-    <td>power_usart3_enable()</td>
-    <td>Enable the USART 3 module.</td>
-    <td>ATmega640, ATmega1280, ATmega1281, ATmega2560, ATmega2561</td>
+   <td>power_hiresf_disable()</td>
+    <td> Disable the HIRES module on PortF </td>
+    <td>ATxmega16A4, ATxmega16A4U, ATxmega16D4, ATxmega32A4, ATxmega32A4U, ATxmega32D4, ATxmega64A1, ATxmega64A1U, ATxmega64A3, ATxmega64A3U, ATxmega64A4U, ATxmega32D3, ATxmega64D3, ATxmega128A1, ATxmega128A1U, ATxmega128A3, ATxmega128A3U, ATxmega128A4U, ATxmega128D3, ATxmega192A3, ATxmega192A3U, ATxmega192D3, ATxmega256A3, ATxmega256A3U, ATxmega256A3B, ATxmega256A3BU, ATxmega384C3</td>
   </tr>
 
   <tr>
-    <td>power_usart3_disable()</td>
-    <td>Disable the USART 3 module.</td>
-    <td>ATmega640, ATmega1280, ATmega1281, ATmega2560, ATmega2561</td>
+   <td>power_hiresf_enable()</td>
+    <td> Enable the HIRES module on PortF </td>
+    <td>ATxmega16A4, ATxmega16A4U, ATxmega16D4, ATxmega32A4, ATxmega32A4U, ATxmega32D4, ATxmega64A1, ATxmega64A1U, ATxmega64A3, ATxmega64A3U, ATxmega64A4U, ATxmega32D3, ATxmega64D3, ATxmega128A1, ATxmega128A1U, ATxmega128A3, ATxmega128A3U, ATxmega128A4U, ATxmega128D3, ATxmega192A3, ATxmega192A3U, ATxmega192D3, ATxmega256A3, ATxmega256A3U, ATxmega256A3B, ATxmega256A3BU, ATxmega384C3</td>
   </tr>
 
   <tr>
-    <td>power_usb_enable()</td>
-    <td>Enable the USB module.</td>
-    <td>AT90USB646, AT90USB647, AT90USB1286, AT90USB1287</td>
+   <td>power_hsspi_disable()</td>
+    <td> Disable the HSPPI module </td>
+    <td>AT90SCR100</td>
   </tr>
 
   <tr>
-    <td>power_usb_disable()</td>
-    <td>Disable the USB module.</td>
-    <td>AT90USB646, AT90USB647, AT90USB1286, AT90USB1287</td>
+   <td>power_hsspi_enable()</td>
+    <td> Enable the HSPPI module </td>
+    <td>AT90SCR100</td>
   </tr>
 
   <tr>
-    <td>power_usi_enable()</td>
-    <td>Enable the Universal Serial Interface module.</td>
-    <td>ATtiny24, ATtiny44, ATtiny84, ATtiny84A, ATtiny25, ATtiny45, ATtiny85, ATtiny261, ATtiny461, ATtiny861</td>
+   <td>power_irdriver_disable()</td>
+    <td> Disable the IRDRIVER module </td>
+    <td>ATA5790, ATA5795</td>
   </tr>
 
   <tr>
-    <td>power_usi_disable()</td>
-    <td>Disable the Universal Serial Interface module.</td>
-    <td>ATtiny24, ATtiny44, ATtiny84, ATtiny84A, ATtiny25, ATtiny45, ATtiny85, ATtiny261, ATtiny461, ATtiny861</td>
+   <td>power_irdriver_enable()</td>
+    <td> Enable the IRDRIVER module </td>
+    <td>ATA5790, ATA5795</td>
   </tr>
 
   <tr>
-    <td>power_vadc_enable()</td>
-    <td>Enable the Voltage ADC module.</td>
-    <td>ATmega406</td>
+   <td>power_kb_disable()</td>
+    <td> Disable the KB module </td>
+    <td>AT90SCR100</td>
   </tr>
 
   <tr>
-    <td>power_vadc_disable()</td>
-    <td>Disable the Voltage ADC module.</td>
-    <td>ATmega406</td>
+   <td>power_kb_enable()</td>
+    <td> Enable the KB module </td>
+    <td>AT90SCR100</td>
   </tr>
 
   <tr>
-    <td>power_all_enable()</td>
-    <td>Enable all modules.</td>
-    <td>ATxmega6A4, ATxmega32A4, ATxmega64A1, ATxmega64A1U, ATxmega64A3, ATxmegaA1, ATxmegaA1U, ATxmega128A3, ATxmega192A3, ATxmega256A3, ATxmegaA3B, ATxmega16D4, ATxmega32D4, ATxmega64D3, ATxmega128D3, ATxmega192D3, ATmega640, ATmega1280, ATmega1281, ATmega128RFA1, ATmega2560, ATmega2561, AT90USB646, AT90USB647, AT90USB1286, AT90USB1287, AT90PWM1, AT90PWM2, AT90PWM2B, AT90PWM3, AT90PWM3B, AT90PWM216, AT90PWM316, ATmega165, ATmega165P, ATmega325, ATmega325A, ATmega3250, ATmega325A, ATmega645, ATmega6450, ATmega169, ATmega169P, ATmega329, ATmega329A, ATmega3290, ATmega3290A, ATmega649, ATmega6490, ATmega164P, ATmega324P, ATmega644, ATmega406, ATmega48, ATmega88, ATmega168, ATtiny24, ATtiny44, ATtiny84, ATtiny84A, ATtiny25, ATtiny45, ATtiny85, ATtiny261, ATtiny461, ATtiny861</td>
+   <td>power_lcd_disable()</td>
+     <td>Disable the LCD module.</td>
+    <td>ATxmega64B1, ATxmega64B3, ATxmega128B1, ATxmega128B3, ATmega169, ATmega169A, ATmega169P, ATmega169PA, ATmega329, ATmega329A, ATmega329P, ATmega329PA, ATmega3290, ATmega3290A, ATmega3290P, ATmega3290PA, ATmega649, ATmega649A, ATmega649P, ATmega6490, ATmega6490A, ATmega6490P</td>
   </tr>
 
   <tr>
-    <td>power_all_disable()</td>
-    <td>Disable all modules.</td>
-    <td>ATxmega6A4, ATxmega32A4, ATxmega64A1, ATxmega64A1U, ATxmega64A3, ATxmegaA1, ATxmegaA1U, ATxmega128A3, ATxmega192A3, ATxmega256A3, ATxmegaA3B, ATxmega16D4, ATxmega32D4, ATxmega64D3, ATxmega128D3,ATxmega192D3, ATmega640, ATmega1280, ATmega1281, ATmega128RFA1, ATmega2560, ATmega2561, AT90USB646, AT90USB647, AT90USB1286, AT90USB1287, AT90PWM1, AT90PWM2, AT90PWM2B, AT90PWM3, AT90PWM3B, AT90PWM216, AT90PWM316, ATmega165, ATmega165P, ATmega325, ATmega325A, ATmega3250, ATmega325A, ATmega645, ATmega6450, ATmega169, ATmega169P, ATmega329, ATmega329A, ATmega3290, ATmega3290A, ATmega649, ATmega6490, ATmega164P, ATmega324P, ATmega644, ATmega406, ATmega48, ATmega88, ATmega168, ATtiny24, ATtiny44, ATtiny84, ATtiny84A, ATtiny25, ATtiny45, ATtiny85, ATtiny261, ATtiny461, ATtiny861</td>
+   <td>power_lcd_enable()</td>
+     <td>Enable the LCD module.</td>
+    <td>ATxmega64B1, ATxmega64B3, ATxmega128B1, ATxmega128B3, ATmega169, ATmega169A, ATmega169P, ATmega169PA, ATmega329, ATmega329A, ATmega329P, ATmega329PA, ATmega3290, ATmega3290A, ATmega3290P, ATmega3290PA, ATmega649, ATmega649A, ATmega649P, ATmega6490, ATmega6490A, ATmega6490P</td>
   </tr>
-</table>
-</center>
-</small>
 
-@} */
+  <tr>
+   <td>power_lfreceiver_disable()</td>
+    <td> Disable the LFRECEIVER module </td>
+    <td>ATA5790</td>
+  </tr>
 
-// Xmega A series has AES, EBI and DMA bits
-// Include any other device on need basis
-#if defined(__AVR_ATxmega16A4__) \
-|| defined(__AVR_ATxmega32A4__) \
-|| defined(__AVR_ATxmega64A1__) \
-|| defined(__AVR_ATxmega64A1U__) \
-|| defined(__AVR_ATxmega64A3__) \
-|| defined(__AVR_ATxmega128A1__) \
-|| defined(__AVR_ATxmega128A1U__) \
-|| defined(__AVR_ATxmega128A3__) \
-|| defined(__AVR_ATxmega192A3__) \
-|| defined(__AVR_ATxmega256A3__) \
-|| defined(__AVR_ATxmega256A3B__)
+  <tr>
+   <td>power_lfreceiver_enable()</td>
+    <td> Enable the LFRECEIVER module </td>
+    <td>ATA5790</td>
+  </tr>
 
-#define power_aes_enable()  (PR_PRGEN &= (uint8_t)~(PR_AES_bm))
-#define power_aes_disable() (PR_PRGEN |= (uint8_t)PR_AES_bm)
+  <tr>
+   <td>power_lin_disable()</td>
+    <td> Disable the LIN module </td>
+    <td>ATmega16M1, ATmega32C1, ATmega32M1, ATmega64C1, ATmega64M1, ATtiny167, ATtiny87, ATA5505, ATA5272, ATA6616C, ATA6617C, ATA664251</td>
+  </tr>
 
-#define power_ebi_enable()  (PR_PRGEN &= (uint8_t)~(PR_EBI_bm))
-#define power_ebi_disable() (PR_PRGEN |= (uint8_t)PR_EBI_bm)
+  <tr>
+   <td>power_lin_enable()</td>
+    <td> Enable the LIN module </td>
+    <td>ATmega16M1, ATmega32C1, ATmega32M1, ATmega64C1, ATmega64M1, ATtiny167, ATtiny87, ATA5505, ATA5272, ATA6616C, ATA6617C, ATA664251</td>
+  </tr>
 
-#define power_dma_enable()    (PR_PRGEN &= (uint8_t)~(PR_DMA_bm))
-#define power_dma_disable()   (PR_PRGEN |= (uint8_t)PR_DMA_bm)
+  <tr>
+   <td>power_psc0_disable()</td>
+     <td>Disable the Power Stage Controller 0 module.</td>
+    <td>AT90PWM1, AT90PWM2, AT90PWM2B, AT90PWM3, AT90PWM3B, AT90PWM216, AT90PWM316</td>
+  </tr>
 
-#define power_daca_enable()     (PR_PRPA &= (uint8_t)~(PR_DAC_bm))
-#define power_daca_disable()    (PR_PRPA |= (uint8_t)PR_DAC_bm)
-#define power_dacb_enable()     (PR_PRPB &= (uint8_t)~(PR_DAC_bm))
-#define power_dacb_disable()    (PR_PRPB |= (uint8_t)PR_DAC_bm)
+  <tr>
+   <td>power_psc0_enable()</td>
+     <td>Enable the Power Stage Controller 0 module.</td>
+    <td>AT90PWM1, AT90PWM2, AT90PWM2B, AT90PWM3, AT90PWM3B, AT90PWM216, AT90PWM316</td>
+  </tr>
 
-#define power_usartc1_enable()  (PR_PRPC &= (uint8_t)~(PR_USART1_bm))
-#define power_usartc1_disable() (PR_PRPC |= (uint8_t)PR_USART1_bm)
-#define power_usartd1_enable()  (PR_PRPD &= (uint8_t)~(PR_USART1_bm))
-#define power_usartd1_disable() (PR_PRPD |= (uint8_t)PR_USART1_bm)
-#define power_usarte1_enable()  (PR_PRPE &= (uint8_t)~(PR_USART1_bm))
-#define power_usarte1_disable() (PR_PRPE |= (uint8_t)PR_USART1_bm)
-#define power_usartf1_enable()  (PR_PRPF &= (uint8_t)~(PR_USART1_bm))
-#define power_usartf1_disable() (PR_PRPF |= (uint8_t)PR_USART1_bm)
+  <tr>
+   <td>power_psc1_disable()</td>
+     <td>Disable the Power Stage Controller 1 module.</td>
+    <td>AT90PWM1, AT90PWM2, AT90PWM2B, AT90PWM3, AT90PWM3B, AT90PWM216, AT90PWM316</td>
+  </tr>
 
-#define power_all_enable() \
-do { \
-    PR_PRGEN &= (uint8_t)~(PR_AES_bm|PR_EBI_bm|PR_RTC_bm|PR_EVSYS_bm|PR_DMA_bm); \
-    PR_PRPA &= (uint8_t)~(PR_DAC_bm|PR_ADC_bm|PR_AC_bm); \
-    PR_PRPB &= (uint8_t)~(PR_DAC_bm|PR_ADC_bm|PR_AC_bm); \
-    PR_PRPC &= (uint8_t)~(PR_TWI_bm|PR_USART1_bm|PR_USART0_bm|PR_SPI_bm|PR_HIRES_bm|PR_TC1_bm|PR_TC0_bm); \
-    PR_PRPD &= (uint8_t)~(PR_TWI_bm|PR_USART1_bm|PR_USART0_bm|PR_SPI_bm|PR_HIRES_bm|PR_TC1_bm|PR_TC0_bm); \
-    PR_PRPE &= (uint8_t)~(PR_TWI_bm|PR_USART1_bm|PR_USART0_bm|PR_SPI_bm|PR_HIRES_bm|PR_TC1_bm|PR_TC0_bm); \
-    PR_PRPF &= (uint8_t)~(PR_TWI_bm|PR_USART1_bm|PR_USART0_bm|PR_SPI_bm|PR_HIRES_bm|PR_TC1_bm|PR_TC0_bm); \
-} while(0)
+  <tr>
+   <td>power_psc1_enable()</td>
+     <td>Enable the Power Stage Controller 1 module.</td>
+    <td>AT90PWM1, AT90PWM2, AT90PWM2B, AT90PWM3, AT90PWM3B, AT90PWM216, AT90PWM316</td>
+  </tr>
 
+  <tr>
+   <td>power_psc2_disable()</td>
+     <td>Disable the Power Stage Controller 2 module.</td>
+    <td>AT90PWM1, AT90PWM2, AT90PWM2B, AT90PWM3, AT90PWM3B, AT90PWM216, AT90PWM316, AT90PWM81, AT90PWM161</td>
+  </tr>
 
-#define power_all_disable() \
-do { \
-    PR_PRGEN|= (uint8_t)(PR_AES_bm|PR_EBI_bm|PR_RTC_bm|PR_EVSYS_bm|PR_DMA_bm); \
-    PR_PRPA |= (uint8_t)(PR_DAC_bm|PR_ADC_bm|PR_AC_bm); \
-    PR_PRPB |= (uint8_t)(PR_DAC_bm|PR_ADC_bm|PR_AC_bm); \
-    PR_PRPC |= (uint8_t)(PR_TWI_bm|PR_USART1_bm|PR_USART0_bm|PR_SPI_bm|PR_HIRES_bm|PR_TC1_bm|PR_TC0_bm); \
-    PR_PRPD |= (uint8_t)(PR_TWI_bm|PR_USART1_bm|PR_USART0_bm|PR_SPI_bm|PR_HIRES_bm|PR_TC1_bm|PR_TC0_bm); \
-    PR_PRPE |= (uint8_t)(PR_TWI_bm|PR_USART1_bm|PR_USART0_bm|PR_SPI_bm|PR_HIRES_bm|PR_TC1_bm|PR_TC0_bm); \
-    PR_PRPF |= (uint8_t)(PR_TWI_bm|PR_USART1_bm|PR_USART0_bm|PR_SPI_bm|PR_HIRES_bm|PR_TC1_bm|PR_TC0_bm); \
-} while(0)
-#endif
+  <tr>
+   <td>power_psc2_enable()</td>
+     <td>Enable the Power Stage Controller 2 module.</td>
+    <td>AT90PWM1, AT90PWM2, AT90PWM2B, AT90PWM3, AT90PWM3B, AT90PWM216, AT90PWM316, AT90PWM81, AT90PWM161</td>
+  </tr>
 
-#if defined(__AVR_ATxmega16A4__) \
-|| defined(__AVR_ATxmega16D4__) \
-|| defined(__AVR_ATxmega32A4__) \
-|| defined(__AVR_ATxmega32D4__) \
-|| defined(__AVR_ATxmega64A1__) \
-|| defined(__AVR_ATxmega64A1U__) \
-|| defined(__AVR_ATxmega64A3__) \
-|| defined(__AVR_ATxmega64D3__) \
-|| defined(__AVR_ATxmega128A1__) \
-|| defined(__AVR_ATxmega128A1U__) \
-|| defined(__AVR_ATxmega128A3__) \
-|| defined(__AVR_ATxmega128D3__) \
-|| defined(__AVR_ATxmega192A3__) \
-|| defined(__AVR_ATxmega192D3__) \
-|| defined(__AVR_ATxmega256A3__) \
-|| defined(__AVR_ATxmega256A3B__)
+  <tr>
+   <td>power_psc_disable()</td>
+    <td> Disable the Power Stage Controller module </td>
+    <td>ATmega16M1, ATmega32C1, ATmega32M1, ATmega64C1, ATmega64M1</td>
+  </tr>
 
+  <tr>
+   <td>power_psc_enable()</td>
+    <td> Enable the Power Stage Controller module </td>
+    <td>ATmega16M1, ATmega32C1, ATmega32M1, ATmega64C1, ATmega64M1</td>
+  </tr>
 
-#define power_rtc_enable()  (PR_PRGEN &= (uint8_t)~(PR_RTC_bm))
-#define power_rtc_disable() (PR_PRGEN |= (uint8_t)PR_RTC_bm)
+  <tr>
+   <td>power_pscr_disable()</td>
+     <td>Disable the Reduced Power Stage Controller module.</td>
+    <td>AT90PWM81, AT90PWM161</td>
+  </tr>
 
-#define power_evsys_enable()    (PR_PRGEN &= (uint8_t)~(PR_EVSYS_bm))
-#define power_evsys_disable()   (PR_PRGEN |= (uint8_t)PR_EVSYS_bm)
+  <tr>
+   <td>power_pscr_enable()</td>
+     <td>Enable the Reduced Power Stage Controller module.</td>
+    <td>AT90PWM81, AT90PWM161</td>
+  </tr>
 
-#define power_adca_enable()     (PR_PRPA &= (uint8_t)~(PR_ADC_bm))
-#define power_adca_disable()    (PR_PRPA |= (uint8_t)PR_ADC_bm)
-#define power_adcb_enable()     (PR_PRPB &= (uint8_t)~(PR_ADC_bm))
-#define power_adcb_disable()    (PR_PRPB |= (uint8_t)PR_ADC_bm)
+  <tr>
+   <td>power_rtc_disable()</td>
+    <td> Disable the RTC module </td>
+    <td>ATxmega16C4, ATxmega32C4, ATxmega32C3, ATxmega64C3, ATxmega128C3, ATxmega192C3, ATxmega256C3, ATxmega16A4, ATxmega16A4U, ATxmega16D4, ATxmega32A4, ATxmega32A4U, ATxmega32D4, ATxmega64A1, ATxmega64A1U, ATxmega64A3, ATxmega64A3U, ATxmega64A4U, ATxmega32D3, ATxmega64D3, ATxmega128A1, ATxmega128A1U, ATxmega128A3, ATxmega128A3U, ATxmega128A4U, ATxmega128D3, ATxmega192A3, ATxmega192A3U, ATxmega192D3, ATxmega256A3, ATxmega256A3U, ATxmega256A3B, ATxmega256A3BU, ATxmega384C3, ATxmega64D4, ATxmega128D4, ATxmega64B1, ATxmega64B3, ATxmega128B1, ATxmega128B3</td>
+  </tr>
 
-#define power_aca_enable()      (PR_PRPA &= (uint8_t)~(PR_AC_bm))
-#define power_aca_disable()     (PR_PRPA |= (uint8_t)PR_AC_bm)
-#define power_acb_enable()      (PR_PRPB &= (uint8_t)~(PR_AC_bm))
-#define power_acb_disable()     (PR_PRPB |= (uint8_t)PR_AC_bm)
+  <tr>
+   <td>power_rtc_enable()</td>
+    <td> Enable the RTC module </td>
+    <td>ATxmega16C4, ATxmega32C4, ATxmega32C3, ATxmega64C3, ATxmega128C3, ATxmega192C3, ATxmega256C3, ATxmega16A4, ATxmega16A4U, ATxmega16D4, ATxmega32A4, ATxmega32A4U, ATxmega32D4, ATxmega64A1, ATxmega64A1U, ATxmega64A3, ATxmega64A3U, ATxmega64A4U, ATxmega32D3, ATxmega64D3, ATxmega128A1, ATxmega128A1U, ATxmega128A3, ATxmega128A3U, ATxmega128A4U, ATxmega128D3, ATxmega192A3, ATxmega192A3U, ATxmega192D3, ATxmega256A3, ATxmega256A3U, ATxmega256A3B, ATxmega256A3BU, ATxmega384C3, ATxmega64D4, ATxmega128D4, ATxmega64B1, ATxmega64B3, ATxmega128B1, ATxmega128B3</td>
+  </tr>
 
-#define power_twic_enable()     (PR_PRPC &= (uint8_t)~(PR_TWI_bm))
-#define power_twic_disable()    (PR_PRPC |= (uint8_t)PR_TWI_bm)
-#define power_twid_enable()     (PR_PRPD &= (uint8_t)~(PR_TWI_bm))
-#define power_twid_disable()    (PR_PRPD |= (uint8_t)PR_TWI_bm)
-#define power_twie_enable()     (PR_PRPE &= (uint8_t)~(PR_TWI_bm))
-#define power_twie_disable()    (PR_PRPE |= (uint8_t)PR_TWI_bm)
-#define power_twif_enable()     (PR_PRPF &= (uint8_t)~(PR_TWI_bm))
-#define power_twif_disable()    (PR_PRPF |= (uint8_t)PR_TWI_bm)
+  <tr>
+   <td>power_sci_disable()</td>
+    <td> Disable the SCI module </td>
+    <td>AT90SCR100</td>
+  </tr>
 
-#define power_usartc0_enable()  (PR_PRPC &= (uint8_t)~(PR_USART0_bm))
-#define power_usartc0_disable() (PR_PRPC |= (uint8_t)PR_USART0_bm)
-#define power_usartd0_enable()  (PR_PRPD &= (uint8_t)~(PR_USART0_bm))
-#define power_usartd0_disable() (PR_PRPD |= (uint8_t)PR_USART0_bm)
-#define power_usarte0_enable()  (PR_PRPE &= (uint8_t)~(PR_USART0_bm))
-#define power_usarte0_disable() (PR_PRPE |= (uint8_t)PR_USART0_bm)
-#define power_usartf0_enable()  (PR_PRPF &= (uint8_t)~(PR_USART0_bm))
-#define power_usartf0_disable() (PR_PRPF |= (uint8_t)PR_USART0_bm)
+  <tr>
+   <td>power_sci_enable()</td>
+    <td> Enable the SCI module </td>
+    <td>AT90SCR100</td>
+  </tr>
 
-#define power_spic_enable()     (PR_PRPC &= (uint8_t)~(PR_SPI_bm))
-#define power_spic_disable()    (PR_PRPC |= (uint8_t)PR_SPI_bm)
-#define power_spid_enable()     (PR_PRPD &= (uint8_t)~(PR_SPI_bm))
-#define power_spid_disable()    (PR_PRPD |= (uint8_t)PR_SPI_bm)
-#define power_spie_enable()     (PR_PRPE &= (uint8_t)~(PR_SPI_bm))
-#define power_spie_disable()    (PR_PRPE |= (uint8_t)PR_SPI_bm)
-#define power_spif_enable()     (PR_PRPF &= (uint8_t)~(PR_SPI_bm))
-#define power_spif_disable()    (PR_PRPF |= (uint8_t)PR_SPI_bm)
+  <tr>
+   <td>power_spi_disable()</td>
+     <td>Disable the Serial Peripheral Interface module.</td>
+    <td>ATmega640, ATmega1280, ATmega1281, ATmega2560, ATmega2561, ATmega128RFA1, AT90USB646, AT90USB647, AT90USB1286, AT90USB1287, ATmega32U4, ATmega16U4, ATmega32U6, AT90PWM1, AT90PWM2, AT90PWM2B, AT90PWM3, AT90PWM3B, AT90PWM216, AT90PWM316, AT90PWM81, AT90PWM161, ATmega165, ATmega165A, ATmega165P, ATmega165PA, ATmega325, ATmega325A, ATmega325PA, ATmega3250, ATmega3250A, ATmega3250PA, ATmega645, ATmega645A, ATmega645P, ATmega6450, ATmega6450A, ATmega6450P, ATmega169, ATmega169A, ATmega169P, ATmega169PA, ATmega329, ATmega329A, ATmega329P, ATmega329PA, ATmega3290, ATmega3290A, ATmega3290P, ATmega3290PA, ATmega649, ATmega649A, ATmega649P, ATmega6490, ATmega6490A, ATmega6490P, ATmega164A, ATmega164P, ATmega324A, ATmega324P, ATmega324PA, ATmega644P, ATmega644A, ATmega644PA, ATmega644, ATmega164PA, ATmega48, ATmega48A, ATmega48PA, ATmega48P, ATmega88, ATmega88A, ATmega88P, ATmega88PA, ATmega168, ATmega168A, ATmega168P, ATmega168PA, ATmega328, ATmega328P, ATtiny48, ATtiny88, ATtiny828, ATtiny441, ATmega1284, ATmega1284P, ATmega32HVB, ATmega32HVBREVB, ATmega16HVB, ATmega16HVBREVB, ATA5790, ATA5795, ATmega16M1, ATmega32C1, ATmega32M1, ATmega64C1, ATmega64M1, ATtiny167, ATtiny87, ATA5505, ATA5272, ATA6612C, ATA6613C, ATA6614Q, ATA6616C, ATA6617C, ATA664251, AT90USB82, AT90USB162, ATmega8U2, ATmega16U2, ATmega32U2, AT90SCR100, ATtiny20, ATtiny40</td>
+  </tr>
 
-#define power_hiresc_enable()   (PR_PRPC &= (uint8_t)~(PR_HIRES_bm))
-#define power_hiresc_disable()  (PR_PRPC |= (uint8_t)PR_HIRES_bm)
-#define power_hiresd_enable()   (PR_PRPD &= (uint8_t)~(PR_HIRES_bm))
-#define power_hiresd_disable()  (PR_PRPD |= (uint8_t)PR_HIRES_bm)
-#define power_hirese_enable()   (PR_PRPE &= (uint8_t)~(PR_HIRES_bm))
-#define power_hirese_disable()  (PR_PRPE |= (uint8_t)PR_HIRES_bm)
-#define power_hiresf_enable()   (PR_PRPF &= (uint8_t)~(PR_HIRES_bm))
-#define power_hiresf_disable()  (PR_PRPF |= (uint8_t)PR_HIRES_bm)
+  <tr>
+   <td>power_spi_enable()</td>
+     <td>Enable the Serial Peripheral Interface module.</td>
+    <td>ATmega640, ATmega1280, ATmega1281, ATmega2560, ATmega2561, ATmega128RFA1, AT90USB646, AT90USB647, AT90USB1286, AT90USB1287, ATmega32U4, ATmega16U4, ATmega32U6, AT90PWM1, AT90PWM2, AT90PWM2B, AT90PWM3, AT90PWM3B, AT90PWM216, AT90PWM316, AT90PWM81, AT90PWM161, ATmega165, ATmega165A, ATmega165P, ATmega165PA, ATmega325, ATmega325A, ATmega325PA, ATmega3250, ATmega3250A, ATmega3250PA, ATmega645, ATmega645A, ATmega645P, ATmega6450, ATmega6450A, ATmega6450P, ATmega169, ATmega169A, ATmega169P, ATmega169PA, ATmega329, ATmega329A, ATmega329P, ATmega329PA, ATmega3290, ATmega3290A, ATmega3290P, ATmega3290PA, ATmega649, ATmega649A, ATmega649P, ATmega6490, ATmega6490A, ATmega6490P, ATmega164A, ATmega164P, ATmega324A, ATmega324P, ATmega324PA, ATmega644P, ATmega644A, ATmega644PA, ATmega644, ATmega164PA, ATmega48, ATmega48A, ATmega48PA, ATmega48P, ATmega88, ATmega88A, ATmega88P, ATmega88PA, ATmega168, ATmega168A, ATmega168P, ATmega168PA, ATmega328, ATmega328P, ATtiny48, ATtiny88, ATtiny828, ATtiny441, ATmega1284, ATmega1284P, ATmega32HVB, ATmega32HVBREVB, ATmega16HVB, ATmega16HVBREVB, ATA5790, ATA5795, ATmega16M1, ATmega32C1, ATmega32M1, ATmega64C1, ATmega64M1, ATtiny167, ATtiny87, ATA5505, ATA5272, ATA6612C, ATA6613C, ATA6614Q, ATA6616C, ATA6617C, ATA664251, AT90USB82, AT90USB162, ATmega8U2, ATmega16U2, ATmega32U2, AT90SCR100, ATtiny20, ATtiny40</td>
+  </tr>
+
+  <tr>
+   <td>power_spic_disable()</td>
+    <td> Disable the SPI module on PortC </td>
+    <td>ATxmega16C4, ATxmega32C4, ATxmega32C3, ATxmega64C3, ATxmega128C3, ATxmega192C3, ATxmega256C3, ATxmega16A4, ATxmega16A4U, ATxmega16D4, ATxmega32A4, ATxmega32A4U, ATxmega32D4, ATxmega64A1, ATxmega64A1U, ATxmega64A3, ATxmega64A3U, ATxmega64A4U, ATxmega32D3, ATxmega64D3, ATxmega128A1, ATxmega128A1U, ATxmega128A3, ATxmega128A3U, ATxmega128A4U, ATxmega128D3, ATxmega192A3, ATxmega192A3U, ATxmega192D3, ATxmega256A3, ATxmega256A3U, ATxmega256A3B, ATxmega256A3BU, ATxmega384C3, ATxmega64D4, ATxmega128D4, ATxmega64B1, ATxmega64B3, ATxmega128B1, ATxmega128B3</td>
+  </tr>
+
+  <tr>
+   <td>power_spic_enable()</td>
+    <td> Enable the SPI module on PortC </td>
+    <td>ATxmega16C4, ATxmega32C4, ATxmega32C3, ATxmega64C3, ATxmega128C3, ATxmega192C3, ATxmega256C3, ATxmega16A4, ATxmega16A4U, ATxmega16D4, ATxmega32A4, ATxmega32A4U, ATxmega32D4, ATxmega64A1, ATxmega64A1U, ATxmega64A3, ATxmega64A3U, ATxmega64A4U, ATxmega32D3, ATxmega64D3, ATxmega128A1, ATxmega128A1U, ATxmega128A3, ATxmega128A3U, ATxmega128A4U, ATxmega128D3, ATxmega192A3, ATxmega192A3U, ATxmega192D3, ATxmega256A3, ATxmega256A3U, ATxmega256A3B, ATxmega256A3BU, ATxmega384C3, ATxmega64D4, ATxmega128D4, ATxmega64B1, ATxmega64B3, ATxmega128B1, ATxmega128B3</td>
+  </tr>
+
+  <tr>
+   <td>power_spid_disable()</td>
+    <td> Disable the SPI module on PortD </td>
+    <td>ATxmega16C4, ATxmega32C4, ATxmega32C3, ATxmega64C3, ATxmega128C3, ATxmega192C3, ATxmega256C3, ATxmega16A4, ATxmega16A4U, ATxmega16D4, ATxmega32A4, ATxmega32A4U, ATxmega32D4, ATxmega64A1, ATxmega64A1U, ATxmega64A3, ATxmega64A3U, ATxmega64A4U, ATxmega32D3, ATxmega64D3, ATxmega128A1, ATxmega128A1U, ATxmega128A3, ATxmega128A3U, ATxmega128A4U, ATxmega128D3, ATxmega192A3, ATxmega192A3U, ATxmega192D3, ATxmega256A3, ATxmega256A3U, ATxmega256A3B, ATxmega256A3BU, ATxmega384C3, ATxmega64D4, ATxmega128D4</td>
+  </tr>
+
+  <tr>
+   <td>power_spid_enable()</td>
+    <td> Enable the SPI module on PortD </td>
+    <td>ATxmega16C4, ATxmega32C4, ATxmega32C3, ATxmega64C3, ATxmega128C3, ATxmega192C3, ATxmega256C3, ATxmega16A4, ATxmega16A4U, ATxmega16D4, ATxmega32A4, ATxmega32A4U, ATxmega32D4, ATxmega64A1, ATxmega64A1U, ATxmega64A3, ATxmega64A3U, ATxmega64A4U, ATxmega32D3, ATxmega64D3, ATxmega128A1, ATxmega128A1U, ATxmega128A3, ATxmega128A3U, ATxmega128A4U, ATxmega128D3, ATxmega192A3, ATxmega192A3U, ATxmega192D3, ATxmega256A3, ATxmega256A3U, ATxmega256A3B, ATxmega256A3BU, ATxmega384C3, ATxmega64D4, ATxmega128D4</td>
+  </tr>
+
+  <tr>
+   <td>power_spie_disable()</td>
+    <td> Disable the SPI module on PortE </td>
+    <td>ATxmega16A4, ATxmega16A4U, ATxmega16D4, ATxmega32A4, ATxmega32A4U, ATxmega32D4, ATxmega64A1, ATxmega64A1U, ATxmega64A3, ATxmega64A3U, ATxmega64A4U, ATxmega32D3, ATxmega64D3, ATxmega128A1, ATxmega128A1U, ATxmega128A3, ATxmega128A3U, ATxmega128A4U, ATxmega128D3, ATxmega192A3, ATxmega192A3U, ATxmega192D3, ATxmega256A3, ATxmega256A3U, ATxmega256A3B, ATxmega256A3BU, ATxmega384C3</td>
+  </tr>
+
+  <tr>
+   <td>power_spie_enable()</td>
+    <td> Enable the SPI module on PortE </td>
+    <td>ATxmega16A4, ATxmega16A4U, ATxmega16D4, ATxmega32A4, ATxmega32A4U, ATxmega32D4, ATxmega64A1, ATxmega64A1U, ATxmega64A3, ATxmega64A3U, ATxmega64A4U, ATxmega32D3, ATxmega64D3, ATxmega128A1, ATxmega128A1U, ATxmega128A3, ATxmega128A3U, ATxmega128A4U, ATxmega128D3, ATxmega192A3, ATxmega192A3U, ATxmega192D3, ATxmega256A3, ATxmega256A3U, ATxmega256A3B, ATxmega256A3BU, ATxmega384C3</td>
+  </tr>
+
+  <tr>
+   <td>power_spif_disable()</td>
+    <td> Disable the SPI module on PortF </td>
+    <td>ATxmega16A4, ATxmega16A4U, ATxmega16D4, ATxmega32A4, ATxmega32A4U, ATxmega32D4, ATxmega64A1, ATxmega64A1U, ATxmega64A3, ATxmega64A3U, ATxmega64A4U, ATxmega32D3, ATxmega64D3, ATxmega128A1, ATxmega128A1U, ATxmega128A3, ATxmega128A3U, ATxmega128A4U, ATxmega128D3, ATxmega192A3, ATxmega192A3U, ATxmega192D3, ATxmega256A3, ATxmega256A3U, ATxmega256A3B, ATxmega256A3BU, ATxmega384C3</td>
+  </tr>
+
+  <tr>
+   <td>power_spif_enable()</td>
+    <td> Enable the SPI module on PortF </td>
+    <td>ATxmega16A4, ATxmega16A4U, ATxmega16D4, ATxmega32A4, ATxmega32A4U, ATxmega32D4, ATxmega64A1, ATxmega64A1U, ATxmega64A3, ATxmega64A3U, ATxmega64A4U, ATxmega32D3, ATxmega64D3, ATxmega128A1, ATxmega128A1U, ATxmega128A3, ATxmega128A3U, ATxmega128A4U, ATxmega128D3, ATxmega192A3, ATxmega192A3U, ATxmega192D3, ATxmega256A3, ATxmega256A3U, ATxmega256A3B, ATxmega256A3BU, ATxmega384C3</td>
+  </tr>
+
+  <tr>
+   <td>power_tc0c_disable()</td>
+    <td> Disable the TC0 module on PortC </td>
+    <td>ATxmega16C4, ATxmega32C4, ATxmega32C3, ATxmega64C3, ATxmega128C3, ATxmega192C3, ATxmega256C3, ATxmega16A4, ATxmega16A4U, ATxmega16D4, ATxmega32A4, ATxmega32A4U, ATxmega32D4, ATxmega64A1, ATxmega64A1U, ATxmega64A3, ATxmega64A3U, ATxmega64A4U, ATxmega32D3, ATxmega64D3, ATxmega128A1, ATxmega128A1U, ATxmega128A3, ATxmega128A3U, ATxmega128A4U, ATxmega128D3, ATxmega192A3, ATxmega192A3U, ATxmega192D3, ATxmega256A3, ATxmega256A3U, ATxmega256A3B, ATxmega256A3BU, ATxmega384C3, ATxmega64D4, ATxmega128D4, ATxmega64B1, ATxmega64B3, ATxmega128B1, ATxmega128B3</td>
+  </tr>
+
+  <tr>
+   <td>power_tc0c_enable()</td>
+    <td> Enable the TC0 module on PortC </td>
+    <td>ATxmega16C4, ATxmega32C4, ATxmega32C3, ATxmega64C3, ATxmega128C3, ATxmega192C3, ATxmega256C3, ATxmega16A4, ATxmega16A4U, ATxmega16D4, ATxmega32A4, ATxmega32A4U, ATxmega32D4, ATxmega64A1, ATxmega64A1U, ATxmega64A3, ATxmega64A3U, ATxmega64A4U, ATxmega32D3, ATxmega64D3, ATxmega128A1, ATxmega128A1U, ATxmega128A3, ATxmega128A3U, ATxmega128A4U, ATxmega128D3, ATxmega192A3, ATxmega192A3U, ATxmega192D3, ATxmega256A3, ATxmega256A3U, ATxmega256A3B, ATxmega256A3BU, ATxmega384C3, ATxmega64D4, ATxmega128D4, ATxmega64B1, ATxmega64B3, ATxmega128B1, ATxmega128B3</td>
+  </tr>
+
+  <tr>
+   <td>power_tc0d_disable()</td>
+    <td> Disable the TC0 module on PortD </td>
+    <td>ATxmega16C4, ATxmega32C4, ATxmega32C3, ATxmega64C3, ATxmega128C3, ATxmega192C3, ATxmega256C3, ATxmega16A4, ATxmega16A4U, ATxmega16D4, ATxmega32A4, ATxmega32A4U, ATxmega32D4, ATxmega64A1, ATxmega64A1U, ATxmega64A3, ATxmega64A3U, ATxmega64A4U, ATxmega32D3, ATxmega64D3, ATxmega128A1, ATxmega128A1U, ATxmega128A3, ATxmega128A3U, ATxmega128A4U, ATxmega128D3, ATxmega192A3, ATxmega192A3U, ATxmega192D3, ATxmega256A3, ATxmega256A3U, ATxmega256A3B, ATxmega256A3BU, ATxmega384C3, ATxmega64D4, ATxmega128D4</td>
+  </tr>
+
+  <tr>
+   <td>power_tc0d_enable()</td>
+    <td> Enable the TC0 module on PortD </td>
+    <td>ATxmega16C4, ATxmega32C4, ATxmega32C3, ATxmega64C3, ATxmega128C3, ATxmega192C3, ATxmega256C3, ATxmega16A4, ATxmega16A4U, ATxmega16D4, ATxmega32A4, ATxmega32A4U, ATxmega32D4, ATxmega64A1, ATxmega64A1U, ATxmega64A3, ATxmega64A3U, ATxmega64A4U, ATxmega32D3, ATxmega64D3, ATxmega128A1, ATxmega128A1U, ATxmega128A3, ATxmega128A3U, ATxmega128A4U, ATxmega128D3, ATxmega192A3, ATxmega192A3U, ATxmega192D3, ATxmega256A3, ATxmega256A3U, ATxmega256A3B, ATxmega256A3BU, ATxmega384C3, ATxmega64D4, ATxmega128D4</td>
+  </tr>
+
+  <tr>
+   <td>power_tc0e_disable()</td>
+    <td> Disable the TC0 module on PortE </td>
+    <td>ATxmega16C4, ATxmega32C4, ATxmega32C3, ATxmega64C3, ATxmega128C3, ATxmega192C3, ATxmega256C3, ATxmega16A4, ATxmega16A4U, ATxmega16D4, ATxmega32A4, ATxmega32A4U, ATxmega32D4, ATxmega64A1, ATxmega64A1U, ATxmega64A3, ATxmega64A3U, ATxmega64A4U, ATxmega32D3, ATxmega64D3, ATxmega128A1, ATxmega128A1U, ATxmega128A3, ATxmega128A3U, ATxmega128A4U, ATxmega128D3, ATxmega192A3, ATxmega192A3U, ATxmega192D3, ATxmega256A3, ATxmega256A3U, ATxmega256A3B, ATxmega256A3BU, ATxmega384C3, ATxmega64D4, ATxmega128D4, ATxmega64B1, ATxmega64B3, ATxmega128B1, ATxmega128B3</td>
+  </tr>
+
+  <tr>
+   <td>power_tc0e_enable()</td>
+    <td> Enable the TC0 module on PortE </td>
+    <td>ATxmega16C4, ATxmega32C4, ATxmega32C3, ATxmega64C3, ATxmega128C3, ATxmega192C3, ATxmega256C3, ATxmega16A4, ATxmega16A4U, ATxmega16D4, ATxmega32A4, ATxmega32A4U, ATxmega32D4, ATxmega64A1, ATxmega64A1U, ATxmega64A3, ATxmega64A3U, ATxmega64A4U, ATxmega32D3, ATxmega64D3, ATxmega128A1, ATxmega128A1U, ATxmega128A3, ATxmega128A3U, ATxmega128A4U, ATxmega128D3, ATxmega192A3, ATxmega192A3U, ATxmega192D3, ATxmega256A3, ATxmega256A3U, ATxmega256A3B, ATxmega256A3BU, ATxmega384C3, ATxmega64D4, ATxmega128D4, ATxmega64B1, ATxmega64B3, ATxmega128B1, ATxmega128B3</td>
+  </tr>
+
+  <tr>
+   <td>power_tc0f_disable()</td>
+    <td> Disable the TC0 module on PortF </td>
+    <td>ATxmega16C4, ATxmega32C4, ATxmega32C3, ATxmega64C3, ATxmega128C3, ATxmega192C3, ATxmega256C3, ATxmega16A4, ATxmega16A4U, ATxmega16D4, ATxmega32A4, ATxmega32A4U, ATxmega32D4, ATxmega64A1, ATxmega64A1U, ATxmega64A3, ATxmega64A3U, ATxmega64A4U, ATxmega32D3, ATxmega64D3, ATxmega128A1, ATxmega128A1U, ATxmega128A3, ATxmega128A3U, ATxmega128A4U, ATxmega128D3, ATxmega192A3, ATxmega192A3U, ATxmega192D3, ATxmega256A3, ATxmega256A3U, ATxmega256A3B, ATxmega256A3BU, ATxmega384C3, ATxmega64D4, ATxmega128D4</td>
+  </tr>
+
+  <tr>
+   <td>power_tc0f_enable()</td>
+    <td> Enable the TC0 module on PortF </td>
+    <td>ATxmega16C4, ATxmega32C4, ATxmega32C3, ATxmega64C3, ATxmega128C3, ATxmega192C3, ATxmega256C3, ATxmega16A4, ATxmega16A4U, ATxmega16D4, ATxmega32A4, ATxmega32A4U, ATxmega32D4, ATxmega64A1, ATxmega64A1U, ATxmega64A3, ATxmega64A3U, ATxmega64A4U, ATxmega32D3, ATxmega64D3, ATxmega128A1, ATxmega128A1U, ATxmega128A3, ATxmega128A3U, ATxmega128A4U, ATxmega128D3, ATxmega192A3, ATxmega192A3U, ATxmega192D3, ATxmega256A3, ATxmega256A3U, ATxmega256A3B, ATxmega256A3BU, ATxmega384C3, ATxmega64D4, ATxmega128D4</td>
+  </tr>
+
+  <tr>
+   <td>power_tc1c_disable()</td>
+    <td> Disable the TC1 module on PortC </td>
+    <td>ATxmega16C4, ATxmega32C4, ATxmega32C3, ATxmega64C3, ATxmega128C3, ATxmega192C3, ATxmega256C3, ATxmega16A4, ATxmega16A4U, ATxmega16D4, ATxmega32A4, ATxmega32A4U, ATxmega32D4, ATxmega64A1, ATxmega64A1U, ATxmega64A3, ATxmega64A3U, ATxmega64A4U, ATxmega32D3, ATxmega64D3, ATxmega128A1, ATxmega128A1U, ATxmega128A3, ATxmega128A3U, ATxmega128A4U, ATxmega128D3, ATxmega192A3, ATxmega192A3U, ATxmega192D3, ATxmega256A3, ATxmega256A3U, ATxmega256A3B, ATxmega256A3BU, ATxmega384C3, ATxmega64D4, ATxmega128D4, ATxmega64B1, ATxmega64B3, ATxmega128B1, ATxmega128B3</td>
+  </tr>
+
+  <tr>
+   <td>power_tc1c_enable()</td>
+    <td> Enable the TC1 module on PortC </td>
+    <td>ATxmega16C4, ATxmega32C4, ATxmega32C3, ATxmega64C3, ATxmega128C3, ATxmega192C3, ATxmega256C3, ATxmega16A4, ATxmega16A4U, ATxmega16D4, ATxmega32A4, ATxmega32A4U, ATxmega32D4, ATxmega64A1, ATxmega64A1U, ATxmega64A3, ATxmega64A3U, ATxmega64A4U, ATxmega32D3, ATxmega64D3, ATxmega128A1, ATxmega128A1U, ATxmega128A3, ATxmega128A3U, ATxmega128A4U, ATxmega128D3, ATxmega192A3, ATxmega192A3U, ATxmega192D3, ATxmega256A3, ATxmega256A3U, ATxmega256A3B, ATxmega256A3BU, ATxmega384C3, ATxmega64D4, ATxmega128D4, ATxmega64B1, ATxmega64B3, ATxmega128B1, ATxmega128B3</td>
+  </tr>
+
+  <tr>
+   <td>power_tc1d_disable()</td>
+    <td> Disable the TC1 module on PortD </td>
+    <td>ATxmega16A4, ATxmega16A4U, ATxmega16D4, ATxmega32A4, ATxmega32A4U, ATxmega32D4, ATxmega64A1, ATxmega64A1U, ATxmega64A3, ATxmega64A3U, ATxmega64A4U, ATxmega32D3, ATxmega64D3, ATxmega128A1, ATxmega128A1U, ATxmega128A3, ATxmega128A3U, ATxmega128A4U, ATxmega128D3, ATxmega192A3, ATxmega192A3U, ATxmega192D3, ATxmega256A3, ATxmega256A3U, ATxmega256A3B, ATxmega256A3BU, ATxmega384C3</td>
+  </tr>
+
+  <tr>
+   <td>power_tc1d_enable()</td>
+    <td> Enable the TC1 module on PortD </td>
+    <td>ATxmega16A4, ATxmega16A4U, ATxmega16D4, ATxmega32A4, ATxmega32A4U, ATxmega32D4, ATxmega64A1, ATxmega64A1U, ATxmega64A3, ATxmega64A3U, ATxmega64A4U, ATxmega32D3, ATxmega64D3, ATxmega128A1, ATxmega128A1U, ATxmega128A3, ATxmega128A3U, ATxmega128A4U, ATxmega128D3, ATxmega192A3, ATxmega192A3U, ATxmega192D3, ATxmega256A3, ATxmega256A3U, ATxmega256A3B, ATxmega256A3BU, ATxmega384C3</td>
+  </tr>
+
+  <tr>
+   <td>power_tc1e_disable()</td>
+    <td> Disable the TC1 module on PortE </td>
+    <td>ATxmega16A4, ATxmega16A4U, ATxmega16D4, ATxmega32A4, ATxmega32A4U, ATxmega32D4, ATxmega64A1, ATxmega64A1U, ATxmega64A3, ATxmega64A3U, ATxmega64A4U, ATxmega32D3, ATxmega64D3, ATxmega128A1, ATxmega128A1U, ATxmega128A3, ATxmega128A3U, ATxmega128A4U, ATxmega128D3, ATxmega192A3, ATxmega192A3U, ATxmega192D3, ATxmega256A3, ATxmega256A3U, ATxmega256A3B, ATxmega256A3BU, ATxmega384C3</td>
+  </tr>
+
+  <tr>
+   <td>power_tc1e_enable()</td>
+    <td> Enable the TC1 module on PortE </td>
+    <td>ATxmega16A4, ATxmega16A4U, ATxmega16D4, ATxmega32A4, ATxmega32A4U, ATxmega32D4, ATxmega64A1, ATxmega64A1U, ATxmega64A3, ATxmega64A3U, ATxmega64A4U, ATxmega32D3, ATxmega64D3, ATxmega128A1, ATxmega128A1U, ATxmega128A3, ATxmega128A3U, ATxmega128A4U, ATxmega128D3, ATxmega192A3, ATxmega192A3U, ATxmega192D3, ATxmega256A3, ATxmega256A3U, ATxmega256A3B, ATxmega256A3BU, ATxmega384C3</td>
+  </tr>
+
+  <tr>
+   <td>power_tc1f_disable()</td>
+    <td> Disable the TC1 module on PortF </td>
+    <td>ATxmega16A4, ATxmega16A4U, ATxmega16D4, ATxmega32A4, ATxmega32A4U, ATxmega32D4, ATxmega64A1, ATxmega64A1U, ATxmega64A3, ATxmega64A3U, ATxmega64A4U, ATxmega32D3, ATxmega64D3, ATxmega128A1, ATxmega128A1U, ATxmega128A3, ATxmega128A3U, ATxmega128A4U, ATxmega128D3, ATxmega192A3, ATxmega192A3U, ATxmega192D3, ATxmega256A3, ATxmega256A3U, ATxmega256A3B, ATxmega256A3BU, ATxmega384C3</td>
+  </tr>
+
+  <tr>
+   <td>power_tc1f_enable()</td>
+    <td> Enable the TC1 module on PortF </td>
+    <td>ATxmega16A4, ATxmega16A4U, ATxmega16D4, ATxmega32A4, ATxmega32A4U, ATxmega32D4, ATxmega64A1, ATxmega64A1U, ATxmega64A3, ATxmega64A3U, ATxmega64A4U, ATxmega32D3, ATxmega64D3, ATxmega128A1, ATxmega128A1U, ATxmega128A3, ATxmega128A3U, ATxmega128A4U, ATxmega128D3, ATxmega192A3, ATxmega192A3U, ATxmega192D3, ATxmega256A3, ATxmega256A3U, ATxmega256A3B, ATxmega256A3BU, ATxmega384C3</td>
+  </tr>
+
+  <tr>
+   <td>power_timer0_disable()</td>
+     <td>Disable the Timer 0 module.</td>
+    <td>ATmega640, ATmega1280, ATmega1281, ATmega2560, ATmega2561, ATmega128RFA1, AT90USB646, AT90USB647, AT90USB1286, AT90USB1287, ATmega32U4, ATmega16U4, ATmega32U6, AT90PWM1, AT90PWM2, AT90PWM2B, AT90PWM3, AT90PWM3B, AT90PWM216, AT90PWM316, ATmega164A, ATmega164P, ATmega324A, ATmega324P, ATmega324PA, ATmega644P, ATmega644A, ATmega644PA, ATmega644, ATmega164PA, ATmega406, ATmega48, ATmega48A, ATmega48PA, ATmega48P, ATmega88, ATmega88A, ATmega88P, ATmega88PA, ATmega168, ATmega168A, ATmega168P, ATmega168PA, ATmega328, ATmega328P, ATtiny48, ATtiny88, ATtiny828, ATtiny24, ATtiny24A, ATtiny44, ATtiny44A, ATtiny84, ATtiny84A, ATtiny25, ATtiny45, ATtiny85, ATtiny261, ATtiny261A, ATtiny441, ATtiny461, ATtiny461A, ATtiny861, ATtiny861A, ATtiny43U, ATmega1284, ATmega1284P, ATmega32HVB, ATmega32HVBREVB, ATmega16HVB, ATmega16HVBREVB, ATmega16M1, ATmega32C1, ATmega32M1, ATmega64C1, ATmega64M1, ATtiny167, ATtiny87, ATA5505, ATA5272, ATA6612C, ATA6613C, ATA6614Q, ATA6616C, ATA6617C, ATA664251, ATtiny1634, AT90USB82, AT90USB162, ATmega8U2, ATmega16U2, ATmega32U2, AT90SCR100, ATtiny4, ATtiny5, ATtiny9, ATtiny10, ATtiny13A, ATtiny20, ATtiny40</td>
+  </tr>
+
+  <tr>
+   <td>power_timer0_enable()</td>
+     <td>Enable the Timer 0 module.</td>
+    <td>ATmega640, ATmega1280, ATmega1281, ATmega2560, ATmega2561, ATmega128RFA1, AT90USB646, AT90USB647, AT90USB1286, AT90USB1287, ATmega32U4, ATmega16U4, ATmega32U6, AT90PWM1, AT90PWM2, AT90PWM2B, AT90PWM3, AT90PWM3B, AT90PWM216, AT90PWM316, ATmega164A, ATmega164P, ATmega324A, ATmega324P, ATmega324PA, ATmega644P, ATmega644A, ATmega644PA, ATmega644, ATmega164PA, ATmega406, ATmega48, ATmega48A, ATmega48PA, ATmega48P, ATmega88, ATmega88A, ATmega88P, ATmega88PA, ATmega168, ATmega168A, ATmega168P, ATmega168PA, ATmega328, ATmega328P, ATtiny48, ATtiny88, ATtiny828, ATtiny24, ATtiny24A, ATtiny44, ATtiny44A, ATtiny84, ATtiny84A, ATtiny25, ATtiny45, ATtiny85, ATtiny261, ATtiny261A, ATtiny441, ATtiny461, ATtiny461A, ATtiny861, ATtiny861A, ATtiny43U, ATmega1284, ATmega1284P, ATmega32HVB, ATmega32HVBREVB, ATmega16HVB, ATmega16HVBREVB, ATmega16M1, ATmega32C1, ATmega32M1, ATmega64C1, ATmega64M1, ATtiny167, ATtiny87, ATA5505, ATA5272, ATA6612C, ATA6613C, ATA6614Q, ATA6616C, ATA6617C, ATA664251, ATtiny1634, AT90USB82, AT90USB162, ATmega8U2, ATmega16U2, ATmega32U2, AT90SCR100, ATtiny4, ATtiny5, ATtiny9, ATtiny10, ATtiny13A, ATtiny20, ATtiny40</td>
+  </tr>
+
+  <tr>
+   <td>power_timer1_disable()</td>
+     <td>Disable the Timer 1 module.</td>
+    <td>ATmega640, ATmega1280, ATmega1281, ATmega2560, ATmega2561, ATmega128RFA1, AT90USB646, AT90USB647, AT90USB1286, AT90USB1287, ATmega32U4, ATmega16U4, ATmega32U6, AT90PWM1, AT90PWM2, AT90PWM2B, AT90PWM3, AT90PWM3B, AT90PWM216, AT90PWM316, AT90PWM81, AT90PWM161, ATmega165, ATmega165A, ATmega165P, ATmega165PA, ATmega325, ATmega325A, ATmega325PA, ATmega3250, ATmega3250A, ATmega3250PA, ATmega645, ATmega645A, ATmega645P, ATmega6450, ATmega6450A, ATmega6450P, ATmega169, ATmega169A, ATmega169P, ATmega169PA, ATmega329, ATmega329A, ATmega329P, ATmega329PA, ATmega3290, ATmega3290A, ATmega3290P, ATmega3290PA, ATmega649, ATmega649A, ATmega649P, ATmega6490, ATmega6490A, ATmega6490P, ATmega164A, ATmega164P, ATmega324A, ATmega324P, ATmega324PA, ATmega644P, ATmega644A, ATmega644PA, ATmega644, ATmega164PA, ATmega406, ATmega48, ATmega48A, ATmega48PA, ATmega48P, ATmega88, ATmega88A, ATmega88P, ATmega88PA, ATmega168, ATmega168A, ATmega168P, ATmega168PA, ATmega328, ATmega328P, ATtiny48, ATtiny88, ATtiny828, ATtiny441, ATtiny24, ATtiny24A, ATtiny44, ATtiny44A, ATtiny84, ATtiny84A, ATtiny25, ATtiny45, ATtiny85, ATtiny261, ATtiny261A, ATtiny461, ATtiny461A, ATtiny861, ATtiny861A, ATtiny43U, ATmega1284, ATmega1284P, ATmega32HVB, ATmega32HVBREVB, ATmega16HVB, ATmega16HVBREVB, ATA5790, ATA5795, ATmega16M1, ATmega32C1, ATmega32M1, ATmega64C1, ATmega64M1, ATtiny167, ATtiny87, ATA5505, ATA5272, ATA6612C, ATA6613C, ATA6614Q, ATA6616C, ATA6617C, ATA664251, ATtiny1634, AT90USB82, AT90USB162, ATmega8U2, ATmega16U2, ATmega32U2, AT90SCR100, ATtiny20, ATtiny40</td>
+  </tr>
+
+  <tr>
+   <td>power_timer1_enable()</td>
+     <td>Enable the Timer 1 module.</td>
+    <td>ATmega640, ATmega1280, ATmega1281, ATmega2560, ATmega2561, ATmega128RFA1, AT90USB646, AT90USB647, AT90USB1286, AT90USB1287, ATmega32U4, ATmega16U4, ATmega32U6, AT90PWM1, AT90PWM2, AT90PWM2B, AT90PWM3, AT90PWM3B, AT90PWM216, AT90PWM316, AT90PWM81, AT90PWM161, ATmega165, ATmega165A, ATmega165P, ATmega165PA, ATmega325, ATmega325A, ATmega325PA, ATmega3250, ATmega3250A, ATmega3250PA, ATmega645, ATmega645A, ATmega645P, ATmega6450, ATmega6450A, ATmega6450P, ATmega169, ATmega169A, ATmega169P, ATmega169PA, ATmega329, ATmega329A, ATmega329P, ATmega329PA, ATmega3290, ATmega3290A, ATmega3290P, ATmega3290PA, ATmega649, ATmega649A, ATmega649P, ATmega6490, ATmega6490A, ATmega6490P, ATmega164A, ATmega164P, ATmega324A, ATmega324P, ATmega324PA, ATmega644P, ATmega644A, ATmega644PA, ATmega644, ATmega164PA, ATmega406, ATmega48, ATmega48A, ATmega48PA, ATmega48P, ATmega88, ATmega88A, ATmega88P, ATmega88PA, ATmega168, ATmega168A, ATmega168P, ATmega168PA, ATmega328, ATmega328P, ATtiny48, ATtiny88, ATtiny828, ATtiny441, ATtiny24, ATtiny24A, ATtiny44, ATtiny44A, ATtiny84, ATtiny84A, ATtiny25, ATtiny45, ATtiny85, ATtiny261, ATtiny261A, ATtiny461, ATtiny461A, ATtiny861, ATtiny861A, ATtiny43U, ATmega1284, ATmega1284P, ATmega32HVB, ATmega32HVBREVB, ATmega16HVB, ATmega16HVBREVB, ATA5790, ATA5795, ATmega16M1, ATmega32C1, ATmega32M1, ATmega64C1, ATmega64M1, ATtiny167, ATtiny87, ATA5505, ATA5272, ATA6612C, ATA6613C, ATA6614Q, ATA6616C, ATA6617C, ATA664251, ATtiny1634, AT90USB82, AT90USB162, ATmega8U2, ATmega16U2, ATmega32U2, AT90SCR100, ATtiny20, ATtiny40</td>
+  </tr>
+
+  <tr>
+   <td>power_timer2_disable()</td>
+     <td>Disable the Timer 2 module.</td>
+    <td>ATmega640, ATmega1280, ATmega1281, ATmega2560, ATmega2561, ATmega128RFA1, AT90USB646, AT90USB647, AT90USB1286, AT90USB1287, ATmega32U4, ATmega16U4, ATmega32U6, ATmega164A, ATmega164P, ATmega324A, ATmega324P, ATmega324PA, ATmega644P, ATmega644A, ATmega644PA, ATmega644, ATmega164PA, ATmega48, ATmega48A, ATmega48PA, ATmega48P, ATmega88, ATmega88A, ATmega88P, ATmega88PA, ATmega168, ATmega168A, ATmega168P, ATmega168PA, ATmega328, ATmega328P, ATtiny48, ATtiny88, ATtiny828, ATtiny441, ATmega1284, ATmega1284P, ATA5790, ATA5795, ATA6612C, ATA6613C, ATA6614Q, AT90SCR100</td>
+  </tr>
+
+  <tr>
+   <td>power_timer2_enable()</td>
+     <td>Enable the Timer 2 module.</td>
+    <td>ATmega640, ATmega1280, ATmega1281, ATmega2560, ATmega2561, ATmega128RFA1, AT90USB646, AT90USB647, AT90USB1286, AT90USB1287, ATmega32U4, ATmega16U4, ATmega32U6, ATmega164A, ATmega164P, ATmega324A, ATmega324P, ATmega324PA, ATmega644P, ATmega644A, ATmega644PA, ATmega644, ATmega164PA, ATmega48, ATmega48A, ATmega48PA, ATmega48P, ATmega88, ATmega88A, ATmega88P, ATmega88PA, ATmega168, ATmega168A, ATmega168P, ATmega168PA, ATmega328, ATmega328P, ATtiny48, ATtiny88, ATtiny828, ATtiny441, ATmega1284, ATmega1284P, ATA5790, ATA5795, ATA6612C, ATA6613C, ATA6614Q, AT90SCR100</td>
+  </tr>
+
+  <tr>
+   <td>power_timer3_disable()</td>
+     <td>Disable the Timer 3 module.</td>
+    <td>ATmega640, ATmega1280, ATmega1281, ATmega2560, ATmega2561, ATmega128RFA1, AT90USB646, AT90USB647, AT90USB1286, AT90USB1287, ATmega32U4, ATmega16U4, ATmega32U6, ATmega1284, ATmega1284P, ATA5790, ATA5795</td>
+  </tr>
+
+  <tr>
+   <td>power_timer3_enable()</td>
+     <td>Enable the Timer 3 module.</td>
+    <td>ATmega640, ATmega1280, ATmega1281, ATmega2560, ATmega2561, ATmega128RFA1, AT90USB646, AT90USB647, AT90USB1286, AT90USB1287, ATmega32U4, ATmega16U4, ATmega32U6, ATmega1284, ATmega1284P, ATA5790, ATA5795</td>
+  </tr>
+
+  <tr>
+   <td>power_timer4_disable()</td>
+     <td>Disable the Timer 4 module.</td>
+    <td>ATmega640, ATmega1280, ATmega1281, ATmega2560, ATmega2561, ATmega128RFA1</td>
+  </tr>
+
+  <tr>
+   <td>power_timer4_enable()</td>
+     <td>Enable the Timer 4 module.</td>
+    <td>ATmega640, ATmega1280, ATmega1281, ATmega2560, ATmega2561, ATmega128RFA1</td>
+  </tr>
+
+  <tr>
+   <td>power_timermodulator_disable()</td>
+    <td> Disable the TIMERMODULATOR module </td>
+    <td>ATA5790, ATA5795</td>
+  </tr>
+
+  <tr>
+   <td>power_timermodulator_enable()</td>
+    <td> Enable the TIMERMODULATOR module </td>
+    <td>ATA5790, ATA5795</td>
+  </tr>
+
+  <tr>
+   <td>power_twi_disable()</td>
+     <td>Disable the Two Wire Interface module.</td>
+    <td>ATmega640, ATmega1280, ATmega1281, ATmega2560, ATmega2561, ATmega128RFA1, AT90USB646, AT90USB647, AT90USB1286, AT90USB1287, ATmega32U4, ATmega16U4, ATmega32U6, ATmega164A, ATmega164P, ATmega324A, ATmega324P, ATmega324PA, ATmega644P, ATmega644A, ATmega644PA, ATmega644, ATmega164PA, ATmega406, ATmega48, ATmega48A, ATmega48PA, ATmega48P, ATmega88, ATmega88A, ATmega88P, ATmega88PA, ATmega168, ATmega168A, ATmega168P, ATmega168PA, ATmega328, ATmega328P, ATtiny48, ATtiny88, ATtiny828, ATtiny441, ATmega1284, ATmega1284P, ATmega32HVB, ATmega32HVBREVB, ATmega16HVB, ATmega16HVBREVB, ATA6612C, ATA6613C, ATA6614Q, ATtiny1634, AT90SCR100, ATtiny20, ATtiny40</td>
+  </tr>
+
+  <tr>
+   <td>power_twi_enable()</td>
+     <td>Enable the Two Wire Interface module.</td>
+    <td>ATmega640, ATmega1280, ATmega1281, ATmega2560, ATmega2561, ATmega128RFA1, AT90USB646, AT90USB647, AT90USB1286, AT90USB1287, ATmega32U4, ATmega16U4, ATmega32U6, ATmega164A, ATmega164P, ATmega324A, ATmega324P, ATmega324PA, ATmega644P, ATmega644A, ATmega644PA, ATmega644, ATmega164PA, ATmega406, ATmega48, ATmega48A, ATmega48PA, ATmega48P, ATmega88, ATmega88A, ATmega88P, ATmega88PA, ATmega168, ATmega168A, ATmega168P, ATmega168PA, ATmega328, ATmega328P, ATtiny48, ATtiny88, ATtiny828, ATtiny441, ATmega1284, ATmega1284P, ATmega32HVB, ATmega32HVBREVB, ATmega16HVB, ATmega16HVBREVB, ATA6612C, ATA6613C, ATA6614Q, ATtiny1634, AT90SCR100, ATtiny20, ATtiny40</td>
+  </tr>
+
+  <tr>
+   <td>power_twic_disable()</td>
+    <td>Disable the Two Wire Interface module on PortC </td>
+    <td>ATxmega16C4, ATxmega32C4, ATxmega32C3, ATxmega64C3, ATxmega128C3, ATxmega192C3, ATxmega256C3, ATxmega16A4, ATxmega16A4U, ATxmega16D4, ATxmega32A4, ATxmega32A4U, ATxmega32D4, ATxmega64A1, ATxmega64A1U, ATxmega64A3, ATxmega64A3U, ATxmega64A4U, ATxmega32D3, ATxmega64D3, ATxmega128A1, ATxmega128A1U, ATxmega128A3, ATxmega128A3U, ATxmega128A4U, ATxmega128D3, ATxmega192A3, ATxmega192A3U, ATxmega192D3, ATxmega256A3, ATxmega256A3U, ATxmega256A3B, ATxmega256A3BU, ATxmega384C3, ATxmega64D4, ATxmega128D4, ATxmega64B1, ATxmega64B3, ATxmega128B1, ATxmega128B3</td>
+  </tr>
+
+  <tr>
+   <td>power_twic_enable()</td>
+    <td>Enable the Two Wire Interface module on PortC </td>
+    <td>ATxmega16C4, ATxmega32C4, ATxmega32C3, ATxmega64C3, ATxmega128C3, ATxmega192C3, ATxmega256C3, ATxmega16A4, ATxmega16A4U, ATxmega16D4, ATxmega32A4, ATxmega32A4U, ATxmega32D4, ATxmega64A1, ATxmega64A1U, ATxmega64A3, ATxmega64A3U, ATxmega64A4U, ATxmega32D3, ATxmega64D3, ATxmega128A1, ATxmega128A1U, ATxmega128A3, ATxmega128A3U, ATxmega128A4U, ATxmega128D3, ATxmega192A3, ATxmega192A3U, ATxmega192D3, ATxmega256A3, ATxmega256A3U, ATxmega256A3B, ATxmega256A3BU, ATxmega384C3, ATxmega64D4, ATxmega128D4, ATxmega64B1, ATxmega64B3, ATxmega128B1, ATxmega128B3</td>
+  </tr>
+
+  <tr>
+   <td>power_twid_disable()</td>
+    <td>Disable the Two Wire Interface module on PortD </td>
+    <td>ATxmega16A4, ATxmega16A4U, ATxmega16D4, ATxmega32A4, ATxmega32A4U, ATxmega32D4, ATxmega64A1, ATxmega64A1U, ATxmega64A3, ATxmega64A3U, ATxmega64A4U, ATxmega32D3, ATxmega64D3, ATxmega128A1, ATxmega128A1U, ATxmega128A3, ATxmega128A3U, ATxmega128A4U, ATxmega128D3, ATxmega192A3, ATxmega192A3U, ATxmega192D3, ATxmega256A3, ATxmega256A3U, ATxmega256A3B, ATxmega256A3BU, ATxmega384C3</td>
+  </tr>
+
+  <tr>
+   <td>power_twid_enable()</td>
+    <td>Enable the Two Wire Interface module on PortD </td>
+    <td>ATxmega16A4, ATxmega16A4U, ATxmega16D4, ATxmega32A4, ATxmega32A4U, ATxmega32D4, ATxmega64A1, ATxmega64A1U, ATxmega64A3, ATxmega64A3U, ATxmega64A4U, ATxmega32D3, ATxmega64D3, ATxmega128A1, ATxmega128A1U, ATxmega128A3, ATxmega128A3U, ATxmega128A4U, ATxmega128D3, ATxmega192A3, ATxmega192A3U, ATxmega192D3, ATxmega256A3, ATxmega256A3U, ATxmega256A3B, ATxmega256A3BU, ATxmega384C3</td>
+  </tr>
+
+  <tr>
+   <td>power_twie_disable()</td>
+    <td>Disable the Two Wire Interface module on PortE </td>
+    <td>ATxmega16C4, ATxmega32C4, ATxmega32C3, ATxmega64C3, ATxmega128C3, ATxmega192C3, ATxmega256C3, ATxmega16A4, ATxmega16A4U, ATxmega16D4, ATxmega32A4, ATxmega32A4U, ATxmega32D4, ATxmega64A1, ATxmega64A1U, ATxmega64A3, ATxmega64A3U, ATxmega64A4U, ATxmega32D3, ATxmega64D3, ATxmega128A1, ATxmega128A1U, ATxmega128A3, ATxmega128A3U, ATxmega128A4U, ATxmega128D3, ATxmega192A3, ATxmega192A3U, ATxmega192D3, ATxmega256A3, ATxmega256A3U, ATxmega256A3B, ATxmega256A3BU, ATxmega384C3, ATxmega64D4, ATxmega128D4</td>
+  </tr>
+
+  <tr>
+   <td>power_twie_enable()</td>
+    <td>Enable the Two Wire Interface module on PortE </td>
+    <td>ATxmega16C4, ATxmega32C4, ATxmega32C3, ATxmega64C3, ATxmega128C3, ATxmega192C3, ATxmega256C3, ATxmega16A4, ATxmega16A4U, ATxmega16D4, ATxmega32A4, ATxmega32A4U, ATxmega32D4, ATxmega64A1, ATxmega64A1U, ATxmega64A3, ATxmega64A3U, ATxmega64A4U, ATxmega32D3, ATxmega64D3, ATxmega128A1, ATxmega128A1U, ATxmega128A3, ATxmega128A3U, ATxmega128A4U, ATxmega128D3, ATxmega192A3, ATxmega192A3U, ATxmega192D3, ATxmega256A3, ATxmega256A3U, ATxmega256A3B, ATxmega256A3BU, ATxmega384C3, ATxmega64D4, ATxmega128D4</td>
+  </tr>
+
+  <tr>
+   <td>power_twif_disable()</td>
+    <td>Disable the Two Wire Interface module on PortF </td>
+    <td>ATxmega16A4, ATxmega16A4U, ATxmega16D4, ATxmega32A4, ATxmega32A4U, ATxmega32D4, ATxmega64A1, ATxmega64A1U, ATxmega64A3, ATxmega64A3U, ATxmega64A4U, ATxmega32D3, ATxmega64D3, ATxmega128A1, ATxmega128A1U, ATxmega128A3, ATxmega128A3U, ATxmega128A4U, ATxmega128D3, ATxmega192A3, ATxmega192A3U, ATxmega192D3, ATxmega256A3, ATxmega256A3U, ATxmega256A3B, ATxmega256A3BU, ATxmega384C3</td>
+  </tr>
+
+  <tr>
+   <td>power_twif_enable()</td>
+    <td>Disable the Two Wire Interface module on PortF </td>
+    <td>ATxmega16A4, ATxmega16A4U, ATxmega16D4, ATxmega32A4, ATxmega32A4U, ATxmega32D4, ATxmega64A1, ATxmega64A1U, ATxmega64A3, ATxmega64A3U, ATxmega64A4U, ATxmega32D3, ATxmega64D3, ATxmega128A1, ATxmega128A1U, ATxmega128A3, ATxmega128A3U, ATxmega128A4U, ATxmega128D3, ATxmega192A3, ATxmega192A3U, ATxmega192D3, ATxmega256A3, ATxmega256A3U, ATxmega256A3B, ATxmega256A3BU, ATxmega384C3</td>
+  </tr>
+
+  <tr>
+   <td>power_usart0_disable()</td>
+     <td>Disable the USART 0 module.</td>
+    <td>ATmega640, ATmega1280, ATmega1281, ATmega2560, ATmega2561, ATmega128RFA1, ATmega32U4, ATmega16U4, ATmega165, ATmega165A, ATmega165P, ATmega165PA, ATmega325, ATmega325A, ATmega325PA, ATmega3250, ATmega3250A, ATmega3250PA, ATmega645, ATmega645A, ATmega645P, ATmega6450, ATmega6450A, ATmega6450P, ATmega169, ATmega169A, ATmega169P, ATmega169PA, ATmega329, ATmega329A, ATmega329P, ATmega329PA, ATmega3290, ATmega3290A, ATmega3290P, ATmega3290PA, ATmega649, ATmega649A, ATmega649P, ATmega6490, ATmega6490A, ATmega6490P, ATmega164A, ATmega164P, ATmega324A, ATmega324P, ATmega324PA, ATmega644P, ATmega644A, ATmega644PA, ATmega644, ATmega164PA, ATmega48, ATmega48A, ATmega48PA, ATmega48P, ATmega88, ATmega88A, ATmega88P, ATmega88PA, ATmega168, ATmega168A, ATmega168P, ATmega168PA, ATmega328, ATmega328P, ATtiny48, ATtiny88, ATtiny828, ATtiny441, ATA6612C, ATA6613C, ATA6614Q, ATmega1284, ATmega1284P, ATtiny1634, AT90SCR100</td>
+  </tr>
+
+  <tr>
+   <td>power_usart0_enable()</td>
+     <td>Enable the USART 0 module.</td>
+    <td>ATmega640, ATmega1280, ATmega1281, ATmega2560, ATmega2561, ATmega128RFA1, ATmega32U4, ATmega16U4, ATmega165, ATmega165A, ATmega165P, ATmega165PA, ATmega325, ATmega325A, ATmega325PA, ATmega3250, ATmega3250A, ATmega3250PA, ATmega645, ATmega645A, ATmega645P, ATmega6450, ATmega6450A, ATmega6450P, ATmega169, ATmega169A, ATmega169P, ATmega169PA, ATmega329, ATmega329A, ATmega329P, ATmega329PA, ATmega3290, ATmega3290A, ATmega3290P, ATmega3290PA, ATmega649, ATmega649A, ATmega649P, ATmega6490, ATmega6490A, ATmega6490P, ATmega164A, ATmega164P, ATmega324A, ATmega324P, ATmega324PA, ATmega644P, ATmega644A, ATmega644PA, ATmega644, ATmega164PA, ATmega48, ATmega48A, ATmega48PA, ATmega48P, ATmega88, ATmega88A, ATmega88P, ATmega88PA, ATmega168, ATmega168A, ATmega168P, ATmega168PA, ATmega328, ATmega328P, ATtiny48, ATtiny88, ATtiny828, ATtiny441, ATA6612C, ATA6613C, ATA6614Q, ATmega1284, ATmega1284P, ATtiny1634, AT90SCR100</td>
+  </tr>
+
+  <tr>
+   <td>power_usart1_disable()</td>
+     <td>Disable the USART 1 module.</td>
+    <td>ATmega640, ATmega1280, ATmega1281, ATmega2560, ATmega2561, ATmega128RFA1, AT90USB646, AT90USB647, AT90USB1286, AT90USB1287, ATmega32U4, ATmega16U4, ATmega32U6, ATmega164A, ATmega164P, ATmega324A, ATmega324P, ATmega324PA, ATmega644P, ATmega644A, ATmega644PA, ATmega1284P, ATtiny441, ATtiny1634, AT90USB82, AT90USB162, ATmega8U2, ATmega16U2, ATmega32U2</td>
+  </tr>
+
+  <tr>
+   <td>power_usart1_enable()</td>
+     <td>Enable the USART 1 module.</td>
+    <td>ATmega640, ATmega1280, ATmega1281, ATmega2560, ATmega2561, ATmega128RFA1, AT90USB646, AT90USB647, AT90USB1286, AT90USB1287, ATmega32U4, ATmega16U4, ATmega32U6, ATmega164A, ATmega164P, ATmega324A, ATmega324P, ATmega324PA, ATmega644P, ATmega644A, ATmega644PA, ATmega1284P, ATtiny441, ATtiny1634, AT90USB82, AT90USB162, ATmega8U2, ATmega16U2, ATmega32U2</td>
+  </tr>
+
+  <tr>
+   <td>power_usart2_disable()</td>
+     <td>Disable the USART 2 module.</td>
+    <td>ATmega640, ATmega1280, ATmega1281, ATmega2560, ATmega2561</td>
+  </tr>
+
+  <tr>
+   <td>power_usart2_enable()</td>
+     <td>Enable the USART 2 module.</td>
+    <td>ATmega640, ATmega1280, ATmega1281, ATmega2560, ATmega2561</td>
+  </tr>
+
+  <tr>
+   <td>power_usart3_disable()</td>
+     <td>Disable the USART 3 module.</td>
+    <td>ATmega640, ATmega1280, ATmega1281, ATmega2560, ATmega2561</td>
+  </tr>
+
+  <tr>
+   <td>power_usart3_enable()</td>
+     <td>Enable the USART 3 module.</td>
+    <td>ATmega640, ATmega1280, ATmega1281, ATmega2560, ATmega2561</td>
+  </tr>
+
+  <tr>
+   <td>power_usart_disable()</td>
+     <td>Disable the USART module.</td>
+    <td>AT90PWM2, AT90PWM2B, AT90PWM3, AT90PWM3B, AT90PWM216, AT90PWM316</td>
+  </tr>
+
+  <tr>
+   <td>power_usart_enable()</td>
+     <td>Enable the USART module.</td>
+    <td>AT90PWM2, AT90PWM2B, AT90PWM3, AT90PWM3B, AT90PWM216, AT90PWM316</td>
+  </tr>
+
+  <tr>
+   <td>power_usartc0_disable()</td>
+    <td> Disable the USART0 module on PortC </td>
+    <td>ATxmega16C4, ATxmega32C4, ATxmega32C3, ATxmega64C3, ATxmega128C3, ATxmega192C3, ATxmega256C3, ATxmega16A4, ATxmega16A4U, ATxmega16D4, ATxmega32A4, ATxmega32A4U, ATxmega32D4, ATxmega64A1, ATxmega64A1U, ATxmega64A3, ATxmega64A3U, ATxmega64A4U, ATxmega32D3, ATxmega64D3, ATxmega128A1, ATxmega128A1U, ATxmega128A3, ATxmega128A3U, ATxmega128A4U, ATxmega128D3, ATxmega192A3, ATxmega192A3U, ATxmega192D3, ATxmega256A3, ATxmega256A3U, ATxmega256A3B, ATxmega256A3BU, ATxmega384C3, ATxmega64D4, ATxmega128D4, ATxmega64B1, ATxmega64B3, ATxmega128B1, ATxmega128B3</td>
+  </tr>
+
+  <tr>
+   <td>power_usartc0_enable()</td>
+    <td> Enable the USART0 module on PortC </td>
+    <td>ATxmega16C4, ATxmega32C4, ATxmega32C3, ATxmega64C3, ATxmega128C3, ATxmega192C3, ATxmega256C3, ATxmega16A4, ATxmega16A4U, ATxmega16D4, ATxmega32A4, ATxmega32A4U, ATxmega32D4, ATxmega64A1, ATxmega64A1U, ATxmega64A3, ATxmega64A3U, ATxmega64A4U, ATxmega32D3, ATxmega64D3, ATxmega128A1, ATxmega128A1U, ATxmega128A3, ATxmega128A3U, ATxmega128A4U, ATxmega128D3, ATxmega192A3, ATxmega192A3U, ATxmega192D3, ATxmega256A3, ATxmega256A3U, ATxmega256A3B, ATxmega256A3BU, ATxmega384C3, ATxmega64D4, ATxmega128D4, ATxmega64B1, ATxmega64B3, ATxmega128B1, ATxmega128B3</td>
+  </tr>
+
+  <tr>
+   <td>power_usartc1_disable()</td>
+    <td> Disable the USART1 module on PortC </td>
+    <td>ATxmega16A4, ATxmega16A4U, ATxmega32A4U, ATxmega32A4, ATxmega64A1, ATxmega64A1U, ATxmega64A3, ATxmega64A3U, ATxmega64A4U, ATxmega128A1, ATxmega128A1U, ATxmega128A3, ATxmega128A3U, ATxmega128A4U, ATxmega192A3, ATxmega192A3U, ATxmega256A3, ATxmega256A3U, ATxmega256A3B, ATxmega256A3BU, ATxmega384C3, ATxmega16C4, ATxmega32C4, ATxmega32C3, ATxmega64C3, ATxmega128C3, ATxmega192C3, ATxmega256C3</td>
+  </tr>
+
+  <tr>
+   <td>power_usartc1_enable()</td>
+    <td> Enable the USART1 module on PortC </td>
+    <td>ATxmega16A4, ATxmega16A4U, ATxmega32A4U, ATxmega32A4, ATxmega64A1, ATxmega64A1U, ATxmega64A3, ATxmega64A3U, ATxmega64A4U, ATxmega128A1, ATxmega128A1U, ATxmega128A3, ATxmega128A3U, ATxmega128A4U, ATxmega192A3, ATxmega192A3U, ATxmega256A3, ATxmega256A3U, ATxmega256A3B, ATxmega256A3BU, ATxmega384C3, ATxmega16C4, ATxmega32C4, ATxmega32C3, ATxmega64C3, ATxmega128C3, ATxmega192C3, ATxmega256C3</td>
+  </tr>
+
+  <tr>
+   <td>power_usartd0_disable()</td>
+    <td> Disable the USART0 module on PortD </td>
+    <td>ATxmega16C4, ATxmega32C4, ATxmega32C3, ATxmega64C3, ATxmega128C3, ATxmega192C3, ATxmega256C3, ATxmega16A4, ATxmega16A4U, ATxmega16D4, ATxmega32A4, ATxmega32A4U, ATxmega32D4, ATxmega64A1, ATxmega64A1U, ATxmega64A3, ATxmega64A3U, ATxmega64A4U, ATxmega32D3, ATxmega64D3, ATxmega128A1, ATxmega128A1U, ATxmega128A3, ATxmega128A3U, ATxmega128A4U, ATxmega128D3, ATxmega192A3, ATxmega192A3U, ATxmega192D3, ATxmega256A3, ATxmega256A3U, ATxmega256A3B, ATxmega256A3BU, ATxmega384C3, ATxmega64D4, ATxmega128D4</td>
+  </tr>
+
+  <tr>
+   <td>power_usartd0_enable()</td>
+    <td> Enable the USART0 module on PortD </td>
+    <td>ATxmega16C4, ATxmega32C4, ATxmega32C3, ATxmega64C3, ATxmega128C3, ATxmega192C3, ATxmega256C3, ATxmega16A4, ATxmega16A4U, ATxmega16D4, ATxmega32A4, ATxmega32A4U, ATxmega32D4, ATxmega64A1, ATxmega64A1U, ATxmega64A3, ATxmega64A3U, ATxmega64A4U, ATxmega32D3, ATxmega64D3, ATxmega128A1, ATxmega128A1U, ATxmega128A3, ATxmega128A3U, ATxmega128A4U, ATxmega128D3, ATxmega192A3, ATxmega192A3U, ATxmega192D3, ATxmega256A3, ATxmega256A3U, ATxmega256A3B, ATxmega256A3BU, ATxmega384C3, ATxmega64D4, ATxmega128D4</td>
+  </tr>
+
+  <tr>
+   <td>power_usartd1_disable()</td>
+    <td> Disable the USART1 module on PortD </td>
+    <td>ATxmega16A4, ATxmega16A4U, ATxmega32A4U, ATxmega32A4, ATxmega64A1, ATxmega64A1U, ATxmega64A3, ATxmega64A3U, ATxmega64A4U, ATxmega128A1, ATxmega128A1U, ATxmega128A3, ATxmega128A3U, ATxmega128A4U, ATxmega192A3, ATxmega192A3U, ATxmega256A3, ATxmega256A3U, ATxmega256A3B, ATxmega256A3BU, ATxmega384C3</td>
+  </tr>
+
+  <tr>
+   <td>power_usartd1_enable()</td>
+    <td> Enable the USART1 module on PortE </td>
+    <td>ATxmega16A4, ATxmega16A4U, ATxmega32A4U, ATxmega32A4, ATxmega64A1, ATxmega64A1U, ATxmega64A3, ATxmega64A3U, ATxmega64A4U, ATxmega128A1, ATxmega128A1U, ATxmega128A3, ATxmega128A3U, ATxmega128A4U, ATxmega192A3, ATxmega192A3U, ATxmega256A3, ATxmega256A3U, ATxmega256A3B, ATxmega256A3BU, ATxmega384C3</td>
+  </tr>
+
+  <tr>
+   <td>power_usarte0_disable()</td>
+    <td> Disable the USART0 module on PortE </td>
+    <td>ATxmega16C4, ATxmega32C4, ATxmega32C3, ATxmega64C3, ATxmega128C3, ATxmega192C3, ATxmega256C3, ATxmega16A4, ATxmega16A4U, ATxmega16D4, ATxmega32A4, ATxmega32A4U, ATxmega32D4, ATxmega64A1, ATxmega64A1U, ATxmega64A3, ATxmega64A3U, ATxmega64A4U, ATxmega32D3, ATxmega64D3, ATxmega128A1, ATxmega128A1U, ATxmega128A3, ATxmega128A3U, ATxmega128A4U, ATxmega128D3, ATxmega192A3, ATxmega192A3U, ATxmega192D3, ATxmega256A3, ATxmega256A3U, ATxmega256A3B, ATxmega256A3BU, ATxmega384C3, ATxmega64D4, ATxmega128D4, ATxmega64B1, ATxmega64B3, ATxmega128B1, ATxmega128B3</td>
+  </tr>
+
+  <tr>
+   <td>power_usarte0_enable()</td>
+    <td> Enable the USART0 module on PortE </td>
+    <td>ATxmega16C4, ATxmega32C4, ATxmega32C3, ATxmega64C3, ATxmega128C3, ATxmega192C3, ATxmega256C3, ATxmega16A4, ATxmega16A4U, ATxmega16D4, ATxmega32A4, ATxmega32A4U, ATxmega32D4, ATxmega64A1, ATxmega64A1U, ATxmega64A3, ATxmega64A3U, ATxmega64A4U, ATxmega32D3, ATxmega64D3, ATxmega128A1, ATxmega128A1U, ATxmega128A3, ATxmega128A3U, ATxmega128A4U, ATxmega128D3, ATxmega192A3, ATxmega192A3U, ATxmega192D3, ATxmega256A3, ATxmega256A3U, ATxmega256A3B, ATxmega256A3BU, ATxmega384C3, ATxmega64D4, ATxmega128D4, ATxmega64B1, ATxmega64B3, ATxmega128B1, ATxmega128B3</td>
+  </tr>
+
+  <tr>
+   <td>power_usarte1_disable()</td>
+    <td> Disable the USART1 module on PortE </td>
+    <td>ATxmega16A4, ATxmega16A4U, ATxmega32A4U, ATxmega32A4, ATxmega64A1, ATxmega64A1U, ATxmega64A3, ATxmega64A3U, ATxmega64A4U, ATxmega128A1, ATxmega128A1U, ATxmega128A3, ATxmega128A3U, ATxmega128A4U, ATxmega192A3, ATxmega192A3U, ATxmega256A3, ATxmega256A3U, ATxmega256A3B, ATxmega256A3BU, ATxmega384C3</td>
+  </tr>
+
+  <tr>
+   <td>power_usarte1_enable()</td>
+    <td> Enable the USART1 module on PortE </td>
+    <td>ATxmega16A4, ATxmega16A4U, ATxmega32A4U, ATxmega32A4, ATxmega64A1, ATxmega64A1U, ATxmega64A3, ATxmega64A3U, ATxmega64A4U, ATxmega128A1, ATxmega128A1U, ATxmega128A3, ATxmega128A3U, ATxmega128A4U, ATxmega192A3, ATxmega192A3U, ATxmega256A3, ATxmega256A3U, ATxmega256A3B, ATxmega256A3BU, ATxmega384C3</td>
+  </tr>
+
+  <tr>
+   <td>power_usartf0_disable()</td>
+    <td> Disable the USART0 module on PortF </td>
+    <td>ATxmega16C4, ATxmega32C4, ATxmega32C3, ATxmega64C3, ATxmega128C3, ATxmega192C3, ATxmega256C3, ATxmega16A4, ATxmega16A4U, ATxmega16D4, ATxmega32A4, ATxmega32A4U, ATxmega32D4, ATxmega64A1, ATxmega64A1U, ATxmega64A3, ATxmega64A3U, ATxmega64A4U, ATxmega32D3, ATxmega64D3, ATxmega128A1, ATxmega128A1U, ATxmega128A3, ATxmega128A3U, ATxmega128A4U, ATxmega128D3, ATxmega192A3, ATxmega192A3U, ATxmega192D3, ATxmega256A3, ATxmega256A3U, ATxmega256A3B, ATxmega256A3BU, ATxmega384C3, ATxmega64D4, ATxmega128D4</td>
+  </tr>
+
+  <tr>
+   <td>power_usartf0_enable()</td>
+    <td> Enable the USART0 module on PortF </td>
+    <td>ATxmega16C4, ATxmega32C4, ATxmega32C3, ATxmega64C3, ATxmega128C3, ATxmega192C3, ATxmega256C3, ATxmega16A4, ATxmega16A4U, ATxmega16D4, ATxmega32A4, ATxmega32A4U, ATxmega32D4, ATxmega64A1, ATxmega64A1U, ATxmega64A3, ATxmega64A3U, ATxmega64A4U, ATxmega32D3, ATxmega64D3, ATxmega128A1, ATxmega128A1U, ATxmega128A3, ATxmega128A3U, ATxmega128A4U, ATxmega128D3, ATxmega192A3, ATxmega192A3U, ATxmega192D3, ATxmega256A3, ATxmega256A3U, ATxmega256A3B, ATxmega256A3BU, ATxmega384C3, ATxmega64D4, ATxmega128D4</td>
+  </tr>
+
+  <tr>
+   <td>power_usartf1_disable()</td>
+    <td> Disable the USART1 module on PortF </td>
+    <td>ATxmega16A4, ATxmega16A4U, ATxmega32A4U, ATxmega32A4, ATxmega64A1, ATxmega64A1U, ATxmega64A3, ATxmega64A3U, ATxmega64A4U, ATxmega128A1, ATxmega128A1U, ATxmega128A3, ATxmega128A3U, ATxmega128A4U, ATxmega192A3, ATxmega192A3U, ATxmega256A3, ATxmega256A3U, ATxmega256A3B, ATxmega256A3BU, ATxmega384C3</td>
+  </tr>
+
+  <tr>
+   <td>power_usartf1_enable()</td>
+    <td> Enable the USART1 module on PortF </td>
+    <td>ATxmega16A4, ATxmega16A4U, ATxmega32A4U, ATxmega32A4, ATxmega64A1, ATxmega64A1U, ATxmega64A3, ATxmega64A3U, ATxmega64A4U, ATxmega128A1, ATxmega128A1U, ATxmega128A3, ATxmega128A3U, ATxmega128A4U, ATxmega192A3, ATxmega192A3U, ATxmega256A3, ATxmega256A3U, ATxmega256A3B, ATxmega256A3BU, ATxmega384C3</td>
+  </tr>
+
+  <tr>
+   <td>power_usb_disable()</td>
+     <td>Disable the USB module.</td>
+    <td>ATxmega384C3, ATxmega256A3BU, ATxmega16A4U, ATxmega32A4U, ATxmega64A3U, ATxmega64A4U, ATxmega128A3U, ATxmega128A4U, ATxmega192A3U, ATxmega256A3U, ATxmega16C4, ATxmega32C4, ATxmega32C3, ATxmega64C3, ATxmega128C3, ATxmega192C3, ATxmega256C3, ATxmega64B1, ATxmega64B3, ATxmega128B1, ATxmega128B3, AT90USB646, AT90USB647, AT90USB1286, AT90USB1287, ATmega32U4, ATmega16U4, ATmega32U6, AT90USB82, AT90USB162, ATmega8U2, ATmega16U2, ATmega32U2, AT90SCR100</td>
+  </tr>
+
+  <tr>
+   <td>power_usb_enable()</td>
+     <td>Enable the USB module.</td>
+    <td>ATxmega384C3, ATxmega256A3BU, ATxmega16A4U, ATxmega32A4U, ATxmega64A3U, ATxmega64A4U, ATxmega128A3U, ATxmega128A4U, ATxmega192A3U, ATxmega256A3U, ATxmega16C4, ATxmega32C4, ATxmega32C3, ATxmega64C3, ATxmega128C3, ATxmega192C3, ATxmega256C3, ATxmega64B1, ATxmega64B3, ATxmega128B1, ATxmega128B3, AT90USB646, AT90USB647, AT90USB1286, AT90USB1287, ATmega32U4, ATmega16U4, ATmega32U6, AT90USB82, AT90USB162, ATmega8U2, ATmega16U2, ATmega32U2, AT90SCR100</td>
+  </tr>
+
+  <tr>
+   <td>power_usbh_disable()</td>
+    <td> Disable the USBH module </td>
+    <td>AT90SCR100</td>
+  </tr>
+
+  <tr>
+   <td>power_usbh_enable()</td>
+    <td> Enable the USBH module </td>
+    <td>AT90SCR100</td>
+  </tr>
+
+  <tr>
+   <td>power_usi_disable()</td>
+     <td>Disable the Universal Serial Interface module.</td>
+    <td>ATtiny24, ATtiny24A, ATtiny44, ATtiny44A, ATtiny84, ATtiny84A, ATtiny25, ATtiny45, ATtiny85, ATtiny261, ATtiny261A, ATtiny461, ATtiny461A, ATtiny861, ATtiny861A, ATtiny43U, ATtiny167, ATtiny87, ATA5505, ATA5272, ATA6616C, ATA6617C, ATA664251, ATtiny1634</td>
+  </tr>
+
+  <tr>
+   <td>power_usi_enable()</td>
+     <td>Enable the Universal Serial Interface module.</td>
+    <td>ATtiny24, ATtiny24A, ATtiny44, ATtiny44A, ATtiny84, ATtiny84A, ATtiny25, ATtiny45, ATtiny85, ATtiny261, ATtiny261A, ATtiny461, ATtiny461A, ATtiny861, ATtiny861A, ATtiny43U, ATtiny167, ATtiny87, ATA5505, ATA5272, ATA6616C, ATA6617C, ATA664251, ATtiny1634</td>
+  </tr>
+
+  <tr>
+   <td>power_vadc_disable()</td>
+     <td>Disable the Voltage ADC module.</td>
+    <td>ATmega406, ATmega32HVB, ATmega32HVBREVB, ATmega16HVB, ATmega16HVBREVB</td>
+  </tr>
+
+  <tr>
+   <td>power_vadc_enable()</td>
+     <td>Enable the Voltage ADC module.</td>
+    <td>ATmega406, ATmega32HVB, ATmega32HVBREVB, ATmega16HVB, ATmega16HVBREVB</td>
+  </tr>
+
+  <tr>
+   <td>power_vmonitor_disable()</td>
+    <td> Disable the VMONITOR module </td>
+    <td>ATA5790, ATA5795</td>
+  </tr>
+
+  <tr>
+   <td>power_vmonitor_enable()</td>
+    <td> Enable the VMONITOR module </td>
+    <td>ATA5790, ATA5795</td>
+  </tr>
+
+  <tr>
+   <td>power_vrm_disable()</td>
+    <td> Disable the VRM module </td>
+    <td>ATmega32HVB, ATmega32HVBREVB, ATmega16HVB, ATmega16HVBREVB</td>
+  </tr>
+
+  <tr>
+   <td>power_vrm_enable()</td>
+    <td> Enable the VRM module </td>
+    <td>ATmega32HVB, ATmega32HVBREVB, ATmega16HVB, ATmega16HVBREVB</td>
+  </tr>
+
+  <tr>
+    <td>power_clock_output_enable()</td>
+    <td>Enable clock output module</td>
+    <td>ATA5831</td>
+  </tr>
+
+  <tr>
+    <td>power_clock_output_disable()</td>
+    <td>Enable clock output module</td>
+    <td>ATA5831</td>
+  </tr>
+
+  <tr>
+    <td>power_voltage_monitor_enable()</td>
+    <td>Enable voltage monitor module</td>
+    <td>ATA5831</td>
+  </tr>
+
+  <tr>
+    <td>power_voltage_monitor_disable()</td>
+    <td>Disable voltage monitor module</td>
+    <td>ATA5831</td>
+  </tr>
+
+  <tr>
+    <td>power_crc_enable()</td>
+    <td>Enable CRC module</td>
+    <td>ATA5831</td>
+  </tr>
+
+  <tr>
+    <td>power_crc_disable()</td>
+    <td>Disable CRC module</td>
+    <td>ATA5831</td>
+  </tr>
+
+  <tr>
+    <td>power_transmit_dsp_control_enable()</td>
+    <td>Enable Transmit DSP control module</td>
+    <td>ATA5831</td>
+  </tr>
+
+  <tr>
+    <td>power_transmit_dsp_control_disable()</td>
+    <td>Disable Transmit DSP control module</td>
+    <td>ATA5831</td>
+  </tr>
+
+  <tr>
+    <td>power_receive_dsp_control_enable()</td>
+    <td>Enable Receive DSP control module</td>
+    <td>ATA5831</td>
+  </tr>
+
+  <tr>
+    <td>power_receive_dsp_control_disable()</td>
+    <td>Disable Receive DSP control module</td>
+    <td>ATA5831</td>
+  </tr>
+
+  <tr>
+    <td>power_sequencer_state_machine_enable()</td>
+    <td>Enable power sequencer state machine</td>
+    <td>ATA5831</td>
+  </tr>
+
+  <tr>
+    <td>power_sequencer_state_machine_disable()</td>
+    <td>Disable power sequencer state machine</td>
+    <td>ATA5831</td>
+  </tr>
+
+  <tr>
+    <td>power_tx_modulator_enable()</td>
+    <td>Enable Tx modulator</td>
+    <td>ATA5831</td>
+  </tr>
+
+  <tr>
+    <td>power_tx_modulator_disable()</td>
+    <td>Disable Tx modulator</td>
+    <td>ATA5831</td>
+  </tr>
+
+  <tr>
+    <td>power_rssi_buffer_enable()</td>
+    <td>Enable RSSI buffer</td>
+    <td>ATA5831</td>
+  </tr>
+
+  <tr>
+    <td>power_rssi_buffer_disable()</td>
+    <td>Disable RSSI buffer</td>
+    <td>ATA5831</td>
+  </tr>
+
+  <tr>
+    <td>power_id_scan_enable()</td>
+    <td>Enable ID Scan</td>
+    <td>ATA5831</td>
+  </tr>
+
+  <tr>
+    <td>power_id_scan_disable()</td>
+    <td>Disable ID Scan</td>
+    <td>ATA5831</td>
+  </tr>
+
+  <tr>
+    <td>power_data_fifo_enable()</td>
+    <td>Enable data FIFO</td>
+    <td>ATA5831</td>
+  </tr>
+
+  <tr>
+    <td>power_data_fifo_disable()</td>
+    <td>Disable data FIFO</td>
+    <td>ATA5831</td>
+  </tr>
+
+  <tr>
+    <td>power_preamble_rssi_fifo_enable()</td>
+    <td>Enable preamble/RSSI FIFO</td>
+    <td>ATA5831</td>
+  </tr>
+
+  <tr>
+    <td>power_preamble_rssi_fifo_disable()</td>
+    <td>Disable preamble/RSSI FIFO</td>
+    <td>ATA5831</td>
+  </tr>
+
+  <tr>
+    <td>power_rx_buffer_A_enable()</td>
+    <td>Enable receive buffer for data path A</td>
+    <td>ATA5831</td>
+  </tr>
+
+  <tr>
+    <td>power_rx_buffer_A_disable()</td>
+    <td>Disable receive buffer for data path A</td>
+    <td>ATA5831</td>
+  </tr>
+
+  <tr>
+    <td>power_rx_buffer_B_enable()</td>
+    <td>Enable receive buffer for data path B</td>
+    <td>ATA5831</td>
+  </tr>
+
+  <tr>
+    <td>power_rx_buffer_B_disable()</td>
+    <td>Disable receive buffer for data path B</td>
+    <td>ATA5831</td>
+  </tr>
+
+</table>
+</center>
+</small>
+
+@} */
+
+// Xmega A series has AES, EBI and DMA bits
+// Include any other device on need basis
+#if defined(__AVR_ATxmega16A4__) \
+|| defined(__AVR_ATxmega16A4U__) \
+|| defined(__AVR_ATxmega32A4U__) \
+|| defined(__AVR_ATxmega32A4__) \
+|| defined(__AVR_ATxmega64A1__) \
+|| defined(__AVR_ATxmega64A1U__) \
+|| defined(__AVR_ATxmega64A3__) \
+|| defined(__AVR_ATxmega64A3U__) \
+|| defined(__AVR_ATxmega64A4U__) \
+|| defined(__AVR_ATxmega128A1__) \
+|| defined(__AVR_ATxmega128A1U__) \
+|| defined(__AVR_ATxmega128A3__) \
+|| defined(__AVR_ATxmega128A3U__) \
+|| defined(__AVR_ATxmega128A4U__) \
+|| defined(__AVR_ATxmega192A3__) \
+|| defined(__AVR_ATxmega192A3U__) \
+|| defined(__AVR_ATxmega256A3__) \
+|| defined(__AVR_ATxmega256A3U__) \
+|| defined(__AVR_ATxmega256A3B__) \
+|| defined(__AVR_ATxmega256A3BU__) \
+|| defined(__AVR_ATxmega384C3__)
+
+
+#define power_aes_enable()  (PR_PRGEN &= (uint8_t)~(PR_AES_bm))
+#define power_aes_disable() (PR_PRGEN |= (uint8_t)PR_AES_bm)
+
+#define power_ebi_enable()  (PR_PRGEN &= (uint8_t)~(PR_EBI_bm))
+#define power_ebi_disable() (PR_PRGEN |= (uint8_t)PR_EBI_bm)
+
+#define power_dma_enable()    (PR_PRGEN &= (uint8_t)~(PR_DMA_bm))
+#define power_dma_disable()   (PR_PRGEN |= (uint8_t)PR_DMA_bm)
+
+#define power_daca_enable()     (PR_PRPA &= (uint8_t)~(PR_DAC_bm))
+#define power_daca_disable()    (PR_PRPA |= (uint8_t)PR_DAC_bm)
+#define power_dacb_enable()     (PR_PRPB &= (uint8_t)~(PR_DAC_bm))
+#define power_dacb_disable()    (PR_PRPB |= (uint8_t)PR_DAC_bm)
+
+#define power_usartc1_enable()  (PR_PRPC &= (uint8_t)~(PR_USART1_bm))
+#define power_usartc1_disable() (PR_PRPC |= (uint8_t)PR_USART1_bm)
+#define power_usartd1_enable()  (PR_PRPD &= (uint8_t)~(PR_USART1_bm))
+#define power_usartd1_disable() (PR_PRPD |= (uint8_t)PR_USART1_bm)
+#define power_usarte1_enable()  (PR_PRPE &= (uint8_t)~(PR_USART1_bm))
+#define power_usarte1_disable() (PR_PRPE |= (uint8_t)PR_USART1_bm)
+#define power_usartf1_enable()  (PR_PRPF &= (uint8_t)~(PR_USART1_bm))
+#define power_usartf1_disable() (PR_PRPF |= (uint8_t)PR_USART1_bm)
+
+#if defined(__AVR_ATxmega384C3__) \
+|| defined(__AVR_ATxmega256A3BU__) \
+|| defined(__AVR_ATxmega16A4U__) \
+|| defined(__AVR_ATxmega32A4U__) \
+|| defined(__AVR_ATxmega64A3U__) \
+|| defined(__AVR_ATxmega64A4U__) \
+|| defined(__AVR_ATxmega128A3U__) \
+|| defined(__AVR_ATxmega128A4U__) \
+|| defined(__AVR_ATxmega192A3U__) \
+|| defined(__AVR_ATxmega256A3U__) 
+
+#define power_usb_enable()   (PR_PRGEN &= (uint8_t)~(PR_USB_bm))
+#define power_usb_disable()  (PR_PRGEN &= (uint8_t)(PR_USB_bm))
+
+#define power_all_enable() \
+do { \
+    PR_PRGEN &= (uint8_t)~(PR_AES_bm|PR_EBI_bm|PR_RTC_bm|PR_EVSYS_bm|PR_DMA_bm|PR_USB_bm); \
+    PR_PRPA &= (uint8_t)~(PR_DAC_bm|PR_ADC_bm|PR_AC_bm); \
+    PR_PRPB &= (uint8_t)~(PR_DAC_bm|PR_ADC_bm|PR_AC_bm); \
+    PR_PRPC &= (uint8_t)~(PR_TWI_bm|PR_USART1_bm|PR_USART0_bm|PR_SPI_bm|PR_HIRES_bm|PR_TC1_bm|PR_TC0_bm); \
+    PR_PRPD &= (uint8_t)~(PR_TWI_bm|PR_USART1_bm|PR_USART0_bm|PR_SPI_bm|PR_HIRES_bm|PR_TC1_bm|PR_TC0_bm); \
+    PR_PRPE &= (uint8_t)~(PR_TWI_bm|PR_USART1_bm|PR_USART0_bm|PR_SPI_bm|PR_HIRES_bm|PR_TC1_bm|PR_TC0_bm); \
+    PR_PRPF &= (uint8_t)~(PR_TWI_bm|PR_USART1_bm|PR_USART0_bm|PR_SPI_bm|PR_HIRES_bm|PR_TC1_bm|PR_TC0_bm); \
+} while(0)
+
+#define power_all_disable() \
+do { \
+    PR_PRGEN |= (uint8_t)(PR_AES_bm|PR_EBI_bm|PR_RTC_bm|PR_EVSYS_bm|PR_DMA_bm|PR_USB_bm); \
+    PR_PRPA |= (uint8_t)(PR_DAC_bm|PR_ADC_bm|PR_AC_bm); \
+    PR_PRPB |= (uint8_t)(PR_DAC_bm|PR_ADC_bm|PR_AC_bm); \
+    PR_PRPC |= (uint8_t)(PR_TWI_bm|PR_USART1_bm|PR_USART0_bm|PR_SPI_bm|PR_HIRES_bm|PR_TC1_bm|PR_TC0_bm); \
+    PR_PRPD |= (uint8_t)(PR_TWI_bm|PR_USART1_bm|PR_USART0_bm|PR_SPI_bm|PR_HIRES_bm|PR_TC1_bm|PR_TC0_bm); \
+    PR_PRPE |= (uint8_t)(PR_TWI_bm|PR_USART1_bm|PR_USART0_bm|PR_SPI_bm|PR_HIRES_bm|PR_TC1_bm|PR_TC0_bm); \
+    PR_PRPF |= (uint8_t)(PR_TWI_bm|PR_USART1_bm|PR_USART0_bm|PR_SPI_bm|PR_HIRES_bm|PR_TC1_bm|PR_TC0_bm); \
+} while(0)
+
+#else
+
+#define power_all_enable() \
+do { \
+    PR_PRGEN &= (uint8_t)~(PR_AES_bm|PR_EBI_bm|PR_RTC_bm|PR_EVSYS_bm|PR_DMA_bm); \
+    PR_PRPA &= (uint8_t)~(PR_DAC_bm|PR_ADC_bm|PR_AC_bm); \
+    PR_PRPB &= (uint8_t)~(PR_DAC_bm|PR_ADC_bm|PR_AC_bm); \
+    PR_PRPC &= (uint8_t)~(PR_TWI_bm|PR_USART1_bm|PR_USART0_bm|PR_SPI_bm|PR_HIRES_bm|PR_TC1_bm|PR_TC0_bm); \
+    PR_PRPD &= (uint8_t)~(PR_TWI_bm|PR_USART1_bm|PR_USART0_bm|PR_SPI_bm|PR_HIRES_bm|PR_TC1_bm|PR_TC0_bm); \
+    PR_PRPE &= (uint8_t)~(PR_TWI_bm|PR_USART1_bm|PR_USART0_bm|PR_SPI_bm|PR_HIRES_bm|PR_TC1_bm|PR_TC0_bm); \
+    PR_PRPF &= (uint8_t)~(PR_TWI_bm|PR_USART1_bm|PR_USART0_bm|PR_SPI_bm|PR_HIRES_bm|PR_TC1_bm|PR_TC0_bm); \
+} while(0)
+
+
+#define power_all_disable() \
+do { \
+    PR_PRGEN|= (uint8_t)(PR_AES_bm|PR_EBI_bm|PR_RTC_bm|PR_EVSYS_bm|PR_DMA_bm); \
+    PR_PRPA |= (uint8_t)(PR_DAC_bm|PR_ADC_bm|PR_AC_bm); \
+    PR_PRPB |= (uint8_t)(PR_DAC_bm|PR_ADC_bm|PR_AC_bm); \
+    PR_PRPC |= (uint8_t)(PR_TWI_bm|PR_USART1_bm|PR_USART0_bm|PR_SPI_bm|PR_HIRES_bm|PR_TC1_bm|PR_TC0_bm); \
+    PR_PRPD |= (uint8_t)(PR_TWI_bm|PR_USART1_bm|PR_USART0_bm|PR_SPI_bm|PR_HIRES_bm|PR_TC1_bm|PR_TC0_bm); \
+    PR_PRPE |= (uint8_t)(PR_TWI_bm|PR_USART1_bm|PR_USART0_bm|PR_SPI_bm|PR_HIRES_bm|PR_TC1_bm|PR_TC0_bm); \
+    PR_PRPF |= (uint8_t)(PR_TWI_bm|PR_USART1_bm|PR_USART0_bm|PR_SPI_bm|PR_HIRES_bm|PR_TC1_bm|PR_TC0_bm); \
+} while(0)
+#endif
+
+#endif
+
+#if defined(__AVR_ATxmega16C4__) \
+|| defined(__AVR_ATxmega32C3__) \
+|| defined(__AVR_ATxmega32C4__) \
+|| defined(__AVR_ATxmega64C3__) \
+|| defined(__AVR_ATxmega128C3__) \
+|| defined(__AVR_ATxmega192C3__) \
+|| defined(__AVR_ATxmega256C3__) 
+
+#define power_usb_enable()   (PR_PRGEN &= (uint8_t)~(PR_USB_bm))
+#define power_usb_disable()  (PR_PRGEN &= (uint8_t)(PR_USB_bm))
+
+#define power_aes_enable()  (PR_PRGEN &= (uint8_t)~(PR_AES_bm))
+#define power_aes_disable() (PR_PRGEN |= (uint8_t)PR_AES_bm)
+
+#define power_rtc_enable()  (PR_PRGEN &= (uint8_t)~(PR_RTC_bm))
+#define power_rtc_disable() (PR_PRGEN |= (uint8_t)PR_RTC_bm)
+
+#define power_evsys_enable()    (PR_PRGEN &= (uint8_t)~(PR_EVSYS_bm))
+#define power_evsys_disable()   (PR_PRGEN |= (uint8_t)PR_EVSYS_bm)
+
+#define power_dma_enable()    (PR_PRGEN &= (uint8_t)~(PR_DMA_bm))
+#define power_dma_disable()   (PR_PRGEN |= (uint8_t)PR_DMA_bm)
+
+#define power_adca_enable()     (PR_PRPA &= (uint8_t)~(PR_ADC_bm))
+#define power_adca_disable()    (PR_PRPA |= (uint8_t)PR_ADC_bm)
+
+#define power_aca_enable()      (PR_PRPA &= (uint8_t)~(PR_AC_bm))
+#define power_aca_disable()     (PR_PRPA |= (uint8_t)PR_AC_bm)
+
+#define power_twic_enable()     (PR_PRPC &= (uint8_t)~(PR_TWI_bm))
+#define power_twic_disable()    (PR_PRPC |= (uint8_t)PR_TWI_bm)
+#define power_twie_enable()     (PR_PRPE &= (uint8_t)~(PR_TWI_bm))
+#define power_twie_disable()    (PR_PRPE |= (uint8_t)PR_TWI_bm)
+
+#define power_usartc1_enable()  (PR_PRPC &= (uint8_t)~(PR_USART1_bm))
+#define power_usartc1_disable() (PR_PRPC |= (uint8_t)PR_USART1_bm)
+
+#define power_usartc0_enable()  (PR_PRPC &= (uint8_t)~(PR_USART0_bm))
+#define power_usartc0_disable() (PR_PRPC |= (uint8_t)PR_USART0_bm)
+#define power_usartd0_enable()  (PR_PRPD &= (uint8_t)~(PR_USART0_bm))
+#define power_usartd0_disable() (PR_PRPD |= (uint8_t)PR_USART0_bm)
+#define power_usarte0_enable()  (PR_PRPE &= (uint8_t)~(PR_USART0_bm))
+#define power_usarte0_disable() (PR_PRPE |= (uint8_t)PR_USART0_bm)
+#define power_usartf0_enable()  (PR_PRPF &= (uint8_t)~(PR_USART0_bm))
+#define power_usartf0_disable() (PR_PRPF |= (uint8_t)PR_USART0_bm)
+
+#define power_spic_enable()     (PR_PRPC &= (uint8_t)~(PR_SPI_bm))
+#define power_spic_disable()    (PR_PRPC |= (uint8_t)PR_SPI_bm)
+#define power_spid_enable()     (PR_PRPD &= (uint8_t)~(PR_SPI_bm))
+#define power_spid_disable()    (PR_PRPD |= (uint8_t)PR_SPI_bm)
+
+#define power_hiresc_enable()   (PR_PRPC &= (uint8_t)~(PR_HIRES_bm))
+#define power_hiresc_disable()  (PR_PRPC |= (uint8_t)PR_HIRES_bm)
+
+#define power_tc1c_enable()     (PR_PRPC &= (uint8_t)~(PR_TC1_bm))
+#define power_tc1c_disable()    (PR_PRPC |= (uint8_t)PR_TC1_bm)
+
+#define power_tc0c_enable()     (PR_PRPC &= (uint8_t)~(PR_TC0_bm))
+#define power_tc0c_disable()    (PR_PRPC |= (uint8_t)PR_TC0_bm)
+#define power_tc0d_enable()     (PR_PRPD &= (uint8_t)~(PR_TC0_bm))
+#define power_tc0d_disable()    (PR_PRPD |= (uint8_t)PR_TC0_bm)
+#define power_tc0e_enable()     (PR_PRPE &= (uint8_t)~(PR_TC0_bm))
+#define power_tc0e_disable()    (PR_PRPE |= (uint8_t)PR_TC0_bm)
+#define power_tc0f_enable()     (PR_PRPF &= (uint8_t)~(PR_TC0_bm))
+#define power_tc0f_disable()    (PR_PRPF |= (uint8_t)PR_TC0_bm)
+
+#define power_all_enable() \
+do { \
+    PR_PRGEN &= (uint8_t)~(PR_USB_bm|PR_AES_bm|PR_DMA_bm|PR_RTC_bm|PR_EVSYS_bm); \
+    PR_PRPA &= (uint8_t)~(PR_ADC_bm|PR_AC_bm); \
+    PR_PRPC &= (uint8_t)~(PR_TWI_bm|PR_USART0_bm|PR_USART1_bm|PR_SPI_bm|PR_HIRES_bm|PR_TC1_bm|PR_TC0_bm); \
+    PR_PRPD &= (uint8_t)~(PR_USART0_bm|PR_SPI_bm|PR_TC0_bm); \
+    PR_PRPE &= (uint8_t)~(PR_TWI_bm|PR_USART0_bm|PR_TC0_bm); \
+    PR_PRPF &= (uint8_t)~(PR_USART0_bm|PR_TC0_bm); \
+    } while(0)
+
+#define power_all_disable() \
+do { \
+    PR_PRGEN |= (uint8_t)(PR_USB_bm|PR_AES_bm|PR_DMA_bm|PR_RTC_bm|PR_EVSYS_bm); \
+    PR_PRPA |= (uint8_t)(PR_ADC_bm|PR_AC_bm); \
+    PR_PRPC |= (uint8_t)(PR_TWI_bm|PR_USART0_bm|PR_USART1_bm|PR_SPI_bm|PR_HIRES_bm|PR_TC1_bm|PR_TC0_bm); \
+    PR_PRPD |= (uint8_t)(PR_USART0_bm|PR_SPI_bm|PR_TC0_bm); \
+    PR_PRPE |= (uint8_t)(PR_TWI_bm|PR_USART0_bm|PR_TC0_bm); \
+    PR_PRPF |= (uint8_t)(PR_USART0_bm|PR_TC0_bm); \
+    } while(0)
+
+#endif
+
+#if defined(__AVR_ATxmega16A4__) \
+|| defined(__AVR_ATxmega16A4U__) \
+|| defined(__AVR_ATxmega16D4__) \
+|| defined(__AVR_ATxmega32A4__) \
+|| defined(__AVR_ATxmega32A4U__) \
+|| defined(__AVR_ATxmega32D3__) \
+|| defined(__AVR_ATxmega32D4__) \
+|| defined(__AVR_ATxmega64A1__) \
+|| defined(__AVR_ATxmega64A1U__) \
+|| defined(__AVR_ATxmega64A3__) \
+|| defined(__AVR_ATxmega64A3U__) \
+|| defined(__AVR_ATxmega64A4U__) \
+|| defined(__AVR_ATxmega128A1__) \
+|| defined(__AVR_ATxmega128A1U__) \
+|| defined(__AVR_ATxmega128A3__) \
+|| defined(__AVR_ATxmega128A3U__) \
+|| defined(__AVR_ATxmega128A4U__) \
+|| defined(__AVR_ATxmega192A3__) \
+|| defined(__AVR_ATxmega192A3U__) \
+|| defined(__AVR_ATxmega256A3__) \
+|| defined(__AVR_ATxmega256A3U__) \
+|| defined(__AVR_ATxmega256A3B__) \
+|| defined(__AVR_ATxmega256A3BU__) \
+|| defined(__AVR_ATxmega384C3__)
+
+
+#define power_rtc_enable()  (PR_PRGEN &= (uint8_t)~(PR_RTC_bm))
+#define power_rtc_disable() (PR_PRGEN |= (uint8_t)PR_RTC_bm)
+
+#define power_evsys_enable()    (PR_PRGEN &= (uint8_t)~(PR_EVSYS_bm))
+#define power_evsys_disable()   (PR_PRGEN |= (uint8_t)PR_EVSYS_bm)
+
+#define power_adca_enable()     (PR_PRPA &= (uint8_t)~(PR_ADC_bm))
+#define power_adca_disable()    (PR_PRPA |= (uint8_t)PR_ADC_bm)
+#define power_adcb_enable()     (PR_PRPB &= (uint8_t)~(PR_ADC_bm))
+#define power_adcb_disable()    (PR_PRPB |= (uint8_t)PR_ADC_bm)
+
+#define power_aca_enable()      (PR_PRPA &= (uint8_t)~(PR_AC_bm))
+#define power_aca_disable()     (PR_PRPA |= (uint8_t)PR_AC_bm)
+#define power_acb_enable()      (PR_PRPB &= (uint8_t)~(PR_AC_bm))
+#define power_acb_disable()     (PR_PRPB |= (uint8_t)PR_AC_bm)
+
+#define power_twic_enable()     (PR_PRPC &= (uint8_t)~(PR_TWI_bm))
+#define power_twic_disable()    (PR_PRPC |= (uint8_t)PR_TWI_bm)
+#define power_twid_enable()     (PR_PRPD &= (uint8_t)~(PR_TWI_bm))
+#define power_twid_disable()    (PR_PRPD |= (uint8_t)PR_TWI_bm)
+#define power_twie_enable()     (PR_PRPE &= (uint8_t)~(PR_TWI_bm))
+#define power_twie_disable()    (PR_PRPE |= (uint8_t)PR_TWI_bm)
+#define power_twif_enable()     (PR_PRPF &= (uint8_t)~(PR_TWI_bm))
+#define power_twif_disable()    (PR_PRPF |= (uint8_t)PR_TWI_bm)
+
+#define power_usartc0_enable()  (PR_PRPC &= (uint8_t)~(PR_USART0_bm))
+#define power_usartc0_disable() (PR_PRPC |= (uint8_t)PR_USART0_bm)
+#define power_usartd0_enable()  (PR_PRPD &= (uint8_t)~(PR_USART0_bm))
+#define power_usartd0_disable() (PR_PRPD |= (uint8_t)PR_USART0_bm)
+#define power_usarte0_enable()  (PR_PRPE &= (uint8_t)~(PR_USART0_bm))
+#define power_usarte0_disable() (PR_PRPE |= (uint8_t)PR_USART0_bm)
+#define power_usartf0_enable()  (PR_PRPF &= (uint8_t)~(PR_USART0_bm))
+#define power_usartf0_disable() (PR_PRPF |= (uint8_t)PR_USART0_bm)
+
+#define power_spic_enable()     (PR_PRPC &= (uint8_t)~(PR_SPI_bm))
+#define power_spic_disable()    (PR_PRPC |= (uint8_t)PR_SPI_bm)
+#define power_spid_enable()     (PR_PRPD &= (uint8_t)~(PR_SPI_bm))
+#define power_spid_disable()    (PR_PRPD |= (uint8_t)PR_SPI_bm)
+#define power_spie_enable()     (PR_PRPE &= (uint8_t)~(PR_SPI_bm))
+#define power_spie_disable()    (PR_PRPE |= (uint8_t)PR_SPI_bm)
+#define power_spif_enable()     (PR_PRPF &= (uint8_t)~(PR_SPI_bm))
+#define power_spif_disable()    (PR_PRPF |= (uint8_t)PR_SPI_bm)
+
+#define power_hiresc_enable()   (PR_PRPC &= (uint8_t)~(PR_HIRES_bm))
+#define power_hiresc_disable()  (PR_PRPC |= (uint8_t)PR_HIRES_bm)
+#define power_hiresd_enable()   (PR_PRPD &= (uint8_t)~(PR_HIRES_bm))
+#define power_hiresd_disable()  (PR_PRPD |= (uint8_t)PR_HIRES_bm)
+#define power_hirese_enable()   (PR_PRPE &= (uint8_t)~(PR_HIRES_bm))
+#define power_hirese_disable()  (PR_PRPE |= (uint8_t)PR_HIRES_bm)
+#define power_hiresf_enable()   (PR_PRPF &= (uint8_t)~(PR_HIRES_bm))
+#define power_hiresf_disable()  (PR_PRPF |= (uint8_t)PR_HIRES_bm)
+
+#define power_tc1c_enable()     (PR_PRPC &= (uint8_t)~(PR_TC1_bm))
+#define power_tc1c_disable()    (PR_PRPC |= (uint8_t)PR_TC1_bm)
+#define power_tc1d_enable()     (PR_PRPD &= (uint8_t)~(PR_TC1_bm))
+#define power_tc1d_disable()    (PR_PRPD |= (uint8_t)PR_TC1_bm)
+#define power_tc1e_enable()     (PR_PRPE &= (uint8_t)~(PR_TC1_bm))
+#define power_tc1e_disable()    (PR_PRPE |= (uint8_t)PR_TC1_bm)
+#define power_tc1f_enable()     (PR_PRPF &= (uint8_t)~(PR_TC1_bm))
+#define power_tc1f_disable()    (PR_PRPF |= (uint8_t)PR_TC1_bm)
+
+#define power_tc0c_enable()     (PR_PRPC &= (uint8_t)~(PR_TC0_bm))
+#define power_tc0c_disable()    (PR_PRPC |= (uint8_t)PR_TC0_bm)
+#define power_tc0d_enable()     (PR_PRPD &= (uint8_t)~(PR_TC0_bm))
+#define power_tc0d_disable()    (PR_PRPD |= (uint8_t)PR_TC0_bm)
+#define power_tc0e_enable()     (PR_PRPE &= (uint8_t)~(PR_TC0_bm))
+#define power_tc0e_disable()    (PR_PRPE |= (uint8_t)PR_TC0_bm)
+#define power_tc0f_enable()     (PR_PRPF &= (uint8_t)~(PR_TC0_bm))
+#define power_tc0f_disable()    (PR_PRPF |= (uint8_t)PR_TC0_bm)
+
+#endif
+
+#if defined(__AVR_ATxmega64D3__) \
+|| defined(__AVR_ATxmega128D3__) \
+|| defined(__AVR_ATxmega192D3__) \
+|| defined(__AVR_ATxmega256D3__) 
+
+#define power_rtc_enable()      (PR_PRGEN &= (uint8_t)~(PR_RTC_bm))
+#define power_rtc_disable()     (PR_PRGEN |= (uint8_t)PR_RTC_bm)
+
+#define power_evsys_enable()    (PR_PRGEN &= (uint8_t)~(PR_EVSYS_bm))
+#define power_evsys_disable()   (PR_PRGEN |= (uint8_t)PR_EVSYS_bm)
+
+#define power_adca_enable()     (PR_PRPA &= (uint8_t)~(PR_ADC_bm))
+#define power_adca_disable()    (PR_PRPA |= (uint8_t)PR_ADC_bm)
+
+#define power_aca_enable()      (PR_PRPA &= (uint8_t)~(PR_AC_bm))
+#define power_aca_disable()     (PR_PRPA |= (uint8_t)PR_AC_bm)
+
+#define power_twic_enable()     (PR_PRPC &= (uint8_t)~(PR_TWI_bm))
+#define power_twic_disable()    (PR_PRPC |= (uint8_t)PR_TWI_bm)
+#define power_twie_enable()     (PR_PRPE &= (uint8_t)~(PR_TWI_bm))
+#define power_twie_disable()    (PR_PRPE |= (uint8_t)PR_TWI_bm)
+
+#define power_usartc0_enable()  (PR_PRPC &= (uint8_t)~(PR_USART0_bm))
+#define power_usartc0_disable() (PR_PRPC |= (uint8_t)PR_USART0_bm)
+#define power_usartd0_enable()  (PR_PRPD &= (uint8_t)~(PR_USART0_bm))
+#define power_usartd0_disable() (PR_PRPD |= (uint8_t)PR_USART0_bm)
+#define power_usarte0_enable()  (PR_PRPE &= (uint8_t)~(PR_USART0_bm))
+#define power_usarte0_disable() (PR_PRPE |= (uint8_t)PR_USART0_bm)
+#define power_usartf0_enable()  (PR_PRPF &= (uint8_t)~(PR_USART0_bm))
+#define power_usartf0_disable() (PR_PRPF |= (uint8_t)PR_USART0_bm)
+
+#define power_spic_enable()     (PR_PRPC &= (uint8_t)~(PR_SPI_bm))
+#define power_spic_disable()    (PR_PRPC |= (uint8_t)PR_SPI_bm)
+#define power_spid_enable()     (PR_PRPD &= (uint8_t)~(PR_SPI_bm))
+#define power_spid_disable()    (PR_PRPD |= (uint8_t)PR_SPI_bm)
+
+#define power_hiresc_enable()   (PR_PRPC &= (uint8_t)~(PR_HIRES_bm))
+#define power_hiresc_disable()  (PR_PRPC |= (uint8_t)PR_HIRES_bm)
+
+#define power_tc1c_enable()     (PR_PRPC &= (uint8_t)~(PR_TC1_bm))
+#define power_tc1c_disable()    (PR_PRPC |= (uint8_t)PR_TC1_bm)
+
+#define power_tc0c_enable()     (PR_PRPC &= (uint8_t)~(PR_TC0_bm))
+#define power_tc0c_disable()    (PR_PRPC |= (uint8_t)PR_TC0_bm)
+#define power_tc0d_enable()     (PR_PRPD &= (uint8_t)~(PR_TC0_bm))
+#define power_tc0d_disable()    (PR_PRPD |= (uint8_t)PR_TC0_bm)
+#define power_tc0e_enable()     (PR_PRPE &= (uint8_t)~(PR_TC0_bm))
+#define power_tc0e_disable()    (PR_PRPE |= (uint8_t)PR_TC0_bm)
+#define power_tc0f_enable()     (PR_PRPF &= (uint8_t)~(PR_TC0_bm))
+#define power_tc0f_disable()    (PR_PRPF |= (uint8_t)PR_TC0_bm)
+
+#define power_all_enable() \
+do { \
+    PR_PRGEN &= (uint8_t)~(PR_RTC_bm|PR_EVSYS_bm); \
+    PR_PRPA &= (uint8_t)~(PR_ADC_bm|PR_AC_bm); \
+    PR_PRPC &= (uint8_t)~(PR_TWI_bm|PR_USART0_bm|PR_SPI_bm|PR_HIRES_bm|PR_TC1_bm|PR_TC0_bm); \
+    PR_PRPD &= (uint8_t)~(PR_USART0_bm|PR_SPI_bm|PR_TC0_bm); \
+    PR_PRPE &= (uint8_t)~(PR_TWI_bm|PR_USART0_bm|PR_TC0_bm); \
+    PR_PRPF &= (uint8_t)~(PR_USART0_bm|PR_TC0_bm); \
+} while(0)
+
+
+#define power_all_disable() \
+do { \
+    PR_PRGEN|= (uint8_t)(PR_RTC_bm|PR_EVSYS_bm); \
+    PR_PRPA |= (uint8_t)(PR_ADC_bm|PR_AC_bm); \
+    PR_PRPC |= (uint8_t)(PR_TWI_bm|PR_USART0_bm|PR_SPI_bm|PR_HIRES_bm|PR_TC1_bm|PR_TC0_bm); \
+    PR_PRPD |= (uint8_t)(PR_USART0_bm|PR_SPI_bm|PR_TC0_bm); \
+    PR_PRPE |= (uint8_t)(PR_TWI_bm|PR_USART0_bm|PR_TC0_bm); \
+    PR_PRPF |= (uint8_t)(PR_USART0_bm|PR_TC0_bm); \
+} while(0)
+
+#endif
+
+#if defined(__AVR_ATxmega64D4__) \
+|| defined(__AVR_ATxmega128D4__) 
+
+#define power_rtc_enable()  (PR_PRGEN &= (uint8_t)~(PR_RTC_bm))
+#define power_rtc_disable() (PR_PRGEN |= (uint8_t)PR_RTC_bm)
+
+#define power_evsys_enable()    (PR_PRGEN &= (uint8_t)~(PR_EVSYS_bm))
+#define power_evsys_disable()   (PR_PRGEN |= (uint8_t)PR_EVSYS_bm)
+
+#define power_adca_enable()     (PR_PRPA &= (uint8_t)~(PR_ADC_bm))
+#define power_adca_disable()    (PR_PRPA |= (uint8_t)PR_ADC_bm)
+
+#define power_aca_enable()      (PR_PRPA &= (uint8_t)~(PR_AC_bm))
+#define power_aca_disable()     (PR_PRPA |= (uint8_t)PR_AC_bm)
+
+#define power_twic_enable()     (PR_PRPC &= (uint8_t)~(PR_TWI_bm))
+#define power_twic_disable()    (PR_PRPC |= (uint8_t)PR_TWI_bm)
+#define power_twie_enable()     (PR_PRPE &= (uint8_t)~(PR_TWI_bm))
+#define power_twie_disable()    (PR_PRPE |= (uint8_t)PR_TWI_bm)
+
+#define power_usartc0_enable()  (PR_PRPC &= (uint8_t)~(PR_USART0_bm))
+#define power_usartc0_disable() (PR_PRPC |= (uint8_t)PR_USART0_bm)
+#define power_usartd0_enable()  (PR_PRPD &= (uint8_t)~(PR_USART0_bm))
+#define power_usartd0_disable() (PR_PRPD |= (uint8_t)PR_USART0_bm)
+#define power_usarte0_enable()  (PR_PRPE &= (uint8_t)~(PR_USART0_bm))
+#define power_usarte0_disable() (PR_PRPE |= (uint8_t)PR_USART0_bm)
+#define power_usartf0_enable()  (PR_PRPF &= (uint8_t)~(PR_USART0_bm))
+#define power_usartf0_disable() (PR_PRPF |= (uint8_t)PR_USART0_bm)
+
+#define power_spic_enable()     (PR_PRPC &= (uint8_t)~(PR_SPI_bm))
+#define power_spic_disable()    (PR_PRPC |= (uint8_t)PR_SPI_bm)
+#define power_spid_enable()     (PR_PRPD &= (uint8_t)~(PR_SPI_bm))
+#define power_spid_disable()    (PR_PRPD |= (uint8_t)PR_SPI_bm)
+
+#define power_hiresc_enable()   (PR_PRPC &= (uint8_t)~(PR_HIRES_bm))
+#define power_hiresc_disable()  (PR_PRPC |= (uint8_t)PR_HIRES_bm)
+
+#define power_tc1c_enable()     (PR_PRPC &= (uint8_t)~(PR_TC1_bm))
+#define power_tc1c_disable()    (PR_PRPC |= (uint8_t)PR_TC1_bm)
+
+#define power_tc0c_enable()     (PR_PRPC &= (uint8_t)~(PR_TC0_bm))
+#define power_tc0c_disable()    (PR_PRPC |= (uint8_t)PR_TC0_bm)
+#define power_tc0d_enable()     (PR_PRPD &= (uint8_t)~(PR_TC0_bm))
+#define power_tc0d_disable()    (PR_PRPD |= (uint8_t)PR_TC0_bm)
+#define power_tc0e_enable()     (PR_PRPE &= (uint8_t)~(PR_TC0_bm))
+#define power_tc0e_disable()    (PR_PRPE |= (uint8_t)PR_TC0_bm)
+#define power_tc0f_enable()     (PR_PRPF &= (uint8_t)~(PR_TC0_bm))
+#define power_tc0f_disable()    (PR_PRPF |= (uint8_t)PR_TC0_bm)
+
+#define power_all_enable() \
+do { \
+    PR_PRGEN &= (uint8_t)~(PR_RTC_bm|PR_EVSYS_bm); \
+    PR_PRPA &= (uint8_t)~(PR_ADC_bm|PR_AC_bm); \
+    PR_PRPC &= (uint8_t)~(PR_TWI_bm|PR_USART0_bm|PR_SPI_bm|PR_HIRES_bm|PR_TC1_bm|PR_TC0_bm); \
+    PR_PRPD &= (uint8_t)~(PR_USART0_bm|PR_SPI_bm|PR_TC0_bm); \
+    PR_PRPE &= (uint8_t)~(PR_TWI_bm|PR_USART0_bm|PR_TC0_bm); \
+    PR_PRPF &= (uint8_t)~(PR_USART0_bm|PR_TC0_bm); \
+    } while(0)
+
+#define power_all_disable() \
+do { \
+    PR_PRGEN |= (uint8_t)(PR_RTC_bm|PR_EVSYS_bm); \
+    PR_PRPA |= (uint8_t)(PR_ADC_bm|PR_AC_bm); \
+    PR_PRPC |= (uint8_t)(PR_TWI_bm|PR_USART0_bm|PR_SPI_bm|PR_HIRES_bm|PR_TC1_bm|PR_TC0_bm); \
+    PR_PRPD |= (uint8_t)(PR_USART0_bm|PR_SPI_bm|PR_TC0_bm); \
+    PR_PRPE |= (uint8_t)(PR_TWI_bm|PR_USART0_bm|PR_TC0_bm); \
+    PR_PRPF |= (uint8_t)(PR_USART0_bm|PR_TC0_bm); \
+    } while(0)
+
+#endif
+
+#if defined(__AVR_ATxmega16D4__) \
+|| defined(__AVR_ATxmega32D3__) \
+|| defined(__AVR_ATxmega32D4__) \
+
+#define power_all_enable() \
+do { \
+    PR_PRGEN &= (uint8_t)~(PR_RTC_bm|PR_EVSYS_bm); \
+    PR_PRPA &= (uint8_t)~(PR_ADC_bm|PR_AC_bm); \
+    PR_PRPB &= (uint8_t)~(PR_ADC_bm|PR_AC_bm); \
+    PR_PRPC &= (uint8_t)~(PR_TWI_bm|PR_USART0_bm|PR_SPI_bm|PR_HIRES_bm|PR_TC1_bm|PR_TC0_bm); \
+    PR_PRPD &= (uint8_t)~(PR_TWI_bm|PR_USART0_bm|PR_SPI_bm|PR_HIRES_bm|PR_TC1_bm|PR_TC0_bm); \
+    PR_PRPE &= (uint8_t)~(PR_TWI_bm|PR_USART0_bm|PR_SPI_bm|PR_HIRES_bm|PR_TC1_bm|PR_TC0_bm); \
+    PR_PRPF &= (uint8_t)~(PR_TWI_bm|PR_USART0_bm|PR_SPI_bm|PR_HIRES_bm|PR_TC1_bm|PR_TC0_bm); \
+} while(0)
+
+
+#define power_all_disable() \
+do { \
+    PR_PRGEN|= (uint8_t)(PR_EBI_bm|PR_RTC_bm|PR_EVSYS_bm|PR_DMA_bm); \
+    PR_PRPA |= (uint8_t)(PR_ADC_bm|PR_AC_bm); \
+    PR_PRPB |= (uint8_t)(PR_ADC_bm|PR_AC_bm); \
+    PR_PRPC |= (uint8_t)(PR_TWI_bm|PR_USART0_bm|PR_SPI_bm|PR_HIRES_bm|PR_TC1_bm|PR_TC0_bm); \
+    PR_PRPD |= (uint8_t)(PR_TWI_bm|PR_USART0_bm|PR_SPI_bm|PR_HIRES_bm|PR_TC1_bm|PR_TC0_bm); \
+    PR_PRPE |= (uint8_t)(PR_TWI_bm|PR_USART0_bm|PR_SPI_bm|PR_HIRES_bm|PR_TC1_bm|PR_TC0_bm); \
+    PR_PRPF |= (uint8_t)(PR_TWI_bm|PR_USART0_bm|PR_SPI_bm|PR_HIRES_bm|PR_TC1_bm|PR_TC0_bm); \
+} while(0)
+
+
+#elif defined(__AVR_ATxmega32E5__) \
+|| defined(__AVR_ATxmega16E5__) \
+|| defined(__AVR_ATxmega8E5__) 
+
+#define power_xcl_enable()      (PR_PRGEN &= (uint8_t)~(PR_XCL_bm))
+#define power_xcl_disable()     (PR_PRGEN |= (uint8_t)PR_XCL_bm)
+
+#define power_rtc_enable()      (PR_PRGEN &= (uint8_t)~(PR_RTC_bm)) 
+#define power_rtc_disable()     (PR_PRGEN |= (uint8_t)PR_RTC_bm)
+
+#define power_evsys_enable()    (PR_PRGEN &= (uint8_t)~(PR_EVSYS_bm)) 
+#define power_evsys_disable()   (PR_PRGEN |= (uint8_t)PR_EVSYS_bm)
+
+#define power_edma_enable()     (PR_PRGEN &= (uint8_t)~(PR_EDMA_bm))
+#define power_edma_disable()    (PR_PRGEN |= (uint8_t)PR_EDMA_bm)
+
+#define power_daca_enable()      (PR_PRPA  &= (uint8_t)~(PR_DAC_bm))
+#define power_daca_disable()     (PR_PRPA  |= (uint8_t)PR_DAC_bm)
+
+#define power_adca_enable()      (PR_PRPA  &= (uint8_t)~(PR_ADC_bm))
+#define power_adca_disable()     (PR_PRPA  |= (uint8_t)PR_ADC_bm)
+
+#define power_aca_enable()       (PR_PRPA  &= (uint8_t)~(PR_AC_bm))
+#define power_aca_disable()      (PR_PRPA  |= (uint8_t)PR_AC_bm)
+
+#define power_twic_enable()      (PR_PRPC  &= (uint8_t)~(PR_TWI_bm))
+#define power_twic_disable()     (PR_PRPC  |= (uint8_t)PR_TWI_bm)
+
+#define power_usartc0_enable()   (PR_PRPC  &= (uint8_t)~(PR_USART0_bm))
+#define power_usartc0_disable()  (PR_PRPC  |= (uint8_t)PR_USART0_bm)
+
+#define power_spic_enable()      (PR_PRPC  &= (uint8_t)~(PR_SPI_bm))
+#define power_spic_disable()     (PR_PRPC  |= (uint8_t)PR_SPI_bm)
+
+#define power_hiresc_enable()    (PR_PRPC  &= (uint8_t)~(PR_HIRES_bm))
+#define power_hiresc_disable()   (PR_PRPC  |= (uint8_t)PR_HIRES_bm)
+
+#define power_tc5c_enable()      (PR_PRPC  &= (uint8_t)~(PR_TC5_bm))
+#define power_tc5c_disable()     (PR_PRPC  |= (uint8_t)PR_TC5_bm)
+
+#define power_tc4c_enable()      (PR_PRPC  &= (uint8_t)~(PR_TC4_bm))
+#define power_tc4c_disable()     (PR_PRPC  |= (uint8_t)PR_TC4_bm)
+
+#define power_usartd0_enable()   (PR_PRPD  &= (uint8_t)~(PR_USART0_bm))  
+#define power_usartd0_disable()  (PR_PRPD  |= (uint8_t)PR_USART0_bm)
+
+#define power_tc5d_enable()      (PR_PRPC  &= (uint8_t)~(PR_TC5_bm)) 
+#define power_tc5d_disable()     (PR_PRPC  |= (uint8_t)PR_TC5_bm) 
+
+#define power_all_enable() \
+do { \
+    PR_PRGEN &= (uint8_t)~(PR_RTC_bm|PR_EVSYS_bm|PR_XCL_bm|PR_EDMA_bm); \
+    PR_PRPA  &= (uint8_t)~(PR_ADC_bm|PR_AC_bm|PR_DAC_bm); \
+    PR_PRPC  &= (uint8_t)~(PR_TWI_bm|PR_USART0_bm|PR_SPI_bm|PR_HIRES_bm|PR_TC5_bm|PR_TC4_bm); \
+    PR_PRPD  &= (uint8_t)~(PR_USART0_bm|PR_TC5_bm); \
+} while(0)
+
+
+#define power_all_disable() \
+do { \
+    PR_PRGEN|= (uint8_t)(PR_XCL_bm|PR_RTC_bm|PR_EVSYS_bm|PR_EDMA_bm); \
+    PR_PRPA |= (uint8_t)(PR_ADC_bm|PR_AC_bm|PR_DAC_bm); \
+    PR_PRPC |= (uint8_t)(PR_TWI_bm|PR_USART0_bm|PR_SPI_bm|PR_HIRES_bm|PR_TC5_bm|PR_TC4_bm); \
+    PR_PRPD |= (uint8_t)(PR_USART0_bm|PR_TC5_bm); \
+} while(0)
+
+
+#elif defined (__AVR_ATxmega64B1__) \
+|| defined (__AVR_ATxmega64B3__) \
+|| defined (__AVR_ATxmega128B1__) \
+|| defined (__AVR_ATxmega128B3__) 
+#define power_lcd_enable()  (PR_PRGEN &= (uint8_t)~(PR_LCD_bm))
+#define power_lcd_disable() (PR_PRGEN |= (uint8_t)PR_LCD_bm)
+
+#define power_usb_enable()  (PR_PRGEN &= (uint8_t)~(PR_USB_bm))
+#define power_usb_disable() (PR_PRGEN |= (uint8_t)PR_USB_bm)
+
+#define power_aes_enable()  (PR_PRGEN &= (uint8_t)~(PR_AES_bm))
+#define power_aes_disable() (PR_PRGEN |= (uint8_t)PR_AES_bm)
+
+#define power_rtc_enable()  (PR_PRGEN &= (uint8_t)~(PR_RTC_bm))
+#define power_rtc_disable() (PR_PRGEN |= (uint8_t)PR_RTC_bm)
+
+#define power_evsys_enable()    (PR_PRGEN &= (uint8_t)~(PR_EVSYS_bm))
+#define power_evsys_disable()   (PR_PRGEN |= (uint8_t)PR_EVSYS_bm)
+
+#define power_dma_enable()    (PR_PRGEN &= (uint8_t)~(PR_DMA_bm))
+#define power_dma_disable()   (PR_PRGEN |= (uint8_t)PR_DMA_bm)
+
+#define power_adca_enable()     (PR_PRPA &= (uint8_t)~(PR_ADC_bm))
+#define power_adca_disable()    (PR_PRPA |= (uint8_t)PR_ADC_bm)
+#define power_adcb_enable()     (PR_PRPB &= (uint8_t)~(PR_ADC_bm))
+#define power_adcb_disable()    (PR_PRPB |= (uint8_t)PR_ADC_bm)
+
+#define power_aca_enable()      (PR_PRPA &= (uint8_t)~(PR_AC_bm))
+#define power_aca_disable()     (PR_PRPA |= (uint8_t)PR_AC_bm)
+#define power_acb_enable()      (PR_PRPB &= (uint8_t)~(PR_AC_bm))
+#define power_acb_disable()     (PR_PRPB |= (uint8_t)PR_AC_bm)
+
+#define power_twic_enable()     (PR_PRPC &= (uint8_t)~(PR_TWI_bm))
+#define power_twic_disable()    (PR_PRPC |= (uint8_t)PR_TWI_bm)
+
+#define power_usartc0_enable()  (PR_PRPC &= (uint8_t)~(PR_USART0_bm))
+#define power_usartc0_disable() (PR_PRPC |= (uint8_t)PR_USART0_bm)
+#define power_usarte0_enable()  (PR_PRPE &= (uint8_t)~(PR_USART0_bm))
+#define power_usarte0_disable() (PR_PRPE |= (uint8_t)PR_USART0_bm)
 
-#define power_tc1c_enable()     (PR_PRPC &= (uint8_t)~(PR_TC1_bm))
-#define power_tc1c_disable()    (PR_PRPC |= (uint8_t)PR_TC1_bm)
-#define power_tc1d_enable()     (PR_PRPD &= (uint8_t)~(PR_TC1_bm))
-#define power_tc1d_disable()    (PR_PRPD |= (uint8_t)PR_TC1_bm)
-#define power_tc1e_enable()     (PR_PRPE &= (uint8_t)~(PR_TC1_bm))
-#define power_tc1e_disable()    (PR_PRPE |= (uint8_t)PR_TC1_bm)
-#define power_tc1f_enable()     (PR_PRPF &= (uint8_t)~(PR_TC1_bm))
-#define power_tc1f_disable()    (PR_PRPF |= (uint8_t)PR_TC1_bm)
+#define power_spic_enable()     (PR_PRPC &= (uint8_t)~(PR_SPI_bm))
+#define power_spic_disable()    (PR_PRPC |= (uint8_t)PR_SPI_bm)
 
-#define power_tc0c_enable()     (PR_PRPC &= (uint8_t)~(PR_TC0_bm))
-#define power_tc0c_disable()    (PR_PRPC |= (uint8_t)PR_TC0_bm)
-#define power_tc0d_enable()     (PR_PRPD &= (uint8_t)~(PR_TC0_bm))
-#define power_tc0d_disable()    (PR_PRPD |= (uint8_t)PR_TC0_bm)
-#define power_tc0e_enable()     (PR_PRPE &= (uint8_t)~(PR_TC0_bm))
-#define power_tc0e_disable()    (PR_PRPE |= (uint8_t)PR_TC0_bm)
-#define power_tc0f_enable()     (PR_PRPF &= (uint8_t)~(PR_TC0_bm))
-#define power_tc0f_disable()    (PR_PRPF |= (uint8_t)PR_TC0_bm)
+#define power_hiresc_enable()     (PR_PRPC &= (uint8_t)~(PR_HIRES_bm))
+#define power_hiresc_disable()    (PR_PRPC |= (uint8_t)PR_HIRES_bm)
 
-#endif
+#define power_tc1c_enable()     (PR_PRPC &= (uint8_t)~(PR_TC1_bm))
+#define power_tc1c_disable()    (PR_PRPC |= (uint8_t)PR_TC1_bm)
 
-#if defined(__AVR_ATxmega16D4__) \
-|| defined(__AVR_ATxmega32D4__) \
-|| defined(__AVR_ATxmega64D3__) \
-|| defined(__AVR_ATxmega128D3__) \
-|| defined(__AVR_ATxmega192D3__) 
+#define power_tc0c_enable()  (PR_PRPC &= (uint8_t)~(PR_TC0_bm))
+#define power_tc0c_disable() (PR_PRPC |= (uint8_t)PR_TC0_bm)
+#define power_tc0e_enable()  (PR_PRPE &= (uint8_t)~(PR_TC0_bm))
+#define power_tc0e_disable() (PR_PRPE |= (uint8_t)PR_TC0_bm)
 
 #define power_all_enable() \
 do { \
-    PR_PRGEN &= (uint8_t)~(PR_RTC_bm|PR_EVSYS_bm); \
+    PR_PRGEN &= (uint8_t)~(PR_LCD_bm|PR_USB_bm|PR_AES_bm|PR_RTC_bm|PR_EVSYS_bm|PR_DMA_bm); \
     PR_PRPA &= (uint8_t)~(PR_ADC_bm|PR_AC_bm); \
     PR_PRPB &= (uint8_t)~(PR_ADC_bm|PR_AC_bm); \
     PR_PRPC &= (uint8_t)~(PR_TWI_bm|PR_USART0_bm|PR_SPI_bm|PR_HIRES_bm|PR_TC1_bm|PR_TC0_bm); \
-    PR_PRPD &= (uint8_t)~(PR_TWI_bm|PR_USART0_bm|PR_SPI_bm|PR_HIRES_bm|PR_TC1_bm|PR_TC0_bm); \
-    PR_PRPE &= (uint8_t)~(PR_TWI_bm|PR_USART0_bm|PR_SPI_bm|PR_HIRES_bm|PR_TC1_bm|PR_TC0_bm); \
-    PR_PRPF &= (uint8_t)~(PR_TWI_bm|PR_USART0_bm|PR_SPI_bm|PR_HIRES_bm|PR_TC1_bm|PR_TC0_bm); \
-} while(0)
-
+    PR_PRPE &= (uint8_t)~(PR_USART0_bm|PR_TC0_bm); \
+    } while(0)
 
 #define power_all_disable() \
 do { \
-    PR_PRGEN|= (uint8_t)(PR_EBI_bm|PR_RTC_bm|PR_EVSYS_bm|PR_DMA_bm); \
+    PR_PRGEN |= (uint8_t)(PR_LCD_bm|PR_USB_bm|PR_AES_bm|PR_RTC_bm|PR_EVSYS_bm|PR_DMA_bm); \
     PR_PRPA |= (uint8_t)(PR_ADC_bm|PR_AC_bm); \
     PR_PRPB |= (uint8_t)(PR_ADC_bm|PR_AC_bm); \
-    PR_PRPC |= (uint8_t)(PR_TWI_bm|R_USART0_bm|PR_SPI_bm|PR_HIRES_bm|PR_TC1_bm|PR_TC0_bm); \
-    PR_PRPD |= (uint8_t)(PR_TWI_bm|PR_USART0_bm|PR_SPI_bm|PR_HIRES_bm|PR_TC1_bm|PR_TC0_bm); \
-    PR_PRPE |= (uint8_t)(PR_TWI_bm|PR_USART0_bm|PR_SPI_bm|PR_HIRES_bm|PR_TC1_bm|PR_TC0_bm); \
-    PR_PRPF |= (uint8_t)(PR_TWI_bm|PR_USART0_bm|PR_SPI_bm|PR_HIRES_bm|PR_TC1_bm|PR_TC0_bm); \
-} while(0)
+    PR_PRPC |= (uint8_t)(PR_TWI_bm|PR_USART0_bm|PR_SPI_bm|PR_HIRES_bm|PR_TC1_bm|PR_TC0_bm); \
+    PR_PRPE |= (uint8_t)(PR_USART0_bm|PR_TC0_bm); \
+    } while(0)
 
 #elif defined(__AVR_ATmega640__) \
 || defined(__AVR_ATmega1280__) \
@@ -637,6 +1857,77 @@ do{ \
     PRR1 |= (uint8_t)((1<<PRTIM3)|(1<<PRTIM4)|(1<<PRTIM5)|(1<<PRTIM5)|(1<<PRUSART1)); \
 }while(0)
 
+#elif defined(__AVR_ATmega256RFR2__) \
+|| defined(__AVR_ATmega2564RFR2__) \
+|| defined(__AVR_ATmega128RFR2__) \
+|| defined(__AVR_ATmega1284RFR2__) \
+|| defined(__AVR_ATmega64RFR2__) \
+|| defined(__AVR_ATmega644RFR2__)
+
+#define power_adc_enable()           (PRR0 &= (uint8_t)~(1 << PRADC))
+#define power_adc_disable()          (PRR0 |= (uint8_t)(1 << PRADC))
+
+#define power_usart0_enable()        (PRR0 &= (uint8_t)~(1 << PRUSART0))
+#define power_usart0_disable()       (PRR0 |= (uint8_t)(1 << PRUSART0))
+
+#define power_spi_enable()           (PRR0 &= (uint8_t)~(1 << PRSPI))
+#define power_spi_disable()          (PRR0 |= (uint8_t)(1 << PRSPI))
+
+#define power_timer1_enable()        (PRR0 &= (uint8_t)~(1 << PRTIM1))
+#define power_timer1_disable()       (PRR0 |= (uint8_t)(1 << PRTIM1))
+
+#define power_pga_enable()           (PRR0 &= (uint8_t)~(1 << PRPGA))
+#define power_pga_disable()          (PRR0 |= (uint8_t)(1 << PRPGA))
+
+#define power_timer0_enable()        (PRR0 &= (uint8_t)~(1 << PRTIM0))
+#define power_timer0_disable()       (PRR0 |= (uint8_t)(1 << PRTIM0))
+
+#define power_timer2_enable()        (PRR0 &= (uint8_t)~(1 << PRTIM2))
+#define power_timer2_disable()       (PRR0 |= (uint8_t)(1 << PRTIM2))
+
+#define power_twi_enable()           (PRR0 &= (uint8_t)~(1 << PRTWI))
+#define power_twi_disable()          (PRR0 |= (uint8_t)(1 << PRTWI))
+
+#define power_usart1_enable()        (PRR1 &= (uint8_t)~(1 << PRUSART1))
+#define power_usart1_disable()       (PRR1 |= (uint8_t)(1 << PRUSART1))
+
+#define power_timer3_enable()        (PRR1 &= (uint8_t)~(1 << PRTIM3))
+#define power_timer3_disable()       (PRR1 |= (uint8_t)(1 << PRTIM3))
+
+#define power_timer4_enable()        (PRR1 &= (uint8_t)~(1 << PRTIM4))
+#define power_timer4_disable()       (PRR1 |= (uint8_t)(1 << PRTIM4))
+
+#define power_timer5_enable()        (PRR1 &= (uint8_t)~(1 << PRTIM5))
+#define power_timer5_disable()       (PRR1 |= (uint8_t)(1 << PRTIM5))
+
+#define power_transceiver_enable()   (PRR1 &= (uint8_t)~(1 << PRTRX24))
+#define power_transceiver_disable()  (PRR1 |= (uint8_t)(1 << PRTRX24))
+
+#define power_ram0_enable()          (PRR2 &= (uint8_t)~(1 << PRRAM0))
+#define power_ram0_disable()         (PRR2 |= (uint8_t)(1 << PRRAM0))
+
+#define power_ram1_enable()          (PRR2 &= (uint8_t)~(1 << PRRAM1))
+#define power_ram1_disable()         (PRR2 |= (uint8_t)(1 << PRRAM1))
+
+#define power_ram2_enable()          (PRR2 &= (uint8_t)~(1 << PRRAM2))
+#define power_ram2_disable()         (PRR2 |= (uint8_t)(1 << PRRAM2))
+
+#define power_ram3_enable()          (PRR2 &= (uint8_t)~(1 << PRRAM3))
+#define power_ram3_disable()         (PRR2 |= (uint8_t)(1 << PRRAM3))
+
+#define power_all_enable() \
+do{ \
+    PRR0 &= (uint8_t)~((1<<PRADC)|(1<<PRSPI)|(1<<PRTWI)|(1<<PRTIM0)|(1<<PRTIM1)|(1<<PRTIM2)|(1<<PRUSART0)); \
+    PRR1 &= (uint8_t)~((1<<PRUSART1)|(1<<PRTIM3)|(1<<PRTIM4)|(1<<PRTIM5)|(1<<PRTRX24)); \
+    PRR2 &= (uint8_t)~((1<<PRRAM0)|(1<<PRRAM1)|(1<<PRRAM2)|(1<<PRRAM3)); \
+}while(0)
+
+#define power_all_disable() \
+do{ \
+    PRR0 |= (uint8_t)((1<<PRADC)|(1<<PRSPI)|(1<<PRTWI)|(1<<PRTIM0)|(1<<PRTIM1)|(1<<PRTIM2)|(1<<PRUSART0)); \
+    PRR1 |= (uint8_t)((1<<PRUSART1)|(1<<PRTIM3)|(1<<PRTIM4)|(1<<PRTIM5)|(1<<PRTRX24)); \
+    PRR2 |= (uint8_t)((1<<PRRAM0)|(1<<PRRAM1)|(1<<PRRAM2)|(1<<PRRAM3)); \
+}while(0)
 
 #elif defined(__AVR_AT90USB646__) \
 || defined(__AVR_AT90USB647__) \
@@ -816,9 +2107,18 @@ do{ \
 #define power_spi_enable()      (PRR &= (uint8_t)~(1 << PRSPI))
 #define power_spi_disable()     (PRR |= (uint8_t)(1 << PRSPI))
 
+#if defined(__AVR_AT90PWM216__) || defined(__AVR_AT90PWM316__)
+
 #define power_usart_enable()    (PRR &= (uint8_t)~(1 << PRUSART))
 #define power_usart_disable()   (PRR |= (uint8_t)(1 << PRUSART))
 
+#else
+
+#define power_usart_enable()    (PRR &= (uint8_t)~(1 << PRUSART0))
+#define power_usart_disable()   (PRR |= (uint8_t)(1 << PRUSART0))
+
+#endif
+
 #define power_timer0_enable()   (PRR &= (uint8_t)~(1 << PRTIM0))
 #define power_timer0_disable()  (PRR |= (uint8_t)(1 << PRTIM0))
 
@@ -837,11 +2137,21 @@ do{ \
 #define power_psc2_enable()     (PRR &= (uint8_t)~(1 << PRPSC2))
 #define power_psc2_disable()    (PRR |= (uint8_t)(1 << PRPSC2))
 
+#if defined(__AVR_AT90PWM216__) || defined(__AVR_AT90PWM316__)
+
 #define power_all_enable()      (PRR &= (uint8_t)~((1<<PRADC)|(1<<PRSPI)|(1<<PRUSART)|(1<<PRTIM0)|(1<<PRTIM1)|(1<<PRPSC0)|(1<<PRPSC1)|(1<<PRPSC2)))
 #define power_all_disable()     (PRR |= (uint8_t)((1<<PRADC)|(1<<PRSPI)|(1<<PRUSART)|(1<<PRTIM0)|(1<<PRTIM1)|(1<<PRPSC0)|(1<<PRPSC1)|(1<<PRPSC2)))
 
+#else
+
+#define power_all_enable()      (PRR &= (uint8_t)~((1<<PRADC)|(1<<PRSPI)|(1<<PRUSART0)|(1<<PRTIM0)|(1<<PRTIM1)|(1<<PRPSC0)|(1<<PRPSC1)|(1<<PRPSC2)))
+#define power_all_disable()     (PRR |= (uint8_t)((1<<PRADC)|(1<<PRSPI)|(1<<PRUSART0)|(1<<PRTIM0)|(1<<PRTIM1)|(1<<PRPSC0)|(1<<PRPSC1)|(1<<PRPSC2)))
+
+#endif
+
 
-#elif defined(__AVR_AT90PWM81__)
+#elif defined(__AVR_AT90PWM81__) \
+|| defined(__AVR_AT90PWM161__)
 
 #define power_adc_enable()      (PRR &= (uint8_t)~(1 << PRADC))
 #define power_adc_disable()     (PRR |= (uint8_t)(1 << PRADC))
@@ -867,10 +2177,15 @@ do{ \
 #elif defined(__AVR_ATmega165__) \
 || defined(__AVR_ATmega165A__) \
 || defined(__AVR_ATmega165P__) \
+|| defined(__AVR_ATmega165PA__) \
 || defined(__AVR_ATmega325__) \
 || defined(__AVR_ATmega325A__) \
+|| defined(__AVR_ATmega325P__) \
+|| defined(__AVR_ATmega325PA__) \
 || defined(__AVR_ATmega3250__) \
 || defined(__AVR_ATmega3250A__) \
+|| defined(__AVR_ATmega3250P__) \
+|| defined(__AVR_ATmega3250PA__) \
 || defined(__AVR_ATmega645__) \
 || defined(__AVR_ATmega645A__) \
 || defined(__AVR_ATmega645P__) \
@@ -905,6 +2220,7 @@ do{ \
 || defined(__AVR_ATmega3290__) \
 || defined(__AVR_ATmega3290A__) \
 || defined(__AVR_ATmega3290P__) \
+|| defined(__AVR_ATmega3290PA__) \
 || defined(__AVR_ATmega649__) \
 || defined(__AVR_ATmega649A__) \
 || defined(__AVR_ATmega649P__) \
@@ -968,7 +2284,8 @@ do{ \
 #define power_all_disable()     (PRR0 |= (uint8_t)((1<<PRADC)|(1<<PRSPI)|(1<<PRUSART0)|(1<<PRUSART1)|(1<<PRTIM0)|(1<<PRTIM1)|(1<<PRTIM2)|(1<<PRTWI)))
 
 
-#elif defined(__AVR_ATmega644__)
+#elif defined(__AVR_ATmega644__) \
+|| defined(__AVR_ATmega164PA__)
 
 #define power_adc_enable()      (PRR0 &= (uint8_t)~(1 << PRADC))
 #define power_adc_disable()     (PRR0 |= (uint8_t)(1 << PRADC))
@@ -1016,6 +2333,7 @@ do{ \
 
 #elif defined(__AVR_ATmega48__) \
 || defined(__AVR_ATmega48A__) \
+|| defined(__AVR_ATmega48PA__) \
 || defined(__AVR_ATmega48P__) \
 || defined(__AVR_ATmega88__) \
 || defined(__AVR_ATmega88A__) \
@@ -1024,10 +2342,15 @@ do{ \
 || defined(__AVR_ATmega168__) \
 || defined(__AVR_ATmega168A__) \
 || defined(__AVR_ATmega168P__) \
+|| defined(__AVR_ATmega168PA__) \
 || defined(__AVR_ATmega328__) \
 || defined(__AVR_ATmega328P__) \
-|| defined(__AVR_ATtiny48__) \
-|| defined(__AVR_ATtiny88__)
+|| defined(__AVR_ATtiny441__) \
+|| defined(__AVR_ATtiny828__) \
+|| defined(__AVR_ATtiny841__) \
+|| defined(__AVR_ATA6612C__) \
+|| defined(__AVR_ATA6613C__) \
+|| defined(__AVR_ATA6614Q__)  
 
 #define power_adc_enable()      (PRR &= (uint8_t)~(1 << PRADC))
 #define power_adc_disable()     (PRR |= (uint8_t)(1 << PRADC))
@@ -1038,22 +2361,70 @@ do{ \
 #define power_usart0_enable()   (PRR &= (uint8_t)~(1 << PRUSART0))
 #define power_usart0_disable()  (PRR |= (uint8_t)(1 << PRUSART0))
 
+#if defined(__AVR_ATtiny441__) \
+|| defined(__AVR_ATtiny841__) 
+
+#define power_usart1_enable()   (PRR &= (uint8_t)~(1 << PRUSART1))
+#define power_usart1_disable()  (PRR |= (uint8_t)(1 << PRUSART1))
+
+#endif
+
 #define power_timer0_enable()   (PRR &= (uint8_t)~(1 << PRTIM0))
 #define power_timer0_disable()  (PRR |= (uint8_t)(1 << PRTIM0))
 
 #define power_timer1_enable()   (PRR &= (uint8_t)~(1 << PRTIM1))
 #define power_timer1_disable()  (PRR |= (uint8_t)(1 << PRTIM1))
 
+#if !defined(__AVR_ATtiny828__)
+
 #define power_timer2_enable()   (PRR &= (uint8_t)~(1 << PRTIM2))
 #define power_timer2_disable()  (PRR |= (uint8_t)(1 << PRTIM2))
 
+#endif
+
 #define power_twi_enable()      (PRR &= (uint8_t)~(1 << PRTWI))
 #define power_twi_disable()     (PRR |= (uint8_t)(1 << PRTWI))
 
+#if defined(__AVR_ATtiny828__)
+
+#define power_all_enable()      (PRR &= (uint8_t)~((1<<PRADC)|(1<<PRSPI)|(1<<PRUSART0)|(1<<PRTIM0)|(1<<PRTIM1)|(1<<PRTWI)))
+#define power_all_disable()     (PRR |= (uint8_t)((1<<PRADC)|(1<<PRSPI)|(1<<PRUSART0)|(1<<PRTIM0)|(1<<PRTIM1)|(1<<PRTWI)))
+
+#elif defined(__AVR_ATtiny441__) \
+|| defined(__AVR_ATtiny841__) 
+
+#define power_all_enable()	(PRR &= (uint8_t)~((1<<PRADC)|(1<<PRSPI)|(1<<PRUSART0)|(1<<PRUSART1)|(1<<PRTIM0)|(1<<PRTIM1)|(1<<PRTIM2)|(1<<PRTWI)))
+#define power_all_disable()      (PRR |= (uint8_t)((1<<PRADC)|(1<<PRSPI)|(1<<PRUSART0)|(1<<PRUSART1)|(1<<PRTIM0)|(1<<PRTIM1)|(1<<PRTIM2)|(1<<PRTWI)))
+
+#else
+
 #define power_all_enable()      (PRR &= (uint8_t)~((1<<PRADC)|(1<<PRSPI)|(1<<PRUSART0)|(1<<PRTIM0)|(1<<PRTIM1)|(1<<PRTIM2)|(1<<PRTWI)))
 #define power_all_disable()     (PRR |= (uint8_t)((1<<PRADC)|(1<<PRSPI)|(1<<PRUSART0)|(1<<PRTIM0)|(1<<PRTIM1)|(1<<PRTIM2)|(1<<PRTWI)))
 
+#endif
+
+#elif defined(__AVR_ATtiny48__) \
+|| defined(__AVR_ATtiny88__)
+
+#define power_adc_enable()      (PRR &= (uint8_t)~(1 << PRADC))
+#define power_adc_disable()     (PRR |= (uint8_t)(1 << PRADC))
+
+#define power_spi_enable()      (PRR &= (uint8_t)~(1 << PRSPI))
+#define power_spi_disable()     (PRR |= (uint8_t)(1 << PRSPI))
+
+#define power_timer0_enable()   (PRR &= (uint8_t)~(1 << PRTIM0))
+#define power_timer0_disable()  (PRR |= (uint8_t)(1 << PRTIM0))
+
+#define power_timer1_enable()   (PRR &= (uint8_t)~(1 << PRTIM1))
+#define power_timer1_disable()  (PRR |= (uint8_t)(1 << PRTIM1))
+
+#define power_twi_enable()      (PRR &= (uint8_t)~(1 << PRTWI))
+#define power_twi_disable()     (PRR |= (uint8_t)(1 << PRTWI))
+
+#define power_all_enable()      (PRR &= (uint8_t)~((1<<PRADC)|(1<<PRSPI)|(1<<PRTIM0)|(1<<PRTIM1)|(1<<PRTWI)))
+#define power_all_disable()     (PRR |= (uint8_t)((1<<PRADC)|(1<<PRSPI)|(1<<PRTIM0)|(1<<PRTIM1)|(1<<PRTWI)))
 
+  
 #elif defined(__AVR_ATtiny24__) \
 || defined(__AVR_ATtiny24A__) \
 || defined(__AVR_ATtiny44__) \
@@ -1084,61 +2455,266 @@ do{ \
 #define power_usi_enable()      (PRR &= (uint8_t)~(1 << PRUSI))
 #define power_usi_disable()     (PRR |= (uint8_t)(1 << PRUSI))
 
-#define power_all_enable()      (PRR &= (uint8_t)~((1<<PRADC)|(1<<PRTIM0)|(1<<PRTIM1)|(1<<PRUSI)))
-#define power_all_disable()     (PRR |= (uint8_t)((1<<PRADC)|(1<<PRTIM0)|(1<<PRTIM1)|(1<<PRUSI)))
+#define power_all_enable()      (PRR &= (uint8_t)~((1<<PRADC)|(1<<PRTIM0)|(1<<PRTIM1)|(1<<PRUSI)))
+#define power_all_disable()     (PRR |= (uint8_t)((1<<PRADC)|(1<<PRTIM0)|(1<<PRTIM1)|(1<<PRUSI)))
+
+#elif defined(__AVR_ATmega1284__)
+
+#define power_adc_enable()      (PRR0 &= (uint8_t)~(1 << PRADC))
+#define power_adc_disable()     (PRR0 |= (uint8_t)(1 << PRADC))
+
+#define power_spi_enable()      (PRR0 &= (uint8_t)~(1 << PRSPI))
+#define power_spi_disable()     (PRR0 |= (uint8_t)(1 << PRSPI))
+
+#define power_twi_enable()      (PRR0 &= (uint8_t)~(1 << PRTWI))
+#define power_twi_disable()     (PRR0 |= (uint8_t)(1 << PRTWI))
+
+#define power_timer0_enable()   (PRR0 &= (uint8_t)~(1 << PRTIM0))
+#define power_timer0_disable()  (PRR0 |= (uint8_t)(1 << PRTIM0))
+
+#define power_timer1_enable()   (PRR0 &= (uint8_t)~(1 << PRTIM1))
+#define power_timer1_disable()  (PRR0 |= (uint8_t)(1 << PRTIM1))
+
+#define power_timer2_enable()   (PRR0 &= (uint8_t)~(1 << PRTIM2))
+#define power_timer2_disable()  (PRR0 |= (uint8_t)(1 << PRTIM2))
+
+#define power_timer3_enable()   (PRR1 &= (uint8_t)~(1 << PRTIM3))
+#define power_timer3_disable()  (PRR1 |= (uint8_t)(1 << PRTIM3))
+
+#define power_usart0_enable()   (PRR0 &= (uint8_t)~(1 << PRUSART0))
+#define power_usart0_disable()  (PRR0 |= (uint8_t)(1 << PRUSART0))
+
+#define power_all_enable() \
+do{ \
+    PRR0 &= (uint8_t)~((1<<PRADC)|(1<<PRSPI)|(1<<PRTWI)|(1<<PRTIM0)|(1<<PRTIM1)|(1<<PRTIM2)|(1<<PRUSART0)); \
+    PRR1 &= (uint8_t)~(1<<PRTIM3); \
+}while(0)
+
+#define power_all_disable() \
+do{ \
+    PRR0 |= (uint8_t)((1<<PRADC)|(1<<PRSPI)|(1<<PRTWI)|(1<<PRTIM0)|(1<<PRTIM1)|(1<<PRTIM2)|(1<<PRUSART0)); \
+    PRR1 |= (uint8_t)(1<<PRTIM3); \
+}while(0)
+
+#elif defined(__AVR_ATmega1284P__)
+
+
+#define power_adc_enable()      (PRR0 &= (uint8_t)~(1 << PRADC))
+#define power_adc_disable()     (PRR0 |= (uint8_t)(1 << PRADC))
+
+#define power_spi_enable()      (PRR0 &= (uint8_t)~(1 << PRSPI))
+#define power_spi_disable()     (PRR0 |= (uint8_t)(1 << PRSPI))
+
+#define power_twi_enable()      (PRR0 &= (uint8_t)~(1 << PRTWI))
+#define power_twi_disable()     (PRR0 |= (uint8_t)(1 << PRTWI))
+
+#define power_timer0_enable()   (PRR0 &= (uint8_t)~(1 << PRTIM0))
+#define power_timer0_disable()  (PRR0 |= (uint8_t)(1 << PRTIM0))
+
+#define power_timer1_enable()   (PRR0 &= (uint8_t)~(1 << PRTIM1))
+#define power_timer1_disable()  (PRR0 |= (uint8_t)(1 << PRTIM1))
+
+#define power_timer2_enable()   (PRR0 &= (uint8_t)~(1 << PRTIM2))
+#define power_timer2_disable()  (PRR0 |= (uint8_t)(1 << PRTIM2))
+
+#define power_timer3_enable()   (PRR1 &= (uint8_t)~(1 << PRTIM3))
+#define power_timer3_disable()  (PRR1 |= (uint8_t)(1 << PRTIM3))
+
+#define power_usart0_enable()   (PRR0 &= (uint8_t)~(1 << PRUSART0))
+#define power_usart0_disable()  (PRR0 |= (uint8_t)(1 << PRUSART0))
+
+#define power_usart1_enable()   (PRR0 &= (uint8_t)~(1 << PRUSART1))
+#define power_usart1_disable()  (PRR0 |= (uint8_t)(1 << PRUSART1))
+
+#define power_all_enable() \
+do{ \
+    PRR0 &= (uint8_t)~((1<<PRADC)|(1<<PRSPI)|(1<<PRTWI)|(1<<PRTIM0)|(1<<PRTIM1)|(1<<PRTIM2)|(1<<PRUSART0)|(1<<PRUSART1)); \
+    PRR1 &= (uint8_t)~(1<<PRTIM3); \
+}while(0)
+
+#define power_all_disable() \
+do{ \
+    PRR0 |= (uint8_t)((1<<PRADC)|(1<<PRSPI)|(1<<PRTWI)|(1<<PRTIM0)|(1<<PRTIM1)|(1<<PRTIM2)|(1<<PRUSART0)|(1<<PRUSART1)); \
+    PRR1 |= (uint8_t)(1<<PRTIM3); \
+}while(0)
+
+
+#elif defined(__AVR_ATmega32HVB__) \
+|| defined(__AVR_ATmega32HVBREVB__) \
+|| defined(__AVR_ATmega16HVB__) \
+|| defined(__AVR_ATmega16HVBREVB__)
+
+
+#define power_twi_enable()      (PRR0 &= (uint8_t)~(1 << PRTWI))
+#define power_twi_disable()     (PRR0 |= (uint8_t)(1 << PRTWI))
+
+#define power_timer0_enable()   (PRR0 &= (uint8_t)~(1 << PRTIM0))
+#define power_timer0_disable()  (PRR0 |= (uint8_t)(1 << PRTIM0))
+
+#define power_timer1_enable()   (PRR0 &= (uint8_t)~(1 << PRTIM1))
+#define power_timer1_disable()  (PRR0 |= (uint8_t)(1 << PRTIM1))
+
+/* Voltage ADC */
+#define power_vadc_enable()     (PRR0 &= (uint8_t)~(1 << PRVADC))
+#define power_vadc_disable()    (PRR0 |= (uint8_t)(1 << PRVADC))
+
+#define power_spi_enable()      (PRR0 &= (uint8_t)~(1 << PRSPI))
+#define power_spi_disable()     (PRR0 |= (uint8_t)(1 << PRSPI))
+
+#define power_vrm_enable()      (PRR0 &= (uint8_t)~(1 << PRVRM))
+#define power_vrm_disable()     (PRR0 |= (uint8_t)(1 << PRVRM))
+
+#define power_all_enable()      (PRR0 &= (uint8_t)~((1<<PRTWI)|(1<<PRTIM0)|(1<<PRTIM1)|(1<<PRVADC)|(1<<PRSPI)|(1<<PRVRM)))
+#define power_all_disable()     (PRR0 |= (uint8_t)((1<<PRTWI)|(1<<PRTIM0)|(1<<PRTIM1)|(1<<PRVADC)|(1<<PRSPI)|(1<<PRVRM)))
+
+
+#elif defined (__AVR_ATA5790__) \
+|| defined (__AVR_ATA5790N__) \
+|| defined (__AVR_ATA5795__)
+
+// Enable the voltage monitor 
+#define power_vmonitor_enable()          (PRR0 &= (uint8_t)~(1 << PRVM))
+#define power_vmonitor_disable()         (PRR0 |= (uint8_t)(1 << PRVM))
+
+#define power_irdriver_enable()          (PRR0 &= (uint8_t)~(1 << PRDS))
+#define power_irdriver_disable()         (PRR0 |= (uint8_t)(1 << PRDS))
+
+#define power_crypto_enable()            (PRR0 &= (uint8_t)~(1 << PRCU))
+#define power_crypto_disable()           (PRR0 |= (uint8_t)(1 << PRCU))
+
+#define power_timermodulator_enable()    (PRR0 &= (uint8_t)~(1 << PRTM))
+#define power_timermodulator_disable()   (PRR0 |= (uint8_t)(1 << PRTM))
+
+#define power_timer1_enable()            (PRR0 &= (uint8_t)~(1 << PRT1))
+#define power_timer1_disable()           (PRR0 |= (uint8_t)(1 << PRT1))
+
+#define power_timer2_enable()            (PRR0 &= (uint8_t)~(1 << PRT2))
+#define power_timer2_disable()           (PRR0 |= (uint8_t)(1 << PRT2))
+
+#define power_timer3_enable()            (PRR0 &= (uint8_t)~(1 << PRT3))
+#define power_timer3_disable()           (PRR0 |= (uint8_t)(1 << PRT3))
+
+#define power_spi_enable()               (PRR1 &= (uint8_t)~(1 << PRSPI))
+#define power_spi_disable()              (PRR1 |= (uint8_t)(1 << PRSPI))
+
+#define power_cinterface_enable()        (PRR1 &= (uint8_t)~(1 << PRCI))
+#define power_cinterface_disable()       (PRR1 |= (uint8_t)(1 << PRCI))
+
+#if defined(__AVR_ATA5790__) \
+|| defined(__AVR_ATA5790N__)
+
+#define power_lfreceiver_enable()        (PRR0 &= (uint8_t)~(1 << PRLFR))            
+#define power_lfreceiver_disable()       (PRR0 |= (uint8_t)(1 << PRLFR))            
+
+#define power_all_enable() \
+do{ \
+    PRR0 &= (uint8_t)~((1<<PRVM)|(1<<PRDS)|(1<<PRCU)|(1<<PRTM)|(1<<PRT3)|(1<<PRT2)|(1<<PRT1)|(1<<PRLFR)); \
+    PRR1 &= (uint8_t)~((1<<PRSPI)|(1<<PRCI)); \
+}while(0)
+
+#define power_all_disable() \
+do{ \
+    PRR0 |= (uint8_t)((1<<PRVM)|(1<<PRDS)|(1<<PRCU)|(1<<PRTM)|(1<<PRT3)|(1<<PRT2)|(1<<PRT1)|(1<<PRLFR)); \
+    PRR1 |= (uint8_t)((1<<PRSPI)|(1<<PRCI)); \
+}while(0)
+
+#elif defined(__AVR_ATA5795__)
+
+#define power_all_enable() \
+do{ \
+    PRR0 &= (uint8_t)~((1<<PRVM)|(1<<PRDS)|(1<<PRCU)|(1<<PRTM)|(1<<PRT3)|(1<<PRT2)|(1<<PRT1)); \
+    PRR1 &= (uint8_t)~((1<<PRSPI)|(1<<PRCI)); \
+}while(0)
+
+#define power_all_disable() \
+do{ \
+    PRR0 |= (uint8_t)((1<<PRVM)|(1<<PRDS)|(1<<PRCU)|(1<<PRTM)|(1<<PRT3)|(1<<PRT2)|(1<<PRT1)); \
+    PRR1 |= (uint8_t)((1<<PRSPI)|(1<<PRCI)); \
+}while(0)
+
+#endif
+
+#elif defined(__AVR_ATA5831__)
+
+#define power_clock_output_enable()     (PRR0 &= (uint8_t)~(1 << PRCO))
+#define power_clock_output_disable()    (PRR0 |= (uint8_t)(1 << PRCO))
+
+#define power_voltage_monitor_enable()  (PRR0 &= (uint8_t)~(1 << PRVM))
+#define power_voltage_monitor_disable() (PRR0 |= (uint8_t)(1 << PRVM))
+
+#define power_crc_enable()              (PRR0 &= (uint8_t)~(1 << PRCRC))
+#define power_crc_disable()             (PRR0 |= (uint8_t)(1 << PRCRC))
+
+#define power_transmit_dsp_control_enable()     (PRR0 &= (uint8_t)~(1 << PRTXDC))
+#define power_transmit_dsp_control_disable()    (PRR0 |= (uint8_t)(1 << PRTXDC))
+
+#define power_receive_dsp_control_enable()      (PRR0 &= (uint8_t)~(1 << PRRXDC))
+#define power_receive_dsp_control_disable()     (PRR0 |= (uint8_t)(1 << PRRXDC))
+
+#define power_spi_enable()              (PRR0 &= (uint8_t)~(1 << PRSPI))
+#define power_spi_disable()             (PRR0 |= (uint8_t)(1 << PRSPI))
+
+#define power_timer1_enable()           (PRR1 &= (uint8_t)~(1 << PRT1))
+#define power_timer1_disable()          (PRR1 |= (uint8_t)(1 << PRT1))
 
+#define power_timer2_enable()           (PRR1 &= (uint8_t)~(1 << PRT2))
+#define power_timer2_disable()          (PRR1 |= (uint8_t)(1 << PRT2))
 
-#elif defined(__AVR_ATmega1284P__)
+#define power_timer3_enable()           (PRR1 &= (uint8_t)~(1 << PRT3))
+#define power_timer3_disable()          (PRR1 |= (uint8_t)(1 << PRT3))
 
+#define power_timer4_enable()           (PRR1 &= (uint8_t)~(1 << PRT4))
+#define power_timer4_disable()          (PRR1 |= (uint8_t)(1 << PRT4))
 
-#define power_adc_enable()      (PRR0 &= (uint8_t)~(1 << PRADC))
-#define power_adc_disable()     (PRR0 |= (uint8_t)(1 << PRADC))
+#define power_timer5_enable()           (PRR1 &= (uint8_t)~(1 << PRT5))
+#define power_timer5_disable()          (PRR1 |= (uint8_t)(1 << PRT5))
 
-#define power_spi_enable()      (PRR0 &= (uint8_t)~(1 << PRSPI))
-#define power_spi_disable()     (PRR0 |= (uint8_t)(1 << PRSPI))
+#define power_sequencer_state_machine_enable()  (PRR2 &= (uint8_t)~(1 << PRSSM))
+#define power_sequencer_state_machine_disable() (PRR2 |= (uint8_t)(1 << PRSSM))
 
-#define power_twi_enable()      (PRR0 &= (uint8_t)~(1 << PRTWI))
-#define power_twi_disable()     (PRR0 |= (uint8_t)(1 << PRTWI))
+#define power_tx_modulator_enable()     (PRR2 &= (uint8_t)~(1 << PRTM))
+#define power_tx_modulator_disable()    (PRR2 |= (uint8_t)(1 << PRTM))
 
-#define power_timer0_enable()   (PRR0 &= (uint8_t)~(1 << PRTIM0))
-#define power_timer0_disable()  (PRR0 |= (uint8_t)(1 << PRTIM0))
+#define power_rssi_buffer_enable()      (PRR2 &= (uint8_t)~(1 << PRRS))
+#define power_rssi_buffer_disable()     (PRR2 |= (uint8_t)(1 << PRRS))
 
-#define power_timer1_enable()   (PRR0 &= (uint8_t)~(1 << PRTIM1))
-#define power_timer1_disable()  (PRR0 |= (uint8_t)(1 << PRTIM1))
+#define power_id_scan_enable()          (PRR2 &= (uint8_t)~(1 << PRIDS))
+#define power_id_scan_disable()         (PRR2 |= (uint8_t)(1 << PRIDS))
 
-#define power_timer2_enable()   (PRR0 &= (uint8_t)~(1 << PRTIM2))
-#define power_timer2_disable()  (PRR0 |= (uint8_t)(1 << PRTIM2))
+#define power_data_fifo_enable()        (PRR2 &= (uint8_t)~(1 << PRDF))
+#define power_data_fifo_disable()       (PRR2 |= (uint8_t)(1 << PRDF))
 
-#define power_timer3_enable()   (PRR1 &= (uint8_t)~(1 << PRTIM3))
-#define power_timer3_disable()  (PRR1 |= (uint8_t)(1 << PRTIM3))
+#define power_preamble_rssi_fifo_enable()       (PRR2 &= (uint8_t)~(1 << PRSF))
+#define power_preamble_rssi_fifo_disable()      (PRR2 |= (uint8_t)(1 << PRSF))
 
-#define power_usart0_enable()   (PRR0 &= (uint8_t)~(1 << PRUSART0))
-#define power_usart0_disable()  (PRR0 |= (uint8_t)(1 << PRUSART0))
+#define power_rx_buffer_A_enable()      (PRR2 &= (uint8_t)~(1 << PRXA))
+#define power_rx_buffer_A_disable()     (PRR2 |= (uint8_t)(1 << PRXA))
 
-#define power_usart1_enable()   (PRR0 &= (uint8_t)~(1 << PRUSART1))
-#define power_usart1_disable()  (PRR0 |= (uint8_t)(1 << PRUSART1))
+#define power_rx_buffer_B_enable()      (PRR2 &= (uint8_t)~(1 << PRXB))
+#define power_rx_buffer_B_disable()     (PRR2 |= (uint8_t)(1 << PRXB))
 
 #define power_all_enable() \
 do{ \
-    PRR0 &= (uint8_t)~((1<<PRADC)|(1<<PRSPI)|(1<<PRTWI)|(1<<PRTIM0)|(1<<PRTIM1)|(1<<PRTIM2)|(1<<PRUSART0)|(1<<PRUSART1)); \
-    PRR1 &= (uint8_t)~(1<<PRTIM3); \
+    PRR0 &= (uint8_t)~((1 << PRCO) | (1 << PRVM) | (1 << PRCRC) | (1 << PRTXDC) | (1 << PRRXDC) | (1 << PRSPI)); \
+    PRR1 &= (uint8_t)~((1 << PRT1) | (1 << PRT2) | (1 << PRT3) | (1 << PRT4) | (1 << PRT5)); \
+    PRR2 &= (uint8_t)~((1 << PRSSM) | (1 << PRTM) | (1 << PRRS) | (1 << PRIDS) | (1 << PRDF) | (1 << PRSF) | (1 << PRXA) | (1 << PRXB)); \
 }while(0)
 
 #define power_all_disable() \
 do{ \
-    PRR0 |= (uint8_t)((1<<PRADC)|(1<<PRSPI)|(1<<PRTWI)|(1<<PRTIM0)|(1<<PRTIM1)|(1<<PRTIM2)|(1<<PRUSART0)|(1<<PRUSART1)); \
-    PRR1 |= (uint8_t)(1<<PRTIM3); \
+    PRR0 |= (uint8_t)((1 << PRCO) | (1 << PRVM) | (1 << PRCRC) | (1 << PRTXDC) | (1 << PRRXDC) | (1 << PRSPI)); \
+    PRR1 |= (uint8_t)((1 << PRT1) | (1 << PRT2) | (1 << PRT3) | (1 << PRT4) | (1 << PRT5)); \
+    PRR2 |= (uint8_t)((1 << PRSSM) | (1 << PRTM) | (1 << PRRS) | (1 << PRIDS) | (1 << PRDF) | (1 << PRSF) | (1 << PRXA) | (1 << PRXB)); \
 }while(0)
 
+#elif defined(__AVR_ATmega64HVE__) \
+|| defined(__AVR_ATmega64HVE2__) 
 
-#elif defined(__AVR_ATmega32HVB__) \
-|| defined(__AVR_ATmega32HVBREVB__) \
-|| defined(__AVR_ATmega16HVB__) \
-|| defined(__AVR_ATmega16HVBREVB__)
-
+#define power_lin_enable()      (PRR0 &= (uint8_t)~(1 << PRLIN))
+#define power_lin_disable()     (PRR0 |= (uint8_t)(1 << PRLIN))
 
-#define power_twi_enable()      (PRR0 &= (uint8_t)~(1 << PRTWI))
-#define power_twi_disable()     (PRR0 |= (uint8_t)(1 << PRTWI))
+#define power_spi_enable()      (PRR0 &= (uint8_t)~(1 << PRSPI))
+#define power_spi_disable()     (PRR0 |= (uint8_t)(1 << PRSPI))
 
 #define power_timer0_enable()   (PRR0 &= (uint8_t)~(1 << PRTIM0))
 #define power_timer0_disable()  (PRR0 |= (uint8_t)(1 << PRTIM0))
@@ -1146,19 +2722,8 @@ do{ \
 #define power_timer1_enable()   (PRR0 &= (uint8_t)~(1 << PRTIM1))
 #define power_timer1_disable()  (PRR0 |= (uint8_t)(1 << PRTIM1))
 
-/* Voltage ADC */
-#define power_vadc_enable()     (PRR0 &= (uint8_t)~(1 << PRVADC))
-#define power_vadc_disable()    (PRR0 |= (uint8_t)(1 << PRVADC))
-
-#define power_spi_enable()      (PRR0 &= (uint8_t)~(1 << PRSPI))
-#define power_spi_disable()     (PRR0 |= (uint8_t)(1 << PRSPI))
-
-#define power_vrm_enable()      (PRR0 &= (uint8_t)~(1 << PRVRM))
-#define power_vrm_disable()     (PRR0 |= (uint8_t)(1 << PRVRM))
-
-#define power_all_enable()      (PRR0 &= (uint8_t)~((1<<PRTWI)|(1<<PRTIM0)|(1<<PRTIM1)|(1<<PRVADC)|(1<<PRSPI)|(1<<PRVRM)))
-#define power_all_disable()     (PRR0 |= (uint8_t)((1<<PRTWI)|(1<<PRTIM0)|(1<<PRTIM1)|(1<<PRVADC)|(1<<PRSPI)|(1<<PRVRM)))
-
+#define power_all_enable()      (PRR0 &= (uint8_t)~((1<<PRLIN)|(1<<PRSPI)|(1<<PRTIM0)|(1<<PRTIM1)))
+#define power_all_disable()     (PRR0 |= (uint8_t)((1<<PRLIN)|(1<<PRSPI)|(1<<PRTIM0)|(1<<PRTIM1)))
 
 #elif defined(__AVR_ATmega16M1__) \
 || defined(__AVR_ATmega32C1__) \
@@ -1192,8 +2757,12 @@ do{ \
 
 
 #elif defined(__AVR_ATtiny167__) \
-|| defined(__AVR_ATtiny87__)
-
+|| defined(__AVR_ATtiny87__) \
+|| defined(__AVR_ATA5505__) \
+|| defined(__AVR_ATA5272__) \
+|| defined(__AVR_ATA6616C__) \
+|| defined(__AVR_ATA6617C__) \
+|| defined(__AVR_ATA664251__)
 
 #define power_adc_enable()      (PRR &= (uint8_t)~(1 << PRADC))
 #define power_adc_disable()     (PRR |= (uint8_t)(1 << PRADC))
@@ -1217,6 +2786,33 @@ do{ \
 #define power_all_disable()     (PRR |= (uint8_t)((1<<PRADC)|(1<<PRUSI)|(1<<PRTIM0)|(1<<PRTIM1)|(1<<PRSPI)|(1<<PRLIN)))
 
 
+#elif defined(__AVR_ATtiny1634__)
+
+#define power_adc_enable()      (PRR &= (uint8_t)~(1 << PRADC))
+#define power_adc_disable()     (PRR |= (uint8_t)(1 << PRADC))
+
+#define power_usart0_enable()      (PRR &= (uint8_t)~(1 << PRUSART0))
+#define power_usart0_disable()     (PRR |= (uint8_t)(1 << PRUSART0))
+
+#define power_usart1_enable()      (PRR &= (uint8_t)~(1 << PRUSART1))
+#define power_usart1_disable()     (PRR |= (uint8_t)(1 << PRUSART1))
+
+#define power_usi_enable()      (PRR &= (uint8_t)~(1 << PRUSI))
+#define power_usi_disable()     (PRR |= (uint8_t)(1 << PRUSI))
+
+#define power_timer0_enable()   (PRR &= (uint8_t)~(1 << PRTIM0))
+#define power_timer0_disable()  (PRR |= (uint8_t)(1 << PRTIM0))
+
+#define power_timer1_enable()   (PRR &= (uint8_t)~(1 << PRTIM1))
+#define power_timer1_disable()  (PRR |= (uint8_t)(1 << PRTIM1))
+
+#define power_twi_enable()      (PRR &= (uint8_t)~(1 << PRTWI))
+#define power_twi_disable()     (PRR |= (uint8_t)(1 << PRTWI))
+
+#define power_all_enable()      (PRR &= (uint8_t)~((1 << PRTWI)|(1 << PRUSI)|(1 << PRTIM0)|(1 << PRTIM1)|(1 << PRUSART0)|(1 << PRUSART1)|(1 << PRADC)))
+#define power_all_disable()     (PRR |= (uint8_t)((1 << PRTWI)|(1 << PRUSI)|(1 << PRTIM0)|(1 << PRTIM1)|(1 << PRUSART0)|(1 << PRUSART1)|(1 << PRADC)))
+
+
 #elif defined(__AVR_AT90USB82__) \
 || defined(__AVR_AT90USB162__) \
 || defined(__AVR_ATmega8U2__) \
@@ -1350,6 +2946,8 @@ do{ \
 || defined(__AVR_AT90PWM2B__) \
 || defined(__AVR_AT90PWM3__) \
 || defined(__AVR_AT90PWM3B__) \
+|| defined(__AVR_AT90PWM81__) \
+|| defined(__AVR_AT90PWM161__) \
 || defined(__AVR_AT90PWM216__) \
 || defined(__AVR_AT90PWM316__) \
 || defined(__AVR_AT90SCR100__) \
@@ -1359,31 +2957,51 @@ do{ \
 || defined(__AVR_AT90USB1286__) \
 || defined(__AVR_AT90USB1287__) \
 || defined(__AVR_AT90USB162__) \
+|| defined(__AVR_ATA5505__) \
+|| defined(__AVR_ATA5272__) \
+|| defined(__AVR_ATA6617C__) \
+|| defined(__AVR_ATA664251__) \
 || defined(__AVR_ATmega1280__) \
 || defined(__AVR_ATmega1281__) \
+|| defined(__AVR_ATmega1284__) \
 || defined(__AVR_ATmega128RFA1__) \
+|| defined(__AVR_ATmega128RFR2__) \
+|| defined(__AVR_ATmega1284RFR2__) \
 || defined(__AVR_ATmega1284P__) \
 || defined(__AVR_ATmega162__) \
 || defined(__AVR_ATmega164A__) \
 || defined(__AVR_ATmega164P__) \
+|| defined(__AVR_ATmega164PA__) \
 || defined(__AVR_ATmega165__) \
 || defined(__AVR_ATmega165A__) \
 || defined(__AVR_ATmega165P__) \
+|| defined(__AVR_ATmega165PA__) \
 || defined(__AVR_ATmega168__) \
+|| defined(__AVR_ATmega168A__) \
 || defined(__AVR_ATmega168P__) \
+|| defined(__AVR_ATmega168PA__) \
 || defined(__AVR_ATmega169__) \
 || defined(__AVR_ATmega169A__) \
 || defined(__AVR_ATmega169P__) \
 || defined(__AVR_ATmega169PA__) \
+|| defined(__AVR_ATmega16M1__) \
+|| defined(__AVR_ATmega16U2__) \
+|| defined(__AVR_ATmega324PA__) \
 || defined(__AVR_ATmega16U4__) \
 || defined(__AVR_ATmega2560__) \
 || defined(__AVR_ATmega2561__) \
+|| defined(__AVR_ATmega256RFR2__) \
+|| defined(__AVR_ATmega2564RFR2__) \
 || defined(__AVR_ATmega324A__) \
 || defined(__AVR_ATmega324P__) \
 || defined(__AVR_ATmega325__) \
 || defined(__AVR_ATmega325A__) \
+|| defined(__AVR_ATmega325P__) \
+|| defined(__AVR_ATmega325PA__) \
 || defined(__AVR_ATmega3250__) \
 || defined(__AVR_ATmega3250A__) \
+|| defined(__AVR_ATmega3250P__) \
+|| defined(__AVR_ATmega3250PA__) \
 || defined(__AVR_ATmega328__) \
 || defined(__AVR_ATmega328P__) \
 || defined(__AVR_ATmega329__) \
@@ -1392,16 +3010,16 @@ do{ \
 || defined(__AVR_ATmega329PA__) \
 || defined(__AVR_ATmega3290__) \
 || defined(__AVR_ATmega3290A__) \
+|| defined(__AVR_ATmega3290P__) \
+|| defined(__AVR_ATmega3290PA__) \
 || defined(__AVR_ATmega32C1__) \
-|| defined(__AVR_ATmega32HVB__) \
-|| defined(__AVR_ATmega32HVBREVB__) \
-|| defined(__AVR_ATmega16HVB__) \
-|| defined(__AVR_ATmega16HVBREVB__) \
 || defined(__AVR_ATmega32M1__) \
 || defined(__AVR_ATmega32U2__) \
 || defined(__AVR_ATmega32U4__) \
 || defined(__AVR_ATmega32U6__) \
 || defined(__AVR_ATmega48__) \
+|| defined(__AVR_ATmega48A__) \
+|| defined(__AVR_ATmega48PA__) \
 || defined(__AVR_ATmega48P__) \
 || defined(__AVR_ATmega640__) \
 || defined(__AVR_ATmega649P__) \
@@ -1417,15 +3035,23 @@ do{ \
 || defined(__AVR_ATmega6450P__) \
 || defined(__AVR_ATmega649__) \
 || defined(__AVR_ATmega649A__) \
+|| defined(__AVR_ATmega64M1__) \
+|| defined(__AVR_ATmega64C1__) \
+|| defined(__AVR_ATmega88A__) \
+|| defined(__AVR_ATmega88PA__) \
 || defined(__AVR_ATmega6490__) \
 || defined(__AVR_ATmega6490A__) \
 || defined(__AVR_ATmega6490P__) \
+|| defined(__AVR_ATmega64RFR2__) \
+|| defined(__AVR_ATmega644RFR2__) \
 || defined(__AVR_ATmega88__) \
 || defined(__AVR_ATmega88P__) \
 || defined(__AVR_ATmega8U2__) \
 || defined(__AVR_ATmega16U2__) \
 || defined(__AVR_ATmega32U2__) \
 || defined(__AVR_ATtiny48__) \
+|| defined(__AVR_ATtiny88__) \
+|| defined(__AVR_ATtiny87__) \
 || defined(__AVR_ATtiny167__) \
 || defined(__DOXYGEN__)
 
@@ -1434,11 +3060,16 @@ do{ \
 
 Some of the newer AVRs contain a System Clock Prescale Register (CLKPR) that
 allows you to decrease the system clock frequency and the power consumption
-when the need for processing power is low. Below are two macros and an
-enumerated type that can be used to interface to the Clock Prescale Register.
-
-\note Not all AVR devices have a Clock Prescale Register. On those devices
-without a Clock Prescale Register, these macros are not available.
+when the need for processing power is low.
+On some earlier AVRs (ATmega103, ATmega64, ATmega128), similar
+functionality can be achieved through the XTAL Divide Control Register.
+Below are two macros and an enumerated type that can be used to
+interface to the Clock Prescale Register or
+XTAL Divide Control Register.
+
+\note Not all AVR devices have a clock prescaler. On those devices
+without a Clock Prescale Register or XTAL Divide Control Register, these
+macros are not available.
 */
 
 
@@ -1458,7 +3089,24 @@ typedef enum
     clock_div_1_rc = 15, // ATmega128RFA1 only
 } clock_div_t;
 \endcode
-Clock prescaler setting enumerations.
+Clock prescaler setting enumerations for device using
+System Clock Prescale Register.
+
+\code
+typedef enum
+{
+    clock_div_1 = 1,
+    clock_div_2 = 2,
+    clock_div_4 = 4,
+    clock_div_8 = 8,
+    clock_div_16 = 16,
+    clock_div_32 = 32,
+    clock_div_64 = 64,
+    clock_div_128 = 128
+} clock_div_t;
+\endcode
+Clock prescaler setting enumerations for device using
+XTAL Divide Control Register.
 
 */
 typedef enum
@@ -1472,7 +3120,13 @@ typedef enum
     clock_div_64 = 6,
     clock_div_128 = 7,
     clock_div_256 = 8
-#if defined(__AVR_ATmega128RFA1__)
+#if defined(__AVR_ATmega128RFA1__) \
+|| defined(__AVR_ATmega256RFR2__) \
+|| defined(__AVR_ATmega2564RFR2__) \
+|| defined(__AVR_ATmega128RFR2__) \
+|| defined(__AVR_ATmega1284RFR2__) \
+|| defined(__AVR_ATmega64RFR2__) \
+|| defined(__AVR_ATmega644RFR2__)
     , clock_div_1_rc = 15
 #endif
 } clock_div_t;
@@ -1487,7 +3141,10 @@ Set the clock prescaler register select bits, selecting a system clock
 division setting. This function is inlined, even if compiler
 optimizations are disabled.
 
-The type of x is clock_div_t.
+The type of \c x is \c clock_div_t.
+
+\note For device with XTAL Divide Control Register (XDIV), \c x can actually range
+from 1 to 129. Thus, one does not need to use \c clock_div_t type as argument.
 */
 void clock_prescale_set(clock_div_t __x)
 {
@@ -1507,11 +3164,216 @@ void clock_prescale_set(clock_div_t __x)
 
 /** \addtogroup avr_power
 \code clock_prescale_get() \endcode
-Gets and returns the clock prescaler register setting. The return type is clock_div_t.
+Gets and returns the clock prescaler register setting. The return type is \c clock_div_t.
 
+\note For device with XTAL Divide Control Register (XDIV), return can actually
+range from 1 to 129. Care should be taken has the return value could differ from the
+typedef enum clock_div_t. This should only happen if clock_prescale_set was previously
+called with a value other than those defined by \c clock_div_t.
 */
 #define clock_prescale_get()  (clock_div_t)(CLKPR & (uint8_t)((1<<CLKPS0)|(1<<CLKPS1)|(1<<CLKPS2)|(1<<CLKPS3)))
 
+#elif defined(__AVR_ATmega16HVB__) \
+|| defined(__AVR_ATmega16HVBREVB__) \
+|| defined(__AVR_ATmega64HVE__) \
+|| defined(__AVR_ATmega32HVB__) \
+|| defined(__AVR_ATmega32HVBREVB__) \
+|| defined(__AVR_ATmega64HVE2__)
+
+typedef enum
+{
+    clock_div_1 = 0,
+    clock_div_2 = 1,
+    clock_div_4 = 2,
+    clock_div_8 = 3
+} clock_div_t;
+
+static __inline__ void clock_prescale_set(clock_div_t) __attribute__((__always_inline__));
+
+void clock_prescale_set(clock_div_t __x)
+{
+    uint8_t __tmp = _BV(CLKPCE);
+    __asm__ __volatile__ (
+        "in __tmp_reg__,__SREG__" "\n\t"
+        "cli" "\n\t"
+        "sts %1, %0" "\n\t"
+        "sts %1, %2" "\n\t"
+        "out __SREG__, __tmp_reg__"
+        : /* no outputs */
+        : "d" (__tmp),
+          "M" (_SFR_MEM_ADDR(CLKPR)),
+          "d" (__x)
+        : "r0");
+}
+
+#define clock_prescale_get()  (clock_div_t)(CLKPR & (uint8_t)((1<<CLKPS0)|(1<<CLKPS1)))
+
+#elif defined(__AVR_ATA5790__) \
+|| defined (__AVR_ATA5790N__) \
+|| defined (__AVR_ATA5795__)
+
+typedef enum
+{
+    clock_div_1 = 0,
+    clock_div_2 = 1,
+    clock_div_4 = 2,
+    clock_div_8 = 3,
+    clock_div_16 = 4,
+    clock_div_32 = 5,
+    clock_div_64 = 6,
+    clock_div_128 = 7,
+} clock_div_t;
+
+static __inline__ void system_clock_prescale_set(clock_div_t) __attribute__((__always_inline__));
+
+void system_clock_prescale_set(clock_div_t __x)
+{
+    uint8_t __tmp = _BV(CLKPCE);
+    __asm__ __volatile__ (
+        "in __tmp_reg__,__SREG__" "\n\t"
+        "cli" "\n\t"
+        "out %1, %0" "\n\t"
+        "out %1, %2" "\n\t"
+        "out __SREG__, __tmp_reg__"
+        : /* no outputs */
+        : "d" (__tmp),
+          "I" (_SFR_IO_ADDR(CLKPR)),
+          "d" (__x)
+        : "r0");
+}
+
+#define system_clock_prescale_get()  (clock_div_t)(CLKPR & (uint8_t)((1<<CLKPS0)|(1<<CLKPS1)|(1<<CLKPS2)))
+
+typedef enum
+{
+    timer_clock_div_reset = 0,
+    timer_clock_div_1 = 1,
+    timer_clock_div_2 = 2,
+    timer_clock_div_4 = 3,
+    timer_clock_div_8 = 4,
+    timer_clock_div_16 = 5,
+    timer_clock_div_32 = 6,
+    timer_clock_div_64 = 7
+} timer_clock_div_t;
+
+static __inline__ void timer_clock_prescale_set(timer_clock_div_t) __attribute__((__always_inline__));
+
+void timer_clock_prescale_set(timer_clock_div_t __x)
+{
+    uint8_t __t;
+    __asm__ __volatile__ (
+        "in __tmp_reg__,__SREG__" "\n\t"
+        "cli" "\n\t"
+        "in %[temp],%[clkpr]" "\n\t"
+        "out %[clkpr],%[enable]" "\n\t"
+        "andi %[temp],%[not_CLTPS]" "\n\t"
+        "or %[temp], %[set_value]" "\n\t"
+        "out %[clkpr],%[temp]" "\n\t"
+        "sei" "\n\t"
+        "out __SREG__,__tmp_reg__" "\n\t"
+        : /* no outputs */
+        : [temp] "r" (__t),
+          [clkpr] "I" (_SFR_IO_ADDR(CLKPR)),
+          [enable] "r" (_BV(CLKPCE)),
+          [not_CLTPS] "M" (0xFF & (~ ((1 << CLTPS2) | (1 << CLTPS1) | (1 << CLTPS0)))),
+          [set_value] "r" ((__x & 7) << 3)
+        : "r0");
+}
+
+#define timer_clock_prescale_get()  (timer_clock_div_t)(CLKPR & (uint8_t)((1<<CLTPS0)|(1<<CLTPS1)|(1<<CLTPS2)))
+
+#elif defined(__AVR_ATA6285__) \
+|| defined(__AVR_ATA6286__) \
+|| defined(__AVR_ATA6289__) \
+|| defined(__AVR_ATA5831__) 
+
+typedef enum
+{
+    clock_div_1 = 0,
+    clock_div_2 = 1,
+    clock_div_4 = 2,
+    clock_div_8 = 3,
+    clock_div_16 = 4,
+    clock_div_32 = 5,
+    clock_div_64 = 6,
+    clock_div_128 = 7
+} clock_div_t;
+
+static __inline__ void system_clock_prescale_set(clock_div_t) __attribute__((__always_inline__));
+
+void system_clock_prescale_set(clock_div_t __x)
+{
+    uint8_t __t;
+    __asm__ __volatile__ (
+        "in __tmp_reg__,__SREG__" "\n\t"
+        "cli" "\n\t"
+        "in %[temp],%[clpr]" "\n\t"
+        "out %[clpr],%[enable]" "\n\t"
+        "andi %[temp],%[not_CLKPS]" "\n\t"
+        "or %[temp], %[set_value]" "\n\t"
+        "out %[clpr],%[temp]" "\n\t"
+        "sei" "\n\t"
+        "out __SREG__,__tmp_reg__" "\n\t"
+        : /* no outputs */
+        : [temp] "r" (__t),
+#if defined(__AVR_ATA6286__) \
+|| defined(__AVR_ATA6285__) \
+|| defined(__AVR_ATA6289__)
+          [clpr] "I" (_SFR_IO_ADDR(CLKPR)),
+#elif defined(__AVR_ATA5831__)
+	  [clpr] "I" (_SFR_IO_ADDR(CLPR)),
+#endif
+          [enable] "r" _BV(CLPCE),
+          [not_CLKPS] "M" (0xFF & (~ ((1 << CLKPS2) | (1 << CLKPS1) | (1 << CLKPS0)))),
+          [set_value] "r" (__x & 7)
+        : "r0");
+}
+
+#define system_clock_prescale_get()  (clock_div_t)(CLKPR & (uint8_t)((1<<CLKPS0)|(1<<CLKPS1)|(1<<CLKPS2)))
+
+typedef enum
+{
+    timer_clock_div_reset = 0,
+    timer_clock_div_1 = 1,
+    timer_clock_div_2 = 2,
+    timer_clock_div_4 = 3,
+    timer_clock_div_8 = 4,
+    timer_clock_div_16 = 5,
+    timer_clock_div_32 = 6,
+    timer_clock_div_64 = 7
+} timer_clock_div_t;
+
+static __inline__ void timer_clock_prescale_set(timer_clock_div_t) __attribute__((__always_inline__));
+
+void timer_clock_prescale_set(timer_clock_div_t __x)
+{
+    uint8_t __t;
+    __asm__ __volatile__ (
+        "in __tmp_reg__,__SREG__" "\n\t"
+        "cli" "\n\t"
+        "in %[temp],%[clpr]" "\n\t"
+        "out %[clpr],%[enable]" "\n\t"
+        "andi %[temp],%[not_CLTPS]" "\n\t"
+        "or %[temp], %[set_value]" "\n\t"
+        "out %[clpr],%[temp]" "\n\t"
+        "sei" "\n\t"
+        "out __SREG__,__tmp_reg__" "\n\t"
+        : /* no outputs */
+        : [temp] "r" (__t),
+#if defined(__AVR_ATA6286__) \
+|| defined(__AVR_ATA6285__) \
+|| defined(__AVR_ATA6289__)
+          [clpr] "I" (_SFR_IO_ADDR(CLKPR)),
+#elif defined(__AVR_ATA5831__)
+         [clpr] "I" (_SFR_IO_ADDR(CLPR)),
+#endif
+          [enable] "r" (_BV(CLPCE)),	  
+          [not_CLTPS] "M" (0xFF & (~ ((1 << CLTPS2) | (1 << CLTPS1) | (1 << CLTPS0)))),
+          [set_value] "r" ((__x & 7) << 3)
+        : "r0");
+}
+
+#define timer_clock_prescale_get()  (timer_clock_div_t)(CLKPR & (uint8_t)((1<<CLTPS0)|(1<<CLTPS1)|(1<<CLTPS2)))
 
 #elif defined(__AVR_ATtiny24__) \
 || defined(__AVR_ATtiny24A__) \
@@ -1569,10 +3431,172 @@ void clock_prescale_set(clock_div_t __x)
 
 #define clock_prescale_get()  (clock_div_t)(CLKPR & (uint8_t)((1<<CLKPS0)|(1<<CLKPS1)|(1<<CLKPS2)|(1<<CLKPS3)))
 
+#elif defined(__AVR_ATtiny441__) \
+|| defined(__AVR_ATtiny841__)
 
-#endif
+typedef enum
+{
+    clock_div_1 = 0,
+    clock_div_2 = 1,
+    clock_div_4 = 2,
+    clock_div_8 = 3,
+    clock_div_16 = 4,
+    clock_div_32 = 5,
+    clock_div_64 = 6,
+    clock_div_128 = 7,
+    clock_div_256 = 8
+} clock_div_t;
+
+static __inline__ void clock_prescale_set(clock_div_t) __attribute__((__always_inline__));
+
+void clock_prescale_set(clock_div_t __x)
+{
+    
+    __asm__ __volatile__ (
+        "in __tmp_reg__,__SREG__" "\n\t"
+        "cli" "\n\t"
+        "sts %2, %3" "\n\t"
+        "sts %1, %0" "\n\t"
+        "out __SREG__, __tmp_reg__"
+        : /* no outputs */
+        : "d" (__x),
+          "M" (_SFR_MEM_ADDR(CLKPR)),
+          "M" (_SFR_MEM_ADDR(CCP)),
+          "r" ((uint8_t)0xD8)
+        : "r0");
+}
+
+
+#define clock_prescale_get()  (clock_div_t)(CLKPR & (uint8_t)((1<<CLKPS0)|(1<<CLKPS1)|(1<<CLKPS2)|(1<<CLKPS3)))
+
+#elif defined(__AVR_ATtiny4__) \
+|| defined(__AVR_ATtiny5__) \
+|| defined(__AVR_ATtiny9__) \
+|| defined(__AVR_ATtiny10__) \
+|| defined(__AVR_ATtiny20__) \
+|| defined(__AVR_ATtiny40__) \
+
+typedef enum 
+{ 
+    clock_div_1 = 0, 
+    clock_div_2 = 1, 
+    clock_div_4 = 2, 
+    clock_div_8 = 3, 
+    clock_div_16 = 4, 
+    clock_div_32 = 5, 
+    clock_div_64 = 6, 
+    clock_div_128 = 7, 
+    clock_div_256 = 8 
+} clock_div_t; 
+
+static __inline__ void clock_prescale_set(clock_div_t) __attribute__((__always_inline__));
+
+void clock_prescale_set(clock_div_t __x)
+{
+    uint8_t __tmp = 0xD8;
+    __asm__ __volatile__ (
+        "in __tmp_reg__,__SREG__" "\n\t"
+        "cli" "\n\t"
+        "out %1, %0" "\n\t"
+        "out %2, %3" "\n\t"
+        "out __SREG__, __tmp_reg__"
+        : /* no outputs */
+        : "d" (__tmp),
+          "I" (_SFR_IO_ADDR(CCP)),
+          "I" (_SFR_IO_ADDR(CLKPSR)),
+          "d" (__x)
+        : "r16");
+}
+
+#define clock_prescale_get()  (clock_div_t)(CLKPSR & (uint8_t)((1<<CLKPS0)|(1<<CLKPS1)|(1<<CLKPS2)|(1<<CLKPS3)))
+
+#elif defined(__AVR_ATmega64__) \
+|| defined(__AVR_ATmega103__) \
+|| defined(__AVR_ATmega128__)
+
+//Enum is declared for code compatibility
+typedef enum
+{
+    clock_div_1 = 1,
+    clock_div_2 = 2,
+    clock_div_4 = 4,
+    clock_div_8 = 8,
+    clock_div_16 = 16,
+    clock_div_32 = 32,
+    clock_div_64 = 64,
+    clock_div_128 = 128
+} clock_div_t;
 
+static __inline__ void clock_prescale_set(clock_div_t) __attribute__((__always_inline__));
+
+void clock_prescale_set(clock_div_t __x)
+{
+    if((__x <= 0) || (__x > 129))
+    {
+        return;//Invalid value.
+    }
+    else
+    {
+        uint8_t __tmp = 0;
+        //Algo explained:
+        //1 - Clear XDIV in order for it to accept a new value (actually only
+        //    XDIVEN need to be cleared, but clearing XDIV is faster than
+        //    read-modify-write since we will rewrite XDIV later anyway)
+        //2 - wait 8 clock cycle for stability, see datasheet erreta
+        //3 - Exist if requested prescaller is 1
+        //4 - Calculate XDIV6..0 value = 129 - __x
+        //5 - Set XDIVEN bit in calculated value
+        //6 - write XDIV with calculated value
+        //7 - wait 8 clock cycle for stability, see datasheet erreta
+        __asm__ __volatile__ (
+            "in __tmp_reg__,__SREG__" "\n\t"
+            "cli" "\n\t"
+            "out %1, __zero_reg__" "\n\t"
+            "nop" "\n\t"
+            "nop" "\n\t"
+            "nop" "\n\t"
+            "nop" "\n\t"
+            "nop" "\n\t"
+            "nop" "\n\t"
+            "nop" "\n\t"
+            "nop" "\n\t"
+            "cpi %0, 0x01" "\n\t"
+            "breq L_%=" "\n\t"
+            "ldi %2, 0x81" "\n\t" //129
+            "sub %2, %0" "\n\t"
+            "ori %2, 0x80" "\n\t" //128
+            "out %1, %2" "\n\t"
+            "nop" "\n\t"
+            "nop" "\n\t"
+            "nop" "\n\t"
+            "nop" "\n\t"
+            "nop" "\n\t"
+            "nop" "\n\t"
+            "nop" "\n\t"
+            "nop" "\n\t"
+            "L_%=: " "out __SREG__, __tmp_reg__"
+            : /* no outputs */
+            :"d" (__x),
+             "I" (_SFR_IO_ADDR(XDIV)),
+             "d" (__tmp)
+            : "r0");
+    }
+}
 
+static __inline__ clock_div_t clock_prescale_get(void) __attribute__((__always_inline__));
 
+clock_div_t clock_prescale_get(void)
+{
+    if(bit_is_clear(XDIV, XDIVEN))
+    {
+        return 1;
+    }
+    else
+    {
+        return (clock_div_t)(129 - (XDIV & 0x7F));
+    }
+}
+ 
+#endif
 
 #endif /* _AVR_POWER_H_ */
diff --git a/include/avr/sfr_defs.h b/include/avr/sfr_defs.h
index 9f7b588..2f35572 100644
--- a/include/avr/sfr_defs.h
+++ b/include/avr/sfr_defs.h
@@ -30,7 +30,7 @@
 
 /* avr/sfr_defs.h - macros for accessing AVR special function registers */
 
-/* $Id: sfr_defs.h 1691 2008-04-28 22:05:42Z arcanum $ */
+/* $Id$ */
 
 #ifndef _AVR_SFR_DEFS_H_
 #define _AVR_SFR_DEFS_H_ 1
diff --git a/include/avr/signal.h b/include/avr/signal.h
index 22d8275..8f83399 100644
--- a/include/avr/signal.h
+++ b/include/avr/signal.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: signal.h 1059 2006-02-02 19:42:12Z aesok $ */
+/* $Id$ */
 
 #ifndef _AVR_SIGNAL_H_
 #define _AVR_SIGNAL_H_
diff --git a/include/avr/signature.h b/include/avr/signature.h
index 9108d17..40fea7b 100644
--- a/include/avr/signature.h
+++ b/include/avr/signature.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: signature.h 2102 2010-03-16 22:52:39Z joerg_wunsch $ */
+/* $Id$ */
 
 /* avr/signature.h - Signature API */
 
@@ -74,7 +74,8 @@
 
 #if defined(SIGNATURE_0) && defined(SIGNATURE_1) && defined(SIGNATURE_2)
 
-const unsigned char __signature[3] __attribute__((section (".signature"))) =
+const unsigned char __signature[3]
+__attribute__((__used__, __section__(".signature"))) =
         { SIGNATURE_2, SIGNATURE_1, SIGNATURE_0 };
 
 #endif  /* defined(SIGNATURE_0) && defined(SIGNATURE_1) && defined(SIGNATURE_2) */
diff --git a/include/avr/sleep.h b/include/avr/sleep.h
index 13166f9..6ced079 100644
--- a/include/avr/sleep.h
+++ b/include/avr/sleep.h
@@ -30,7 +30,7 @@
    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
    POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: sleep.h 2238 2011-05-09 16:44:33Z arcanum $ */
+/* $Id$ */
 
 #ifndef _AVR_SLEEP_H_
 #define _AVR_SLEEP_H_ 1
@@ -206,11 +206,17 @@
 
     #define set_sleep_mode(mode) \
     do { \
-        _SLEEP_CONTROL_REG = ((_SLEEP_CONTROL_REG & ~__BV(SM)) | (mode)); \
+        _SLEEP_CONTROL_REG = ((_SLEEP_CONTROL_REG & ~_BV(SM)) | (mode)); \
     } while(0)
 
-#elif defined(__AVR_ATtiny167__) \
-|| defined(__AVR_ATtiny87__)
+#elif defined(__AVR_ATA6616C__) \
+|| defined(__AVR_ATA6617C__) \
+|| defined(__AVR_ATA664251__) \
+|| defined(__AVR_ATtiny167__) \
+|| defined(__AVR_ATtiny87__) \
+|| defined(__AVR_ATtiny441__) \
+|| defined(__AVR_ATtiny828__) \
+|| defined(__AVR_ATtiny841__)
 
     #define SLEEP_MODE_IDLE         0
     #define SLEEP_MODE_ADC          _BV(SM0)
@@ -222,6 +228,8 @@
     } while(0)
 
 #elif defined(__AVR_AT90S4434__) \
+|| defined(__AVR_ATA5505__) \
+|| defined(__AVR_ATA5272__) \
 || defined(__AVR_AT76C711__) \
 || defined(__AVR_AT90S8535__) \
 || defined(__AVR_ATmega103__) \
@@ -256,6 +264,33 @@
         _SLEEP_CONTROL_REG = ((_SLEEP_CONTROL_REG & ~(_BV(SM0) | _BV(SM1))) | (mode)); \
     } while(0)
 
+#elif defined(__AVR_ATmega16HVA__) \
+|| defined(__AVR_ATmega8HVA__) 
+
+    #define SLEEP_MODE_IDLE         (0)
+    #define SLEEP_MODE_ADC          _BV(SM0)
+    #define SLEEP_MODE_PWR_SAVE     (_BV(SM0) | _BV(SM1))
+    #define SLEEP_MODE_PWR_OFF      _BV(SM2)
+
+
+    #define set_sleep_mode(mode) \
+    do { \
+        _SLEEP_CONTROL_REG = ((_SLEEP_CONTROL_REG & ~(_BV(SM0) | _BV(SM1) | _BV(SM2))) | (mode)); \
+    } while(0)
+
+#elif defined(__AVR_ATmega406__)
+
+    #define SLEEP_MODE_IDLE         (0)
+    #define SLEEP_MODE_ADC          _BV(SM0)
+    #define SLEEP_MODE_PWR_DOWN     _BV(SM1)
+    #define SLEEP_MODE_PWR_SAVE     (_BV(SM0) | _BV(SM1))
+    #define SLEEP_MODE_PWR_OFF      _BV(SM2)
+
+    #define set_sleep_mode(mode) \
+    do { \
+        _SLEEP_CONTROL_REG = ((_SLEEP_CONTROL_REG & ~(_BV(SM0) | _BV(SM1) | _BV(SM2))) | (mode)); \
+    } while(0)
+
 #elif defined(__AVR_ATtiny2313__) \
 || defined(__AVR_ATtiny2313A__) \
 || defined(__AVR_ATtiny4313__)
@@ -269,7 +304,9 @@
         _SLEEP_CONTROL_REG = ((_SLEEP_CONTROL_REG & ~(_BV(SM0) | _BV(SM1))) | (mode)); \
     } while(0)
 
-#elif defined(__AVR_AT94K__)
+#elif defined(__AVR_AT94K__) \
+|| defined(__AVR_ATmega64HVE__) \
+|| defined(__AVR_ATmega64HVE2__)
 
     #define SLEEP_MODE_IDLE         0
     #define SLEEP_MODE_PWR_DOWN     _BV(SM1)
@@ -287,7 +324,8 @@
 || defined(__AVR_ATtiny461A__) \
 || defined(__AVR_ATtiny861__) \
 || defined(__AVR_ATtiny861A__) \
-|| defined(__AVR_ATtiny43U__)
+|| defined(__AVR_ATtiny43U__) \
+|| defined(__AVR_ATtiny1634__)
 
     #define SLEEP_MODE_IDLE         0
     #define SLEEP_MODE_ADC          _BV(SM0)
@@ -301,7 +339,16 @@
 
 #elif defined(__AVR_AT90PWM216__) \
 || defined(__AVR_AT90PWM316__) \
-|| defined(__AVR_AT90PWM81__)
+|| defined(__AVR_AT90PWM161__) \
+|| defined(__AVR_AT90PWM81__) \
+|| defined(__AVR_AT90PWM1__) \
+|| defined(__AVR_AT90PWM2__) \
+|| defined(__AVR_AT90PWM2B__) \
+|| defined(__AVR_AT90PWM3__) \
+|| defined(__AVR_AT90PWM3B__) \
+|| defined(__AVR_ATmega32M1__) \
+|| defined(__AVR_ATmega16M1__) \
+|| defined(__AVR_ATmega64M1__) 
 
     #define SLEEP_MODE_IDLE         0
     #define SLEEP_MODE_ADC          _BV(SM0)
@@ -313,105 +360,64 @@
         _SLEEP_CONTROL_REG = ((_SLEEP_CONTROL_REG & ~(_BV(SM0) | _BV(SM1) | _BV(SM2))) | (mode)); \
     } while(0)
 
-#elif defined(__AVR_AT90CAN128__) \
-|| defined(__AVR_AT90CAN32__) \
-|| defined(__AVR_AT90CAN64__) \
-|| defined(__AVR_AT90PWM1__) \
-|| defined(__AVR_AT90PWM2__) \
-|| defined(__AVR_AT90PWM2B__) \
-|| defined(__AVR_AT90PWM3__) \
-|| defined(__AVR_AT90PWM3B__) \
-|| defined(__AVR_AT90USB162__) \
-|| defined(__AVR_AT90USB82__) \
-|| defined(__AVR_AT90USB1286__) \
+#elif defined(__AVR_AT90USB1286__) \
 || defined(__AVR_AT90USB1287__) \
 || defined(__AVR_AT90USB646__) \
 || defined(__AVR_AT90USB647__) \
+|| defined(__AVR_ATA6614Q__) \
 || defined(__AVR_ATmega128__) \
+|| defined(__AVR_ATmega128A__) \
 || defined(__AVR_ATmega1280__) \
 || defined(__AVR_ATmega1281__) \
+|| defined(__AVR_ATmega1284__) \
 || defined(__AVR_ATmega1284P__) \
 || defined(__AVR_ATmega128RFA1__) \
+|| defined(__AVR_ATmega128RFR2__) \
+|| defined(__AVR_ATmega1284RFR2__) \
 || defined(__AVR_ATmega16__) \
 || defined(__AVR_ATmega16A__) \
 || defined(__AVR_ATmega162__) \
 || defined(__AVR_ATmega164A__) \
 || defined(__AVR_ATmega164P__) \
-|| defined(__AVR_ATmega165__) \
-|| defined(__AVR_ATmega165A__) \
-|| defined(__AVR_ATmega165P__) \
-|| defined(__AVR_ATmega168__) \
+|| defined(__AVR_ATmega164PA__) \
 || defined(__AVR_ATmega168A__) \
 || defined(__AVR_ATmega168P__) \
-|| defined(__AVR_ATmega169__) \
-|| defined(__AVR_ATmega169A__) \
-|| defined(__AVR_ATmega169P__) \
-|| defined(__AVR_ATmega169PA__) \
-|| defined(__AVR_ATmega16HVA__) \
+|| defined(__AVR_ATmega168PA__) \
 || defined(__AVR_ATmega16HVA2__) \
-|| defined(__AVR_ATmega16M1__) \
-|| defined(__AVR_ATmega16U2__) \
 || defined(__AVR_ATmega16U4__) \
 || defined(__AVR_ATmega2560__) \
 || defined(__AVR_ATmega2561__) \
+|| defined(__AVR_ATmega256RFR2__) \
+|| defined(__AVR_ATmega2564RFR2__) \
 || defined(__AVR_ATmega32__) \
+|| defined(__AVR_ATmega32A__) \
 || defined(__AVR_ATmega323__) \
 || defined(__AVR_ATmega324A__) \
 || defined(__AVR_ATmega324P__) \
 || defined(__AVR_ATmega324PA__) \
-|| defined(__AVR_ATmega325__) \
-|| defined(__AVR_ATmega325A__) \
-|| defined(__AVR_ATmega3250__) \
-|| defined(__AVR_ATmega3250A__) \
 || defined(__AVR_ATmega328__) \
 || defined(__AVR_ATmega328P__) \
-|| defined(__AVR_ATmega329__) \
-|| defined(__AVR_ATmega329A__) \
-|| defined(__AVR_ATmega329P__) \
-|| defined(__AVR_ATmega329PA__) \
-|| defined(__AVR_ATmega3290__) \
-|| defined(__AVR_ATmega3290A__) \
-|| defined(__AVR_ATmega3290P__) \
 || defined(__AVR_ATmega32C1__) \
-|| defined(__AVR_ATmega32M1__) \
-|| defined(__AVR_ATmega32U2__) \
 || defined(__AVR_ATmega32U4__) \
 || defined(__AVR_ATmega32U6__) \
-|| defined(__AVR_ATmega406__) \
-|| defined(__AVR_ATmega48__) \
 || defined(__AVR_ATmega48A__) \
+|| defined(__AVR_ATmega48PA__) \
 || defined(__AVR_ATmega48P__) \
 || defined(__AVR_ATmega64__) \
+|| defined(__AVR_ATmega64A__) \
 || defined(__AVR_ATmega640__) \
 || defined(__AVR_ATmega644__) \
 || defined(__AVR_ATmega644A__) \
 || defined(__AVR_ATmega644P__) \
 || defined(__AVR_ATmega644PA__) \
-|| defined(__AVR_ATmega645__) \
-|| defined(__AVR_ATmega645A__) \
-|| defined(__AVR_ATmega645P__) \
-|| defined(__AVR_ATmega6450__) \
-|| defined(__AVR_ATmega6450A__) \
-|| defined(__AVR_ATmega6450P__) \
-|| defined(__AVR_ATmega649__) \
-|| defined(__AVR_ATmega649A__) \
-|| defined(__AVR_ATmega6490__) \
-|| defined(__AVR_ATmega6490A__) \
-|| defined(__AVR_ATmega6490P__) \
-|| defined(__AVR_ATmega649P__) \
 || defined(__AVR_ATmega64C1__) \
-|| defined(__AVR_ATmega64HVE__) \
-|| defined(__AVR_ATmega64M1__) \
-|| defined(__AVR_ATmega8__) \
+|| defined(__AVR_ATmega64RFR2__) \
+|| defined(__AVR_ATmega644RFR2__) \
 || defined(__AVR_ATmega8515__) \
 || defined(__AVR_ATmega8535__) \
-|| defined(__AVR_ATmega88__) \
 || defined(__AVR_ATmega88A__) \
 || defined(__AVR_ATmega88P__) \
-|| defined(__AVR_ATmega88PA__) \
-|| defined(__AVR_ATmega8HVA__) \
-|| defined(__AVR_ATmega8U2__)
-
+|| defined(__AVR_ATmega88PA__) 
 
     #define SLEEP_MODE_IDLE         (0)
     #define SLEEP_MODE_ADC          _BV(SM0)
@@ -426,23 +432,110 @@
         _SLEEP_CONTROL_REG = ((_SLEEP_CONTROL_REG & ~(_BV(SM0) | _BV(SM1) | _BV(SM2))) | (mode)); \
     } while(0)
 
+#elif defined(__AVR_ATmega8A__) \
+|| defined(__AVR_ATmega8__) \
+|| defined(__AVR_ATmega6450A__) \
+|| defined(__AVR_ATmega6450P__) \
+|| defined(__AVR_ATmega645A__) \
+|| defined(__AVR_ATmega645P__) \
+|| defined(__AVR_ATmega3250A__) \
+|| defined(__AVR_ATmega3250PA__) \
+|| defined(__AVR_ATmega325A__) \
+|| defined(__AVR_ATmega325PA__) \
+|| defined(__AVR_ATmega165A__) \
+|| defined(__AVR_ATmega165P__) \
+|| defined(__AVR_ATmega165PA__) \
+|| defined(__AVR_ATmega169A__) \
+|| defined(__AVR_ATmega169P__) \
+|| defined(__AVR_ATmega169PA__) \
+|| defined(__AVR_ATmega329A__) \
+|| defined(__AVR_ATmega329PA__) \
+|| defined(__AVR_ATmega3290A__) \
+|| defined(__AVR_ATmega3290PA__) \
+|| defined(__AVR_ATmega649A__) \
+|| defined(__AVR_ATmega649P__) \
+|| defined(__AVR_ATmega6490A__) \
+|| defined(__AVR_ATmega6490P__) \
+|| defined(__AVR_ATmega165__) \
+|| defined(__AVR_ATmega169__) \
+|| defined(__AVR_ATmega48__) \
+|| defined(__AVR_ATmega88__) \
+|| defined(__AVR_ATmega168__) \
+|| defined(__AVR_ATmega325P__) \
+|| defined(__AVR_ATmega3250P__) \
+|| defined(__AVR_ATmega325__) \
+|| defined(__AVR_ATmega3250__) \
+|| defined(__AVR_ATmega645__) \
+|| defined(__AVR_ATmega6450__) \
+|| defined(__AVR_ATmega329__) \
+|| defined(__AVR_ATmega329P__) \
+|| defined(__AVR_ATmega3290__) \
+|| defined(__AVR_ATmega3290P__) \
+|| defined(__AVR_ATmega649__) \
+|| defined(__AVR_ATmega6490__) \
+|| defined(__AVR_AT90CAN128__) \
+|| defined(__AVR_AT90CAN32__) \
+|| defined(__AVR_AT90CAN64__) \
+|| defined(__AVR_ATA6612C__) \
+|| defined(__AVR_ATA6613C__) 
+
+    #define SLEEP_MODE_IDLE         (0)
+    #define SLEEP_MODE_ADC          _BV(SM0)
+    #define SLEEP_MODE_PWR_DOWN     _BV(SM1)
+    #define SLEEP_MODE_PWR_SAVE     (_BV(SM0) | _BV(SM1))
+    #define SLEEP_MODE_STANDBY      (_BV(SM1) | _BV(SM2))
+
+
+    #define set_sleep_mode(mode) \
+    do { \
+        _SLEEP_CONTROL_REG = ((_SLEEP_CONTROL_REG & ~(_BV(SM0) | _BV(SM1) | _BV(SM2))) | (mode)); \
+    } while(0)
+
 #elif defined(__AVR_ATxmega16A4__) \
+|| defined(__AVR_ATxmega16A4U__) \
+|| defined(__AVR_ATxmega16C4__) \
 || defined(__AVR_ATxmega16D4__) \
 || defined(__AVR_ATxmega32A4__) \
+|| defined(__AVR_ATxmega32A4U__) \
+|| defined(__AVR_ATxmega32C3__) \
+|| defined(__AVR_ATxmega32C4__) \
+|| defined(__AVR_ATxmega32D3__) \
 || defined(__AVR_ATxmega32D4__) \
+|| defined(__AVR_ATxmega8E5__) \
+|| defined(__AVR_ATxmega16E5__) \
+|| defined(__AVR_ATxmega32E5__) \
 || defined(__AVR_ATxmega64A1__) \
 || defined(__AVR_ATxmega64A1U__) \
 || defined(__AVR_ATxmega64A3__) \
+|| defined(__AVR_ATxmega64A3U__) \
+|| defined(__AVR_ATxmega64A4U__) \
+|| defined(__AVR_ATxmega64B1__) \
+|| defined(__AVR_ATxmega64B3__) \
+|| defined(__AVR_ATxmega64C3__) \
 || defined(__AVR_ATxmega64D3__) \
+|| defined(__AVR_ATxmega64D4__) \
 || defined(__AVR_ATxmega128A1__) \
 || defined(__AVR_ATxmega128A1U__) \
 || defined(__AVR_ATxmega128A3__) \
+|| defined(__AVR_ATxmega128A3U__) \
+|| defined(__AVR_ATxmega128A4U__) \
+|| defined(__AVR_ATxmega128B1__) \
+|| defined(__AVR_ATxmega128B3__) \
+|| defined(__AVR_ATxmega128C3__) \
 || defined(__AVR_ATxmega128D3__) \
+|| defined(__AVR_ATxmega128D4__) \
 || defined(__AVR_ATxmega192A3__) \
+|| defined(__AVR_ATxmega192A3U__) \
+|| defined(__AVR_ATxmega192C3__) \
 || defined(__AVR_ATxmega192D3__) \
 || defined(__AVR_ATxmega256A3__) \
+|| defined(__AVR_ATxmega256A3U__) \
+|| defined(__AVR_ATxmega256C3__) \
 || defined(__AVR_ATxmega256D3__) \
-|| defined(__AVR_ATxmega256A3B__)
+|| defined(__AVR_ATxmega256A3B__) \
+|| defined(__AVR_ATxmega256A3BU__) \
+|| defined(__AVR_ATxmega384C3__) \
+|| defined(__AVR_ATxmega384D3__)
 
     #define SLEEP_MODE_IDLE         (0)
     #define SLEEP_MODE_PWR_DOWN     (SLEEP_SMODE1_bm)
@@ -455,7 +548,12 @@
         _SLEEP_CONTROL_REG = ((_SLEEP_CONTROL_REG & ~(SLEEP_SMODE2_bm | SLEEP_SMODE1_bm | SLEEP_SMODE0_bm)) | (mode)); \
     } while(0)
 
-#elif defined(__AVR_AT90SCR100__)
+#elif defined(__AVR_AT90SCR100__) \
+|| defined(__AVR_ATmega8U2__) \
+|| defined(__AVR_ATmega16U2__) \
+|| defined(__AVR_ATmega32U2__) \
+|| defined(__AVR_AT90USB162__) \
+|| defined(__AVR_AT90USB82__) 
 
     #define SLEEP_MODE_IDLE         (0)
     #define SLEEP_MODE_PWR_DOWN     _BV(SM1)
@@ -468,7 +566,9 @@
         _SLEEP_CONTROL_REG = ((_SLEEP_CONTROL_REG & ~(_BV(SM0) | _BV(SM1) | _BV(SM2))) | (mode)); \
     } while(0)
 
-#elif defined(__AVR_ATA6289__)
+#elif defined(__AVR_ATA6285__) \
+|| defined(__AVR_ATA6286__) \
+|| defined(__AVR_ATA6289__)
 
     #define SLEEP_MODE_IDLE                     (0)
     #define SLEEP_MODE_SENSOR_NOISE_REDUCTION   (_BV(SM0))
@@ -479,6 +579,21 @@
         _SLEEP_CONTROL_REG = ((_SLEEP_CONTROL_REG & ~(_BV(SM0) | _BV(SM1) | _BV(SM2))) | (mode)); \
     } while(0)
 
+#elif defined (__AVR_ATA5790__) \
+|| defined (__AVR_ATA5790N__) \
+|| defined (__AVR_ATA5795__) \
+|| defined (__AVR_ATA5831__)
+
+    #define SLEEP_MODE_IDLE           (0)
+    #define SLEEP_MODE_EXT_PWR_SAVE   (_BV(SM0))
+    #define SLEEP_MODE_PWR_DOWN       (_BV(SM1))
+    #define SLEEP_MODE_PWR_SAVE       (_BV(SM1) | _BV(SM0))     
+    
+    #define set_sleep_mode(mode) \
+    do { \
+        _SLEEP_CONTROL_REG = ((_SLEEP_CONTROL_REG & ~(_BV(SM0) | _BV(SM1) | _BV(SM2))) | (mode)); \
+    } while(0)
+
 #elif defined(__AVR_ATtiny4__) \
 || defined(__AVR_ATtiny5__) \
 || defined(__AVR_ATtiny9__) \
diff --git a/include/avr/version.h.in b/include/avr/version.h.in
index b474138..9eb34a5 100644
--- a/include/avr/version.h.in
+++ b/include/avr/version.h.in
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: version.h.in 870 2005-09-12 20:18:12Z joerg_wunsch $ */
+/* $Id$ */
 
 /** \defgroup avr_version <avr/version.h>: avr-libc version macros
     \code #include <avr/version.h> \endcode
diff --git a/include/avr/wdt.h b/include/avr/wdt.h
index 6c3dc80..a97b449 100644
--- a/include/avr/wdt.h
+++ b/include/avr/wdt.h
@@ -29,7 +29,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: wdt.h 2211 2011-02-14 14:04:25Z aboyapati $ */
+/* $Id$ */
 
 /*
    avr/wdt.h - macros for AVR watchdog timer
@@ -107,8 +107,10 @@
 
 #if defined(WDTCSR)
 #  define _WD_CONTROL_REG     WDTCSR
-#else
+#elif defined(WDTCR)
 #  define _WD_CONTROL_REG     WDTCR
+#else
+#  define _WD_CONTROL_REG     WDT
 #endif
 
 #if defined(WDTOE)
@@ -131,21 +133,49 @@
 
 
 #if defined(__AVR_ATxmega16A4__) \
+|| defined(__AVR_ATxmega16A4U__) \
+|| defined(__AVR_ATxmega16C4__) \
 || defined(__AVR_ATxmega16D4__) \
 || defined(__AVR_ATxmega32A4__) \
+|| defined(__AVR_ATxmega32A4U__) \
+|| defined(__AVR_ATxmega32C3__) \
+|| defined(__AVR_ATxmega32C4__) \
+|| defined(__AVR_ATxmega32D3__) \
 || defined(__AVR_ATxmega32D4__) \
+|| defined(__AVR_ATxmega8E5__) \
+|| defined(__AVR_ATxmega16E5__) \
+|| defined(__AVR_ATxmega32E5__) \
 || defined(__AVR_ATxmega64A1U__) \
 || defined(__AVR_ATxmega64A3__) \
+|| defined(__AVR_ATxmega64A3U__) \
+|| defined(__AVR_ATxmega64A4U__) \
+|| defined(__AVR_ATxmega64B1__) \
+|| defined(__AVR_ATxmega64B3__) \
+|| defined(__AVR_ATxmega64C3__) \
 || defined(__AVR_ATxmega64D3__) \
+|| defined(__AVR_ATxmega64D4__) \
 || defined(__AVR_ATxmega128A1__) \
 || defined(__AVR_ATxmega128A1U__) \
 || defined(__AVR_ATxmega128A3__) \
+|| defined(__AVR_ATxmega128A3U__) \
+|| defined(__AVR_ATxmega128A4U__) \
+|| defined(__AVR_ATxmega128B1__) \
+|| defined(__AVR_ATxmega128B3__) \
+|| defined(__AVR_ATxmega128C3__) \
 || defined(__AVR_ATxmega128D3__) \
+|| defined(__AVR_ATxmega128D4__) \
 || defined(__AVR_ATxmega192A3__) \
+|| defined(__AVR_ATxmega192A3U__) \
+|| defined(__AVR_ATxmega192C3__) \
 || defined(__AVR_ATxmega192D3__) \
 || defined(__AVR_ATxmega256A3__) \
+|| defined(__AVR_ATxmega256A3U__) \
+|| defined(__AVR_ATxmega256C3__) \
 || defined(__AVR_ATxmega256D3__) \
-|| defined(__AVR_ATxmega256A3B__)
+|| defined(__AVR_ATxmega256A3B__) \
+|| defined(__AVR_ATxmega256A3BU__) \
+|| defined(__AVR_ATxmega384C3__) \
+|| defined(__AVR_ATxmega384D3__)
 
 /*
     wdt_enable(WDT_PER_8KCLK_gc);
@@ -177,6 +207,7 @@ __asm__ __volatile__ ( \
 || defined(__AVR_AT90PWM3__) \
 || defined(__AVR_AT90PWM316__) \
 || defined(__AVR_AT90PWM3B__) \
+|| defined(__AVR_AT90PWM161__) \
 || defined(__AVR_AT90PWM81__) \
 || defined(__AVR_AT90USB1286__) \
 || defined(__AVR_AT90USB1287__) \
@@ -184,19 +215,26 @@ __asm__ __volatile__ ( \
 || defined(__AVR_AT90USB646__) \
 || defined(__AVR_AT90USB647__) \
 || defined(__AVR_AT90USB82__) \
+|| defined(__AVR_ATmega128A__) \
 || defined(__AVR_ATmega1280__) \
 || defined(__AVR_ATmega1281__) \
+|| defined(__AVR_ATmega1284__) \
 || defined(__AVR_ATmega1284P__) \
 || defined(__AVR_ATmega128RFA1__) \
+|| defined(__AVR_ATmega128RFR2__) \
+|| defined(__AVR_ATmega1284RFR2__) \
 || defined(__AVR_ATmega164__) \
 || defined(__AVR_ATmega164A__) \
 || defined(__AVR_ATmega164P__) \
+|| defined(__AVR_ATmega164PA__) \
 || defined(__AVR_ATmega165__) \
 || defined(__AVR_ATmega165A__) \
 || defined(__AVR_ATmega165P__) \
+|| defined(__AVR_ATmega165PA__) \
 || defined(__AVR_ATmega168__) \
 || defined(__AVR_ATmega168A__) \
 || defined(__AVR_ATmega168P__) \
+|| defined(__AVR_ATmega168PA__) \
 || defined(__AVR_ATmega169__) \
 || defined(__AVR_ATmega169A__) \
 || defined(__AVR_ATmega169P__) \
@@ -210,6 +248,9 @@ __asm__ __volatile__ ( \
 || defined(__AVR_ATmega16U4__) \
 || defined(__AVR_ATmega2560__) \
 || defined(__AVR_ATmega2561__) \
+|| defined(__AVR_ATmega256RFR2__) \
+|| defined(__AVR_ATmega2564RFR2__) \
+|| defined(__AVR_ATmega32A__) \
 || defined(__AVR_ATmega324__) \
 || defined(__AVR_ATmega324A__) \
 || defined(__AVR_ATmega324P__) \
@@ -217,9 +258,11 @@ __asm__ __volatile__ ( \
 || defined(__AVR_ATmega325__) \
 || defined(__AVR_ATmega325A__) \
 || defined(__AVR_ATmega325P__) \
+|| defined(__AVR_ATmega325PA__) \
 || defined(__AVR_ATmega3250__) \
 || defined(__AVR_ATmega3250A__) \
 || defined(__AVR_ATmega3250P__) \
+|| defined(__AVR_ATmega3250PA__) \
 || defined(__AVR_ATmega328__) \
 || defined(__AVR_ATmega328P__) \
 || defined(__AVR_ATmega329__) \
@@ -229,6 +272,7 @@ __asm__ __volatile__ ( \
 || defined(__AVR_ATmega3290__) \
 || defined(__AVR_ATmega3290A__) \
 || defined(__AVR_ATmega3290P__) \
+|| defined(__AVR_ATmega3290PA__) \
 || defined(__AVR_ATmega32C1__) \
 || defined(__AVR_ATmega32HVB__) \
 || defined(__AVR_ATmega32HVBREVB__) \
@@ -239,7 +283,11 @@ __asm__ __volatile__ ( \
 || defined(__AVR_ATmega406__) \
 || defined(__AVR_ATmega48__) \
 || defined(__AVR_ATmega48A__) \
+|| defined(__AVR_ATmega48PA__) \
 || defined(__AVR_ATmega48P__) \
+|| defined(__AVR_ATmega64A__) \
+|| defined(__AVR_ATmega64RFR2__) \
+|| defined(__AVR_ATmega644RFR2__) \
 || defined(__AVR_ATmega640__) \
 || defined(__AVR_ATmega644__) \
 || defined(__AVR_ATmega644A__) \
@@ -259,7 +307,9 @@ __asm__ __volatile__ ( \
 || defined(__AVR_ATmega649P__) \
 || defined(__AVR_ATmega64C1__) \
 || defined(__AVR_ATmega64HVE__) \
+|| defined(__AVR_ATmega64HVE2__) \
 || defined(__AVR_ATmega64M1__) \
+|| defined(__AVR_ATmega8A__) \
 || defined(__AVR_ATmega88__) \
 || defined(__AVR_ATmega88A__) \
 || defined(__AVR_ATmega88P__) \
@@ -271,7 +321,21 @@ __asm__ __volatile__ ( \
 || defined(__AVR_ATtiny87__) \
 || defined(__AVR_ATtiny167__) \
 || defined(__AVR_AT90SCR100__) \
-|| defined(__AVR_ATA6289__)
+|| defined(__AVR_ATA6285__) \
+|| defined(__AVR_ATA6286__) \
+|| defined(__AVR_ATA6289__) \
+|| defined(__AVR_ATA5272__) \
+|| defined(__AVR_ATA5505__) \
+|| defined(__AVR_ATA5790__) \
+|| defined(__AVR_ATA5790N__) \
+|| defined(__AVR_ATA5795__) \
+|| defined(__AVR_ATA5831__) \
+|| defined(__AVR_ATA6612C__) \
+|| defined(__AVR_ATA6613C__) \
+|| defined(__AVR_ATA6614Q__) \
+|| defined(__AVR_ATA6616C__) \
+|| defined(__AVR_ATA6617C__) \
+|| defined(__AVR_ATA664251__) 
 
 /* Use STS instruction. */
  
@@ -305,6 +369,181 @@ __asm__ __volatile__ (  \
 )
 
 
+#elif defined(__AVR_ATtiny441__) \
+|| defined(__AVR_ATtiny841__)
+
+/* Use STS instruction. */
+
+#define wdt_enable(value) \
+__asm__ __volatile__ ( \
+    "in __tmp_reg__,__SREG__" "\n\t"  \
+    "cli" "\n\t"  \
+    "wdr" "\n\t"  \
+    "sts %[CCPADDRESS],%[SIGNATURE]" "\n\t"  \
+    "out %[WDTREG],%[WDVALUE]" "\n\t"  \
+    "out __SREG__,__tmp_reg__" "\n\t"  \
+    : /* no outputs */  \
+    : [CCPADDRESS] "M" (_SFR_MEM_ADDR(CCP)),  \
+      [SIGNATURE] "r" ((uint8_t)0xD8), \
+      [WDTREG] "I" (_SFR_IO_ADDR(_WD_CONTROL_REG)), \
+      [WDVALUE] "r" ((uint8_t)((value & 0x08 ? _WD_PS3_MASK : 0x00) \
+      | _BV(WDE) | (value & 0x07) )) \
+    : "r0" \
+)
+
+#define wdt_disable() \
+do { \
+uint8_t temp_wd; \
+__asm__ __volatile__ ( \
+    "in __tmp_reg__,__SREG__" "\n\t"  \
+    "cli" "\n\t"  \
+    "wdr" "\n\t"  \
+    "sts %[CCPADDRESS],%[SIGNATURE]" "\n\t"  \
+    "in  %[TEMP_WD],%[WDTREG]" "\n\t" \
+    "cbr %[TEMP_WD],%[WDVALUE]" "\n\t" \
+    "out %[WDTREG],%[TEMP_WD]" "\n\t" \
+    "out __SREG__,__tmp_reg__" "\n\t" \
+    : /*no output */ \
+    : [CCPADDRESS] "M" (_SFR_MEM_ADDR(CCP)), \
+      [SIGNATURE] "r" ((uint8_t)0xD8), \
+      [WDTREG] "I" (_SFR_IO_ADDR(_WD_CONTROL_REG)), \
+      [TEMP_WD] "d" (temp_wd), \
+      [WDVALUE] "I" (1 << WDE) \
+    : "r0" \
+); \
+}while(0)
+
+#elif defined(__AVR_ATtiny1634__) \
+|| defined(__AVR_ATtiny828__)
+
+#define wdt_enable(value) \
+__asm__ __volatile__ ( \
+    "in __tmp_reg__,__SREG__" "\n\t"  \
+    "cli" "\n\t"  \
+    "wdr" "\n\t"  \
+    "sts %[CCPADDRESS],%[SIGNATURE]" "\n\t"  \
+    "sts %[WDTREG],%[WDVALUE]" "\n\t"  \
+    "out __SREG__,__tmp_reg__" "\n\t"  \
+    : /* no outputs */  \
+    : [CCPADDRESS] "M" (_SFR_MEM_ADDR(CCP)),  \
+      [SIGNATURE] "r" ((uint8_t)0xD8), \
+      [WDTREG] "M" (_SFR_MEM_ADDR(_WD_CONTROL_REG)), \
+      [WDVALUE] "r" ((uint8_t)((value & 0x08 ? _WD_PS3_MASK : 0x00) \
+      | _BV(WDE) | value)) \
+    : "r0" \
+)
+
+#define wdt_disable() \
+do { \
+uint8_t temp_wd; \
+__asm__ __volatile__ ( \
+    "in __tmp_reg__,__SREG__" "\n\t"  \
+    "cli" "\n\t"  \
+    "wdr" "\n\t"  \
+    "out %[CCPADDRESS],%[SIGNATURE]" "\n\t"  \
+    "in  %[TEMP_WD],%[WDTREG]" "\n\t" \
+    "cbr %[TEMP_WD],%[WDVALUE]" "\n\t" \
+    "out %[WDTREG],%[TEMP_WD]" "\n\t" \
+    "out __SREG__,__tmp_reg__" "\n\t" \
+    : /*no output */ \
+    : [CCPADDRESS] "I" (_SFR_IO_ADDR(CCP)), \
+      [SIGNATURE] "r" ((uint8_t)0xD8), \
+      [WDTREG] "I" (_SFR_IO_ADDR(_WD_CONTROL_REG)), \
+      [TEMP_WD] "d" (temp_wd), \
+      [WDVALUE] "I" (1 << WDE) \
+    : "r0" \
+); \
+}while(0)
+
+#elif defined(__AVR_ATtiny4__) \
+|| defined(__AVR_ATtiny5__) \
+|| defined(__AVR_ATtiny9__) \
+|| defined(__AVR_ATtiny10__) \
+|| defined(__AVR_ATtiny20__) \
+|| defined(__AVR_ATtiny40__) 
+
+#define wdt_enable(value) \
+__asm__ __volatile__ ( \
+    "in __tmp_reg__,__SREG__" "\n\t"  \
+    "cli" "\n\t"  \
+    "wdr" "\n\t"  \
+    "out %[CCPADDRESS],%[SIGNATURE]" "\n\t"  \
+    "out %[WDTREG],%[WDVALUE]" "\n\t"  \
+    "out __SREG__,__tmp_reg__" "\n\t"  \
+    : /* no outputs */  \
+    : [CCPADDRESS] "I" (_SFR_IO_ADDR(CCP)),  \
+      [SIGNATURE] "r" ((uint8_t)0xD8), \
+      [WDTREG] "I" (_SFR_IO_ADDR(_WD_CONTROL_REG)), \
+      [WDVALUE] "r" ((uint8_t)((value & 0x08 ? _WD_PS3_MASK : 0x00) \
+      | _BV(WDE) | value)) \
+    : "r16" \
+)
+
+#define wdt_disable() \
+do { \
+uint8_t temp_wd; \
+__asm__ __volatile__ ( \
+    "in __tmp_reg__,__SREG__" "\n\t"  \
+    "cli" "\n\t"  \
+    "wdr" "\n\t"  \
+    "out %[CCPADDRESS],%[SIGNATURE]" "\n\t"  \
+    "in  %[TEMP_WD],%[WDTREG]" "\n\t" \
+    "cbr %[TEMP_WD],%[WDVALUE]" "\n\t" \
+    "out %[WDTREG],%[TEMP_WD]" "\n\t" \
+    "out __SREG__,__tmp_reg__" "\n\t" \
+    : /*no output */ \
+    : [CCPADDRESS] "I" (_SFR_IO_ADDR(CCP)), \
+      [SIGNATURE] "r" ((uint8_t)0xD8), \
+      [WDTREG] "I" (_SFR_IO_ADDR(_WD_CONTROL_REG)), \
+      [TEMP_WD] "d" (temp_wd), \
+      [WDVALUE] "I" (1 << WDE) \
+    : "r16" \
+); \
+}while(0)
+
+#elif defined(__AVR_ATxmega32X1__) \
+||defined(__AVR_ATxmega64A1__)
+
+#define wdt_enable(value) \
+__asm__ __volatile__ ( \
+    "in __tmp_reg__,__SREG__" "\n\t"  \
+    "cli" "\n\t"  \
+    "wdr" "\n\t"  \
+    "sts %[CCPADDRESS],%[SIGNATURE]" "\n\t"  \
+    "sts %[WDTREG],%[WDVALUE]" "\n\t"  \
+    "out __SREG__,__tmp_reg__" "\n\t"  \
+    : /* no outputs */  \
+    : [CCPADDRESS] "M" (_SFR_MEM_ADDR(CCP)),  \
+      [SIGNATURE] "r" ((uint8_t)0xD8), \
+      [WDTREG] "M" (_SFR_MEM_ADDR(_WD_CONTROL_REG)), \
+      [WDVALUE] "r" ((uint8_t)((_BV(WDT_ENABLE_bp)) | (_BV(WDT_CEN_bp)) | \
+                                   (value << WDT_PER_gp))) \
+    : "r0" \
+)
+
+#define wdt_disable() \
+__asm__ __volatile__ ( \
+    "in __tmp_reg__,__SREG__" "\n\t"  \
+    "cli" "\n\t"  \
+    "wdr" "\n\t"  \
+    "sts %[CCPADDRESS],%[SIGNATURE]" "\n\t"  \
+    "sts %[WDTREG],%[WDVALUE]" "\n\t"  \
+    "out __SREG__,__tmp_reg__" "\n\t"  \
+    : /* no outputs */  \
+    : [CCPADDRESS] "M" (_SFR_MEM_ADDR(CCP)),  \
+      [SIGNATURE] "r" ((uint8_t)0xD8), \
+      [WDTREG] "M" (_SFR_MEM_ADDR(_WD_CONTROL_REG)), \
+      [WDVALUE] "r" ((uint8_t)((_BV(WDT_CEN_bp)))) \
+    : "r0" \
+) 
+
+/**
+Undefining explicitly so that it produces an error.
+ */
+#elif defined(__AVR_AT90C8534__) \
+|| defined(__AVR_M3000__) 
+    #undef wdt_enable
+    #undef wdt_disale    
     
 #else  
 
@@ -415,8 +654,10 @@ __asm__ __volatile__ (  \
     ATmega640, ATmega1280, ATmega1281, ATmega2560, ATmega2561,
     ATmega8HVA, ATmega16HVA, ATmega32HVB,
     ATmega406, ATmega1284P,
+    ATmega256RFR2, ATmega128RFR2, ATmega64RFR2,
+    ATmega2564RFR2, ATmega1284RFR2, ATmega644RFR2,
     AT90PWM1, AT90PWM2, AT90PWM2B, AT90PWM3, AT90PWM3B, AT90PWM216, AT90PWM316,
-    AT90PWM81,
+    AT90PWM81, AT90PWM161,
     AT90USB82, AT90USB162,
     AT90USB646, AT90USB647, AT90USB1286, AT90USB1287,
     ATtiny48, ATtiny88.
@@ -430,17 +671,22 @@ __asm__ __volatile__ (  \
     ATtiny24, ATtiny44, ATtiny84, ATtiny84A,
     ATtiny25, ATtiny45, ATtiny85, 
     ATtiny261, ATtiny461, ATtiny861, 
-    ATmega48, ATmega88, ATmega168,
+    ATmega48, ATmega48A, ATmega48PA, ATmega88, ATmega168,
     ATmega48P, ATmega88P, ATmega168P, ATmega328P,
     ATmega164P, ATmega324P, ATmega644P, ATmega644,
     ATmega640, ATmega1280, ATmega1281, ATmega2560, ATmega2561,
     ATmega8HVA, ATmega16HVA, ATmega32HVB,
     ATmega406, ATmega1284P,
+    ATmega256RFR2, ATmega128RFR2, ATmega64RFR2,
+    ATmega2564RFR2, ATmega1284RFR2, ATmega644RFR2,
     AT90PWM1, AT90PWM2, AT90PWM2B, AT90PWM3, AT90PWM3B, AT90PWM216, AT90PWM316,
-    AT90PWM81,
+    AT90PWM81, AT90PWM161,
     AT90USB82, AT90USB162,
     AT90USB646, AT90USB647, AT90USB1286, AT90USB1287,
-    ATtiny48, ATtiny88.
+    ATtiny48, ATtiny88,
+    ATxmega16a4u, ATxmega32a4u,
+    ATxmega16c4, ATxmega32c4,
+    ATxmega128c3, ATxmega192c3, ATxmega256c3.
     */
 #define WDTO_8S     9
 
diff --git a/include/avr/xmega.h b/include/avr/xmega.h
new file mode 100644
index 0000000..e05da59
--- /dev/null
+++ b/include/avr/xmega.h
@@ -0,0 +1,71 @@
+/* Copyright (c) 2012 Joerg Wunsch
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+  AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+  IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+  ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+  LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+  CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+  SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+  INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+  CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+  ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+  POSSIBILITY OF SUCH DAMAGE. */
+
+/* $Id$ */
+
+/*
+ * This file is included by <avr/io.h> whenever compiling for an Xmega
+ * device.  It abstracts certain features common to the Xmega device
+ * families.
+ */
+
+#ifndef _AVR_XMEGA_H
+#define _AVR_XMEGA_H
+
+#ifdef __DOXYGEN__
+/**
+ \def _PROTECTED_WRITE
+ \ingroup avr_io
+
+ Write value \c value to IO register \c reg that is protected through
+ the Xmega configuration change protection (CCP) mechanism.  This
+ implements the timed sequence that is required for CCP.
+
+ Example to modify the CPU clock:
+ \code
+ #include <avr/io.h>
+
+ _PROTECTED_WRITE(CLK_PSCTRL, CLK_PSADIV0_bm);
+ _PROTECTED_WRITE(CLK_CTRL, CLK_SCLKSEL0_bm);
+ \endcode
+ */
+#define _PROTECTED_WRITE(reg, value)
+#else  /* !__DOXYGEN__ */
+#define PROTECTED_WRITE(reg, value)				\
+  __asm__ __volatile__("out %[ccp], %[ccp_ioreg]" "\n\t"	\
+		       "sts %[ioreg], %[val]"			\
+		       :					\
+		       : [ccp] "I" (_SFR_IO_ADDR(CCP)),		\
+			 [ccp_ioreg] "d" (CCP_IOREG_gc),	\
+			 [ioreg] "M" (_SFR_MEM_ADDR(reg)),	\
+			 [val] "r" (value))
+#endif /* DOXYGEN */
+
+#endif /* _AVR_XMEGA_H */
diff --git a/include/compat/Makefile.am b/include/compat/Makefile.am
index 80fa7a5..a8c1385 100644
--- a/include/compat/Makefile.am
+++ b/include/compat/Makefile.am
@@ -26,7 +26,7 @@
 # ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 # POSSIBILITY OF SUCH DAMAGE.
 #
-# $Id: Makefile.am 930 2005-11-04 23:04:32Z joerg_wunsch $
+# $Id$
 #
 
 avrdir = $(prefix)/avr/include/compat
diff --git a/include/compat/deprecated.h b/include/compat/deprecated.h
index 6f66f59..a43fe06 100644
--- a/include/compat/deprecated.h
+++ b/include/compat/deprecated.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: deprecated.h 1724 2008-07-30 21:31:33Z arcanum $ */
+/* $Id$ */
 
 #ifndef _COMPAT_DEPRECATED_H_
 #define _COMPAT_DEPRECATED_H_
diff --git a/include/compat/ina90.h b/include/compat/ina90.h
index af11776..076593a 100644
--- a/include/compat/ina90.h
+++ b/include/compat/ina90.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: ina90.h 932 2005-11-05 21:22:33Z joerg_wunsch $ */
+/* $Id$ */
 /* copied from: Id: avr/ina90.h,v 1.8 2004/11/09 19:16:09 arcanum Exp */
 
 /*
diff --git a/include/compat/twi.h b/include/compat/twi.h
index 21ad6b4..082852f 100644
--- a/include/compat/twi.h
+++ b/include/compat/twi.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: twi.h 933 2005-11-05 22:23:16Z joerg_wunsch $ */
+/* $Id$ */
 
 #ifndef _COMPAT_TWI_H_
 #define _COMPAT_TWI_H_
diff --git a/include/ctype.h b/include/ctype.h
index 10f0549..82bce45 100644
--- a/include/ctype.h
+++ b/include/ctype.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: ctype.h 1504 2007-12-16 07:34:00Z dmix $ */
+/* $Id$ */
 
 /*
    ctype.h - character conversion macros and ctype macros
diff --git a/include/errno.h b/include/errno.h
index d8758e1..fd2b17f 100644
--- a/include/errno.h
+++ b/include/errno.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: errno.h 1196 2007-01-23 15:34:58Z joerg_wunsch $ */
+/* $Id$ */
 
 #ifndef __ERRNO_H_
 #define __ERRNO_H_ 1
diff --git a/include/inttypes.h b/include/inttypes.h
index 1daf8d4..34c6465 100644
--- a/include/inttypes.h
+++ b/include/inttypes.h
@@ -29,7 +29,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: inttypes.h 1766 2008-10-17 21:33:57Z arcanum $ */
+/* $Id$ */
 
 #ifndef __INTTYPES_H_
 #define __INTTYPES_H_
diff --git a/include/math.h b/include/math.h
index 078b335..9f6bbf2 100644
--- a/include/math.h
+++ b/include/math.h
@@ -32,7 +32,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: math.h 2264 2011-12-25 01:16:55Z dmix $ */
+/* $Id$ */
 
 /*
    math.h - mathematical functions
diff --git a/include/setjmp.h b/include/setjmp.h
index c894b6b..947355d 100644
--- a/include/setjmp.h
+++ b/include/setjmp.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: setjmp.h 1656 2008-03-24 11:29:55Z dmix $ */
+/* $Id$ */
 
 #ifndef __SETJMP_H_
 #define __SETJMP_H_ 1
@@ -40,17 +40,20 @@ extern "C" {
 /*
    jmp_buf:
 	offset	size	description
-	 0	16	call-saved registers (r2-r17)
-	16	 2	frame pointer (r29:r28)
-	18	 2	stack pointer (SPH:SPL)
-	20	 1	status register (SREG)
-	21	 2/3	return address (PC) (2 bytes used for <=128Kw flash)
-	23/24 = total size
+	 0	16/4	call-saved registers (r2-r17)
+                        (AVR tiny10 family has only 4 call saved registers (r18-r21))
+	16/4	 2	frame pointer (r29:r28)
+	18/6	 2	stack pointer (SPH:SPL)
+	20/8	 1	status register (SREG)
+	21/9	 2/3	return address (PC) (2 bytes used for <=128Kw flash)
+	23/24/11 = total size (AVR Tiny10 family always has 2 bytes PC)
  */
 
 #if !defined(__DOXYGEN__)
 
-#if	defined(__AVR_3_BYTE_PC__) && __AVR_3_BYTE_PC__
+#if defined(__AVR_TINY__)
+# define _JBLEN 11
+#elif	defined(__AVR_3_BYTE_PC__) && __AVR_3_BYTE_PC__
 # define _JBLEN  24
 #else
 # define _JBLEN  23
diff --git a/include/stdfix-avrlibc.h b/include/stdfix-avrlibc.h
new file mode 100644
index 0000000..d133999
--- /dev/null
+++ b/include/stdfix-avrlibc.h
@@ -0,0 +1,49 @@
+/* Copyright (c) 2013 Joerg Wunsch
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+  AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+  IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+  ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+  LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+  CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+  SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+  INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+  CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+  ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+  POSSIBILITY OF SUCH DAMAGE. */
+
+/* $Id$ */
+
+#ifndef _STDFIX_AVRLIBC_H
+#define _STDFIX_AVRLIBC_H
+
+/*
+ * avr-libc addendum file for Embedded C Fixed-Point support
+ *
+ * See: ISO/IEC TR 18037
+ * http://www.open-std.org/jtc1/sc22/wg14/www/docs/n1169.pdf
+ */
+
+#ifndef _AVRGCC_STDFIX_H  /* Defined in stdfix.h from avr-gcc */
+#warning please include <stdfix.h> directly rather than <stdfix-avrlibc.h>
+#endif /* _AVRGCC_STDFIX_H */
+
+/* Room for avr-libc specific extensions */
+
+#endif /* _STDFIX_AVRLIBC_H */
diff --git a/include/stdint.h b/include/stdint.h
index 410adaf..ea41cdb 100644
--- a/include/stdint.h
+++ b/include/stdint.h
@@ -30,7 +30,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: stdint.h 2261 2011-12-09 07:05:46Z joerg_wunsch $ */
+/* $Id$ */
 
 /*
  * ISO/IEC 9899:1999  7.18 Integer types <stdint.h>
diff --git a/include/stdio.h b/include/stdio.h
index 1539c39..c3a0a73 100644
--- a/include/stdio.h
+++ b/include/stdio.h
@@ -33,7 +33,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE.
 
-  $Id: stdio.h 2135 2010-06-08 11:28:03Z joerg_wunsch $
+  $Id$
 */
 
 #ifndef _STDIO_H_
diff --git a/include/stdlib.h b/include/stdlib.h
index c3b20ac..ecb7e6e 100644
--- a/include/stdlib.h
+++ b/include/stdlib.h
@@ -33,7 +33,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE.
 
-  $Id: stdlib.h 1623 2008-03-16 13:44:45Z dmix $
+  $Id$
 */
 
 #ifndef _STDLIB_H_
@@ -82,19 +82,27 @@ typedef int (*__compar_fn_t)(const void *, const void *);
 #ifndef __DOXYGEN__
 
 #ifndef __ATTR_CONST__
-#define __ATTR_CONST__ __attribute__((__const__))
+# define __ATTR_CONST__ __attribute__((__const__))
 #endif
 
 #ifndef __ATTR_MALLOC__
-#define __ATTR_MALLOC__ __attribute__((__malloc__))
+# define __ATTR_MALLOC__ __attribute__((__malloc__))
 #endif
 
 #ifndef __ATTR_NORETURN__
-#define __ATTR_NORETURN__ __attribute__((__noreturn__))
+# define __ATTR_NORETURN__ __attribute__((__noreturn__))
 #endif
 
 #ifndef __ATTR_PURE__
-#define __ATTR_PURE__ __attribute__((__pure__))
+# define __ATTR_PURE__ __attribute__((__pure__))
+#endif
+
+#ifndef	__ATTR_GNU_INLINE__
+# ifdef  __GNUC_STDC_INLINE__
+#  define __ATTR_GNU_INLINE__   __attribute__((__gnu_inline__))
+# else
+#  define __ATTR_GNU_INLINE__
+# endif
 #endif
 
 #endif
@@ -403,7 +411,24 @@ extern int rand_r(unsigned long *__ctx);
 
    The itoa() function returns the pointer passed as \c s.
 */
-extern char *itoa(int __val, char *__s, int __radix);
+#ifdef  __DOXYGEN__
+extern char *itoa(int val, char *s, int radix);
+#else
+extern __inline__ __ATTR_GNU_INLINE__
+char *itoa (int __val, char *__s, int __radix)
+{
+    if (!__builtin_constant_p (__radix)) {
+	extern char *__itoa (int, char *, int);
+	return __itoa (__val, __s, __radix);
+    } else if (__radix < 2 || __radix > 36) {
+	*__s = 0;
+	return __s;
+    } else {
+	extern char *__itoa_ncheck (int, char *, unsigned char);
+	return __itoa_ncheck (__val, __s, __radix);
+    }
+}
+#endif
 
 /**
  \ingroup avr_stdlib
@@ -431,7 +456,24 @@ extern char *itoa(int __val, char *__s, int __radix);
 
    The ltoa() function returns the pointer passed as \c s.
 */
-extern char *ltoa(long int __val, char *__s, int __radix);
+#ifdef  __DOXYGEN__
+extern char *ltoa(long val, char *s, int radix);
+#else
+extern __inline__ __ATTR_GNU_INLINE__
+char *ltoa (long __val, char *__s, int __radix)
+{
+    if (!__builtin_constant_p (__radix)) {
+	extern char *__ltoa (long, char *, int);
+	return __ltoa (__val, __s, __radix);
+    } else if (__radix < 2 || __radix > 36) {
+	*__s = 0;
+	return __s;
+    } else {
+	extern char *__ltoa_ncheck (long, char *, unsigned char);
+	return __ltoa_ncheck (__val, __s, __radix);
+    }
+}
+#endif
 
 /**
  \ingroup avr_stdlib
@@ -457,16 +499,32 @@ extern char *ltoa(long int __val, char *__s, int __radix);
 
    The utoa() function returns the pointer passed as \c s.
 */
-extern char *utoa(unsigned int __val, char *__s, int __radix);
+#ifdef  __DOXYGEN__
+extern char *utoa(unsigned int val, char *s, int radix);
+#else
+extern __inline__ __ATTR_GNU_INLINE__
+char *utoa (unsigned int __val, char *__s, int __radix)
+{
+    if (!__builtin_constant_p (__radix)) {
+	extern char *__utoa (unsigned int, char *, int);
+	return __utoa (__val, __s, __radix);
+    } else if (__radix < 2 || __radix > 36) {
+	*__s = 0;
+	return __s;
+    } else {
+	extern char *__utoa_ncheck (unsigned int, char *, unsigned char);
+	return __utoa_ncheck (__val, __s, __radix);
+    }
+}
+#endif
 
 /**
  \ingroup avr_stdlib
    \brief Convert an unsigned long integer to a string.
 
    The function ultoa() converts the unsigned long integer value from
-   \c val into an
-   ASCII representation that will be stored under \c s.  The caller
-   is responsible for providing sufficient storage in \c s.
+   \c val into an ASCII representation that will be stored under \c s.
+   The caller is responsible for providing sufficient storage in \c s.
 
    \note The minimal size of the buffer \c s depends on the choice of
    radix. For example, if the radix is 2 (binary), you need to supply a buffer
@@ -483,7 +541,24 @@ extern char *utoa(unsigned int __val, char *__s, int __radix);
 
    The ultoa() function returns the pointer passed as \c s.
 */
-extern char *ultoa(unsigned long int __val, char *__s, int __radix);
+#ifdef  __DOXYGEN__
+extern char *ultoa(unsigned long val, char *s, int radix);
+#else
+extern __inline__ __ATTR_GNU_INLINE__
+char *ultoa (unsigned long __val, char *__s, int __radix)
+{
+    if (!__builtin_constant_p (__radix)) {
+	extern char *__ultoa (unsigned long, char *, int);
+	return __ultoa (__val, __s, __radix);
+    } else if (__radix < 2 || __radix > 36) {
+	*__s = 0;
+	return __s;
+    } else {
+	extern char *__ultoa_ncheck (unsigned long, char *, unsigned char);
+	return __ultoa_ncheck (__val, __s, __radix);
+    }
+}
+#endif
 
 /**  \ingroup avr_stdlib
 Highest number that can be generated by random(). */
@@ -580,6 +655,18 @@ extern char *dtostre(double __val, char *__s, unsigned char __prec,
 extern char *dtostrf(double __val, signed char __width,
                      unsigned char __prec, char *__s);
 
+/**
+   \ingroup avr_stdlib
+    Successful termination for exit(); evaluates to 0.
+*/
+#define EXIT_SUCCESS 0
+
+/**
+   \ingroup avr_stdlib
+    Unsuccessful termination for exit(); evaluates to a non-zero value.
+*/
+#define EXIT_FAILURE 1
+
 /*@}*/
 
 #if 0  /* not yet implemented */
diff --git a/include/string.h b/include/string.h
index 45b2bea..bc64ef0 100644
--- a/include/string.h
+++ b/include/string.h
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: string.h 1831 2008-12-21 02:27:49Z dmix $ */
+/* $Id$ */
 
 /*
    string.h
diff --git a/include/util/Makefile.am b/include/util/Makefile.am
index 95e0f37..83de707 100644
--- a/include/util/Makefile.am
+++ b/include/util/Makefile.am
@@ -26,7 +26,7 @@
 # ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 # POSSIBILITY OF SUCH DAMAGE.
 #
-# $Id: Makefile.am 2103 2010-03-17 05:16:10Z joerg_wunsch $
+# $Id$
 #
 
 avrdir = $(prefix)/avr/include/util
diff --git a/include/util/atomic.h b/include/util/atomic.h
index 81acdf5..fd76e86 100644
--- a/include/util/atomic.h
+++ b/include/util/atomic.h
@@ -29,7 +29,7 @@
   POSSIBILITY OF SUCH DAMAGE.
 */
 
-/* $Id: atomic.h 2158 2010-06-10 15:48:28Z joerg_wunsch $ */
+/* $Id$ */
 
 #ifndef _UTIL_ATOMIC_H_
 #define _UTIL_ATOMIC_H_ 1
diff --git a/include/util/crc16.h b/include/util/crc16.h
index 9183dcb..630b6fc 100644
--- a/include/util/crc16.h
+++ b/include/util/crc16.h
@@ -1,5 +1,7 @@
 /* Copyright (c) 2002, 2003, 2004  Marek Michalkiewicz
    Copyright (c) 2005, 2007 Joerg Wunsch
+   Copyright (c) 2013 Dave Hylands
+   Copyright (c) 2013 Frederic Nadeau
    All rights reserved.
 
    Redistribution and use in source and binary forms, with or without
@@ -29,7 +31,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: crc16.h 2136 2010-06-08 12:03:38Z joerg_wunsch $ */
+/* $Id$ */
 
 #ifndef _UTIL_CRC16_H_
 #define _UTIL_CRC16_H_
@@ -332,4 +334,70 @@ _crc_ibutton_update(uint8_t __crc, uint8_t __data)
 	return __crc;
 }
 
+/** \ingroup util_crc
+    Optimized CRC-8-CCITT calculation.
+
+    Polynomial: x^8 + x^2 + x + 1 (0xE0)<br>
+    
+    For use with simple CRC-8<br>
+    Initial value: 0x0
+    
+    For use with CRC-8-ROHC<br>
+    Initial value: 0xff<br>
+    Reference: http://tools.ietf.org/html/rfc3095#section-5.9.1
+    
+    For use with CRC-8-ATM/ITU<br>
+    Initial value: 0xff<br>
+    Final XOR value: 0x55<br>
+    Reference: http://www.itu.int/rec/T-REC-I.432.1-199902-I/en
+    
+    The C equivalent has been originally written by Dave Hylands.
+    Assembly code is based on _crc_ibutton_update optimization.
+
+    The following is the equivalent functionality written in C.
+
+    \code
+    uint8_t
+    _crc8_ccitt_update (uint8_t inCrc, uint8_t inData)
+    {
+        uint8_t   i;
+        uint8_t   data;
+
+        data = inCrc ^ inData;
+
+        for ( i = 0; i < 8; i++ )
+        {
+            if (( data & 0x80 ) != 0 )
+            {
+                data <<= 1;
+                data ^= 0x07;
+            }
+            else
+            {
+                data <<= 1;
+            }
+        }
+        return data;
+    }
+    \endcode
+*/
+
+static __inline__ uint8_t
+_crc8_ccitt_update(uint8_t __crc, uint8_t __data)
+{
+    uint8_t __i, __pattern;
+    __asm__ __volatile__ (
+        "    eor    %0, %4" "\n\t"
+        "    ldi    %1, 8" "\n\t"
+        "    ldi    %2, 0x07" "\n\t"
+        "1:  lsl    %0" "\n\t"
+        "    brcc   2f" "\n\t"
+        "    eor    %0, %2" "\n\t"
+        "2:  dec    %1" "\n\t"
+        "    brne   1b" "\n\t"
+        : "=r" (__crc), "=d" (__i), "=d" (__pattern)
+        : "0" (__crc), "r" (__data));
+    return __crc;
+}
+
 #endif /* _UTIL_CRC16_H_ */
diff --git a/include/util/delay.h.in b/include/util/delay.h.in
index df55a2a..4a9d6c8 100644
--- a/include/util/delay.h.in
+++ b/include/util/delay.h.in
@@ -30,7 +30,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: delay.h.in 2251 2011-09-14 08:20:33Z joerg_wunsch $ */
+/* $Id$ */
 
 #ifndef _UTIL_DELAY_H_
 #define _UTIL_DELAY_H_ 1
@@ -141,7 +141,6 @@ static inline void _delay_ms(double __ms) __attribute__((always_inline));
 void
 _delay_ms(double __ms)
 {
-	uint16_t __ticks;
 	double __tmp ; 
 #if __HAS_DELAY_CYCLES && defined(__OPTIMIZE__) && \
   !defined(__DELAY_BACKWARD_COMPATIBLE__) &&	   \
@@ -164,6 +163,7 @@ _delay_ms(double __ms)
 	__builtin_avr_delay_cycles(__ticks_dc);
 
 #else
+	uint16_t __ticks;
 	__tmp = ((F_CPU) / 4e3) * __ms;
 	if (__tmp < 1.0)
 		__ticks = 1;
@@ -223,7 +223,6 @@ _delay_ms(double __ms)
 void
 _delay_us(double __us)
 {
-	uint8_t __ticks;
 	double __tmp ; 
 #if __HAS_DELAY_CYCLES && defined(__OPTIMIZE__) && \
   !defined(__DELAY_BACKWARD_COMPATIBLE__) &&	   \
@@ -246,12 +245,20 @@ _delay_us(double __us)
 	__builtin_avr_delay_cycles(__ticks_dc);
 
 #else
+	uint8_t __ticks;
+	double __tmp2 ; 
 	__tmp = ((F_CPU) / 3e6) * __us;
+	__tmp2 = ((F_CPU) / 4e6) * __us;
 	if (__tmp < 1.0)
 		__ticks = 1;
-	else if (__tmp > 255)
+	else if (__tmp2 > 65535)
 	{
 		_delay_ms(__us / 1000.0);
+	}
+	else if (__tmp > 255)
+	{
+		uint16_t __ticks=(uint16_t)__tmp2;
+		_delay_loop_2(__ticks);
 		return;
 	}
 	else
diff --git a/include/util/delay_basic.h b/include/util/delay_basic.h
index 4e7fd1f..4191838 100644
--- a/include/util/delay_basic.h
+++ b/include/util/delay_basic.h
@@ -29,7 +29,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: delay_basic.h 2143 2010-06-08 21:19:51Z joerg_wunsch $ */
+/* $Id$ */
 
 #ifndef _UTIL_DELAY_BASIC_H_
 #define _UTIL_DELAY_BASIC_H_ 1
diff --git a/include/util/parity.h b/include/util/parity.h
index ff91cb3..b28813e 100644
--- a/include/util/parity.h
+++ b/include/util/parity.h
@@ -29,7 +29,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: parity.h 1196 2007-01-23 15:34:58Z joerg_wunsch $ */
+/* $Id$ */
 
 #ifndef _UTIL_PARITY_H_
 #define _UTIL_PARITY_H_
diff --git a/include/util/setbaud.h b/include/util/setbaud.h
index dbb7f24..38cfe10 100644
--- a/include/util/setbaud.h
+++ b/include/util/setbaud.h
@@ -29,7 +29,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: setbaud.h 2134 2010-06-08 11:19:48Z joerg_wunsch $ */
+/* $Id$ */
 
 /**
    \file
@@ -230,6 +230,11 @@
 #endif /* USE_U2X */
 
 #ifdef UBRR_VALUE
+   /* Check for overflow */
+#  if UBRR_VALUE >= (1 << 12)
+#    warning "UBRR value overflow"
+#  endif
+
 #  define UBRRL_VALUE (UBRR_VALUE & 0xff)
 #  define UBRRH_VALUE (UBRR_VALUE >> 8)
 #endif
diff --git a/include/util/twi.h b/include/util/twi.h
index dd17789..14bc830 100644
--- a/include/util/twi.h
+++ b/include/util/twi.h
@@ -29,7 +29,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: twi.h 1196 2007-01-23 15:34:58Z joerg_wunsch $ */
+/* $Id$ */
 /* copied from: Id: avr/twi.h,v 1.4 2004/11/01 21:19:54 arcanum Exp */
 
 #ifndef _UTIL_TWI_H_
diff --git a/libc/Makefile.am b/libc/Makefile.am
index 89dc28e..bf68df9 100644
--- a/libc/Makefile.am
+++ b/libc/Makefile.am
@@ -26,7 +26,7 @@
 # ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 # POSSIBILITY OF SUCH DAMAGE.
 #
-# $Id: Makefile.am 802 2005-08-11 20:55:26Z joerg_wunsch $
+# $Id$
 #
 
 SUBDIRS = stdlib pmstring string misc stdio
diff --git a/libc/misc/Files.am b/libc/misc/Files.am
index 98f58ce..156a96e 100644
--- a/libc/misc/Files.am
+++ b/libc/misc/Files.am
@@ -26,7 +26,7 @@
 # ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 # POSSIBILITY OF SUCH DAMAGE.
 #
-# $Id: Files.am 1976 2009-06-05 23:04:34Z dmix $
+# $Id$
 #
 
 misc_a_c_sources =
@@ -47,11 +47,15 @@ eeprom_asm_sources = \
 
 misc_a_asm_sources = \
 	itoa.S \
+	itoa_ncheck.S \
 	ltoa.S \
+	ltoa_ncheck.S \
 	mulsi10.S \
 	mul10.S \
 	ultoa.S \
-	utoa.S
+	ultoa_ncheck.S \
+	utoa.S \
+	utoa_ncheck.S
 
 misc_a_extra_dist = \
 	eedef.h \
diff --git a/libc/misc/Makefile.am b/libc/misc/Makefile.am
index aa01651..6e9a713 100644
--- a/libc/misc/Makefile.am
+++ b/libc/misc/Makefile.am
@@ -26,7 +26,7 @@
 # ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 # POSSIBILITY OF SUCH DAMAGE.
 #
-# $Id: Makefile.am 1981 2009-06-05 23:13:29Z dmix $
+# $Id$
 #
 
 include $(top_srcdir)/libc/misc/Files.am
diff --git a/libc/misc/Rules.am b/libc/misc/Rules.am
index 4b00e04..331dde5 100644
--- a/libc/misc/Rules.am
+++ b/libc/misc/Rules.am
@@ -27,7 +27,7 @@
 # ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 # POSSIBILITY OF SUCH DAMAGE.
 
-# $Id: Rules.am 1977 2009-06-05 23:05:35Z dmix $
+# $Id$
 
 include $(top_srcdir)/libc/misc/Files.am
 
diff --git a/libc/misc/eedef.h b/libc/misc/eedef.h
index cf0279a..57a2bbe 100644
--- a/libc/misc/eedef.h
+++ b/libc/misc/eedef.h
@@ -26,7 +26,7 @@
    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
    POSSIBILITY OF SUCH DAMAGE.	*/
 
-/* $Id: eedef.h 1983 2009-06-05 23:16:05Z dmix $	*/
+/* $Id$	*/
 
 #ifndef	_EEDEF_H_
 #define _EEDEF_H_  1
diff --git a/libc/misc/eerd_block.S b/libc/misc/eerd_block.S
index 660ab4e..ef39937 100644
--- a/libc/misc/eerd_block.S
+++ b/libc/misc/eerd_block.S
@@ -26,7 +26,7 @@
    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
    POSSIBILITY OF SUCH DAMAGE.	*/
 
-/* $Id: eerd_block.S 2003 2009-06-27 05:13:00Z dmix $	*/
+/* $Id$	*/
 
 #ifndef	__DOXYGEN__
 
@@ -61,7 +61,16 @@
 ENTRY eeprom_read_block
 
 #if  __AVR_XMEGA__	/* --------------------------------------------	*/
-
+  
+  ; It has to be noted that for some Xmega parts (Eg. Xmega E family) EEPROM
+  ; is always memory mapped. So it is not required to  enable EEPROM mapping
+  ; explicitly. 
+  ; The presence of NVM_EEMAPEN_bm macro (from the part header file) can be
+  ; checked to find out whether the device supports enabling/disabling of
+  ; EEPROM mapping. Absence of NVM_EEMAPEN_bm could be interpreted safely as
+  ; EEPROM always memory mapped and explicit memory mapping of EEPROM is not 
+  ; required/invalid.
+#if 	defined (NVM_EEMAPEN_bm)
   ; Load base address of NVM.
 	ldi	ZL, lo8(NVM_BASE)
 	ldi	ZH, hi8(NVM_BASE)
@@ -75,6 +84,7 @@ ENTRY eeprom_read_block
 	ldd	XL, Z + NVM_CTRLB - NVM_BASE
 	ori	XL, NVM_EEMAPEN_bm
 	std	Z + NVM_CTRLB - NVM_BASE, XL
+#endif
 
   ; Correct EEPROM address to read from data space.
 	subi	eepr_lo, lo8(-MAPPED_EEPROM_START)
diff --git a/libc/misc/eerd_byte.S b/libc/misc/eerd_byte.S
index e105fd3..ee72410 100644
--- a/libc/misc/eerd_byte.S
+++ b/libc/misc/eerd_byte.S
@@ -26,7 +26,7 @@
    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
    POSSIBILITY OF SUCH DAMAGE.	*/
 
-/* $Id: eerd_byte.S 1979 2009-06-05 23:08:14Z dmix $	*/
+/* $Id$	*/
 
 #ifndef	__DOXYGEN__
 
@@ -55,6 +55,15 @@ ENTRY	eeprom_read_byte
 
 ENTRY	eeprom_mapen
 
+  ; It has to be noted that for some Xmega parts (Eg. Xmega E family) EEPROM
+  ; is always memory mapped. So it is not required to  enable EEPROM mapping
+  ; explicitly. 
+  ; The presence of NVM_EEMAPEN_bm macro (from the part header file) can be
+  ; checked to find out whether the device supports enabling/disabling of
+  ; EEPROM mapping. Absence of NVM_EEMAPEN_bm could be interpreted safely as
+  ; EEPROM always memory mapped and explicit memory mapping of EEPROM is not 
+  ; required/invalid.
+#if 	defined (NVM_EEMAPEN_bm)
   ; Load base address of NVM.
 	ldi	ZL, lo8(NVM_BASE)
 	ldi	ZH, hi8(NVM_BASE)
@@ -68,6 +77,7 @@ ENTRY	eeprom_mapen
 	ldd	r19, Z + NVM_CTRLB - NVM_BASE
 	ori	r19, NVM_EEMAPEN_bm
 	std	Z + NVM_CTRLB - NVM_BASE, r19
+#endif
 
   ; Load Z with correct EEPROM address to read from data space.
 	movw	ZL, addr_lo
diff --git a/libc/misc/eerd_dword.S b/libc/misc/eerd_dword.S
index 17b86cb..d92f103 100644
--- a/libc/misc/eerd_dword.S
+++ b/libc/misc/eerd_dword.S
@@ -26,7 +26,7 @@
    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
    POSSIBILITY OF SUCH DAMAGE.	*/
 
-/* $Id: eerd_dword.S 1979 2009-06-05 23:08:14Z dmix $	*/
+/* $Id$	*/
 
 #ifndef	__DOXYGEN__
 
diff --git a/libc/misc/eerd_word.S b/libc/misc/eerd_word.S
index cfe0390..445f5ab 100644
--- a/libc/misc/eerd_word.S
+++ b/libc/misc/eerd_word.S
@@ -26,7 +26,7 @@
    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
    POSSIBILITY OF SUCH DAMAGE.	*/
 
-/* $Id: eerd_word.S 1979 2009-06-05 23:08:14Z dmix $	*/
+/* $Id$	*/
 
 #ifndef	__DOXYGEN__
 
diff --git a/libc/misc/eeupd_block.S b/libc/misc/eeupd_block.S
index 9407be6..944d456 100644
--- a/libc/misc/eeupd_block.S
+++ b/libc/misc/eeupd_block.S
@@ -26,7 +26,7 @@
    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
    POSSIBILITY OF SUCH DAMAGE.	*/
 
-/* $Id: eeupd_block.S 1979 2009-06-05 23:08:14Z dmix $	*/
+/* $Id$	*/
 
 #ifndef	__DOXYGEN__
 
diff --git a/libc/misc/eeupd_byte.S b/libc/misc/eeupd_byte.S
index 3f157c5..de635cb 100644
--- a/libc/misc/eeupd_byte.S
+++ b/libc/misc/eeupd_byte.S
@@ -26,7 +26,7 @@
    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
    POSSIBILITY OF SUCH DAMAGE.	*/
 
-/* $Id: eeupd_byte.S 2191 2010-11-05 13:45:57Z arcanum $	*/
+/* $Id$	*/
 
 #if !defined(__AVR_TINY__)
 
diff --git a/libc/misc/eeupd_dword.S b/libc/misc/eeupd_dword.S
index a61c894..f1567b6 100644
--- a/libc/misc/eeupd_dword.S
+++ b/libc/misc/eeupd_dword.S
@@ -26,7 +26,7 @@
    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
    POSSIBILITY OF SUCH DAMAGE.	*/
 
-/* $Id: eeupd_dword.S 1979 2009-06-05 23:08:14Z dmix $	*/
+/* $Id$	*/
 
 #ifndef	__DOXYGEN__
 
diff --git a/libc/misc/eeupd_word.S b/libc/misc/eeupd_word.S
index 1e9d5ff..e0f1638 100644
--- a/libc/misc/eeupd_word.S
+++ b/libc/misc/eeupd_word.S
@@ -26,7 +26,7 @@
    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
    POSSIBILITY OF SUCH DAMAGE.	*/
 
-/* $Id: eeupd_word.S 1979 2009-06-05 23:08:14Z dmix $	*/
+/* $Id$	*/
 
 #ifndef	__DOXYGEN__
 
diff --git a/libc/misc/eewr_block.S b/libc/misc/eewr_block.S
index e70f314..f68bf40 100644
--- a/libc/misc/eewr_block.S
+++ b/libc/misc/eewr_block.S
@@ -26,7 +26,7 @@
    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
    POSSIBILITY OF SUCH DAMAGE.	*/
 
-/* $Id: eewr_block.S 1979 2009-06-05 23:08:14Z dmix $	*/
+/* $Id$	*/
 
 #ifndef	__DOXYGEN__
 
diff --git a/libc/misc/eewr_byte.S b/libc/misc/eewr_byte.S
index ea72b86..98008c2 100644
--- a/libc/misc/eewr_byte.S
+++ b/libc/misc/eewr_byte.S
@@ -26,7 +26,7 @@
    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
    POSSIBILITY OF SUCH DAMAGE.	*/
 
-/* $Id: eewr_byte.S 2024 2009-09-10 01:39:42Z dmix $	*/
+/* $Id$	*/
 
 #ifndef	__DOXYGEN
 
@@ -70,6 +70,15 @@ ENTRY	eeprom_write_r18
 	sbrc	r19, NVM_NVMBUSY_bp
 	rjmp	1b
 
+  ; It has to be noted that for some Xmega parts (Eg. Xmega E family) EEPROM
+  ; is always memory mapped. So it is not possible to disable EEPROM mapping
+  ; explicitly. 
+  ; The presence of NVM_EEMAPEN_bm macro (from the part header file) can be
+  ; checked to find out whether the device supports enabling/disabling of
+  ; EEPROM mapping. Absence of NVM_EEMAPEN_bm could be interpreted safely as
+  ; EEPROM always memory mapped and explicit memory mapping of EEPROM is not 
+  ; required/invalid.
+#if     defined (NVM_EEMAPEN_bm)
   ; Disable EEPROM mapping into data space.
 	ldd	r19, Z + NVM_CTRLB - NVM_BASE
 	andi	r19, ~NVM_EEMAPEN_bm
@@ -103,10 +112,18 @@ ENTRY	eeprom_write_r18
   ; Issue EEPROM Buffer Load command.
 3:	ldi	r19, NVM_CMD_LOAD_EEPROM_BUFFER_gc
 	std	Z + NVM_CMD - NVM_BASE, r19
+#endif
 	std	Z + NVM_ADDR0 - NVM_BASE, addr_lo
 	std	Z + NVM_ADDR1 - NVM_BASE, addr_hi
 	std	Z + NVM_ADDR2 - NVM_BASE, __zero_reg__
+#if     defined (NVM_EEMAPEN_bm)
 	std	Z + NVM_DATA0 - NVM_BASE, r18
+#else
+  	movw 	XL, addr_lo
+	subi	XL, lo8(-MAPPED_EEPROM_START)
+	sbci	XH, hi8(-MAPPED_EEPROM_START)
+	st	X, r18
+#endif
 
   ; Issue EEPROM Erase & Write command.
 	ldi	r18, NVM_CMD_ERASE_WRITE_EEPROM_PAGE_gc
diff --git a/libc/misc/eewr_dword.S b/libc/misc/eewr_dword.S
index 028bff2..d02d59e 100644
--- a/libc/misc/eewr_dword.S
+++ b/libc/misc/eewr_dword.S
@@ -26,7 +26,7 @@
    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
    POSSIBILITY OF SUCH DAMAGE.	*/
 
-/* $Id: eewr_dword.S 1979 2009-06-05 23:08:14Z dmix $	*/
+/* $Id$	*/
 
 #ifndef	__DOXYGEN__
 
diff --git a/libc/misc/eewr_word.S b/libc/misc/eewr_word.S
index 55fac3d..6581a89 100644
--- a/libc/misc/eewr_word.S
+++ b/libc/misc/eewr_word.S
@@ -26,7 +26,7 @@
    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
    POSSIBILITY OF SUCH DAMAGE.	*/
 
-/* $Id: eewr_word.S 1979 2009-06-05 23:08:14Z dmix $	*/
+/* $Id$	*/
 
 #ifndef	__DOXYGEN__
 
diff --git a/libc/misc/itoa.S b/libc/misc/itoa.S
index eeb6fd3..17ec386 100644
--- a/libc/misc/itoa.S
+++ b/libc/misc/itoa.S
@@ -1,4 +1,4 @@
-/* Copyright (c) 2000, 2001, 2002, Michael Rickmann
+/* Copyright (c) 2012  Georg-Johann Lay
    All rights reserved.
 
    Redistribution and use in source and binary forms, with or without
@@ -26,84 +26,39 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: itoa.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$	*/
 
-/*
-   itoa.S
+#if	!defined (__DOXYGEN__)
+#if	!defined (__AVR_TINY__)
 
-   Copyright (C) 2000 Michael Rickmann <mrickma@gwdg.de>
-   Changes: Reiner Patommel <rpato@post4.tele.dk>
-	(no stack space used anymore)
-   Changes: Reiner Patommel <rpato@post4.tele.dk> bug# 4010 		  		
+#include "asmdef.h"
 
-   #include <stdlib.h>
-   char *itoa(int value, char *string, int radix);
-  ----------------------------------------------------------------------
-*/
+/* char *itoa (int val, char *s, int radix)
+   Commonly this program is't used, as the 'stdlib.h' obtains the inline
+   version of itoa() where radix is checked at compile time.
+ */
 
-#if !defined(__AVR_TINY__)
+#define val_lo	r24
+#define str_lo	r22
+#define rdx_lo	r20
+#define rdx_hi	r21
 
-#if !defined(__DOXYGEN__)
+ENTRY	itoa
+ENTRY	__itoa
 
-#include "macros.inc"
-#include "ctoasm.inc"
+	cpi	rdx_lo, 37
+	cpc	rdx_hi, __zero_reg__
+	brsh	1f
+	cpi	rdx_lo, 2
+	brlo	1f
+	XJMP	_U(__itoa_ncheck)
 
-	ASSEMBLY_CLIB_SECTION
-    .global _U(itoa)
-	.func _U(itoa)
+1:	X_movw	ZL, str_lo
+	st	Z, __zero_reg__
+	X_movw	r24, str_lo
+	ret
 
-/* arguments */
-#define r_val_hi r25
-#define r_val_lo r24
-#define r_str_hi r23
-#define r_str_lo r22
-#define r_radix  r20
+ENDFUNC
 
-/* local variables */
-#define r_lstr_hi r19
-#define r_lstr_lo r18
-
-
-_U(itoa):
-	X_movw	ZL, r_str_lo	; &string
-	X_movw	r_lstr_lo, ZL	; save &string
-	clt			; make sure T flag is clear
-	cpi	r_radix, 2	; no radix < 2
-	brlt	99f		; return with \0
-	cpi	r_radix, 37	; no radix > 36
-	brge	99f		; return with \0
-	cpi	r_radix, 10	; decimal number ?
-	brne	1f		; no -> convert
-	bst	r_val_hi, 7	; for decimal numbers remember sign of value
-	brtc	1f		; positive number -> convert
-	com	r_val_hi	; negative number -> make positive
-	neg	r_val_lo
-	sbci	r_val_hi, 0xff
-1:
-	mov	r22, r_radix	; radix
-	clr	r23		;  dividend in r25:r24, divisor in r23:r22
-	XCALL	_U(__udivmodhi4);  quotient in r23:r22, remainder in r25:r24
-				;  clobbered: r0, r21, r26, r27
-				;  call-used but preserved: r18, r19, r20, r30, r31
-	subi	r24, 0xd0	; + '0'
-	cpi	r24, 0x3a	; > '9' ?
-	brlt	10f
-	subi	r24, 0xd9	; + 'a' - 10 - '0'
-10:
-	st	Z+, r24		; write char to string in reverse order
-	X_movw	r_val_lo, r22	; quotient -> dividend
-	sbiw	r_val_lo, 0	; value == 0 ?
-	brne	1b
-	brtc	99f		; T flag clear? -> positive number		
-	ldi	r21, '-'
-	st	Z+, r21		; write minus sign to string
-99:	
-	st	Z, __zero_reg__	; terminate string
-	X_movw	r_val_lo, r_lstr_lo	; restore &string as return value
-	XJMP	_U(strrev)	; reverse string
-
-	.endfunc
-
-#endif /* not __DOXYGEN__ */
-
-#endif /*!defined(__AVR_TINY__) */
+#endif	/* !__AVR_TINY__ */
+#endif	/* !__DOXYGEN__ */
diff --git a/libc/misc/itoa_ncheck.S b/libc/misc/itoa_ncheck.S
new file mode 100644
index 0000000..f29e4b1
--- /dev/null
+++ b/libc/misc/itoa_ncheck.S
@@ -0,0 +1,64 @@
+/* Copyright (c) 2012  Georg-Johann Lay
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+  AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+  IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+  ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+  LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+  CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+  SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+  INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+  CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+  ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+  POSSIBILITY OF SUCH DAMAGE. */
+
+/* $Id$	*/
+
+#if	!defined (__DOXYGEN__)
+#if	!defined (__AVR_TINY__)
+
+#include "asmdef.h"
+
+/* char *__itoa_ncheck (int val, char *s, unsigned char radix)	*/
+
+#define val_lo	r24
+#define val_hi	r25
+#define str_lo	r22
+#define radix	r20
+
+#define sign	r27	/* Argument for __utoa_common()	*/
+
+ENTRY	__itoa_ncheck
+
+	clr	sign
+	cpi	radix, 10
+	brne	1f
+	tst	val_hi
+	brpl	1f
+
+    ; radix == 10 && val < 0: sign = '-'
+	ldi	sign, '-'
+    ; val = -val to make val positive
+	com	val_hi
+	neg	val_lo
+	sbci	val_hi, -1
+1:	XJMP	_U(__utoa_common)
+
+ENDFUNC
+
+#endif	/* !__AVR_TINY__ */
+#endif	/* !__DOXYGEN__ */
diff --git a/libc/misc/ltoa.S b/libc/misc/ltoa.S
index d58fc26..43da095 100644
--- a/libc/misc/ltoa.S
+++ b/libc/misc/ltoa.S
@@ -1,4 +1,4 @@
-/* Copyright (c) 2002, Reiner Patommel
+/* Copyright (c) 2012  Georg-Johann Lay
    All rights reserved.
 
    Redistribution and use in source and binary forms, with or without
@@ -26,99 +26,37 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: ltoa.S 1944 2009-04-01 23:12:20Z arcanum $ */
+/* $Id$	*/
 
-/*
-   ltoa.S
+#if	!defined (__DOXYGEN__)
+#if	!defined (__AVR_TINY__)
 
-   Contributors:
-     Created by Reiner Patommel based on
-   	 itoa.s by Michael Rickmann <mrickma@gwdg.de>
-     Changes: Reiner Patommel <rpato@post4.tele.dk> bug# 4010 	
+#include "asmdef.h"
 
-	#include <stdlib.h>
-	char *ltoa(long int value, char *string, int radix);
-  ----------------------------------------------------------------------
-*/
+/* char *ltoa (long val, char *s, int radix)	*/
 
-#if !defined(__DOXYGEN__)
+#define val_lo	r22
+#define str_lo	r20
+#define rdx_lo	r18
+#define rdx_hi	r19
 
-#include "macros.inc"
-#include "ctoasm.inc"
 
-	ASSEMBLY_CLIB_SECTION
-    .global _U(ltoa)
-	.func _U(ltoa)
+ENTRY	ltoa
+ENTRY	__ltoa
 
-/* function arguments */
-#define a_val_hhi	r25
-#define a_val_hlo	r24
-#define a_val_hi 	r23
-#define a_val_lo 	r22
-#define a_str_hi 	r21
-#define a_str_lo 	r20
-#define a_radix_hi	r19
-#define a_radix   	r18
+	cpi	rdx_lo, 37
+	cpc	rdx_hi, __zero_reg__
+	brsh	1f
+	cpi	rdx_lo, 2
+	brlo	1f
+	XJMP	_U(__ltoa_ncheck)
 
-/* local variables */
-#define r_radix		r28
+1:	X_movw	ZL, str_lo
+	st	Z, __zero_reg__
+	X_movw	r24, str_lo
+	ret
 
+ENDFUNC
 
-
-_U(ltoa):
-	X_movw	ZL, a_str_lo	; Z = &string
-	push	r28		; save r28
-	push	ZH		; keep &string
-	push	ZL
-	cpi	a_radix, 2	; no radix < 2
-	brlt	99f		; return with \0
-	cpi	a_radix, 37	; no radix > 36
-	brge	99f		; return with \0
-	mov	r_radix, a_radix; save radix
-	clt			; make sure T flag is clear
-	cpi	r_radix, 10	; decimal number?
-	brne	1f
-	bst	a_val_hhi, 7	; remember sign of decimal number
-	brtc	1f		; number positive? -> convert
-	com	a_val_hhi	; make decimal number positive
-	com	a_val_hlo
-	com	a_val_hi
-	neg	a_val_lo
-	sbci	a_val_hi,  lo8(-1)
-	sbci	a_val_hlo, lo8(-1)
-	sbci	a_val_hhi, lo8(-1)
-1:
-	mov	r18, r_radix	; radix is divisor
-	clr	r19		; remainder of number is dividend
-	clr	r20
-	clr	r21
-	push	ZH		; Z will be clobbered
-	push	ZL		; dividend in r25:r22, divisor in r21:r18
-	XCALL	_U(__udivmodsi4); quotient in r21:r18, remainder in r25:r22
-	pop	ZL
-	pop	ZH
-	subi	r22, 0xd0	; + '0'
-	cpi	r22, 0x3a	; > '9' ?
-	brlt	10f
-	subi	r22, 0xd9	; + 'a' - 10 - '0'
-10:
-	st	Z+, r22		; write character to string in reverse order!
-	X_movw	a_val_lo, r18	; quotient -> dividend
-	X_movw 	a_val_hlo, r20
-	subi 	a_val_lo, 0
-	sbci	a_val_hi, 0
-	sbci	a_val_hlo, 0
-	sbci 	a_val_hhi,0 	; value == 0 ?
-	brne	1b
-	brtc	99f		; decimal number positive -> finish
-	ldi	r28, '-'
-	st	Z+, r28		; write minus sign to string
-99:
-	st	Z, __zero_reg__	; terminate string
-	pop	a_val_hlo	; restore &string as return value
-	pop	a_val_hhi
-	pop	r28		; restore r28
-	XJMP	_U(strrev)	; reverse string
-	.endfunc
-
-#endif /* not __DOXYGEN__ */
+#endif	/* !__AVR_TINY__ */
+#endif	/* !__DOXYGEN__ */
diff --git a/libc/misc/ltoa_ncheck.S b/libc/misc/ltoa_ncheck.S
new file mode 100644
index 0000000..024d334
--- /dev/null
+++ b/libc/misc/ltoa_ncheck.S
@@ -0,0 +1,69 @@
+/* Copyright (c) 2012  Georg-Johann Lay
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+  AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+  IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+  ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+  LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+  CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+  SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+  INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+  CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+  ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+  POSSIBILITY OF SUCH DAMAGE. */
+
+/* $Id$	*/
+
+#if	!defined (__DOXYGEN__)
+#if	!defined (__AVR_TINY__)
+
+#include "asmdef.h"
+
+/* char *__ltoa_ncheck (long val, char *s, unsigned char radix)	*/
+
+#define val_lo	r22
+#define val_hi	r23
+#define val_hlo	r24
+#define val_hhi	r25
+#define str_lo	r20
+#define rdx_lo	r18
+
+#define sign	r27	/* Argument for __ultoa_common()	*/
+
+ENTRY	__ltoa_ncheck
+
+	clr	sign
+	cpi	rdx_lo, 10
+	brne	1f
+	tst	val_hhi
+	brpl	1f
+
+    ; radix == 10 && val < 0: sign = '-' and val = -val
+	ldi	sign, '-'
+	com	val_hhi
+	com	val_hlo
+	com	val_hi
+	neg	val_lo
+	sbci	val_hi, -1
+	sbci	val_hlo, -1
+	sbci	val_hhi, -1
+1:	XJMP	_U(__ultoa_common)
+
+ENDFUNC
+
+#endif	/* !__AVR_TINY__ */
+#endif	/* !__DOXYGEN__ */
diff --git a/libc/misc/readme_eeprom.txt b/libc/misc/readme_eeprom.txt
index 181e777..2b896f8 100644
--- a/libc/misc/readme_eeprom.txt
+++ b/libc/misc/readme_eeprom.txt
@@ -26,7 +26,7 @@
    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
    POSSIBILITY OF SUCH DAMAGE.	*/
 
-# $Id: readme_eeprom.txt 1979 2009-06-05 23:08:14Z dmix $
+# $Id$
 
 Register usage of internally-used functions, common archs:
 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
@@ -121,4 +121,5 @@ Register usage of internally-used functions, XMEGA arch:
 	Output:
 	    r25,r24	- incremented EEPROM address
 	Scratch:
-	    r31,r30,r19,r18
+	    r31,r30,r27,r26,r19,r18
+	    Only r27,r26 is used when EEPROM is always memory mapped
diff --git a/libc/misc/ultoa.S b/libc/misc/ultoa.S
index 601859d..b66e94b 100644
--- a/libc/misc/ultoa.S
+++ b/libc/misc/ultoa.S
@@ -1,4 +1,4 @@
-/* Copyright (c) 2002, Reiner Patommel
+/* Copyright (c) 2012  Georg-Johann Lay
    All rights reserved.
 
    Redistribution and use in source and binary forms, with or without
@@ -26,83 +26,38 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: ultoa.S 1944 2009-04-01 23:12:20Z arcanum $ */
+/* $Id$	*/
 
-/*
-   ultoa.S
+#if	!defined (__DOXYGEN__)
+#if	!defined (__AVR_TINY__)
 
-   Contributors:
-     Created by Reiner Patommel based on
-     itoa.s by Michael Rickmann <mrickma@gwdg.de>
-     19 June 2003 changed by Reiner Patommel bug# 4010
+#include "asmdef.h"
 
-	#include <stdlib.h>
-	char *ultoa(unsigned long int value, char *string, int radix);
-  ----------------------------------------------------------------------
-*/
+/* char *ultoa (unsigned long val, char *s, int radix)	*/
 
-#if !defined(__DOXYGEN__)
+#define val_lo	r22
+#define str_lo	r20
+#define rdx_lo	r18
+#define rdx_hi	r19
 
-#include "macros.inc"
-#include "ctoasm.inc"
 
-    ASSEMBLY_CLIB_SECTION
-	.global _U(ultoa)
-	.func _U(ultoa)
+ENTRY	ultoa
+ENTRY	__ultoa
 
-/* function arguments */
-#define a_val_hhi	r25
-#define a_val_hlo	r24
-#define a_val_hi 	r23
-#define a_val_lo 	r22
-#define a_str_hi 	r21
-#define a_str_lo 	r20
-#define a_radix_hi	r19
-#define a_radix   	r18
+    ; Check radix
+	cpi	rdx_lo, 37
+	cpc	rdx_hi, __zero_reg__
+	brsh	1f
+	cpi	rdx_lo, 2
+	brlo	1f
+	XJMP	_U(__ultoa_ncheck)
 
-/* local variables */
-#define r_radix		r28
+1:	X_movw	ZL, str_lo
+	st	Z, __zero_reg__
+	X_movw	r24, str_lo
+	ret
 
+ENDFUNC
 
-_U(ultoa):
-	X_movw	ZL, a_str_lo	; Z = &string
-	push	r28		; save r28
-	push	ZH		; keep &string
-	push	ZL
-	cpi	a_radix, 2	; no radix < 2
-	brlt	99f		; return with \0
-	cpi	a_radix, 37	; no radix > 36
-	brge	99f		; return with \0
-	mov	r_radix, a_radix; save radix
-1:
-	mov	r18, r_radix	; radix is divisor
-	clr	r19		; remainder of number is dividend
-	clr	r20
-	clr	r21
-	push	ZH		; Z will be clobbered
-	push	ZL		; dividend in r25:r22, divisor in r21:r18
-	XCALL	_U(__udivmodsi4); quotient in r21:r18, remainder in r25:r22
-	pop	ZL
-	pop	ZH
-	subi	r22, 0xd0	; + '0'
-	cpi	r22, 0x3a	; > '9' ?
-	brlt	10f
-	subi	r22, 0xd9	; + 'a' - 10 - '0'
-10:
-	st	Z+, r22		; write character to string in reverse order!
-	X_movw	a_val_lo, r18	; quotient -> dividend
-	X_movw 	a_val_hlo, r20
-	subi 	a_val_lo, 0
-	sbci	a_val_hi, 0
-	sbci	a_val_hlo, 0
-	sbci 	a_val_hhi,0 	; value == 0 ?
-	brne	1b
-99:
-	st	Z, __zero_reg__	; terminate string
-	pop	a_val_hlo	; restore &string as return value
-	pop	a_val_hhi
-	pop	r28		; restore r28
-	XJMP	_U(strrev)	; reverse string
-	.endfunc
-
-#endif /* not __DOXYGEN__ */
+#endif	/* !__AVR_TINY__ */
+#endif	/* !__DOXYGEN__ */
diff --git a/libc/misc/ultoa_ncheck.S b/libc/misc/ultoa_ncheck.S
new file mode 100644
index 0000000..2a8579b
--- /dev/null
+++ b/libc/misc/ultoa_ncheck.S
@@ -0,0 +1,116 @@
+/* Copyright (c) 2012  Georg-Johann Lay
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+  AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+  IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+  ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+  LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+  CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+  SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+  INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+  CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+  ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+  POSSIBILITY OF SUCH DAMAGE. */
+
+/* $Id$	*/
+
+#if	!defined (__DOXYGEN__)
+#if	!defined (__AVR_TINY__)
+
+#include "asmdef.h"
+
+/* char *__ultoa_ncheck (unsigned long val, char *s, unsigned char radix)
+   This function is the utoa() without checking the radix for 2..36 margins.
+ */
+
+#define val_lo	r22
+#define val_hi	r23
+#define val_hlo	r24
+#define val_hhi	r25
+#define str_lo	r20
+#define radix	r18
+
+#define counter	r19
+#define digit	r26
+#define sign	r27
+
+
+ENTRY	__ultoa_ncheck
+	clr	sign
+
+ENTRY	__ultoa_common
+	X_movw	ZL, str_lo
+
+1:  ; Saves one iteration of the digit-loop:
+    ; If val < radix we can use the low byte of val as digit
+	mov	digit, val_lo
+	cp	val_lo, radix
+	cpc	val_hi, __zero_reg__
+	cpc	val_hlo, __zero_reg__
+	cpc	val_hhi, __zero_reg__
+    ; now C is set, if val < radix
+	sbc	counter, counter
+	bst	counter, 0
+	brts	4f
+    ; counter == 0 here
+
+    ; If val >= radix, then pop one digit from val
+	clr	digit
+
+2:  ; Vanilla 32:8 quotient and remainder to pop the digit
+    ; digit <- val % radix
+    ; val   <- val / radix
+	lsl	val_lo
+	rol	val_hi
+	rol	val_hlo
+	rol	val_hhi
+	rol	digit
+	cp	digit, radix
+	brlo	3f
+	sub	digit, radix
+    ; val |= 1
+	inc	val_lo
+3:  ; Loop the 32 bits
+	subi	counter, 8		; 256 / 8 == 32 loops
+	brne	2b
+
+4:  ; Convert the digit to ASCII...
+	subi	digit, -'0'
+	cpi	digit, '9'+1
+	brlo	5f
+	subi	digit, '0'-'a'+10
+5:  ; ... and store it to the reversed string
+	st	Z+, digit
+
+    ; Popped all digits?
+	brtc    1b
+
+    ; Yes:  Store the sign (if any)
+	cpse	sign, __zero_reg__
+	st	Z+, sign
+
+    ; Terminate the string with '\0'
+7:	st	Z, __zero_reg__
+
+    ; Reverse the string and return the original string pointer
+	X_movw	r24, str_lo
+	XJMP	_U(strrev)
+
+ENDFUNC
+
+#endif	/* !__AVR_TINY__ */
+#endif	/* !__DOXYGEN__ */
diff --git a/libc/misc/utoa.S b/libc/misc/utoa.S
index d889cd3..5bd16e7 100644
--- a/libc/misc/utoa.S
+++ b/libc/misc/utoa.S
@@ -1,4 +1,4 @@
-/* Copyright (c) 2002, Reiner Patommel
+/* Copyright (c) 2012  Georg-Johann Lay
    All rights reserved.
 
    Redistribution and use in source and binary forms, with or without
@@ -26,74 +26,39 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: utoa.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$	*/
 
-/*
-   utoa.S
+#if	!defined (__DOXYGEN__)
+#if	!defined (__AVR_TINY__)
 
-   Contributors:
-   Created by Reiner Patommel based on
-   itoa.s by Michael Rickmann <mrickma@gwdg.de>
-   19 June 2003 changed by Reiner Patommel bug# 4010
+#include "asmdef.h"
 
-	#include <stdlib.h>
-	char *utoa(unsigned int value, char *string, int radix);
-  ----------------------------------------------------------------------
-*/
+/* char *utoa (unsigned val, char *s, int radix)
+   Commonly this program is't used, as the 'stdlib.h' obtains the inline
+   version of utoa() where radix is checked at compile time.
+ */
 
-#if !defined(__AVR_TINY__)
+#define val_lo	r24
+#define str_lo	r22
+#define rdx_lo	r20
+#define rdx_hi	r21
 
-#if !defined(__DOXYGEN__)
+ENTRY	utoa
+ENTRY	__utoa
 
-#include "macros.inc"
-#include "ctoasm.inc"
+	cpi	rdx_lo, 37
+	cpc	rdx_hi, __zero_reg__
+	brsh	1f
+	cpi	rdx_lo, 2
+	brlo	1f
+	XJMP	_U(__utoa_ncheck)
 
-    ASSEMBLY_CLIB_SECTION
-    .global _U(utoa)
-    .func _U(utoa)
+1:	X_movw	ZL, str_lo
+	st	Z, __zero_reg__
+	X_movw	r24, str_lo
+	ret
 
-/* arguments */
-#define r_val_hi r25
-#define r_val_lo r24
-#define r_str_hi r23
-#define r_str_lo r22
-#define r_radix  r20
+ENDFUNC
 
-/* local variables */
-#define r_lstr_hi r19
-#define r_lstr_lo r18
-
-
-
-_U(utoa):
-	X_movw	ZL, r_str_lo	; &string
-	X_movw	r_lstr_lo, ZL	; save &string
-	cpi	r_radix, 2	; no radix < 2
-	brlt	99f
-	cpi	r_radix, 37	; no radix > 36
-	brge	99f	
-1:
-	mov	r22, r_radix	; radix
-	clr	r23		;  dividend in r25:r24,   divisor in r23:r22
-	XCALL	_U(__udivmodhi4);  quotient in r23:r22, remainder in r25:r24
-				;  clobbered: r0, r21, r26, r27
-				;  call-used but preserved: r18,r19,r20,r30,r31
-	subi	r24, 0xd0	; + '0'
-	cpi	r24, 0x3a	; > '9' ?
-	brlt	10f
-	subi	r24, 0xd9	; + 'a' - 10 - '0'
-10:
-	st	Z+, r24		; write char to string in reverse order!
-	X_movw	r_val_lo,r22	; quotient -> dividend
-	sbiw	r_val_lo,0	; value == 0 ?
-	brne	1b
-99:
-	st	Z, __zero_reg__	; terminate string
-	X_movw	r_val_lo, r_lstr_lo	; restore &string as return value
-	XJMP	_U(strrev)	; reverse string
-
-	.endfunc
-
-#endif /* not __DOXYGEN__ */
-
-#endif /* !defined(__AVR_TINY__) */
+#endif	/* !__AVR_TINY__ */
+#endif	/* !__DOXYGEN__ */
diff --git a/libc/misc/utoa_ncheck.S b/libc/misc/utoa_ncheck.S
new file mode 100644
index 0000000..9c3108c
--- /dev/null
+++ b/libc/misc/utoa_ncheck.S
@@ -0,0 +1,97 @@
+/* Copyright (c) 2012  Georg-Johann Lay
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+  AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+  IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+  ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+  LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+  CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+  SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+  INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+  CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+  ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+  POSSIBILITY OF SUCH DAMAGE. */
+
+/* $Id$	*/
+
+#if	!defined (__DOXYGEN__)
+#if	!defined (__AVR_TINY__)
+
+#include "asmdef.h"
+
+/* char *__utoa_ncheck (unsigned val, char *s, unsigned char radix)
+   This function is the utoa() without checking the radix for 2..36 margins.
+ */
+
+#define val_lo	r24
+#define val_hi	r25
+#define str_lo	r22
+#define radix	r20
+
+#define counter	r21
+#define digit	r26
+#define sign	r27
+
+ENTRY	__utoa_ncheck
+	clr	sign
+
+ENTRY	__utoa_common
+	X_movw	ZL, str_lo
+	clr	counter
+
+1:  ; Vanilla 16:8 quotient and remainder to pop the digit
+    ; digit <- val % radix
+    ; val   <- val / radix
+	clr	digit
+
+2:	lsl	val_lo
+	rol	val_hi
+	rol	digit
+	cp	digit, radix
+	brlo	3f
+	sub	digit, radix
+	inc	val_lo
+3:	subi	counter, 16		; 256 / 16 == 16 loops
+	brne	2b
+
+    ; Convert the digit to ASCII...
+	subi	digit, -'0'
+	cpi	digit, '9'+1
+	brlo	4f
+	subi	digit, '0'-'a'+10
+4:  ; ... and store it to the reversed string
+	st	Z+, digit
+
+    ; Iterate until all digits are sucked out of VAL.
+	sbiw	val_lo, 0
+	brne	1b
+
+    ; Store the sign (if any)
+	cpse	sign, __zero_reg__
+	st	Z+, sign
+
+    ; Terminate the string with '\0'
+	st	Z+, __zero_reg__
+
+    ; Reverse the string and return the original string pointer
+	X_movw	r24, str_lo
+	XJMP	_U(strrev)
+
+ENDFUNC
+
+#endif	/* !__AVR_TINY__ */
+#endif	/* !__DOXYGEN__ */
diff --git a/libc/pmstring/Files.am b/libc/pmstring/Files.am
index d2cf10f..d87440b 100644
--- a/libc/pmstring/Files.am
+++ b/libc/pmstring/Files.am
@@ -26,7 +26,7 @@
 # ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 # POSSIBILITY OF SUCH DAMAGE.
 #
-# $Id: Files.am 2164 2010-06-13 12:34:24Z joerg_wunsch $
+# $Id$
 #
 
 pmstring_a_c_sources = \
diff --git a/libc/pmstring/Makefile.am b/libc/pmstring/Makefile.am
index 6cf558e..353cb78 100644
--- a/libc/pmstring/Makefile.am
+++ b/libc/pmstring/Makefile.am
@@ -26,7 +26,7 @@
 # ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 # POSSIBILITY OF SUCH DAMAGE.
 #
-# $Id: Makefile.am 2039 2009-11-08 06:03:42Z dmix $
+# $Id$
 #
 
 include $(top_srcdir)/libc/pmstring/Files.am
diff --git a/libc/pmstring/Rules.am b/libc/pmstring/Rules.am
index d0c666e..446e222 100644
--- a/libc/pmstring/Rules.am
+++ b/libc/pmstring/Rules.am
@@ -26,7 +26,7 @@
 # ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 # POSSIBILITY OF SUCH DAMAGE.
 
-# $Id: Rules.am 802 2005-08-11 20:55:26Z joerg_wunsch $
+# $Id$
 
 ## Process this file with automake to generate Makefile.in
 
diff --git a/libc/pmstring/memccpy_P.S b/libc/pmstring/memccpy_P.S
index 7e2b387..04b0d60 100644
--- a/libc/pmstring/memccpy_P.S
+++ b/libc/pmstring/memccpy_P.S
@@ -26,7 +26,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: memccpy_P.S 2054 2009-11-15 06:31:31Z dmix $	*/
+/* $Id$	*/
 
 #define Lprogmem  1
 #include "../string/memccpy.S"
diff --git a/libc/pmstring/memchr_P.S b/libc/pmstring/memchr_P.S
index 0b4ea84..2d341a8 100644
--- a/libc/pmstring/memchr_P.S
+++ b/libc/pmstring/memchr_P.S
@@ -27,7 +27,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: memchr_P.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 /** \file */
 /** \ingroup avr_pgmspace
diff --git a/libc/pmstring/memcmp_P.S b/libc/pmstring/memcmp_P.S
index 18e3de1..680f19c 100644
--- a/libc/pmstring/memcmp_P.S
+++ b/libc/pmstring/memcmp_P.S
@@ -27,7 +27,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
   
-/* $Id: memcmp_P.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 /** \file */
 
diff --git a/libc/pmstring/memcmp_PF.S b/libc/pmstring/memcmp_PF.S
index cbbfacc..0bce7c1 100644
--- a/libc/pmstring/memcmp_PF.S
+++ b/libc/pmstring/memcmp_PF.S
@@ -33,7 +33,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: memcmp_PF.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 /** \file */
 
@@ -99,6 +99,7 @@ _U(memcmp_PF):
   sub   ret_b0, ret_b0
 3:
   sbc   ret_b1, ret_b1
+  LPM_R0_ZPLUS_FINI s2_b2
   ret
 
   .size _U(memcmp_PF), . - _U(memcmp_PF)
diff --git a/libc/pmstring/memcpy_P.S b/libc/pmstring/memcpy_P.S
index 42235a7..d3dea47 100644
--- a/libc/pmstring/memcpy_P.S
+++ b/libc/pmstring/memcpy_P.S
@@ -26,7 +26,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: memcpy_P.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 /** \file */
 /** \ingroup avr_pgmspace
diff --git a/libc/pmstring/memcpy_PF.S b/libc/pmstring/memcpy_PF.S
index 354280f..69ef148 100644
--- a/libc/pmstring/memcpy_PF.S
+++ b/libc/pmstring/memcpy_PF.S
@@ -30,7 +30,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: memcpy_PF.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 #if !defined(__AVR_TINY__)
 
@@ -109,7 +109,7 @@ _U(memcpy_PF):
 #endif
 
 	brcc	.L_memcpy_PF_loop
-
+	LPM_R0_ZPLUS_FINI src_b2
 ; return dest (unchanged)
 
 	ret
diff --git a/libc/pmstring/memrchr_P.S b/libc/pmstring/memrchr_P.S
index 9794cf2..b08e82f 100644
--- a/libc/pmstring/memrchr_P.S
+++ b/libc/pmstring/memrchr_P.S
@@ -26,7 +26,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: memrchr_P.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 /** \file */
 /** \ingroup avr_pgmspace
diff --git a/libc/pmstring/strcasecmp_P.S b/libc/pmstring/strcasecmp_P.S
index 4e622a8..87d0487 100644
--- a/libc/pmstring/strcasecmp_P.S
+++ b/libc/pmstring/strcasecmp_P.S
@@ -27,7 +27,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: strcasecmp_P.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 /*
    strcasecmp_P.S
diff --git a/libc/pmstring/strcasecmp_PF.S b/libc/pmstring/strcasecmp_PF.S
index 177da79..2bc9b4f 100644
--- a/libc/pmstring/strcasecmp_PF.S
+++ b/libc/pmstring/strcasecmp_PF.S
@@ -30,7 +30,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: strcasecmp_PF.S 2192 2010-11-08 13:53:24Z arcanum $ */
+/* $Id$ */
 
 #if !defined(__AVR_TINY__)
 
@@ -101,6 +101,7 @@ _U(strcasecmp_PF):
 ; ret_hi = SREG.C ? 0xFF : 0
 
 	sbc	ret_b1, ret_b1
+	LPM_R0_ZPLUS_FINI s2_b2
 	ret
 
 .L_strcasecmp_PF_end:
diff --git a/libc/pmstring/strcat_P.S b/libc/pmstring/strcat_P.S
index dbb93e9..6db475a 100644
--- a/libc/pmstring/strcat_P.S
+++ b/libc/pmstring/strcat_P.S
@@ -33,7 +33,7 @@
      Created by Reiner Patommel
 */
 
-/* $Id: strcat_P.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 /** \file */
 /** \ingroup avr_pgmspace
diff --git a/libc/pmstring/strcat_PF.S b/libc/pmstring/strcat_PF.S
index 84c5f69..afc2711 100644
--- a/libc/pmstring/strcat_PF.S
+++ b/libc/pmstring/strcat_PF.S
@@ -31,7 +31,7 @@
   POSSIBILITY OF SUCH DAMAGE. */
 
 
-/* $Id: strcat_PF.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 #if !defined(__AVR_TINY__)
 
@@ -84,7 +84,7 @@ _U(strcat_PF):
 	st	X+, r0
 	tst	r0
 	brne	.L_strcat_PF_loop
-
+	LPM_R0_ZPLUS_FINI src_b2
 ; return dest (unchanged)
 
 	ret
diff --git a/libc/pmstring/strchr_P.S b/libc/pmstring/strchr_P.S
index a5bf184..75e320e 100644
--- a/libc/pmstring/strchr_P.S
+++ b/libc/pmstring/strchr_P.S
@@ -27,7 +27,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: strchr_P.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 /** \file */
 
diff --git a/libc/pmstring/strchrnul_P.S b/libc/pmstring/strchrnul_P.S
index bc596b0..db7a1a9 100644
--- a/libc/pmstring/strchrnul_P.S
+++ b/libc/pmstring/strchrnul_P.S
@@ -26,7 +26,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: strchrnul_P.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 /** \file */
 /** \ingroup avr_pgmspace
diff --git a/libc/pmstring/strcmp_P.S b/libc/pmstring/strcmp_P.S
index b2b0657..4ce5427 100644
--- a/libc/pmstring/strcmp_P.S
+++ b/libc/pmstring/strcmp_P.S
@@ -26,7 +26,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: strcmp_P.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 /** \file */
 
diff --git a/libc/pmstring/strcmp_PF.S b/libc/pmstring/strcmp_PF.S
index 81eae78..b776519 100644
--- a/libc/pmstring/strcmp_PF.S
+++ b/libc/pmstring/strcmp_PF.S
@@ -30,7 +30,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: strcmp_PF.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 #if !defined(__AVR_TINY__)
 
@@ -86,6 +86,7 @@ _U(strcmp_PF):
 ; ret_hi = SREG.C ? 0xFF : 0
 
 	sbc	ret_b1, ret_b1
+	LPM_R0_ZPLUS_FINI s2_b2
 	ret
 
 .L_strcmp_PF_end:
diff --git a/libc/pmstring/strcpy_P.S b/libc/pmstring/strcpy_P.S
index 188c9c9..91aff80 100644
--- a/libc/pmstring/strcpy_P.S
+++ b/libc/pmstring/strcpy_P.S
@@ -26,7 +26,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: strcpy_P.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 /** \file */
 /** \ingroup avr_pgmspace
diff --git a/libc/pmstring/strcpy_PF.S b/libc/pmstring/strcpy_PF.S
index fa0e063..d6f9961 100644
--- a/libc/pmstring/strcpy_PF.S
+++ b/libc/pmstring/strcpy_PF.S
@@ -30,7 +30,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: strcpy_PF.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 #if !defined(__AVR_TINY__)
 
@@ -75,7 +75,7 @@ _U(strcpy_PF):
 	st	X+, r0
 	tst	r0
 	brne	.L_strcpy_PF_loop
-
+	LPM_R0_ZPLUS_FINI src_b2
 ; return dest (unchanged)
 
 	ret
diff --git a/libc/pmstring/strcspn_P.S b/libc/pmstring/strcspn_P.S
index 84c2585..45b9f1e 100644
--- a/libc/pmstring/strcspn_P.S
+++ b/libc/pmstring/strcspn_P.S
@@ -26,7 +26,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: strcspn_P.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 /** \file */
 /** \ingroup avr_pgmspace
diff --git a/libc/pmstring/strlcat_P.S b/libc/pmstring/strlcat_P.S
index 92f5bb5..bea6397 100644
--- a/libc/pmstring/strlcat_P.S
+++ b/libc/pmstring/strlcat_P.S
@@ -33,7 +33,7 @@
 
 */
 
-/* $Id: strlcat_P.S 2262 2011-12-24 00:38:34Z dmix $ */
+/* $Id$ */
 
 /** \file */
 
diff --git a/libc/pmstring/strlcat_PF.S b/libc/pmstring/strlcat_PF.S
index 0cea503..ed49d98 100644
--- a/libc/pmstring/strlcat_PF.S
+++ b/libc/pmstring/strlcat_PF.S
@@ -32,7 +32,7 @@
 
 */
 
-/* $Id: strlcat_PF.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 /** \ingroup avr_pgmspace
     \fn size_t strlcat_PF (char *dst, uint_farptr_t src, size_t n)
@@ -144,6 +144,7 @@ _U(strlcat_PF):
 	adc	rWord_b1, ZH
 	sub	rWord_b0, src_b0
 	sbc	rWord_b1, src_b1	; return(dlen + (Z - src))
+	LPM_R0_ZPLUS_FINI src_b2
 	pop	src_b2
 	ret
 
diff --git a/libc/pmstring/strlcpy_P.S b/libc/pmstring/strlcpy_P.S
index 6061bb8..2fc07e7 100644
--- a/libc/pmstring/strlcpy_P.S
+++ b/libc/pmstring/strlcpy_P.S
@@ -33,7 +33,7 @@
 
 */
 
-/* $Id: strlcpy_P.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 /** \file */
 
diff --git a/libc/pmstring/strlcpy_PF.S b/libc/pmstring/strlcpy_PF.S
index 10beea4..744db83 100644
--- a/libc/pmstring/strlcpy_PF.S
+++ b/libc/pmstring/strlcpy_PF.S
@@ -32,7 +32,7 @@
 
 */
 
-/* $Id: strlcpy_PF.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 /** \ingroup avr_pgmspace
     \fn size_t strlcpy_PF (char *dst, uint_farptr_t src, size_t siz)
@@ -100,6 +100,7 @@ _U(strlcpy_PF):
 	sbc	ZH, src_b1		; Z points past \0
 	sbiw	ZL, 1
 	X_movw	rWord_b0, ZL
+	LPM_R0_ZPLUS_FINI src_b2
 	ret
 
 .L_strlcpy_PF_end:
diff --git a/libc/pmstring/strlen_P.S b/libc/pmstring/strlen_P.S
index 9d51fb5..b8b39f2 100644
--- a/libc/pmstring/strlen_P.S
+++ b/libc/pmstring/strlen_P.S
@@ -26,7 +26,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: strlen_P.S 2223 2011-02-23 18:15:04Z arcanum $ */
+/* $Id$ */
 
 /** \file */
 /** \ingroup avr_pgmspace
diff --git a/libc/pmstring/strlen_PF.S b/libc/pmstring/strlen_PF.S
index 368782b..8258f62 100644
--- a/libc/pmstring/strlen_PF.S
+++ b/libc/pmstring/strlen_PF.S
@@ -30,7 +30,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: strlen_PF.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 #if !defined(__AVR_TINY__)
 
@@ -77,6 +77,7 @@ _U(strlen_PF):
 	add	src_b0, ZL
 	adc	src_b1, ZH
 	X_movw	src_b2, src_b0	; size_t is 16 bits
+	LPM_R0_ZPLUS_FINI src_b2
 	ret
 
 .L_strlen_PF_end:
diff --git a/libc/pmstring/strncasecmp_P.S b/libc/pmstring/strncasecmp_P.S
index df95aa7..ec760e0 100644
--- a/libc/pmstring/strncasecmp_P.S
+++ b/libc/pmstring/strncasecmp_P.S
@@ -27,7 +27,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: strncasecmp_P.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 /*
    strncasecmp_P.S
diff --git a/libc/pmstring/strncasecmp_PF.S b/libc/pmstring/strncasecmp_PF.S
index 017e7c4..da2297b 100644
--- a/libc/pmstring/strncasecmp_PF.S
+++ b/libc/pmstring/strncasecmp_PF.S
@@ -30,7 +30,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: strncasecmp_PF.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 #if !defined(__AVR_TINY__)
 
@@ -112,6 +112,7 @@ _U(strncasecmp_PF):
 ; ret_hi = SREG.C ? 0xFF : 0
 
 	sbc	ret_b1, ret_b1
+	LPM_R0_ZPLUS_FINI s2_b2
 	ret
 
 .L_strncasecmp_PF_end:
diff --git a/libc/pmstring/strncat_P.S b/libc/pmstring/strncat_P.S
index 8d1d49b..2c44ce2 100644
--- a/libc/pmstring/strncat_P.S
+++ b/libc/pmstring/strncat_P.S
@@ -27,7 +27,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: strncat_P.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 /** \file */
 /** \ingroup avr_pgmspace
diff --git a/libc/pmstring/strncat_PF.S b/libc/pmstring/strncat_PF.S
index 637a63f..9699323 100644
--- a/libc/pmstring/strncat_PF.S
+++ b/libc/pmstring/strncat_PF.S
@@ -32,7 +32,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: strncat_PF.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 #if !defined(__AVR_TINY__)
 
@@ -91,7 +91,7 @@ _U(strncat_PF):
 	tst	r0
 	st	X+, r0
 	brne	.L_strncat_PF_loop
-
+	LPM_R0_ZPLUS_FINI src_b2
 ; return dest (unchanged)
 
 	ret
@@ -99,7 +99,7 @@ _U(strncat_PF):
 .L_strncat_PF_done:
 
 	st	X, __zero_reg__
-
+	LPM_R0_ZPLUS_FINI src_b2
 ; return dest (unchanged)
 
 	ret
diff --git a/libc/pmstring/strncmp_P.S b/libc/pmstring/strncmp_P.S
index 77975c8..c8ca825 100644
--- a/libc/pmstring/strncmp_P.S
+++ b/libc/pmstring/strncmp_P.S
@@ -26,7 +26,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: strncmp_P.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 /** \file */
 /** \ingroup avr_pgmspace
diff --git a/libc/pmstring/strncmp_PF.S b/libc/pmstring/strncmp_PF.S
index 60eecfa..a292c3c 100644
--- a/libc/pmstring/strncmp_PF.S
+++ b/libc/pmstring/strncmp_PF.S
@@ -30,7 +30,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: strncmp_PF.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 #if !defined(__AVR_TINY__)
 
@@ -96,6 +96,7 @@ _U(strncmp_PF):
 ; ret_hi = SREG.C ? 0xFF : 0
 
 	sbc	ret_b1, ret_b1
+	LPM_R0_ZPLUS_FINI s2_b2
 	ret
 
 .L_strncmp_PF_end:
diff --git a/libc/pmstring/strncpy_P.S b/libc/pmstring/strncpy_P.S
index 451f17d..3e3ca36 100644
--- a/libc/pmstring/strncpy_P.S
+++ b/libc/pmstring/strncpy_P.S
@@ -26,7 +26,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: strncpy_P.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 
 /** \file */
diff --git a/libc/pmstring/strncpy_PF.S b/libc/pmstring/strncpy_PF.S
index 25e7e67..64ba31f 100644
--- a/libc/pmstring/strncpy_PF.S
+++ b/libc/pmstring/strncpy_PF.S
@@ -30,7 +30,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: strncpy_PF.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 #if !defined(__AVR_TINY__)
 
@@ -104,6 +104,7 @@ _U(strncpy_PF):
 	brcc	.L_strncpy_PF_clr_loop
 
 .L_strncpy_PF_done:
+	LPM_R0_ZPLUS_FINI src_b2
 ; return dest (unchanged)
 
 	ret
diff --git a/libc/pmstring/strnlen_P.S b/libc/pmstring/strnlen_P.S
index 5c69070..5b27419 100644
--- a/libc/pmstring/strnlen_P.S
+++ b/libc/pmstring/strnlen_P.S
@@ -30,7 +30,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: strnlen_P.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 /** \file */
 /** \ingroup avr_pgmspace
diff --git a/libc/pmstring/strnlen_PF.S b/libc/pmstring/strnlen_PF.S
index 55618ba..87d197d 100644
--- a/libc/pmstring/strnlen_PF.S
+++ b/libc/pmstring/strnlen_PF.S
@@ -33,7 +33,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: strnlen_PF.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 
 #if !defined(__AVR_TINY__)
@@ -88,6 +88,7 @@ _U(strnlen_PF):
 	com	src_b1
 	add	src_b0, ZL
 	adc	src_b1, ZH
+	LPM_R0_ZPLUS_FINI src_b2
 	X_movw	src_b2, src_b0		; size_t is 16 bits
 	ret
 
diff --git a/libc/pmstring/strpbrk_P.S b/libc/pmstring/strpbrk_P.S
index 73f9772..e981815 100644
--- a/libc/pmstring/strpbrk_P.S
+++ b/libc/pmstring/strpbrk_P.S
@@ -26,7 +26,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: strpbrk_P.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 /** \file */
 /** \ingroup avr_pgmspace
diff --git a/libc/pmstring/strrchr_P.S b/libc/pmstring/strrchr_P.S
index 0a34b8c..4843b32 100644
--- a/libc/pmstring/strrchr_P.S
+++ b/libc/pmstring/strrchr_P.S
@@ -26,7 +26,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: strrchr_P.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 /** \file */
 
diff --git a/libc/pmstring/strsep_P.S b/libc/pmstring/strsep_P.S
index 736499d..9b1218d 100644
--- a/libc/pmstring/strsep_P.S
+++ b/libc/pmstring/strsep_P.S
@@ -29,7 +29,7 @@
 
  */
 
-/* $Id: strsep_P.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 /** \file */
 
diff --git a/libc/pmstring/strspn_P.S b/libc/pmstring/strspn_P.S
index fd42e87..562fd7b 100644
--- a/libc/pmstring/strspn_P.S
+++ b/libc/pmstring/strspn_P.S
@@ -26,7 +26,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: strspn_P.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 /** \file */
 /** \ingroup avr_pgmspace
diff --git a/libc/pmstring/strstr_P.S b/libc/pmstring/strstr_P.S
index 8f9e700..b54e89a 100644
--- a/libc/pmstring/strstr_P.S
+++ b/libc/pmstring/strstr_P.S
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: strstr_P.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 /*
    strstr_P.S
diff --git a/libc/pmstring/strstr_PF.S b/libc/pmstring/strstr_PF.S
index 407e5ee..06c1e99 100644
--- a/libc/pmstring/strstr_PF.S
+++ b/libc/pmstring/strstr_PF.S
@@ -31,7 +31,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: strstr_PF.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 #include "macros.inc"
 
@@ -113,10 +113,12 @@ _U(strstr_PF):
 
 	clr	ret_b0
 	clr	ret_b1
+	LPM_R0_ZPLUS_FINI s2_b2
 	ret
 
 .L_match_P:
 	sbiw	ret_b0, 1
+	LPM_R0_ZPLUS_INIT s2_b2
 	ret
 
 .L_strstr_end_P:
diff --git a/libc/pmstring/strtok_P.c b/libc/pmstring/strtok_P.c
index 48a80fd..7e460ee 100644
--- a/libc/pmstring/strtok_P.c
+++ b/libc/pmstring/strtok_P.c
@@ -26,7 +26,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: strtok_P.c 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 #if !defined(__AVR_TINY__)
 
diff --git a/libc/pmstring/strtok_rP.S b/libc/pmstring/strtok_rP.S
index 7dc9b1f..b5fc36e 100644
--- a/libc/pmstring/strtok_rP.S
+++ b/libc/pmstring/strtok_rP.S
@@ -27,7 +27,7 @@
   POSSIBILITY OF SUCH DAMAGE.
 */
 
-/* $Id: strtok_rP.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 /** \file */
 
diff --git a/libc/stdio/Files.am b/libc/stdio/Files.am
index 289f544..7dcf50b 100644
--- a/libc/stdio/Files.am
+++ b/libc/stdio/Files.am
@@ -26,7 +26,7 @@
 # ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 # POSSIBILITY OF SUCH DAMAGE.
 #
-# $Id: Files.am 1381 2007-05-14 13:52:01Z joerg_wunsch $
+# $Id$
 #
 
 stdio_a_c_sources =	\
diff --git a/libc/stdio/Makefile.am b/libc/stdio/Makefile.am
index 04e157d..7b82765 100644
--- a/libc/stdio/Makefile.am
+++ b/libc/stdio/Makefile.am
@@ -26,7 +26,7 @@
 # ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 # POSSIBILITY OF SUCH DAMAGE.
 #
-# $Id: Makefile.am 802 2005-08-11 20:55:26Z joerg_wunsch $
+# $Id$
 #
 
 include $(top_srcdir)/libc/stdio/Files.am
diff --git a/libc/stdio/Rules.am b/libc/stdio/Rules.am
index f346c42..627d036 100644
--- a/libc/stdio/Rules.am
+++ b/libc/stdio/Rules.am
@@ -26,7 +26,7 @@
 # ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 # POSSIBILITY OF SUCH DAMAGE.
 #
-# $Id: Rules.am 1872 2009-02-08 22:55:13Z aesok $
+# $Id$
 #
 
 include $(top_srcdir)/libc/stdio/Files.am
diff --git a/libc/stdio/clearerr.c b/libc/stdio/clearerr.c
index b131125..067bfe1 100644
--- a/libc/stdio/clearerr.c
+++ b/libc/stdio/clearerr.c
@@ -27,7 +27,7 @@
   POSSIBILITY OF SUCH DAMAGE.
 */
 
-/* $Id: clearerr.c 1944 2009-04-01 23:12:20Z arcanum $ */
+/* $Id$ */
 
 #include <stdio.h>
 #include "sectionname.h"
diff --git a/libc/stdio/fclose.c b/libc/stdio/fclose.c
index 0c938b5..561c3b7 100644
--- a/libc/stdio/fclose.c
+++ b/libc/stdio/fclose.c
@@ -27,7 +27,7 @@
   POSSIBILITY OF SUCH DAMAGE.
 */
 
-/* $Id: fclose.c 1944 2009-04-01 23:12:20Z arcanum $ */
+/* $Id$ */
 
 #include <stdint.h>
 #include <stdio.h>
diff --git a/libc/stdio/fdevopen.c b/libc/stdio/fdevopen.c
index 830b011..4a7f1be 100644
--- a/libc/stdio/fdevopen.c
+++ b/libc/stdio/fdevopen.c
@@ -27,7 +27,7 @@
   POSSIBILITY OF SUCH DAMAGE.
 */
 
-/* $Id: fdevopen.c 1944 2009-04-01 23:12:20Z arcanum $ */
+/* $Id$ */
 
 #include <stdint.h>
 #include <stdio.h>
diff --git a/libc/stdio/feof.c b/libc/stdio/feof.c
index b3867cd..dd0a3f2 100644
--- a/libc/stdio/feof.c
+++ b/libc/stdio/feof.c
@@ -27,7 +27,7 @@
   POSSIBILITY OF SUCH DAMAGE.
 */
 
-/* $Id: feof.c 1944 2009-04-01 23:12:20Z arcanum $ */
+/* $Id$ */
 
 #include <stdio.h>
 #include "sectionname.h"
diff --git a/libc/stdio/ferror.c b/libc/stdio/ferror.c
index ec161ae..afc7a7f 100644
--- a/libc/stdio/ferror.c
+++ b/libc/stdio/ferror.c
@@ -27,7 +27,7 @@
   POSSIBILITY OF SUCH DAMAGE.
 */
 
-/* $Id: ferror.c 1944 2009-04-01 23:12:20Z arcanum $ */
+/* $Id$ */
 
 #include <stdio.h>
 #include "sectionname.h"
diff --git a/libc/stdio/fgetc.c b/libc/stdio/fgetc.c
index b772b95..c9e39bf 100644
--- a/libc/stdio/fgetc.c
+++ b/libc/stdio/fgetc.c
@@ -27,7 +27,7 @@
   POSSIBILITY OF SUCH DAMAGE.
 */
 
-/* $Id: fgetc.c 1944 2009-04-01 23:12:20Z arcanum $ */
+/* $Id$ */
 
 #include <stdio.h>
 #include "sectionname.h"
diff --git a/libc/stdio/fgets.c b/libc/stdio/fgets.c
index 424ae06..c97711d 100644
--- a/libc/stdio/fgets.c
+++ b/libc/stdio/fgets.c
@@ -27,7 +27,7 @@
   POSSIBILITY OF SUCH DAMAGE.
 */
 
-/* $Id: fgets.c 1944 2009-04-01 23:12:20Z arcanum $ */
+/* $Id$ */
 
 #include <stdio.h>
 #include "sectionname.h"
diff --git a/libc/stdio/fprintf.c b/libc/stdio/fprintf.c
index 3bbb30c..d7fa2f7 100644
--- a/libc/stdio/fprintf.c
+++ b/libc/stdio/fprintf.c
@@ -27,7 +27,7 @@
   POSSIBILITY OF SUCH DAMAGE.
 */
 
-/* $Id: fprintf.c 1944 2009-04-01 23:12:20Z arcanum $ */
+/* $Id$ */
 
 #include <stdarg.h>
 #include <stdio.h>
diff --git a/libc/stdio/fprintf_p.c b/libc/stdio/fprintf_p.c
index 2258743..8544564 100644
--- a/libc/stdio/fprintf_p.c
+++ b/libc/stdio/fprintf_p.c
@@ -27,7 +27,7 @@
   POSSIBILITY OF SUCH DAMAGE.
 */
 
-/* $Id: fprintf_p.c 1944 2009-04-01 23:12:20Z arcanum $ */
+/* $Id$ */
 
 #include <stdarg.h>
 #include <stdio.h>
diff --git a/libc/stdio/fputc.c b/libc/stdio/fputc.c
index b907d52..20aa4e1 100644
--- a/libc/stdio/fputc.c
+++ b/libc/stdio/fputc.c
@@ -27,7 +27,7 @@
   POSSIBILITY OF SUCH DAMAGE.
 */
 
-/* $Id: fputc.c 1944 2009-04-01 23:12:20Z arcanum $ */
+/* $Id$ */
 
 #include <stdio.h>
 #include "sectionname.h"
diff --git a/libc/stdio/fputs.c b/libc/stdio/fputs.c
index 14daefa..82e9d54 100644
--- a/libc/stdio/fputs.c
+++ b/libc/stdio/fputs.c
@@ -27,7 +27,7 @@
   POSSIBILITY OF SUCH DAMAGE.
 */
 
-/* $Id: fputs.c 1944 2009-04-01 23:12:20Z arcanum $ */
+/* $Id$ */
 
 #include <stdio.h>
 #include "sectionname.h"
diff --git a/libc/stdio/fputs_p.c b/libc/stdio/fputs_p.c
index aba9dba..df0a48b 100644
--- a/libc/stdio/fputs_p.c
+++ b/libc/stdio/fputs_p.c
@@ -27,7 +27,7 @@
   POSSIBILITY OF SUCH DAMAGE.
 */
 
-/* $Id: fputs_p.c 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 #if !defined(__AVR_TINY__)
 
diff --git a/libc/stdio/fread.c b/libc/stdio/fread.c
index 9f94dba..b816155 100644
--- a/libc/stdio/fread.c
+++ b/libc/stdio/fread.c
@@ -27,7 +27,7 @@
   POSSIBILITY OF SUCH DAMAGE.
 */
 
-/* $Id: fread.c 1944 2009-04-01 23:12:20Z arcanum $ */
+/* $Id$ */
 
 #include <stdio.h>
 #include "sectionname.h"
diff --git a/libc/stdio/fscanf.c b/libc/stdio/fscanf.c
index f4adc84..2f8c04b 100644
--- a/libc/stdio/fscanf.c
+++ b/libc/stdio/fscanf.c
@@ -27,7 +27,7 @@
   POSSIBILITY OF SUCH DAMAGE.
 */
 
-/* $Id: fscanf.c 1944 2009-04-01 23:12:20Z arcanum $ */
+/* $Id$ */
 
 #include <stdarg.h>
 #include <stdio.h>
diff --git a/libc/stdio/fscanf_p.c b/libc/stdio/fscanf_p.c
index f011a43..4f23926 100644
--- a/libc/stdio/fscanf_p.c
+++ b/libc/stdio/fscanf_p.c
@@ -27,7 +27,7 @@
   POSSIBILITY OF SUCH DAMAGE.
 */
 
-/* $Id: fscanf_p.c 1944 2009-04-01 23:12:20Z arcanum $ */
+/* $Id$ */
 
 #include <stdarg.h>
 #include <stdio.h>
diff --git a/libc/stdio/fwrite.c b/libc/stdio/fwrite.c
index 72bb249..2140165 100644
--- a/libc/stdio/fwrite.c
+++ b/libc/stdio/fwrite.c
@@ -27,7 +27,7 @@
   POSSIBILITY OF SUCH DAMAGE.
 */
 
-/* $Id: fwrite.c 1944 2009-04-01 23:12:20Z arcanum $ */
+/* $Id$ */
 
 #include <stdio.h>
 #include "sectionname.h"
diff --git a/libc/stdio/getc.S b/libc/stdio/getc.S
index a1abb0a..8d71908 100644
--- a/libc/stdio/getc.S
+++ b/libc/stdio/getc.S
@@ -27,7 +27,7 @@
   POSSIBILITY OF SUCH DAMAGE.
 */
 
-/* $Id: getc.S 1944 2009-04-01 23:12:20Z arcanum $ */
+/* $Id$ */
 
 #include "macros.inc"
 
diff --git a/libc/stdio/getchar.c b/libc/stdio/getchar.c
index ddfeab2..bbf7e3d 100644
--- a/libc/stdio/getchar.c
+++ b/libc/stdio/getchar.c
@@ -27,7 +27,7 @@
   POSSIBILITY OF SUCH DAMAGE.
 */
 
-/* $Id: getchar.c 1944 2009-04-01 23:12:20Z arcanum $ */
+/* $Id$ */
 
 #include <stdio.h>
 #include "sectionname.h"
diff --git a/libc/stdio/gets.c b/libc/stdio/gets.c
index 2585380..4f08de2 100644
--- a/libc/stdio/gets.c
+++ b/libc/stdio/gets.c
@@ -27,7 +27,7 @@
   POSSIBILITY OF SUCH DAMAGE.
 */
 
-/* $Id: gets.c 1944 2009-04-01 23:12:20Z arcanum $ */
+/* $Id$ */
 
 #include <stdio.h>
 #include "sectionname.h"
diff --git a/libc/stdio/iob.c b/libc/stdio/iob.c
index c3f07e6..d67f90c 100644
--- a/libc/stdio/iob.c
+++ b/libc/stdio/iob.c
@@ -27,7 +27,7 @@
   POSSIBILITY OF SUCH DAMAGE.
 */
 
-/* $Id: iob.c 847 2005-09-06 18:49:15Z joerg_wunsch $ */
+/* $Id$ */
 
 #include <stdint.h>
 #include <stdio.h>
diff --git a/libc/stdio/printf.c b/libc/stdio/printf.c
index 26f8620..dce6b89 100644
--- a/libc/stdio/printf.c
+++ b/libc/stdio/printf.c
@@ -27,7 +27,7 @@
   POSSIBILITY OF SUCH DAMAGE.
 */
 
-/* $Id: printf.c 1944 2009-04-01 23:12:20Z arcanum $ */
+/* $Id$ */
 
 #include <stdarg.h>
 #include <stdio.h>
diff --git a/libc/stdio/printf_p.c b/libc/stdio/printf_p.c
index 4de3721..6068fa5 100644
--- a/libc/stdio/printf_p.c
+++ b/libc/stdio/printf_p.c
@@ -27,7 +27,7 @@
   POSSIBILITY OF SUCH DAMAGE.
 */
 
-/* $Id: printf_p.c 1944 2009-04-01 23:12:20Z arcanum $ */
+/* $Id$ */
 
 #include <stdarg.h>
 #include <stdio.h>
diff --git a/libc/stdio/putc.S b/libc/stdio/putc.S
index 33c8906..bdc38a8 100644
--- a/libc/stdio/putc.S
+++ b/libc/stdio/putc.S
@@ -27,7 +27,7 @@
   POSSIBILITY OF SUCH DAMAGE.
 */
 
-/* $Id: putc.S 1944 2009-04-01 23:12:20Z arcanum $ */
+/* $Id$ */
 
 #include "macros.inc"
 
diff --git a/libc/stdio/putchar.c b/libc/stdio/putchar.c
index c35d481..a607d38 100644
--- a/libc/stdio/putchar.c
+++ b/libc/stdio/putchar.c
@@ -27,7 +27,7 @@
   POSSIBILITY OF SUCH DAMAGE.
 */
 
-/* $Id: putchar.c 1944 2009-04-01 23:12:20Z arcanum $ */
+/* $Id$ */
 
 #include <stdio.h>
 #include "sectionname.h"
diff --git a/libc/stdio/puts.c b/libc/stdio/puts.c
index 9f1bf38..a806b49 100644
--- a/libc/stdio/puts.c
+++ b/libc/stdio/puts.c
@@ -27,7 +27,7 @@
   POSSIBILITY OF SUCH DAMAGE.
 */
 
-/* $Id: puts.c 1944 2009-04-01 23:12:20Z arcanum $ */
+/* $Id$ */
 
 #include <stdio.h>
 #include "sectionname.h"
diff --git a/libc/stdio/puts_p.c b/libc/stdio/puts_p.c
index d45ae9b..125aee8 100644
--- a/libc/stdio/puts_p.c
+++ b/libc/stdio/puts_p.c
@@ -27,7 +27,7 @@
   POSSIBILITY OF SUCH DAMAGE.
 */
 
-/* $Id: puts_p.c 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 #if !defined(__AVR_TINY__)
 
diff --git a/libc/stdio/scanf.c b/libc/stdio/scanf.c
index cd35c79..4d972e3 100644
--- a/libc/stdio/scanf.c
+++ b/libc/stdio/scanf.c
@@ -27,7 +27,7 @@
   POSSIBILITY OF SUCH DAMAGE.
 */
 
-/* $Id: scanf.c 1944 2009-04-01 23:12:20Z arcanum $ */
+/* $Id$ */
 
 #include <stdarg.h>
 #include <stdio.h>
diff --git a/libc/stdio/scanf_p.c b/libc/stdio/scanf_p.c
index 291b59c..f226bdd 100644
--- a/libc/stdio/scanf_p.c
+++ b/libc/stdio/scanf_p.c
@@ -27,7 +27,7 @@
   POSSIBILITY OF SUCH DAMAGE.
 */
 
-/* $Id: scanf_p.c 1944 2009-04-01 23:12:20Z arcanum $ */
+/* $Id$ */
 
 #include <stdarg.h>
 #include <stdio.h>
diff --git a/libc/stdio/snprintf.c b/libc/stdio/snprintf.c
index a835588..4f8f448 100644
--- a/libc/stdio/snprintf.c
+++ b/libc/stdio/snprintf.c
@@ -27,7 +27,7 @@
   POSSIBILITY OF SUCH DAMAGE.
 */
 
-/* $Id: snprintf.c 1944 2009-04-01 23:12:20Z arcanum $ */
+/* $Id$ */
 
 #include <limits.h>
 #include <stdarg.h>
diff --git a/libc/stdio/snprintf_p.c b/libc/stdio/snprintf_p.c
index ea46003..10fb3ec 100644
--- a/libc/stdio/snprintf_p.c
+++ b/libc/stdio/snprintf_p.c
@@ -27,7 +27,7 @@
   POSSIBILITY OF SUCH DAMAGE.
 */
 
-/* $Id: snprintf_p.c 1944 2009-04-01 23:12:20Z arcanum $ */
+/* $Id$ */
 
 #include <limits.h>
 #include <stdarg.h>
diff --git a/libc/stdio/sprintf.c b/libc/stdio/sprintf.c
index 5b9abb0..da000a0 100644
--- a/libc/stdio/sprintf.c
+++ b/libc/stdio/sprintf.c
@@ -27,7 +27,7 @@
   POSSIBILITY OF SUCH DAMAGE.
 */
 
-/* $Id: sprintf.c 1944 2009-04-01 23:12:20Z arcanum $ */
+/* $Id$ */
 
 #include <limits.h>
 #include <stdarg.h>
diff --git a/libc/stdio/sprintf_p.c b/libc/stdio/sprintf_p.c
index eb9f5d0..94f1294 100644
--- a/libc/stdio/sprintf_p.c
+++ b/libc/stdio/sprintf_p.c
@@ -27,7 +27,7 @@
   POSSIBILITY OF SUCH DAMAGE.
 */
 
-/* $Id: sprintf_p.c 1944 2009-04-01 23:12:20Z arcanum $ */
+/* $Id$ */
 
 #include <limits.h>
 #include <stdarg.h>
diff --git a/libc/stdio/sscanf.c b/libc/stdio/sscanf.c
index c8ee9ff..00caa98 100644
--- a/libc/stdio/sscanf.c
+++ b/libc/stdio/sscanf.c
@@ -27,7 +27,7 @@
   POSSIBILITY OF SUCH DAMAGE.
 */
 
-/* $Id: sscanf.c 1944 2009-04-01 23:12:20Z arcanum $ */
+/* $Id$ */
 
 #include <limits.h>
 #include <stdarg.h>
diff --git a/libc/stdio/sscanf_p.c b/libc/stdio/sscanf_p.c
index 9fa1592..ed09230 100644
--- a/libc/stdio/sscanf_p.c
+++ b/libc/stdio/sscanf_p.c
@@ -27,7 +27,7 @@
   POSSIBILITY OF SUCH DAMAGE.
 */
 
-/* $Id: sscanf_p.c 1944 2009-04-01 23:12:20Z arcanum $ */
+/* $Id$ */
 
 #include <limits.h>
 #include <stdarg.h>
diff --git a/libc/stdio/stdio_private.h b/libc/stdio/stdio_private.h
index 1fa66f1..cd7b5d9 100644
--- a/libc/stdio/stdio_private.h
+++ b/libc/stdio/stdio_private.h
@@ -27,7 +27,7 @@
   POSSIBILITY OF SUCH DAMAGE.
 */
 
-/* $Id: stdio_private.h 847 2005-09-06 18:49:15Z joerg_wunsch $ */
+/* $Id$ */
 
 #include <stdint.h>
 #include <stdio.h>
diff --git a/libc/stdio/ultoa_invert.S b/libc/stdio/ultoa_invert.S
index 959c0e4..1c4dc13 100644
--- a/libc/stdio/ultoa_invert.S
+++ b/libc/stdio/ultoa_invert.S
@@ -26,7 +26,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: ultoa_invert.S 2191 2010-11-05 13:45:57Z arcanum $	*/
+/* $Id$	*/
 
 #if !defined(__AVR_TINY__)
 
diff --git a/libc/stdio/ungetc.c b/libc/stdio/ungetc.c
index 045e914..f649d7f 100644
--- a/libc/stdio/ungetc.c
+++ b/libc/stdio/ungetc.c
@@ -27,7 +27,7 @@
   POSSIBILITY OF SUCH DAMAGE.
 */
 
-/* $Id: ungetc.c 1944 2009-04-01 23:12:20Z arcanum $ */
+/* $Id$ */
 
 #include <stdio.h>
 #include "sectionname.h"
diff --git a/libc/stdio/vfprintf.c b/libc/stdio/vfprintf.c
index c7d733c..9fd30bc 100644
--- a/libc/stdio/vfprintf.c
+++ b/libc/stdio/vfprintf.c
@@ -31,7 +31,7 @@
 */
 
 /* From: Id: printf_p_new.c,v 1.1.1.9 2002/10/15 20:10:28 joerg_wunsch Exp */
-/* $Id: vfprintf.c 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 #if !defined(__AVR_TINY__)
 
diff --git a/libc/stdio/vfprintf_p.c b/libc/stdio/vfprintf_p.c
index 1fb2aa8..d725979 100644
--- a/libc/stdio/vfprintf_p.c
+++ b/libc/stdio/vfprintf_p.c
@@ -26,7 +26,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: vfprintf_p.c 1944 2009-04-01 23:12:20Z arcanum $ */
+/* $Id$ */
 
 #include <stdarg.h>
 #include <stdio.h>
diff --git a/libc/stdio/vfscanf.c b/libc/stdio/vfscanf.c
index 8f57884..8a483e6 100644
--- a/libc/stdio/vfscanf.c
+++ b/libc/stdio/vfscanf.c
@@ -30,7 +30,7 @@
   POSSIBILITY OF SUCH DAMAGE.
 */
 
-/* $Id: vfscanf.c 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 #if !defined(__AVR_TINY__)
 
diff --git a/libc/stdio/vfscanf_p.c b/libc/stdio/vfscanf_p.c
index bcbee61..bf020a6 100644
--- a/libc/stdio/vfscanf_p.c
+++ b/libc/stdio/vfscanf_p.c
@@ -26,7 +26,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: vfscanf_p.c 1944 2009-04-01 23:12:20Z arcanum $ */
+/* $Id$ */
 
 #include <stdarg.h>
 #include <stdio.h>
diff --git a/libc/stdio/vprintf.c b/libc/stdio/vprintf.c
index 0121913..6f0cf13 100644
--- a/libc/stdio/vprintf.c
+++ b/libc/stdio/vprintf.c
@@ -27,7 +27,7 @@
   POSSIBILITY OF SUCH DAMAGE.
 */
 
-/* $Id: vprintf.c 1944 2009-04-01 23:12:20Z arcanum $ */
+/* $Id$ */
 
 #include <stdarg.h>
 #include <stdio.h>
diff --git a/libc/stdio/vscanf.c b/libc/stdio/vscanf.c
index 13842ad..e920a81 100644
--- a/libc/stdio/vscanf.c
+++ b/libc/stdio/vscanf.c
@@ -27,7 +27,7 @@
   POSSIBILITY OF SUCH DAMAGE.
 */
 
-/* $Id: vscanf.c 1944 2009-04-01 23:12:20Z arcanum $ */
+/* $Id$ */
 
 #include <stdarg.h>
 #include <stdio.h>
diff --git a/libc/stdio/vsnprintf.c b/libc/stdio/vsnprintf.c
index ddd70db..7c6e042 100644
--- a/libc/stdio/vsnprintf.c
+++ b/libc/stdio/vsnprintf.c
@@ -27,7 +27,7 @@
   POSSIBILITY OF SUCH DAMAGE.
 */
 
-/* $Id: vsnprintf.c 1944 2009-04-01 23:12:20Z arcanum $ */
+/* $Id$ */
 
 #include <limits.h>
 #include <stdarg.h>
diff --git a/libc/stdio/vsnprintf_p.c b/libc/stdio/vsnprintf_p.c
index 9763f85..213fff5 100644
--- a/libc/stdio/vsnprintf_p.c
+++ b/libc/stdio/vsnprintf_p.c
@@ -27,7 +27,7 @@
   POSSIBILITY OF SUCH DAMAGE.
 */
 
-/* $Id: vsnprintf_p.c 1944 2009-04-01 23:12:20Z arcanum $ */
+/* $Id$ */
 
 #include <limits.h>
 #include <stdarg.h>
diff --git a/libc/stdio/vsprintf.c b/libc/stdio/vsprintf.c
index 83d2b74..722e379 100644
--- a/libc/stdio/vsprintf.c
+++ b/libc/stdio/vsprintf.c
@@ -27,7 +27,7 @@
   POSSIBILITY OF SUCH DAMAGE.
 */
 
-/* $Id: vsprintf.c 1944 2009-04-01 23:12:20Z arcanum $ */
+/* $Id$ */
 
 #include <limits.h>
 #include <stdarg.h>
diff --git a/libc/stdio/vsprintf_p.c b/libc/stdio/vsprintf_p.c
index e6d3122..fc361b4 100644
--- a/libc/stdio/vsprintf_p.c
+++ b/libc/stdio/vsprintf_p.c
@@ -27,7 +27,7 @@
   POSSIBILITY OF SUCH DAMAGE.
 */
 
-/* $Id: vsprintf_p.c 1944 2009-04-01 23:12:20Z arcanum $ */
+/* $Id$ */
 
 #include <limits.h>
 #include <stdarg.h>
diff --git a/libc/stdio/xtoa_fast.h b/libc/stdio/xtoa_fast.h
index e6df3cb..5ef6778 100644
--- a/libc/stdio/xtoa_fast.h
+++ b/libc/stdio/xtoa_fast.h
@@ -26,7 +26,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: xtoa_fast.h 1223 2007-02-18 13:33:09Z dmix $	*/
+/* $Id$	*/
 
 #ifndef	_XTOA_FAST_H_
 #define _XTOA_FAST_H_
diff --git a/libc/stdlib/Files.am b/libc/stdlib/Files.am
index e32729c..4b5da99 100644
--- a/libc/stdlib/Files.am
+++ b/libc/stdlib/Files.am
@@ -26,7 +26,7 @@
 # ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 # POSSIBILITY OF SUCH DAMAGE.
 #
-# $Id: Files.am 1381 2007-05-14 13:52:01Z joerg_wunsch $
+# $Id$
 #
 
 stdlib_a_c_sources = \
diff --git a/libc/stdlib/Makefile.am b/libc/stdlib/Makefile.am
index 72c0d21..27ae01c 100644
--- a/libc/stdlib/Makefile.am
+++ b/libc/stdlib/Makefile.am
@@ -26,7 +26,7 @@
 # ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 # POSSIBILITY OF SUCH DAMAGE.
 #
-# $Id: Makefile.am 802 2005-08-11 20:55:26Z joerg_wunsch $
+# $Id$
 #
 
 include $(top_srcdir)/libc/stdlib/Files.am
diff --git a/libc/stdlib/Rules.am b/libc/stdlib/Rules.am
index 61a817e..d503e25 100644
--- a/libc/stdlib/Rules.am
+++ b/libc/stdlib/Rules.am
@@ -26,7 +26,7 @@
 # ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 # POSSIBILITY OF SUCH DAMAGE.
 
-# $Id: Rules.am 802 2005-08-11 20:55:26Z joerg_wunsch $
+# $Id$
 
 include $(top_srcdir)/libc/stdlib/Files.am
 
diff --git a/libc/stdlib/abort.S b/libc/stdlib/abort.S
index c3b36e7..d85391e 100644
--- a/libc/stdlib/abort.S
+++ b/libc/stdlib/abort.S
@@ -26,7 +26,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: abort.S 1944 2009-04-01 23:12:20Z arcanum $	*/
+/* $Id$	*/
 
 #ifndef	__DOXYGEN__
 
diff --git a/libc/stdlib/assert.c b/libc/stdlib/assert.c
index 3e447a8..7f0a6e9 100644
--- a/libc/stdlib/assert.c
+++ b/libc/stdlib/assert.c
@@ -27,7 +27,7 @@
  * SUCH DAMAGE.
  */
 
-/* $Id: assert.c 1944 2009-04-01 23:12:20Z arcanum $ */
+/* $Id$ */
 
 #if defined(LIBC_SCCS) && !defined(lint)
 static char sccsid[] = "@(#)assert.c	8.1 (Berkeley) 6/4/93";
diff --git a/libc/stdlib/atof.S b/libc/stdlib/atof.S
index 2d2ca0b..48691c1 100644
--- a/libc/stdlib/atof.S
+++ b/libc/stdlib/atof.S
@@ -26,7 +26,7 @@
    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
    POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: atof.S 1944 2009-04-01 23:12:20Z arcanum $ */
+/* $Id$ */
 
 /** \ingroup avr_stdlib
     \fn  double atof (const char *nptr)
diff --git a/libc/stdlib/atoi.S b/libc/stdlib/atoi.S
index d790419..9f95d61 100644
--- a/libc/stdlib/atoi.S
+++ b/libc/stdlib/atoi.S
@@ -26,7 +26,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */  
 
-/* $Id: atoi.S 1944 2009-04-01 23:12:20Z arcanum $ */
+/* $Id$ */
 
  /*
    Contributors:
diff --git a/libc/stdlib/atol.S b/libc/stdlib/atol.S
index 7fc6d35..e42e913 100644
--- a/libc/stdlib/atol.S
+++ b/libc/stdlib/atol.S
@@ -26,7 +26,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: atol.S 1944 2009-04-01 23:12:20Z arcanum $ */
+/* $Id$ */
 
 /*
    atol.S
diff --git a/libc/stdlib/calloc.c b/libc/stdlib/calloc.c
index 733e20c..46c73dc 100644
--- a/libc/stdlib/calloc.c
+++ b/libc/stdlib/calloc.c
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE.
 */
-/* $Id: calloc.c 1944 2009-04-01 23:12:20Z arcanum $ */
+/* $Id$ */
 
 #include <stdlib.h>
 #include <string.h>
diff --git a/libc/stdlib/cty_isfalse.S b/libc/stdlib/cty_isfalse.S
index 65a7922..4d0bb6d 100644
--- a/libc/stdlib/cty_isfalse.S
+++ b/libc/stdlib/cty_isfalse.S
@@ -26,7 +26,7 @@
 ;; ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 ;; POSSIBILITY OF SUCH DAMAGE.
 ;;
-;; $Id: cty_isfalse.S 802 2005-08-11 20:55:26Z joerg_wunsch $
+;; $Id$
 ;;
 
 #define Lcty_isfalse 1
diff --git a/libc/stdlib/ctype.S b/libc/stdlib/ctype.S
index eb9b107..12ab217 100644
--- a/libc/stdlib/ctype.S
+++ b/libc/stdlib/ctype.S
@@ -26,7 +26,7 @@
 ;; ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 ;; POSSIBILITY OF SUCH DAMAGE.
 
-;; $Id: ctype.S 1944 2009-04-01 23:12:20Z arcanum $
+;; $Id$
 
 #if !defined(__DOXYGEN__)
 
diff --git a/libc/stdlib/dtoa_conv.h b/libc/stdlib/dtoa_conv.h
index dd43bd1..68ee12a 100644
--- a/libc/stdlib/dtoa_conv.h
+++ b/libc/stdlib/dtoa_conv.h
@@ -26,7 +26,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: dtoa_conv.h 1175 2007-01-14 15:18:18Z dmix $ */
+/* $Id$ */
 
 #ifndef	_DTOA_CONV_H
 #define	_DTOA_CONV_H
diff --git a/libc/stdlib/dtoa_prf.c b/libc/stdlib/dtoa_prf.c
index aa30fee..4903ecd 100644
--- a/libc/stdlib/dtoa_prf.c
+++ b/libc/stdlib/dtoa_prf.c
@@ -26,7 +26,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: dtoa_prf.c 1944 2009-04-01 23:12:20Z arcanum $ */
+/* $Id$ */
 
 #include "ftoa_engine.h"
 #include "dtoa_conv.h"
diff --git a/libc/stdlib/dtostre.c b/libc/stdlib/dtostre.c
index a4c9ea8..91894f3 100644
--- a/libc/stdlib/dtostre.c
+++ b/libc/stdlib/dtostre.c
@@ -26,7 +26,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: dtostre.c 2241 2011-05-11 12:59:48Z joerg_wunsch $ */
+/* $Id$ */
 
 #include <stdlib.h>
 #include <avr/pgmspace.h>
diff --git a/libc/stdlib/dtostrf.c b/libc/stdlib/dtostrf.c
index 20e119b..695a076 100644
--- a/libc/stdlib/dtostrf.c
+++ b/libc/stdlib/dtostrf.c
@@ -26,7 +26,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: dtostrf.c 1944 2009-04-01 23:12:20Z arcanum $ */
+/* $Id$ */
 
 #include <stdlib.h>
 #include "ftoa_engine.h"
diff --git a/libc/stdlib/exit.S b/libc/stdlib/exit.S
index cd693f4..5750c9f 100644
--- a/libc/stdlib/exit.S
+++ b/libc/stdlib/exit.S
@@ -26,7 +26,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: exit.S 1944 2009-04-01 23:12:20Z arcanum $ */
+/* $Id$ */
 
 #ifndef	__DOXYGEN__
 
diff --git a/libc/stdlib/ftoa_engine.S b/libc/stdlib/ftoa_engine.S
index 519d648..9a54866 100644
--- a/libc/stdlib/ftoa_engine.S
+++ b/libc/stdlib/ftoa_engine.S
@@ -26,7 +26,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: ftoa_engine.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 #if !defined(__AVR_TINY__)
 
diff --git a/libc/stdlib/isalnum.S b/libc/stdlib/isalnum.S
index 172f4e7..f506506 100644
--- a/libc/stdlib/isalnum.S
+++ b/libc/stdlib/isalnum.S
@@ -26,7 +26,7 @@
 ;; ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 ;; POSSIBILITY OF SUCH DAMAGE.
 ;;
-;; $Id: isalnum.S 802 2005-08-11 20:55:26Z joerg_wunsch $
+;; $Id$
 ;;
 
 #define Lisalnum 1
diff --git a/libc/stdlib/isalpha.S b/libc/stdlib/isalpha.S
index 566dc86..0be2993 100644
--- a/libc/stdlib/isalpha.S
+++ b/libc/stdlib/isalpha.S
@@ -26,7 +26,7 @@
 ;; ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 ;; POSSIBILITY OF SUCH DAMAGE.
 ;;
-;; $Id: isalpha.S 802 2005-08-11 20:55:26Z joerg_wunsch $
+;; $Id$
 ;;
 
 #define Lisalpha 1
diff --git a/libc/stdlib/isascii.S b/libc/stdlib/isascii.S
index 69fe6d6..914e8f4 100644
--- a/libc/stdlib/isascii.S
+++ b/libc/stdlib/isascii.S
@@ -26,7 +26,7 @@
 ;; ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 ;; POSSIBILITY OF SUCH DAMAGE.
 ;;
-;; $Id: isascii.S 802 2005-08-11 20:55:26Z joerg_wunsch $
+;; $Id$
 ;;
 
 #define Lisascii 1
diff --git a/libc/stdlib/isblank.S b/libc/stdlib/isblank.S
index 977df6c..bae3973 100644
--- a/libc/stdlib/isblank.S
+++ b/libc/stdlib/isblank.S
@@ -26,7 +26,7 @@
 ;; ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 ;; POSSIBILITY OF SUCH DAMAGE.
 ;;
-;; $Id: isblank.S 802 2005-08-11 20:55:26Z joerg_wunsch $
+;; $Id$
 ;;
 
 #define Lisblank 1
diff --git a/libc/stdlib/iscntrl.S b/libc/stdlib/iscntrl.S
index 639ae28..6467864 100644
--- a/libc/stdlib/iscntrl.S
+++ b/libc/stdlib/iscntrl.S
@@ -26,7 +26,7 @@
 ;; ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 ;; POSSIBILITY OF SUCH DAMAGE.
 ;;
-;; $Id: iscntrl.S 802 2005-08-11 20:55:26Z joerg_wunsch $
+;; $Id$
 ;;
 
 #define Liscntrl 1
diff --git a/libc/stdlib/isdigit.S b/libc/stdlib/isdigit.S
index 5c2fd80..03994f7 100644
--- a/libc/stdlib/isdigit.S
+++ b/libc/stdlib/isdigit.S
@@ -26,7 +26,7 @@
 ;; ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 ;; POSSIBILITY OF SUCH DAMAGE.
 ;;
-;; $Id: isdigit.S 802 2005-08-11 20:55:26Z joerg_wunsch $
+;; $Id$
 ;;
 
 #define Lisdigit 1
diff --git a/libc/stdlib/isprint.S b/libc/stdlib/isprint.S
index 8def858..2206da9 100644
--- a/libc/stdlib/isprint.S
+++ b/libc/stdlib/isprint.S
@@ -26,7 +26,7 @@
 ;; ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 ;; POSSIBILITY OF SUCH DAMAGE.
 ;;
-;; $Id: isprint.S 802 2005-08-11 20:55:26Z joerg_wunsch $
+;; $Id$
 ;;
 
 #define Lisprint 1
diff --git a/libc/stdlib/ispunct.S b/libc/stdlib/ispunct.S
index d906d89..7b8a629 100644
--- a/libc/stdlib/ispunct.S
+++ b/libc/stdlib/ispunct.S
@@ -26,7 +26,7 @@
 ;; ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 ;; POSSIBILITY OF SUCH DAMAGE.
 ;;
-;; $Id: ispunct.S 802 2005-08-11 20:55:26Z joerg_wunsch $
+;; $Id$
 ;;
 
 #define Lispunct 1
diff --git a/libc/stdlib/isspace.S b/libc/stdlib/isspace.S
index 46fbef4..715f5c2 100644
--- a/libc/stdlib/isspace.S
+++ b/libc/stdlib/isspace.S
@@ -26,7 +26,7 @@
 ;; ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 ;; POSSIBILITY OF SUCH DAMAGE.
 ;;
-;; $Id: isspace.S 802 2005-08-11 20:55:26Z joerg_wunsch $
+;; $Id$
 ;;
 
 #define Lisspace 1
diff --git a/libc/stdlib/isxdigit.S b/libc/stdlib/isxdigit.S
index e67c110..0cbf5e0 100644
--- a/libc/stdlib/isxdigit.S
+++ b/libc/stdlib/isxdigit.S
@@ -26,7 +26,7 @@
 ;; ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 ;; POSSIBILITY OF SUCH DAMAGE.
 ;;
-;; $Id: isxdigit.S 802 2005-08-11 20:55:26Z joerg_wunsch $
+;; $Id$
 ;;
 
 #define Lisxdigit 1
diff --git a/libc/stdlib/malloc.c b/libc/stdlib/malloc.c
index 7d2a2d7..70a847c 100644
--- a/libc/stdlib/malloc.c
+++ b/libc/stdlib/malloc.c
@@ -31,7 +31,7 @@
 */
  
  
-/* $Id: malloc.c 2149 2010-06-09 20:45:37Z joerg_wunsch $ */
+/* $Id$ */
 
 #include <stdlib.h>
 #include "sectionname.h"
diff --git a/libc/stdlib/rand.c b/libc/stdlib/rand.c
index 089c9a0..abc2080 100644
--- a/libc/stdlib/rand.c
+++ b/libc/stdlib/rand.c
@@ -28,7 +28,7 @@
  *
  * Posix rand_r function added May 1999 by Wes Peters <wes@softweyr.com>.
  *
- * $Id: rand.c 1944 2009-04-01 23:12:20Z arcanum $
+ * $Id$
  */
 
 /*
diff --git a/libc/stdlib/random.c b/libc/stdlib/random.c
index 3ade352..9952f3d 100644
--- a/libc/stdlib/random.c
+++ b/libc/stdlib/random.c
@@ -28,7 +28,7 @@
  *
  * Posix rand_r function added May 1999 by Wes Peters <wes@softweyr.com>.
  *
- * $Id: random.c 1944 2009-04-01 23:12:20Z arcanum $
+ * $Id$
  */
 
 /*
diff --git a/libc/stdlib/realloc.c b/libc/stdlib/realloc.c
index 6fac39c..eeaae4c 100644
--- a/libc/stdlib/realloc.c
+++ b/libc/stdlib/realloc.c
@@ -28,7 +28,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE.
 */
-/* $Id: realloc.c 2127 2010-06-07 14:49:37Z joerg_wunsch $ */
+/* $Id$ */
 
 #include <stdlib.h>
 #include <string.h>
diff --git a/libc/stdlib/setjmp.S b/libc/stdlib/setjmp.S
index 7d21b3c..a5f183d 100644
--- a/libc/stdlib/setjmp.S
+++ b/libc/stdlib/setjmp.S
@@ -26,11 +26,9 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: setjmp.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 
-#if !defined(__AVR_TINY__)
-
 
 /*
    setjmp.S
@@ -42,12 +40,13 @@
 /*
    jmp_buf:
 	offset	size	description
-	 0	16	call-saved registers (r2-r17)
-	16	 2	frame pointer (r29:r28)
-	18	 2	stack pointer (SPH:SPL)
-	20	 1	status register (SREG)
-	21	 2/3	return address (PC) (2 bytes used for <=128Kw flash)
-	23/24 = total size
+	 0	16/4	call-saved registers (r2-r17)
+                        (AVR tiny10 family has only 4 call saved registers (r18-r21))
+	16/4	 2	frame pointer (r29:r28)
+	18/6	 2	stack pointer (SPH:SPL)
+	20/8	 1	status register (SREG)
+	21/9	 2/3	return address (PC) (2 bytes used for <=128Kw flash)
+	23/24/11 = total size (AVR tiny10 family always has 2 bytes PC)
    All multibytes are stored as little-endian.
 
    int setjmp(jmp_buf __jmpb);
@@ -82,7 +81,11 @@
 _U(setjmp):
 	X_movw	XL, jmpb_lo
   ; save call-saved registers and frame pointer
+#if !defined(__AVR_TINY__)
 	.irp	.L_regno, 2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,28,29
+#else
+	.irp	.L_regno, 18,19,20,21,28,29
+#endif
 	st	X+, r\.L_regno
 	.endr
   ; get return address
@@ -129,7 +132,11 @@ _U(longjmp):
 	cpc	ret_hi, __zero_reg__
 	adc	ret_lo, __zero_reg__
   ; restore call-saved registers and frame pointer
+#if !defined(__AVR_TINY__)
 	.irp	.L_regno, 2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,28,29
+#else
+	.irp	.L_regno, 18,19,20,21,28,29
+#endif
 	ld	r\.L_regno, X+
 	.endr
   ; restore stack pointer (SP value before the setjmp() call) and SREG
@@ -169,5 +176,3 @@ _U(longjmp):
 	.size	_U(longjmp), . - _U(longjmp)
 
 #endif	/* !__DOXYGEN__ */
-
-#endif /* !defined(__AVR_TINY__) */
diff --git a/libc/stdlib/stdlib_private.h b/libc/stdlib/stdlib_private.h
index f623383..4179701 100644
--- a/libc/stdlib/stdlib_private.h
+++ b/libc/stdlib/stdlib_private.h
@@ -27,7 +27,7 @@
   POSSIBILITY OF SUCH DAMAGE.
 */
 
-/* $Id: stdlib_private.h 1657 2008-03-24 17:11:08Z arcanum $ */
+/* $Id$ */
 
 #include <inttypes.h>
 #include <stdlib.h>
diff --git a/libc/stdlib/strtod.c b/libc/stdlib/strtod.c
index b3ed2e4..1671c03 100644
--- a/libc/stdlib/strtod.c
+++ b/libc/stdlib/strtod.c
@@ -28,7 +28,7 @@
    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
    POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: strtod.c 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 
 #if !defined(__AVR_TINY__)
diff --git a/libc/stdlib/strtol.c b/libc/stdlib/strtol.c
index a25bc8a..ed04041 100644
--- a/libc/stdlib/strtol.c
+++ b/libc/stdlib/strtol.c
@@ -27,7 +27,7 @@
  * OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
  * SUCH DAMAGE.
  *
- * $Id: strtol.c 1944 2009-04-01 23:12:20Z arcanum $
+ * $Id$
  */
 
 #include <limits.h>
diff --git a/libc/stdlib/strtoul.c b/libc/stdlib/strtoul.c
index c55985c..ae237d3 100644
--- a/libc/stdlib/strtoul.c
+++ b/libc/stdlib/strtoul.c
@@ -27,7 +27,7 @@
  * OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
  * SUCH DAMAGE.
  *
- * $Id: strtoul.c 1944 2009-04-01 23:12:20Z arcanum $
+ * $Id$
  */
 
 #include <limits.h>
diff --git a/libc/stdlib/toascii.S b/libc/stdlib/toascii.S
index ede2a6d..60f0c94 100644
--- a/libc/stdlib/toascii.S
+++ b/libc/stdlib/toascii.S
@@ -26,7 +26,7 @@
 ;; ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 ;; POSSIBILITY OF SUCH DAMAGE.
 ;;
-;; $Id: toascii.S 802 2005-08-11 20:55:26Z joerg_wunsch $
+;; $Id$
 ;;
 
 #define Ltoascii 1
diff --git a/libc/stdlib/tolower.S b/libc/stdlib/tolower.S
index 6bdd57b..f981010 100644
--- a/libc/stdlib/tolower.S
+++ b/libc/stdlib/tolower.S
@@ -26,7 +26,7 @@
 ;; ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 ;; POSSIBILITY OF SUCH DAMAGE.
 ;;
-;; $Id: tolower.S 802 2005-08-11 20:55:26Z joerg_wunsch $
+;; $Id$
 ;;
 
 #define Ltolower 1
diff --git a/libc/stdlib/toupper.S b/libc/stdlib/toupper.S
index 1c29039..0b20f85 100644
--- a/libc/stdlib/toupper.S
+++ b/libc/stdlib/toupper.S
@@ -26,7 +26,7 @@
 ;; ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 ;; POSSIBILITY OF SUCH DAMAGE.
 ;;
-;; $Id: toupper.S 802 2005-08-11 20:55:26Z joerg_wunsch $
+;; $Id$
 ;;
 
 #define Ltoupper 1
diff --git a/libc/string/Files.am b/libc/string/Files.am
index ae18ac1..ccb99f6 100644
--- a/libc/string/Files.am
+++ b/libc/string/Files.am
@@ -26,7 +26,7 @@
 # ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 # POSSIBILITY OF SUCH DAMAGE.
 #
-# $Id: Files.am 1743 2008-08-20 15:27:33Z arcanum $
+# $Id$
 #
 
 string_a_c_sources = \
diff --git a/libc/string/Makefile.am b/libc/string/Makefile.am
index 0cdd022..30ec208 100644
--- a/libc/string/Makefile.am
+++ b/libc/string/Makefile.am
@@ -26,7 +26,7 @@
 # ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 # POSSIBILITY OF SUCH DAMAGE.
 #
-# $Id: Makefile.am 1727 2008-08-01 22:05:37Z arcanum $
+# $Id$
 #
 
 include $(top_srcdir)/libc/string/Files.am
diff --git a/libc/string/Rules.am b/libc/string/Rules.am
index bf311ee..a8c4507 100644
--- a/libc/string/Rules.am
+++ b/libc/string/Rules.am
@@ -26,7 +26,7 @@
 # ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 # POSSIBILITY OF SUCH DAMAGE.
 
-# $Id: Rules.am 802 2005-08-11 20:55:26Z joerg_wunsch $
+# $Id$
 
 include $(top_srcdir)/libc/string/Files.am
 
diff --git a/libc/string/ffs.S b/libc/string/ffs.S
index b129248..5ec181b 100644
--- a/libc/string/ffs.S
+++ b/libc/string/ffs.S
@@ -26,7 +26,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: ffs.S 2166 2010-06-13 13:14:47Z joerg_wunsch $ */
+/* $Id$ */
 
 /** \file */
 
diff --git a/libc/string/ffsl.S b/libc/string/ffsl.S
index 172991b..85a0276 100644
--- a/libc/string/ffsl.S
+++ b/libc/string/ffsl.S
@@ -26,7 +26,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: ffsl.S 2166 2010-06-13 13:14:47Z joerg_wunsch $ */
+/* $Id$ */
 
 /** \file */
 
diff --git a/libc/string/ffsll.S b/libc/string/ffsll.S
index 13bdf30..7e8b5f0 100644
--- a/libc/string/ffsll.S
+++ b/libc/string/ffsll.S
@@ -26,7 +26,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: ffsll.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 #if !defined(__AVR_TINY__)
 
diff --git a/libc/string/memccpy.S b/libc/string/memccpy.S
index 0ae321a..71acc9c 100644
--- a/libc/string/memccpy.S
+++ b/libc/string/memccpy.S
@@ -26,7 +26,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: memccpy.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 /** \file */
 
diff --git a/libc/string/memchr.S b/libc/string/memchr.S
index 871b064..558b56a 100644
--- a/libc/string/memchr.S
+++ b/libc/string/memchr.S
@@ -26,7 +26,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: memchr.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 /** \file */
 /** \ingroup avr_string
diff --git a/libc/string/memcmp.S b/libc/string/memcmp.S
index 0afd43b..858360e 100644
--- a/libc/string/memcmp.S
+++ b/libc/string/memcmp.S
@@ -26,7 +26,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
   
-/* $Id: memcmp.S 1944 2009-04-01 23:12:20Z arcanum $ */
+/* $Id$ */
 
 /** \file */
 /** \ingroup avr_string
diff --git a/libc/string/memcpy.S b/libc/string/memcpy.S
index 5536cee..1431624 100644
--- a/libc/string/memcpy.S
+++ b/libc/string/memcpy.S
@@ -26,7 +26,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: memcpy.S 1944 2009-04-01 23:12:20Z arcanum $ */
+/* $Id$ */
 
 /** \file */
 /** \ingroup avr_string
diff --git a/libc/string/memmem.S b/libc/string/memmem.S
index 111e8da..0b76398 100644
--- a/libc/string/memmem.S
+++ b/libc/string/memmem.S
@@ -26,7 +26,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: memmem.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 /** \file */
 
diff --git a/libc/string/memmem_P.S b/libc/string/memmem_P.S
index d3913aa..f88d85f 100644
--- a/libc/string/memmem_P.S
+++ b/libc/string/memmem_P.S
@@ -26,7 +26,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: memmem_P.S 1944 2009-04-01 23:12:20Z arcanum $	*/
+/* $Id$	*/
 
 #define Lprogmem  1
 #include "memmem.S"
diff --git a/libc/string/memmove.S b/libc/string/memmove.S
index 1ae2155..91fff4b 100644
--- a/libc/string/memmove.S
+++ b/libc/string/memmove.S
@@ -26,7 +26,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: memmove.S 1944 2009-04-01 23:12:20Z arcanum $ */
+/* $Id$ */
 
 /** \file */
 /** \ingroup avr_string
diff --git a/libc/string/memrchr.S b/libc/string/memrchr.S
index 6636716..1f18241 100644
--- a/libc/string/memrchr.S
+++ b/libc/string/memrchr.S
@@ -26,7 +26,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: memrchr.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 /** \file */
 /** \ingroup avr_string
diff --git a/libc/string/memset.S b/libc/string/memset.S
index 3f627f1..39679d7 100644
--- a/libc/string/memset.S
+++ b/libc/string/memset.S
@@ -26,7 +26,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: memset.S 1944 2009-04-01 23:12:20Z arcanum $ */
+/* $Id$ */
 
 /** \file */
 /** \ingroup avr_string
diff --git a/libc/string/strcasecmp.S b/libc/string/strcasecmp.S
index a5725e1..07b1c43 100644
--- a/libc/string/strcasecmp.S
+++ b/libc/string/strcasecmp.S
@@ -27,7 +27,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: strcasecmp.S 1944 2009-04-01 23:12:20Z arcanum $ */
+/* $Id$ */
 
 /*
    strcasecmp.S
diff --git a/libc/string/strcasestr.S b/libc/string/strcasestr.S
index a90c445..f4abbea 100644
--- a/libc/string/strcasestr.S
+++ b/libc/string/strcasestr.S
@@ -26,7 +26,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: strcasestr.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 /** \file */
 
diff --git a/libc/string/strcasestr_P.S b/libc/string/strcasestr_P.S
index 026ef49..970d71e 100644
--- a/libc/string/strcasestr_P.S
+++ b/libc/string/strcasestr_P.S
@@ -26,7 +26,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
   
-/* $Id: strcasestr_P.S 1944 2009-04-01 23:12:20Z arcanum $	*/
+/* $Id$	*/
 
 #define Lprogmem  1
 #include "strcasestr.S"
diff --git a/libc/string/strcat.S b/libc/string/strcat.S
index d07105e..30b5dc3 100644
--- a/libc/string/strcat.S
+++ b/libc/string/strcat.S
@@ -26,7 +26,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: strcat.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 /** \file */
 /** \ingroup avr_string
diff --git a/libc/string/strchr.S b/libc/string/strchr.S
index f442fd7..cdeb7aa 100644
--- a/libc/string/strchr.S
+++ b/libc/string/strchr.S
@@ -26,7 +26,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: strchr.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 /** \file */
 
diff --git a/libc/string/strchrnul.S b/libc/string/strchrnul.S
index 3b0f776..3df4859 100644
--- a/libc/string/strchrnul.S
+++ b/libc/string/strchrnul.S
@@ -26,7 +26,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: strchrnul.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 /** \file */
 /** \ingroup avr_string
diff --git a/libc/string/strcmp.S b/libc/string/strcmp.S
index 0c6f868..b3000e7 100644
--- a/libc/string/strcmp.S
+++ b/libc/string/strcmp.S
@@ -26,7 +26,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: strcmp.S 1944 2009-04-01 23:12:20Z arcanum $ */
+/* $Id$ */
 
 /** \file */
 
diff --git a/libc/string/strcpy.S b/libc/string/strcpy.S
index e401f8b..69276af 100644
--- a/libc/string/strcpy.S
+++ b/libc/string/strcpy.S
@@ -26,7 +26,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: strcpy.S 1944 2009-04-01 23:12:20Z arcanum $ */
+/* $Id$ */
 
 /** \file */
 /** \ingroup avr_string
diff --git a/libc/string/strcspn.S b/libc/string/strcspn.S
index 0a11324..ff2d77a 100644
--- a/libc/string/strcspn.S
+++ b/libc/string/strcspn.S
@@ -26,7 +26,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: strcspn.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 /** \file */
 /** \ingroup avr_string
diff --git a/libc/string/strdup.c b/libc/string/strdup.c
index 55cdef2..c130953 100644
--- a/libc/string/strdup.c
+++ b/libc/string/strdup.c
@@ -26,7 +26,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: strdup.c 1944 2009-04-01 23:12:20Z arcanum $ */
+/* $Id$ */
 
 #include <stdlib.h>
 #include <string.h>
diff --git a/libc/string/strlcat.S b/libc/string/strlcat.S
index c14218a..4a1d0cc 100644
--- a/libc/string/strlcat.S
+++ b/libc/string/strlcat.S
@@ -33,7 +33,7 @@
 
 */
 
-/* $Id: strlcat.S 2267 2011-12-29 07:53:03Z joerg_wunsch $ */
+/* $Id$ */
 
 /** \file */
 
diff --git a/libc/string/strlcpy.S b/libc/string/strlcpy.S
index cb5bf76..c417b74 100644
--- a/libc/string/strlcpy.S
+++ b/libc/string/strlcpy.S
@@ -33,7 +33,7 @@
 
 */
 
-/* $Id: strlcpy.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 /** \file */
 
diff --git a/libc/string/strlen.S b/libc/string/strlen.S
index 0f1ca7a..21af572 100644
--- a/libc/string/strlen.S
+++ b/libc/string/strlen.S
@@ -26,7 +26,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: strlen.S 1944 2009-04-01 23:12:20Z arcanum $ */
+/* $Id$ */
 
 /** \file */
 /** \ingroup avr_string
diff --git a/libc/string/strlwr.S b/libc/string/strlwr.S
index 3cebf9d..8af1e6e 100644
--- a/libc/string/strlwr.S
+++ b/libc/string/strlwr.S
@@ -27,7 +27,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: strlwr.S 1944 2009-04-01 23:12:20Z arcanum $ */
+/* $Id$ */
 
 /*
    strlwr.S
diff --git a/libc/string/strncasecmp.S b/libc/string/strncasecmp.S
index 3d0f303..ebcf7e4 100644
--- a/libc/string/strncasecmp.S
+++ b/libc/string/strncasecmp.S
@@ -27,7 +27,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: strncasecmp.S 1944 2009-04-01 23:12:20Z arcanum $ */
+/* $Id$ */
 
 /*
    strncasecmp.S
diff --git a/libc/string/strncat.S b/libc/string/strncat.S
index 4a7cf22..baed2e8 100644
--- a/libc/string/strncat.S
+++ b/libc/string/strncat.S
@@ -26,7 +26,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: strncat.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 /** \file */
 /** \ingroup avr_string
diff --git a/libc/string/strncmp.S b/libc/string/strncmp.S
index 8e7c481..d468c80 100644
--- a/libc/string/strncmp.S
+++ b/libc/string/strncmp.S
@@ -26,7 +26,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: strncmp.S 1944 2009-04-01 23:12:20Z arcanum $ */
+/* $Id$ */
 
 /** \file */
 /** \ingroup avr_string
diff --git a/libc/string/strncpy.S b/libc/string/strncpy.S
index dbaf6e2..fef509e 100644
--- a/libc/string/strncpy.S
+++ b/libc/string/strncpy.S
@@ -26,7 +26,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: strncpy.S 1944 2009-04-01 23:12:20Z arcanum $ */
+/* $Id$ */
 
 /** \file */
 /** \ingroup avr_string
diff --git a/libc/string/strnlen.S b/libc/string/strnlen.S
index 2454b8c..6211bc6 100644
--- a/libc/string/strnlen.S
+++ b/libc/string/strnlen.S
@@ -26,7 +26,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: strnlen.S 1944 2009-04-01 23:12:20Z arcanum $ */
+/* $Id$ */
 
 /** \file */
 /** \ingroup avr_string
diff --git a/libc/string/strpbrk.S b/libc/string/strpbrk.S
index a24a872..18793ac 100644
--- a/libc/string/strpbrk.S
+++ b/libc/string/strpbrk.S
@@ -26,7 +26,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: strpbrk.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 /** \file */
 /** \ingroup avr_string
diff --git a/libc/string/strrchr.S b/libc/string/strrchr.S
index a035b32..f95a122 100644
--- a/libc/string/strrchr.S
+++ b/libc/string/strrchr.S
@@ -26,7 +26,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: strrchr.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 /** \file */
 /** \ingroup avr_string
diff --git a/libc/string/strrev.S b/libc/string/strrev.S
index 21fe708..af53aaf 100644
--- a/libc/string/strrev.S
+++ b/libc/string/strrev.S
@@ -27,7 +27,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: strrev.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 /*
    strrev.S
diff --git a/libc/string/strsep.S b/libc/string/strsep.S
index 3c5bb66..4b8f082 100644
--- a/libc/string/strsep.S
+++ b/libc/string/strsep.S
@@ -27,7 +27,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: strsep.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 /** \file */
 
diff --git a/libc/string/strspn.S b/libc/string/strspn.S
index 381ca4f..54bf010 100644
--- a/libc/string/strspn.S
+++ b/libc/string/strspn.S
@@ -26,7 +26,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: strspn.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 /** \file */
 /** \ingroup avr_string
diff --git a/libc/string/strstr.S b/libc/string/strstr.S
index 3e97a96..0ddca79 100644
--- a/libc/string/strstr.S
+++ b/libc/string/strstr.S
@@ -27,7 +27,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: strstr.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 /*
    strstr.S
diff --git a/libc/string/strtok.c b/libc/string/strtok.c
index c002ee1..f7a15ab 100644
--- a/libc/string/strtok.c
+++ b/libc/string/strtok.c
@@ -26,7 +26,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: strtok.c 1944 2009-04-01 23:12:20Z arcanum $ */
+/* $Id$ */
 
 /** \file */
 /** \ingroup avr_string
diff --git a/libc/string/strtok_r.S b/libc/string/strtok_r.S
index 542597f..dab22c3 100644
--- a/libc/string/strtok_r.S
+++ b/libc/string/strtok_r.S
@@ -28,7 +28,7 @@
   POSSIBILITY OF SUCH DAMAGE.
 */
 
-/* $Id: strtok_r.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 /** \file */
 
diff --git a/libc/string/strupr.S b/libc/string/strupr.S
index 6f16ce5..2950b3c 100644
--- a/libc/string/strupr.S
+++ b/libc/string/strupr.S
@@ -27,7 +27,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: strupr.S 1944 2009-04-01 23:12:20Z arcanum $ */
+/* $Id$ */
 
 /*
    strupr.S
diff --git a/libm/Makefile.am b/libm/Makefile.am
index 555c5ba..e611d21 100644
--- a/libm/Makefile.am
+++ b/libm/Makefile.am
@@ -26,7 +26,7 @@
 # ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 # POSSIBILITY OF SUCH DAMAGE.
 #
-# $Id: Makefile.am 802 2005-08-11 20:55:26Z joerg_wunsch $
+# $Id$
 #
 
 SUBDIRS = fplib
diff --git a/libm/fplib/Files.am b/libm/fplib/Files.am
index 5490f93..e9cb0e8 100644
--- a/libm/fplib/Files.am
+++ b/libm/fplib/Files.am
@@ -26,7 +26,7 @@
 # ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 # POSSIBILITY OF SUCH DAMAGE.
 #
-# $Id: Files.am 1961 2009-05-24 06:10:27Z dmix $
+# $Id$
 #
 
 libm_a_c_sources = 
diff --git a/libm/fplib/Makefile.am b/libm/fplib/Makefile.am
index c456de5..9d46b7a 100644
--- a/libm/fplib/Makefile.am
+++ b/libm/fplib/Makefile.am
@@ -26,7 +26,7 @@
 # ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 # POSSIBILITY OF SUCH DAMAGE.
 #
-# $Id: Makefile.am 802 2005-08-11 20:55:26Z joerg_wunsch $
+# $Id$
 #
 
 include $(top_srcdir)/libm/fplib/Files.am
diff --git a/libm/fplib/Rules.am b/libm/fplib/Rules.am
index 398b5d2..395aad3 100644
--- a/libm/fplib/Rules.am
+++ b/libm/fplib/Rules.am
@@ -26,7 +26,7 @@
 # ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 # POSSIBILITY OF SUCH DAMAGE.
 
-# $Id: Rules.am 802 2005-08-11 20:55:26Z joerg_wunsch $
+# $Id$
 
 include $(top_srcdir)/libm/fplib/Files.am
 
diff --git a/libm/fplib/acos.S b/libm/fplib/acos.S
index 1ec9cda..7fa5e20 100644
--- a/libm/fplib/acos.S
+++ b/libm/fplib/acos.S
@@ -27,7 +27,7 @@
    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
    POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: acos.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 /* float acos (float x);
      The acos() function calculates the arc cosine of x; that is the value
diff --git a/libm/fplib/addsf3.S b/libm/fplib/addsf3.S
index 32320a9..5697db2 100644
--- a/libm/fplib/addsf3.S
+++ b/libm/fplib/addsf3.S
@@ -27,7 +27,7 @@
    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
    POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: addsf3.S 1174 2007-01-14 15:13:54Z dmix $ */
+/* $Id$ */
 
 /* float __subsf3 (float, float);
    float __addsf3 (float, float);
diff --git a/libm/fplib/addsf3x.S b/libm/fplib/addsf3x.S
index b2af374..27a5385 100644
--- a/libm/fplib/addsf3x.S
+++ b/libm/fplib/addsf3x.S
@@ -27,7 +27,7 @@
    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
    POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: addsf3x.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 /* <non_standart> __addsf3x (float_40 A, float_40 B);
      Internal function to add float point numbers.
diff --git a/libm/fplib/asin.S b/libm/fplib/asin.S
index 70e4fc3..f00c86e 100644
--- a/libm/fplib/asin.S
+++ b/libm/fplib/asin.S
@@ -27,7 +27,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: asin.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 /* float asin (float A);
      The asin() function returns the arc sine in radians and the value is
diff --git a/libm/fplib/asmdef.h b/libm/fplib/asmdef.h
index 14eb9fc..415ae7f 100644
--- a/libm/fplib/asmdef.h
+++ b/libm/fplib/asmdef.h
@@ -26,7 +26,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: asmdef.h 1815 2008-12-06 03:28:42Z dmix $	*/
+/* $Id$	*/
 
 #ifndef	_ASMDEF_H
 #define _ASMDEF_H
diff --git a/libm/fplib/atan.S b/libm/fplib/atan.S
index 24c2060..a43bab4 100644
--- a/libm/fplib/atan.S
+++ b/libm/fplib/atan.S
@@ -27,7 +27,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: atan.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 /* float atan (float A);
      The atan() function calculates the arc tangent of A; that is
diff --git a/libm/fplib/atan2.S b/libm/fplib/atan2.S
index 1d109ec..4792679 100644
--- a/libm/fplib/atan2.S
+++ b/libm/fplib/atan2.S
@@ -27,7 +27,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: atan2.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 /* float atan2 (float A, float B);	// A is y coord, B is x coord.
      The atan2() function calculates the arc tangent of the two variables
diff --git a/libm/fplib/cbrt.S b/libm/fplib/cbrt.S
index cfcbec9..0de63f1 100644
--- a/libm/fplib/cbrt.S
+++ b/libm/fplib/cbrt.S
@@ -26,7 +26,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: cbrt.S 2191 2010-11-05 13:45:57Z arcanum $	*/
+/* $Id$	*/
 
 #if !defined(__AVR_TINY__)
 
diff --git a/libm/fplib/ceil.S b/libm/fplib/ceil.S
index 3573c48..c40b3d6 100644
--- a/libm/fplib/ceil.S
+++ b/libm/fplib/ceil.S
@@ -27,7 +27,7 @@
    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
    POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: ceil.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 /* double ceil (double x);
      The ceil() function rounds x up to the nearest integer.
diff --git a/libm/fplib/cmpsf2.S b/libm/fplib/cmpsf2.S
index 47319d9..8f40621 100644
--- a/libm/fplib/cmpsf2.S
+++ b/libm/fplib/cmpsf2.S
@@ -27,7 +27,7 @@
    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
    POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: cmpsf2.S 1652 2008-03-22 04:04:43Z dmix $ */
+/* $Id$ */
 
 #include "fp32def.h"
 #include "asmdef.h"
diff --git a/libm/fplib/copysign.S b/libm/fplib/copysign.S
index 4ade9c1..a88c5fa 100644
--- a/libm/fplib/copysign.S
+++ b/libm/fplib/copysign.S
@@ -27,7 +27,7 @@
    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
    POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: copysign.S 1173 2007-01-14 15:04:40Z dmix $ */
+/* $Id$ */
 
 #include "fp32def.h"
 #include "asmdef.h"
diff --git a/libm/fplib/cos.S b/libm/fplib/cos.S
index d8961d8..78256e0 100644
--- a/libm/fplib/cos.S
+++ b/libm/fplib/cos.S
@@ -27,7 +27,7 @@
    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
    POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: cos.S 1174 2007-01-14 15:13:54Z dmix $ */
+/* $Id$ */
 
 #include "fp32def.h"
 #include "asmdef.h"
diff --git a/libm/fplib/cosh.S b/libm/fplib/cosh.S
index 7b1073a..aa8e3dd 100644
--- a/libm/fplib/cosh.S
+++ b/libm/fplib/cosh.S
@@ -27,7 +27,7 @@
    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
    POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: cosh.S 1174 2007-01-14 15:13:54Z dmix $ */
+/* $Id$ */
 
 #include "fp32def.h"
 #include "asmdef.h"
diff --git a/libm/fplib/divsf3.S b/libm/fplib/divsf3.S
index b390279..d02d7f4 100644
--- a/libm/fplib/divsf3.S
+++ b/libm/fplib/divsf3.S
@@ -27,7 +27,7 @@
    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
    POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: divsf3.S 1174 2007-01-14 15:13:54Z dmix $ */
+/* $Id$ */
 
 /* float __divsf3 (float x, float y);
      Return x/y.
diff --git a/libm/fplib/divsf3x.S b/libm/fplib/divsf3x.S
index 1371341..52cf0ec 100644
--- a/libm/fplib/divsf3x.S
+++ b/libm/fplib/divsf3x.S
@@ -27,7 +27,7 @@
    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
    POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: divsf3x.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 /* <non_standart> __divsf3x (float A, float B);
    Output:
diff --git a/libm/fplib/exp.S b/libm/fplib/exp.S
index 0844a9c..155b320 100644
--- a/libm/fplib/exp.S
+++ b/libm/fplib/exp.S
@@ -27,7 +27,7 @@
    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
    POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: exp.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 #if !defined(__AVR_TINY__)
 
diff --git a/libm/fplib/fdim.S b/libm/fplib/fdim.S
index c3410a2..e4148f7 100644
--- a/libm/fplib/fdim.S
+++ b/libm/fplib/fdim.S
@@ -27,7 +27,7 @@
    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
    POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: fdim.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 #if !defined(__AVR_TINY__)
 
diff --git a/libm/fplib/fixsfdi.S b/libm/fplib/fixsfdi.S
index 68cd53a..ba9c1a4 100644
--- a/libm/fplib/fixsfdi.S
+++ b/libm/fplib/fixsfdi.S
@@ -27,7 +27,7 @@
    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
    POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: fixsfdi.S 1173 2007-01-14 15:04:40Z dmix $ */
+/* $Id$ */
 
 #include "fp32def.h"
 #include "asmdef.h"
diff --git a/libm/fplib/fixsfsi.S b/libm/fplib/fixsfsi.S
index 2e10afd..4e463c0 100644
--- a/libm/fplib/fixsfsi.S
+++ b/libm/fplib/fixsfsi.S
@@ -27,7 +27,7 @@
    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
    POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: fixsfsi.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 #if !defined(__AVR_TINY__)
 
diff --git a/libm/fplib/fixunssfsi.S b/libm/fplib/fixunssfsi.S
index a3bc196..6d0e2d2 100644
--- a/libm/fplib/fixunssfsi.S
+++ b/libm/fplib/fixunssfsi.S
@@ -27,7 +27,7 @@
    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
    POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: fixunssfsi.S 1487 2007-12-01 02:12:55Z dmix $ */
+/* $Id$ */
 
 #include "fp32def.h"
 #include "asmdef.h"
diff --git a/libm/fplib/floatdisf.S b/libm/fplib/floatdisf.S
index 79732ab..e3a33bc 100644
--- a/libm/fplib/floatdisf.S
+++ b/libm/fplib/floatdisf.S
@@ -27,7 +27,7 @@
    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
    POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: floatdisf.S 1173 2007-01-14 15:04:40Z dmix $ */
+/* $Id$ */
 
 /* float __floatdisf (long long x)
    Input:
diff --git a/libm/fplib/floatsisf.S b/libm/fplib/floatsisf.S
index d5edd70..3e29c24 100644
--- a/libm/fplib/floatsisf.S
+++ b/libm/fplib/floatsisf.S
@@ -27,7 +27,7 @@
    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
    POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: floatsisf.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 /* float __floatsisf (long)
    float __floatunsisf (unsigned long)
diff --git a/libm/fplib/floatundisf.S b/libm/fplib/floatundisf.S
index f292ddf..a1c77f9 100644
--- a/libm/fplib/floatundisf.S
+++ b/libm/fplib/floatundisf.S
@@ -27,7 +27,7 @@
    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
    POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: floatundisf.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 /* float __floatundisf (unsigned long long x)
 
diff --git a/libm/fplib/floor.S b/libm/fplib/floor.S
index ea0a140..f408a85 100644
--- a/libm/fplib/floor.S
+++ b/libm/fplib/floor.S
@@ -27,7 +27,7 @@
    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
    POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: floor.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 #if !defined(__AVR_TINY__)
 
diff --git a/libm/fplib/fma.S b/libm/fplib/fma.S
index bdbc77f..7bc0321 100644
--- a/libm/fplib/fma.S
+++ b/libm/fplib/fma.S
@@ -27,7 +27,7 @@
    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
    POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: fma.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 #if !defined(__AVR_TINY__)
 
diff --git a/libm/fplib/fmax.S b/libm/fplib/fmax.S
index 344680d..63e48cd 100644
--- a/libm/fplib/fmax.S
+++ b/libm/fplib/fmax.S
@@ -27,7 +27,7 @@
    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
    POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: fmax.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 #if !defined(__AVR_TINY__)
 
diff --git a/libm/fplib/fmin.S b/libm/fplib/fmin.S
index 3cf357c..ebe27a1 100644
--- a/libm/fplib/fmin.S
+++ b/libm/fplib/fmin.S
@@ -27,7 +27,7 @@
    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
    POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: fmin.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 #if !defined(__AVR_TINY__)
 
diff --git a/libm/fplib/fmod.S b/libm/fplib/fmod.S
index 5f55f5e..e3ad37f 100644
--- a/libm/fplib/fmod.S
+++ b/libm/fplib/fmod.S
@@ -27,7 +27,7 @@
    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
    POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: fmod.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 #if !defined(__AVR_TINY__)
 
diff --git a/libm/fplib/fp_arccos.S b/libm/fplib/fp_arccos.S
index f05bd1a..d46f3d8 100644
--- a/libm/fplib/fp_arccos.S
+++ b/libm/fplib/fp_arccos.S
@@ -27,7 +27,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: fp_arccos.S 1173 2007-01-14 15:04:40Z dmix $ */
+/* $Id$ */
 
 #include "fp32def.h"
 #include "asmdef.h"
diff --git a/libm/fplib/fp_cmp.S b/libm/fplib/fp_cmp.S
index 46e5978..30e8017 100644
--- a/libm/fplib/fp_cmp.S
+++ b/libm/fplib/fp_cmp.S
@@ -27,7 +27,7 @@
    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
    POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: fp_cmp.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 #if !defined(__AVR_TINY__)
 
diff --git a/libm/fplib/fp_inf.S b/libm/fplib/fp_inf.S
index 10ca721..c5e7e9d 100644
--- a/libm/fplib/fp_inf.S
+++ b/libm/fplib/fp_inf.S
@@ -27,7 +27,7 @@
    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
    POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: fp_inf.S 1173 2007-01-14 15:04:40Z dmix $ */
+/* $Id$ */
 
 #include "fp32def.h"
 #include "asmdef.h"
diff --git a/libm/fplib/fp_mintl.S b/libm/fplib/fp_mintl.S
index 8246c2a..7b63108 100644
--- a/libm/fplib/fp_mintl.S
+++ b/libm/fplib/fp_mintl.S
@@ -27,7 +27,7 @@
    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
    POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: fp_mintl.S 1173 2007-01-14 15:04:40Z dmix $ */
+/* $Id$ */
 
 #include "fp32def.h"
 #include "asmdef.h"
diff --git a/libm/fplib/fp_mpack.S b/libm/fplib/fp_mpack.S
index 20c8302..592daea 100644
--- a/libm/fplib/fp_mpack.S
+++ b/libm/fplib/fp_mpack.S
@@ -27,7 +27,7 @@
    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
    POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: fp_mpack.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 #if !defined(__AVR_TINY__)
 
diff --git a/libm/fplib/fp_nan.S b/libm/fplib/fp_nan.S
index 65f02ad..059a6c7 100644
--- a/libm/fplib/fp_nan.S
+++ b/libm/fplib/fp_nan.S
@@ -27,7 +27,7 @@
    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
    POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: fp_nan.S 1174 2007-01-14 15:13:54Z dmix $ */
+/* $Id$ */
 
 #include "fp32def.h"
 #include "asmdef.h"
diff --git a/libm/fplib/fp_negdi.S b/libm/fplib/fp_negdi.S
index e79c4fc..b6cf516 100644
--- a/libm/fplib/fp_negdi.S
+++ b/libm/fplib/fp_negdi.S
@@ -27,7 +27,7 @@
    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
    POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: fp_negdi.S 1173 2007-01-14 15:04:40Z dmix $ */
+/* $Id$ */
 
 /* long long __fp_negdi (long long x)
      Return negative value of x.
diff --git a/libm/fplib/fp_norm2.S b/libm/fplib/fp_norm2.S
index 78b34b0..33af9a4 100644
--- a/libm/fplib/fp_norm2.S
+++ b/libm/fplib/fp_norm2.S
@@ -27,7 +27,7 @@
    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
    POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: fp_norm2.S 1173 2007-01-14 15:04:40Z dmix $ */
+/* $Id$ */
 
 #include "fp32def.h"
 #include "asmdef.h"
diff --git a/libm/fplib/fp_powser.S b/libm/fplib/fp_powser.S
index 18a59ab..433d350 100644
--- a/libm/fplib/fp_powser.S
+++ b/libm/fplib/fp_powser.S
@@ -27,7 +27,7 @@
    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
    POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: fp_powser.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 #if !defined(__AVR_TINY__)
 
diff --git a/libm/fplib/fp_powsodd.S b/libm/fplib/fp_powsodd.S
index a9422f4..f01fbae 100644
--- a/libm/fplib/fp_powsodd.S
+++ b/libm/fplib/fp_powsodd.S
@@ -27,7 +27,7 @@
    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
    POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: fp_powsodd.S 1173 2007-01-14 15:04:40Z dmix $ */
+/* $Id$ */
 
 #include "fp32def.h"
 #include "asmdef.h"
diff --git a/libm/fplib/fp_pscA.S b/libm/fplib/fp_pscA.S
index bfc8dd4..f6a6271 100644
--- a/libm/fplib/fp_pscA.S
+++ b/libm/fplib/fp_pscA.S
@@ -27,7 +27,7 @@
    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
    POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: fp_pscA.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 #if !defined(__AVR_TINY__)
 
diff --git a/libm/fplib/fp_pscB.S b/libm/fplib/fp_pscB.S
index ee85a36..ee3cc43 100644
--- a/libm/fplib/fp_pscB.S
+++ b/libm/fplib/fp_pscB.S
@@ -27,7 +27,7 @@
    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
    POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: fp_pscB.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 #if !defined(__AVR_TINY__)
 
diff --git a/libm/fplib/fp_rempio2.S b/libm/fplib/fp_rempio2.S
index 57a8ae6..afba808 100644
--- a/libm/fplib/fp_rempio2.S
+++ b/libm/fplib/fp_rempio2.S
@@ -28,7 +28,7 @@
    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
    POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: fp_rempio2.S 1810 2008-12-02 13:34:42Z dmix $ */
+/* $Id$ */
 
 #include "fp32def.h"
 #include "asmdef.h"
diff --git a/libm/fplib/fp_round.S b/libm/fplib/fp_round.S
index ec22655..d85c905 100644
--- a/libm/fplib/fp_round.S
+++ b/libm/fplib/fp_round.S
@@ -27,7 +27,7 @@
    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
    POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: fp_round.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 #if !defined(__AVR_TINY__)
 
diff --git a/libm/fplib/fp_sinus.S b/libm/fplib/fp_sinus.S
index c8cedbf..d443c4b 100644
--- a/libm/fplib/fp_sinus.S
+++ b/libm/fplib/fp_sinus.S
@@ -27,7 +27,7 @@
    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
    POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: fp_sinus.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 #if !defined(__AVR_TINY__)
 
diff --git a/libm/fplib/fp_split3.S b/libm/fplib/fp_split3.S
index 11f54e0..d2d7484 100644
--- a/libm/fplib/fp_split3.S
+++ b/libm/fplib/fp_split3.S
@@ -27,7 +27,7 @@
    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
    POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: fp_split3.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 #if !defined(__AVR_TINY__)
 
diff --git a/libm/fplib/fp_trunc.S b/libm/fplib/fp_trunc.S
index 7373712..ab0d67c 100644
--- a/libm/fplib/fp_trunc.S
+++ b/libm/fplib/fp_trunc.S
@@ -27,7 +27,7 @@
    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
    POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: fp_trunc.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 
 #if !defined(__AVR_TINY__)
diff --git a/libm/fplib/fp_zero.S b/libm/fplib/fp_zero.S
index 1990863..3912e2a 100644
--- a/libm/fplib/fp_zero.S
+++ b/libm/fplib/fp_zero.S
@@ -27,7 +27,7 @@
    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
    POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: fp_zero.S 1174 2007-01-14 15:13:54Z dmix $ */
+/* $Id$ */
 
 #include "fp32def.h"
 #include "asmdef.h"
diff --git a/libm/fplib/frexp.S b/libm/fplib/frexp.S
index 58c8303..e9c6f59 100644
--- a/libm/fplib/frexp.S
+++ b/libm/fplib/frexp.S
@@ -27,7 +27,7 @@
    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
    POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: frexp.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 #if !defined(__AVR_TINY__)
 
diff --git a/libm/fplib/gesf2.S b/libm/fplib/gesf2.S
index 75858ab..4aa604d 100644
--- a/libm/fplib/gesf2.S
+++ b/libm/fplib/gesf2.S
@@ -27,7 +27,7 @@
    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
    POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: gesf2.S 1652 2008-03-22 04:04:43Z dmix $ */
+/* $Id$ */
 
 #include "fp32def.h"
 #include "asmdef.h"
diff --git a/libm/fplib/hypot.S b/libm/fplib/hypot.S
index 58598e0..e938c10 100644
--- a/libm/fplib/hypot.S
+++ b/libm/fplib/hypot.S
@@ -27,7 +27,7 @@
    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
    POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: hypot.S 1173 2007-01-14 15:04:40Z dmix $ */
+/* $Id$ */
 
 #include "fp32def.h"
 #include "asmdef.h"
diff --git a/libm/fplib/inverse.S b/libm/fplib/inverse.S
index 0f47fd6..1bd838c 100644
--- a/libm/fplib/inverse.S
+++ b/libm/fplib/inverse.S
@@ -27,7 +27,7 @@
    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
    POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: inverse.S 1173 2007-01-14 15:04:40Z dmix $ */
+/* $Id$ */
 
 #include "fp32def.h"
 #include "asmdef.h"
diff --git a/libm/fplib/isfinite.S b/libm/fplib/isfinite.S
index d821f4d..8b7b9dd 100644
--- a/libm/fplib/isfinite.S
+++ b/libm/fplib/isfinite.S
@@ -27,7 +27,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: isfinite.S 1173 2007-01-14 15:04:40Z dmix $ */
+/* $Id$ */
 
 #include "fp32def.h"
 #include "asmdef.h"
diff --git a/libm/fplib/isinf.S b/libm/fplib/isinf.S
index 3f568e4..cc00b8b 100644
--- a/libm/fplib/isinf.S
+++ b/libm/fplib/isinf.S
@@ -27,7 +27,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: isinf.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 #if !defined(__AVR_TINY__)
 
diff --git a/libm/fplib/isnan.S b/libm/fplib/isnan.S
index d8f1801..8652142 100644
--- a/libm/fplib/isnan.S
+++ b/libm/fplib/isnan.S
@@ -27,7 +27,7 @@
   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: isnan.S 1173 2007-01-14 15:04:40Z dmix $ */
+/* $Id$ */
 
 #include "fp32def.h"
 #include "asmdef.h"
diff --git a/libm/fplib/ldexp.S b/libm/fplib/ldexp.S
index 22238c4..f46b019 100644
--- a/libm/fplib/ldexp.S
+++ b/libm/fplib/ldexp.S
@@ -27,7 +27,7 @@
    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
    POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: ldexp.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 #if !defined(__AVR_TINY__)
 
diff --git a/libm/fplib/log.S b/libm/fplib/log.S
index 93c8d2a..0f860ec 100644
--- a/libm/fplib/log.S
+++ b/libm/fplib/log.S
@@ -27,7 +27,7 @@
    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
    POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: log.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 #if !defined(__AVR_TINY__)
 
diff --git a/libm/fplib/log10.S b/libm/fplib/log10.S
index 8c4853b..760e5a4 100644
--- a/libm/fplib/log10.S
+++ b/libm/fplib/log10.S
@@ -27,7 +27,7 @@
    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
    POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: log10.S 1174 2007-01-14 15:13:54Z dmix $ */
+/* $Id$ */
 
 #include "fp32def.h"
 #include "asmdef.h"
diff --git a/libm/fplib/lrint.S b/libm/fplib/lrint.S
index 47cfc2c..63fda01 100644
--- a/libm/fplib/lrint.S
+++ b/libm/fplib/lrint.S
@@ -26,7 +26,7 @@
    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
    POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: lrint.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 #if !defined(__AVR_TINY__)
 
diff --git a/libm/fplib/lround.S b/libm/fplib/lround.S
index da49f61..13ccdca 100644
--- a/libm/fplib/lround.S
+++ b/libm/fplib/lround.S
@@ -26,7 +26,7 @@
    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
    POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: lround.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 
 #if !defined(__AVR_TINY__)
diff --git a/libm/fplib/modf.S b/libm/fplib/modf.S
index 7c55838..1b33eff 100644
--- a/libm/fplib/modf.S
+++ b/libm/fplib/modf.S
@@ -27,7 +27,7 @@
    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
    POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: modf.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 #if !defined(__AVR_TINY__)
 
diff --git a/libm/fplib/mulsf3.S b/libm/fplib/mulsf3.S
index c7beee6..e0eebff 100644
--- a/libm/fplib/mulsf3.S
+++ b/libm/fplib/mulsf3.S
@@ -27,7 +27,7 @@
    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
    POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: mulsf3.S 1174 2007-01-14 15:13:54Z dmix $ */
+/* $Id$ */
 
 #include "fp32def.h"
 #include "asmdef.h"
diff --git a/libm/fplib/mulsf3x.S b/libm/fplib/mulsf3x.S
index 81bd772..bf75e83 100644
--- a/libm/fplib/mulsf3x.S
+++ b/libm/fplib/mulsf3x.S
@@ -27,7 +27,7 @@
    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
    POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: mulsf3x.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 /*
  */
diff --git a/libm/fplib/negsf2.S b/libm/fplib/negsf2.S
index 2fb9c7e..b042a22 100644
--- a/libm/fplib/negsf2.S
+++ b/libm/fplib/negsf2.S
@@ -27,7 +27,7 @@
    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
    POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: negsf2.S 1174 2007-01-14 15:13:54Z dmix $ */
+/* $Id$ */
 
 /*
  */
diff --git a/libm/fplib/pow.S b/libm/fplib/pow.S
index b059524..efc4f1a 100644
--- a/libm/fplib/pow.S
+++ b/libm/fplib/pow.S
@@ -27,7 +27,7 @@
    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
    POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: pow.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 #if !defined(__AVR_TINY__)
 
diff --git a/libm/fplib/round.S b/libm/fplib/round.S
index 7f54cd3..bc0b814 100644
--- a/libm/fplib/round.S
+++ b/libm/fplib/round.S
@@ -26,7 +26,7 @@
    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
    POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: round.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 #if !defined(__AVR_TINY__)
 
diff --git a/libm/fplib/signbit.S b/libm/fplib/signbit.S
index 395850c..410ddab 100644
--- a/libm/fplib/signbit.S
+++ b/libm/fplib/signbit.S
@@ -27,7 +27,7 @@
    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
    POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: signbit.S 1491 2007-12-02 02:36:57Z dmix $ */
+/* $Id$ */
 
 #include "fp32def.h"
 #include "asmdef.h"
diff --git a/libm/fplib/sin.S b/libm/fplib/sin.S
index 80ad906..d9f044e 100644
--- a/libm/fplib/sin.S
+++ b/libm/fplib/sin.S
@@ -27,7 +27,7 @@
    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
    POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: sin.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 #if !defined(__AVR_TINY__)
 
diff --git a/libm/fplib/sinh.S b/libm/fplib/sinh.S
index 0ddde55..1d0a5a5 100644
--- a/libm/fplib/sinh.S
+++ b/libm/fplib/sinh.S
@@ -27,7 +27,7 @@
    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
    POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: sinh.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 #if !defined(__AVR_TINY__)
 
diff --git a/libm/fplib/square.S b/libm/fplib/square.S
index 86221ec..9283702 100644
--- a/libm/fplib/square.S
+++ b/libm/fplib/square.S
@@ -27,7 +27,7 @@
    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
    POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: square.S 2166 2010-06-13 13:14:47Z joerg_wunsch $ */
+/* $Id$ */
 
 #include "fp32def.h"
 #include "asmdef.h"
diff --git a/libm/fplib/tan.S b/libm/fplib/tan.S
index 014dc23..9e16271 100644
--- a/libm/fplib/tan.S
+++ b/libm/fplib/tan.S
@@ -27,7 +27,7 @@
    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
    POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: tan.S 1174 2007-01-14 15:13:54Z dmix $ */
+/* $Id$ */
 
 #include "fp32def.h"
 #include "asmdef.h"
diff --git a/libm/fplib/tanh.S b/libm/fplib/tanh.S
index a3c1390..ba89912 100644
--- a/libm/fplib/tanh.S
+++ b/libm/fplib/tanh.S
@@ -27,7 +27,7 @@
    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
    POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: tanh.S 2191 2010-11-05 13:45:57Z arcanum $ */
+/* $Id$ */
 
 #if !defined(__AVR_TINY__)
 
diff --git a/libm/fplib/trunc.S b/libm/fplib/trunc.S
index 6979e8c..57f5711 100644
--- a/libm/fplib/trunc.S
+++ b/libm/fplib/trunc.S
@@ -27,7 +27,7 @@
    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
    POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: trunc.S 1173 2007-01-14 15:04:40Z dmix $ */
+/* $Id$ */
 
 #include "fp32def.h"
 #include "asmdef.h"
diff --git a/libm/fplib/unordsf2.S b/libm/fplib/unordsf2.S
index a74b4f1..42ce7a9 100644
--- a/libm/fplib/unordsf2.S
+++ b/libm/fplib/unordsf2.S
@@ -26,7 +26,7 @@
    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
    POSSIBILITY OF SUCH DAMAGE. */
 
-/* $Id: unordsf2.S 1652 2008-03-22 04:04:43Z dmix $ */
+/* $Id$ */
 
 /* int __unordsf2 (float A, float B)
    This function returns a nonzero value if either argument is NaN,
diff --git a/scripts/Makefile.am b/scripts/Makefile.am
index fef7ed5..eec6481 100644
--- a/scripts/Makefile.am
+++ b/scripts/Makefile.am
@@ -26,7 +26,7 @@
 # ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 # POSSIBILITY OF SUCH DAMAGE.
 #
-# $Id: Makefile.am 857 2005-09-07 20:31:27Z joerg_wunsch $
+# $Id$
 #
 
 avrdir = $(prefix)/bin
diff --git a/tests/simulate/avr/eeprom-1.c b/tests/simulate/avr/eeprom-1.c
new file mode 100644
index 0000000..058889c
--- /dev/null
+++ b/tests/simulate/avr/eeprom-1.c
@@ -0,0 +1,142 @@
+/* Copyright (c) 2008,2009  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* $Id$	*/
+
+#include <avr/eeprom.h>
+#include <stdlib.h>
+#include <string.h>
+
+/* Note: GCC permits arithmetic with 'void *'.	*/
+
+int main ()
+{
+    void *p;
+#define MAXLEN	(RAMEND > 0x15F ? 260 : (RAMEND - 0x60 - 30))
+    unsigned char s[E2END > MAXLEN ? MAXLEN : E2END];
+
+    /* Fill all EEPROM.	*/
+    for (p = 0; p <= (void *)E2END; p++)
+	eeprom_write_byte (p, ~(int)p);
+
+    /* Read bytes.	*/
+    for (p = 0; p <= (void *)E2END; p++)
+	if (eeprom_read_byte (p) != (~(int)p & 0xFF))
+	    exit (__LINE__);
+
+    /* Read words.	*/
+    for (p = 0; p <= (void *)E2END - 1; p += 2) {
+	if (eeprom_read_word (p)
+	    != ((~(unsigned)p & 0xFF) | (~(unsigned)(p+1) & 0xFF) << 8))
+	{
+	    exit (__LINE__);
+	}
+    }
+
+    /* Read double words.	*/
+    for (p = 0; p <= (void *)E2END - 3; p += 4) {
+	if (eeprom_read_dword (p)
+	    != ((~(unsigned)p & 0xFF)
+		| (~(unsigned)(p+1) & 0xFF) << 8
+		| (unsigned long)(~(unsigned)(p+2) & 0xFF) << 16
+		| (unsigned long)(~(unsigned)(p+3) & 0xFF) << 24))
+	{
+	    exit (__LINE__);
+	}
+    }
+
+    /* Read blocks.	*/
+    for (p = 0; p <= (void *)E2END; ) {
+	size_t i, n;
+	if ( (n = E2END + 1 - (unsigned)p) > sizeof(s))
+	    n = sizeof(s);
+	eeprom_read_block (s, p, n);
+	for (i = 0; i < n; i++) {
+	    if (s[i] != (~(int)p & 0xFF))
+		exit (__LINE__);
+	    p += 1;
+	}
+    }
+
+    /* Write only 1 byte.	*/
+    eeprom_write_byte ((unsigned char *)5, 1);
+    for (p = 0; p <= (void *)E2END; p++) {
+	if ((unsigned)p != 5
+	    && eeprom_read_byte (p) != (~(int)p & 0xFF))
+	{
+	    exit (__LINE__);
+	}
+    }
+    if (eeprom_read_byte ((unsigned char *)5) != 1)
+	exit (__LINE__);
+
+    /* Write only 1 word.	*/
+    /* Avr-gcc 4.2.2 produces incorrect code: the comparison of address
+       with 5 and 6 values is omited. In result exit with error.
+       Versions 3.3.6, 3.4.6, 4.0.4, 4.1.2, 4.2.3, 4.3.0(pre) give
+       correct code and are simulated OK.	*/
+    eeprom_write_word ((unsigned *)5, 0x1234);
+    for (p = 0; p <= (void *)E2END; p++) {
+	if ((unsigned)p != 5
+	    && (unsigned)p != 6
+	    && eeprom_read_byte (p) != (~(int)p & 0xFF))
+	{
+	    exit (__LINE__);
+	}
+    }
+    if (eeprom_read_word ((unsigned *)5) != 0x1234)
+	exit (__LINE__);
+
+    /* Write only 1 double word.	*/
+    eeprom_write_dword ((unsigned long *)5, 0x12345678);
+    for (p = 0; p <= (void *)E2END; p++) {
+	if (((unsigned)p < 5 || (unsigned)p > 8)
+	    && eeprom_read_byte (p) != (~(int)p & 0xFF))
+	{
+	    exit (__LINE__);
+	}
+    }
+    if (eeprom_read_dword ((unsigned long *)5) != 0x12345678)
+	exit (__LINE__);
+
+    /* Write block.	*/
+    eeprom_write_block ("\x90\xAB\xCD\xEF\x01", (void *)5, 5);
+    for (p = 0; p <= (void *)E2END; p++) {
+	if (((unsigned)p < 5 || (unsigned)p > 9)
+	    && eeprom_read_byte (p) != (~(int)p & 0xFF))
+	{
+	    exit (__LINE__);
+	}
+    }
+    eeprom_read_block (s, (const void *)5, 5);
+    if (memcmp (s, "\x90\xAB\xCD\xEF\x01", 5))
+	exit (__LINE__);
+
+    return 0;
+}
diff --git a/tests/simulate/avr/eeprom-2.c b/tests/simulate/avr/eeprom-2.c
new file mode 100644
index 0000000..a18483c
--- /dev/null
+++ b/tests/simulate/avr/eeprom-2.c
@@ -0,0 +1,57 @@
+/* Copyright (c) 2009  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.	*/
+
+/* Test of float EEPROM functions.
+   $Id$	*/
+
+#include <avr/eeprom.h>
+#include <stdlib.h>
+
+int main ()
+{
+    float *p;
+    int i, n;
+
+    n = ((long)E2END + 1) / sizeof (float);
+
+    for (p = 0, i = 0; i < n; i++)
+	eeprom_write_float (p++, i);
+    for (p = 0, i = 0; i < n; i++) {
+	if (eeprom_read_float (p++) != i)
+	    exit (__LINE__);
+    }
+
+    for (p = 0, i = 0; i < n; i++)
+	eeprom_update_float (p++, -i);
+    for (p = 0, i = 0; i < n; i++) {
+	if (eeprom_read_float (p++) != -i)
+	    exit (__LINE__);
+    }
+
+    return 0;
+}
diff --git a/tests/simulate/avr/eeprom-3.c b/tests/simulate/avr/eeprom-3.c
new file mode 100644
index 0000000..4b75c82
--- /dev/null
+++ b/tests/simulate/avr/eeprom-3.c
@@ -0,0 +1,140 @@
+/* Copyright (c) 2009  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.	*/
+
+/* Test of update EEPROM functions.
+   $Id$	*/
+
+#include <avr/eeprom.h>
+#include <avr/pgmspace.h>
+#include <stdlib.h>
+#include <string.h>
+
+int main ()
+{
+    void *p;
+
+    /* Fill all EEPROM.	*/
+    for (p = 0; p <= (void *)E2END; p++)
+	eeprom_write_byte (p, (int)(p + 1));
+    
+    /* Update a byte.	*/
+    {
+	unsigned char *p = (unsigned char *)1;
+	
+	eeprom_update_byte (p, 2);	/* the same value	*/
+	if (!eeprom_is_ready ()) exit (__LINE__);
+	if (eeprom_read_byte (p) != 2) exit (__LINE__);
+
+	eeprom_update_byte (p, 0x12);	/* different value	*/
+	if (eeprom_is_ready ()) exit (__LINE__);
+	if (eeprom_read_byte (p) != 0x12) exit (__LINE__);
+    }
+
+    /* Update a word.	*/
+    {
+	unsigned int *p = (unsigned int *)2;
+
+	eeprom_update_word (p, 0x0403);		/* the same value	*/
+	if (!eeprom_is_ready ()) exit (__LINE__);
+	if (eeprom_read_word (p) != 0x0403) exit (__LINE__);
+
+	eeprom_update_word (p, 0x0413);
+	if (eeprom_is_ready ()) exit (__LINE__);
+	if (eeprom_read_word (p) != 0x0413) exit (__LINE__);
+
+	eeprom_update_word (p, 0x1413);
+	if (!eeprom_is_ready ()) exit (__LINE__);
+	if (eeprom_read_word (p) != 0x1413) exit (__LINE__);
+    }
+
+    /* Update a double word.	*/
+    {
+	unsigned long *p = (unsigned long *)4;
+
+	eeprom_update_dword (p, 0x08070605);	/* the same value	*/
+	if (!eeprom_is_ready ()) exit (__LINE__);
+	if (eeprom_read_dword (p) != 0x08070605) exit (__LINE__);
+
+	eeprom_update_dword (p, 0x08070615);
+	if (eeprom_is_ready ()) exit (__LINE__);
+	if (eeprom_read_dword (p) != 0x08070615) exit (__LINE__);
+
+	eeprom_update_dword (p, 0x08071615);
+	if (!eeprom_is_ready ()) exit (__LINE__);
+	if (eeprom_read_dword (p) != 0x08071615) exit (__LINE__);
+
+	eeprom_update_dword (p, 0x08171615);
+	if (!eeprom_is_ready ()) exit (__LINE__);
+	if (eeprom_read_dword (p) != 0x08171615) exit (__LINE__);
+
+	eeprom_update_dword (p, 0x18171615);
+	if (!eeprom_is_ready ()) exit (__LINE__);
+	if (eeprom_read_dword (p) != 0x18171615) exit (__LINE__);
+    }
+
+    /* Update a block.	*/
+    {
+	unsigned char *p = (unsigned char *)8;
+	unsigned char s[5];
+	
+	memcpy_P (s, PSTR ("\x09\x0A\x0B\x0C\x0D"), 5);
+	eeprom_update_block (s, p, 5);
+	if (!eeprom_is_ready ()) exit (__LINE__);
+	memset (s, 0, sizeof (s));
+	eeprom_read_block (s, p, 5);
+	if (memcmp_P (s, PSTR ("\x09\x0A\x0B\x0C\x0D"), 5)) exit (__LINE__);
+
+	memcpy_P (s, PSTR ("\x19\x0A\x0B\x0C\x0D"), 5);
+	eeprom_update_block (s, p, 5);
+	if (eeprom_is_ready ()) exit (__LINE__);
+	memset (s, 0, sizeof (s));
+	eeprom_read_block (s, p, 5);
+	if (memcmp_P (s, PSTR ("\x19\x0A\x0B\x0C\x0D"), 5)) exit (__LINE__);
+
+	memcpy_P (s, PSTR ("\x19\x0A\x0B\x0C\x1D"), 5);
+	eeprom_update_block (s, p, 5);
+	if (!eeprom_is_ready ()) exit (__LINE__);
+	memset (s, 0, sizeof (s));
+	eeprom_read_block (s, p, 5);
+	if (memcmp_P (s, PSTR ("\x19\x0A\x0B\x0C\x1D"), 5)) exit (__LINE__);
+	
+	memcpy_P (s, PSTR ("\x1A\x1B\x1C"), 3);
+	eeprom_update_block (s, p + 1, 1);
+	eeprom_update_block (s + 1, p + 2, 2);
+    }
+
+    /* Check all EEPROM.	*/
+    for (p = 0; p <= (void *)E2END; p++) {
+	unsigned char c;
+	c = (int)p + ((p && (p < (void *)13)) ? 0x11 : 1);
+	if (eeprom_read_byte (p) != c)
+	    exit (__LINE__);
+    }
+
+    return 0;
+}
diff --git a/tests/simulate/avr/sfr-1.c b/tests/simulate/avr/sfr-1.c
new file mode 100644
index 0000000..45f5eea
--- /dev/null
+++ b/tests/simulate/avr/sfr-1.c
@@ -0,0 +1,205 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of _SFR's macroses.  Default usage without any definition.
+   $Id$	*/
+
+#include <avr/io.h>
+#include <stdlib.h>
+
+#define cli()	asm volatile ("cli")
+#define sei()	asm volatile ("sei")
+#define nop()	asm volatile ("nop")
+
+int main ()
+{
+    int i;
+    volatile unsigned char *p;
+    unsigned char c;
+
+#if	defined (__AVR_AT90S8515__)
+
+    i = _SFR_ADDR (SREG);
+    if (i != 0x5F) exit (__LINE__);
+    i = _SFR_MEM_ADDR (SREG);
+    if (i != 0x5F) exit (__LINE__);
+    i = _SFR_IO_ADDR (SREG);
+    if (i != 0x3F) exit (__LINE__);
+    if (!_SFR_IO_REG_P (SREG)) exit (__LINE__);
+
+    i = _SFR_ADDR (WDTCR);
+    if (i != 0x41) exit (__LINE__);
+    i = _SFR_MEM_ADDR (WDTCR);
+    if (i != 0x41) exit (__LINE__);
+    i = _SFR_IO_ADDR (WDTCR);
+    if (i != 0x21) exit (__LINE__);
+    if (!_SFR_IO_REG_P (WDTCR)) exit (__LINE__);
+
+    i = _SFR_ADDR (EEARH);
+    if (i != 0x3F) exit (__LINE__);
+    i = _SFR_MEM_ADDR (EEARH);
+    if (i != 0x3F) exit (__LINE__);
+    i = _SFR_IO_ADDR (EEARH);
+    if (i != 0x1F) exit (__LINE__);
+    if (!_SFR_IO_REG_P (EEARH)) exit (__LINE__);
+
+    i = _SFR_ADDR (ACSR);
+    if (i != 0x28) exit (__LINE__);
+    i = _SFR_MEM_ADDR (ACSR);
+    if (i != 0x28) exit (__LINE__);
+    i = _SFR_IO_ADDR (ACSR);
+    if (i != 0x08) exit (__LINE__);
+    if (!_SFR_IO_REG_P (ACSR)) exit (__LINE__);
+
+#elif	defined (__AVR_ATmega8__)
+
+    i = _SFR_ADDR (SREG);
+    if (i != 0x5F) exit (__LINE__);
+    i = _SFR_MEM_ADDR (SREG);
+    if (i != 0x5F) exit (__LINE__);
+    i = _SFR_IO_ADDR (SREG);
+    if (i != 0x3F) exit (__LINE__);
+    if (!_SFR_IO_REG_P (SREG)) exit (__LINE__);
+
+    i = _SFR_ADDR (UCSRC);
+    if (i != 0x40) exit (__LINE__);
+    i = _SFR_MEM_ADDR (UCSRC);
+    if (i != 0x40) exit (__LINE__);
+    i = _SFR_IO_ADDR (UCSRC);
+    if (i != 0x20) exit (__LINE__);
+    if (!_SFR_IO_REG_P (UCSRC)) exit (__LINE__);
+
+    i = _SFR_ADDR (EEARH);
+    if (i != 0x3F) exit (__LINE__);
+    i = _SFR_MEM_ADDR (EEARH);
+    if (i != 0x3F) exit (__LINE__);
+    i = _SFR_IO_ADDR (EEARH);
+    if (i != 0x1F) exit (__LINE__);
+    if (!_SFR_IO_REG_P (EEARH)) exit (__LINE__);
+
+    i = _SFR_ADDR (TWBR);
+    if (i != 0x20) exit (__LINE__);
+    i = _SFR_MEM_ADDR (TWBR);
+    if (i != 0x20) exit (__LINE__);
+    i = _SFR_IO_ADDR (TWBR);
+    if (i != 0x00) exit (__LINE__);
+    if (!_SFR_IO_REG_P (TWBR)) exit (__LINE__);
+
+#elif	defined (__AVR_ATmega128__)
+
+    i = _SFR_ADDR (UCSR1C);
+    if (i != 0x9D) exit (__LINE__);
+    i = _SFR_MEM_ADDR (UCSR1C);
+    if (i != 0x9D) exit (__LINE__);
+    if (_SFR_IO_REG_P (UCSR1C)) exit (__LINE__);
+
+    i = _SFR_ADDR (DDRF);
+    if (i != 0x61) exit (__LINE__);
+    i = _SFR_MEM_ADDR (DDRF);
+    if (i != 0x61) exit (__LINE__);
+    if (_SFR_IO_REG_P (DDRF)) exit (__LINE__);
+
+    i = _SFR_ADDR (SREG);
+    if (i != 0x5F) exit (__LINE__);
+    i = _SFR_MEM_ADDR (SREG);
+    if (i != 0x5F) exit (__LINE__);
+    i = _SFR_IO_ADDR (SREG);
+    if (i != 0x3F) exit (__LINE__);
+    if (!_SFR_IO_REG_P (SREG)) exit (__LINE__);
+
+    i = _SFR_ADDR (SFIOR);
+    if (i != 0x40) exit (__LINE__);
+    i = _SFR_MEM_ADDR (SFIOR);
+    if (i != 0x40) exit (__LINE__);
+    i = _SFR_IO_ADDR (SFIOR);
+    if (i != 0x20) exit (__LINE__);
+    if (!_SFR_IO_REG_P (SFIOR)) exit (__LINE__);
+
+    i = _SFR_ADDR (EEARH);
+    if (i != 0x3F) exit (__LINE__);
+    i = _SFR_MEM_ADDR (EEARH);
+    if (i != 0x3F) exit (__LINE__);
+    i = _SFR_IO_ADDR (EEARH);
+    if (i != 0x1F) exit (__LINE__);
+    if (!_SFR_IO_REG_P (EEARH)) exit (__LINE__);
+
+    i = _SFR_ADDR (PINF);
+    if (i != 0x20) exit (__LINE__);
+    i = _SFR_MEM_ADDR (PINF);
+    if (i != 0x20) exit (__LINE__);
+    i = _SFR_IO_ADDR (PINF);
+    if (i != 0x00) exit (__LINE__);
+    if (!_SFR_IO_REG_P (PINF)) exit (__LINE__);
+
+#else
+    (void)i;
+#endif
+
+    /* SREG: mem addr is 0x5F (avr2..avr5)	*/
+
+    cli ();
+    if (SREG & (1 << SREG_I)) exit (__LINE__);
+    sei ();
+    if (!(SREG & (1 << SREG_I))) exit (__LINE__);
+
+    p = (void *)_SFR_ADDR (SREG);
+    cli ();
+    if (*p & (1 << SREG_I)) exit (__LINE__);
+    sei ();
+    if (!(*p & (1 << SREG_I))) exit (__LINE__);
+
+    p = (void *)_SFR_MEM_ADDR (SREG);
+    cli ();
+    if (*p & (1 << SREG_I)) exit (__LINE__);
+    sei ();
+    if (!(*p & (1 << SREG_I))) exit (__LINE__);
+
+    cli ();
+    asm volatile ("in %0,%1" : "=r" (c) : "I" (_SFR_IO_ADDR (SREG)));
+    if (c & (1 << SREG_I)) exit (__LINE__);
+    sei ();
+    asm volatile ("in %0,%1" : "=r" (c) : "I" (_SFR_IO_ADDR (SREG)));
+    if (!(c & (1 << SREG_I))) exit (__LINE__);
+
+/* TODO: it is needed to update simulavr: do not ask PINx value, if DDRx
+   is set.	*/
+#if 0
+    /* PORTB: mem addr is small	*/
+    DDRB = 0xFF;
+
+    PORTB = 1;
+    nop ();
+    if ((PINB & 3) != 1) exit (__LINE__);
+    PORTB = 2;
+    nop ();
+    if ((PINB & 3) != 2) exit (__LINE__);
+#endif
+
+    return 0;
+}
diff --git a/tests/simulate/avr/sfr-2.c b/tests/simulate/avr/sfr-2.c
new file mode 100644
index 0000000..2be156e
--- /dev/null
+++ b/tests/simulate/avr/sfr-2.c
@@ -0,0 +1,267 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of _SFR's macroses.  Old style C program.
+   $Id$	*/
+
+/* XXX: Seems, the _SFR_MEM_ADDR() is worse.  In case of _SFR_ASM_COMPAT
+   with __SFR_OFFSET == 0 it returns the same value, as _SFR_IO_ADDR().
+   This happens with SREG and below, with higher the _SFR_MEM_ADDR() is
+   OK.  Note, the _SFR_IO_ADDR() and _SFR_ADDR() are correct with all 3
+   combinations of _SFR_ASM_COMPAT, __SFR_OFFSET.  Now the tests of
+   _SFR_MEM_ADDR() are commented.	*/
+
+#define	_SFR_ASM_COMPAT  1
+#define	__SFR_OFFSET	 0
+#include <avr/io.h>
+#include <stdlib.h>
+
+#define cli()	asm volatile ("cli")
+#define sei()	asm volatile ("sei")
+#define nop()	asm volatile ("nop")
+
+/* Get a string like: VALUE(SREG) --> "0x3F"	*/
+#define VALUE(port)	VALUE_2 (port)
+#define VALUE_2(port)	#port
+
+/* Note, this is old style where ports are pure numbers.	*/
+#define inb(port)	({				\
+    unsigned char __c;					\
+    asm volatile ("in %0," VALUE (port) : "=r" (__c));	\
+    __c;						\
+})
+
+int main ()
+{
+    int i;
+    volatile unsigned char *p;
+    unsigned char c;
+
+#if	defined (__AVR_AT90S8515__)
+
+# if	 SREG != 0x3F  ||  !_SFR_IO_REG_P (SREG)
+#  error
+# endif
+    i = _SFR_ADDR (SREG);
+    if (i != 0x5F) exit (__LINE__);
+///    i = _SFR_MEM_ADDR (SREG);
+///    if (i != 0x5F) exit (__LINE__);
+    i = _SFR_IO_ADDR (SREG);
+    if (i != 0x3F) exit (__LINE__);
+    if (!_SFR_IO_REG_P (SREG)) exit (__LINE__);
+
+# if	WDTCR != 0x21  ||  !_SFR_IO_REG_P (WDTCR)
+#  error
+# endif
+    i = _SFR_ADDR (WDTCR);
+    if (i != 0x41) exit (__LINE__);
+///    i = _SFR_MEM_ADDR (WDTCR);
+///    if (i != 0x41) exit (__LINE__);
+    i = _SFR_IO_ADDR (WDTCR);
+    if (i != 0x21) exit (__LINE__);
+    if (!_SFR_IO_REG_P (WDTCR)) exit (__LINE__);
+
+# if	EEARH != 0x1F  ||  !_SFR_IO_REG_P (EEARH)
+#  error
+# endif
+    i = _SFR_ADDR (EEARH);
+    if (i != 0x3F) exit (__LINE__);
+///    i = _SFR_MEM_ADDR (EEARH);
+///    if (i != 0x3F) exit (__LINE__);
+    i = _SFR_IO_ADDR (EEARH);
+    if (i != 0x1F) exit (__LINE__);
+    if (!_SFR_IO_REG_P (EEARH)) exit (__LINE__);
+
+# if	ACSR != 0x08  ||  !_SFR_IO_REG_P (ACSR)
+#  error
+# endif
+    i = _SFR_ADDR (ACSR);
+    if (i != 0x28) exit (__LINE__);
+///    i = _SFR_MEM_ADDR (ACSR);
+///    if (i != 0x28) exit (__LINE__);
+    i = _SFR_IO_ADDR (ACSR);
+    if (i != 0x08) exit (__LINE__);
+    if (!_SFR_IO_REG_P (ACSR)) exit (__LINE__);
+
+#elif	defined (__AVR_ATmega8__)
+
+# if	 SREG != 0x3F  ||  !_SFR_IO_REG_P (SREG)
+#  error
+# endif
+    i = _SFR_ADDR (SREG);
+    if (i != 0x5F) exit (__LINE__);
+///    i = _SFR_MEM_ADDR (SREG);
+///    if (i != 0x5F) exit (__LINE__);
+    i = _SFR_IO_ADDR (SREG);
+    if (i != 0x3F) exit (__LINE__);
+    if (!_SFR_IO_REG_P (SREG)) exit (__LINE__);
+
+# if	UCSRC != 0x20  ||  !_SFR_IO_REG_P (UCSRC)
+#  error
+# endif
+    i = _SFR_ADDR (UCSRC);
+    if (i != 0x40) exit (__LINE__);
+///    i = _SFR_MEM_ADDR (UCSRC);
+///    if (i != 0x40) exit (__LINE__);
+    i = _SFR_IO_ADDR (UCSRC);
+    if (i != 0x20) exit (__LINE__);
+    if (!_SFR_IO_REG_P (UCSRC)) exit (__LINE__);
+
+# if	EEARH != 0x1F  ||  !_SFR_IO_REG_P (EEARH)
+#  error
+# endif
+    i = _SFR_ADDR (EEARH);
+    if (i != 0x3F) exit (__LINE__);
+///    i = _SFR_MEM_ADDR (EEARH);
+///    if (i != 0x3F) exit (__LINE__);
+    i = _SFR_IO_ADDR (EEARH);
+    if (i != 0x1F) exit (__LINE__);
+    if (!_SFR_IO_REG_P (EEARH)) exit (__LINE__);
+
+# if	TWBR != 0x00  ||  !_SFR_IO_REG_P (TWBR)
+#  error
+# endif
+    i = _SFR_ADDR (TWBR);
+    if (i != 0x20) exit (__LINE__);
+///    i = _SFR_MEM_ADDR (TWBR);
+///    if (i != 0x20) exit (__LINE__);
+    i = _SFR_IO_ADDR (TWBR);
+    if (i != 0x00) exit (__LINE__);
+    if (!_SFR_IO_REG_P (TWBR)) exit (__LINE__);
+
+#elif	defined (__AVR_ATmega128__)
+
+# if	 UCSR1C != 0x9D  ||  _SFR_IO_REG_P (UCSR1C)
+#  error
+# endif
+    i = _SFR_ADDR (UCSR1C);
+    if (i != 0x9D) exit (__LINE__);
+    i = _SFR_MEM_ADDR (UCSR1C);
+    if (i != 0x9D) exit (__LINE__);
+    if (_SFR_IO_REG_P (UCSR1C)) exit (__LINE__);
+
+# if	DDRF != 0x61  ||  _SFR_IO_REG_P (DDRF)
+#  error
+# endif
+    i = _SFR_ADDR (DDRF);
+    if (i != 0x61) exit (__LINE__);
+    i = _SFR_MEM_ADDR (DDRF);
+    if (i != 0x61) exit (__LINE__);
+    if (_SFR_IO_REG_P (DDRF)) exit (__LINE__);
+
+# if	 SREG != 0x3F  ||  !_SFR_IO_REG_P (SREG)
+#  error
+# endif
+    i = _SFR_ADDR (SREG);
+    if (i != 0x5F) exit (__LINE__);
+///    i = _SFR_MEM_ADDR (SREG);
+///    if (i != 0x5F) exit (__LINE__);
+    i = _SFR_IO_ADDR (SREG);
+    if (i != 0x3F) exit (__LINE__);
+    if (!_SFR_IO_REG_P (SREG)) exit (__LINE__);
+
+# if	SFIOR != 0x20  ||  !_SFR_IO_REG_P (SFIOR)
+#  error
+# endif
+    i = _SFR_ADDR (SFIOR);
+    if (i != 0x40) exit (__LINE__);
+///    i = _SFR_MEM_ADDR (SFIOR);
+///    if (i != 0x40) exit (__LINE__);
+    i = _SFR_IO_ADDR (SFIOR);
+    if (i != 0x20) exit (__LINE__);
+    if (!_SFR_IO_REG_P (SFIOR)) exit (__LINE__);
+
+# if	EEARH != 0x1F  ||  !_SFR_IO_REG_P (EEARH)
+#  error
+# endif
+    i = _SFR_ADDR (EEARH);
+    if (i != 0x3F) exit (__LINE__);
+///    i = _SFR_MEM_ADDR (EEARH);
+///    if (i != 0x3F) exit (__LINE__);
+    i = _SFR_IO_ADDR (EEARH);
+    if (i != 0x1F) exit (__LINE__);
+    if (!_SFR_IO_REG_P (EEARH)) exit (__LINE__);
+
+# if	PINF != 0x00  ||  !_SFR_IO_REG_P (PINF)
+#  error
+# endif
+    i = _SFR_ADDR (PINF);
+    if (i != 0x20) exit (__LINE__);
+///    i = _SFR_MEM_ADDR (PINF);
+///    if (i != 0x20) exit (__LINE__);
+    i = _SFR_IO_ADDR (PINF);
+    if (i != 0x00) exit (__LINE__);
+    if (!_SFR_IO_REG_P (PINF)) exit (__LINE__);
+
+#else
+    (void)i;
+#endif
+
+    /* SREG: mem addr is 0x5F (avr2..avr5)	*/
+
+    cli ();
+    if (inb (SREG) & (1 << SREG_I)) exit (__LINE__);
+    sei ();
+    if (!(inb (SREG) & (1 << SREG_I))) exit (__LINE__);
+
+    p = (void *)_SFR_ADDR (SREG);
+    cli ();
+    if (*p & (1 << SREG_I)) exit (__LINE__);
+    sei ();
+    if (!(*p & (1 << SREG_I))) exit (__LINE__);
+
+///    p = (void *)_SFR_MEM_ADDR (SREG);
+///    cli ();
+///    if (*p & (1 << SREG_I)) exit (__LINE__);
+///    sei ();
+///    if (!(*p & (1 << SREG_I))) exit (__LINE__);
+
+    cli ();
+    asm volatile ("in %0,%1" : "=r" (c) : "I" (_SFR_IO_ADDR (SREG)));
+    if (c & (1 << SREG_I)) exit (__LINE__);
+    sei ();
+    asm volatile ("in %0,%1" : "=r" (c) : "I" (_SFR_IO_ADDR (SREG)));
+    if (!(c & (1 << SREG_I))) exit (__LINE__);
+
+/* TODO: it is needed to update simulavr: do not ask PINx value, if DDRx
+   is set.	*/
+#if 0
+    /* PORTB: mem addr is small	*/
+    DDRB = 0xFF;
+
+    PORTB = 1;
+    nop ();
+    if ((PINB & 3) != 1) exit (__LINE__);
+    PORTB = 2;
+    nop ();
+    if ((PINB & 3) != 2) exit (__LINE__);
+#endif
+
+    return 0;
+}
diff --git a/tests/simulate/avr/sfr-3.c b/tests/simulate/avr/sfr-3.c
new file mode 100644
index 0000000..ecf78d4
--- /dev/null
+++ b/tests/simulate/avr/sfr-3.c
@@ -0,0 +1,261 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of _SFR's macroses.  Semi-old style C program, where the ports are
+   the numbers, suitable to use with LDS/STS instruction.
+   $Id$	*/
+
+#define	_SFR_ASM_COMPAT  1
+#define	__SFR_OFFSET	 0x20
+#include <avr/io.h>
+#include <stdlib.h>
+
+#define cli()	asm volatile ("cli")
+#define sei()	asm volatile ("sei")
+#define nop()	asm volatile ("nop")
+
+/* Get a string like: VALUE(SREG) --> "0x5F"	*/
+#define VALUE(port)	VALUE_2 (port)
+#define VALUE_2(port)	#port
+
+/* Note, this is old style where ports are common numbers.	*/
+#define inb(port)	({				\
+    unsigned char __c;					\
+    asm volatile ("lds %0," VALUE (port) : "=r" (__c));	\
+    __c;						\
+})
+
+int main ()
+{
+    int i;
+    volatile unsigned char *p;
+    unsigned char c;
+
+#if	defined (__AVR_AT90S8515__)
+
+# if	 SREG != 0x5F  ||  !_SFR_IO_REG_P (SREG)
+#  error
+# endif
+    i = _SFR_ADDR (SREG);
+    if (i != 0x5F) exit (__LINE__);
+    i = _SFR_MEM_ADDR (SREG);
+    if (i != 0x5F) exit (__LINE__);
+    i = _SFR_IO_ADDR (SREG);
+    if (i != 0x3F) exit (__LINE__);
+    if (!_SFR_IO_REG_P (SREG)) exit (__LINE__);
+
+# if	WDTCR != 0x41  ||  !_SFR_IO_REG_P (WDTCR)
+#  error
+# endif
+    i = _SFR_ADDR (WDTCR);
+    if (i != 0x41) exit (__LINE__);
+    i = _SFR_MEM_ADDR (WDTCR);
+    if (i != 0x41) exit (__LINE__);
+    i = _SFR_IO_ADDR (WDTCR);
+    if (i != 0x21) exit (__LINE__);
+    if (!_SFR_IO_REG_P (WDTCR)) exit (__LINE__);
+
+# if	EEARH != 0x3F  ||  !_SFR_IO_REG_P (EEARH)
+#  error
+# endif
+    i = _SFR_ADDR (EEARH);
+    if (i != 0x3F) exit (__LINE__);
+    i = _SFR_MEM_ADDR (EEARH);
+    if (i != 0x3F) exit (__LINE__);
+    i = _SFR_IO_ADDR (EEARH);
+    if (i != 0x1F) exit (__LINE__);
+    if (!_SFR_IO_REG_P (EEARH)) exit (__LINE__);
+
+# if	ACSR != 0x28  ||  !_SFR_IO_REG_P (ACSR)
+#  error
+# endif
+    i = _SFR_ADDR (ACSR);
+    if (i != 0x28) exit (__LINE__);
+    i = _SFR_MEM_ADDR (ACSR);
+    if (i != 0x28) exit (__LINE__);
+    i = _SFR_IO_ADDR (ACSR);
+    if (i != 0x08) exit (__LINE__);
+    if (!_SFR_IO_REG_P (ACSR)) exit (__LINE__);
+
+#elif	defined (__AVR_ATmega8__)
+
+# if	 SREG != 0x5F  ||  !_SFR_IO_REG_P (SREG)
+#  error
+# endif
+    i = _SFR_ADDR (SREG);
+    if (i != 0x5F) exit (__LINE__);
+    i = _SFR_MEM_ADDR (SREG);
+    if (i != 0x5F) exit (__LINE__);
+    i = _SFR_IO_ADDR (SREG);
+    if (i != 0x3F) exit (__LINE__);
+    if (!_SFR_IO_REG_P (SREG)) exit (__LINE__);
+
+# if	UCSRC != 0x40  ||  !_SFR_IO_REG_P (UCSRC)
+#  error
+# endif
+    i = _SFR_ADDR (UCSRC);
+    if (i != 0x40) exit (__LINE__);
+    i = _SFR_MEM_ADDR (UCSRC);
+    if (i != 0x40) exit (__LINE__);
+    i = _SFR_IO_ADDR (UCSRC);
+    if (i != 0x20) exit (__LINE__);
+    if (!_SFR_IO_REG_P (UCSRC)) exit (__LINE__);
+
+# if	EEARH != 0x3F  ||  !_SFR_IO_REG_P (EEARH)
+#  error
+# endif
+    i = _SFR_ADDR (EEARH);
+    if (i != 0x3F) exit (__LINE__);
+    i = _SFR_MEM_ADDR (EEARH);
+    if (i != 0x3F) exit (__LINE__);
+    i = _SFR_IO_ADDR (EEARH);
+    if (i != 0x1F) exit (__LINE__);
+    if (!_SFR_IO_REG_P (EEARH)) exit (__LINE__);
+
+# if	TWBR != 0x20  ||  !_SFR_IO_REG_P (TWBR)
+#  error
+# endif
+    i = _SFR_ADDR (TWBR);
+    if (i != 0x20) exit (__LINE__);
+    i = _SFR_MEM_ADDR (TWBR);
+    if (i != 0x20) exit (__LINE__);
+    i = _SFR_IO_ADDR (TWBR);
+    if (i != 0x00) exit (__LINE__);
+    if (!_SFR_IO_REG_P (TWBR)) exit (__LINE__);
+
+#elif	defined (__AVR_ATmega128__)
+
+# if	 UCSR1C != 0x9D  ||  _SFR_IO_REG_P (UCSR1C)
+#  error
+# endif
+    i = _SFR_ADDR (UCSR1C);
+    if (i != 0x9D) exit (__LINE__);
+    i = _SFR_MEM_ADDR (UCSR1C);
+    if (i != 0x9D) exit (__LINE__);
+    if (_SFR_IO_REG_P (UCSR1C)) exit (__LINE__);
+
+# if	DDRF != 0x61  ||  _SFR_IO_REG_P (DDRF)
+#  error
+# endif
+    i = _SFR_ADDR (DDRF);
+    if (i != 0x61) exit (__LINE__);
+    i = _SFR_MEM_ADDR (DDRF);
+    if (i != 0x61) exit (__LINE__);
+    if (_SFR_IO_REG_P (DDRF)) exit (__LINE__);
+
+# if	 SREG != 0x5F  ||  !_SFR_IO_REG_P (SREG)
+#  error
+# endif
+    i = _SFR_ADDR (SREG);
+    if (i != 0x5F) exit (__LINE__);
+    i = _SFR_MEM_ADDR (SREG);
+    if (i != 0x5F) exit (__LINE__);
+    i = _SFR_IO_ADDR (SREG);
+    if (i != 0x3F) exit (__LINE__);
+    if (!_SFR_IO_REG_P (SREG)) exit (__LINE__);
+
+# if	SFIOR != 0x40  ||  !_SFR_IO_REG_P (SFIOR)
+#  error
+# endif
+    i = _SFR_ADDR (SFIOR);
+    if (i != 0x40) exit (__LINE__);
+    i = _SFR_MEM_ADDR (SFIOR);
+    if (i != 0x40) exit (__LINE__);
+    i = _SFR_IO_ADDR (SFIOR);
+    if (i != 0x20) exit (__LINE__);
+    if (!_SFR_IO_REG_P (SFIOR)) exit (__LINE__);
+
+# if	EEARH != 0x3F  ||  !_SFR_IO_REG_P (EEARH)
+#  error
+# endif
+    i = _SFR_ADDR (EEARH);
+    if (i != 0x3F) exit (__LINE__);
+    i = _SFR_MEM_ADDR (EEARH);
+    if (i != 0x3F) exit (__LINE__);
+    i = _SFR_IO_ADDR (EEARH);
+    if (i != 0x1F) exit (__LINE__);
+    if (!_SFR_IO_REG_P (EEARH)) exit (__LINE__);
+
+# if	PINF != 0x20  ||  !_SFR_IO_REG_P (PINF)
+#  error
+# endif
+    i = _SFR_ADDR (PINF);
+    if (i != 0x20) exit (__LINE__);
+    i = _SFR_MEM_ADDR (PINF);
+    if (i != 0x20) exit (__LINE__);
+    i = _SFR_IO_ADDR (PINF);
+    if (i != 0x00) exit (__LINE__);
+    if (!_SFR_IO_REG_P (PINF)) exit (__LINE__);
+
+#else
+    (void)i;
+#endif
+
+    /* SREG: mem addr is 0x5F (avr2..avr5)	*/
+
+    cli ();
+    if (inb (SREG) & (1 << SREG_I)) exit (__LINE__);
+    sei ();
+    if (!(inb (SREG) & (1 << SREG_I))) exit (__LINE__);
+
+    p = (void *)_SFR_ADDR (SREG);
+    cli ();
+    if (*p & (1 << SREG_I)) exit (__LINE__);
+    sei ();
+    if (!(*p & (1 << SREG_I))) exit (__LINE__);
+
+    p = (void *)_SFR_MEM_ADDR (SREG);
+    cli ();
+    if (*p & (1 << SREG_I)) exit (__LINE__);
+    sei ();
+    if (!(*p & (1 << SREG_I))) exit (__LINE__);
+
+    cli ();
+    asm volatile ("in %0,%1" : "=r" (c) : "I" (_SFR_IO_ADDR (SREG)));
+    if (c & (1 << SREG_I)) exit (__LINE__);
+    sei ();
+    asm volatile ("in %0,%1" : "=r" (c) : "I" (_SFR_IO_ADDR (SREG)));
+    if (!(c & (1 << SREG_I))) exit (__LINE__);
+
+/* TODO: it is needed to update simulavr: do not ask PINx value, if DDRx
+   is set.	*/
+#if 0
+    /* PORTB: mem addr is small	*/
+    DDRB = 0xFF;
+
+    PORTB = 1;
+    nop ();
+    if ((PINB & 3) != 1) exit (__LINE__);
+    PORTB = 2;
+    nop ();
+    if ((PINB & 3) != 2) exit (__LINE__);
+#endif
+
+    return 0;
+}
diff --git a/tests/simulate/avr/sfrasm-1.S b/tests/simulate/avr/sfrasm-1.S
new file mode 100644
index 0000000..7ce9288
--- /dev/null
+++ b/tests/simulate/avr/sfrasm-1.S
@@ -0,0 +1,212 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of _SFR's macroses.  Default usage.
+   $Id$	*/
+
+#include <avr/io.h>
+
+#if	defined (__AVR_AT90S8515__)
+
+# if	 SREG != 0x5F			\
+     ||  _SFR_ADDR (SREG) != 0x5F	\
+     ||	 _SFR_MEM_ADDR (SREG) != 0x5F	\
+     ||	 _SFR_IO_ADDR (SREG) != 0x3F	\
+     ||	 !_SFR_IO_REG_P (SREG)
+#  error
+# endif
+
+# if	 WDTCR != 0x41			\
+     ||	 _SFR_ADDR (WDTCR) != 0x41	\
+     ||  _SFR_MEM_ADDR (WDTCR) != 0x41	\
+     ||  _SFR_IO_ADDR (WDTCR) != 0x21	\
+     ||	 !_SFR_IO_REG_P (WDTCR)
+#  error
+# endif
+
+# if	 EEARH != 0x3F			\
+     ||  _SFR_ADDR (EEARH) != 0x3F	\
+     ||  _SFR_MEM_ADDR (EEARH) != 0x3F	\
+     ||  _SFR_IO_ADDR (EEARH) != 0x1F	\
+     ||  !_SFR_IO_REG_P (EEARH)
+#  error
+# endif
+
+# if	 ACSR != 0x28			\
+     ||  _SFR_ADDR (ACSR) != 0x28	\
+     ||  _SFR_MEM_ADDR (ACSR) != 0x28	\
+     ||  _SFR_IO_ADDR (ACSR) != 0x08	\
+     ||  !_SFR_IO_REG_P (ACSR)
+#  error
+# endif
+
+#elif	defined (__AVR_ATmega8__)
+
+# if	 SREG != 0x5F			\
+     ||  _SFR_ADDR (SREG) != 0x5F	\
+     ||  _SFR_MEM_ADDR (SREG) != 0x5F	\
+     ||  _SFR_IO_ADDR (SREG) != 0x3F	\
+     ||  !_SFR_IO_REG_P (SREG)
+#  error
+# endif
+
+# if	 UCSRC != 0x40			\
+     ||  _SFR_ADDR (UCSRC) != 0x40	\
+     ||  _SFR_MEM_ADDR (UCSRC) != 0x40	\
+     ||  _SFR_IO_ADDR (UCSRC) != 0x20	\
+     ||  !_SFR_IO_REG_P (UCSRC)
+#  error
+# endif
+
+# if	 EEARH != 0x3F			\
+     ||  _SFR_ADDR (EEARH) != 0x3F	\
+     ||  _SFR_MEM_ADDR (EEARH) != 0x3F	\
+     ||  _SFR_IO_ADDR (EEARH) != 0x1F	\
+     ||  !_SFR_IO_REG_P (EEARH)
+#  error
+# endif
+
+# if	 TWBR != 0x20			\
+     ||  _SFR_ADDR (TWBR) != 0x20	\
+     ||  _SFR_MEM_ADDR (TWBR) != 0x20	\
+     ||  _SFR_IO_ADDR (TWBR) != 0x00	\
+     ||  !_SFR_IO_REG_P (TWBR)
+#  error
+# endif
+
+#elif	defined (__AVR_ATmega128__)
+
+# if	 UCSR1C != 0x9D			\
+     ||  _SFR_ADDR (UCSR1C) != 0x9D	\
+     ||  _SFR_MEM_ADDR (UCSR1C) != 0x9D	\
+     ||  _SFR_IO_REG_P (UCSR1C)
+#  error
+# endif
+
+# if	 DDRF != 0x61			\
+     ||  _SFR_ADDR (DDRF) != 0x61	\
+     ||  _SFR_MEM_ADDR (DDRF) != 0x61	\
+     ||  _SFR_IO_REG_P (DDRF)
+#  error
+# endif
+
+# if	 SREG != 0x5F			\
+     ||  _SFR_ADDR (SREG) != 0x5F	\
+     ||  _SFR_MEM_ADDR (SREG) != 0x5F	\
+     ||  _SFR_IO_ADDR (SREG) != 0x3F	\
+     ||  !_SFR_IO_REG_P (SREG)
+#  error
+# endif
+
+# if	 SFIOR != 0x40			\
+     ||  _SFR_ADDR (SFIOR) != 0x40	\
+     ||  _SFR_MEM_ADDR (SFIOR) != 0x40	\
+     ||  _SFR_IO_ADDR (SFIOR) != 0x20	\
+     ||  !_SFR_IO_REG_P (SFIOR)
+#  error
+# endif
+
+# if	 EEARH != 0x3F			\
+     ||  _SFR_ADDR (EEARH) != 0x3F	\
+     ||  _SFR_MEM_ADDR (EEARH) != 0x3F	\
+     ||  _SFR_IO_ADDR (EEARH) != 0x1F	\
+     ||  !_SFR_IO_REG_P (EEARH)
+#  error
+# endif
+
+# if	 PINF != 0x20			\
+     ||  _SFR_ADDR (PINF) != 0x20	\
+     ||  _SFR_MEM_ADDR (PINF) != 0x20	\
+     ||  _SFR_IO_ADDR (PINF) != 0x00	\
+     ||  !_SFR_IO_REG_P (PINF)
+#  error
+# endif
+
+#endif
+
+
+.macro	EXIT	result
+	ldi	r24, lo8 (\result)
+	ldi	r25, hi8 (\result)
+	rjmp	exit
+.endm
+
+	.text
+	.global	main
+main:
+	sei
+	lds	r16, SREG
+	sbrc	r16, SREG_I
+	rjmp	0f
+	EXIT	__LINE__
+
+0:	cli
+	lds	r16, SREG
+	sbrs	r16, SREG_I
+	rjmp	0f
+	EXIT	__LINE__
+
+0:	sei
+	lds	r16, _SFR_ADDR (SREG)
+	sbrc	r16, SREG_I
+	rjmp	0f
+	EXIT	__LINE__
+
+0:	cli
+	lds	r16, _SFR_ADDR (SREG)
+	sbrs	r16, SREG_I
+	rjmp	0f
+	EXIT	__LINE__
+
+0:	sei
+	lds	r16, _SFR_MEM_ADDR (SREG)
+	sbrc	r16, SREG_I
+	rjmp	0f
+	EXIT	__LINE__
+
+0:	cli
+	lds	r16, _SFR_MEM_ADDR (SREG)
+	sbrs	r16, SREG_I
+	rjmp	0f
+	EXIT	__LINE__
+
+0:	sei
+	in	r16, _SFR_IO_ADDR (SREG)
+	sbrc	r16, SREG_I
+	rjmp	0f
+	EXIT	__LINE__
+
+0:	cli
+	in	r16, _SFR_IO_ADDR (SREG)
+	sbrs	r16, SREG_I
+	rjmp	0f
+	EXIT	__LINE__
+
+0:	EXIT	0
+	.end
diff --git a/tests/simulate/avr/sfrasm-2.S b/tests/simulate/avr/sfrasm-2.S
new file mode 100644
index 0000000..6c86ad4
--- /dev/null
+++ b/tests/simulate/avr/sfrasm-2.S
@@ -0,0 +1,220 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of _SFR's macroses.  Old style ASM program, where the ports are
+   values, suitable to use with LDS/STS instruction.
+   $Id$	*/
+
+/* XXX: Seems, the _SFR_MEM_ADDR() is worse.  In this case it works only
+   with ports, which have the address higher then SREG.  There is no
+   method to obtain the address suitable for LDS/STS instruction.  Now
+   this test cases are commented.  Second, the _SFR_ADDR() is not defined.
+   This is mismatch to C behavior (_SFR_ASM_COMPAT, __SFR_OFFSET = 0).	*/
+
+#define __SFR_OFFSET	0
+#include <avr/io.h>
+
+#if	defined (__AVR_AT90S8515__)
+
+# if	 SREG != 0x3F			\
+     /*||  _SFR_ADDR (SREG) != 0x5F*/	\
+     /*||  _SFR_MEM_ADDR (SREG) != 0x5F*/	\
+     ||	 _SFR_IO_ADDR (SREG) != 0x3F	\
+     ||	 !_SFR_IO_REG_P (SREG)
+#  error
+# endif
+
+# if	 WDTCR != 0x21			\
+     /*||  _SFR_ADDR (WDTCR) != 0x41*/	\
+     /*||  _SFR_MEM_ADDR (WDTCR) != 0x41*/	\
+     ||  _SFR_IO_ADDR (WDTCR) != 0x21	\
+     ||	 !_SFR_IO_REG_P (WDTCR)
+#  error
+# endif
+
+# if	 EEARH != 0x1F			\
+     /*||  _SFR_ADDR (EEARH) != 0x3F*/	\
+     /*||  _SFR_MEM_ADDR (EEARH) != 0x3F*/	\
+     ||  _SFR_IO_ADDR (EEARH) != 0x1F	\
+     ||  !_SFR_IO_REG_P (EEARH)
+#  error
+# endif
+
+# if	 ACSR != 0x08			\
+     /*||  _SFR_ADDR (ACSR) != 0x28*/	\
+     /*||  _SFR_MEM_ADDR (ACSR) != 0x28*/	\
+     ||  _SFR_IO_ADDR (ACSR) != 0x08	\
+     ||  !_SFR_IO_REG_P (ACSR)
+#  error
+# endif
+
+#elif	defined (__AVR_ATmega8__)
+
+# if	 SREG != 0x3F			\
+     /*||  _SFR_ADDR (SREG) != 0x5F*/	\
+     /*||  _SFR_MEM_ADDR (SREG) != 0x5F*/	\
+     ||  _SFR_IO_ADDR (SREG) != 0x3F	\
+     ||  !_SFR_IO_REG_P (SREG)
+#  error
+# endif
+
+# if	 UCSRC != 0x20			\
+     /*||  _SFR_ADDR (UCSRC) != 0x40*/	\
+     /*||  _SFR_MEM_ADDR (UCSRC) != 0x40*/	\
+     ||  _SFR_IO_ADDR (UCSRC) != 0x20	\
+     ||  !_SFR_IO_REG_P (UCSRC)
+#  error
+# endif
+
+# if	 EEARH != 0x1F			\
+     /*||  _SFR_ADDR (EEARH) != 0x3F*/	\
+     /*||  _SFR_MEM_ADDR (EEARH) != 0x3F*/	\
+     ||  _SFR_IO_ADDR (EEARH) != 0x1F	\
+     ||  !_SFR_IO_REG_P (EEARH)
+#  error
+# endif
+
+# if	 TWBR != 0x00			\
+     /*||  _SFR_ADDR (TWBR) != 0x20*/	\
+     /*||  _SFR_MEM_ADDR (TWBR) != 0x20*/	\
+     ||  _SFR_IO_ADDR (TWBR) != 0x00	\
+     ||  !_SFR_IO_REG_P (TWBR)
+#  error
+# endif
+
+#elif	defined (__AVR_ATmega128__)
+
+# if	 UCSR1C != 0x9D			\
+     /*||  _SFR_ADDR (UCSR1C) != 0x9D*/	\
+     ||  _SFR_MEM_ADDR (UCSR1C) != 0x9D	\
+     ||  _SFR_IO_REG_P (UCSR1C)
+#  error
+# endif
+
+# if	 DDRF != 0x61			\
+     /*||  _SFR_ADDR (DDRF) != 0x61*/	\
+     ||  _SFR_MEM_ADDR (DDRF) != 0x61	\
+     ||  _SFR_IO_REG_P (DDRF)
+#  error
+# endif
+
+# if	 SREG != 0x3F			\
+     /*||  _SFR_ADDR (SREG) != 0x5F*/	\
+     /*||  _SFR_MEM_ADDR (SREG) != 0x5F*/	\
+     ||  _SFR_IO_ADDR (SREG) != 0x3F	\
+     ||  !_SFR_IO_REG_P (SREG)
+#  error
+# endif
+
+# if	 SFIOR != 0x20			\
+     /*||  _SFR_ADDR (SFIOR) != 0x40*/	\
+     /*||  _SFR_MEM_ADDR (SFIOR) != 0x40*/	\
+     ||  _SFR_IO_ADDR (SFIOR) != 0x20	\
+     ||  !_SFR_IO_REG_P (SFIOR)
+#  error
+# endif
+
+# if	 EEARH != 0x1F			\
+     /*||  _SFR_ADDR (EEARH) != 0x3F*/	\
+     /*||  _SFR_MEM_ADDR (EEARH) != 0x3F*/	\
+     ||  _SFR_IO_ADDR (EEARH) != 0x1F	\
+     ||  !_SFR_IO_REG_P (EEARH)
+#  error
+# endif
+
+# if	 PINF != 0x00			\
+     /*||  _SFR_ADDR (PINF) != 0x20*/	\
+     /*||  _SFR_MEM_ADDR (PINF) != 0x20*/	\
+     ||  _SFR_IO_ADDR (PINF) != 0x00	\
+     ||  !_SFR_IO_REG_P (PINF)
+#  error
+# endif
+
+#endif
+
+
+.macro	EXIT	result
+	ldi	r24, lo8 (\result)
+	ldi	r25, hi8 (\result)
+	rjmp	exit
+.endm
+
+	.text
+	.global	main
+main:
+	sei
+	in	r16, SREG
+	sbrc	r16, SREG_I
+	rjmp	0f
+	EXIT	__LINE__
+
+0:	cli
+	in	r16, SREG
+	sbrs	r16, SREG_I
+	rjmp	0f
+	EXIT	__LINE__
+
+0:	sei
+;;;	lds	r16, _SFR_ADDR (SREG)
+;;;	sbrc	r16, SREG_I
+	rjmp	0f
+	EXIT	__LINE__
+
+0:	cli
+;;;	lds	r16, _SFR_ADDR (SREG)
+;;;	sbrs	r16, SREG_I
+	rjmp	0f
+	EXIT	__LINE__
+
+0:	sei
+;;;	lds	r16, _SFR_MEM_ADDR (SREG)
+;;;	sbrc	r16, SREG_I
+	rjmp	0f
+	EXIT	__LINE__
+
+0:	cli
+;;;	lds	r16, _SFR_MEM_ADDR (SREG)
+;;;	sbrs	r16, SREG_I
+	rjmp	0f
+	EXIT	__LINE__
+
+0:	sei
+	in	r16, _SFR_IO_ADDR (SREG)
+	sbrc	r16, SREG_I
+	rjmp	0f
+	EXIT	__LINE__
+
+0:	cli
+	in	r16, _SFR_IO_ADDR (SREG)
+	sbrs	r16, SREG_I
+	rjmp	0f
+	EXIT	__LINE__
+
+0:	EXIT	0
+	.end
diff --git a/tests/simulate/avr/sfrasm-3.S b/tests/simulate/avr/sfrasm-3.S
new file mode 100644
index 0000000..a79a20d
--- /dev/null
+++ b/tests/simulate/avr/sfrasm-3.S
@@ -0,0 +1,34 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of _SFR's macroses.  Implicit setting of default behaviour.
+   $Id$	*/
+
+#define __SFR_OFFSET	0x20
+#include "sfrasm-1.S"
diff --git a/tests/simulate/fplib/add-01.c b/tests/simulate/fplib/add-01.c
new file mode 100644
index 0000000..25e964e
--- /dev/null
+++ b/tests/simulate/fplib/add-01.c
@@ -0,0 +1,126 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of addition.  Simple cases.
+   $Id$
+ */
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+volatile union lofl_u v = { .lo = 1 };
+
+PROGMEM const struct {		/* Table of test cases:  x + y = z	*/
+    union lofl_u x, y, z;
+} t[] = {
+
+    /* 0.0 + 0.0	*/
+    { { 0x00000000 }, { 0x00000000 }, { 0x00000000 } },
+    { { 0x00000000 }, { 0x80000000 }, { 0x00000000 } },
+    { { 0x80000000 }, { 0x00000000 }, { 0x00000000 } },
+    { { 0x80000000 }, { 0x80000000 }, { 0x80000000 } },
+    
+    /* x + 0.0	*/
+    { { 0x00000001 }, { 0x00000000 }, { 0x00000001 }	},
+    { { 0x00000100 }, { 0x00000000 }, { 0x00000100 }	},
+    { { 0x00010000 }, { 0x00000000 }, { 0x00010000 }	},
+    { { 0x007fffff }, { 0x00000000 }, { 0x007fffff }	},
+    { { 0x00800000 }, { 0x00000000 }, { 0x00800000 }	},
+    { { 0x7f7fffff }, { 0x00000000 }, { 0x7f7fffff }	},
+    { { 0x80000001 }, { 0x00000000 }, { 0x80000001 }	},
+    { { 0x80000100 }, { 0x00000000 }, { 0x80000100 }	},
+    { { 0x80010000 }, { 0x00000000 }, { 0x80010000 }	},
+    { { 0x807fffff }, { 0x00000000 }, { 0x807fffff }	},
+    { { 0x80800000 }, { 0x00000000 }, { 0x80800000 }	},
+    { { 0xff7fffff }, { 0x00000000 }, { 0xff7fffff }	},
+    
+    /* 0.0 + x	*/
+    { { 0x00000000 }, { 0x00000001 }, { 0x00000001 }	},
+    { { 0x00000000 }, { 0x00000100 }, { 0x00000100 }	},
+    { { 0x00000000 }, { 0x00010000 }, { 0x00010000 }	},
+    { { 0x00000000 }, { 0x007fffff }, { 0x007fffff }	},
+    { { 0x00000000 }, { 0x00800000 }, { 0x00800000 }	},
+    { { 0x00000000 }, { 0x7f7fffff }, { 0x7f7fffff }	},
+    { { 0x00000000 }, { 0x80000001 }, { 0x80000001 }	},
+    { { 0x00000000 }, { 0x80000100 }, { 0x80000100 }	},
+    { { 0x00000000 }, { 0x80010000 }, { 0x80010000 }	},
+    { { 0x00000000 }, { 0x807fffff }, { 0x807fffff }	},
+    { { 0x00000000 }, { 0x80800000 }, { 0x80800000 }	},
+    { { 0x00000000 }, { 0xff7fffff }, { 0xff7fffff }	},
+    
+    /* with -0.0	*/
+    { { .fl = +1.0 }, { 0x80000000 }, { .fl = +1.0 }	},
+    { { .fl = -1.0 }, { 0x80000000 }, { .fl = -1.0 }	},
+    { { 0x80000000 }, { .fl = +1.0 }, { .fl = +1.0 }	},
+    { { 0x80000000 }, { .fl = -1.0 }, { .fl = -1.0 }	},
+    
+    /* x + (-x)		*/
+    { { 0x00000001 }, { 0x80000001 }, { 0 }	},
+    { { 0x00000100 }, { 0x80000100 }, { 0 }	},
+    { { 0x00010000 }, { 0x80010000 }, { 0 }	},
+    { { 0x007fffff }, { 0x807fffff }, { 0 }	},
+    { { 0x00800000 }, { 0x80800000 }, { 0 }	},
+    { { 0x7f7fffff }, { 0xff7fffff }, { 0 }	},
+    { { 0x80000001 }, { 0x00000001 }, { 0 }	},
+    { { 0x80000100 }, { 0x00000100 }, { 0 }	},
+    { { 0x80010000 }, { 0x00010000 }, { 0 }	},
+    { { 0x807fffff }, { 0x007fffff }, { 0 }	},
+    { { 0x80800000 }, { 0x00800000 }, { 0 }	},
+    { { 0xff7fffff }, { 0x7f7fffff }, { 0 }	},
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]:  %#lx\n", index - 1, v.lo);
+#endif
+    exit (index ? index : -1);
+}
+
+int main ()
+{
+    union lofl_u x,y,z;
+    int i;
+    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	x.lo = pgm_read_dword (& t[i].x);
+	y.lo = pgm_read_dword (& t[i].y);
+	z.lo = pgm_read_dword (& t[i].z);
+	v.fl = x.fl + y.fl;
+	/* Comparison is integer to verify the zero sign.	*/
+	if (v.lo != z.lo)
+	    x_exit (i+1);
+    }
+    return 0;
+}
diff --git a/tests/simulate/fplib/add-02.c b/tests/simulate/fplib/add-02.c
new file mode 100644
index 0000000..1abff41
--- /dev/null
+++ b/tests/simulate/fplib/add-02.c
@@ -0,0 +1,129 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of addition.  Shift is needed.
+   $Id$
+ */
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+volatile union lofl_u v = { .lo = 1 };
+
+PROGMEM const struct {		/* Table of test cases:  x + y = z	*/
+    union lofl_u x, y, z;
+} t[] = {
+
+    /* 1.0 + y	*/
+    { { 0x3f800000 }, { 0x3f000000 }, { 0x3fc00000 } },
+    { { 0x3f800000 }, { 0x3e800000 }, { 0x3fa00000 } },
+    { { 0x3f800000 }, { 0x3e000000 }, { 0x3f900000 } },
+    { { 0x3f800000 }, { 0x3d800000 }, { 0x3f880000 } },
+    { { 0x3f800000 }, { 0x3d000000 }, { 0x3f840000 } },
+    { { 0x3f800000 }, { 0x3c800000 }, { 0x3f820000 } },
+    { { 0x3f800000 }, { 0x3c000000 }, { 0x3f810000 } },
+    { { 0x3f800000 }, { 0x3b800000 }, { 0x3f808000 } },
+    { { 0x3f800000 }, { 0x3b000000 }, { 0x3f804000 } },
+    { { 0x3f800000 }, { 0x3a800000 }, { 0x3f802000 } },
+    { { 0x3f800000 }, { 0x3a000000 }, { 0x3f801000 } },
+    { { 0x3f800000 }, { 0x39800000 }, { 0x3f800800 } },
+    { { 0x3f800000 }, { 0x39000000 }, { 0x3f800400 } },
+    { { 0x3f800000 }, { 0x38800000 }, { 0x3f800200 } },
+    { { 0x3f800000 }, { 0x38000000 }, { 0x3f800100 } },
+    { { 0x3f800000 }, { 0x37800000 }, { 0x3f800080 } },
+    { { 0x3f800000 }, { 0x37000000 }, { 0x3f800040 } },
+    { { 0x3f800000 }, { 0x36800000 }, { 0x3f800020 } },
+    { { 0x3f800000 }, { 0x36000000 }, { 0x3f800010 } },
+    { { 0x3f800000 }, { 0x35800000 }, { 0x3f800008 } },
+    { { 0x3f800000 }, { 0x35000000 }, { 0x3f800004 } },
+    { { 0x3f800000 }, { 0x34800000 }, { 0x3f800002 } },
+    { { 0x3f800000 }, { 0x34000000 }, { 0x3f800001 } },
+    { { 0x3f800000 }, { 0x33800000 }, { 0x3f800000 } },
+    { { 0x3f800000 }, { 0x33000000 }, { 0x3f800000 } },
+    { { 0x3f800000 }, { 0x00000001 }, { 0x3f800000 } },
+    
+    /* ~1.0 - y	*/
+    { { 0x3f7fffff }, { 0xbe800000 }, { 0x3f3fffff } },
+    { { 0x3f7fffff }, { 0xbe000000 }, { 0x3f5fffff } },
+    { { 0x3f7fffff }, { 0xbd800000 }, { 0x3f6fffff } },
+    { { 0x3f7fffff }, { 0xbd000000 }, { 0x3f77ffff } },
+    { { 0x3f7fffff }, { 0xbc800000 }, { 0x3f7bffff } },
+    { { 0x3f7fffff }, { 0xbc000000 }, { 0x3f7dffff } },
+    { { 0x3f7fffff }, { 0xbb800000 }, { 0x3f7effff } },
+    { { 0x3f7fffff }, { 0xbb000000 }, { 0x3f7f7fff } },
+    { { 0x3f7fffff }, { 0xba800000 }, { 0x3f7fbfff } },
+    { { 0x3f7fffff }, { 0xba000000 }, { 0x3f7fdfff } },
+    { { 0x3f7fffff }, { 0xb9800000 }, { 0x3f7fefff } },
+    { { 0x3f7fffff }, { 0xb9000000 }, { 0x3f7ff7ff } },
+    { { 0x3f7fffff }, { 0xb8800000 }, { 0x3f7ffbff } },
+    { { 0x3f7fffff }, { 0xb8000000 }, { 0x3f7ffdff } },
+    { { 0x3f7fffff }, { 0xb7800000 }, { 0x3f7ffeff } },
+    { { 0x3f7fffff }, { 0xb7000000 }, { 0x3f7fff7f } },
+    { { 0x3f7fffff }, { 0xb6800000 }, { 0x3f7fffbf } },
+    { { 0x3f7fffff }, { 0xb6000000 }, { 0x3f7fffdf } },
+    { { 0x3f7fffff }, { 0xb5800000 }, { 0x3f7fffef } },
+    { { 0x3f7fffff }, { 0xb5000000 }, { 0x3f7ffff7 } },
+    { { 0x3f7fffff }, { 0xb4800000 }, { 0x3f7ffffb } },
+    { { 0x3f7fffff }, { 0xb4000000 }, { 0x3f7ffffd } },
+    { { 0x3f7fffff }, { 0xb3800000 }, { 0x3f7ffffe } },
+    { { 0x3f7fffff }, { 0xb3000000 }, { 0x3f7ffffe } },
+    { { 0x3f7fffff }, { 0xb2800000 }, { 0x3f7fffff } },
+    { { 0x3f7fffff }, { 0xb2000000 }, { 0x3f7fffff } },
+    { { 0x3f7fffff }, { 0x80000001 }, { 0x3f7fffff } },
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]:  %#lx\n", index - 1, v.lo);
+#endif
+    exit (index ? index : -1);
+}
+
+int main ()
+{
+    union lofl_u x,y,z;
+    int i;
+    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	x.lo = pgm_read_dword (& t[i].x);
+	y.lo = pgm_read_dword (& t[i].y);
+	z.lo = pgm_read_dword (& t[i].z);
+	v.fl = x.fl + y.fl;
+	/* Comparison is integer to verify the zero sign.	*/
+	if (v.lo != z.lo)
+	    x_exit (i+1);
+    }
+    return 0;
+}
diff --git a/tests/simulate/fplib/add-03.c b/tests/simulate/fplib/add-03.c
new file mode 100644
index 0000000..0cf0f4f
--- /dev/null
+++ b/tests/simulate/fplib/add-03.c
@@ -0,0 +1,93 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of addition.  Rounding.
+   $Id$
+ */
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+volatile union lofl_u v = { .lo = 1 };
+
+PROGMEM const struct {		/* Table of test cases:  x + y = z	*/
+    union lofl_u x, y, z;
+} t[] = {
+
+    /* The remainder is exactly 0.5: look the smart rounding direction. */
+    { { .fl = 0x0.8p0 }, { .fl = 0x0.0000008p0 }, { .fl = 0x0.800000p0 } },
+    { { .fl = 0x0.8p0 }, { .fl = 0x0.0000010p0 }, { .fl = 0x0.800001p0 } },
+    { { .fl = 0x0.8p0 }, { .fl = 0x0.0000018p0 }, { .fl = 0x0.800002p0 } },
+    { { .fl = 0x0.8p0 }, { .fl = 0x0.0000020p0 }, { .fl = 0x0.800002p0 } },
+    { { .fl = 0x0.8p0 }, { .fl = 0x0.0000028p0 }, { .fl = 0x0.800002p0 } },
+    { { .fl = 0x0.8p0 }, { .fl = 0x0.0000030p0 }, { .fl = 0x0.800003p0 } },
+    { { .fl = 0x0.8p0 }, { .fl = 0x0.0000038p0 }, { .fl = 0x0.800004p0 } },
+    { { .fl = 0x0.8p0 }, { .fl = 0x0.0000040p0 }, { .fl = 0x0.800004p0 } },
+
+    /* The remainder is exactly 0.5, subtraction.	*/
+    { { .fl = 0x0.9p0 }, { .fl = -0x0.0000008p0 }, { .fl = 0x0.900000p0 } },
+    { { .fl = 0x0.9p0 }, { .fl = -0x0.0000010p0 }, { .fl = 0x0.8fffffp0 } },
+    { { .fl = 0x0.9p0 }, { .fl = -0x0.0000018p0 }, { .fl = 0x0.8ffffep0 } },
+    { { .fl = 0x0.9p0 }, { .fl = -0x0.0000020p0 }, { .fl = 0x0.8ffffep0 } },
+    { { .fl = 0x0.9p0 }, { .fl = -0x0.0000028p0 }, { .fl = 0x0.8ffffep0 } },
+    { { .fl = 0x0.9p0 }, { .fl = -0x0.0000030p0 }, { .fl = 0x0.8ffffdp0 } },
+    { { .fl = 0x0.9p0 }, { .fl = -0x0.0000038p0 }, { .fl = 0x0.8ffffcp0 } },
+    { { .fl = 0x0.9p0 }, { .fl = -0x0.0000040p0 }, { .fl = 0x0.8ffffcp0 } },
+
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]:  %#lx\n", index - 1, v.lo);
+#endif
+    exit (index ? index : -1);
+}
+
+int main ()
+{
+    union lofl_u x,y,z;
+    int i;
+    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	x.lo = pgm_read_dword (& t[i].x);
+	y.lo = pgm_read_dword (& t[i].y);
+	z.lo = pgm_read_dword (& t[i].z);
+	v.fl = x.fl + y.fl;
+	/* Comparison is integer to verify the zero sign.	*/
+	if (v.lo != z.lo)
+	    x_exit (i+1);
+    }
+    return 0;
+}
diff --git a/tests/simulate/fplib/add-500.c b/tests/simulate/fplib/add-500.c
new file mode 100644
index 0000000..b128ae5
--- /dev/null
+++ b/tests/simulate/fplib/add-500.c
@@ -0,0 +1,573 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of addition.  Random cases.
+   $Id$
+ */
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+volatile union lofl_u v = { .lo = 1 };
+
+PROGMEM const struct {		/* Table of test cases:  x + y = z	*/
+    long x, y, z;
+} t[] = {
+
+    { 0xc224056f, 0x3dd8cd18, 0xc2239908 },  /*   1: -4.1005306e+01  1.0585994e-01 -4.0899446e+01 */
+    { 0x42c688e7, 0xc00e543f, 0x42c21645 },  /*   2:  9.9267387e+01 -2.2238920e+00  9.7043495e+01 */
+    { 0x417341e3, 0xd396b743, 0xd396b743 },  /*   3:  1.5203586e+01 -1.2946394e+12 -1.2946394e+12 */
+    { 0xc16d3668, 0x42637e1e, 0x42283084 },  /*   4: -1.4825783e+01  5.6873161e+01  4.2047379e+01 */
+    { 0xbdc7e165, 0x4787242a, 0x4787241e },  /*   5: -9.7597875e-02  6.9192328e+04  6.9192231e+04 */
+    { 0xbe120ff8, 0x49f0ca40, 0x49f0ca3f },  /*   6: -1.4263904e-01  1.9725520e+06  1.9725519e+06 */
+    { 0x41930068, 0xbf093b35, 0x418eb68e },  /*   7:  1.8375198e+01 -5.3605968e-01  1.7839139e+01 */
+    { 0xbf135d14, 0x3d274803, 0xbf08e894 },  /*   8: -5.7563901e-01  4.0840160e-02 -5.3479885e-01 */
+    { 0xbfdd1f85, 0xbfea34d9, 0xc063aa2f },  /*   9: -1.7275244e+00 -1.8297378e+00 -3.5572622e+00 */
+    { 0x5ad889bb, 0x3f318bda, 0x5ad889bb },  /*  10:  3.0475016e+16  6.9354022e-01  3.0475016e+16 */
+    { 0x3f101385, 0xbffcdf59, 0xbfb4d596 },  /*  11:  5.6279784e-01 -1.9755660e+00 -1.4127682e+00 */
+    { 0x70bc9c79, 0xbfa524dd, 0x70bc9c79 },  /*  12:  4.6697877e+29 -1.2901875e+00  4.6697877e+29 */
+    { 0x426d7577, 0xbfe3d6bb, 0x426656c1 },  /*  13:  5.9364712e+01 -1.7799906e+00  5.7584721e+01 */
+    { 0x3ffa9cb7, 0xbf4edcc9, 0x3f932e52 },  /*  14:  1.9579076e+00 -8.0805641e-01  1.1498511e+00 */
+    { 0x4690b2ca, 0x3fb2068e, 0x4690b592 },  /*  15:  1.8521395e+04  1.3908250e+00  1.8522785e+04 */
+    { 0xbc20b102, 0xbf01ab0a, 0xbf042dce },  /*  16: -9.8078270e-03 -5.0651610e-01 -5.1632393e-01 */
+    { 0xc3f8489a, 0xcdd0e459, 0xcdd0e469 },  /*  17: -4.9656720e+02 -4.3807824e+08 -4.3807874e+08 */
+    { 0x4490f867, 0xc0c86bbb, 0x44902ffb },  /*  18:  1.1597626e+03 -6.2631507e+00  1.1534994e+03 */
+    { 0xbd8175b9, 0xc29cbb3a, 0xc29cdb97 },  /*  19: -6.3212819e-02 -7.8365677e+01 -7.8428890e+01 */
+    { 0x3ca3787d, 0xbfe0e68e, 0xbfde58ac },  /*  20:  1.9954914e-02 -1.7570360e+00 -1.7370811e+00 */
+    { 0xbef9d6a9, 0x3f1ca8b2, 0x3dfdeaec },  /*  21: -4.8796585e-01  6.1194909e-01  1.2398323e-01 */
+    { 0xc304ccff, 0x428af5e6, 0xc27d4830 },  /*  22: -1.3280077e+02  6.9480270e+01 -6.3320496e+01 */
+    { 0x3f316d32, 0x44114c12, 0x4411786d },  /*  23:  6.9307244e-01  5.8118860e+02  5.8188167e+02 */
+    { 0x41c7bb8b, 0x410dc723, 0x42074f8e },  /*  24:  2.4966574e+01  8.8611174e+00  3.3827691e+01 */
+    { 0xc14b7c2e, 0xbc42d728, 0xc14bace4 },  /*  25: -1.2717817e+01 -1.1892118e-02 -1.2729709e+01 */
+    { 0xc2a1b905, 0x3f533e8d, 0xc2a01288 },  /*  26: -8.0861366e+01  8.2517320e-01 -8.0036193e+01 */
+    { 0xbf18f2e8, 0xbe5c8df4, 0xbf501665 },  /*  27: -5.9745646e-01 -2.1538526e-01 -8.1284171e-01 */
+    { 0xbf5478ab, 0xbd3052e0, 0xbf5f7dd9 },  /*  28: -8.2996625e-01 -4.3047786e-02 -8.7301403e-01 */
+    { 0xc1df2794, 0xbf17065c, 0xc1e3dfc7 },  /*  29: -2.7894325e+01 -5.8994079e-01 -2.8484266e+01 */
+    { 0xc19556e5, 0xbd8790e6, 0xc195de76 },  /*  30: -1.8667429e+01 -6.6194341e-02 -1.8733623e+01 */
+    { 0xc20a9ca7, 0xbff18abb, 0xc21228fd },  /*  31: -3.4652981e+01 -1.8870462e+00 -3.6540027e+01 */
+    { 0x3f06ef9e, 0x3f4cd7a1, 0x3fa9e3a0 },  /*  32:  5.2709377e-01  8.0016524e-01  1.3272590e+00 */
+    { 0x410e01a6, 0xc0c0843c, 0x4036fe20 },  /*  33:  8.8754025e+00 -6.0161419e+00  2.8592606e+00 */
+    { 0x3c2fb0ab, 0x3fc1ef02, 0x3fc34e63 },  /*  34:  1.0723273e-02  1.5151064e+00  1.5258297e+00 */
+    { 0x3fddf13e, 0x40e87fe3, 0x410ffe19 },  /*  35:  1.7339246e+00  7.2656112e+00  8.9995358e+00 */
+    { 0x41382ab7, 0x4c83f771, 0x4c83f772 },  /*  36:  1.1510428e+01  6.9188488e+07  6.9188500e+07 */
+    { 0xbf0bab64, 0xbbd49ef5, 0xbf0d54a2 },  /*  37: -5.4558396e-01 -6.4886757e-03 -5.5207264e-01 */
+    { 0xc000549a, 0x4053d5d7, 0x3fa7027a },  /*  38: -2.0051637e+00  3.3099267e+00  1.3047631e+00 */
+    { 0x3528e8fc, 0xb9d67515, 0xb9d620a1 },  /*  39:  6.2923914e-07 -4.0904494e-04 -4.0841570e-04 */
+    { 0x429309f0, 0xc3167ce7, 0xc299efde },  /*  40:  7.3519409e+01 -1.5048790e+02 -7.6968491e+01 */
+    { 0x470881eb, 0x3d1230fa, 0x470881f4 },  /*  41:  3.4945918e+04  3.5691239e-02  3.4945954e+04 */
+    { 0x3fba3cea, 0xc07bf016, 0xc01ed1a1 },  /*  42:  1.4549839e+00 -3.9365287e+00 -2.4815447e+00 */
+    { 0xbe1a1b52, 0x4606cc6e, 0x4606cbd4 },  /*  43: -1.5049484e-01  8.6271074e+03  8.6269569e+03 */
+    { 0x3d6980b7, 0x3df73480, 0x3e35fa6e },  /*  44:  5.7007518e-02  1.2070560e-01  1.7771312e-01 */
+    { 0x423dcbe2, 0xbf3cc008, 0x423ad8e2 },  /*  45:  4.7449104e+01 -7.3730516e-01  4.6711799e+01 */
+    { 0x3dcbdfc6, 0x3cc4ef40, 0x3dfd1b96 },  /*  46:  9.9547908e-02  2.4039865e-02  1.2358777e-01 */
+    { 0xd97a6fcc, 0xbff642aa, 0xd97a6fcc },  /*  47: -4.4057291e+15 -1.9239094e+00 -4.4057291e+15 */
+    { 0x3d5bda53, 0xc2442ff2, 0xc243f8fb },  /*  48:  5.3675007e-02 -4.9046822e+01 -4.8993147e+01 */
+    { 0x39d9b6da, 0x3d8f206d, 0x3d8ffa24 },  /*  49:  4.1525700e-04  6.9886066e-02  7.0301323e-02 */
+    { 0x3e19f801, 0x3e70bc6c, 0x3ec55a36 },  /*  50:  1.5036012e-01  2.3509377e-01  3.8545389e-01 */
+    { 0xba5ba145, 0xbf306af3, 0xbf30a1db },  /*  51: -8.3782180e-04 -6.8913192e-01 -6.8996974e-01 */
+    { 0xc1bfb3b7, 0xbe080af1, 0xc1c0c3cd },  /*  52: -2.3962751e+01 -1.3285424e-01 -2.4095606e+01 */
+    { 0xbfe5f74d, 0x3dd4d4a0, 0xbfd8aa03 },  /*  53: -1.7966095e+00  1.0392118e-01 -1.6926883e+00 */
+    { 0x3fd8d535, 0x3df96d47, 0x3fe86c09 },  /*  54:  1.6940066e+00  1.2179046e-01  1.8157970e+00 */
+    { 0xc446be7d, 0xbfee387e, 0xc4473599 },  /*  55: -7.9497638e+02 -1.8610990e+00 -7.9683748e+02 */
+    { 0x80000000, 0x40f2c2d8, 0x40f2c2d8 },  /*  56: -0.0000000e+00  7.5862846e+00  7.5862846e+00 */
+    { 0xbdf2d05c, 0x3b71cf23, 0xbdeb41e3 },  /*  57: -1.1856148e-01  3.6897145e-03 -1.1487176e-01 */
+    { 0x3f242fe6, 0xbe282df7, 0x3ef448d0 },  /*  58:  6.4135587e-01 -1.6423784e-01  4.7711803e-01 */
+    { 0x41725de0, 0x38d67795, 0x41725e4b },  /*  59:  1.5147919e+01  1.0226589e-04  1.5148021e+01 */
+    { 0xbfec624a, 0xbdfb2e04, 0xbffc152a },  /*  60: -1.8467495e+00 -1.2264636e-01 -1.9693959e+00 */
+    { 0xbfd70a42, 0x3ddab950, 0xbfc95ead },  /*  61: -1.6800005e+00  1.0679877e-01 -1.5732018e+00 */
+    { 0x3c843978, 0xbff92252, 0xbff7116c },  /*  62:  1.6140684e-02 -1.9463599e+00 -1.9302192e+00 */
+    { 0xd76494e0, 0x41c40846, 0xd76494e0 },  /*  63: -2.5132806e+14  2.4504040e+01 -2.5132806e+14 */
+    { 0xc11af3c4, 0x41894216, 0x40ef20d0 },  /*  64: -9.6845131e+00  1.7157269e+01  7.4727554e+00 */
+    { 0x3fe75c10, 0x42774ab1, 0x427e8592 },  /*  65:  1.8074970e+00  6.1822941e+01  6.3630438e+01 */
+    { 0x407991cd, 0xb2ce7069, 0x407991cd },  /*  66:  3.8995240e+00 -2.4032675e-08  3.8995239e+00 */
+    { 0x41f1cd89, 0x40c6cce9, 0x4211c062 },  /*  67:  3.0225359e+01  6.2125134e+00  3.6437872e+01 */
+    { 0x46b31a2c, 0x40a4ff64, 0x46b3247c },  /*  68:  2.2925086e+04  5.1561756e+00  2.2930242e+04 */
+    { 0x41116a41, 0x3f3e00e6, 0x411d4a4f },  /*  69:  9.0884409e+00  7.4220121e-01  9.8306421e+00 */
+    { 0x414166c6, 0x43903411, 0x43963f47 },  /*  70:  1.2087591e+01  2.8840677e+02  3.0049436e+02 */
+    { 0x40c12d26, 0xbff00486, 0x40852c04 },  /*  71:  6.0367613e+00 -1.8751380e+00  4.1616232e+00 */
+    { 0x3bdf2eb6, 0xc5a3c470, 0xc5a3c462 },  /*  72:  6.8109883e-03 -5.2405547e+03 -5.2405479e+03 */
+    { 0xbfc8ae1f, 0xbdde02a2, 0xbfd68e49 },  /*  73: -1.5678138e+00 -1.0840346e-01 -1.6762172e+00 */
+    { 0xb74e47a8, 0xbd4cd843, 0xbd4ce527 },  /*  74: -1.2295241e-05 -5.0010931e-02 -5.0023226e-02 */
+    { 0x3f3c6660, 0x3fd98178, 0x401bda54 },  /*  75:  7.3593712e-01  1.6992636e+00  2.4352007e+00 */
+    { 0xbf16fc4b, 0x3f487ded, 0x3e460688 },  /*  76: -5.8978719e-01  7.8317147e-01  1.9338429e-01 */
+    { 0xb193fc8f, 0x5256c36d, 0x5256c36d },  /*  77: -4.3069757e-09  2.3060043e+11  2.3060043e+11 */
+    { 0xc1a320fb, 0xbfce5b5e, 0xc1b006b1 },  /*  78: -2.0391104e+01 -1.6121633e+00 -2.2003267e+01 */
+    { 0x3de03686, 0x40f8f1bf, 0x40fc7299 },  /*  79:  1.0947900e-01  7.7795100e+00  7.8889890e+00 */
+    { 0xbf0a78d0, 0x3f1893a4, 0x3d61ad40 },  /*  80: -5.4090595e-01  5.9600282e-01  5.5096865e-02 */
+    { 0xbe5313e0, 0xbe047bdb, 0xbeabc7de },  /*  81: -2.0613050e-01 -1.2937872e-01 -3.3550923e-01 */
+    { 0xbffa2306, 0xc3d10abc, 0xc3d204df },  /*  82: -1.9541938e+00 -4.1808386e+02 -4.2003806e+02 */
+    { 0xbfdceb28, 0x2c8e90dd, 0xbfdceb28 },  /*  83: -1.7259264e+00  4.0519658e-12 -1.7259264e+00 */
+    { 0xbf1f1f23, 0xc304acfc, 0xc3054c1b },  /*  84: -6.2156886e-01 -1.3267572e+02 -1.3329729e+02 */
+    { 0x40ebbdfb, 0x40e7f576, 0x4169d9b8 },  /*  85:  7.3669410e+00  7.2487135e+00  1.4615654e+01 */
+    { 0xc11df495, 0xbe16ff65, 0xc1205093 },  /*  86: -9.8722124e+00 -1.4745863e-01 -1.0019671e+01 */
+    { 0x3f1e3f5a, 0x3e2e2473, 0x3f49c877 },  /*  87:  6.1815417e-01  1.7006092e-01  7.8821509e-01 */
+    { 0x3fba0871, 0xbe7e8614, 0x3f9a37ae },  /*  88:  1.4533826e+00 -2.4855834e-01  1.2048243e+00 */
+    { 0x408cfb1e, 0x3f081858, 0x409dfe29 },  /*  89:  4.4056540e+00  5.3162146e-01  4.9372754e+00 */
+    { 0x3b65b098, 0xc00667f3, 0xc0062e87 },  /*  90:  3.5047885e-03 -2.1000946e+00 -2.0965898e+00 */
+    { 0x3fc16e5e, 0x3fd845ab, 0x404cda04 },  /*  91:  1.5111806e+00  1.6896261e+00  3.2008067e+00 */
+    { 0xbddac78c, 0xc2aa2136, 0xc2aa57e8 },  /*  92: -1.0682592e-01 -8.5064865e+01 -8.5171691e+01 */
+    { 0xbfdf1f53, 0x718b7c39, 0x718b7c39 },  /*  93: -1.7431434e+00  1.3813950e+30  1.3813950e+30 */
+    { 0xbe0d9bb9, 0xc12e3895, 0xc1306f04 },  /*  94: -1.3828935e-01 -1.0888814e+01 -1.1027103e+01 */
+    { 0x3db46906, 0x407cd726, 0x40813d37 },  /*  95:  8.8090941e-02  3.9506316e+00  4.0387226e+00 */
+    { 0xce11dca7, 0xbbd9da30, 0xce11dca7 },  /*  96: -6.1178925e+08 -6.6483244e-03 -6.1178925e+08 */
+    { 0xac03e362, 0x4700dde0, 0x4700dde0 },  /*  97: -1.8742442e-12  3.2989875e+04  3.2989875e+04 */
+    { 0x3f94f3fd, 0xc1eb7605, 0xc1e226c5 },  /*  98:  1.1636959e+00 -2.9432627e+01 -2.8268931e+01 */
+    { 0x76101ea0, 0xbf209f2a, 0x76101ea0 },  /*  99:  7.3077334e+32 -6.2742865e-01  7.3077334e+32 */
+    { 0xbe60bcf7, 0x3f875421, 0x3f567904 },  /* 100: -2.1947084e-01  1.0572549e+00  8.3778407e-01 */
+    { 0xbb5166c0, 0xb0e5e7b9, 0xbb5166c7 },  /* 101: -3.1952113e-03 -1.6727802e-09 -3.1952130e-03 */
+    { 0xbe4d4516, 0x4178bcee, 0x417587da },  /* 102: -2.0045885e-01  1.5546125e+01  1.5345667e+01 */
+    { 0x3ff4fd29, 0x3ffe3f29, 0x40799e29 },  /* 103:  1.9139758e+00  1.9863025e+00  3.9002783e+00 */
+    { 0xc5855426, 0xbff806e2, 0xc58563a6 },  /* 104: -4.2665186e+03 -1.9377100e+00 -4.2684563e+03 */
+    { 0xbf401186, 0x4091bf96, 0x40737aca },  /* 105: -7.5026739e-01  4.5546370e+00  3.8043696e+00 */
+    { 0xbfb1196e, 0x3e557585, 0xbf966abd },  /* 106: -1.3835886e+00  2.0845611e-01 -1.1751324e+00 */
+    { 0xc13bf0cc, 0x4224eea9, 0x41ebe4ec },  /* 107: -1.1746288e+01  4.1233067e+01  2.9486778e+01 */
+    { 0x3e63c98a, 0xbb348593, 0x3e60f774 },  /* 108:  2.2244850e-01 -2.7545437e-03  2.1969395e-01 */
+    { 0x4179fdde, 0x3fe710f2, 0x418b6ffe },  /* 109:  1.5624479e+01  1.8052046e+00  1.7429684e+01 */
+    { 0xbd84d3e1, 0x427a2452, 0x4279e1e8 },  /* 110: -6.4857252e-02  6.2535469e+01  6.2470612e+01 */
+    { 0xbf150b99, 0xbdcb55fc, 0xbf2e7658 },  /* 111: -5.8220822e-01 -9.9285096e-02 -6.8149331e-01 */
+    { 0x4176be5a, 0xc603c84a, 0xc6038a9a },  /* 112:  1.5421473e+01 -8.4340723e+03 -8.4186508e+03 */
+    { 0x80000000, 0x3f306c94, 0x3f306c94 },  /* 113: -0.0000000e+00  6.8915677e-01  6.8915677e-01 */
+    { 0x4ee82502, 0x40d2eee2, 0x4ee82502 },  /* 114:  1.9473697e+09  6.5916605e+00  1.9473697e+09 */
+    { 0xbde00782, 0x4268f619, 0x42688615 },  /* 115: -1.0938932e-01  5.8240330e+01  5.8130940e+01 */
+    { 0x3f35242f, 0xc10e7412, 0xc10321cf },  /* 116:  7.0758337e-01 -8.9033375e+00 -8.1957541e+00 */
+    { 0x43146a9a, 0x4df6073a, 0x4df6073f },  /* 117:  1.4841641e+02  5.1595859e+08  5.1595874e+08 */
+    { 0xbf20aed9, 0x3e49c60f, 0xbedc7aaa },  /* 118: -6.2766796e-01  1.9704460e-01 -4.3062337e-01 */
+    { 0xbf131eec, 0xbf11f6a4, 0xbf928ac8 },  /* 119: -5.7469058e-01 -5.7016969e-01 -1.1448603e+00 */
+    { 0xbf15397c, 0x3df9377f, 0xbeec2518 },  /* 120: -5.8290839e-01  1.2168788e-01 -4.6122051e-01 */
+    { 0x3d404abc, 0xc1be0177, 0xc1bda152 },  /* 121:  4.6946272e-02 -2.3750715e+01 -2.3703769e+01 */
+    { 0x3fe65b3c, 0x3fee97b8, 0x406a797a },  /* 122:  1.7996593e+00  1.8640051e+00  3.6636643e+00 */
+    { 0x0d1eb49f, 0xbfcd0122, 0xbfcd0122 },  /* 123:  4.8904924e-31 -1.6015971e+00 -1.6015971e+00 */
+    { 0xc20773f4, 0x3b0efb1d, 0xc20771b8 },  /* 124: -3.3863235e+01  2.1817156e-03 -3.3861054e+01 */
+    { 0xbf5c022c, 0x3d2c97c0, 0xbf5138b0 },  /* 125: -8.5940814e-01  4.2136908e-02 -8.1727123e-01 */
+    { 0xbf1b1c67, 0x80000000, 0xbf1b1c67 },  /* 126: -6.0590214e-01 -0.0000000e+00 -6.0590214e-01 */
+    { 0xc5bcc75b, 0x3f0473b4, 0xc5bcc337 },  /* 127: -6.0409194e+03  5.1739049e-01 -6.0404020e+03 */
+    { 0x3dbf93ff, 0xc145636a, 0xc143e442 },  /* 128:  9.3543999e-02 -1.2336771e+01 -1.2243227e+01 */
+    { 0x4212cc12, 0xc40fd080, 0xc406a3bf },  /* 129:  3.6699287e+01 -5.7525781e+02 -5.3855853e+02 */
+    { 0xbe99df2c, 0xc4fe62d3, 0xc4fe6c71 },  /* 130: -3.0053079e-01 -2.0350883e+03 -2.0353888e+03 */
+    { 0x00000000, 0xbf0d7fb2, 0xbf0d7fb2 },  /* 131:  0.0000000e+00 -5.5272973e-01 -5.5272973e-01 */
+    { 0x3fdb82d3, 0x3f496972, 0x40201bc6 },  /* 132:  1.7149299e+00  7.8676522e-01  2.5016952e+00 */
+    { 0x42750179, 0xbfc1e236, 0x426ef267 },  /* 133:  6.1251438e+01 -1.5147159e+00  5.9736722e+01 */
+    { 0x3f1712e7, 0xc074984a, 0xc04ed390 },  /* 134:  5.9013218e-01 -3.8217950e+00 -3.2316628e+00 */
+    { 0xbf09f981, 0xbd6061d1, 0xbf17ff9e },  /* 135: -5.3896338e-01 -5.4780785e-02 -5.9374416e-01 */
+    { 0xb71b62c3, 0xf2b793ea, 0xf2b793ea },  /* 136: -9.2617147e-06 -7.2722655e+30 -7.2722655e+30 */
+    { 0x3fb63e86, 0x43098fcd, 0x430afc4a },  /* 137:  1.4237831e+00  1.3756172e+02  1.3898550e+02 */
+    { 0x4d390d00, 0x3ff2fbcb, 0x4d390d00 },  /* 138:  1.9403981e+08  1.8983091e+00  1.9403981e+08 */
+    { 0x40c529e8, 0x3f581ea1, 0x40e02dbc },  /* 139:  6.1613655e+00  8.4421736e-01  7.0055829e+00 */
+    { 0x43200480, 0x40cb3364, 0x43265e1b },  /* 140:  1.6001758e+02  6.3500233e+00  1.6636760e+02 */
+    { 0xbe58af1c, 0x44a13e14, 0x44a1374f },  /* 141: -2.1160549e-01  1.2899399e+03  1.2897283e+03 */
+    { 0xbac98b80, 0xc068b947, 0xc068d278 },  /* 142: -1.5376657e-03 -3.6363084e+00 -3.6378461e+00 */
+    { 0x3f2f4856, 0x4275c4f6, 0x42788217 },  /* 143:  6.8469751e-01  6.1442345e+01  6.2127042e+01 */
+    { 0x43badba6, 0x3e5132ea, 0x43baf5cc },  /* 144:  3.7371600e+02  2.0429578e-01  3.7392030e+02 */
+    { 0x41a281c4, 0xc1a4e6c8, 0xbe994100 },  /* 145:  2.0313362e+01 -2.0612686e+01 -2.9932404e-01 */
+    { 0x3ee3a71a, 0x3f47b81a, 0x3f9cc5d4 },  /* 146:  4.4463426e-01  7.8015292e-01  1.2247872e+00 */
+    { 0xbd13af48, 0xc4a3f49f, 0xc4a3f5c6 },  /* 147: -3.6055833e-02 -1.3116444e+03 -1.3116805e+03 */
+    { 0xbfcdd3be, 0xbfbf7a65, 0xc046a712 },  /* 148: -1.6080244e+00 -1.4959227e+00 -3.1039470e+00 */
+    { 0x3f157196, 0x3c3dc34b, 0x3f1868a3 },  /* 149:  5.8376443e-01  1.1582206e-02  5.9534664e-01 */
+    { 0xbfe9861d, 0x52d51622, 0x52d51622 },  /* 150: -1.8244053e+00  4.5759968e+11  4.5759968e+11 */
+    { 0x3efad56b, 0x58dac7c1, 0x58dac7c1 },  /* 151:  4.8990950e-01  1.9244118e+15  1.9244118e+15 */
+    { 0x00000000, 0xc0ed24a3, 0xc0ed24a3 },  /* 152:  0.0000000e+00 -7.4107223e+00 -7.4107223e+00 */
+    { 0x42468dc9, 0xbf163397, 0x424434fb },  /* 153:  4.9638462e+01 -5.8672470e-01  4.9051737e+01 */
+    { 0xc68ee9cc, 0x40641506, 0xc68ee2ab },  /* 154: -1.8292898e+04  3.5637832e+00 -1.8289335e+04 */
+    { 0x3f1172e8, 0xbe165c22, 0x3ed7b7bf },  /* 155:  5.6815958e-01 -1.4683583e-01  4.2132375e-01 */
+    { 0xbde89b67, 0xbd748058, 0xbe316dca },  /* 156: -1.1357766e-01 -5.9692711e-02 -1.7327037e-01 */
+    { 0x3fe1d899, 0x41350d8f, 0x415148a2 },  /* 157:  1.7644225e+00  1.1315810e+01  1.3080233e+01 */
+    { 0x4251bdf9, 0xb8765c83, 0x4251bdea },  /* 158:  5.2435520e+01 -5.8737129e-05  5.2435461e+01 */
+    { 0xc189d2f6, 0xc1dd19ec, 0xc2337671 },  /* 159: -1.7228008e+01 -2.7637657e+01 -4.4865665e+01 */
+    { 0x43c1b71c, 0x40eb52e3, 0x43c56468 },  /* 160:  3.8743054e+02  7.3538680e+00  3.9478441e+02 */
+    { 0xbfda932a, 0xbbece292, 0xbfdb800d },  /* 161: -1.7076161e+00 -7.2291577e-03 -1.7148452e+00 */
+    { 0x3ff6ba43, 0xc32d3835, 0xc32b4ac0 },  /* 162:  1.9275593e+00 -1.7321956e+02 -1.7129200e+02 */
+    { 0x3fc2cc33, 0x3f0e3bf4, 0x4004f516 },  /* 163:  1.5218567e+00  5.5560231e-01  2.0774590e+00 */
+    { 0xc40dc68e, 0x3e32be7b, 0xc40dbb62 },  /* 164: -5.6710242e+02  1.7455475e-01 -5.6692786e+02 */
+    { 0x3dbf876a, 0xbf0c92c8, 0xbee943b6 },  /* 165:  9.3520001e-02 -5.4911470e-01 -4.5559470e-01 */
+    { 0xa6b16fb2, 0x42298b2c, 0x42298b2c },  /* 166: -1.2312117e-15  4.2385910e+01  4.2385910e+01 */
+    { 0xbf13d115, 0xbcda4357, 0xbf1aa330 },  /* 167: -5.7740909e-01 -2.6643438e-02 -6.0405253e-01 */
+    { 0xbffe20e7, 0x3e635cbe, 0xbfe1b54f },  /* 168: -1.9853791e+00  2.2203347e-01 -1.7633456e+00 */
+    { 0xbf324401, 0x3d358e78, 0xbf26eb1a },  /* 169: -6.9635016e-01  4.4325322e-02 -6.5202484e-01 */
+    { 0xc15d4b26, 0xbe02f229, 0xc15f56ef },  /* 170: -1.3830847e+01 -1.2787689e-01 -1.3958724e+01 */
+    { 0xbf14625e, 0xbfd3d2a8, 0xc00f01ec },  /* 171: -5.7962596e-01 -1.6548662e+00 -2.2344922e+00 */
+    { 0xc0b05b27, 0xbd7339c4, 0xc0b2419b },  /* 172: -5.5111270e+00 -5.9381261e-02 -5.5705083e+00 */
+    { 0xbe9b8855, 0x3bba04f0, 0xbe98a041 },  /* 173: -3.0377451e-01  5.6768581e-03 -2.9809765e-01 */
+    { 0x3d11922e, 0x3b86c5d0, 0x3d226ae8 },  /* 174:  3.5539798e-02  4.1129366e-03  3.9652735e-02 */
+    { 0xbffdf699, 0x3f08c465, 0xbfb99466 },  /* 175: -1.9840881e+00  5.3424674e-01 -1.4498413e+00 */
+    { 0xbdf468ea, 0x3fe957de, 0x3fda114f },  /* 176: -1.1934073e-01  1.8229940e+00  1.7036533e+00 */
+    { 0xc0c10bae, 0xba7c0d30, 0xc0c1138e },  /* 177: -6.0326757e+00 -9.6150022e-04 -6.0336372e+00 */
+    { 0xbfb644f6, 0xbfadf0a0, 0xc0321acb },  /* 178: -1.4239795e+00 -1.3589058e+00 -2.7828853e+00 */
+    { 0xb487e7fb, 0xbdbebb51, 0xbdbebb73 },  /* 179: -2.5314498e-07 -9.3130715e-02 -9.3130968e-02 */
+    { 0xbe4395a3, 0x41e4ed6f, 0x41e36644 },  /* 180: -1.9100051e-01  2.8615934e+01  2.8424934e+01 */
+    { 0x3b0f08a4, 0xbda80b9a, 0xbda39355 },  /* 181:  2.1825219e-03 -8.2053378e-02 -7.9870856e-02 */
+    { 0xbcd3d609, 0xc0c3bc9f, 0xc0c49075 },  /* 182: -2.5858896e-02 -6.1167750e+00 -6.1426339e+00 */
+    { 0xbcad035f, 0x411808a7, 0x4117b225 },  /* 183: -2.1119772e-02  9.5021124e+00  9.4809926e+00 */
+    { 0x3e6bdb39, 0x3e84b011, 0x3efa9dae },  /* 184:  2.3032846e-01  2.5915578e-01  4.8948424e-01 */
+    { 0x3b07b7d6, 0xbf066700, 0xbf05df48 },  /* 185:  2.0708940e-03 -5.2500916e-01 -5.2293826e-01 */
+    { 0xbfdd114c, 0xbfc168bc, 0xc04f3d04 },  /* 186: -1.7270904e+00 -1.5110087e+00 -3.2380991e+00 */
+    { 0x3e1129e0, 0xc1d885be, 0xc1d7636a },  /* 187:  1.4176130e-01 -2.7065304e+01 -2.6923542e+01 */
+    { 0xc171212b, 0x3e3eef0e, 0xc16e256f },  /* 188: -1.5070598e+01  1.8645880e-01 -1.4884139e+01 */
+    { 0xbf1c8637, 0x3f0ac299, 0xbd8e1cf0 },  /* 189: -6.1142296e-01  5.4203182e-01 -6.9391131e-02 */
+    { 0x4730a91b, 0xbf016d03, 0x4730a89a },  /* 190:  4.5225105e+04 -5.0556964e-01  4.5224600e+04 */
+    { 0xbfecd95c, 0x3fde3417, 0xbdea5450 },  /* 191: -1.8503833e+00  1.7359647e+00 -1.1441863e-01 */
+    { 0x4365b711, 0x3d57ce5f, 0x4365c48e },  /* 192:  2.2971510e+02  5.2687045e-02  2.2976779e+02 */
+    { 0x411897ff, 0x3f943407, 0x412b1e80 },  /* 193:  9.5371084e+00  1.1578377e+00  1.0694946e+01 */
+    { 0x3ff5b5de, 0x3e36c80e, 0x40064770 },  /* 194:  1.9196126e+00  1.7849752e-01  2.0981102e+00 */
+    { 0x4001410f, 0xbb63ae6d, 0x40010823 },  /* 195:  2.0195959e+00 -3.4741417e-03  2.0161217e+00 */
+    { 0xbe689ab9, 0xbfd30769, 0xbff01ac0 },  /* 196: -2.2715272e-01 -1.6486636e+00 -1.8758164e+00 */
+    { 0xbdd70cf0, 0xbf0eaf77, 0xbf299115 },  /* 197: -1.0500515e-01 -5.5736488e-01 -6.6237003e-01 */
+    { 0xc0f0f9f2, 0x3c0ee9ea, 0xc0f0b27d },  /* 198: -7.5305109e+00  8.7227616e-03 -7.5217881e+00 */
+    { 0xc1ff9914, 0xc124a84f, 0xc228f69e },  /* 199: -3.1949745e+01 -1.0291091e+01 -4.2240836e+01 */
+    { 0x40fa1620, 0x41609d0c, 0x41aed40e },  /* 200:  7.8152008e+00  1.4038342e+01  2.1853542e+01 */
+    { 0x3d71373f, 0xc2ff19a3, 0xc2fefb7c },  /* 201:  5.8890577e-02 -1.2755007e+02 -1.2749118e+02 */
+    { 0x3d0e4bb9, 0x3e00eab8, 0x3e247da6 },  /* 202:  3.4740184e-02  1.2589538e-01  1.6063556e-01 */
+    { 0x40d90c8b, 0xbfde4e00, 0x40a1790b },  /* 203:  6.7827811e+00 -1.7367554e+00  5.0460258e+00 */
+    { 0x3fb51eee, 0x3596464a, 0x3fb51ef7 },  /* 204:  1.4150064e+00  1.1196328e-06  1.4150075e+00 */
+    { 0xc15ad121, 0xbfed0586, 0xc17871d2 },  /* 205: -1.3676057e+01 -1.8517311e+00 -1.5527788e+01 */
+    { 0x408a2dcf, 0xc6f507a5, 0xc6f4ff02 },  /* 206:  4.3180919e+00 -3.1363822e+04 -3.1359504e+04 */
+    { 0xbb0c3325, 0xc27e4da6, 0xc27e4fd7 },  /* 207: -2.1392789e-03 -6.3575829e+01 -6.3577968e+01 */
+    { 0x4428f72e, 0x3dabfb81, 0x4428fc8e },  /* 208:  6.7586218e+02  8.3975799e-02  6.7594616e+02 */
+    { 0xc0e1d330, 0xba887bb4, 0xc0e1dbb8 },  /* 209: -7.0570297e+00 -1.0412843e-03 -7.0580710e+00 */
+    { 0x40d6e904, 0xba7d5374, 0x40d6e119 },  /* 210:  6.7159443e+00 -9.6636196e-04  6.7149779e+00 */
+    { 0xbfc69c06, 0xbf32cec0, 0xc01001b3 },  /* 211: -1.5516365e+00 -6.9846725e-01 -2.2501037e+00 */
+    { 0xbe727955, 0xc963b462, 0xc963b466 },  /* 212: -2.3679097e-01 -9.3267812e+05 -9.3267836e+05 */
+    { 0x439fd4d8, 0xbab66123, 0x439fd4aa },  /* 213:  3.1966284e+02 -1.3914447e-03  3.1966145e+02 */
+    { 0x40af1a38, 0x3bdca56a, 0x40af5161 },  /* 214:  5.4719505e+00  6.7335861e-03  5.4786841e+00 */
+    { 0xbcbd14e1, 0x3ceb6182, 0x3bb93284 },  /* 215: -2.3081245e-02  2.8733019e-02  5.6517739e-03 */
+    { 0xbc3dc861, 0x48a260e4, 0x48a260e4 },  /* 216: -1.1583419e-02  3.3255112e+05  3.3255111e+05 */
+    { 0xba2cadfd, 0x42982162, 0x4298210c },  /* 217: -6.5872056e-04  7.6065201e+01  7.6064542e+01 */
+    { 0xbf2312a9, 0xbd55d3d1, 0xbf306fe6 },  /* 218: -6.3700348e-01 -5.2203957e-02 -6.8920744e-01 */
+    { 0xc0b8e938, 0xbf3405f7, 0xc0cf69f7 },  /* 219: -5.7784691e+00 -7.0321602e-01 -6.4816851e+00 */
+    { 0xbe29dab5, 0xc240c7df, 0xc24171ba },  /* 220: -1.6587336e-01 -4.8195187e+01 -4.8361060e+01 */
+    { 0x4bd27d1d, 0xbfdb412b, 0x4bd27d1c },  /* 221:  2.7589178e+07 -1.7129263e+00  2.7589176e+07 */
+    { 0x3b6c7bba, 0xbee7df66, 0xbee6066f },  /* 222:  3.6084489e-03 -4.5287627e-01 -4.4926782e-01 */
+    { 0x42426e35, 0xbefa9c91, 0x424078fc },  /* 223:  4.8607624e+01 -4.8947576e-01  4.8118148e+01 */
+    { 0x3eb0ad8f, 0xbe3a88ef, 0x3e26d22f },  /* 224:  3.4507415e-01 -1.8216299e-01  1.6291116e-01 */
+    { 0x411857cb, 0x3b3adb1f, 0x41186379 },  /* 225:  9.5214338e+00  2.8511954e-03  9.5242850e+00 */
+    { 0xbe8b9276, 0xbb2bcb82, 0xbe8cea0d },  /* 226: -2.7260178e-01 -2.6213829e-03 -2.7522317e-01 */
+    { 0x3b0b414a, 0x3ff0525d, 0x3ff097fe },  /* 227:  2.1248632e-03  1.8775135e+00  1.8796384e+00 */
+    { 0xc8b9abab, 0x3f003e66, 0xc8b9ab9b },  /* 228: -3.8025334e+05  5.0095212e-01 -3.8025284e+05 */
+    { 0xbf06c543, 0xbfde4a9a, 0xc010d69e },  /* 229: -5.2644747e-01 -1.7366517e+00 -2.2630991e+00 */
+    { 0x436a4bd9, 0xc5838ae6, 0xc578710e },  /* 230:  2.3429628e+02 -4.2093623e+03 -3.9750660e+03 */
+    { 0xc242a6dc, 0x4359fd20, 0x43295369 },  /* 231: -4.8662949e+01  2.1798877e+02  1.6932582e+02 */
+    { 0x3fd9ef7d, 0x4149e0f2, 0x41651ee2 },  /* 232:  1.7026211e+00  1.2617418e+01  1.4320039e+01 */
+    { 0xc1fdca77, 0x3fcab573, 0xc1f11f20 },  /* 233: -3.1723860e+01  1.5836624e+00 -3.0140197e+01 */
+    { 0xbfe19fc0, 0x41d7f954, 0x41c9df58 },  /* 234: -1.7626877e+00  2.6996742e+01  2.5234055e+01 */
+    { 0x4008050e, 0x4075d936, 0x40beef22 },  /* 235:  2.1253085e+00  3.8413825e+00  5.9666910e+00 */
+    { 0x3e553b1c, 0xc463801e, 0xc46372ca },  /* 236:  2.0823330e-01 -9.1000183e+02 -9.0979360e+02 */
+    { 0x2ccec5db, 0xbcfb6e48, 0xbcfb6e48 },  /* 237:  5.8768385e-12 -3.0692235e-02 -3.0692235e-02 */
+    { 0x41a0fe74, 0x3ea4a196, 0x41a390fa },  /* 238:  2.0124245e+01  3.2154530e-01  2.0445790e+01 */
+    { 0xb77048f0, 0xc0b170a2, 0xc0b170c0 },  /* 239: -1.4322097e-05 -5.5449991e+00 -5.5450134e+00 */
+    { 0x40197497, 0xbbde3135, 0x4019057e },  /* 240:  2.3977411e+00 -6.7807683e-03  2.3909603e+00 */
+    { 0xbfe65026, 0x40e3ee71, 0x40aa5a68 },  /* 241: -1.7993209e+00  7.1228566e+00  5.3235357e+00 */
+    { 0xbf5a88b9, 0xc11b1342, 0xc128bbce },  /* 242: -8.5364872e-01 -9.6922016e+00 -1.0545850e+01 */
+    { 0x391019a5, 0xb729f569, 0x39057a4e },  /* 243:  1.3742463e-04 -1.0130324e-05  1.2729431e-04 */
+    { 0xbf091fdb, 0x4094e86e, 0x4083c473 },  /* 244: -5.3564233e-01  4.6533728e+00  4.1177304e+00 */
+    { 0x43e025cd, 0x3a1533be, 0x43e025e0 },  /* 245:  4.4829532e+02  5.6916091e-04  4.4829589e+02 */
+    { 0x417050be, 0xbff131fb, 0x41522a7f },  /* 246:  1.5019712e+01 -1.8843378e+00  1.3135375e+01 */
+    { 0xbe471ea3, 0xbfd70cc0, 0xbfeff094 },  /* 247: -1.9445281e-01 -1.6800766e+00 -1.8745294e+00 */
+    { 0x3fc6e369, 0xbf22cfa4, 0x3f6af72e },  /* 248:  1.5538150e+00 -6.3598084e-01  9.1783416e-01 */
+    { 0xbe6b2682, 0x3f14013e, 0x3eb26f3b },  /* 249: -2.2963908e-01  5.7814395e-01  3.4850487e-01 */
+    { 0x41b02eda, 0xbf24559c, 0x41ab0c2d },  /* 250:  2.2022877e+01 -6.4193130e-01  2.1380945e+01 */
+    { 0xca728c19, 0xbfb778d9, 0xca728c1f },  /* 251: -3.9738942e+06 -1.4333755e+00 -3.9738957e+06 */
+    { 0xbe2935b2, 0x6c9fef27, 0x6c9fef27 },  /* 252: -1.6524389e-01  1.5467886e+27  1.5467886e+27 */
+    { 0x3fe96cb2, 0xbfd710e9, 0x3e12de48 },  /* 253:  1.8236296e+00 -1.6802036e+00  1.4342606e-01 */
+    { 0x3d215eee, 0xbff32210, 0xbfee1719 },  /* 254:  3.9397173e-02 -1.8994770e+00 -1.8600798e+00 */
+    { 0xd894e9e5, 0xbf14f62f, 0xd894e9e5 },  /* 255: -1.3098583e+15 -5.8188146e-01 -1.3098583e+15 */
+    { 0x455a3ef9, 0xbba1ecdb, 0x455a3ee5 },  /* 256:  3.4919358e+03 -4.9415655e-03  3.4919308e+03 */
+    { 0x427fa593, 0xc253efe0, 0x412ed6cc },  /* 257:  6.3911694e+01 -5.2984253e+01  1.0927441e+01 */
+    { 0xb7f818ae, 0x408c30bc, 0x408c307e },  /* 258: -2.9575396e-05  4.3809490e+00  4.3809194e+00 */
+    { 0x413e2eff, 0xbd116318, 0x413d9d9c },  /* 259:  1.1886474e+01 -3.5494894e-02  1.1850979e+01 */
+    { 0xbf2291dc, 0xc625e4e9, 0xc625e773 },  /* 260: -6.3503814e-01 -1.0617228e+04 -1.0617863e+04 */
+    { 0xc01efcd7, 0x3fb9c743, 0xbf84326b },  /* 261: -2.4841821e+00  1.4513935e+00 -1.0327886e+00 */
+    { 0xbe75688b, 0x3e3fc649, 0xbd568908 },  /* 262: -2.3965661e-01  1.8727984e-01 -5.2376777e-02 */
+    { 0xbf2df173, 0x4274691b, 0x4271b155 },  /* 263: -6.7946547e-01  6.1102642e+01  6.0423177e+01 */
+    { 0xbcd8527c, 0x416e2c56, 0x416dc02d },  /* 264: -2.6406519e-02  1.4885824e+01  1.4859418e+01 */
+    { 0x39dff1ef, 0xc174c6d2, 0xc174c512 },  /* 265:  4.2714129e-04 -1.5298540e+01 -1.5298113e+01 */
+    { 0xc3a61efb, 0xbd9d1931, 0xc3a628cd },  /* 266: -3.3224203e+02 -7.6708205e-02 -3.3231874e+02 */
+    { 0x3e21722f, 0x4292a396, 0x4292f44f },  /* 267:  1.5766214e-01  7.3319504e+01  7.3477166e+01 */
+    { 0xd83422ac, 0x40ab29ac, 0xd83422ac },  /* 268: -7.9224403e+14  5.3488369e+00 -7.9224403e+14 */
+    { 0x40618cd1, 0xbf21f03d, 0x403910c2 },  /* 269:  3.5242198e+00 -6.3257200e-01  2.8916478e+00 */
+    { 0xbfc52684, 0xbff24923, 0xc05bb7d4 },  /* 270: -1.5402379e+00 -1.8928570e+00 -3.4330949e+00 */
+    { 0x3e8d50b6, 0xc00bd68e, 0xbff458ee },  /* 271:  2.7600640e-01 -2.1849704e+00 -1.9089640e+00 */
+    { 0xbf0a2ef8, 0x3db63745, 0xbee6d01f },  /* 272: -5.3977919e-01  8.8972606e-02 -4.5080658e-01 */
+    { 0xcabe2153, 0x3e95285a, 0xcabe2152 },  /* 273: -6.2301855e+06  2.9132348e-01 -6.2301852e+06 */
+    { 0xc167f78b, 0x0f600812, 0xc167f78b },  /* 274: -1.4497935e+01  1.1045607e-29 -1.4497935e+01 */
+    { 0x4193be9d, 0xbf222075, 0x418ead99 },  /* 275:  1.8468073e+01 -6.3330775e-01  1.7834765e+01 */
+    { 0xc16e8dc9, 0xc103d90a, 0xc1b9336a },  /* 276: -1.4909616e+01 -8.2404881e+00 -2.3150104e+01 */
+    { 0x3c9a8c73, 0x3da76e31, 0x3dce114e },  /* 277:  1.8865800e-02  8.1753142e-02  1.0061894e-01 */
+    { 0xc27329a6, 0x3fcd0c57, 0xc26cc143 },  /* 278: -6.0790672e+01  1.6019391e+00 -5.9188733e+01 */
+    { 0xbe812f5c, 0x40c283ec, 0x40ba70f6 },  /* 279: -2.5231445e-01  6.0786037e+00  5.8262893e+00 */
+    { 0x4011084c, 0xb6827268, 0x4011083c },  /* 280:  2.2661314e+00 -3.8876206e-06  2.2661275e+00 */
+    { 0xbff5692b, 0x41e127d2, 0x41d1d13f },  /* 281: -1.9172720e+00  2.8144444e+01  2.6227172e+01 */
+    { 0xbf126880, 0x3fca6f65, 0x3f813b25 },  /* 282: -5.7190704e-01  1.5815245e+00  1.0096174e+00 */
+    { 0xc2900eff, 0x3fd68db1, 0xc28cb4c8 },  /* 283: -7.2029289e+01  1.6761991e+00 -7.0353090e+01 */
+    { 0x3b4ea627, 0xb8c053a2, 0x3b48a38a },  /* 284:  3.1532140e-03 -9.1708513e-05  3.0615055e-03 */
+    { 0x3fd933be, 0x3d75e622, 0x3fe0e2ef },  /* 285:  1.6968915e+00  6.0033925e-02  1.7569255e+00 */
+    { 0x3fb7e6c8, 0xbc03ee10, 0x3fb6deec },  /* 286:  1.4367304e+00 -8.0523640e-03  1.4286780e+00 */
+    { 0x3e4ae65f, 0x3c9b46d9, 0x3e5e4f3a },  /* 287:  1.9814442e-01  1.8954681e-02  2.1709910e-01 */
+    { 0xc10f245e, 0xbfcd9182, 0xc128d68e },  /* 288: -8.9463787e+00 -1.6060030e+00 -1.0552382e+01 */
+    { 0x422fab4c, 0x3e5fd123, 0x42308b1d },  /* 289:  4.3917282e+01  2.1857123e-01  4.4135853e+01 */
+    { 0xbf55a323, 0xc0075271, 0xc03cbb3a },  /* 290: -8.3452052e-01 -2.1144068e+00 -2.9489273e+00 */
+    { 0xa4af6a61, 0xbfbaf314, 0xbfbaf314 },  /* 291: -7.6074365e-17 -1.4605432e+00 -1.4605432e+00 */
+    { 0x41e20157, 0x3c7a178b, 0x41e2209a },  /* 292:  2.8250654e+01  1.5264402e-02  2.8265919e+01 */
+    { 0x3f0d88b8, 0xc5ad109b, 0xc5ad0c2f },  /* 293:  5.5286741e-01 -5.5380757e+03 -5.5375228e+03 */
+    { 0x5af48396, 0x39bfd35a, 0x5af48396 },  /* 294:  3.4412287e+16  3.6587828e-04  3.4412287e+16 */
+    { 0x482e65f2, 0x4d01dc28, 0x4d0207c1 },  /* 295:  1.7858378e+05  1.3616806e+08  1.3634665e+08 */
+    { 0xc76581ef, 0xbfce0b59, 0xc765838b },  /* 296: -5.8753934e+04 -1.6097213e+00 -5.8755543e+04 */
+    { 0x3e88174e, 0xbceb772c, 0x3e72bfb6 },  /* 297:  2.6580280e-01 -2.8743349e-02  2.3705945e-01 */
+    { 0x3db20abf, 0xbf16e492, 0xbf00a33a },  /* 298:  8.6934559e-02 -5.8942521e-01 -5.0249065e-01 */
+    { 0x42e2fa8c, 0x3886c488, 0x42e2fa94 },  /* 299:  1.1348935e+02  6.4262247e-05  1.1348941e+02 */
+    { 0x349b846f, 0xc0d83073, 0xc0d83072 },  /* 300:  2.8967358e-07 -6.7559142e+00 -6.7559139e+00 */
+    { 0x3dfe7aaa, 0x3e7576fa, 0x3eba5a28 },  /* 301:  1.2425740e-01  2.3971167e-01  3.6396907e-01 */
+    { 0x43054283, 0x3d8502c1, 0x43055323 },  /* 302:  1.3325981e+02  6.4946659e-02  1.3332476e+02 */
+    { 0x4146fd5f, 0xbe2c2e59, 0x41444ca6 },  /* 303:  1.2436858e+01 -1.6814555e-01  1.2268713e+01 */
+    { 0xc16a1420, 0xbbbb7391, 0xc16a2b8e },  /* 304: -1.4629913e+01 -5.7205637e-03 -1.4635634e+01 */
+    { 0xbf8addd8, 0x3ca686c3, 0xbf8843bd },  /* 305: -1.0848951e+00  2.0327931e-02 -1.0645672e+00 */
+    { 0x3f2aba71, 0xbfdddb03, 0xbf887dca },  /* 306:  6.6690737e-01 -1.7332462e+00 -1.0663388e+00 */
+    { 0x3cc12c03, 0x43e7fc13, 0x43e7ff18 },  /* 307:  2.3580557e-02  4.6396933e+02  4.6399291e+02 */
+    { 0xc0eda05c, 0x3c70f094, 0xc0ed27e4 },  /* 308: -7.4258251e+00  1.4705796e-02 -7.4111193e+00 */
+    { 0xbf44d986, 0xbfcbefaa, 0xc0172e36 },  /* 309: -7.6894414e-01 -1.5932515e+00 -2.3621956e+00 */
+    { 0x3f018cae, 0xbe1bf583, 0x3eb51e9a },  /* 310:  5.0605285e-01 -1.5230374e-01  3.5374911e-01 */
+    { 0xb3a87bd4, 0x3d415059, 0x3d415044 },  /* 311: -7.8456338e-08  4.7195766e-02  4.7195688e-02 */
+    { 0x422d4e3d, 0x3e90b2d4, 0x422e6fa3 },  /* 312:  4.3326405e+01  2.8261435e-01  4.3609019e+01 */
+    { 0xc28b5d6f, 0xc1b09bf5, 0xc2b7846c },  /* 313: -6.9682487e+01 -2.2076151e+01 -9.1758638e+01 */
+    { 0x3a7a95da, 0xc1c2c29b, 0xc1c2c0a6 },  /* 314:  9.5590728e-04 -2.4345022e+01 -2.4344066e+01 */
+    { 0x516f0380, 0x40c93d50, 0x516f0380 },  /* 315:  6.4159744e+10  6.2887344e+00  6.4159744e+10 */
+    { 0xbc6ceacc, 0xc001789d, 0xc0026588 },  /* 316: -1.4460277e-02 -2.0229867e+00 -2.0374469e+00 */
+    { 0x3ef8e151, 0xbfdbfa02, 0xbf9dc1ae },  /* 317:  4.8609403e-01 -1.7185671e+00 -1.2324731e+00 */
+    { 0xbcb15505, 0xbff2949b, 0xbff559ef },  /* 318: -2.1646986e-02 -1.8951601e+00 -1.9168071e+00 */
+    { 0xb5432402, 0x3f79c82a, 0x3f79c81e },  /* 319: -7.2695559e-07  9.7571051e-01  9.7570978e-01 */
+    { 0x40885c84, 0xe8461764, 0xe8461764 },  /* 320:  4.2612934e+00 -3.7418402e+24 -3.7418402e+24 */
+    { 0xbd07070f, 0x3f045623, 0x3ef7cb64 },  /* 321: -3.2965716e-02  5.1693934e-01  4.8397363e-01 */
+    { 0xbc6916fa, 0x3c4317e9, 0xbb17fc44 },  /* 322: -1.4226669e-02  1.1907556e-02 -2.3191134e-03 */
+    { 0xbff31843, 0xbf15a1e6, 0xc01ef49b },  /* 323: -1.8991779e+00 -5.8450162e-01 -2.4836795e+00 */
+    { 0xc243f6ae, 0x40d4b7d0, 0xc2295fb4 },  /* 324: -4.8990898e+01  6.6474380e+00 -4.2343460e+01 */
+    { 0x3e8e0d03, 0xbfd9dafa, 0xbfb657b9 },  /* 325:  2.7744302e-01 -1.7019951e+00 -1.4245521e+00 */
+    { 0xc11a4230, 0xbff600d9, 0xc139024b },  /* 326: -9.6411591e+00 -1.9219009e+00 -1.1563060e+01 */
+    { 0xbf1912e5, 0x40b34892, 0x40a02635 },  /* 327: -5.9794456e-01  5.6026087e+00  5.0046641e+00 */
+    { 0xbefabfcb, 0xc8c4b257, 0xc8c4b267 },  /* 328: -4.8974451e-01 -4.0283472e+05 -4.0283521e+05 */
+    { 0xbb637d6d, 0xb81b617d, 0xbb65eaf3 },  /* 329: -3.4712211e-03 -3.7045673e-05 -3.5082667e-03 */
+    { 0xc143798b, 0xc0cb8f95, 0xc194a0ab },  /* 330: -1.2217174e+01 -6.3612771e+00 -1.8578451e+01 */
+    { 0x3fc9c7ce, 0x3fd8c783, 0x405147a8 },  /* 331:  1.5764101e+00  1.6935886e+00  3.2699987e+00 */
+    { 0x400c0d00, 0x424f65e3, 0x425826b3 },  /* 332:  2.1882935e+00  5.1849499e+01  5.4037792e+01 */
+    { 0x3f12f207, 0xbfcb94dc, 0xbf821bd8 },  /* 333:  5.7400554e-01 -1.5904803e+00 -1.0164748e+00 */
+    { 0xbe5cfda0, 0x3df3305c, 0xbdc6cae4 },  /* 334: -2.1581125e-01  1.1874458e-01 -9.7066671e-02 */
+    { 0x3fdfea37, 0x3d54bc11, 0x3fe69018 },  /* 335:  1.7493352e+00  5.1937167e-02  1.8012723e+00 */
+    { 0xb8c57c1d, 0xc0ee8b7b, 0xc0ee8c40 },  /* 336: -9.4168099e-05 -7.4545264e+00 -7.4546206e+00 */
+    { 0x4097733f, 0xbfabebe2, 0x4058f08d },  /* 337:  4.7328181e+00 -1.3431361e+00  3.3896821e+00 */
+    { 0x50ddb85a, 0x42a0d66d, 0x50ddb85a },  /* 338:  2.9758771e+10  8.0418800e+01  2.9758771e+10 */
+    { 0x3ef72624, 0x3c494959, 0x3efd706f },  /* 339:  4.8271286e-01  1.2285554e-02  4.9499842e-01 */
+    { 0xc1312da6, 0xc001e215, 0xc151a62b },  /* 340: -1.1073645e+01 -2.0294240e+00 -1.3103069e+01 */
+    { 0x3dccc28d, 0x3fc68915, 0x3fd3553e },  /* 341:  9.9980451e-02  1.5510584e+00  1.6510389e+00 */
+    { 0x3ff933b8, 0xbefb4927, 0x3fba616e },  /* 342:  1.9468908e+00 -4.9079248e-01  1.4560983e+00 */
+    { 0x41350ed7, 0x3dc80b7e, 0x41369eee },  /* 343:  1.1316123e+01  9.7678170e-02  1.1413801e+01 */
+    { 0xbc3fddb3, 0xbf1a0936, 0xbf1d08ad },  /* 344: -1.1710572e-02 -6.0170305e-01 -6.1341362e-01 */
+    { 0x3ffa1ebd, 0x3e562aa4, 0x400a7209 },  /* 345:  1.9540631e+00  2.0914704e-01  2.1632101e+00 */
+    { 0xcfcfed6e, 0x3fdf840d, 0xcfcfed6e },  /* 346: -6.9768878e+09  1.7462174e+00 -6.9768878e+09 */
+    { 0xbdbc0c14, 0xb6317771, 0xbdbc0d77 },  /* 347: -9.1819912e-02 -2.6444579e-06 -9.1822557e-02 */
+    { 0xb3be55e7, 0x3f32ca2b, 0x3f32ca2a },  /* 348: -8.8631900e-08  6.9839734e-01  6.9839725e-01 */
+    { 0x3bec8f36, 0x41684c35, 0x416869c7 },  /* 349:  7.2192205e-03  1.4518605e+01  1.4525824e+01 */
+    { 0xc1079634, 0x45bf8db0, 0x45bf49e5 },  /* 350: -8.4741707e+00  6.1297109e+03  6.1212368e+03 */
+    { 0xbf917936, 0xbd473ec7, 0xbf97b32c },  /* 351: -1.1365116e+00 -4.8643854e-02 -1.1851554e+00 */
+    { 0xbe7aa65a, 0x3f534e5b, 0x3f14a4c4 },  /* 352: -2.4477521e-01  8.2541436e-01  5.8063915e-01 */
+    { 0x3b775fb9, 0x41d4f728, 0x41d4fee3 },  /* 353:  3.7746264e-03  2.6620682e+01  2.6624456e+01 */
+    { 0xbf42f67d, 0x3db5612c, 0xbf2c4a58 },  /* 354: -7.6157361e-01  8.8564247e-02 -6.7300937e-01 */
+    { 0xbee12812, 0x3e3c4fdb, 0xbe830024 },  /* 355: -4.3975884e-01  1.8389837e-01 -2.5586046e-01 */
+    { 0x3b65ea0f, 0xc0cfb1e1, 0xc0cf9524 },  /* 356:  3.5082137e-03 -6.4904637e+00 -6.4869555e+00 */
+    { 0x3fddf3b1, 0xc0f64dc4, 0xc0bed0d8 },  /* 357:  1.7339994e+00 -7.6969929e+00 -5.9629935e+00 */
+    { 0x3f3fbd2d, 0x40d149fe, 0x40e941a4 },  /* 358:  7.4898034e-01  6.5402822e+00  7.2892626e+00 */
+    { 0xbefd625c, 0x504f0133, 0x504f0133 },  /* 359: -4.9489105e-01  1.3891849e+10  1.3891849e+10 */
+    { 0x3db26efa, 0x40c23a87, 0x40c50443 },  /* 360:  8.7125733e-02  6.0696445e+00  6.1567702e+00 */
+    { 0xbc49014f, 0x00000000, 0xbc49014f },  /* 361: -1.2268378e-02  0.0000000e+00 -1.2268378e-02 */
+    { 0xbf2db95b, 0x3e3a742d, 0xbefe38a0 },  /* 362: -6.7860955e-01  1.8208380e-01 -4.9652575e-01 */
+    { 0xbf38ea9e, 0xbf38f15f, 0xbfb8edfe },  /* 363: -7.2232997e-01 -7.2243303e-01 -1.4447630e+00 */
+    { 0xbe7c4738, 0xbee5dbbc, 0xbf31ffac },  /* 364: -2.4636543e-01 -4.4894207e-01 -6.9530749e-01 */
+    { 0x3e0ecc5e, 0x3df5857c, 0x3e84c78e },  /* 365:  1.3945147e-01  1.1988351e-01  2.5933498e-01 */
+    { 0xc1caf47c, 0x40843797, 0xc1a9e696 },  /* 366: -2.5369377e+01  4.1317859e+00 -2.1237591e+01 */
+    { 0xc39df74a, 0x3f202a24, 0xc39da735 },  /* 367: -3.1593195e+02  6.2564301e-01 -3.1530630e+02 */
+    { 0xc2d01209, 0x3f5c7062, 0xc2ce5928 },  /* 368: -1.0403522e+02  8.6108983e-01 -1.0317414e+02 */
+    { 0x3f0f825a, 0x41ab290f, 0x41afa522 },  /* 369:  5.6058276e-01  2.1395048e+01  2.1955631e+01 */
+    { 0x3dd77f86, 0xbbee6564, 0x3dc89930 },  /* 370:  1.0522370e-01 -7.2752703e-03  9.7948430e-02 */
+    { 0xc084a09b, 0xca22544d, 0xca22545e },  /* 371: -4.1446052e+00 -2.6596032e+06 -2.6596074e+06 */
+    { 0xc17ac440, 0x498b3711, 0x498b3694 },  /* 372: -1.5672913e+01  1.1404501e+06  1.1404345e+06 */
+    { 0x80000000, 0x527179fe, 0x527179fe },  /* 373: -0.0000000e+00  2.5928345e+11  2.5928345e+11 */
+    { 0xbfc93dd4, 0xbe208bc9, 0xbfdd4f4d },  /* 374: -1.5721993e+00 -1.5678324e-01 -1.7289826e+00 */
+    { 0xbf2322b9, 0x3fe5cdfe, 0x3f943ca2 },  /* 375: -6.3724858e-01  1.7953489e+00  1.1581003e+00 */
+    { 0x39e24a63, 0xbff7152e, 0xbff70709 },  /* 376:  4.3161502e-04 -1.9303339e+00 -1.9299022e+00 */
+    { 0x3da4dcf5, 0xbe065dfc, 0xbd4fbe06 },  /* 377:  8.0499567e-02 -1.3121790e-01 -5.0718330e-02 */
+    { 0xbe3892a8, 0x42637af6, 0x4262c263 },  /* 378: -1.8024695e-01  5.6870079e+01  5.6689832e+01 */
+    { 0xbfbd6f94, 0xbde14d10, 0xbfcb8465 },  /* 379: -1.4799676e+00 -1.1001027e-01 -1.5899779e+00 */
+    { 0x3a3ef777, 0xbe0ca536, 0xbe0be63f },  /* 380:  7.2847999e-04 -1.3734898e-01 -1.3662050e-01 */
+    { 0xbe6bf255, 0x3feb4987, 0x3fcdcb3c },  /* 381: -2.3041661e-01  1.8381814e+00  1.6077648e+00 */
+    { 0xbc9df168, 0xbc19b644, 0xbceacc8a },  /* 382: -1.9280151e-02 -9.3818344e-03 -2.8661985e-02 */
+    { 0x3f1a2f8d, 0xbbc31138, 0x3f18a96b },  /* 383:  6.0228807e-01 -5.9529804e-03  5.9633509e-01 */
+    { 0x4191ad61, 0x3fc1ec08, 0x419dcc22 },  /* 384:  1.8209658e+01  1.5150156e+00  1.9724673e+01 */
+    { 0x4206349a, 0x4380377f, 0x4390fe12 },  /* 385:  3.3551369e+01  2.5643356e+02  2.8998493e+02 */
+    { 0x3d28b191, 0xb83e2d9c, 0x3d288206 },  /* 386:  4.1184966e-02 -4.5342007e-05  4.1139624e-02 */
+    { 0x410c8843, 0x41a5078c, 0x41eb4bae },  /* 387:  8.7832670e+00  2.0628685e+01  2.9411952e+01 */
+    { 0xbfe01099, 0xbe558d3b, 0xbffac240 },  /* 388: -1.7505065e+00 -2.0854656e-01 -1.9590531e+00 */
+    { 0x3fe2d489, 0x40ece5b6, 0x4112cd6c },  /* 389:  1.7721111e+00  7.4030409e+00  9.1751519e+00 */
+    { 0x414f5895, 0x3fdf1ace, 0x416b3bef },  /* 390:  1.2959126e+01  1.7430055e+00  1.4702132e+01 */
+    { 0x3a0c66d2, 0x3c51fdf9, 0x3c5ac466 },  /* 391:  5.3558976e-04  1.2816899e-02  1.3352489e-02 */
+    { 0x3e8a0a71, 0xbfcc4ee0, 0xbfa9cc44 },  /* 392:  2.6961091e-01 -1.5961571e+00 -1.3265462e+00 */
+    { 0xbfe66648, 0xbffb4b04, 0xc070d8a6 },  /* 393: -1.7999964e+00 -1.9632268e+00 -3.7632232e+00 */
+    { 0x42355cee, 0xbf285463, 0x4232bb9c },  /* 394:  4.5340752e+01 -6.5753764e-01  4.4683214e+01 */
+    { 0xbf487642, 0xbda45bfe, 0xbf5d01c2 },  /* 395: -7.8305447e-01 -8.0253586e-02 -8.6330806e-01 */
+    { 0x3f1c57a0, 0xc26bbc80, 0xc2694b22 },  /* 396:  6.1071205e-01 -5.8934082e+01 -5.8323370e+01 */
+    { 0x3d2f0ace, 0x3f2d36d6, 0x3f382783 },  /* 397:  4.2734914e-02  6.7661798e-01  7.1935289e-01 */
+    { 0xc17607bf, 0xbd9f7e8c, 0xc17746bc },  /* 398: -1.5376891e+01 -7.7878088e-02 -1.5454769e+01 */
+    { 0x3da240a2, 0xb96607e9, 0x3da1cd9e },  /* 399:  7.9224840e-02 -2.1937456e-04  7.9005465e-02 */
+    { 0x40d6af43, 0xbe262ec1, 0x40d17dcd },  /* 400:  6.7088943e+00 -1.6228773e-01  6.5466065e+00 */
+    { 0xbfcecaa7, 0xbdfccc56, 0xbfde976c },  /* 401: -1.6155595e+00 -1.2343661e-01 -1.7389961e+00 */
+    { 0x40a8d4c1, 0x3ad7b5c2, 0x40a8e23c },  /* 402:  5.2759709e+00  1.6457366e-03  5.2776167e+00 */
+    { 0xbef0a632, 0x3ef79d2d, 0x3c5edf60 },  /* 403: -4.7001797e-01  4.8362103e-01  1.3603061e-02 */
+    { 0xbe805739, 0x3c41a3f5, 0xbe749433 },  /* 404: -2.5066546e-01  1.1818876e-02 -2.3884658e-01 */
+    { 0xbde3d700, 0x3f2f153d, 0x3f129a5d },  /* 405: -1.1124992e-01  6.8391782e-01  5.7266790e-01 */
+    { 0xbf3edce9, 0xc0b83707, 0xc0d012a4 },  /* 406: -7.4555832e-01 -5.7567172e+00 -6.5022755e+00 */
+    { 0xc1e03243, 0xbf01c431, 0xc1e44065 },  /* 407: -2.8024542e+01 -5.0689989e-01 -2.8531442e+01 */
+    { 0xbfe6666c, 0x3f3038d9, 0xbf8e4a00 },  /* 408: -1.8000007e+00  6.8836743e-01 -1.1116332e+00 */
+    { 0xbfcd913e, 0x3f1e8013, 0xbf7ca269 },  /* 409: -1.6059949e+00  6.1914176e-01 -9.8685318e-01 */
+    { 0x40c0cd01, 0x3f1259cc, 0x40d3183a },  /* 410:  6.0250249e+00  5.7168269e-01  6.5967076e+00 */
+    { 0x6fc3a80d, 0x4073e145, 0x6fc3a80d },  /* 411:  1.2110548e+29  3.8106244e+00  1.2110548e+29 */
+    { 0xbf1057f6, 0xbc185405, 0xbf12b946 },  /* 412: -5.6384218e-01 -9.2973756e-03 -5.7313955e-01 */
+    { 0xbe8d3165, 0x48570325, 0x48570313 },  /* 413: -2.7576748e-01  2.2017258e+05  2.2017230e+05 */
+    { 0x8372f9db, 0x3ff4ca9e, 0x3ff4ca9e },  /* 414: -7.1404228e-37  1.9124334e+00  1.9124334e+00 */
+    { 0x00000000, 0xc2936682, 0xc2936682 },  /* 415:  0.0000000e+00 -7.3700211e+01 -7.3700211e+01 */
+    { 0xbd93c9a4, 0x3f3dd0d1, 0x3f2b579c },  /* 416: -7.2161943e-02  7.4146754e-01  6.6930559e-01 */
+    { 0x38fa3da7, 0xc07466bb, 0xc07464c7 },  /* 417:  1.1932413e-04 -3.8187702e+00 -3.8186508e+00 */
+    { 0x39a1ca31, 0x3e631e07, 0x3e636eec },  /* 418:  3.0858957e-04  2.2179423e-01  2.2210282e-01 */
+    { 0x3e084950, 0xc3730990, 0xc372e77e },  /* 419:  1.3309216e-01 -2.4303735e+02 -2.4290426e+02 */
+    { 0xc082c4a2, 0x3948c2f3, 0xc082c310 },  /* 420: -4.0865030e+00  1.9146111e-04 -4.0863116e+00 */
+    { 0xbfbc7b07, 0x3b2df84c, 0xbfbc240b },  /* 421: -1.4725045e+00  2.6545702e-03 -1.4698499e+00 */
+    { 0x3e22de5b, 0x3c9d7d53, 0x3e368e05 },  /* 422:  1.5905134e-01  1.9224798e-02  1.7827614e-01 */
+    { 0x3aa06823, 0x3fee220e, 0x3fee4a28 },  /* 423:  1.2238066e-03  1.8604143e+00  1.8616381e+00 */
+    { 0x3fe49552, 0xbf624663, 0x3f66e441 },  /* 424:  1.7858069e+00 -8.8388652e-01  9.0192038e-01 */
+    { 0x3f3b3708, 0xbf16bb4e, 0x3e11eee8 },  /* 425:  7.3130846e-01 -5.8879554e-01  1.4251292e-01 */
+    { 0xc0009e0e, 0x3ff5e71c, 0xbdb55000 },  /* 426: -2.0096469e+00  1.9211154e+00 -8.8531494e-02 */
+    { 0xbd74d8b6, 0x4215b8c5, 0x42157b8f },  /* 427: -5.9776984e-02  3.7430439e+01  3.7370662e+01 */
+    { 0x0cf0273f, 0x3f3ac287, 0x3f3ac287 },  /* 428:  3.7001475e-31  7.2953075e-01  7.2953075e-01 */
+    { 0x3d6dd25b, 0x2d474adb, 0x3d6dd25b },  /* 429:  5.8061939e-02  1.1328462e-11  5.8061939e-02 */
+    { 0x444c18ee, 0x457f902f, 0x45994b35 },  /* 430:  8.1638953e+02  4.0890115e+03  4.9054010e+03 */
+    { 0xc0b68778, 0x40ce4265, 0x3f3dd768 },  /* 431: -5.7040367e+00  6.4456048e+00  7.4156809e-01 */
+    { 0x3ef88725, 0xbefe947d, 0xbc41ab00 },  /* 432:  4.8540607e-01 -4.9722663e-01 -1.1820555e-02 */
+    { 0xa44c7398, 0xc0af97f2, 0xc0af97f2 },  /* 433: -4.4333360e-17 -5.4872980e+00 -5.4872980e+00 */
+    { 0x30bc9b34, 0xbfa1b2c4, 0xbfa1b2c4 },  /* 434:  1.3722912e-09 -1.2632680e+00 -1.2632680e+00 */
+    { 0xbe4ba869, 0x46b5455e, 0x46b544f8 },  /* 435: -1.9888462e-01  2.3202684e+04  2.3202485e+04 */
+    { 0xc33bcc4a, 0x47f0000d, 0x47efa227 },  /* 436: -1.8779800e+02  1.2288010e+05  1.2269230e+05 */
+    { 0x3c372a6b, 0x40cf0a7e, 0x40cf6613 },  /* 437:  1.1179547e-02  6.4700308e+00  6.4812103e+00 */
+    { 0x3e881a1c, 0x41434dde, 0x41478eaf },  /* 438:  2.6582420e-01  1.2206511e+01  1.2472335e+01 */
+    { 0x4d62e1f5, 0xc177ef82, 0x4d62e1f4 },  /* 439:  2.3790370e+08 -1.5495974e+01  2.3790368e+08 */
+    { 0x40a0f9e7, 0xc004600b, 0x403d93c3 },  /* 440:  5.0305057e+00 -2.0683620e+00  2.9621437e+00 */
+    { 0xbf38021f, 0x4019dd83, 0x3fd7b9f6 },  /* 441: -7.1878237e-01  2.4041450e+00  1.6853626e+00 */
+    { 0xc12cb5cf, 0x3f18e42f, 0xc123278c },  /* 442: -1.0794387e+01  5.9723181e-01 -1.0197155e+01 */
+    { 0xb2eaec96, 0x4b06f5dc, 0x4b06f5dc },  /* 443: -2.7348772e-08  8.8447640e+06  8.8447640e+06 */
+    { 0xbef1d27a, 0x4100f3a8, 0x40f2ca28 },  /* 444: -4.7230893e-01  8.0594864e+00  7.5871775e+00 */
+    { 0xc069e0d4, 0xbfea5a01, 0xc0af86ea },  /* 445: -3.6543474e+00 -1.8308717e+00 -5.4852191e+00 */
+    { 0xbc067718, 0x3fd3dd39, 0x3fd2d04b },  /* 446: -8.2071051e-03  1.6551887e+00  1.6469816e+00 */
+    { 0xbe634977, 0x4291b968, 0x429147c3 },  /* 447: -2.2195993e-01  7.2862122e+01  7.2640162e+01 */
+    { 0x3fec6eb3, 0x42696515, 0x4270c88b },  /* 448:  1.8471283e+00  5.8348713e+01  6.0195841e+01 */
+    { 0x3f028365, 0xc0e365a5, 0xc0d31538 },  /* 449:  5.0981742e-01 -7.1061578e+00 -6.5963404e+00 */
+    { 0xc1a51edb, 0x46cc40f7, 0x46cc17af },  /* 450: -2.0640066e+01  2.6144482e+04  2.6123842e+04 */
+    { 0x41607a00, 0xbcab6bc6, 0x4160244a },  /* 451:  1.4029785e+01 -2.0925414e-02  1.4008860e+01 */
+    { 0x423c9a1a, 0xc09e8931, 0x4228c8f4 },  /* 452:  4.7150490e+01 -4.9542470e+00  4.2196243e+01 */
+    { 0x3f0d92b6, 0x42c072a4, 0x42c18dc9 },  /* 453:  5.5301988e-01  9.6223907e+01  9.6776927e+01 */
+    { 0xbdf6e7a0, 0x41c47b06, 0x41c3841e },  /* 454: -1.2055898e-01  2.4560070e+01  2.4439511e+01 */
+    { 0x424adc75, 0xbdd4966d, 0x424a722a },  /* 455:  5.0715290e+01 -1.0380254e-01  5.0611488e+01 */
+    { 0xba4fdf32, 0xbdba56e5, 0xbdbbf6a3 },  /* 456: -7.9296820e-04 -9.0986051e-02 -9.1779019e-02 */
+    { 0xd2455f63, 0xbe5c744d, 0xd2455f63 },  /* 457: -2.1192722e+11 -2.1528740e-01 -2.1192722e+11 */
+    { 0xbdad1481, 0xc27907c0, 0xc2795e4a },  /* 458: -8.4511764e-02 -6.2257568e+01 -6.2342080e+01 */
+    { 0x3db874f7, 0xc5c391d8, 0xc5c39120 },  /* 459:  9.0066843e-02 -6.2582305e+03 -6.2581404e+03 */
+    { 0x3e44552f, 0x3ff238a0, 0x400561a3 },  /* 460:  1.9173120e-01  1.8923531e+00  2.0840843e+00 */
+    { 0xbfd35a74, 0x3fe24bf2, 0x3def17e0 },  /* 461: -1.6511979e+00  1.7679427e+00  1.1674476e-01 */
+    { 0x3ffc5066, 0x338b9f20, 0x3ffc5067 },  /* 462:  1.9712036e+00  6.5016366e-08  1.9712036e+00 */
+    { 0xc0c503ad, 0x80000000, 0xc0c503ad },  /* 463: -6.1566987e+00 -0.0000000e+00 -6.1566987e+00 */
+    { 0xbfdcd1ae, 0x332b6fe8, 0xbfdcd1ae },  /* 464: -1.7251489e+00  3.9915818e-08 -1.7251489e+00 */
+    { 0xbfeb7ff2, 0x40cec1d3, 0x4093e1d6 },  /* 465: -1.8398421e+00  6.4611602e+00  4.6213181e+00 */
+    { 0x3f28c71e, 0xbdadfc82, 0x3f13078e },  /* 466:  6.5928829e-01 -8.4954277e-02  5.7433401e-01 */
+    { 0x3fd81970, 0xc26945b6, 0xc26284ea },  /* 467:  1.6882763e+00 -5.8318077e+01 -5.6629801e+01 */
+    { 0x40e57f04, 0x40ab488c, 0x414863c8 },  /* 468:  7.1717548e+00  5.3526058e+00  1.2524361e+01 */
+    { 0x437bd152, 0x401030ca, 0x437e1215 },  /* 469:  2.5181766e+02  2.2529778e+00  2.5407064e+02 */
+    { 0xc1e87d28, 0x410caba3, 0xc1a22756 },  /* 470: -2.9061111e+01  8.7919035e+00 -2.0269208e+01 */
+    { 0x3c2470a8, 0x370e192e, 0x3c24942e },  /* 471:  1.0036625e-02  8.4697222e-06  1.0045095e-02 */
+    { 0x3e0f183c, 0xc346d35e, 0xc346af98 },  /* 472:  1.3974088e-01 -1.9882565e+02 -1.9868591e+02 */
+    { 0x3f03c5e4, 0x3d12f194, 0x3f0cf4fd },  /* 473:  5.1473832e-01  3.5874918e-02  5.5061324e-01 */
+    { 0x3d5b480d, 0x4111bf04, 0x41129a4c },  /* 474:  5.3535510e-02  9.1091347e+00  9.1626702e+00 */
+    { 0xbdf50b3a, 0xbde43a97, 0xbe6ca2e8 },  /* 475: -1.1965032e-01 -1.1143988e-01 -2.3109020e-01 */
+    { 0x3e28b3eb, 0x3f2b9323, 0x3f55c01e },  /* 476:  1.6474883e-01  6.7021388e-01  8.3496271e-01 */
+    { 0xbd163e62, 0x3e6da159, 0x3e4811c0 },  /* 477: -3.6680587e-02  2.3206080e-01  1.9538022e-01 */
+    { 0x418ecfaf, 0x3e721bdf, 0x4190b3e7 },  /* 478:  1.7851408e+01  2.3643444e-01  1.8087842e+01 */
+    { 0xbfd30253, 0xbf121bbb, 0xc00e0818 },  /* 479: -1.6485084e+00 -5.7073563e-01 -2.2192441e+00 */
+    { 0xc082c93d, 0xc11e2b0d, 0xc15f8fac },  /* 480: -4.0870652e+00 -9.8855104e+00 -1.3972576e+01 */
+    { 0x3fec3738, 0xeb12f4c5, 0xeb12f4c5 },  /* 481:  1.8454351e+00 -1.7765906e+26 -1.7765906e+26 */
+    { 0x3fa07741, 0xc1cab760, 0xc1c0afec },  /* 482:  1.2536393e+00 -2.5339539e+01 -2.4085899e+01 */
+    { 0x457a1126, 0x3d14e393, 0x457a11bb },  /* 483:  4.0010718e+03  3.6349844e-02  4.0011081e+03 */
+    { 0x3f0b6a5e, 0x40f8b6ba, 0x41051203 },  /* 484:  5.4459178e-01  7.7723055e+00  8.3168973e+00 */
+    { 0x43970aac, 0x3ff185f0, 0x4397fc32 },  /* 485:  3.0208337e+02  1.8868999e+00  3.0397027e+02 */
+    { 0x401908f2, 0xbbf90804, 0x40188c6e },  /* 486:  2.3911710e+00 -7.5998325e-03  2.3835711e+00 */
+    { 0xc0f39191, 0x3c4bfe07, 0xc0f32b92 },  /* 487: -7.6115193e+00  1.2450702e-02 -7.5990686e+00 */
+    { 0xc09f557a, 0x3ff519b7, 0xc0441e18 },  /* 488: -4.9791842e+00  1.9148473e+00 -3.0643369e+00 */
+    { 0x4a5e049c, 0x492bd5db, 0x4a847d09 },  /* 489:  3.6375430e+06  7.0383769e+05  4.3413807e+06 */
+    { 0x39a2fa84, 0x40e4a79a, 0x40e4aa26 },  /* 490:  3.1085697e-04  7.1454592e+00  7.1457700e+00 */
+    { 0x465b928b, 0xc50c3740, 0x463884bb },  /* 491:  1.4052636e+04 -2.2434531e+03  1.1809183e+04 */
+    { 0xc182ffd5, 0x3f4e2b0f, 0xc1791cf9 },  /* 492: -1.6374918e+01  8.0534452e-01 -1.5569573e+01 */
+    { 0xc20a56e2, 0xbe843920, 0xc20b5f54 },  /* 493: -3.4584846e+01 -2.5824833e-01 -3.4843095e+01 */
+    { 0xc15d4622, 0x3f3c2940, 0xc151838e },  /* 494: -1.3829622e+01  7.3500443e-01 -1.3094618e+01 */
+    { 0x3e774119, 0x3c086993, 0x3e7fc7b2 },  /* 495:  2.4145927e-01  8.3259521e-03  2.4978522e-01 */
+    { 0xb7a834ac, 0xbefd921d, 0xbefd94be },  /* 496: -2.0051688e-05 -4.9525538e-01 -4.9527543e-01 */
+    { 0x3f9905c3, 0xc06f038e, 0xc02280ac },  /* 497:  1.1954883e+00 -3.7345920e+00 -2.5391036e+00 */
+    { 0xbe55a5bb, 0x3e571e98, 0x3abc6e80 },  /* 498: -2.0864002e-01  2.1007764e-01  1.4376193e-03 */
+    { 0xc00a884f, 0xbe0859c4, 0xc0130deb },  /* 499: -2.1645696e+00 -1.3315493e-01 -2.2977245e+00 */
+    { 0x420c9259, 0xac964973, 0x420c9259 },  /* 500:  3.5142918e+01 -4.2714109e-12  3.5142918e+01 */
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]:  %#lx\n", index - 1, v.lo);
+#endif
+    exit (index ? index : -1);
+}
+
+int main ()
+{
+    union lofl_u x,y,z;
+    int i;
+    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	x.lo = pgm_read_dword (& t[i].x);
+	y.lo = pgm_read_dword (& t[i].y);
+	z.lo = pgm_read_dword (& t[i].z);
+	v.fl = x.fl + y.fl;
+	/* Comparison is integer to verify the zero sign.	*/
+	if (v.lo != z.lo)
+	    x_exit (i+1);
+    }
+    return 0;
+}
diff --git a/tests/simulate/fplib/add-inf.c b/tests/simulate/fplib/add-inf.c
new file mode 100644
index 0000000..e6b9bce
--- /dev/null
+++ b/tests/simulate/fplib/add-inf.c
@@ -0,0 +1,138 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of addition.  Infs (without NaNs).
+   'Inf - Inf' is not included into this file.
+   $Id$
+ */
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+volatile union lofl_u v = { .lo = 1 };
+
+PROGMEM const struct {		/* Table of test cases:  x + y = z	*/
+    union lofl_u x, y, z;
+} t[] = {
+
+    /* +Inf + finite --> +Inf	*/
+    { { 0x7f800000 }, { 0x00000001 }, { 0x7f800000 } },
+    { { 0x7f800000 }, { 0x007fffff }, { 0x7f800000 } },
+    { { 0x7f800000 }, { 0x00800000 }, { 0x7f800000 } },
+    { { 0x7f800000 }, { 0x3f800000 }, { 0x7f800000 } },
+    { { 0x7f800000 }, { 0x7f7fffff }, { 0x7f800000 } },
+    { { 0x7f800000 }, { 0x80000001 }, { 0x7f800000 } },
+    { { 0x7f800000 }, { 0x807fffff }, { 0x7f800000 } },
+    { { 0x7f800000 }, { 0x80800000 }, { 0x7f800000 } },
+    { { 0x7f800000 }, { 0xbf800000 }, { 0x7f800000 } },
+    { { 0x7f800000 }, { 0xff7fffff }, { 0x7f800000 } },
+
+    /* -Inf + finite --> -Inf	*/
+    { { 0xff800000 }, { 0x00000001 }, { 0xff800000 } },
+    { { 0xff800000 }, { 0x007fffff }, { 0xff800000 } },
+    { { 0xff800000 }, { 0x00800000 }, { 0xff800000 } },
+    { { 0xff800000 }, { 0x3f800000 }, { 0xff800000 } },
+    { { 0xff800000 }, { 0x7f7fffff }, { 0xff800000 } },
+    { { 0xff800000 }, { 0x80000001 }, { 0xff800000 } },
+    { { 0xff800000 }, { 0x807fffff }, { 0xff800000 } },
+    { { 0xff800000 }, { 0x80800000 }, { 0xff800000 } },
+    { { 0xff800000 }, { 0xbf800000 }, { 0xff800000 } },
+    { { 0xff800000 }, { 0xff7fffff }, { 0xff800000 } },
+
+    /* finite + +Inf --> +Inf	*/
+    { { 0x00000001 }, { 0x7f800000 }, { 0x7f800000 } },
+    { { 0x007fffff }, { 0x7f800000 }, { 0x7f800000 } },
+    { { 0x00800000 }, { 0x7f800000 }, { 0x7f800000 } },
+    { { 0x3f800000 }, { 0x7f800000 }, { 0x7f800000 } },
+    { { 0x7f7fffff }, { 0x7f800000 }, { 0x7f800000 } },
+    { { 0x80000001 }, { 0x7f800000 }, { 0x7f800000 } },
+    { { 0x807fffff }, { 0x7f800000 }, { 0x7f800000 } },
+    { { 0x80800000 }, { 0x7f800000 }, { 0x7f800000 } },
+    { { 0xbf800000 }, { 0x7f800000 }, { 0x7f800000 } },
+    { { 0xff7fffff }, { 0x7f800000 }, { 0x7f800000 } },
+
+    /* finite + -Inf --> -Inf	*/
+    { { 0x00000001 }, { 0xff800000 }, { 0xff800000 } },
+    { { 0x007fffff }, { 0xff800000 }, { 0xff800000 } },
+    { { 0x00800000 }, { 0xff800000 }, { 0xff800000 } },
+    { { 0x3f800000 }, { 0xff800000 }, { 0xff800000 } },
+    { { 0x7f7fffff }, { 0xff800000 }, { 0xff800000 } },
+    { { 0x80000001 }, { 0xff800000 }, { 0xff800000 } },
+    { { 0x807fffff }, { 0xff800000 }, { 0xff800000 } },
+    { { 0x80800000 }, { 0xff800000 }, { 0xff800000 } },
+    { { 0xbf800000 }, { 0xff800000 }, { 0xff800000 } },
+    { { 0xff7fffff }, { 0xff800000 }, { 0xff800000 } },
+    
+    /* Inf + Inf --> Inf	*/
+    { { 0x7f800000 }, { 0x7f800000 }, { 0x7f800000 } },
+    { { 0xff800000 }, { 0xff800000 }, { 0xff800000 } },
+    
+    /* finite + finite --> Inf	*/
+    { { 0x7f7fffff }, { 0x7f7fffff }, { 0x7f800000 } },
+    { { 0x7f7fffff }, { 0x7f000001 }, { 0x7f800000 } },
+    { { 0x7f7fffff }, { 0x7f000002 }, { 0x7f800000 } },
+    { { 0x7f000001 }, { 0x7f7fffff }, { 0x7f800000 } },
+    { { 0x7f000002 }, { 0x7f7fffff }, { 0x7f800000 } },
+    { { 0xff7fffff }, { 0xff7fffff }, { 0xff800000 } },
+    { { 0xff7fffff }, { 0xff000001 }, { 0xff800000 } },
+    { { 0xff7fffff }, { 0xff000002 }, { 0xff800000 } },
+    { { 0xff000001 }, { 0xff7fffff }, { 0xff800000 } },
+    { { 0xff000002 }, { 0xff7fffff }, { 0xff800000 } },
+
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]:  %#lx\n", index - 1, v.lo);
+#endif
+    exit (index ? index : -1);
+}
+
+int main ()
+{
+    union lofl_u x,y,z;
+    int i;
+    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	x.lo = pgm_read_dword (& t[i].x);
+	y.lo = pgm_read_dword (& t[i].y);
+	z.lo = pgm_read_dword (& t[i].z);
+	v.fl = x.fl + y.fl;
+	/* Comparison is integer to verify the zero sign.	*/
+	if (v.lo != z.lo)
+	    x_exit (i+1);
+    }
+    return 0;
+}
diff --git a/tests/simulate/fplib/add-nan.c b/tests/simulate/fplib/add-nan.c
new file mode 100644
index 0000000..1036afb
--- /dev/null
+++ b/tests/simulate/fplib/add-nan.c
@@ -0,0 +1,137 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of addition.  NaNs.
+   $Id$
+ */
+#include <math.h>
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+volatile union lofl_u v = { .lo = 1 };
+
+PROGMEM const struct {		/* Table of test cases:  x + y = NaN	*/
+    union lofl_u x, y;
+} t[] = {
+
+    /* Inf - Inf	*/
+    { { 0x7f800000 }, { 0xff800000 } },
+    { { 0xff800000 }, { 0x7f800000 } },
+
+    /* NaN + NaN	*/
+    { { 0x7f800001 }, { 0x7f800001 } },
+    { { 0x7f800100 }, { 0x7f800100 } },
+    { { 0x7f810000 }, { 0x7f810000 } },
+    { { 0x7fffffff }, { 0x7fffffff } },
+    { { 0xff800001 }, { 0xff800001 } },
+    { { 0xff800100 }, { 0xff800100 } },
+    { { 0xff810000 }, { 0xff810000 } },
+    { { 0xffffffff }, { 0xffffffff } },
+
+    /* NaN + finite	*/
+    { { 0x7f800001 }, { .fl = 1 } },
+    { { 0x7f800100 }, { .fl = 1 } },
+    { { 0x7f810000 }, { .fl = 1 } },
+    { { 0x7fffffff }, { .fl = 1 } },
+    { { 0xff800001 }, { .fl = 1 } },
+    { { 0xff800100 }, { .fl = 1 } },
+    { { 0xff810000 }, { .fl = 1 } },
+    { { 0xffffffff }, { .fl = 1 } },
+
+    /* finite + NaN	*/
+    { { .fl = 1 }, { 0x7f800001 } },
+    { { .fl = 1 }, { 0x7f800100 } },
+    { { .fl = 1 }, { 0x7f810000 } },
+    { { .fl = 1 }, { 0x7fffffff } },
+    { { .fl = 1 }, { 0xff800001 } },
+    { { .fl = 1 }, { 0xff800100 } },
+    { { .fl = 1 }, { 0xff810000 } },
+    { { .fl = 1 }, { 0xffffffff } },
+
+    /* NaN + 0.0	*/
+    { { 0x7f800001 }, { 0 } },
+    { { 0x7f800100 }, { 0 } },
+    { { 0x7f810000 }, { 0 } },
+    { { 0x7fffffff }, { 0 } },
+    { { 0xff800001 }, { 0 } },
+    { { 0xff800100 }, { 0 } },
+    { { 0xff810000 }, { 0 } },
+    { { 0xffffffff }, { 0 } },
+
+    /* 0.0 + NaN	*/
+    { { 0 }, { 0x7f800001 } },
+    { { 0 }, { 0x7f800100 } },
+    { { 0 }, { 0x7f810000 } },
+    { { 0 }, { 0x7fffffff } },
+    { { 0 }, { 0xff800001 } },
+    { { 0 }, { 0xff800100 } },
+    { { 0 }, { 0xff810000 } },
+    { { 0 }, { 0xffffffff } },
+    
+    /* NaN + Inf	*/
+    { { 0x7f800001 }, { 0x7f800000 } },
+    { { 0x7fffffff }, { 0x7f800000 } },
+    { { 0xff800001 }, { 0xff800000 } },
+    { { 0xffffffff }, { 0xff800000 } },
+    
+    /* Inf + NaN	*/
+    { { 0x7f800000 }, { 0x7f800001 } },
+    { { 0x7f800000 }, { 0x7fffffff } },
+    { { 0xff800000 }, { 0xff800001 } },
+    { { 0xff800000 }, { 0xffffffff } },
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]:  %#lx\n", index - 1, v.lo);
+#endif
+    exit (index ? index : -1);
+}
+
+int main ()
+{
+    union lofl_u x,y;
+    int i;
+    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	x.lo = pgm_read_dword (& t[i].x);
+	y.lo = pgm_read_dword (& t[i].y);
+	v.fl = x.fl + y.fl;
+	if (!isnan(v.fl))
+	    x_exit (i+1);
+    }
+    return 0;
+}
diff --git a/tests/simulate/fplib/cmp-01.c b/tests/simulate/fplib/cmp-01.c
new file mode 100644
index 0000000..ab0e16e
--- /dev/null
+++ b/tests/simulate/fplib/cmp-01.c
@@ -0,0 +1,247 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of float comparison, finite values.
+   $Id$
+ */
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+PROGMEM const struct {		/* Table of test cases.	*/
+    union lofl_u x, y;
+    unsigned char ne;	/* x != y */
+    unsigned char lt;	/* x < y  */
+    unsigned char le;	/* x <= y */
+    unsigned char eq;	/* x == y */
+    unsigned char ge;	/* x >= y */
+    unsigned char gt;	/* x > y  */
+} t[] = {
+
+    /* 0.0 and 0.0	*/
+    { { 0x00000000 }, { 0x00000000 }, 0, 0, 1, 1, 1, 0	},
+    { { 0x00000000 }, { 0x80000000 }, 0, 0, 1, 1, 1, 0	},
+    { { 0x80000000 }, { 0x00000000 }, 0, 0, 1, 1, 1, 0	},
+    { { 0x80000000 }, { 0x80000000 }, 0, 0, 1, 1, 1, 0	},
+    
+    /* 0.0 and nonzero	*/
+    { { 0x00000000 }, { 0x00000001 }, 1, 1, 1, 0, 0, 0	},
+    { { 0x00000000 }, { 0x007fffff }, 1, 1, 1, 0, 0, 0	},
+    { { 0x00000000 }, { 0x00800000 }, 1, 1, 1, 0, 0, 0	},
+    { { 0x00000000 }, { 0x7f7fffff }, 1, 1, 1, 0, 0, 0	},
+    { { 0x00000000 }, { 0x80000001 }, 1, 0, 0, 0, 1, 1	},
+    { { 0x00000000 }, { 0x807fffff }, 1, 0, 0, 0, 1, 1	},
+    { { 0x00000000 }, { 0x80800000 }, 1, 0, 0, 0, 1, 1	},
+    { { 0x00000000 }, { 0xff7fffff }, 1, 0, 0, 0, 1, 1	},
+
+    /* -0.0 and nonzero	*/
+    { { 0x80000000 }, { 0x00000001 }, 1, 1, 1, 0, 0, 0	},
+    { { 0x80000000 }, { 0x007fffff }, 1, 1, 1, 0, 0, 0	},
+    { { 0x80000000 }, { 0x00800000 }, 1, 1, 1, 0, 0, 0	},
+    { { 0x80000000 }, { 0x7f7fffff }, 1, 1, 1, 0, 0, 0	},
+    { { 0x80000000 }, { 0x80000001 }, 1, 0, 0, 0, 1, 1	},
+    { { 0x80000000 }, { 0x807fffff }, 1, 0, 0, 0, 1, 1	},
+    { { 0x80000000 }, { 0x80800000 }, 1, 0, 0, 0, 1, 1	},
+    { { 0x80000000 }, { 0xff7fffff }, 1, 0, 0, 0, 1, 1	},
+    
+    /* nonzero and 0.0	*/
+    { { 0x00000001 }, { 0x00000000 }, 1, 0, 0, 0, 1, 1	},
+    { { 0x007fffff }, { 0x00000000 }, 1, 0, 0, 0, 1, 1	},
+    { { 0x00800000 }, { 0x00000000 }, 1, 0, 0, 0, 1, 1	},
+    { { 0x7f7fffff }, { 0x00000000 }, 1, 0, 0, 0, 1, 1	},
+    { { 0x80000001 }, { 0x00000000 }, 1, 1, 1, 0, 0, 0	},
+    { { 0x807fffff }, { 0x00000000 }, 1, 1, 1, 0, 0, 0	},
+    { { 0x80800000 }, { 0x00000000 }, 1, 1, 1, 0, 0, 0	},
+    { { 0xff7fffff }, { 0x00000000 }, 1, 1, 1, 0, 0, 0	},
+
+    /* nonzero and -0.0	*/
+    { { 0x00000001 }, { 0x80000000 }, 1, 0, 0, 0, 1, 1	},
+    { { 0x007fffff }, { 0x80000000 }, 1, 0, 0, 0, 1, 1	},
+    { { 0x00800000 }, { 0x80000000 }, 1, 0, 0, 0, 1, 1	},
+    { { 0x7f7fffff }, { 0x80000000 }, 1, 0, 0, 0, 1, 1	},
+    { { 0x80000001 }, { 0x80000000 }, 1, 1, 1, 0, 0, 0	},
+    { { 0x807fffff }, { 0x80000000 }, 1, 1, 1, 0, 0, 0	},
+    { { 0x80800000 }, { 0x80000000 }, 1, 1, 1, 0, 0, 0	},
+    { { 0xff7fffff }, { 0x80000000 }, 1, 1, 1, 0, 0, 0	},
+
+    /* equal	*/
+    { { 0x00000001 }, { 0x00000001 }, 0, 0, 1, 1, 1, 0	},
+    { { 0x007fffff }, { 0x007fffff }, 0, 0, 1, 1, 1, 0	},
+    { { 0x00800000 }, { 0x00800000 }, 0, 0, 1, 1, 1, 0	},
+    { { 0x7f7fffff }, { 0x7f7fffff }, 0, 0, 1, 1, 1, 0	},
+    { { 0x80000001 }, { 0x80000001 }, 0, 0, 1, 1, 1, 0	},
+    { { 0x807fffff }, { 0x807fffff }, 0, 0, 1, 1, 1, 0	},
+    { { 0x80800000 }, { 0x80800000 }, 0, 0, 1, 1, 1, 0	},
+    { { 0xff7fffff }, { 0xff7fffff }, 0, 0, 1, 1, 1, 0	},
+    
+    /* different signs	*/
+    { { 0x00000001 }, { 0x80000001 }, 1, 0, 0, 0, 1, 1	},
+    { { 0x00000100 }, { 0x80000100 }, 1, 0, 0, 0, 1, 1	},
+    { { 0x00010000 }, { 0x80010000 }, 1, 0, 0, 0, 1, 1	},
+    { { 0x00800000 }, { 0x80800000 }, 1, 0, 0, 0, 1, 1	},
+    { { 0x7f000000 }, { 0xff000000 }, 1, 0, 0, 0, 1, 1	},
+    { { 0x7f7fffff }, { 0xff7fffff }, 1, 0, 0, 0, 1, 1	},
+    { { 0x80000001 }, { 0x00000001 }, 1, 1, 1, 0, 0, 0	},
+    { { 0x80000100 }, { 0x00000100 }, 1, 1, 1, 0, 0, 0	},
+    { { 0x80010000 }, { 0x00010000 }, 1, 1, 1, 0, 0, 0	},
+    { { 0x80800000 }, { 0x00800000 }, 1, 1, 1, 0, 0, 0	},
+    { { 0xff000000 }, { 0x7f000000 }, 1, 1, 1, 0, 0, 0	},
+    { { 0xff7fffff }, { 0x7f7fffff }, 1, 1, 1, 0, 0, 0	},
+    
+    /* slitely diffirent values	*/
+    { { 0x00000003 }, { 0x00000001 }, 1, 0, 0, 0, 1, 1	},
+    { { 0x00000300 }, { 0x00000100 }, 1, 0, 0, 0, 1, 1	},
+    { { 0x00030000 }, { 0x00010000 }, 1, 0, 0, 0, 1, 1	},
+    { { 0x00c00000 }, { 0x00800000 }, 1, 0, 0, 0, 1, 1	},
+    { { 0x03000000 }, { 0x01000000 }, 1, 0, 0, 0, 1, 1	},
+    { { 0x60000000 }, { 0x20000000 }, 1, 0, 0, 0, 1, 1	},
+    { { 0x00000001 }, { 0x00000003 }, 1, 1, 1, 0, 0, 0	},
+    { { 0x00000100 }, { 0x00000300 }, 1, 1, 1, 0, 0, 0	},
+    { { 0x00010000 }, { 0x00030000 }, 1, 1, 1, 0, 0, 0	},
+    { { 0x00800000 }, { 0x00c00000 }, 1, 1, 1, 0, 0, 0	},
+    { { 0x01000000 }, { 0x03000000 }, 1, 1, 1, 0, 0, 0	},
+    { { 0x20000000 }, { 0x60000000 }, 1, 1, 1, 0, 0, 0	},
+
+    /* x < y	*/
+    { { 0xff7fffff }, { 0xff7ffffe }, 1, 1, 1, 0, 0, 0	},
+    { { 0xff7fffff }, { 0x80800000 }, 1, 1, 1, 0, 0, 0	},
+    { { 0xff7fffff }, { 0x807fffff }, 1, 1, 1, 0, 0, 0	},
+    { { 0xff7fffff }, { 0x80000001 }, 1, 1, 1, 0, 0, 0	},
+    { { 0xff7fffff }, { 0x00000001 }, 1, 1, 1, 0, 0, 0	},
+    { { 0xff7fffff }, { 0x007fffff }, 1, 1, 1, 0, 0, 0	},
+    { { 0xff7fffff }, { 0x00800000 }, 1, 1, 1, 0, 0, 0	},
+    { { 0xff7fffff }, { 0x7f7fffff }, 1, 1, 1, 0, 0, 0	},
+    { { 0x80800000 }, { 0x807fffff }, 1, 1, 1, 0, 0, 0	},
+    { { 0x80800000 }, { 0x80000001 }, 1, 1, 1, 0, 0, 0	},
+    { { 0x80800000 }, { 0x00000001 }, 1, 1, 1, 0, 0, 0	},
+    { { 0x80800000 }, { 0x007fffff }, 1, 1, 1, 0, 0, 0	},
+    { { 0x80800000 }, { 0x00800000 }, 1, 1, 1, 0, 0, 0	},
+    { { 0x80800000 }, { 0x7f7fffff }, 1, 1, 1, 0, 0, 0	},
+    { { 0x807fffff }, { 0x807ffffe }, 1, 1, 1, 0, 0, 0	},
+    { { 0x807fffff }, { 0x80000001 }, 1, 1, 1, 0, 0, 0	},
+    { { 0x807fffff }, { 0x00000001 }, 1, 1, 1, 0, 0, 0	},
+    { { 0x807fffff }, { 0x007fffff }, 1, 1, 1, 0, 0, 0	},
+    { { 0x807fffff }, { 0x00800000 }, 1, 1, 1, 0, 0, 0	},
+    { { 0x807fffff }, { 0x7f7fffff }, 1, 1, 1, 0, 0, 0	},
+    { { 0x80000001 }, { 0x00000001 }, 1, 1, 1, 0, 0, 0	},
+    { { 0x80000001 }, { 0x007fffff }, 1, 1, 1, 0, 0, 0	},
+    { { 0x80000001 }, { 0x00800000 }, 1, 1, 1, 0, 0, 0	},
+    { { 0x80000001 }, { 0x7f7fffff }, 1, 1, 1, 0, 0, 0	},
+    { { 0x00000001 }, { 0x00000002 }, 1, 1, 1, 0, 0, 0	},
+    { { 0x00000001 }, { 0x007fffff }, 1, 1, 1, 0, 0, 0	},
+    { { 0x00000001 }, { 0x00800000 }, 1, 1, 1, 0, 0, 0	},
+    { { 0x00000001 }, { 0x7f7fffff }, 1, 1, 1, 0, 0, 0	},
+    { { 0x007fffff }, { 0x00800000 }, 1, 1, 1, 0, 0, 0	},
+    { { 0x007fffff }, { 0x7f7fffff }, 1, 1, 1, 0, 0, 0	},
+    { { 0x00800000 }, { 0x00800001 }, 1, 1, 1, 0, 0, 0	},
+    { { 0x00800000 }, { 0x7f7fffff }, 1, 1, 1, 0, 0, 0	},
+    { { 0x7f7ffffe }, { 0x7f7fffff }, 1, 1, 1, 0, 0, 0	},
+
+    /* x > y	*/
+    { { 0xff7ffffe }, { 0xff7fffff }, 1, 0, 0, 0, 1, 1	},
+    { { 0x80800000 }, { 0xff7fffff }, 1, 0, 0, 0, 1, 1	},
+    { { 0x807fffff }, { 0xff7fffff }, 1, 0, 0, 0, 1, 1	},
+    { { 0x80000001 }, { 0xff7fffff }, 1, 0, 0, 0, 1, 1	},
+    { { 0x00000001 }, { 0xff7fffff }, 1, 0, 0, 0, 1, 1	},
+    { { 0x007fffff }, { 0xff7fffff }, 1, 0, 0, 0, 1, 1	},
+    { { 0x00800000 }, { 0xff7fffff }, 1, 0, 0, 0, 1, 1	},
+    { { 0x7f7fffff }, { 0xff7fffff }, 1, 0, 0, 0, 1, 1	},
+    { { 0x807fffff }, { 0x80800000 }, 1, 0, 0, 0, 1, 1	},
+    { { 0x80000001 }, { 0x80800000 }, 1, 0, 0, 0, 1, 1	},
+    { { 0x00000001 }, { 0x80800000 }, 1, 0, 0, 0, 1, 1	},
+    { { 0x007fffff }, { 0x80800000 }, 1, 0, 0, 0, 1, 1	},
+    { { 0x00800000 }, { 0x80800000 }, 1, 0, 0, 0, 1, 1	},
+    { { 0x7f7fffff }, { 0x80800000 }, 1, 0, 0, 0, 1, 1	},
+    { { 0x807ffffe }, { 0x807fffff }, 1, 0, 0, 0, 1, 1	},
+    { { 0x80000001 }, { 0x807fffff }, 1, 0, 0, 0, 1, 1	},
+    { { 0x00000001 }, { 0x807fffff }, 1, 0, 0, 0, 1, 1	},
+    { { 0x007fffff }, { 0x807fffff }, 1, 0, 0, 0, 1, 1	},
+    { { 0x00800000 }, { 0x807fffff }, 1, 0, 0, 0, 1, 1	},
+    { { 0x7f7fffff }, { 0x807fffff }, 1, 0, 0, 0, 1, 1	},
+    { { 0x00000001 }, { 0x80000001 }, 1, 0, 0, 0, 1, 1	},
+    { { 0x007fffff }, { 0x80000001 }, 1, 0, 0, 0, 1, 1	},
+    { { 0x00800000 }, { 0x80000001 }, 1, 0, 0, 0, 1, 1	},
+    { { 0x7f7fffff }, { 0x80000001 }, 1, 0, 0, 0, 1, 1	},
+    { { 0x00000002 }, { 0x00000001 }, 1, 0, 0, 0, 1, 1	},
+    { { 0x007fffff }, { 0x00000001 }, 1, 0, 0, 0, 1, 1	},
+    { { 0x00800000 }, { 0x00000001 }, 1, 0, 0, 0, 1, 1	},
+    { { 0x7f7fffff }, { 0x00000001 }, 1, 0, 0, 0, 1, 1	},
+    { { 0x00800000 }, { 0x007fffff }, 1, 0, 0, 0, 1, 1	},
+    { { 0x7f7fffff }, { 0x007fffff }, 1, 0, 0, 0, 1, 1	},
+    { { 0x00800001 }, { 0x00800000 }, 1, 0, 0, 0, 1, 1	},
+    { { 0x7f7fffff }, { 0x00800000 }, 1, 0, 0, 0, 1, 1	},
+    { { 0x7f7fffff }, { 0x7f7ffffe }, 1, 0, 0, 0, 1, 1	},
+    
+    /* others	*/
+    { { 0x000000ff }, { 0x00000100 }, 1, 1, 1, 0, 0, 0	},
+    { { 0x0000ffff }, { 0x00010000 }, 1, 1, 1, 0, 0, 0	},
+    { { 0x000000ff }, { 0x000000fe }, 1, 0, 0, 0, 1, 1	},
+    { { 0x0000ffff }, { 0x0000fffe }, 1, 0, 0, 0, 1, 1	},
+};
+
+unsigned char cmpno = 255;		/* to debug	*/
+
+void x_exit (int index, unsigned char no)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]: no= %d\n", index - 1, no);
+#endif
+    cmpno = no;
+    exit (index ? index : -1);
+}
+
+volatile union lofl_u x, y;
+
+int main ()
+{
+    int i;
+    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	x.lo = pgm_read_dword (& t[i].x);
+	y.lo = pgm_read_dword (& t[i].y);
+	if ((x.fl != y.fl) != pgm_read_byte (& t[i].ne))
+	    x_exit (i+1, 1);
+	if ((x.fl < y.fl)  != pgm_read_byte (& t[i].lt))
+	    x_exit (i+1, 2);
+	if ((x.fl <= y.fl) != pgm_read_byte (& t[i].le))
+	    x_exit (i+1, 3);
+	if ((x.fl == y.fl) != pgm_read_byte (& t[i].eq))
+	    x_exit (i+1, 4);
+	if ((x.fl >= y.fl) != pgm_read_byte (& t[i].ge))
+	    x_exit (i+1, 5);
+	if ((x.fl > y.fl)  != pgm_read_byte (& t[i].gt))
+	    x_exit (i+1, 6);
+    }
+    return 0;
+}
diff --git a/tests/simulate/fplib/cmp-02.c b/tests/simulate/fplib/cmp-02.c
new file mode 100644
index 0000000..4855aed
--- /dev/null
+++ b/tests/simulate/fplib/cmp-02.c
@@ -0,0 +1,139 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of float comparison, Inf.
+   $Id$
+ */
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+PROGMEM const struct {		/* Table of test cases.	*/
+    union lofl_u x, y;
+    unsigned char ne;	/* x != y */
+    unsigned char lt;	/* x < y  */
+    unsigned char le;	/* x <= y */
+    unsigned char eq;	/* x == y */
+    unsigned char ge;	/* x >= y */
+    unsigned char gt;	/* x > y  */
+} t[] = {
+
+    /* 0.0 and Inf, all signes	*/
+    { { 0x00000000 }, { 0x7f800000 }, 1, 1, 1, 0, 0, 0	},
+    { { 0x80000000 }, { 0x7f800000 }, 1, 1, 1, 0, 0, 0	},
+    { { 0x00000000 }, { 0xff800000 }, 1, 0, 0, 0, 1, 1	},
+    { { 0x80000000 }, { 0xff800000 }, 1, 0, 0, 0, 1, 1	},
+    
+    /* nonzero and +Inf	*/
+    { { 0xff7fffff }, { 0x7f800000 }, 1, 1, 1, 0, 0, 0	},
+    { { 0x80800000 }, { 0x7f800000 }, 1, 1, 1, 0, 0, 0	},
+    { { 0x807fffff }, { 0x7f800000 }, 1, 1, 1, 0, 0, 0	},
+    { { 0x80000001 }, { 0x7f800000 }, 1, 1, 1, 0, 0, 0	},
+    { { 0x00000001 }, { 0x7f800000 }, 1, 1, 1, 0, 0, 0	},
+    { { 0x007fffff }, { 0x7f800000 }, 1, 1, 1, 0, 0, 0	},
+    { { 0x00800000 }, { 0x7f800000 }, 1, 1, 1, 0, 0, 0	},
+    { { 0x7f7fffff }, { 0x7f800000 }, 1, 1, 1, 0, 0, 0	},
+
+    /* nonzero and -Inf	*/
+    { { 0xff7fffff }, { 0xff800000 }, 1, 0, 0, 0, 1, 1	},
+    { { 0x80800000 }, { 0xff800000 }, 1, 0, 0, 0, 1, 1	},
+    { { 0x807fffff }, { 0xff800000 }, 1, 0, 0, 0, 1, 1	},
+    { { 0x80000001 }, { 0xff800000 }, 1, 0, 0, 0, 1, 1	},
+    { { 0x00000001 }, { 0xff800000 }, 1, 0, 0, 0, 1, 1	},
+    { { 0x007fffff }, { 0xff800000 }, 1, 0, 0, 0, 1, 1	},
+    { { 0x00800000 }, { 0xff800000 }, 1, 0, 0, 0, 1, 1	},
+    { { 0x7f7fffff }, { 0xff800000 }, 1, 0, 0, 0, 1, 1	},
+
+    /* +Inf and nonzero	*/
+    { { 0x7f800000 }, { 0xff7fffff }, 1, 0, 0, 0, 1, 1	},
+    { { 0x7f800000 }, { 0x80800000 }, 1, 0, 0, 0, 1, 1	},
+    { { 0x7f800000 }, { 0x807fffff }, 1, 0, 0, 0, 1, 1	},
+    { { 0x7f800000 }, { 0x80000001 }, 1, 0, 0, 0, 1, 1	},
+    { { 0x7f800000 }, { 0x00000001 }, 1, 0, 0, 0, 1, 1	},
+    { { 0x7f800000 }, { 0x007fffff }, 1, 0, 0, 0, 1, 1	},
+    { { 0x7f800000 }, { 0x00800000 }, 1, 0, 0, 0, 1, 1	},
+    { { 0x7f800000 }, { 0x7f7fffff }, 1, 0, 0, 0, 1, 1	},
+
+    /* -Inf and nonzero	*/
+    { { 0xff800000 }, { 0xff7fffff }, 1, 1, 1, 0, 0, 0	},
+    { { 0xff800000 }, { 0x80800000 }, 1, 1, 1, 0, 0, 0	},
+    { { 0xff800000 }, { 0x807fffff }, 1, 1, 1, 0, 0, 0	},
+    { { 0xff800000 }, { 0x80000001 }, 1, 1, 1, 0, 0, 0	},
+    { { 0xff800000 }, { 0x00000001 }, 1, 1, 1, 0, 0, 0	},
+    { { 0xff800000 }, { 0x007fffff }, 1, 1, 1, 0, 0, 0	},
+    { { 0xff800000 }, { 0x00800000 }, 1, 1, 1, 0, 0, 0	},
+    { { 0xff800000 }, { 0x7f7fffff }, 1, 1, 1, 0, 0, 0	},
+
+    /* Inf and Inf, all signes	*/
+    { { 0x7f800000 }, { 0x7f800000 }, 0, 0, 1, 1, 1, 0	},
+    { { 0xff800000 }, { 0xff800000 }, 0, 0, 1, 1, 1, 0	},
+    { { 0xff800000 }, { 0x7f800000 }, 1, 1, 1, 0, 0, 0	},
+    { { 0x7f800000 }, { 0xff800000 }, 1, 0, 0, 0, 1, 1	},
+};
+
+unsigned char cmpno = 255;		/* to debug	*/
+
+void x_exit (int index, unsigned char no)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]: no= %d\n", index - 1, no);
+#endif
+    cmpno = no;
+    exit (index ? index : -1);
+}
+
+volatile union lofl_u x, y;
+
+int main ()
+{
+    int i;
+    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	x.lo = pgm_read_dword (& t[i].x);
+	y.lo = pgm_read_dword (& t[i].y);
+	if ((x.fl != y.fl) != pgm_read_byte (& t[i].ne))
+	    x_exit (i+1, 1);
+	if ((x.fl < y.fl)  != pgm_read_byte (& t[i].lt))
+	    x_exit (i+1, 2);
+	if ((x.fl <= y.fl) != pgm_read_byte (& t[i].le))
+	    x_exit (i+1, 3);
+	if ((x.fl == y.fl) != pgm_read_byte (& t[i].eq))
+	    x_exit (i+1, 4);
+	if ((x.fl >= y.fl) != pgm_read_byte (& t[i].ge))
+	    x_exit (i+1, 5);
+	if ((x.fl > y.fl)  != pgm_read_byte (& t[i].gt))
+	    x_exit (i+1, 6);
+    }
+    return 0;
+}
diff --git a/tests/simulate/fplib/cmp-03.c b/tests/simulate/fplib/cmp-03.c
new file mode 100644
index 0000000..21fff50
--- /dev/null
+++ b/tests/simulate/fplib/cmp-03.c
@@ -0,0 +1,141 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of float comparison, NaN.
+   $Id$
+ */
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+PROGMEM const struct {		/* Table of test cases.	*/
+    union lofl_u x, y;
+    unsigned char ne;	/* x != y */
+    unsigned char lt;	/* x < y  */
+    unsigned char le;	/* x <= y */
+    unsigned char eq;	/* x == y */
+    unsigned char ge;	/* x >= y */
+    unsigned char gt;	/* x > y  */
+} t[] = {
+
+    /* NaNs and 1.0	*/
+    { { 0x7f800001 }, { 0x3f800000 }, 1, 0, 0, 0, 0, 0	},
+    { { 0x7f800100 }, { 0x3f800000 }, 1, 0, 0, 0, 0, 0	},
+    { { 0x7f810000 }, { 0x3f800000 }, 1, 0, 0, 0, 0, 0	},
+    { { 0x7fffffff }, { 0x3f800000 }, 1, 0, 0, 0, 0, 0	},
+    { { 0xff800001 }, { 0x3f800000 }, 1, 0, 0, 0, 0, 0	},
+    { { 0xff800100 }, { 0x3f800000 }, 1, 0, 0, 0, 0, 0	},
+    { { 0xff810000 }, { 0x3f800000 }, 1, 0, 0, 0, 0, 0	},
+    { { 0xffffffff }, { 0x3f800000 }, 1, 0, 0, 0, 0, 0	},
+    
+    /* 1.0 and NaNs	*/
+    { { 0x3f800000 }, { 0x7f800001 }, 1, 0, 0, 0, 0, 0	},
+    { { 0x3f800000 }, { 0x7f800100 }, 1, 0, 0, 0, 0, 0	},
+    { { 0x3f800000 }, { 0x7f810000 }, 1, 0, 0, 0, 0, 0	},
+    { { 0x3f800000 }, { 0x7fffffff }, 1, 0, 0, 0, 0, 0	},
+    { { 0x3f800000 }, { 0xff800001 }, 1, 0, 0, 0, 0, 0	},
+    { { 0x3f800000 }, { 0xff800100 }, 1, 0, 0, 0, 0, 0	},
+    { { 0x3f800000 }, { 0xff810000 }, 1, 0, 0, 0, 0, 0	},
+    { { 0x3f800000 }, { 0xffffffff }, 1, 0, 0, 0, 0, 0	},
+
+    /* NaN and normal/Inf	*/
+    { { 0x7fc00000 }, { 0xff800000 }, 1, 0, 0, 0, 0, 0	},    
+    { { 0x7fc00000 }, { 0xff7fffff }, 1, 0, 0, 0, 0, 0	},    
+    { { 0x7fc00000 }, { 0x80800000 }, 1, 0, 0, 0, 0, 0	},    
+    { { 0x7fc00000 }, { 0x807fffff }, 1, 0, 0, 0, 0, 0	},    
+    { { 0x7fc00000 }, { 0x80000001 }, 1, 0, 0, 0, 0, 0	},    
+    { { 0x7fc00000 }, { 0x80000000 }, 1, 0, 0, 0, 0, 0	},    
+    { { 0x7fc00000 }, { 0x00000000 }, 1, 0, 0, 0, 0, 0	},    
+    { { 0x7fc00000 }, { 0x00000001 }, 1, 0, 0, 0, 0, 0	},    
+    { { 0x7fc00000 }, { 0x007fffff }, 1, 0, 0, 0, 0, 0	},    
+    { { 0x7fc00000 }, { 0x00800000 }, 1, 0, 0, 0, 0, 0	},    
+    { { 0x7fc00000 }, { 0x7f7fffff }, 1, 0, 0, 0, 0, 0	},    
+    { { 0x7fc00000 }, { 0x7f800000 }, 1, 0, 0, 0, 0, 0	},    
+
+    /* normal/Inf and NaN	*/
+    { { 0xff800000 }, { 0x7fc00000 }, 1, 0, 0, 0, 0, 0	},    
+    { { 0xff7fffff }, { 0x7fc00000 }, 1, 0, 0, 0, 0, 0	},    
+    { { 0x80800000 }, { 0x7fc00000 }, 1, 0, 0, 0, 0, 0	},    
+    { { 0x807fffff }, { 0x7fc00000 }, 1, 0, 0, 0, 0, 0	},    
+    { { 0x80000001 }, { 0x7fc00000 }, 1, 0, 0, 0, 0, 0	},    
+    { { 0x80000000 }, { 0x7fc00000 }, 1, 0, 0, 0, 0, 0	},    
+    { { 0x00000000 }, { 0x7fc00000 }, 1, 0, 0, 0, 0, 0	},    
+    { { 0x00000001 }, { 0x7fc00000 }, 1, 0, 0, 0, 0, 0	},    
+    { { 0x007fffff }, { 0x7fc00000 }, 1, 0, 0, 0, 0, 0	},    
+    { { 0x00800000 }, { 0x7fc00000 }, 1, 0, 0, 0, 0, 0	},    
+    { { 0x7f7fffff }, { 0x7fc00000 }, 1, 0, 0, 0, 0, 0	},    
+    { { 0x7f800000 }, { 0x7fc00000 }, 1, 0, 0, 0, 0, 0	},    
+
+    /* NaN and NaN	*/
+    { { 0x7f800001 }, { 0x7f800001 }, 1, 0, 0, 0, 0, 0	},
+    { { 0xffffffff }, { 0xffffffff }, 1, 0, 0, 0, 0, 0	},
+    { { 0x7fc00000 }, { 0xffc00000 }, 1, 0, 0, 0, 0, 0	},
+    { { 0xffc00000 }, { 0x7fc00000 }, 1, 0, 0, 0, 0, 0	},
+};
+
+unsigned char cmpno = 255;		/* to debug	*/
+
+void x_exit (int index, unsigned char no)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]: no= %d\n", index - 1, no);
+#endif
+    cmpno = no;
+    exit (index ? index : -1);
+}
+
+volatile union lofl_u x, y;
+
+int main ()
+{
+    int i;
+    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	x.lo = pgm_read_dword (& t[i].x);
+	y.lo = pgm_read_dword (& t[i].y);
+	if ((x.fl != y.fl) != pgm_read_byte (& t[i].ne))
+	    x_exit (i+1, 1);
+	if ((x.fl < y.fl)  != pgm_read_byte (& t[i].lt))
+	    x_exit (i+1, 2);
+	if ((x.fl <= y.fl) != pgm_read_byte (& t[i].le))
+	    x_exit (i+1, 3);
+	if ((x.fl == y.fl) != pgm_read_byte (& t[i].eq))
+	    x_exit (i+1, 4);
+	if ((x.fl >= y.fl) != pgm_read_byte (& t[i].ge))
+	    x_exit (i+1, 5);
+	if ((x.fl > y.fl)  != pgm_read_byte (& t[i].gt))
+	    x_exit (i+1, 6);
+    }
+    return 0;
+}
diff --git a/tests/simulate/fplib/div-01.c b/tests/simulate/fplib/div-01.c
new file mode 100644
index 0000000..41474f3
--- /dev/null
+++ b/tests/simulate/fplib/div-01.c
@@ -0,0 +1,138 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of division.  Simple cases.
+   $Id$
+ */
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+volatile union lofl_u v = { .lo = 1 };
+
+PROGMEM const struct {		/* Table of test cases:  x / y = z	*/
+    union lofl_u x, y, z;
+} t[] = {
+
+    /* 0.0 / nonzero	*/
+    { { 0x00000000 }, { 0x00000001 }, { 0x00000000 } },
+    { { 0x00000000 }, { 0x007fffff }, { 0x00000000 } },
+    { { 0x00000000 }, { 0x00800000 }, { 0x00000000 } },
+    { { 0x00000000 }, { 0x7f7fffff }, { 0x00000000 } },
+    { { 0x00000000 }, { 0x80000001 }, { 0x80000000 } },
+    { { 0x00000000 }, { 0x807fffff }, { 0x80000000 } },
+    { { 0x00000000 }, { 0x80800000 }, { 0x80000000 } },
+    { { 0x00000000 }, { 0xff7fffff }, { 0x80000000 } },
+
+    /* -0.0 / nonzero	*/
+    { { 0x80000000 }, { 0x3f800000 }, { 0x80000000 } },
+    { { 0x80000000 }, { 0xbf800000 }, { 0x00000000 } },
+
+    /* x / +1.0	--> x	*/
+    { { 0x00000000 }, { .fl = +1.0 }, { 0x00000000 } },
+    { { 0x00000001 }, { .fl = +1.0 }, { 0x00000001 } },
+    { { 0x00000100 }, { .fl = +1.0 }, { 0x00000100 } },
+    { { 0x00010000 }, { .fl = +1.0 }, { 0x00010000 } },
+    { { 0x007fffff }, { .fl = +1.0 }, { 0x007fffff } },
+    { { 0x00800000 }, { .fl = +1.0 }, { 0x00800000 } },
+    { { 0x3f800000 }, { .fl = +1.0 }, { 0x3f800000 } },
+    { { 0x7f7fffff }, { .fl = +1.0 }, { 0x7f7fffff } },
+    { { 0x80000000 }, { .fl = +1.0 }, { 0x80000000 } },
+    { { 0x80000001 }, { .fl = +1.0 }, { 0x80000001 } },
+    { { 0x80000100 }, { .fl = +1.0 }, { 0x80000100 } },
+    { { 0x80010000 }, { .fl = +1.0 }, { 0x80010000 } },
+    { { 0x807fffff }, { .fl = +1.0 }, { 0x807fffff } },
+    { { 0x80800000 }, { .fl = +1.0 }, { 0x80800000 } },
+    { { 0xbf800000 }, { .fl = +1.0 }, { 0xbf800000 } },
+    { { 0xff7fffff }, { .fl = +1.0 }, { 0xff7fffff } },
+
+    /* x / -1.0	--> -x	*/
+    { { 0x00000000 }, { .fl = -1.0 }, { 0x80000000 } },
+    { { 0x00000001 }, { .fl = -1.0 }, { 0x80000001 } },
+    { { 0x00000100 }, { .fl = -1.0 }, { 0x80000100 } },
+    { { 0x00010000 }, { .fl = -1.0 }, { 0x80010000 } },
+    { { 0x007fffff }, { .fl = -1.0 }, { 0x807fffff } },
+    { { 0x00800000 }, { .fl = -1.0 }, { 0x80800000 } },
+    { { 0x3f800000 }, { .fl = -1.0 }, { 0xbf800000 } },
+    { { 0x7f7fffff }, { .fl = -1.0 }, { 0xff7fffff } },
+    { { 0x80000000 }, { .fl = -1.0 }, { 0x00000000 } },
+    { { 0x80000001 }, { .fl = -1.0 }, { 0x00000001 } },
+    { { 0x80000100 }, { .fl = -1.0 }, { 0x00000100 } },
+    { { 0x80010000 }, { .fl = -1.0 }, { 0x00010000 } },
+    { { 0x807fffff }, { .fl = -1.0 }, { 0x007fffff } },
+    { { 0x80800000 }, { .fl = -1.0 }, { 0x00800000 } },
+    { { 0xbf800000 }, { .fl = -1.0 }, { 0x3f800000 } },
+    { { 0xff7fffff }, { .fl = -1.0 }, { 0x7f7fffff } },
+
+    /* x/x --> 1.0	*/
+    { { 0x00000001 }, { 0x00000001 }, { .fl = +1.0 } },
+    { { 0x00000100 }, { 0x00000100 }, { .fl = +1.0 } },
+    { { 0x00010000 }, { 0x00010000 }, { .fl = +1.0 } },
+    { { 0x007fffff }, { 0x007fffff }, { .fl = +1.0 } },
+    { { 0x00800000 }, { 0x00800000 }, { .fl = +1.0 } },
+    { { 0x3f800000 }, { 0x3f800000 }, { .fl = +1.0 } },
+    { { 0x7f7fffff }, { 0x7f7fffff }, { .fl = +1.0 } },
+    { { 0x80000001 }, { 0x80000001 }, { .fl = +1.0 } },
+    { { 0x80000100 }, { 0x80000100 }, { .fl = +1.0 } },
+    { { 0x80010000 }, { 0x80010000 }, { .fl = +1.0 } },
+    { { 0x807fffff }, { 0x807fffff }, { .fl = +1.0 } },
+    { { 0x80800000 }, { 0x80800000 }, { .fl = +1.0 } },
+    { { 0xbf800000 }, { 0xbf800000 }, { .fl = +1.0 } },
+    { { 0xff7fffff }, { 0xff7fffff }, { .fl = +1.0 } },
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]:  %#lx\n", index - 1, v.lo);
+#endif
+    exit (index ? index : -1);
+}
+
+int main ()
+{
+    union lofl_u x,y,z;
+    int i;
+    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	x.lo = pgm_read_dword (& t[i].x);
+	y.lo = pgm_read_dword (& t[i].y);
+	z.lo = pgm_read_dword (& t[i].z);
+	v.fl = x.fl / y.fl;
+	/* Comparison is integer to verify the zero sign.	*/
+	if (v.lo != z.lo)
+	    x_exit (i+1);
+    }
+    return 0;
+}
diff --git a/tests/simulate/fplib/div-02.c b/tests/simulate/fplib/div-02.c
new file mode 100644
index 0000000..7951add
--- /dev/null
+++ b/tests/simulate/fplib/div-02.c
@@ -0,0 +1,97 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of division.  Subnormals.
+   $Id$
+ */
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+volatile union lofl_u v = { .lo = 1 };
+
+PROGMEM const struct {		/* Table of test cases:  x / y = z	*/
+    union lofl_u x, y, z;
+} t[] = {
+
+    { { 0x00000001 }, { 0x00000001 }, { .fl = 1 } },
+    { { 0x00000002 }, { 0x00000001 }, { .fl = 2 } },
+    { { 0x00000003 }, { 0x00000001 }, { .fl = 3 } },
+    { { 0x00000004 }, { 0x00000001 }, { .fl = 4 } },
+    { { 0x007fffff }, { 0x00000001 }, { .fl = 0x0.7fffffp+24 } },
+    { { 0x00800000 }, { 0x00000001 }, { .fl = 0x0.800000p+24 } },
+    { { 0x00800001 }, { 0x00000001 }, { .fl = 0x0.800001p+24 } },
+    { { 0x00800002 }, { 0x00000001 }, { .fl = 0x0.800002p+24 } },
+    { { 0x00ffffff }, { 0x00000001 }, { .fl = 0x0.ffffffp+24 } },
+    { { 0x01000000 }, { 0x00000001 }, { .fl = 0x0.800000p+25 } },
+    { { 0x34fffffe }, { 0x00000001 }, { 0x7f7ffffe } },
+    { { 0x34ffffff }, { 0x00000001 }, { 0x7f7fffff } },
+    { { 0x35000000 }, { 0x00000001 }, { 0x7f800000 } },
+    { { 0x35000001 }, { 0x00000001 }, { 0x7f800000 } },
+    { { 0x7f7fffff }, { 0x00000001 }, { 0x7f800000 } },
+
+    { { 0x00000001 }, { 0x00000001 }, { .fl = 1 } },
+    { { 0x00000001 }, { 0x00000002 }, { .fl = 0.5 } },
+    { { 0x00000001 }, { 0x00000003 }, { .fl = 0.33333333 } },
+    { { 0x00000001 }, { 0x00000004 }, { .fl = 0.25 } },
+    { { 0x00000001 }, { 0x00100000 }, { .fl = 0x1p-20 } },
+    { { 0x00000001 }, { 0x00800000 }, { .fl = 0x1p-23 } },
+    { { 0x00000001 }, { .fl = 1.0  }, { .fl = 0x1p-149 } },
+    { { 0x00000001 }, { .fl = 2.0  }, { .fl = 0 } },
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]:  %#lx\n", index - 1, v.lo);
+#endif
+    exit (index ? index : -1);
+}
+
+int main ()
+{
+    union lofl_u x,y,z;
+    int i;
+    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	x.lo = pgm_read_dword (& t[i].x);
+	y.lo = pgm_read_dword (& t[i].y);
+	z.lo = pgm_read_dword (& t[i].z);
+	v.fl = x.fl / y.fl;
+	/* Comparison is integer to verify the zero sign.	*/
+	if (v.lo != z.lo)
+	    x_exit (i+1);
+    }
+    return 0;
+}
diff --git a/tests/simulate/fplib/div-03.c b/tests/simulate/fplib/div-03.c
new file mode 100644
index 0000000..1b25f3d
--- /dev/null
+++ b/tests/simulate/fplib/div-03.c
@@ -0,0 +1,99 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of division.  Rounding.
+   $Id$
+ */
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+volatile union lofl_u v = { .lo = 1 };
+
+PROGMEM const struct {		/* Table of test cases:  x / y = z	*/
+    union lofl_u x, y, z;
+} t[] = {
+
+    { { .fl = 1 }, { .fl = 3 }, { .fl = 0.33333333 } },	/* 0x3eaaaaab */
+    { { .fl = 2 }, { .fl = 3 }, { .fl = 0.66666667 } }, /* 0x3f2aaaab */
+    { { .fl = -1 }, { .fl = 3 }, { .fl = -0.33333333 } },
+    { { .fl = -2 }, { .fl = 3 }, { .fl = -0.66666667 } },
+    { { .fl = 1 }, { .fl = -3 }, { .fl = -0.33333333 } },
+    { { .fl = 2 }, { .fl = -3 }, { .fl = -0.66666667 } },
+    { { .fl = -1 }, { .fl = -3 }, { .fl = 0.33333333 } },
+    { { .fl = -2 }, { .fl = -3 }, { .fl = 0.66666667 } },
+    
+    { { .fl = 2 }, { .fl = 0x0.fffffep1 }, { .fl = 0x0.800001p1 } },
+    { { .fl = 2 }, { .fl = 0x0.ffffffp1 }, { .fl = 0x0.800001p1 } },
+    { { .fl = 2 }, { .fl = 0x0.800000p2 }, { .fl = 0x0.800000p1 } },
+    { { .fl = 2 }, { .fl = 0x0.800001p2 }, { .fl = 0x0.fffffep0 } },
+
+    /* The remander is exactly 0.5: rounding direction is smart.	*/
+    { { 0x007ffffe }, { .fl = 2 }, { 0x003fffff } },
+    { { 0x007fffff }, { .fl = 2 }, { 0x00400000 } },
+    { { 0x00800000 }, { .fl = 2 }, { 0x00400000 } },
+    { { 0x00800001 }, { .fl = 2 }, { 0x00400000 } },
+    { { 0x00800002 }, { .fl = 2 }, { 0x00400001 } },
+    { { 0x00800003 }, { .fl = 2 }, { 0x00400002 } },
+    { { 0x00800004 }, { .fl = 2 }, { 0x00400002 } },
+    { { 0x00800005 }, { .fl = 2 }, { 0x00400002 } },
+    { { 0x00800006 }, { .fl = 2 }, { 0x00400003 } },
+    { { 0x00800007 }, { .fl = 2 }, { 0x00400004 } },
+
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]:  %#lx\n", index - 1, v.lo);
+#endif
+    exit (index ? index : -1);
+}
+
+int main ()
+{
+    union lofl_u x,y,z;
+    int i;
+    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	x.lo = pgm_read_dword (& t[i].x);
+	y.lo = pgm_read_dword (& t[i].y);
+	z.lo = pgm_read_dword (& t[i].z);
+	v.fl = x.fl / y.fl;
+	/* Comparison is integer to verify the zero sign.	*/
+	if (v.lo != z.lo)
+	    x_exit (i+1);
+    }
+    return 0;
+}
diff --git a/tests/simulate/fplib/div-500.c b/tests/simulate/fplib/div-500.c
new file mode 100644
index 0000000..d3cf52a
--- /dev/null
+++ b/tests/simulate/fplib/div-500.c
@@ -0,0 +1,574 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of division.  Random cases.
+   $Id$
+ */
+#include <math.h>
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+volatile union lofl_u v = { .lo = 1 };
+
+PROGMEM const struct {		/* Table of test cases:  x / y = z	*/
+    long x, y, z;
+} t[] = {
+
+    { 0x408a3b06, 0xbfeb7476, 0xc0164ac9 },  /*   1:  4.3197050e+00 -1.8394916e+00 -2.3483146e+00 */
+    { 0xbfabe82e, 0xbca4bf35, 0x42859020 },  /*   2: -1.3430231e+00 -2.0110706e-02  6.6781498e+01 */
+    { 0xbfedcca8, 0xbd99dd8e, 0x41c5d307 },  /*   3: -1.8578081e+00 -7.5129613e-02  2.4728040e+01 */
+    { 0xc0fd8728, 0xbf0e220a, 0x41645186 },  /*   4: -7.9227486e+00 -5.5520689e-01  1.4269903e+01 */
+    { 0x3f091196, 0x41006d52, 0x3d889ce9 },  /*   5:  5.3542459e-01  8.0266895e+00  6.6705531e-02 */
+    { 0xbdd55979, 0xc12fceab, 0x3c1b5556 },  /*   6: -1.0417456e-01 -1.0987956e+01  9.4807953e-03 */
+    { 0xbf300b97, 0xbe7a543f, 0x4034088b },  /*   7: -6.8767685e-01 -2.4446200e-01  2.8130215e+00 */
+    { 0x40ecac54, 0x3fd6a26d, 0x408d249f },  /*   8:  7.3960361e+00  1.6768318e+00  4.4107202e+00 */
+    { 0xfc179ac1, 0xbe147f11, 0x7d82addd },  /*   9: -3.1487024e+36 -1.4501597e-01  2.1712798e+37 */
+    { 0xc180f271, 0xc140846b, 0x3fab77aa },  /*  10: -1.6118380e+01 -1.2032329e+01  1.3395894e+00 */
+    { 0x483cda35, 0x3e90252c, 0x4927b31e },  /*  11:  1.9338483e+05  2.8153360e-01  6.8689787e+05 */
+    { 0x3d9c8996, 0x3f1559b1, 0x3e0628df },  /*  12:  7.6434299e-02  5.8339983e-01  1.3101529e-01 */
+    { 0x53466e7d, 0xbdf1f30b, 0xd4d1f47c },  /*  13:  8.5225721e+11 -1.1813935e-01 -7.2139996e+12 */
+    { 0xbf438757, 0x41d75c27, 0xbce86d28 },  /*  14: -7.6378387e-01  2.6919996e+01 -2.8372362e-02 */
+    { 0xbfe761cc, 0x3f2e8b09, 0xc029aeb4 },  /*  15: -1.8076720e+00  6.8180901e-01 -2.6512880e+00 */
+    { 0xbdd5c193, 0x3c7286ba, 0xc0e1a1ac },  /*  16: -1.0437312e-01  1.4802629e-02 -7.0509853e+00 */
+    { 0x3ddcad8b, 0x3d7c0bb8, 0x3fe023d8 },  /*  17:  1.0775288e-01  6.1534613e-02  1.7510938e+00 */
+    { 0x3e440316, 0x416dafac, 0x3c531d66 },  /*  18:  1.9141802e-01  1.4855389e+01  1.2885427e-02 */
+    { 0xc3546147, 0xbce1e5d7, 0x45f0ae4c },  /*  19: -2.1237999e+02 -2.7575416e-02  7.7017872e+03 */
+    { 0x425650dd, 0x3d9f6d44, 0x442c11b2 },  /*  20:  5.3578968e+01  7.7845126e-02  6.8827646e+02 */
+    { 0x3fdbc397, 0xbe96f802, 0xc0ba541c },  /*  21:  1.7169064e+00 -2.9486090e-01 -5.8227674e+00 */
+    { 0x3f3a0338, 0xbfcbc428, 0xbee9b202 },  /*  22:  7.2661161e-01 -1.5919237e+00 -4.5643620e-01 */
+    { 0xc193b7ed, 0x4251e110, 0xbeb42df5 },  /*  23: -1.8464808e+01  5.2469788e+01 -3.5191314e-01 */
+    { 0x3f14b360, 0x36f0721f, 0x479e51eb },  /*  24:  5.8086205e-01  7.1658428e-06  8.1059836e+04 */
+    { 0x3fd03d47, 0x3dd8cfc3, 0x4175e0dd },  /*  25:  1.6268700e+00  1.0586502e-01  1.5367399e+01 */
+    { 0x3d24fd30, 0xc18c9390, 0xbb163a83 },  /*  26:  4.0280521e-02 -1.7572052e+01 -2.2923060e-03 */
+    { 0xbf42c69e, 0x00000000, 0xff800000 },  /*  27: -7.6084316e-01  0.0000000e+00 -inf */
+    { 0x3ff2d878, 0xc343e1a6, 0xbc1eb064 },  /*  28:  1.8972311e+00 -1.9588144e+02 -9.6856094e-03 */
+    { 0xc1df7b1f, 0xbfdef74b, 0x41804bae },  /*  29: -2.7935118e+01 -1.7419218e+00  1.6036953e+01 */
+    { 0xbfdc4cbd, 0xbbfa3694, 0x4361650e },  /*  30: -1.7210919e+00 -7.6359008e-03  2.2539474e+02 */
+    { 0x3dad9dc5, 0xbe02b499, 0xbf2a05ca },  /*  31:  8.4773578e-02 -1.2764205e-01 -6.6415086e-01 */
+    { 0x4568b601, 0x407927eb, 0x446f1a72 },  /*  32:  3.7233752e+03  3.8930614e+00  9.5641318e+02 */
+    { 0x3db6b844, 0xd00e2234, 0xad248ce3 },  /*  33:  8.9218646e-02 -9.5384248e+09 -9.3536038e-12 */
+    { 0xb5fdb9e1, 0xbf12c4ab, 0x365d47cb },  /*  34: -1.8904067e-06 -5.7331342e-01  3.2973355e-06 */
+    { 0xbf1ea6eb, 0x3e6b94c3, 0xc02c6733 },  /*  35: -6.1973447e-01  2.3005967e-01 -2.6937988e+00 */
+    { 0x3f0892ec, 0x3fda4350, 0x3ea02fea },  /*  36:  5.3349185e-01  1.7051792e+00  3.1286556e-01 */
+    { 0xbf0147b4, 0xc2f8ea99, 0x3b84f588 },  /*  37: -5.0500035e-01 -1.2445820e+02  4.0575901e-03 */
+    { 0x3e3ba48e, 0xb7052e3e, 0xc6b457f7 },  /*  38:  1.8324491e-01 -7.9381844e-06 -2.3083983e+04 */
+    { 0xc2152a09, 0xbd0169d2, 0x449388ff },  /*  39: -3.7291050e+01 -3.1595059e-02  1.1802811e+03 */
+    { 0xc0a8217c, 0x3f0e7c2f, 0xc11709df },  /*  40: -5.2540874e+00  5.5658239e-01 -9.4399096e+00 */
+    { 0xc1f5999c, 0x379ddd43, 0xc9c7235e },  /*  41: -3.0700005e+01  1.8818891e-05 -1.6313397e+06 */
+    { 0xbc8702e5, 0xbfdb490d, 0x3c1d9db6 },  /*  42: -1.6480872e-02 -1.7131668e+00  9.6201211e-03 */
+    { 0x3f1701c3, 0xbe54a230, 0xc035cdfc },  /*  43:  5.8987063e-01 -2.0764995e-01 -2.8406973e+00 */
+    { 0xc2e39659, 0x80000000, 0x7f800000 },  /*  44: -1.1379365e+02 -0.0000000e+00  inf */
+    { 0xc55e9194, 0x3f254bbb, 0xc5ac59af },  /*  45: -3.5610986e+03  6.4568681e-01 -5.5152105e+03 */
+    { 0x40150bd1, 0x47cba94a, 0x37bb5971 },  /*  46:  2.3288462e+00  1.0427458e+05  2.2333787e-05 */
+    { 0x462dbd20, 0xbf13f49a, 0xc6964e47 },  /*  47:  1.1119281e+04 -5.7795107e-01 -1.9239139e+04 */
+    { 0x00000000, 0x765e64ec, 0x00000000 },  /*  48:  0.0000000e+00  1.1276727e+33  0.0000000e+00 */
+    { 0xc0e25a70, 0xc19ee2e2, 0x3eb65a19 },  /*  49: -7.0735397e+00 -1.9860783e+01  3.5615614e-01 */
+    { 0xba56dcb8, 0x7d5fab76, 0x80007af6 },  /*  50: -8.1963418e-04  1.8581757e+37 -4.4109616e-41 */
+    { 0xbd8a7f5e, 0x37a15eb5, 0xc55bb6fe },  /*  51: -6.7625746e-02  1.9236797e-05 -3.5154369e+03 */
+    { 0x31f62fcc, 0x3a3b1999, 0x37286c3b },  /*  52:  7.1649762e-09  7.1372982e-04  1.0038779e-05 */
+    { 0xbffb4c64, 0x51df5928, 0xad9004a3 },  /*  53: -1.9632688e+00  1.1990919e+11 -1.6372964e-11 */
+    { 0xc3a229a5, 0x3f19f953, 0xc406ceb1 },  /*  54: -3.2432535e+02  6.0146064e-01 -5.3922955e+02 */
+    { 0xbe0604c9, 0x3f44de35, 0xbe2e45e6 },  /*  55: -1.3087763e-01  7.6901561e-01 -1.7018852e-01 */
+    { 0xbd1adee2, 0xc1624339, 0x3b2f39a0 },  /*  56: -3.7810214e-02 -1.4141412e+01  2.6737227e-03 */
+    { 0x4966917d, 0x80000000, 0xff800000 },  /*  57:  9.4440781e+05 -0.0000000e+00 -inf */
+    { 0x3dde5533, 0xc0c9e9f1, 0xbc8cf1bc },  /*  58:  1.0856094e-01 -6.3098073e+00 -1.7205112e-02 */
+    { 0xbe7d3198, 0x3fc46ae1, 0xbe24ffe2 },  /*  59: -2.4725950e-01  1.5345117e+00 -1.6113237e-01 */
+    { 0xbbe80025, 0xbd96a645, 0x3dc51ecc },  /*  60: -7.0800954e-03 -7.3559321e-02  9.6250145e-02 */
+    { 0xbfa48617, 0x40045e90, 0xbf1f17d0 },  /*  61: -1.2853421e+00  2.0682716e+00 -6.2145710e-01 */
+    { 0x3f6dcca2, 0xbdc175ef, 0xc11d5600 },  /*  62:  9.2890370e-01 -9.4463222e-02 -9.8334959e+00 */
+    { 0xc0014e9b, 0x3f4954d4, 0xc0246b25 },  /*  63: -2.0204227e+00  7.8645062e-01 -2.5690395e+00 */
+    { 0x47afa71d, 0x3aa2f2ca, 0x4c89fac8 },  /*  64:  8.9934227e+04  1.2431976e-03  7.2341056e+07 */
+    { 0xc0b04db5, 0xc2b08e6d, 0x3d7fa229 },  /*  65: -5.5094857e+00 -8.8278175e+01  6.2410507e-02 */
+    { 0xbbcef5db, 0xbf25bb9b, 0x3c1fd756 },  /*  66: -6.3159293e-03 -6.4739388e-01  9.7559299e-03 */
+    { 0x3e1b6d6c, 0xbfe6bb25, 0xbdac730a },  /*  67:  1.5178460e-01 -1.8025862e+00 -8.4203795e-02 */
+    { 0x38f2de75, 0x3ff3fbfd, 0x387ed468 },  /*  68:  1.1580895e-04  1.9061276e+00  6.0756139e-05 */
+    { 0x3fe24256, 0x3fbcf6a1, 0x3f99436d },  /*  69:  1.7676494e+00  1.4762765e+00  1.1973701e+00 */
+    { 0x47bcd551, 0x3f33adb6, 0x4806858c },  /*  70:  9.6682633e+04  7.0186937e-01  1.3775018e+05 */
+    { 0x3ff4150c, 0x3f082373, 0x40657da3 },  /*  71:  1.9068923e+00  5.3179091e-01  3.5857933e+00 */
+    { 0x3b9ea620, 0xf581a340, 0x859ca50d },  /*  72:  4.8415810e-03 -3.2867060e+32 -1.4730800e-35 */
+    { 0x512375ec, 0xbfcb3754, 0xd0cdeb17 },  /*  73:  4.3878629e+10 -1.5876260e+00 -2.7637888e+10 */
+    { 0xbda699a8, 0xbef69d20, 0x3e2cf0ec },  /*  74: -8.1347764e-02 -4.8166752e-01  1.6888779e-01 */
+    { 0x31832342, 0xbff30e99, 0xb10a1ef4 },  /*  75:  3.8166101e-09 -1.8988830e+00 -2.0099238e-09 */
+    { 0x3eee1f89, 0xc15a2300, 0xbd0bba52 },  /*  76:  4.6508434e-01 -1.3633545e+01 -3.4113237e-02 */
+    { 0x3be6c67a, 0x3fe49d5d, 0x3b8135af },  /*  77:  7.0427032e-03  1.7860523e+00  3.9431673e-03 */
+    { 0x3ff3e56b, 0x42256aa6, 0x3d3cba51 },  /*  78:  1.9054388e+00  4.1354149e+01  4.6076121e-02 */
+    { 0x3d39e2a0, 0xbec4541a, 0xbdf261f5 },  /*  79:  4.5382142e-02 -3.8345414e-01 -1.1835090e-01 */
+    { 0x3cf2e42d, 0xbffbf2fa, 0xbc76cbeb },  /*  80:  2.9649818e-02 -1.9683526e+00 -1.5063266e-02 */
+    { 0xbcafb229, 0xc0d5b88a, 0x3b5273ed },  /*  81: -2.1447258e-02 -6.6787767e+00  3.2112554e-03 */
+    { 0x4089cceb, 0x400a5713, 0x3fff0057 },  /*  82:  4.3062644e+00  2.1615646e+00  1.9921979e+00 */
+    { 0x3e244215, 0xbdc2ff66, 0xbfd7a4e0 },  /*  83:  1.6040833e-01 -9.5213696e-02 -1.6847191e+00 */
+    { 0xbf58168d, 0x3fc70d17, 0xbf0af4a4 },  /*  84: -8.4409410e-01  1.5550870e+00 -5.4279543e-01 */
+    { 0x3e57fd89, 0x3f192118, 0x3eb48b98 },  /*  85:  2.1092810e-01  5.9816122e-01  3.5262750e-01 */
+    { 0xba635b1c, 0x00000000, 0xff800000 },  /*  86: -8.6729391e-04  0.0000000e+00 -inf */
+    { 0xc06631be, 0xc0e2e826, 0x3f01dac0 },  /*  87: -3.5967860e+00 -7.0908384e+00  5.0724411e-01 */
+    { 0xc197c144, 0x3da96e3f, 0xc3654b04 },  /*  88: -1.8969368e+01  8.2729809e-02 -2.2929302e+02 */
+    { 0xbf2b7ad7, 0xbf520e12, 0x3f50fcc6 },  /*  89: -6.6984314e-01 -8.2052720e-01  8.1635702e-01 */
+    { 0x3f25588b, 0x3f3f6f4b, 0x3f5d1cb5 },  /*  90:  6.4588231e-01  7.4779195e-01  8.6371926e-01 */
+    { 0x3fdc3ed5, 0x42dd573f, 0x3c7ebbad },  /*  91:  1.7206675e+00  1.1067040e+02  1.5547675e-02 */
+    { 0xbff6f794, 0x3fed9c7d, 0xbf850a39 },  /*  92: -1.9294305e+00  1.8563381e+00 -1.0393745e+00 */
+    { 0xbfebcfa8, 0x3fe4469c, 0xbf8439aa },  /*  93: -1.8422747e+00  1.7834048e+00 -1.0330098e+00 */
+    { 0x3afa3724, 0x47aefb8c, 0x32b7086b },  /*  94:  1.9089920e-03  8.9591094e+04  2.1307832e-08 */
+    { 0x3f09c5d5, 0x39f3d091, 0x4490a889 },  /*  95:  5.3817493e-01  4.6503966e-04  1.1572667e+03 */
+    { 0xb3d5dbf0, 0xbe5a2885, 0x34faf483 },  /*  96: -9.9585918e-08 -2.1304519e-01  4.6744034e-07 */
+    { 0xc0d9ca85, 0x3dfbbae5, 0xc25d7c40 },  /*  97: -6.8059716e+00  1.2291507e-01 -5.5371337e+01 */
+    { 0x3dd5a681, 0xc266ff21, 0xbaecc6b7 },  /*  98:  1.0432149e-01 -5.7749149e+01 -1.8064593e-03 */
+    { 0x40cc6019, 0x3f0bc1bc, 0x413b2ec5 },  /*  99:  6.3867307e+00  5.4592490e-01  1.1698918e+01 */
+    { 0x4061b544, 0x3d002ef4, 0x42e16297 },  /* 100:  3.5266886e+00  3.1294778e-02  1.1269256e+02 */
+    { 0x3e347933, 0xbf3f930a, 0xbe712a76 },  /* 101:  1.7624359e-01 -7.4833739e-01 -2.3551354e-01 */
+    { 0x2e44580d, 0xbddbac84, 0xafe4cfe8 },  /* 102:  4.4643445e-11 -1.0726264e-01 -4.1620684e-10 */
+    { 0xbd61e223, 0xbfb321a0, 0x3d216837 },  /* 103: -5.5147301e-02 -1.3994637e+00  3.9406026e-02 */
+    { 0xc102be00, 0xc6a73bb3, 0x39c823c2 },  /* 104: -8.1713867e+00 -2.1405850e+04  3.8173615e-04 */
+    { 0x3d28872a, 0x47917cfb, 0x35144533 },  /* 105:  4.1144527e-02  7.4489961e+04  5.5234997e-07 */
+    { 0x3fc0a2b7, 0x3ff04067, 0x3f4d4348 },  /* 106:  1.5049657e+00  1.8769654e+00  8.0180789e-01 */
+    { 0x35abde61, 0xbab70bbc, 0xba705e3b },  /* 107:  1.2805214e-06 -1.3965289e-03 -9.1693151e-04 */
+    { 0x44b47ad4, 0x4193e51a, 0x429c3397 },  /* 108:  1.4438384e+03  1.8486866e+01  7.8100765e+01 */
+    { 0xbdf7ff83, 0x40c8d99d, 0xbc9e0c0b },  /* 109: -1.2109282e-01  6.2765641e+00 -1.9292851e-02 */
+    { 0xbff36556, 0x4c5aaa17, 0xb30e7a22 },  /* 110: -1.9015300e+00  5.7321564e+07 -3.3173031e-08 */
+    { 0xbf3812c2, 0xbfdc33fa, 0x3ed5ff32 },  /* 111: -7.1903622e-01 -1.7203362e+00  4.1796262e-01 */
+    { 0x3fa86ec1, 0x3fc40304, 0x3f5bfafd },  /* 112:  1.3158799e+00  1.5313420e+00  8.5929852e-01 */
+    { 0xbf3ab6c1, 0xbfc2be01, 0x3ef57241 },  /* 113: -7.2935110e-01 -1.5214235e+00  4.7938731e-01 */
+    { 0xf25ff0e7, 0x3fc6c3cd, 0xf210367f },  /* 114: -4.4356090e+30  1.5528504e+00 -2.8564304e+30 */
+    { 0xbdd149d9, 0xbf592ef7, 0x3df6b1a8 },  /* 115: -1.0219163e-01 -8.4837288e-01  1.2045604e-01 */
+    { 0x3bd12ecb, 0x3f14dc0c, 0x3c33dec5 },  /* 116:  6.3837520e-03  5.8148265e-01  1.0978405e-02 */
+    { 0x3fdfd4b9, 0xc0838462, 0xbed9d859 },  /* 117:  1.7486793e+00 -4.1099100e+00 -4.2547873e-01 */
+    { 0x3d77f380, 0xf7612486, 0x858cf7a0 },  /* 118:  6.0534954e-02 -4.5664358e+33 -1.3256499e-35 */
+    { 0xc0cf5e71, 0x3ff7f306, 0xc0561a1c },  /* 119: -6.4802785e+00  1.9371040e+00 -3.3453436e+00 */
+    { 0xc1bd483f, 0xb9a0f430, 0x47968744 },  /* 120: -2.3660276e+01 -3.0699512e-04  7.7070529e+04 */
+    { 0x32bdef04, 0x3b9c20ba, 0x369bb724 },  /* 121:  2.2111188e-08  4.7646435e-03  4.6406804e-06 */
+    { 0x3fed4343, 0x40adf1ce, 0x3eae9800 },  /* 122:  1.8536152e+00  5.4357672e+00  3.4100341e-01 */
+    { 0x3e26bfdf, 0x3e54c50d, 0x3f48a123 },  /* 123:  1.6284131e-01  2.0778294e-01  7.8370874e-01 */
+    { 0xbfb2b95a, 0x3f198023, 0xc0150880 },  /* 124: -1.3962815e+00  5.9961146e-01 -2.3286437e+00 */
+    { 0x315e4c1d, 0x3c726712, 0x346ac454 },  /* 125:  3.2348517e-09  1.4795082e-02  2.1864372e-07 */
+    { 0xc0ac3c1d, 0x3a75d465, 0xc5b35c45 },  /* 126: -5.3823380e+00  9.3776576e-04 -5.7395336e+03 */
+    { 0x3f3863de, 0xbf1bc683, 0xbf978336 },  /* 127:  7.2027385e-01 -6.0849780e-01 -1.1836918e+00 */
+    { 0xbc753642, 0xbf61186f, 0x3c8b7070 },  /* 128: -1.4966549e-02 -8.7927908e-01  1.7021387e-02 */
+    { 0xb875aea6, 0x4b3b8cba, 0xaca7acb3 },  /* 129: -5.8575206e-05  1.2291258e+07 -4.7655989e-12 */
+    { 0x3f8d5764, 0xbf2718c1, 0xbfd88aa8 },  /* 130:  1.1042295e+00 -6.5272146e-01 -1.6917315e+00 */
+    { 0xc0edcd60, 0xf853c594, 0x080fbbc3 },  /* 131: -7.4313202e+00 -1.7180969e+34  4.3253208e-34 */
+    { 0xc3129e13, 0x3f403075, 0xc3434c25 },  /* 132: -1.4661748e+02  7.5073940e-01 -1.9529743e+02 */
+    { 0x412b6ca8, 0xb196fa2a, 0xcf1155db },  /* 133:  1.0714027e+01 -4.3940149e-09 -2.4383229e+09 */
+    { 0x101b41fc, 0x416f6a86, 0x0e26031d },  /* 134:  3.0619193e-29  1.4963507e+01  2.0462578e-30 */
+    { 0x40e4bc19, 0xc2661f07, 0xbdfe7528 },  /* 135:  7.1479611e+00 -5.7530300e+01 -1.2424689e-01 */
+    { 0xbf07f708, 0x434a6c68, 0xbb2bf39a },  /* 136: -5.3111315e-01  2.0242346e+02 -2.6237727e-03 */
+    { 0xc2d014c4, 0x3b218657, 0xc724e4bc },  /* 137: -1.0404056e+02  2.4646723e-03 -4.2212734e+04 */
+    { 0x411b364f, 0xc0d98d30, 0xbfb6a4aa },  /* 138:  9.7007589e+00 -6.7984848e+00 -1.4269001e+00 */
+    { 0xbfc8b83b, 0xc009e62e, 0x3f3a4f98 },  /* 139: -1.5681223e+00 -2.1546741e+00  7.2777702e-01 */
+    { 0x4831dd91, 0x40ba3f0f, 0x46f47af8 },  /* 140:  1.8213427e+05  5.8201976e+00  3.1293485e+04 */
+    { 0x390875e3, 0xc27934d4, 0xb60c2e39 },  /* 141:  1.3013887e-04 -6.2301590e+01 -2.0888531e-06 */
+    { 0x3dacc8e2, 0x3fe5332b, 0x3d40fcfe },  /* 142:  8.4367529e-02  1.7906240e+00  4.7116272e-02 */
+    { 0x3fee63a8, 0xbf0f2801, 0xc0552687 },  /* 143:  1.8624163e+00 -5.5920416e-01 -3.3304764e+00 */
+    { 0x3b4249d0, 0x41cac2b6, 0x38f54d9c },  /* 144:  2.9646046e-03  2.5345074e+01  1.1696966e-04 */
+    { 0x4c735795, 0x3dc6506a, 0x4e1d101a },  /* 145:  6.3790676e+07  9.6833065e-02  6.5876956e+08 */
+    { 0x3f1aed07, 0xbfdaa013, 0xbeb56936 },  /* 146:  6.0517925e-01 -1.7080101e+00 -3.5431831e-01 */
+    { 0xc1120253, 0xca417cee, 0x36412e7e },  /* 147: -9.1255674e+00 -3.1701075e+06  2.8786303e-06 */
+    { 0x453b4362, 0xc8b23e6c, 0xbc067a1b },  /* 148:  2.9962114e+03 -3.6504338e+05 -8.2078230e-03 */
+    { 0xc08b4b27, 0xbff0f43d, 0x4013fdd3 },  /* 149: -4.3529239e+00 -1.8824536e+00  2.3123672e+00 */
+    { 0xc87d4980, 0xc15350b4, 0x46996c72 },  /* 150: -2.5936600e+05 -1.3207203e+01  1.9638223e+04 */
+    { 0xbfd41320, 0xc877fa68, 0x36daef64 },  /* 151: -1.6568336e+00 -2.5392962e+05  6.5247749e-06 */
+    { 0xbfcd1e9f, 0x41f93307, 0xbd52b7a4 },  /* 152: -1.6024970e+00  3.1149916e+01 -5.1444665e-02 */
+    { 0xc7ce0140, 0x3c2d333e, 0xcb183e60 },  /* 153: -1.0547450e+05  1.0571299e-02 -9.9774397e+06 */
+    { 0xc3ee5d70, 0x3fed4591, 0xc38096fb },  /* 154: -4.7672998e+02  1.8536855e+00 -2.5717954e+02 */
+    { 0xbd84a2a3, 0x434c5737, 0xb9a62ab3 },  /* 155: -6.4763330e-02  2.0434068e+02 -3.1693801e-04 */
+    { 0xeb9debda, 0x41909c76, 0xe98bc7fe },  /* 156: -3.8183026e+26  1.8076397e+01 -2.1123140e+25 */
+    { 0x3e5e0350, 0xc2b05464, 0xbb21297f },  /* 157:  2.1680951e-01 -8.8164825e+01 -2.4591384e-03 */
+    { 0xbfcb5292, 0x3d22b7f3, 0xc21ff0c4 },  /* 158: -1.5884573e+00  3.9726209e-02 -3.9985123e+01 */
+    { 0xbd85815a, 0x423ccb2e, 0xbab507ba },  /* 159: -6.5188125e-02  4.7198418e+01 -1.3811506e-03 */
+    { 0x3df9b3f8, 0xbffdd7d2, 0xbd7bd325 },  /* 160:  1.2192529e-01 -1.9831488e+00 -6.1480658e-02 */
+    { 0xbdad53f4, 0xbe3ca064, 0x3eeb3cb1 },  /* 161: -8.4632784e-02 -1.8420559e-01  4.5944742e-01 */
+    { 0xc0d1d474, 0x408ddc50, 0xbfbd540c },  /* 162: -6.5571842e+00  4.4331436e+00 -1.4791274e+00 */
+    { 0xc23a7701, 0x4273f22b, 0xbf43adb8 },  /* 163: -4.6616215e+01  6.0986492e+01 -7.6436950e-01 */
+    { 0xc12f5489, 0xc00c9808, 0x409f9ff2 },  /* 164: -1.0958138e+01 -2.1967793e+00  4.9882747e+00 */
+    { 0xbfefd717, 0xc1343019, 0x3e2a600d },  /* 165: -1.8737515e+00 -1.1261743e+01  1.6638202e-01 */
+    { 0xc167e088, 0xc11f1827, 0x3fba8ec2 },  /* 166: -1.4492317e+01 -9.9433966e+00  1.4574816e+00 */
+    { 0xc112ed14, 0x3d45fe4a, 0xc33df8b1 },  /* 167: -9.1828804e+00  4.8338212e-02 -1.8997145e+02 */
+    { 0xbd65fb86, 0x410a276e, 0xbbd5144d },  /* 168: -5.6148075e-02  8.6346264e+00 -6.5026640e-03 */
+    { 0xc1588e8f, 0x3df73003, 0xc2e046fe },  /* 169: -1.3534804e+01  1.2069704e-01 -1.1213866e+02 */
+    { 0xbea2cae3, 0xbfe2ae57, 0x3e37d921 },  /* 170: -3.1795415e-01 -1.7709454e+00  1.7953922e-01 */
+    { 0x417e2adb, 0x45e87cf6, 0x3b0bef95 },  /* 171:  1.5885463e+01  7.4396201e+03  2.1352519e-03 */
+    { 0x4bf048ca, 0x440f8ca2, 0x475641b0 },  /* 172:  3.1494548e+07  5.7419739e+02  5.4849689e+04 */
+    { 0x41b28338, 0xbdd14bb4, 0xc35a58fd },  /* 173:  2.2314072e+01 -1.0219517e-01 -2.1834761e+02 */
+    { 0xbe68549b, 0xbfd1c183, 0x3e0dc698 },  /* 174: -2.2688524e-01 -1.6387180e+00  1.3845289e-01 */
+    { 0xb53d1d2a, 0x462b9cc3, 0xae8d0dc9 },  /* 175: -7.0450426e-07  1.0983190e+04 -6.4143863e-11 */
+    { 0x3c7c453a, 0x3feb9b8e, 0x3c090d70 },  /* 176:  1.5397364e-02  1.8406847e+00  8.3650202e-03 */
+    { 0x421e498f, 0xbd79ea99, 0xc42223f5 },  /* 177:  3.9571835e+01 -6.1014745e-02 -6.4856182e+02 */
+    { 0xbb7530cd, 0xc309bfc6, 0x37e3d660 },  /* 178: -3.7413121e-03 -1.3774911e+02  2.7160335e-05 */
+    { 0xbe8c9170, 0xbf0156c3, 0x3f0b1ceb },  /* 179: -2.7454710e-01 -5.0523013e-01  5.4340999e-01 */
+    { 0xc0b6d789, 0xbff723e4, 0x403d658d },  /* 180: -5.7138104e+00 -1.9307828e+00  2.9593233e+00 */
+    { 0xbdc9bb1a, 0x438a1670, 0xb9bafe72 },  /* 181: -9.8501399e-02  2.7617529e+02 -3.5666260e-04 */
+    { 0xc151f1c4, 0xbfb069d6, 0x4118543a },  /* 182: -1.3121525e+01 -1.3782299e+00  9.5205635e+00 */
+    { 0x3e1b9d6b, 0xc59c3364, 0xb7ff0a35 },  /* 183:  1.5196769e-01 -4.9984238e+03 -3.0403122e-05 */
+    { 0xbfe1689d, 0x3b39c9f2, 0xc41b4bd5 },  /* 184: -1.7610050e+00  2.8349129e-03 -6.2118489e+02 */
+    { 0x419920be, 0x411022cf, 0x4007fc3c },  /* 185:  1.9140987e+01  9.0084982e+00  2.1247701e+00 */
+    { 0xc21538d9, 0xbc8ce2a0, 0x45079307 },  /* 186: -3.7305515e+01 -1.7197907e-02  2.1691893e+03 */
+    { 0x4b1285f8, 0x43540671, 0x4730e9ae },  /* 187:  9.6025520e+06  2.1202516e+02  4.5289681e+04 */
+    { 0xbf077b1a, 0xbe2290af, 0x40555952 },  /* 188: -5.2922213e-01 -1.5875505e-01  3.3335767e+00 */
+    { 0x42e23f3d, 0x3ca3b862, 0x45b0e281 },  /* 189:  1.1312351e+02  1.9985382e-02  5.6603129e+03 */
+    { 0xc1fe37e9, 0x4190524b, 0xbfe177f5 },  /* 190: -3.1777300e+01  1.8040182e+01 -1.7614733e+00 */
+    { 0xe047bb14, 0x3e3768db, 0xe18b63f2 },  /* 191: -5.7568476e+19  1.7911093e-01 -3.2141241e+20 */
+    { 0x3caebf60, 0x3f40ce22, 0x3ce80610 },  /* 192:  2.1331489e-02  7.5314534e-01  2.8323204e-02 */
+    { 0x3fe1871f, 0x00000000, 0x7f800000 },  /* 193:  1.7619361e+00  0.0000000e+00  inf */
+    { 0xbf116a63, 0x42ddc7a0, 0xbba7da5a },  /* 194: -5.6802958e-01  1.1088989e+02 -5.1224649e-03 */
+    { 0x39fcc4aa, 0xbcc62bb7, 0xbca343d1 },  /* 195:  4.8211712e-04 -2.4190767e-02 -1.9929799e-02 */
+    { 0xc1bbc94c, 0xc329533b, 0x3e0df4a2 },  /* 196: -2.3473289e+01 -1.6932512e+02  1.3862851e-01 */
+    { 0x3db7c21d, 0xbf264be7, 0xbe0d70c4 },  /* 197:  8.9725710e-02 -6.4959568e-01 -1.3812547e-01 */
+    { 0xc11914b2, 0xb7d9e58b, 0x48b3d994 },  /* 198: -9.5675526e+00 -2.5975305e-05  3.6833263e+05 */
+    { 0x3e472531, 0x3f13c136, 0x3eac8508 },  /* 199:  1.9447781e-01  5.7716691e-01  3.3695246e-01 */
+    { 0xbbf28543, 0x3f29a046, 0xbc37019a },  /* 200: -7.4011399e-03  6.6260183e-01 -1.1169815e-02 */
+    { 0x406f327b, 0xc11d1ef9, 0xbec2dd36 },  /* 201:  3.7374561e+00 -9.8200617e+00 -3.8059395e-01 */
+    { 0xbdc7105b, 0xbff47b77, 0x3d507121 },  /* 202: -9.7199164e-02 -1.9100178e+00  5.0889139e-02 */
+    { 0xbcdba61f, 0xc3d676f3, 0x3883181a },  /* 203: -2.6812611e-02 -4.2892929e+02  6.2510562e-05 */
+    { 0xc12034b9, 0xb9db96fb, 0x46bac50d },  /* 204: -1.0012872e+01 -4.1883424e-04  2.3906526e+04 */
+    { 0x3f150f26, 0x40cd7bb3, 0x3db9b458 },  /* 205:  5.8226240e-01  6.4213500e+00  9.0676010e-02 */
+    { 0xc0bd78e5, 0xbf26563e, 0x4111cd9d },  /* 206: -5.9210076e+00 -6.4975345e-01  9.1126990e+00 */
+    { 0x4758724d, 0x40e1927f, 0x45f5a4ac },  /* 207:  5.5410301e+04  7.0491328e+00  7.8605840e+03 */
+    { 0xbf372de4, 0xc222a871, 0x3c902615 },  /* 208: -7.1554399e-01 -4.0664494e+01  1.7596284e-02 */
+    { 0x38f17486, 0xbce75b62, 0xbb859640 },  /* 209:  1.1513480e-04 -2.8241817e-02 -4.0767489e-03 */
+    { 0x3e4dcecd, 0x3fd46c9e, 0x3df806b9 },  /* 210:  2.0098419e-01  1.6595647e+00  1.2110657e-01 */
+    { 0x412345bf, 0x3e326b3d, 0x426a447a },  /* 211:  1.0204528e+01  1.7423721e-01  5.8566870e+01 */
+    { 0x3e5fdb2f, 0x409abfe9, 0x3d392934 },  /* 212:  2.1860956e-01  4.8359265e+00  4.5205310e-02 */
+    { 0xc3b64f38, 0x3fea4c2c, 0xc3473245 },  /* 213: -3.6461890e+02  1.8304496e+00 -1.9919636e+02 */
+    { 0xbf2067c6, 0xc0179c56, 0x3e876cd1 },  /* 214: -6.2658346e-01 -2.3689170e+00  2.6450207e-01 */
+    { 0x4116c202, 0x4168167c, 0x3f264a60 },  /* 215:  9.4223652e+00  1.4505489e+01  6.4957238e-01 */
+    { 0x5b6dfa56, 0xbfe8ec4e, 0xdb02c71e },  /* 216:  6.6984817e+16 -1.8197114e+00 -3.6810681e+16 */
+    { 0x3fe98734, 0x46506c3f, 0x390f6b07 },  /* 217:  1.8244386e+00  1.3339062e+04  1.3677413e-04 */
+    { 0xbf1bb028, 0xbd3dff93, 0x4151c565 },  /* 218: -6.0815668e-01 -4.6386313e-02  1.3110692e+01 */
+    { 0xc10b6f91, 0x407780a2, 0xc010391b },  /* 219: -8.7147379e+00  3.8672261e+00 -2.2534855e+00 */
+    { 0xbf17f0e0, 0xb836c107, 0x4654d65b },  /* 220: -5.9351921e-01 -4.3571952e-05  1.3621589e+04 */
+    { 0xbe9b1f5f, 0xbe9211b2, 0x3f87eef9 },  /* 221: -3.0297372e-01 -2.8529125e-01  1.0619804e+00 */
+    { 0xc22b458c, 0x3e0543c6, 0xc3a48164 },  /* 222: -4.2817917e+01  1.3014135e-01 -3.2901086e+02 */
+    { 0x3f3adb0c, 0x3db9eeb7, 0x4100a2b2 },  /* 223:  7.2990489e-01  9.0787344e-02  8.0397207e+00 */
+    { 0x3df49ae1, 0xbfeb20eb, 0xbd8528a7 },  /* 224:  1.1943603e-01 -1.8369421e+00 -6.5018943e-02 */
+    { 0xbfcdd8b0, 0x3d15111e, 0xc230c155 },  /* 225: -1.6081753e+00  3.6393277e-02 -4.4188801e+01 */
+    { 0xbff158ed, 0x49aad4c5, 0xb5b4d615 },  /* 226: -1.8855263e+00  1.3994486e+06 -1.3473351e-06 */
+    { 0x409a1cf3, 0xbdf3dcef, 0xc221c882 },  /* 227:  4.8160338e+00 -1.1907374e-01 -4.0445809e+01 */
+    { 0x4040dcb7, 0x3ba9dafe, 0x44115664 },  /* 228:  3.0134714e+00  5.1835766e-03  5.8134983e+02 */
+    { 0xc0ee9145, 0x3f3f3f23, 0xc11fabe7 },  /* 229: -7.4552331e+00  7.4705714e-01 -9.9794684e+00 */
+    { 0x3cf26d8a, 0x3ff2d32e, 0x3c7f94d8 },  /* 230:  2.9593248e-02  1.8970697e+00  1.5599452e-02 */
+    { 0xbfc34765, 0x3f270145, 0xc015ab9f },  /* 231: -1.5256163e+00  6.5236312e-01 -2.3385998e+00 */
+    { 0x3b81273f, 0x47c09854, 0x332bac21 },  /* 232:  3.9414461e-03  9.8608656e+04  3.9970589e-08 */
+    { 0x475000b4, 0xc7a6a283, 0xbf1fc6d2 },  /* 233:  5.3248703e+04 -8.5317023e+04 -6.2412753e-01 */
+    { 0x41434d64, 0x00000000, 0x7f800000 },  /* 234:  1.2206394e+01  0.0000000e+00  inf */
+    { 0xbfb6c0d4, 0xc9e8e368, 0x3548e3ba },  /* 235: -1.4277596e+00 -1.9078210e+06  7.4837191e-07 */
+    { 0xbd5c841b, 0xbe2ba32a, 0x3ea473a2 },  /* 236: -5.3836923e-02 -1.6761461e-01  3.2119469e-01 */
+    { 0xbde1048b, 0x3c6e485b, 0xc0f1bfb2 },  /* 237: -1.0987195e-01  1.4543618e-02 -7.5546501e+00 */
+    { 0xc2ace9d9, 0x4150ecac, 0xc0d3dff6 },  /* 238: -8.6456734e+01  1.3057781e+01 -6.6210892e+00 */
+    { 0xbaa9a446, 0xbf2a6b65, 0x3afed4e3 },  /* 239: -1.2942634e-03 -6.6570121e-01  1.9442107e-03 */
+    { 0xdda9c37a, 0xbe32bb00, 0x5ef32811 },  /* 240: -1.5290944e+18 -1.7454147e-01  8.7606365e+18 */
+    { 0x42b52da1, 0xbf38af52, 0xc2fb23ab },  /* 241:  9.0589119e+01 -7.2142518e-01 -1.2556967e+02 */
+    { 0x3a0c7680, 0x3ee98b6e, 0x3a99f7ea },  /* 242:  5.3582340e-04  4.5614189e-01  1.1746858e-03 */
+    { 0xc235a7d1, 0x3e3109b4, 0xc38356ae },  /* 243: -4.5413883e+01  1.7288858e-01 -2.6267718e+02 */
+    { 0xc04653be, 0x3def0557, 0xc1d46a60 },  /* 244: -3.0988612e+00  1.1670940e-01 -2.6551941e+01 */
+    { 0x3e43369f, 0xbfb1b400, 0xbe0c9cd8 },  /* 245:  1.9063805e-01 -1.3883057e+00 -1.3731706e-01 */
+    { 0x0e296e1d, 0x40bfeb30, 0x0ce200a6 },  /* 246:  2.0883876e-30  5.9974594e+00  3.4821204e-31 */
+    { 0x3c534b33, 0xbff66c56, 0xbbdb815c },  /* 247:  1.2896347e-02 -1.9251812e+00 -6.6987706e-03 */
+    { 0x3e13b2f4, 0xbe5451ea, 0xbf3215b3 },  /* 248:  1.4423734e-01 -2.0734373e-01 -6.9564361e-01 */
+    { 0x8258ff1d, 0x40fd5b5c, 0x80db42a5 },  /* 249: -1.5942388e-37  7.9174023e+00 -2.0135882e-38 */
+    { 0x41b685d3, 0xbd76758d, 0xc3bd96a7 },  /* 250:  2.2815344e+01 -6.0170699e-02 -3.7917698e+02 */
+    { 0xc094e9f4, 0x3dbba42c, 0xc24b29fb },  /* 251: -4.6535587e+00  9.1621727e-02 -5.0790996e+01 */
+    { 0x41410a95, 0xc06fd787, 0xc04e0be7 },  /* 252:  1.2065084e+01 -3.7475297e+00 -3.2194764e+00 */
+    { 0x3d790150, 0x3c876eb2, 0x406b5708 },  /* 253:  6.0792267e-02  1.6532276e-02  3.6771869e+00 */
+    { 0xcd797c6c, 0xbf50a984, 0x4d990aeb },  /* 254: -2.6160506e+08 -8.1508660e-01  3.2095369e+08 */
+    { 0xbb1c1570, 0x40b35648, 0xb9dece70 },  /* 255: -2.3816489e-03  5.6042824e+00 -4.2496946e-04 */
+    { 0xbde1f0af, 0x3d666164, 0xbffb10e3 },  /* 256: -1.1032235e-01  5.6245223e-02 -1.9614528e+00 */
+    { 0x422b6b20, 0xbf1eab1e, 0xc28a491f },  /* 257:  4.2854614e+01 -6.1979854e-01 -6.9142812e+01 */
+    { 0x3fdaad19, 0xc25ca5a0, 0xbcfdb6a3 },  /* 258:  1.7084075e+00 -5.5161743e+01 -3.0970876e-02 */
+    { 0xb9c7df86, 0xc0a37988, 0x389c7ff2 },  /* 259: -3.8122776e-04 -5.1085854e+00  7.4624917e-05 */
+    { 0x3fd94fb3, 0xc0686d51, 0xbeef59ec },  /* 260:  1.6977447e+00 -3.6316721e+00 -4.6748293e-01 */
+    { 0xbe31996f, 0x3fe7148c, 0xbdc4c06f },  /* 261: -1.7343687e-01  1.8053145e+00 -9.6070165e-02 */
+    { 0x40cbdbd1, 0x3cc3eff6, 0x43852cbd },  /* 262:  6.3705831e+00  2.3918133e-02  2.6634951e+02 */
+    { 0xb771a7dd, 0x3479ddef, 0xc2779655 },  /* 263: -1.4403803e-05  2.3270671e-07 -6.1896810e+01 */
+    { 0x4197addd, 0x3d76acb4, 0x439d69cd },  /* 264:  1.8959894e+01  6.0223296e-02  3.1482658e+02 */
+    { 0x3fd6e283, 0x3c1cb4a3, 0x432f8597 },  /* 265:  1.6787876e+00  9.5645515e-03  1.7552183e+02 */
+    { 0xc27b9e0a, 0x3fd714b2, 0xc215be69 },  /* 266: -6.2904335e+01  1.6803191e+00 -3.7435947e+01 */
+    { 0x3feea11b, 0x3cb85498, 0x42a5b496 },  /* 267:  1.8642915e+00  2.2501275e-02  8.2852707e+01 */
+    { 0xc0e5a3b1, 0x3efa620f, 0xc16aca81 },  /* 268: -7.1762319e+00  4.8902938e-01 -1.4674439e+01 */
+    { 0x417be6cd, 0xc542d9bb, 0xbba57a46 },  /* 269:  1.5743848e+01 -3.1176082e+03 -5.0499765e-03 */
+    { 0x3f25b609, 0xbdd14405, 0xc0cab7f2 },  /* 270:  6.4730889e-01 -1.0218052e-01 -6.3349540e+00 */
+    { 0x3b87a167, 0xeeb09376, 0x8c44a31b },  /* 271:  4.1391137e-03 -2.7323816e+28 -1.5148374e-31 */
+    { 0xa7583214, 0x33bddeb8, 0xb311bf4f },  /* 272: -3.0003169e-15  8.8415106e-08 -3.3934438e-08 */
+    { 0xbf105719, 0x33f6e0cb, 0xca95ac68 },  /* 273: -5.6382900e-01  1.1496157e-07 -4.9044998e+06 */
+    { 0x3db4b701, 0xbddbf1e3, 0xbf5256cf },  /* 274:  8.8239677e-02 -1.0739496e-01 -8.2163707e-01 */
+    { 0xbe4966ea, 0xbff114f1, 0x3dd5dd64 },  /* 275: -1.9668165e-01 -1.8834516e+00  1.0442618e-01 */
+    { 0x3ea4861d, 0xc138709f, 0xbce45b58 },  /* 276:  3.2133570e-01 -1.1527495e+01 -2.7875587e-02 */
+    { 0x43743449, 0x40549cc7, 0x429304f5 },  /* 277:  2.4420424e+02  3.3220689e+00  7.3509684e+01 */
+    { 0xc0e5c94b, 0xbd41164d, 0x43185411 },  /* 278: -7.1808219e+00 -4.7140408e-02  1.5232838e+02 */
+    { 0x3febeba0, 0xbfcf4806, 0xbf91af66 },  /* 279:  1.8431282e+00 -1.6193855e+00 -1.1381652e+00 */
+    { 0x09348ab8, 0x3bd9c1a6, 0x0cd43fe6 },  /* 280:  2.1731937e-33  6.6453991e-03  3.2702230e-31 */
+    { 0x3f1e1d46, 0x3ded0e67, 0x40aabfe9 },  /* 281:  6.1763418e-01  1.1575013e-01  5.3359266e+00 */
+    { 0x3a3f1b5c, 0xbf0ec86e, 0xbaab521d },  /* 282:  7.2901486e-04 -5.5774581e-01 -1.3070737e-03 */
+    { 0xbd8d916b, 0x3fd9ccb5, 0xbd2665e2 },  /* 283: -6.9125019e-02  1.7015597e+00 -4.0624505e-02 */
+    { 0xc1e7a37b, 0x3f052d1c, 0xc25ea2aa },  /* 284: -2.8954824e+01  5.2021956e-01 -5.5658853e+01 */
+    { 0xc0b9541b, 0x422e48cd, 0xbe081c76 },  /* 285: -5.7915168e+00  4.3571095e+01 -1.3292108e-01 */
+    { 0x40c7a3d9, 0x3fddf648, 0x40664141 },  /* 286:  6.2387509e+00  1.7340784e+00  3.5977329e+00 */
+    { 0xc09748c8, 0x4c41d410, 0xb3c7cf46 },  /* 287: -4.7276344e+00  5.0810944e+07 -9.3043625e-08 */
+    { 0xba3d1232, 0xbf21fa22, 0x3a95691f },  /* 288: -7.2124891e-04 -6.3272297e-01  1.1399126e-03 */
+    { 0x3e51d769, 0xc1067fe1, 0xbcc7b37c },  /* 289:  2.0492329e-01 -8.4062204e+00 -2.4377577e-02 */
+    { 0xbd8b157e, 0xbe7ea4e0, 0x3e8bd317 },  /* 290: -6.7912087e-02 -2.4867582e-01  2.7309485e-01 */
+    { 0x4eb95e4b, 0xbfddbe07, 0xce5601aa },  /* 291:  1.5549823e+09 -1.7323617e+00 -8.9760833e+08 */
+    { 0xbfd3cd41, 0xc4daa911, 0x3a77f85b },  /* 292: -1.6547014e+00 -1.7492833e+03  9.4593102e-04 */
+    { 0xbadaec8d, 0xbff102c5, 0x3a688a21 },  /* 293: -1.6702578e-03 -1.8828970e+00  8.8706804e-04 */
+    { 0xbfe43ade, 0x422a9ae4, 0xbd2b3bfb },  /* 294: -1.7830465e+00  4.2651260e+01 -4.1805247e-02 */
+    { 0x38a6735e, 0xbfd6247e, 0xb846fc6a },  /* 295:  7.9369856e-05 -1.6729887e+00 -4.7441957e-05 */
+    { 0x3ff49e58, 0xbd4f3dfc, 0xc21715c1 },  /* 296:  1.9110823e+00 -5.0596222e-02 -3.7771244e+01 */
+    { 0x413f8fc2, 0xbe225151, 0xc2970fa3 },  /* 297:  1.1972597e+01 -1.5851332e-01 -7.5530542e+01 */
+    { 0xbcee99ec, 0x1c5b1cda, 0xe00b627d },  /* 298: -2.9126130e-02  7.2498311e-22 -4.0174908e+19 */
+    { 0x41407965, 0xc00453a7, 0xc0ba2e46 },  /* 299:  1.2029637e+01 -2.0676057e+00 -5.8181486e+00 */
+    { 0xbfe3c79f, 0x4bd1b31c, 0xb38b093b },  /* 300: -1.7795295e+00  2.7485752e+07 -6.4743706e-08 */
+    { 0xbdbfde7b, 0x4072c19e, 0xbcca5629 },  /* 301: -9.3686067e-02  3.7930675e+00 -2.4699288e-02 */
+    { 0x3f15df78, 0x3fdba6a6, 0x3eaeacba },  /* 302:  5.8544111e-01  1.7160232e+00  3.4116154e-01 */
+    { 0x3ce071a4, 0xc12743a4, 0xbb2bc1d2 },  /* 303:  2.7397938e-02 -1.0454014e+01 -2.6208056e-03 */
+    { 0xbc1a3960, 0xc7144ba4, 0x34851e05 },  /* 304: -9.4130933e-03 -3.7963641e+04  2.4795023e-07 */
+    { 0x42ffbaf9, 0xbfd09e9b, 0xc29ce7b9 },  /* 305:  1.2786518e+02 -1.6298403e+00 -7.8452585e+01 */
+    { 0x3e1f1012, 0x3f5b7b2e, 0x3e39875d },  /* 306:  1.5533474e-01  8.5734832e-01  1.8118043e-01 */
+    { 0xbe392cba, 0xbdf5ac3f, 0x3fc0f571 },  /* 307: -1.8083468e-01 -1.1995744e-01  1.5074903e+00 */
+    { 0x3ea356bb, 0xbe115eb9, 0xc00fd25c },  /* 308:  3.1902108e-01 -1.4196290e-01 -2.2472144e+00 */
+    { 0x3f63d6cf, 0x46982d80, 0x383fa3f2 },  /* 309:  8.8999647e-01  1.9478750e+04  4.5690636e-05 */
+    { 0x4da11d11, 0x3b9b086f, 0x51850534 },  /* 310:  3.3787958e+08  4.7312300e-03  7.1414745e+10 */
+    { 0xbc6d939a, 0xbf288810, 0x3cb4709b },  /* 311: -1.4500523e-02 -6.5832615e-01  2.2026351e-02 */
+    { 0xbfe81def, 0xbe59c1d6, 0x410870da },  /* 312: -1.8134135e+00 -2.1265349e-01  8.5275512e+00 */
+    { 0xbf2e6aa9, 0x3c45ae32, 0xc261df78 },  /* 313: -6.8131500e-01  1.2065457e-02 -5.6468229e+01 */
+    { 0xc008e61b, 0xc278205b, 0x3d0d3e33 },  /* 314: -2.1390445e+00 -6.2031597e+01  3.4483144e-02 */
+    { 0x3c44930b, 0xc221f92c, 0xb99b57f7 },  /* 315:  1.1997948e-02 -4.0493332e+01 -2.9629442e-04 */
+    { 0x40c504bf, 0x3bf2aa02, 0x444fd88f },  /* 316:  6.1568294e+00  7.4055204e-03  8.3138375e+02 */
+    { 0xbf5cabaf, 0xbfc68528, 0x3f0e4831 },  /* 317: -8.6199468e-01 -1.5509386e+00  5.5578904e-01 */
+    { 0xbe7626c8, 0xbfac6d64, 0x3e36ba82 },  /* 318: -2.4038231e-01 -1.3470883e+00  1.7844584e-01 */
+    { 0x47505c00, 0xc0aa5fdc, 0xc61c899d },  /* 319:  5.3340000e+04 -5.3242016e+00 -1.0018404e+04 */
+    { 0xbf2ef445, 0xbe716e63, 0x403982f3 },  /* 320: -6.8341476e-01 -2.3577265e-01  2.8986176e+00 */
+    { 0xbf0ca93c, 0xbfe25d31, 0x3e9f13a0 },  /* 321: -5.4945731e-01 -1.7684690e+00  3.1069661e-01 */
+    { 0x3fbf2409, 0xbf1ce65a, 0xc01bef1c },  /* 322:  1.4932872e+00 -6.1288989e-01 -2.4364690e+00 */
+    { 0x427923c5, 0xbc834e6e, 0xc572ddc3 },  /* 323:  6.2284931e+01 -1.6028609e-02 -3.8858600e+03 */
+    { 0x3e0c37b9, 0xc15325a5, 0xbc2a00e1 },  /* 324:  1.3693132e-01 -1.3196691e+01 -1.0376186e-02 */
+    { 0xbfdf0a11, 0xd4c56b89, 0x2a909c50 },  /* 325: -1.7424947e+00 -6.7833016e+12  2.5688003e-13 */
+    { 0x41b2b62f, 0x4086281c, 0x40aa82a1 },  /* 326:  2.2338957e+01  4.1923962e+00  5.3284461e+00 */
+    { 0xbd830b29, 0x3f216b01, 0xbdcfd3f1 },  /* 327: -6.3986130e-02  6.3053900e-01 -1.0147847e-01 */
+    { 0x3f513872, 0x3fd0a4e0, 0x3f005a88 },  /* 328:  8.1726754e-01  1.6300316e+00  5.0138141e-01 */
+    { 0x413f4624, 0xbf177b61, 0xc1a19faa },  /* 329:  1.1954624e+01 -5.9172636e-01 -2.0202960e+01 */
+    { 0x8102bb1c, 0x3fddf86d, 0x8096c5d9 },  /* 330: -2.4011473e-38  1.7341439e+00 -1.3846298e-38 */
+    { 0xc14163b1, 0xbbfe1616, 0x44c2d893 },  /* 331: -1.2086839e+01 -7.7540977e-03  1.5587679e+03 */
+    { 0xbbf9f935, 0x3cb9aedc, 0xbeac5182 },  /* 332: -7.6285847e-03  2.2666387e-02 -3.3655936e-01 */
+    { 0x4614dd67, 0xbd2277c1, 0xc86a90df },  /* 333:  9.5273506e+03 -3.9664987e-02 -2.4019548e+05 */
+    { 0xc0c4d223, 0xc12c1748, 0x3f1264d8 },  /* 334: -6.1506515e+00 -1.0755684e+01  5.7185127e-01 */
+    { 0x3ff3121c, 0x40b868df, 0x3ea8b791 },  /* 335:  1.8989902e+00  5.7628016e+00  3.2952551e-01 */
+    { 0x40e88a8e, 0x47301a5e, 0x392905a1 },  /* 336:  7.2669134e+00  4.5082367e+04  1.6119192e-04 */
+    { 0x3690160e, 0x41a329d6, 0x34621173 },  /* 337:  4.2941019e-06  2.0395428e+01  2.1054238e-07 */
+    { 0x408b873a, 0xc0189378, 0xbfea1b92 },  /* 338:  4.3602571e+00 -2.3840008e+00 -1.8289663e+00 */
+    { 0xbf564322, 0x437007e1, 0xbb648460 },  /* 339: -8.3696187e-01  2.4003078e+02 -3.4868940e-03 */
+    { 0x416c1cd2, 0xbf3ae5a0, 0xc1a1b4cd },  /* 340:  1.4757036e+01 -7.3006630e-01 -2.0213282e+01 */
+    { 0x3d575fbb, 0x414aab93, 0x3b8805f5 },  /* 341:  5.2581530e-02  1.2666888e+01  4.1511008e-03 */
+    { 0x4175948b, 0xbe6191a4, 0xc28b5b03 },  /* 342:  1.5348765e+01 -2.2028214e-01 -6.9677758e+01 */
+    { 0xbe73d66b, 0x3c51b0cf, 0xc194d814 },  /* 343: -2.3812263e-01  1.2798502e-02 -1.8605508e+01 */
+    { 0x3fbf207c, 0x00000000, 0x7f800000 },  /* 344:  1.4931788e+00  0.0000000e+00  inf */
+    { 0xbe44fe88, 0x46033e81, 0xb7c01ff7 },  /* 345: -1.9237721e-01  8.3996260e+03 -2.2903069e-05 */
+    { 0x590df1e6, 0xbffee9c9, 0xd88e8cd2 },  /* 346:  2.4971214e+15 -1.9915096e+00 -1.2538837e+15 */
+    { 0xc142a5a0, 0xbf1daf92, 0x419e00bc },  /* 347: -1.2165436e+01 -6.1596024e-01  1.9750359e+01 */
+    { 0x41eeb550, 0xc0c2de1e, 0xc09ccc06 },  /* 348:  2.9838531e+01 -6.0896139e+00 -4.8999053e+00 */
+    { 0xc1f11c2b, 0x3e18fa4b, 0xc349be0b },  /* 349: -3.0138754e+01  1.4939229e-01 -2.0174236e+02 */
+    { 0x3d446c5a, 0xc1c69a5f, 0xbafd30b6 },  /* 350:  4.7954895e-02 -2.4825377e+01 -1.9316885e-03 */
+    { 0xc17368dd, 0xbdaa2e47, 0x43371415 },  /* 351: -1.5213101e+01 -8.3096080e-02  1.8307845e+02 */
+    { 0xbfdcfe2d, 0x3bc4a817, 0xc38fd70b },  /* 352: -1.7265068e+00  6.0014832e-03 -2.8768002e+02 */
+    { 0x3dc3ebf7, 0xbeeaaa25, 0xbe55bc13 },  /* 353:  9.5664911e-02 -4.5832935e-01 -2.0872526e-01 */
+    { 0x469b8ba0, 0x3fc93156, 0x4645eaf6 },  /* 354:  1.9909812e+04  1.5718181e+00  1.2666741e+04 */
+    { 0x2864ea62, 0xc0669f98, 0xa77e1aae },  /* 355:  1.2707366e-14 -3.6034908e+00 -3.5264045e-15 */
+    { 0xc0cc2175, 0xbe1fcca2, 0x42238276 },  /* 356: -6.3790841e+00 -1.5605405e-01  4.0877402e+01 */
+    { 0x3e28dc6d, 0x3e823d64, 0x3f25f501 },  /* 357:  1.6490336e-01  2.5437462e-01  6.4826969e-01 */
+    { 0xbe0b86e3, 0xbdde137c, 0x3fa0d73b },  /* 358: -1.3625674e-01 -1.0843560e-01  1.2565683e+00 */
+    { 0xc117e66b, 0xbf100266, 0x41870375 },  /* 359: -9.4937544e+00 -5.6253660e-01  1.6876688e+01 */
+    { 0xbd6d9b5d, 0xc1dc9da3, 0x3b09dbb0 },  /* 360: -5.8009494e-02 -2.7576971e+01  2.1035484e-03 */
+    { 0x3f31d40a, 0xbfe9a4c1, 0xbec2d80e },  /* 361:  6.9464171e-01 -1.8253404e+00 -3.8055461e-01 */
+    { 0x3eedec45, 0xc51570b3, 0xb94bc9be },  /* 362:  4.6469322e-01 -2.3910437e+03 -1.9434744e-04 */
+    { 0xbdcb2314, 0x3e1d28ac, 0xbf25728e },  /* 363: -9.9188000e-02  1.5347546e-01 -6.4627920e-01 */
+    { 0xbdea37e4, 0xbdaeea1b, 0x3fab65d2 },  /* 364: -1.1436442e-01 -8.5407458e-02  1.3390448e+00 */
+    { 0x383d6628, 0xbf04e12c, 0xb8b671a8 },  /* 365:  4.5156252e-05 -5.1906085e-01 -8.6996066e-05 */
+    { 0x80000000, 0xbd6b1d03, 0x00000000 },  /* 366: -0.0000000e+00 -5.7400715e-02  0.0000000e+00 */
+    { 0x4258806a, 0xbf56de79, 0xc280f8f9 },  /* 367:  5.4125404e+01 -8.3933216e-01 -6.4486275e+01 */
+    { 0x3dd4f194, 0x3fc154bd, 0x3d8cfc2f },  /* 368:  1.0397640e-01  1.5103985e+00  6.8840374e-02 */
+    { 0xbf2e6687, 0x132d7155, 0xeb80b4f4 },  /* 369: -6.8125194e-01  2.1891547e-27 -3.1119406e+26 */
+    { 0xc25002fa, 0x3e4022bb, 0xc38a9396 },  /* 370: -5.2002907e+01  1.8763249e-01 -2.7715300e+02 */
+    { 0xbc25b590, 0x424ec816, 0xb94d26cc },  /* 371: -1.0114089e-02  5.1695396e+01 -1.9564776e-04 */
+    { 0x3bc8562a, 0xbfc88afa, 0xbb7fbc95 },  /* 372:  6.1137872e-03 -1.5667412e+00 -3.9022316e-03 */
+    { 0xc0ad8c6b, 0x3f1caa99, 0xc10dcb06 },  /* 373: -5.4233909e+00  6.1197811e-01 -8.8620667e+00 */
+    { 0xc2f2db8b, 0x4390cdae, 0xbed6acf7 },  /* 374: -1.2142879e+02  2.8960687e+02 -4.1928837e-01 */
+    { 0x3edda796, 0x3fd8dd55, 0x3e82d3c6 },  /* 375:  4.3291920e-01  1.6942545e+00  2.5552194e-01 */
+    { 0x3d086dc9, 0xbfdcd5ce, 0xbc9e2737 },  /* 376:  3.3307824e-02 -1.7252748e+00 -1.9305808e-02 */
+    { 0x3e195fdb, 0xc10eb117, 0xbc899531 },  /* 377:  1.4977972e-01 -8.9182348e+00 -1.6794772e-02 */
+    { 0xbfb923a0, 0xc28a7c1e, 0x3cab1f41 },  /* 378: -1.4463997e+00 -6.9242416e+01  2.0888926e-02 */
+    { 0xbd2f62b7, 0xc09ecec1, 0x3c0d5ca9 },  /* 379: -4.2818751e-02 -4.9627385e+00  8.6280490e-03 */
+    { 0x3f2708ad, 0x41ccd0a0, 0x3cd0c6f2 },  /* 380:  6.5247613e-01  2.5601868e+01  2.5485490e-02 */
+    { 0x4193c81a, 0x41bc449f, 0x3f48f2b5 },  /* 381:  1.8472706e+01  2.3533506e+01  7.8495340e-01 */
+    { 0x3ff1ecb2, 0x439366c0, 0x3bd214f2 },  /* 382:  1.8900359e+00  2.9480273e+02  6.4111884e-03 */
+    { 0x3fe82843, 0x3e21f6c9, 0x41377943 },  /* 383:  1.8137287e+00  1.5816797e-01  1.1467105e+01 */
+    { 0x401226e8, 0xbcd611ec, 0xc2aec762 },  /* 384:  2.2836246e+00 -2.6131593e-02 -8.7389417e+01 */
+    { 0x420afcf1, 0x3f1a07d2, 0x4266ffcf },  /* 385:  3.4747013e+01  6.0168183e-01  5.7749813e+01 */
+    { 0xc4fd0851, 0xbdca62b7, 0x46a0082c },  /* 386: -2.0242599e+03 -9.8821096e-02  2.0484087e+04 */
+    { 0x3ceab4af, 0x3ff90917, 0x3c714501 },  /* 387:  2.8650610e-02  1.9455899e+00  1.4725924e-02 */
+    { 0xbcafcaae, 0xc0ccea9b, 0x3b5b9d63 },  /* 388: -2.1458950e-02 -6.4036384e+00  3.3510559e-03 */
+    { 0x3d5cb7b1, 0x36115de8, 0x46c25941 },  /* 389:  5.3886119e-02  2.1661344e-06  2.4876627e+04 */
+    { 0xb8520929, 0xbef6a685, 0x38d9ff56 },  /* 390: -5.0076433e-05 -4.8173919e-01  1.0394926e-04 */
+    { 0x3fd71c73, 0xc3591648, 0xbbfdab7f },  /* 391:  1.6805557e+00 -2.1708704e+02 -7.7413913e-03 */
+    { 0xbfcdaad3, 0x3fa78488, 0xbf9d2669 },  /* 392: -1.6067756e+00  1.3087320e+00 -1.2277346e+00 */
+    { 0x3e49f8eb, 0x3ddead66, 0x3fe83254 },  /* 393:  1.9723861e-01  1.0872917e-01  1.8140358e+00 */
+    { 0xb49875cc, 0x3e0a824c, 0xb60ce486 },  /* 394: -2.8397915e-07  1.3526267e-01 -2.0994643e-06 */
+    { 0x3f05f0df, 0xbdec39b6, 0xc0912736 },  /* 395:  5.2320665e-01 -1.1534445e-01 -4.5360366e+00 */
+    { 0xbf06a8f5, 0x3f0d8ac9, 0xbf738d79 },  /* 396: -5.2601558e-01  5.5289894e-01 -9.5137744e-01 */
+    { 0xbfedaca4, 0xc05d6e09, 0x3f0963ee },  /* 397: -1.8568311e+00 -3.4598410e+00  5.3668104e-01 */
+    { 0x4456e414, 0xbe80152f, 0xc556c08a },  /* 398:  8.5956372e+02 -2.5016162e-01 -3.4360336e+03 */
+    { 0xce457197, 0x3de40e16, 0xcfdda340 },  /* 399: -8.2813894e+08  1.1135499e-01 -7.4369270e+09 */
+    { 0x3d949461, 0xbd3fc53f, 0xbfc657de },  /* 400:  7.2548635e-02 -4.6818968e-02 -1.5495565e+00 */
+    { 0x3fc03a60, 0xc9e3ee3c, 0xb557e694 },  /* 401:  1.5017815e+00 -1.8672075e+06 -8.0429275e-07 */
+    { 0x3f4a299b, 0xc1fbb999, 0xbccd9888 },  /* 402:  7.8969735e-01 -3.1465624e+01 -2.5097146e-02 */
+    { 0x41ce0a5e, 0x38dacb51, 0x487113d9 },  /* 403:  2.5755062e+01  1.0432921e-04  2.4686339e+05 */
+    { 0x3dd75e80, 0xc1b1138b, 0xbb9bae16 },  /* 404:  1.0516071e-01 -2.2134542e+01 -4.7509775e-03 */
+    { 0x3ff786e1, 0xe215e150, 0x9d536451 },  /* 405:  1.9338037e+00 -6.9120009e+20 -2.7977480e-21 */
+    { 0x40a7164a, 0xbfec9378, 0xc034ce40 },  /* 406:  5.2214708e+00 -1.8482504e+00 -2.8250885e+00 */
+    { 0xbe51b44b, 0x3d947de8, 0xc034c3e1 },  /* 407: -2.0478933e-01  7.2505772e-02 -2.8244555e+00 */
+    { 0x41280115, 0xc6d4ac52, 0xb9ca3b1e },  /* 408:  1.0500264e+01 -2.7222160e+04 -3.8572487e-04 */
+    { 0x41ebc26f, 0xbfeaf6b9, 0xc1806ef9 },  /* 409:  2.9469938e+01 -1.8356544e+00 -1.6054187e+01 */
+    { 0x3ab9a7f7, 0x3fcb2327, 0x3a69f83b },  /* 410:  1.4164437e-03  1.5870103e+00  8.9252336e-04 */
+    { 0x3ffcf189, 0xbfbcf4bd, 0xbfab5875 },  /* 411:  1.9761211e+00 -1.4762188e+00 -1.3386370e+00 */
+    { 0x4110b682, 0xbe5845e6, 0xc22b4b8a },  /* 412:  9.0445576e+00 -2.1120414e-01 -4.2823770e+01 */
+    { 0xbeee823c, 0xc18912fb, 0x3cdeb841 },  /* 413: -4.6583736e-01 -1.7134268e+01  2.7187468e-02 */
+    { 0xbf50bdd0, 0x80000000, 0x7f800000 },  /* 414: -8.1539631e-01 -0.0000000e+00  inf */
+    { 0xc0af0f55, 0xbf9e741c, 0x408d6a2c },  /* 415: -5.4706216e+00 -1.2379184e+00  4.4192103e+00 */
+    { 0x3e2bb3f1, 0x44429911, 0x3961e17f },  /* 416:  1.6767861e-01  7.7839166e+02  2.1541676e-04 */
+    { 0x3bd03734, 0xbfceb250, 0xbb80f0d4 },  /* 417:  6.3542370e-03 -1.6148167e+00 -3.9349588e-03 */
+    { 0xfee7a8e4, 0x3fb7eef8, 0xfea13680 },  /* 418: -1.5396430e+38  1.4369802e+00 -1.0714434e+38 */
+    { 0xbe1c9e81, 0x40800e8a, 0xbd1c8cb9 },  /* 419: -1.5294839e-01  4.0017748e+00 -3.8220140e-02 */
+    { 0x406bb020, 0xbc9a801e, 0xc3434310 },  /* 420:  3.6826248e+00 -1.8859919e-02 -1.9526196e+02 */
+    { 0xb5dce07d, 0x40c0d8bc, 0xb4929ad6 },  /* 421: -1.6456612e-06  6.0264568e+00 -2.7307276e-07 */
+    { 0x3f08b5c4, 0xbfe6e570, 0xbe9792d5 },  /* 422:  5.3402352e-01 -1.8038769e+00 -2.9604211e-01 */
+    { 0xc0de1297, 0xc004db00, 0x4055f4df },  /* 423: -6.9397693e+00 -2.0758667e+00  3.3430708e+00 */
+    { 0x3e2805e6, 0xc36c552b, 0xba360176 },  /* 424:  1.6408500e-01 -2.3633269e+02 -6.9429668e-04 */
+    { 0x3fd72c79, 0xc3442088, 0xbc0c6e3a },  /* 425:  1.6810447e+00 -1.9612708e+02 -8.5712016e-03 */
+    { 0x407dfeef, 0xbf13d395, 0xc0dbee0e },  /* 426:  3.9686849e+00 -5.7744724e-01 -6.8728096e+00 */
+    { 0x3fb7517a, 0x3f1b58bf, 0x40170c2e },  /* 427:  1.4321740e+00  6.0682291e-01  2.3601185e+00 */
+    { 0xbd3a6432, 0xbd9117fe, 0x3f246ead },  /* 428: -4.5505710e-02 -7.0846543e-02  6.4231377e-01 */
+    { 0x3f354d7c, 0xc00403d1, 0xbeafc9ef },  /* 429:  7.0821357e-01 -2.0627329e+00 -3.4333750e-01 */
+    { 0x3970d531, 0x40bd7e51, 0x3822add1 },  /* 430:  2.2967604e-04  5.9216695e+00  3.8785690e-05 */
+    { 0xbef57f06, 0x3d45854a, 0xc11f16fa },  /* 431: -4.7948474e-01  4.8222817e-02 -9.9431091e+00 */
+    { 0xbff8cb93, 0xbcca06e6, 0x429da1a2 },  /* 432: -1.9437126e+00 -2.4661493e-02  7.8815692e+01 */
+    { 0xc7a96efe, 0x3e047640, 0xc923b9ed },  /* 433: -8.6749984e+04  1.2935734e-01 -6.7062283e+05 */
+    { 0xc0ba8945, 0x3fac6623, 0xc08a7f13 },  /* 434: -5.8292565e+00  1.3468670e+00 -4.3280121e+00 */
+    { 0xbd691e12, 0x3e2e25ba, 0xbeab57f5 },  /* 435: -5.6913443e-02  1.7006579e-01 -3.3465545e-01 */
+    { 0xbcff31e1, 0x3e7b77e2, 0xbe01e598 },  /* 436: -3.1151714e-02  2.4557450e-01 -1.2685239e-01 */
+    { 0xc05d54e7, 0x39c6ef65, 0xc60e6916 },  /* 437: -3.4583070e+00  3.7943866e-04 -9.1142717e+03 */
+    { 0xbb8f00b1, 0x416bd2e4, 0xb99b3ccc },  /* 438: -4.3640961e-03  1.4738987e+01 -2.9609200e-04 */
+    { 0xc457c711, 0x3ffe6a8c, 0xc3d91ef1 },  /* 439: -8.6311041e+02  1.9876266e+00 -4.3424174e+02 */
+    { 0x56748b96, 0x4466dcd6, 0x51879613 },  /* 440:  6.7220089e+13  9.2345056e+02  7.2792298e+10 */
+    { 0x4315eeea, 0x4141b84e, 0x414622d8 },  /* 441:  1.4993326e+02  1.2107496e+01  1.2383506e+01 */
+    { 0x501336da, 0xbf4c5ab5, 0xd0386b4e },  /* 442:  9.8793820e+09 -7.9825908e-01 -1.2376160e+10 */
+    { 0xc0ff3c99, 0x444a750a, 0xbc215e72 },  /* 443: -7.9761472e+00  8.0982874e+02 -9.8491778e-03 */
+    { 0x3e906b9b, 0xbf4960db, 0xbeb797bf },  /* 444:  2.8207096e-01 -7.8663415e-01 -3.5857961e-01 */
+    { 0x383b3c3b, 0x3f046c77, 0x38b4fb07 },  /* 445:  4.4640368e-05  5.1728004e-01  8.6298261e-05 */
+    { 0x3e2f7219, 0xad2b54b8, 0xd08312f9 },  /* 446:  1.7133369e-01 -9.7390360e-12 -1.7592469e+10 */
+    { 0x39a09c55, 0xbf19999f, 0xba05d797 },  /* 447:  3.0634055e-04 -6.0000032e-01 -5.1056730e-04 */
+    { 0xcd2a1677, 0x47f27d73, 0xc4b3905e },  /* 448: -1.7834994e+08  1.2415490e+05 -1.4365115e+03 */
+    { 0xbf2c3fe5, 0x406e0a85, 0xbe393eb1 },  /* 449: -6.7284995e-01  3.7193921e+00 -1.8090321e-01 */
+    { 0x3e5d8d06, 0x442e4e25, 0x39a2b1cd },  /* 450:  2.1635827e-01  6.9722101e+02  3.1031520e-04 */
+    { 0xc181e8a5, 0x41224ca6, 0xbfcce8c2 },  /* 451: -1.6238596e+01  1.0143713e+01 -1.6008533e+00 */
+    { 0x41fb0d1c, 0xbf28ce33, 0xc23e5d4b },  /* 452:  3.1381401e+01 -6.5939635e-01 -4.7591105e+01 */
+    { 0x42390d0d, 0xbccf614f, 0xc4e46f93 },  /* 453:  4.6262745e+01 -2.5314955e-02 -1.8274867e+03 */
+    { 0x40a4ec8b, 0x3c61dcec, 0x43baee0e },  /* 454:  5.1538749e+00  1.3785582e-02  3.7385980e+02 */
+    { 0xbe4086cc, 0x3feb9c50, 0xbdd13001 },  /* 455: -1.8801421e-01  1.8407078e+00 -1.0214235e-01 */
+    { 0x44c3d6af, 0x3df1d44e, 0x464f5078 },  /* 456:  1.5667089e+03  1.1808072e-01  1.3268117e+04 */
+    { 0xbe099511, 0x3fc568e5, 0xbdb26a82 },  /* 457: -1.3435771e-01  1.5422636e+00 -8.7117211e-02 */
+    { 0x3ff342c3, 0xbb747a79, 0xc3feb999 },  /* 458:  1.9004749e+00 -3.7304445e-03 -5.0944999e+02 */
+    { 0x9c8a360d, 0x36931875, 0xa57089b4 },  /* 459: -9.1460458e-22  4.3837886e-06 -2.0863337e-16 */
+    { 0x3fe9f775, 0x3fe24c9a, 0x3f84563c },  /* 460:  1.8278643e+00  1.7679627e+00  1.0338817e+00 */
+    { 0x413d94c2, 0x41800d3e, 0x3f3d8127 },  /* 461:  1.1848818e+01  1.6006466e+01  7.4025196e-01 */
+    { 0xbdfcb9e9, 0x40a8c89e, 0xbcbfa8c7 },  /* 462: -1.2340147e-01  5.2744894e+00 -2.3395908e-02 */
+    { 0xbf2d03ec, 0xc1ece65f, 0x3cbaf6f8 },  /* 463: -6.7584109e-01 -2.9612486e+01  2.2822842e-02 */
+    { 0x3f18fc1b, 0x408364ee, 0x3e150865 },  /* 464:  5.9759682e-01  4.1060705e+00  1.4553983e-01 */
+    { 0xbfbbce34, 0xbdea27b8, 0x414d5386 },  /* 465: -1.4672303e+00 -1.1433357e-01  1.2832892e+01 */
+    { 0x3e69ecf9, 0xbf9f1dc6, 0xbe3c2e0c },  /* 466:  2.2844304e-01 -1.2430961e+00 -1.8376941e-01 */
+    { 0x3fee194f, 0x37d28ff3, 0x4790bd47 },  /* 467:  1.8601474e+00  2.5100982e-05  7.4106556e+04 */
+    { 0x423c50ac, 0xbe56a5a7, 0xc3609855 },  /* 468:  4.7078781e+01 -2.0961629e-01 -2.2459505e+02 */
+    { 0x41bbc8e5, 0xc109a577, 0xc02e9fea },  /* 469:  2.3473093e+01 -8.6028967e+00 -2.7285104e+00 */
+    { 0x3f395bb3, 0x3fa90afa, 0x3f0c5aa2 },  /* 470:  7.2405547e-01  1.3206475e+00  5.4825794e-01 */
+    { 0x3da134a5, 0x025360e8, 0x7ac33c59 },  /* 471:  7.8713693e-02  1.5529642e-37  5.0686095e+35 */
+    { 0x3eae623d, 0x4161b0a2, 0x3cc5cdaa },  /* 472:  3.4059325e-01  1.4105623e+01  2.4145920e-02 */
+    { 0xbfb0145d, 0x445ef9f7, 0xbaca2854 },  /* 473: -1.3756214e+00  8.9190570e+02 -1.5423396e-03 */
+    { 0xbcc8be2b, 0xc189cbaf, 0x3aba78ef },  /* 474: -2.4504742e-02 -1.7224455e+01  1.4226715e-03 */
+    { 0x5c9c034f, 0x3c23cfc9, 0x5ff3cff7 },  /* 475:  3.5130987e+17  9.9982703e-03  3.5137065e+19 */
+    { 0x3d4a3763, 0x3d1ddcdf, 0x3fa3f697 },  /* 476:  4.9369227e-02  3.8540717e-02  1.2809629e+00 */
+    { 0xba3be01a, 0x3f147103, 0xbaa200ec },  /* 477: -7.1668776e-04  5.7984942e-01 -1.2359894e-03 */
+    { 0xc0dfe777, 0xbadcfaf4, 0x4581b191 },  /* 478: -6.9970050e+00 -1.6859458e-03  4.1501957e+03 */
+    { 0xc0e11ee9, 0xbdb861d6, 0x429c47f8 },  /* 479: -7.0350232e+00 -9.0030357e-02  7.8140568e+01 */
+    { 0xbe15607e, 0x41102d21, 0xbc849dfd },  /* 480: -1.4587590e-01  9.0110178e+00 -1.6188615e-02 */
+    { 0xc149364e, 0xbbf2a3fe, 0x44d44a61 },  /* 481: -1.2575758e+01 -7.4048033e-03  1.6983244e+03 */
+    { 0x3e09ac8c, 0x3b52d294, 0x42272d25 },  /* 482:  1.3444728e-01  3.2168971e-03  4.1794086e+01 */
+    { 0xc0eb2280, 0x3efe8013, 0xc16c8536 },  /* 483: -7.3479614e+00  4.9707088e-01 -1.4782522e+01 */
+    { 0xb7e39aa0, 0x2d67d664, 0xc9fb5348 },  /* 484: -2.7132512e-05  1.3178434e-11 -2.0588570e+06 */
+    { 0x462c90c8, 0x426e0c9f, 0x4339940b },  /* 485:  1.1044195e+04  5.9512325e+01  1.8557829e+02 */
+    { 0x4438cb65, 0xbc0e0345, 0xc7a68f73 },  /* 486:  7.3917804e+02 -8.6677717e-03 -8.5278900e+04 */
+    { 0x3fbb6946, 0x3fe760be, 0x3f4f5ac8 },  /* 487:  1.4641502e+00  1.8076398e+00  8.0997894e-01 */
+    { 0x426e523f, 0xc12ab0db, 0xc0b2b734 },  /* 488:  5.9580318e+01 -1.0668178e+01 -5.5848638e+00 */
+    { 0x40924d1e, 0xc2313a8f, 0xbdd35391 },  /* 489:  4.5719137e+00 -4.4307186e+01 -1.0318673e-01 */
+    { 0x4179db18, 0x3e0290ed, 0x42f4f1fa },  /* 490:  1.5615990e+01  1.2750597e-01  1.2247261e+02 */
+    { 0xc14faffd, 0x3dcb284c, 0xc302daab },  /* 491: -1.2980466e+01  9.9197954e-02 -1.3085417e+02 */
+    { 0x408ee932, 0x3aca7e8a, 0x4534ac38 },  /* 492:  4.4659662e+00  1.5449089e-03  2.8907636e+03 */
+    { 0xbfecf38b, 0x498e023d, 0xb5d593a8 },  /* 493: -1.8511823e+00  1.1633356e+06 -1.5912711e-06 */
+    { 0xf53afb09, 0xbe34d37b, 0x76845b47 },  /* 494: -2.3702608e+32 -1.7658798e-01  1.3422548e+33 */
+    { 0x3f49cafd, 0x3f08eedd, 0x3fbca0ed },  /* 495:  7.8825361e-01  5.3489476e-01  1.4736611e+00 */
+    { 0x41346f0e, 0x4862d5fe, 0x384ba1cc },  /* 496:  1.1277113e+01  2.3227997e+05  4.8549658e-05 */
+    { 0xc20cb32e, 0x3f337537, 0xc248b608 },  /* 497: -3.5174980e+01  7.0100731e-01 -5.0177765e+01 */
+    { 0x3f3b2204, 0x3fd2f173, 0x3ee31a9a },  /* 498:  7.3098779e-01  1.6479934e+00  4.4356231e-01 */
+    { 0x3f07a94a, 0xc16e2b78, 0xbd11d13e },  /* 499:  5.2992690e-01 -1.4885612e+01 -3.5599939e-02 */
+    { 0xc3926d27, 0xc30365c7, 0x400ea3e5 },  /* 500: -2.9285275e+02 -1.3139757e+02  2.2287532e+00 */
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]:  %#lx\n", index - 1, v.lo);
+#endif
+    exit (index ? index : -1);
+}
+
+int main ()
+{
+    union lofl_u x,y,z;
+    int i;
+    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	x.lo = pgm_read_dword (& t[i].x);
+	y.lo = pgm_read_dword (& t[i].y);
+	z.lo = pgm_read_dword (& t[i].z);
+	v.fl = x.fl / y.fl;
+	/* Comparison is integer to verify the zero sign.	*/
+	if (v.lo != z.lo)
+	    x_exit (i+1);
+    }
+    return 0;
+}
diff --git a/tests/simulate/fplib/div-inf.c b/tests/simulate/fplib/div-inf.c
new file mode 100644
index 0000000..f89da84
--- /dev/null
+++ b/tests/simulate/fplib/div-inf.c
@@ -0,0 +1,133 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of division.  Infs (without NaNs).
+   $Id$
+ */
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+volatile union lofl_u v = { .lo = 1 };
+
+PROGMEM const struct {		/* Table of test cases:  x / y = z	*/
+    union lofl_u x, y, z;
+} t[] = {
+
+    /* +Inf / finite	*/
+    { { 0x7f800000 }, { 0x00000001 }, { 0x7f800000 } },
+    { { 0x7f800000 }, { 0x007fffff }, { 0x7f800000 } },
+    { { 0x7f800000 }, { 0x00800000 }, { 0x7f800000 } },
+    { { 0x7f800000 }, { 0x3f800000 }, { 0x7f800000 } },
+    { { 0x7f800000 }, { 0x7f7fffff }, { 0x7f800000 } },
+    { { 0x7f800000 }, { 0x80000001 }, { 0xff800000 } },
+    { { 0x7f800000 }, { 0x807fffff }, { 0xff800000 } },
+    { { 0x7f800000 }, { 0x80800000 }, { 0xff800000 } },
+    { { 0x7f800000 }, { 0xbf800000 }, { 0xff800000 } },
+    { { 0x7f800000 }, { 0xff7fffff }, { 0xff800000 } },
+
+    /* -Inf / finite	*/
+    { { 0xff800000 }, { 0x00000001 }, { 0xff800000 } },
+    { { 0xff800000 }, { 0x007fffff }, { 0xff800000 } },
+    { { 0xff800000 }, { 0x00800000 }, { 0xff800000 } },
+    { { 0xff800000 }, { 0x3f800000 }, { 0xff800000 } },
+    { { 0xff800000 }, { 0x7f7fffff }, { 0xff800000 } },
+    { { 0xff800000 }, { 0x80000001 }, { 0x7f800000 } },
+    { { 0xff800000 }, { 0x807fffff }, { 0x7f800000 } },
+    { { 0xff800000 }, { 0x80800000 }, { 0x7f800000 } },
+    { { 0xff800000 }, { 0xbf800000 }, { 0x7f800000 } },
+    { { 0xff800000 }, { 0xff7fffff }, { 0x7f800000 } },
+
+    /* finite / +Inf	*/
+    { { 0x00000001 }, { 0x7f800000 }, { 0 } },
+    { { 0x007fffff }, { 0x7f800000 }, { 0 } },
+    { { 0x00800000 }, { 0x7f800000 }, { 0 } },
+    { { 0x3f800000 }, { 0x7f800000 }, { 0 } },
+    { { 0x7f7fffff }, { 0x7f800000 }, { 0 } },
+    { { 0x80000001 }, { 0x7f800000 }, { 0x80000000 } },
+    { { 0x807fffff }, { 0x7f800000 }, { 0x80000000 } },
+    { { 0x80800000 }, { 0x7f800000 }, { 0x80000000 } },
+    { { 0xbf800000 }, { 0x7f800000 }, { 0x80000000 } },
+    { { 0xff7fffff }, { 0x7f800000 }, { 0x80000000 } },
+
+    /* finite / -Inf	*/
+    { { 0x00000001 }, { 0xff800000 }, { 0x80000000 } },
+    { { 0x007fffff }, { 0xff800000 }, { 0x80000000 } },
+    { { 0x00800000 }, { 0xff800000 }, { 0x80000000 } },
+    { { 0x3f800000 }, { 0xff800000 }, { 0x80000000 } },
+    { { 0x7f7fffff }, { 0xff800000 }, { 0x80000000 } },
+    { { 0x80000001 }, { 0xff800000 }, { 0 } },
+    { { 0x807fffff }, { 0xff800000 }, { 0 } },
+    { { 0x80800000 }, { 0xff800000 }, { 0 } },
+    { { 0xbf800000 }, { 0xff800000 }, { 0 } },
+    { { 0xff7fffff }, { 0xff800000 }, { 0 } },
+    
+    /* finite / 0 --> Inf	*/
+    { { 0x00000001 }, { 0x00000000 }, { 0x7f800000 } },
+    { { 0x7f7fffff }, { 0x00000000 }, { 0x7f800000 } },
+    { { 0x80000001 }, { 0x00000000 }, { 0xff800000 } },
+    { { 0xff7fffff }, { 0x00000000 }, { 0xff800000 } },
+    
+    /* finite / -0.0 --> -Inf	*/
+    { { 0x00000001 }, { 0x80000000 }, { 0xff800000 } },
+    { { 0x7f7fffff }, { 0x80000000 }, { 0xff800000 } },
+    { { 0x80000001 }, { 0x80000000 }, { 0x7f800000 } },
+    { { 0xff7fffff }, { 0x80000000 }, { 0x7f800000 } },
+
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]:  %#lx\n", index - 1, v.lo);
+#endif
+    exit (index ? index : -1);
+}
+
+int main ()
+{
+    union lofl_u x,y,z;
+    int i;
+    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	x.lo = pgm_read_dword (& t[i].x);
+	y.lo = pgm_read_dword (& t[i].y);
+	z.lo = pgm_read_dword (& t[i].z);
+	v.fl = x.fl / y.fl;
+	/* Comparison is integer to verify the zero sign.	*/
+	if (v.lo != z.lo)
+	    x_exit (i+1);
+    }
+    return 0;
+}
diff --git a/tests/simulate/fplib/div-nan.c b/tests/simulate/fplib/div-nan.c
new file mode 100644
index 0000000..bb2136f
--- /dev/null
+++ b/tests/simulate/fplib/div-nan.c
@@ -0,0 +1,145 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of division.  NaNs.
+   $Id$
+ */
+#include <math.h>
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+volatile union lofl_u v = { .lo = 1 };
+
+PROGMEM const struct {		/* Table of test cases:  x / y = NaN	*/
+    union lofl_u x, y;
+} t[] = {
+
+    /* 0.0 / 0.0	*/
+    { { 0x00000000 }, { 0x00000000 } },
+    { { 0x00000000 }, { 0x80000000 } },
+    { { 0x80000000 }, { 0x00000000 } },
+    { { 0x80000000 }, { 0x80000000 } },
+
+    /* Inf / Inf	*/
+    { { 0x7f800000 }, { 0x7f800000 } },
+    { { 0xff800000 }, { 0x7f800000 } },
+    { { 0x7f800000 }, { 0xff800000 } },
+    { { 0xff800000 }, { 0xff800000 } },
+
+    /* NaN * NaN	*/
+    { { 0x7f800001 }, { 0x7f800001 } },
+    { { 0x7f800100 }, { 0x7f800100 } },
+    { { 0x7f810000 }, { 0x7f810000 } },
+    { { 0x7fffffff }, { 0x7fffffff } },
+    { { 0xff800001 }, { 0xff800001 } },
+    { { 0xff800100 }, { 0xff800100 } },
+    { { 0xff810000 }, { 0xff810000 } },
+    { { 0xffffffff }, { 0xffffffff } },
+
+    /* NaN / finite	*/
+    { { 0x7f800001 }, { .fl = 1 } },
+    { { 0x7f800100 }, { .fl = 1 } },
+    { { 0x7f810000 }, { .fl = 1 } },
+    { { 0x7fffffff }, { .fl = 1 } },
+    { { 0xff800001 }, { .fl = 1 } },
+    { { 0xff800100 }, { .fl = 1 } },
+    { { 0xff810000 }, { .fl = 1 } },
+    { { 0xffffffff }, { .fl = 1 } },
+
+    /* finite / NaN	*/
+    { { .fl = 1 }, { 0x7f800001 } },
+    { { .fl = 1 }, { 0x7f800100 } },
+    { { .fl = 1 }, { 0x7f810000 } },
+    { { .fl = 1 }, { 0x7fffffff } },
+    { { .fl = 1 }, { 0xff800001 } },
+    { { .fl = 1 }, { 0xff800100 } },
+    { { .fl = 1 }, { 0xff810000 } },
+    { { .fl = 1 }, { 0xffffffff } },
+
+    /* NaN / 0.0	*/
+    { { 0x7f800001 }, { 0 } },
+    { { 0x7f800100 }, { 0 } },
+    { { 0x7f810000 }, { 0 } },
+    { { 0x7fffffff }, { 0 } },
+    { { 0xff800001 }, { 0 } },
+    { { 0xff800100 }, { 0 } },
+    { { 0xff810000 }, { 0 } },
+    { { 0xffffffff }, { 0 } },
+
+    /* 0.0 / NaN	*/
+    { { 0 }, { 0x7f800001 } },
+    { { 0 }, { 0x7f800100 } },
+    { { 0 }, { 0x7f810000 } },
+    { { 0 }, { 0x7fffffff } },
+    { { 0 }, { 0xff800001 } },
+    { { 0 }, { 0xff800100 } },
+    { { 0 }, { 0xff810000 } },
+    { { 0 }, { 0xffffffff } },
+    
+    /* NaN / Inf	*/
+    { { 0x7f800001 }, { 0x7f800000 } },
+    { { 0x7fffffff }, { 0x7f800000 } },
+    { { 0xff800001 }, { 0xff800000 } },
+    { { 0xffffffff }, { 0xff800000 } },
+    
+    /* Inf / NaN	*/
+    { { 0x7f800000 }, { 0x7f800001 } },
+    { { 0x7f800000 }, { 0x7fffffff } },
+    { { 0xff800000 }, { 0xff800001 } },
+    { { 0xff800000 }, { 0xffffffff } },
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]:  %#lx\n", index - 1, v.lo);
+#endif
+    exit (index ? index : -1);
+}
+
+int main ()
+{
+    union lofl_u x,y;
+    int i;
+    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	x.lo = pgm_read_dword (& t[i].x);
+	y.lo = pgm_read_dword (& t[i].y);
+	v.fl = x.fl / y.fl;
+	if (!isnan(v.fl))
+	    x_exit (i+1);
+    }
+    return 0;
+}
diff --git a/tests/simulate/fplib/flt2llng-01.c b/tests/simulate/fplib/flt2llng-01.c
new file mode 100644
index 0000000..82e0fb9
--- /dev/null
+++ b/tests/simulate/fplib/flt2llng-01.c
@@ -0,0 +1,202 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of conversion float --> signed long long.
+   $Id$
+ */
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+volatile long long v = 1;
+
+PROGMEM const struct {		/* Table of test cases.	*/
+    union lofl_u x;
+    long long z;
+} t[] = {
+
+    /* 0.0	*/
+    { { 0x00000000 }, 0 },
+    { { 0x80000000 }, 0 },
+    
+    /* too small	*/
+    { { 0x00000001 }, 0 },
+    { { 0x007fffff }, 0 },
+    { { 0x00800000 }, 0 },
+    { { 0x3f7fffff }, 0 },
+    { { 0x80000001 }, 0 },
+    { { 0x807fffff }, 0 },
+    { { 0x80800000 }, 0 },
+    { { 0xbf7fffff }, 0 },
+
+    /* rounding (trunc to zero)	*/
+    { { 0x3f7fffff }, 0 },
+    { { 0x3f800000 }, 1 },
+    { { 0x3fffffff }, 1 },
+    { { 0x40000000 }, 2 },
+    { { 0x403fffff }, 2 },
+    { { 0x40400000 }, 3 },
+    { { 0x407fffff }, 3 },
+    { { .fl = 0x1.000000p+22 }, 0x00400000 },
+    { { .fl = 0x1.000002p+22 }, 0x00400000 },
+
+    /* all shift values	*/
+    { { .fl = 0x1p00 },	0x0000000000000001LL },
+    { { .fl = 0x1p01 },	0x0000000000000002LL },
+    { { .fl = 0x1p02 },	0x0000000000000004LL },
+    { { .fl = 0x1p03 },	0x0000000000000008LL },
+    { { .fl = 0x1p04 },	0x0000000000000010LL },
+    { { .fl = 0x1p05 },	0x0000000000000020LL },
+    { { .fl = 0x1p06 },	0x0000000000000040LL },
+    { { .fl = 0x1p07 },	0x0000000000000080LL },
+    { { .fl = 0x1p08 },	0x0000000000000100LL },
+    { { .fl = 0x1p09 },	0x0000000000000200LL },
+    { { .fl = 0x1p10 },	0x0000000000000400LL },
+    { { .fl = 0x1p11 },	0x0000000000000800LL },
+    { { .fl = 0x1p12 },	0x0000000000001000LL },
+    { { .fl = 0x1p13 },	0x0000000000002000LL },
+    { { .fl = 0x1p14 },	0x0000000000004000LL },
+    { { .fl = 0x1p15 },	0x0000000000008000LL },
+    { { .fl = 0x1p16 },	0x0000000000010000LL },
+    { { .fl = 0x1p17 },	0x0000000000020000LL },
+    { { .fl = 0x1p18 },	0x0000000000040000LL },
+    { { .fl = 0x1p19 },	0x0000000000080000LL },
+    { { .fl = 0x1p20 },	0x0000000000100000LL },
+    { { .fl = 0x1p21 },	0x0000000000200000LL },
+    { { .fl = 0x1p22 },	0x0000000000400000LL },
+    { { .fl = 0x1p23 },	0x0000000000800000LL },
+    { { .fl = 0x1p24 },	0x0000000001000000LL },
+    { { .fl = 0x1p25 },	0x0000000002000000LL },
+    { { .fl = 0x1p26 },	0x0000000004000000LL },
+    { { .fl = 0x1p27 },	0x0000000008000000LL },
+    { { .fl = 0x1p28 },	0x0000000010000000LL },
+    { { .fl = 0x1p29 },	0x0000000020000000LL },
+    { { .fl = 0x1p30 },	0x0000000040000000LL },
+    { { .fl = 0x1p31 },	0x0000000080000000LL },
+    { { .fl = 0x1p32 },	0x0000000100000000LL },
+    { { .fl = 0x1p33 },	0x0000000200000000LL },
+    { { .fl = 0x1p34 },	0x0000000400000000LL },
+    { { .fl = 0x1p35 },	0x0000000800000000LL },
+    { { .fl = 0x1p36 },	0x0000001000000000LL },
+    { { .fl = 0x1p37 },	0x0000002000000000LL },
+    { { .fl = 0x1p38 },	0x0000004000000000LL },
+    { { .fl = 0x1p39 },	0x0000008000000000LL },
+    { { .fl = 0x1p40 },	0x0000010000000000LL },
+    { { .fl = 0x1p41 },	0x0000020000000000LL },
+    { { .fl = 0x1p42 },	0x0000040000000000LL },
+    { { .fl = 0x1p43 },	0x0000080000000000LL },
+    { { .fl = 0x1p44 },	0x0000100000000000LL },
+    { { .fl = 0x1p45 },	0x0000200000000000LL },
+    { { .fl = 0x1p46 },	0x0000400000000000LL },
+    { { .fl = 0x1p47 },	0x0000800000000000LL },
+    { { .fl = 0x1p48 },	0x0001000000000000LL },
+    { { .fl = 0x1p49 },	0x0002000000000000LL },
+    { { .fl = 0x1p50 },	0x0004000000000000LL },
+    { { .fl = 0x1p51 },	0x0008000000000000LL },
+    { { .fl = 0x1p52 },	0x0010000000000000LL },
+    { { .fl = 0x1p53 },	0x0020000000000000LL },
+    { { .fl = 0x1p54 },	0x0040000000000000LL },
+    { { .fl = 0x1p55 },	0x0080000000000000LL },
+    { { .fl = 0x1p56 },	0x0100000000000000LL },
+    { { .fl = 0x1p57 },	0x0200000000000000LL },
+    { { .fl = 0x1p58 },	0x0400000000000000LL },
+    { { .fl = 0x1p59 },	0x0800000000000000LL },
+    { { .fl = 0x1p60 },	0x1000000000000000LL },
+    { { .fl = 0x1p61 },	0x2000000000000000LL },
+    { { .fl = 0x1p62 },	0x4000000000000000LL },
+    { { .fl = 0x1p63 }, 0x8000000000000000LL },
+
+    /* negative	*/
+    { { .fl = -0x1p00 },	-1 },
+    { { .fl = -0x3p00 },	-0x0000000000000003LL },
+    { { .fl = -0xffp00 },	-0x00000000000000ffLL },
+    { { .fl = -0x100p00 },	-0x0000000000000100LL },
+    { { .fl = -0xffffp00 },	-0x000000000000ffffLL },
+    { { .fl = -0x10000p00 },	-0x0000000000010000LL },
+    { { .fl = -0xffffffp00 },	-0x0000000000ffffffLL },
+    { { .fl = -0xffffffp07 },	-0x000000007fffff80LL },
+    { { .fl = -0x1000000p07 },	-0x0000000080000000LL },
+    { { .fl = -0xffffffp08 },   -0x00000000ffffff00LL },
+    { { .fl = -0x1000000p08 },  -0x0000000100000000LL },
+    { { .fl = -0xffffffp39 },   -0x7fffff8000000000LL },
+    
+    /* max values	*/
+    { { .fl =  0x0.fffffep+63 },  0x7fffff0000000000LL },
+    { { .fl =  0x0.ffffffp+63 },  0x7fffff8000000000LL },
+    { { .fl = -0x0.fffffep+63 }, -0x7fffff0000000000LL },
+    { { .fl = -0x0.ffffffp+63 }, -0x7fffff8000000000LL },
+    { { .fl = -0x1.000000p+63 },  0x8000000000000000LL },
+    
+    /* Overflow	*/
+    { { .fl =  0x1.000000p+63 }, 0x8000000000000000LL },
+    { { .fl = -0x1.000002p+63 }, 0x8000000000000000LL },
+    { { 0x7f7fffff },		 0x8000000000000000LL },
+    { { 0xff7fffff },		 0x8000000000000000LL },
+
+    /* Inf	*/
+    { { 0x7f800000 }, 0x8000000000000000LL },
+    { { 0xff800000 }, 0x8000000000000000LL },
+    
+    /* NaN	*/
+    { { 0x7f800001 }, 0x8000000000000000LL },
+    { { 0x7fc00000 }, 0x8000000000000000LL },
+    { { 0x7fffffff }, 0x8000000000000000LL },
+    { { 0xff800001 }, 0x8000000000000000LL },
+    { { 0xffc00000 }, 0x8000000000000000LL },
+    { { 0xffffffff }, 0x8000000000000000LL },
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]:  %lld (%#llx)\n", index - 1, v, v);
+#endif
+    exit (index ? index : -1);
+}
+
+int main ()
+{
+    union lofl_u x;
+    long long z;
+    int i;
+    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	x.lo = pgm_read_dword (& t[i].x);
+	z    = pgm_read_qword (& t[i].z);
+	v = x.fl;	/* __fixsfdi()	*/
+	if (v != z)
+	    x_exit (i+1);
+    }
+    return 0;
+}
diff --git a/tests/simulate/fplib/flt2long-01.c b/tests/simulate/fplib/flt2long-01.c
new file mode 100644
index 0000000..10d0306
--- /dev/null
+++ b/tests/simulate/fplib/flt2long-01.c
@@ -0,0 +1,181 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of conversion float --> signed long.
+   $Id$
+ */
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+volatile long v = 1;
+
+PROGMEM const struct {		/* Table of test cases.	*/
+    union lofl_u x;
+    long z;
+} t[] = {
+
+    /* 0.0	*/
+    { { 0x00000000 }, 0 },
+    { { 0x80000000 }, 0 },
+
+    /* too small	*/
+    { { 0x00000001 }, 0 },
+    { { 0x007fffff }, 0 },
+    { { 0x00800000 }, 0 },
+    { { 0x3f7fffff }, 0 },
+    { { 0x80000001 }, 0 },
+    { { 0x807fffff }, 0 },
+    { { 0x80800000 }, 0 },
+    { { 0xbf7fffff }, 0 },
+    
+    /* all shift values	*/
+    { { .fl = 0x1p00 },	0x00000001 },
+    { { .fl = 0x1p01 },	0x00000002 },
+    { { .fl = 0x1p02 },	0x00000004 },
+    { { .fl = 0x1p03 },	0x00000008 },
+    { { .fl = 0x1p04 },	0x00000010 },
+    { { .fl = 0x1p05 },	0x00000020 },
+    { { .fl = 0x1p06 },	0x00000040 },
+    { { .fl = 0x1p07 },	0x00000080 },
+    { { .fl = 0x1p08 },	0x00000100 },
+    { { .fl = 0x1p09 },	0x00000200 },
+    { { .fl = 0x1p10 },	0x00000400 },
+    { { .fl = 0x1p11 },	0x00000800 },
+    { { .fl = 0x1p12 },	0x00001000 },
+    { { .fl = 0x1p13 },	0x00002000 },
+    { { .fl = 0x1p14 },	0x00004000 },
+    { { .fl = 0x1p15 },	0x00008000 },
+    { { .fl = 0x1p16 },	0x00010000 },
+    { { .fl = 0x1p17 },	0x00020000 },
+    { { .fl = 0x1p18 },	0x00040000 },
+    { { .fl = 0x1p19 },	0x00080000 },
+    { { .fl = 0x1p20 },	0x00100000 },
+    { { .fl = 0x1p21 },	0x00200000 },
+    { { .fl = 0x1p22 },	0x00400000 },
+    { { .fl = 0x1p23 },	0x00800000 },
+    { { .fl = 0x1p24 },	0x01000000 },
+    { { .fl = 0x1p25 },	0x02000000 },
+    { { .fl = 0x1p26 },	0x04000000 },
+    { { .fl = 0x1p27 },	0x08000000 },
+    { { .fl = 0x1p28 },	0x10000000 },
+    { { .fl = 0x1p29 },	0x20000000 },
+    { { .fl = 0x1p30 },	0x40000000 },
+    { { .fl = -0x1p31 },0x80000000 },
+    
+    /* negative	*/
+    { { .fl = -0x1p00 },	-1 },
+    { { .fl = -0x3p00 },	-0x00000003 },
+    { { .fl = -0xffp00 },	-0x000000ff },
+    { { .fl = -0x100p00 },	-0x00000100 },
+    { { .fl = -0xffffp00 },	-0x0000ffffL },
+    { { .fl = -0x10000p00 },	-0x00010000L },
+    { { .fl = -0xffffffp00 },	-0x00ffffffL },
+    { { .fl = -0xffffffp07 },	-0x7fffff80L },
+    
+    /* max values	*/
+    { { .fl =  0x1.fffffep+30 },  0x7fffff80 },
+    { { .fl = -0x1.fffffep+30 }, -0x7fffff80L },
+    { { .fl = -0x1.000000p+31 }, -0x80000000L },
+    
+    /* rounding (trunc to zero)	*/
+    { { 0x3f7fffff }, 0 },
+    { { 0x3f800000 }, 1 },
+    { { 0x3fffffff }, 1 },
+    { { 0x40000000 }, 2 },
+    { { 0x403fffff }, 2 },
+    { { 0x40400000 }, 3 },
+    { { 0x407fffff }, 3 },
+    { { .fl = 0x1.000000p+22 }, 0x00400000 },
+    { { .fl = 0x1.000002p+22 }, 0x00400000 },
+
+    /* This realization returns 0x80000000 with all possible errors:
+       overflow and NaN.  This is like GCC/x86.	*/
+
+    /* Positive overflow	*/
+    { { .fl= 0x0.800000p+32 }, 0x80000000 },
+    { { .fl= 0x0.800001p+32 }, 0x80000000 },
+    { { .fl= 0x0.ffffffp+32 }, 0x80000000 },
+    { { .fl= 0x0.800000p+33 }, 0x80000000 },
+    { { .fl= 0x0.ffffffp+33 }, 0x80000000 },
+    { { .lo= 0x7f000000 },     0x80000000 },
+    { { .lo= 0x7f7fffff },     0x80000000 },
+    { { .lo= 0x7f800000 },     0x80000000 },	/* +Inf	*/
+
+    /* Negative overflow	*/
+    { { .fl= -0x0.800000p+32 }, 0x80000000 },	/* no overflow	*/
+    { { .fl= -0x0.800001p+32 }, 0x80000000 },
+    { { .fl= -0x0.ffffffp+32 }, 0x80000000 },
+    { { .fl= -0x0.800000p+33 }, 0x80000000 },
+    { { .fl= -0x0.ffffffp+33 }, 0x80000000 },
+    { { .lo= 0xff000000 },      0x80000000 },
+    { { .lo= 0xff7fffff },      0x80000000 },
+    { { .lo= 0xff800000 },      0x80000000 },	/* -Inf	*/
+
+    /* Inf	*/
+    { { 0x7f800000 }, 0x80000000 },
+    { { 0xff800000 }, 0x80000000 },
+    
+    /* NaN	*/
+    { { 0x7f800001 }, 0x80000000 },
+    { { 0x7fc00000 }, 0x80000000 },
+    { { 0x7fffffff }, 0x80000000 },
+    { { 0xff800001 }, 0x80000000 },
+    { { 0xffc00000 }, 0x80000000 },
+    { { 0xffffffff }, 0x80000000 },
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]:  %lu (%#lx)\n", index - 1, v, v);
+#endif
+    exit (index ? index : -1);
+}
+
+int main ()
+{
+    union lofl_u x;
+    long z;
+    int i;
+    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	x.lo = pgm_read_dword (& t[i].x);
+	z    = pgm_read_dword (& t[i].z);
+	v = x.fl;
+	if (v != z)
+	    x_exit (i+1);
+    }
+    return 0;
+}
diff --git a/tests/simulate/fplib/flt2ulng-01.c b/tests/simulate/fplib/flt2ulng-01.c
new file mode 100644
index 0000000..aa2de88
--- /dev/null
+++ b/tests/simulate/fplib/flt2ulng-01.c
@@ -0,0 +1,195 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of conversion float --> unsigned long.
+   $Id$
+ */
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+volatile unsigned long v = 1;
+
+PROGMEM const struct {		/* Table of test cases.	*/
+    union lofl_u x;
+    unsigned long z;
+} t[] = {
+
+    /* 0.0	*/
+    { { 0x00000000 }, 0 },
+    { { 0x80000000 }, 0 },
+
+    /* too small	*/
+    { { 0x00000001 }, 0 },
+    { { 0x007fffff }, 0 },
+    { { 0x00800000 }, 0 },
+    { { 0x3f7fffff }, 0 },
+    { { 0x80000001 }, 0 },
+    { { 0x807fffff }, 0 },
+    { { 0x80800000 }, 0 },
+    { { 0xbf7fffff }, 0 },
+    
+    /* all shift values	*/
+    { { .fl = 0x1p00 },	0x00000001 },
+    { { .fl = 0x1p01 },	0x00000002 },
+    { { .fl = 0x1p02 },	0x00000004 },
+    { { .fl = 0x1p03 },	0x00000008 },
+    { { .fl = 0x1p04 },	0x00000010 },
+    { { .fl = 0x1p05 },	0x00000020 },
+    { { .fl = 0x1p06 },	0x00000040 },
+    { { .fl = 0x1p07 },	0x00000080 },
+    { { .fl = 0x1p08 },	0x00000100 },
+    { { .fl = 0x1p09 },	0x00000200 },
+    { { .fl = 0x1p10 },	0x00000400 },
+    { { .fl = 0x1p11 },	0x00000800 },
+    { { .fl = 0x1p12 },	0x00001000 },
+    { { .fl = 0x1p13 },	0x00002000 },
+    { { .fl = 0x1p14 },	0x00004000 },
+    { { .fl = 0x1p15 },	0x00008000 },
+    { { .fl = 0x1p16 },	0x00010000 },
+    { { .fl = 0x1p17 },	0x00020000 },
+    { { .fl = 0x1p18 },	0x00040000 },
+    { { .fl = 0x1p19 },	0x00080000 },
+    { { .fl = 0x1p20 },	0x00100000 },
+    { { .fl = 0x1p21 },	0x00200000 },
+    { { .fl = 0x1p22 },	0x00400000 },
+    { { .fl = 0x1p23 },	0x00800000 },
+    { { .fl = 0x1p24 },	0x01000000 },
+    { { .fl = 0x1p25 },	0x02000000 },
+    { { .fl = 0x1p26 },	0x04000000 },
+    { { .fl = 0x1p27 },	0x08000000 },
+    { { .fl = 0x1p28 },	0x10000000 },
+    { { .fl = 0x1p29 },	0x20000000 },
+    { { .fl = 0x1p30 },	0x40000000 },
+    { { .fl = 0x1p31 },	0x80000000 },
+    
+    /* max value	*/
+    { { .fl = 0x1.fffffep+31 }, 0xffffff00 },
+    
+    /* rounding (trunc to zero)	*/
+    { { 0x3f7fffff }, 0 },
+    { { 0x3f800000 }, 1 },
+    { { 0x3fffffff }, 1 },
+    { { 0x40000000 }, 2 },
+    { { 0x403fffff }, 2 },
+    { { 0x40400000 }, 3 },
+    { { 0x407fffff }, 3 },
+    { { .fl = 0x1.000000p+22 }, 0x00400000 },
+    { { .fl = 0x1.000002p+22 }, 0x00400000 },
+
+    /* This realization permits negative input, like GCC/x86.	*/
+    { { .fl = -0.5 },	0 },
+    { { .fl = -1 },     0xffffffff },
+    { { .fl = -2 },     0xfffffffe },
+    { { .fl = -0x0.7fffffp+32 }, 0x80000100 },
+    { { .fl = -0x0.800000p+32 }, 0x80000000 },
+    { { .fl = -0x0.800001p+32 }, 0x7fffff00 },
+    { { .fl = -0x0.fffffep+32 }, 0x00000200 },
+    { { .fl = -0x0.ffffffp+32 }, 0x00000100 },
+    { { .fl = -0x0.800000p+33 }, 0 },		/* overflow	*/
+
+    /* Very big numbers (positive and negative).	*/
+    { { .fl = 0x0.800000p+56 }, 0 },
+    { { .fl = 0x0.ffffffp+56 }, 0 },
+    { { .fl = 0x0.800000p+57 }, 0 },
+    { { .fl = 0x0.ffffffp+57 }, 0 },
+    { { 0x7f000000 },           0 },
+    { { 0x7f7fffff },           0 },
+    { { .fl = -0x0.800000p+56 }, 0 },
+    { { .fl = -0x0.ffffffp+56 }, 0 },
+    { { .fl = -0x0.800000p+57 }, 0 },
+    { { .fl = -0x0.ffffffp+57 }, 0 },
+    { { 0xff000000 },            0 },
+    { { 0xff7fffff },            0 },
+
+    /* Inf	*/
+    { { 0x7f800000 }, 0 },
+    { { 0xff800000 }, 0 },
+    
+    /* NaN	*/
+    { { 0x7f800001 }, 0 },
+    { { 0x7fc00000 }, 0 },
+    { { 0x7fffffff }, 0 },
+    { { 0xff800001 }, 0 },
+    { { 0xffc00000 }, 0 },
+    { { 0xffffffff }, 0 },
+    
+#ifdef	__AVR__
+    /* Unlike to GCC/x86 this realization does not shifts value
+       in overflow case. So with not too big numbers the results
+       are different.	*/
+
+    /* Positive overflow	*/
+    { { .fl= 0x0.800000p+33 }, 0 },
+    { { .fl= 0x0.800001p+33 }, 0 },
+    { { .fl= 0x0.ffffffp+33 }, 0 },
+    { { .fl= 0x0.800000p+34 }, 0 },
+    { { .fl= 0x0.ffffffp+34 }, 0 },
+    { { .fl= 0x0.800000p+55 }, 0 },
+    { { .fl= 0x0.ffffffp+55 }, 0 },
+
+    /* Negative overflow	*/
+    { { .fl= -0x0.800000p+33 }, 0 },	/* no overflow	*/
+    { { .fl= -0x0.800001p+33 }, 0 },
+    { { .fl= -0x0.ffffffp+33 }, 0 },
+    { { .fl= -0x0.800000p+34 }, 0 },
+    { { .fl= -0x0.ffffffp+34 }, 0 },
+    { { .fl= -0x0.800000p+55 }, 0 },
+    { { .fl= -0x0.ffffffp+55 }, 0 },
+#endif
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]:  %lu (%#lx)\n", index - 1, v, v);
+#endif
+    exit (index ? index : -1);
+}
+
+int main ()
+{
+    union lofl_u x;
+    unsigned long z;
+    int i;
+    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	x.lo = pgm_read_dword (& t[i].x);
+	z    = pgm_read_dword (& t[i].z);
+	v = x.fl;
+	if (v != z)
+	    x_exit (i+1);
+    }
+    return 0;
+}
diff --git a/tests/simulate/fplib/flt2unll-01.c b/tests/simulate/fplib/flt2unll-01.c
new file mode 100644
index 0000000..9f357e0
--- /dev/null
+++ b/tests/simulate/fplib/flt2unll-01.c
@@ -0,0 +1,215 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of conversion float --> unsigned long long.
+   $Id$
+ */
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+volatile unsigned long long v = 1;
+
+PROGMEM const struct {		/* Table of test cases.	*/
+    union lofl_u x;
+    unsigned long long z;
+} t[] = {
+
+    /* 0.0	*/
+    { { 0x00000000 }, 0 },
+    { { 0x80000000 }, 0 },
+    
+    /* too small	*/
+    { { 0x00000001 }, 0 },
+    { { 0x007fffff }, 0 },
+    { { 0x00800000 }, 0 },
+    { { 0x3f7fffff }, 0 },
+    { { 0x80000001 }, 0 },
+    { { 0x807fffff }, 0 },
+    { { 0x80800000 }, 0 },
+    { { 0xbf7fffff }, 0 },
+
+    /* rounding (trunc to zero)	*/
+    { { 0x3f7fffff }, 0 },
+    { { 0x3f800000 }, 1 },
+    { { 0x3fffffff }, 1 },
+    { { 0x40000000 }, 2 },
+    { { 0x403fffff }, 2 },
+    { { 0x40400000 }, 3 },
+    { { 0x407fffff }, 3 },
+    { { .fl = 0x1.000000p+22 }, 0x00400000 },
+    { { .fl = 0x1.000002p+22 }, 0x00400000 },
+
+    /* all shift values	*/
+    { { .fl = 0x1p00 },	0x0000000000000001LL },
+    { { .fl = 0x1p01 },	0x0000000000000002LL },
+    { { .fl = 0x1p02 },	0x0000000000000004LL },
+    { { .fl = 0x1p03 },	0x0000000000000008LL },
+    { { .fl = 0x1p04 },	0x0000000000000010LL },
+    { { .fl = 0x1p05 },	0x0000000000000020LL },
+    { { .fl = 0x1p06 },	0x0000000000000040LL },
+    { { .fl = 0x1p07 },	0x0000000000000080LL },
+    { { .fl = 0x1p08 },	0x0000000000000100LL },
+    { { .fl = 0x1p09 },	0x0000000000000200LL },
+    { { .fl = 0x1p10 },	0x0000000000000400LL },
+    { { .fl = 0x1p11 },	0x0000000000000800LL },
+    { { .fl = 0x1p12 },	0x0000000000001000LL },
+    { { .fl = 0x1p13 },	0x0000000000002000LL },
+    { { .fl = 0x1p14 },	0x0000000000004000LL },
+    { { .fl = 0x1p15 },	0x0000000000008000LL },
+    { { .fl = 0x1p16 },	0x0000000000010000LL },
+    { { .fl = 0x1p17 },	0x0000000000020000LL },
+    { { .fl = 0x1p18 },	0x0000000000040000LL },
+    { { .fl = 0x1p19 },	0x0000000000080000LL },
+    { { .fl = 0x1p20 },	0x0000000000100000LL },
+    { { .fl = 0x1p21 },	0x0000000000200000LL },
+    { { .fl = 0x1p22 },	0x0000000000400000LL },
+    { { .fl = 0x1p23 },	0x0000000000800000LL },
+    { { .fl = 0x1p24 },	0x0000000001000000LL },
+    { { .fl = 0x1p25 },	0x0000000002000000LL },
+    { { .fl = 0x1p26 },	0x0000000004000000LL },
+    { { .fl = 0x1p27 },	0x0000000008000000LL },
+    { { .fl = 0x1p28 },	0x0000000010000000LL },
+    { { .fl = 0x1p29 },	0x0000000020000000LL },
+    { { .fl = 0x1p30 },	0x0000000040000000LL },
+    { { .fl = 0x1p31 },	0x0000000080000000LL },
+    { { .fl = 0x1p32 },	0x0000000100000000LL },
+    { { .fl = 0x1p33 },	0x0000000200000000LL },
+    { { .fl = 0x1p34 },	0x0000000400000000LL },
+    { { .fl = 0x1p35 },	0x0000000800000000LL },
+    { { .fl = 0x1p36 },	0x0000001000000000LL },
+    { { .fl = 0x1p37 },	0x0000002000000000LL },
+    { { .fl = 0x1p38 },	0x0000004000000000LL },
+    { { .fl = 0x1p39 },	0x0000008000000000LL },
+    { { .fl = 0x1p40 },	0x0000010000000000LL },
+    { { .fl = 0x1p41 },	0x0000020000000000LL },
+    { { .fl = 0x1p42 },	0x0000040000000000LL },
+    { { .fl = 0x1p43 },	0x0000080000000000LL },
+    { { .fl = 0x1p44 },	0x0000100000000000LL },
+    { { .fl = 0x1p45 },	0x0000200000000000LL },
+    { { .fl = 0x1p46 },	0x0000400000000000LL },
+    { { .fl = 0x1p47 },	0x0000800000000000LL },
+    { { .fl = 0x1p48 },	0x0001000000000000LL },
+    { { .fl = 0x1p49 },	0x0002000000000000LL },
+    { { .fl = 0x1p50 },	0x0004000000000000LL },
+    { { .fl = 0x1p51 },	0x0008000000000000LL },
+    { { .fl = 0x1p52 },	0x0010000000000000LL },
+    { { .fl = 0x1p53 },	0x0020000000000000LL },
+    { { .fl = 0x1p54 },	0x0040000000000000LL },
+    { { .fl = 0x1p55 },	0x0080000000000000LL },
+    { { .fl = 0x1p56 },	0x0100000000000000LL },
+    { { .fl = 0x1p57 },	0x0200000000000000LL },
+    { { .fl = 0x1p58 },	0x0400000000000000LL },
+    { { .fl = 0x1p59 },	0x0800000000000000LL },
+    { { .fl = 0x1p60 },	0x1000000000000000LL },
+    { { .fl = 0x1p61 },	0x2000000000000000LL },
+    { { .fl = 0x1p62 },	0x4000000000000000LL },
+    { { .fl = 0x1p63 }, 0x8000000000000000LL },
+    
+    /* max values	*/
+    { { .fl = 0x0.fffffep+63 },  0x7fffff0000000000LL },
+    { { .fl = 0x0.ffffffp+63 },  0x7fffff8000000000LL },
+    { { .fl = 0x1.000000p+63 },  0x8000000000000000LL },
+    { { .fl = 0x1.000002p+63 },  0x8000010000000000LL },
+    { { .fl = 0x0.fffffep+64 },  0xfffffe0000000000LL },
+    { { .fl = 0x0.ffffffp+64 },  0xffffff0000000000LL },
+    
+    /* Overflow	*/
+    { { .fl =  0x1.000000p+64 }, 0 },
+/*    { { .fl =  0x1.000002p+64 }, 0 },		??? Glibc gives non 0 */
+    { { 0x7f7fffff },		 0 },
+    { { 0xff7fffff },		 0 },
+
+    /* Inf	*/
+    { { 0x7f800000 }, 0 },
+    { { 0xff800000 }, 0 },
+    
+    /* NaN	*/
+    { { 0x7f800001 }, 0 },
+    { { 0x7fc00000 }, 0 },
+    { { 0x7fffffff }, 0 },
+    { { 0xff800001 }, 0 },
+    { { 0xffc00000 }, 0 },
+    { { 0xffffffff }, 0 },
+
+#ifdef	__AVR__
+    /* negative	*/
+    { { .fl = -0x1p00 },	 0xffffffffffffffffLL },
+    { { .fl = -0x3p00 },	-0x0000000000000003LL },
+    { { .fl = -0xffp00 },	-0x00000000000000ffLL },
+    { { .fl = -0x100p00 },	-0x0000000000000100LL },
+    { { .fl = -0xffffp00 },	-0x000000000000ffffLL },
+    { { .fl = -0x10000p00 },	-0x0000000000010000LL },
+    { { .fl = -0xffffffp00 },	-0x0000000000ffffffLL },
+    { { .fl = -0xffffffp07 },	-0x000000007fffff80LL },
+    { { .fl = -0x1000000p07 },	-0x0000000080000000LL },
+    { { .fl = -0xffffffp08 },   -0x00000000ffffff00LL },
+    { { .fl = -0x1000000p08 },  -0x0000000100000000LL },
+    { { .fl = -0xffffffp39 },   -0x7fffff8000000000LL },
+
+    { { .fl = -0x0.fffffep+63 }, -0x7fffff0000000000LL },
+    { { .fl = -0x0.ffffffp+63 }, -0x7fffff8000000000LL },
+    { { .fl = -0x1.000000p+63 },  0x8000000000000000LL },
+    
+    { { .fl = -0x0.ffffffp+64 }, -0xffffff0000000000LL },
+    { { .fl = -0x1.000000p+64 }, 0 },
+    { { .fl = -0x1.000002p+64 }, 0 },
+
+    { { .fl =  0x1.000002p+64 }, 0 },
+#endif
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]:  %llu (%#llx)\n", index - 1, v, v);
+#endif
+    exit (index ? index : -1);
+}
+
+int main ()
+{
+    union lofl_u x;
+    unsigned long long z;
+    int i;
+    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	x.lo = pgm_read_dword (& t[i].x);
+	z = pgm_read_qword (& t[i].z);
+	v = x.fl;	/* __fixunssfdi()	*/
+	if (v != z)
+	    x_exit (i+1);
+    }
+    return 0;
+}
diff --git a/tests/simulate/fplib/llng2flt-01.c b/tests/simulate/fplib/llng2flt-01.c
new file mode 100644
index 0000000..d7cd911
--- /dev/null
+++ b/tests/simulate/fplib/llng2flt-01.c
@@ -0,0 +1,324 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of conversion: signed long long --> float
+   $Id$
+ */
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+volatile union lofl_u v = { 1 };
+
+PROGMEM const struct {		/* Table of test cases:  x, (float)x	*/
+    long long x;
+    union lofl_u z;
+} t[] = {
+
+    { 0, { .fl = 0.0 } },
+    { 1, { .fl = 1.0 } },
+    { 10, { .fl = 1e+1 } },
+    { 100, { .fl = 1e+2 } },
+    { 1000, { .fl = 1e+3 } },
+    { 10000, { .fl = 1e+4 } },
+    { 100000, { .fl = 1e+5 } },
+    { 1000000, { .fl = 1e+6 } },
+    { 10000000, { .fl = 1e+7 } },
+    { 100000000, { .fl = 1e+8 } },
+    { 1000000000, { .fl = 1e+9 } },
+    { 10000000000LL, { .fl = 1e+10 } },
+    { 100000000000LL, { .fl = 1e+11 } },
+    { 1000000000000LL, { .fl = 1e+12 } },
+    { 10000000000000LL, { .fl = 1e+13 } },
+    { 100000000000000LL, { .fl = 1e+14 } },
+    { 1000000000000000LL, { .fl = 1e+15 } },
+    { 10000000000000000LL, { .fl = 1e+16 } },
+    { 100000000000000000LL, { .fl = 1e+17 } },
+    { 1000000000000000000LL, { .fl = 1e+18 } },
+
+    { 12, { .fl = 1.2e+1 } },
+    { 123, { .fl = 1.23e+2 } },
+    { 1234, { .fl = 1.234e+3 } },
+    { 12345, { .fl = 1.2345e+4 } },
+    { 123456, { .fl = 1.23456e+5 } },
+    { 1234567, { .fl = 1.234567e+6 } },
+    { 12345678, { .fl = 1.2345678e+7 } },
+    { 123456780, { .fl = 1.2345678e+8 } },
+    { 1234567800, { .fl = 1.2345678e+9 } },
+    { 12345678000LL, { .fl = 1.2345678e+10 } },
+    { 123456780000LL, { .fl = 1.2345678e+11 } },
+    { 1234567800000LL, { .fl = 1.2345678e+12 } },
+    { 12345678000000LL, { .fl = 1.2345678e+13 } },
+    { 123456780000000LL, { .fl = 1.2345678e+14 } },
+    { 1234567800000000LL, { .fl = 1.2345678e+15 } },
+    { 12345678000000000LL, { .fl = 1.2345678e+16 } },
+    { 123456780000000000LL, { .fl = 1.2345678e+17 } },
+    { 1234567800000000000LL, { .fl = 1.2345678e+18 } },
+    
+    /* max positive	*/
+    { 0x7fffffffffffffffLL, { .fl = 0x1p+63 } },
+    
+    /* some negative values	*/
+    { -1, { .fl = -1.0 } },
+    { -2, { .fl = -2.0 } },
+    { -10, { .fl = -10.0 } },
+    { -12345678, { .fl = -1.2345678e+7 } },
+    { -1234567800000000000LL, { .fl = -1.2345678e+18 } },
+    { -0x7fffffffffffffffLL, { .fl = -0x1p+63 } },
+
+    /* check long long negation	*/
+    { 0xff00000000000000LL, { .fl = -0x1p+56 } },
+    { 0xffff000000000000LL, { .fl = -0x1p+48 } },
+    { 0xffffff0000000000LL, { .fl = -0x1p+40 } },
+    { 0xffffffff00000000LL, { .fl = -0x1p+32 } },
+    { 0xffffffffff000000LL, { .fl = -0x1p+24 } },
+    { 0xffffffffffff0000LL, { .fl = -0x1p+16 } },
+    { 0xffffffffffffff00LL, { .fl = -0x1p+8 } },
+
+    /* all possible shifts	*/    
+    { 0x00000001, { .fl = 0x1p+00 } },
+    { 0x00000002, { .fl = 0x1p+01 } },
+    { 0x00000004, { .fl = 0x1p+02 } },
+    { 0x00000008, { .fl = 0x1p+03 } },
+    { 0x00000010, { .fl = 0x1p+04 } },
+    { 0x00000020, { .fl = 0x1p+05 } },
+    { 0x00000040, { .fl = 0x1p+06 } },
+    { 0x00000080, { .fl = 0x1p+07 } },
+    { 0x00000100, { .fl = 0x1p+08 } },
+    { 0x00000200, { .fl = 0x1p+09 } },
+    { 0x00000400, { .fl = 0x1p+10 } },
+    { 0x00000800, { .fl = 0x1p+11 } },
+    { 0x00001000, { .fl = 0x1p+12 } },
+    { 0x00002000, { .fl = 0x1p+13 } },
+    { 0x00004000, { .fl = 0x1p+14 } },
+    { 0x00008000, { .fl = 0x1p+15 } },
+    { 0x00010000, { .fl = 0x1p+16 } },
+    { 0x00020000, { .fl = 0x1p+17 } },
+    { 0x00040000, { .fl = 0x1p+18 } },
+    { 0x00080000, { .fl = 0x1p+19 } },
+    { 0x00100000, { .fl = 0x1p+20 } },
+    { 0x00200000, { .fl = 0x1p+21 } },
+    { 0x00400000, { .fl = 0x1p+22 } },
+    { 0x00800000, { .fl = 0x1p+23 } },
+    { 0x01000000, { .fl = 0x1p+24 } },
+    { 0x02000000, { .fl = 0x1p+25 } },
+    { 0x04000000, { .fl = 0x1p+26 } },
+    { 0x08000000, { .fl = 0x1p+27 } },
+    { 0x10000000, { .fl = 0x1p+28 } },
+    { 0x20000000, { .fl = 0x1p+29 } },
+    { 0x40000000, { .fl = 0x1p+30 } },
+    { 0x80000000, { .fl = 0x1p+31 } },
+    { 0x0000000100000000LL, { .fl = 0x1p+32 } },
+    { 0x0000000200000000LL, { .fl = 0x1p+33 } },
+    { 0x0000000400000000LL, { .fl = 0x1p+34 } },
+    { 0x0000000800000000LL, { .fl = 0x1p+35 } },
+    { 0x0000001000000000LL, { .fl = 0x1p+36 } },
+    { 0x0000002000000000LL, { .fl = 0x1p+37 } },
+    { 0x0000004000000000LL, { .fl = 0x1p+38 } },
+    { 0x0000008000000000LL, { .fl = 0x1p+39 } },
+    { 0x0000010000000000LL, { .fl = 0x1p+40 } },
+    { 0x0000020000000000LL, { .fl = 0x1p+41 } },
+    { 0x0000040000000000LL, { .fl = 0x1p+42 } },
+    { 0x0000080000000000LL, { .fl = 0x1p+43 } },
+    { 0x0000100000000000LL, { .fl = 0x1p+44 } },
+    { 0x0000200000000000LL, { .fl = 0x1p+45 } },
+    { 0x0000400000000000LL, { .fl = 0x1p+46 } },
+    { 0x0000800000000000LL, { .fl = 0x1p+47 } },
+    { 0x0001000000000000LL, { .fl = 0x1p+48 } },
+    { 0x0002000000000000LL, { .fl = 0x1p+49 } },
+    { 0x0004000000000000LL, { .fl = 0x1p+50 } },
+    { 0x0008000000000000LL, { .fl = 0x1p+51 } },
+    { 0x0010000000000000LL, { .fl = 0x1p+52 } },
+    { 0x0020000000000000LL, { .fl = 0x1p+53 } },
+    { 0x0040000000000000LL, { .fl = 0x1p+54 } },
+    { 0x0080000000000000LL, { .fl = 0x1p+55 } },
+    { 0x0100000000000000LL, { .fl = 0x1p+56 } },
+    { 0x0200000000000000LL, { .fl = 0x1p+57 } },
+    { 0x0400000000000000LL, { .fl = 0x1p+58 } },
+    { 0x0800000000000000LL, { .fl = 0x1p+59 } },
+    { 0x1000000000000000LL, { .fl = 0x1p+60 } },
+    { 0x2000000000000000LL, { .fl = 0x1p+61 } },
+    { 0x4000000000000000LL, { .fl = 0x1p+62 } },
+    { 0x8000000000000000LL, { .fl= -0x1p+63 } },
+    
+    /* bytes order	*/
+    { 0x0000000000000102LL, { .fl = 0x102p+00 } },
+    { 0x0000000000010203LL, { .fl = 0x10203p+00 } },
+    { 0x0000000001020304LL, { .fl = 0x1020304p+00 } },
+    { 0x0000000102030400LL, { .fl = 0x1020304p+08 } },
+    { 0x0000010203040000LL, { .fl = 0x1020304p+16 } },
+    { 0x0001020304000000LL, { .fl = 0x1020304p+24 } },
+    { 0x0102030400000000LL, { .fl = 0x1020304p+32 } },
+
+    /* rounding (shift is to left)	*/
+    { 0x01000000, { .fl = 0x0.800000p+25 } },
+    { 0x01000001, { .fl = 0x0.800000p+25 } },
+    { 0x01000002, { .fl = 0x0.800001p+25 } },
+    { 0x01000003, { .fl = 0x0.800002p+25 } },
+    { 0x01000004, { .fl = 0x0.800002p+25 } },
+    { 0x01000005, { .fl = 0x0.800002p+25 } },
+    { 0x01000006, { .fl = 0x0.800003p+25 } },
+    { 0x01000007, { .fl = 0x0.800004p+25 } },
+
+    { 0x0200000000LL, { .fl = 0x0.800000p+34 } },
+    { 0x0200000200LL, { .fl = 0x0.800000p+34 } },
+    { 0x0200000400LL, { .fl = 0x0.800001p+34 } },
+    { 0x0200000600LL, { .fl = 0x0.800002p+34 } },
+    { 0x0200000800LL, { .fl = 0x0.800002p+34 } },
+    { 0x0200000a00LL, { .fl = 0x0.800002p+34 } },
+    { 0x0200000c00LL, { .fl = 0x0.800003p+34 } },
+    { 0x0200000e00LL, { .fl = 0x0.800004p+34 } },
+
+    { 0x040000000000LL, { .fl = 0x0.800000p+43 } },
+    { 0x040000040000LL, { .fl = 0x0.800000p+43 } },
+    { 0x040000080000LL, { .fl = 0x0.800001p+43 } },
+    { 0x0400000c0000LL, { .fl = 0x0.800002p+43 } },
+    { 0x040000100000LL, { .fl = 0x0.800002p+43 } },
+    { 0x040000140000LL, { .fl = 0x0.800002p+43 } },
+    { 0x040000180000LL, { .fl = 0x0.800003p+43 } },
+    { 0x0400001c0000LL, { .fl = 0x0.800004p+43 } },
+
+    { 0x08000000000000LL, { .fl = 0x0.800000p+52 } },
+    { 0x08000008000000LL, { .fl = 0x0.800000p+52 } },
+    { 0x08000010000000LL, { .fl = 0x0.800001p+52 } },
+    { 0x08000018000000LL, { .fl = 0x0.800002p+52 } },
+    { 0x08000020000000LL, { .fl = 0x0.800002p+52 } },
+    { 0x08000028000000LL, { .fl = 0x0.800002p+52 } },
+    { 0x08000030000000LL, { .fl = 0x0.800003p+52 } },
+    { 0x08000038000000LL, { .fl = 0x0.800004p+52 } },
+
+    { 0x80000000, { .fl = 0x0.800000p+32 } },
+    { 0x80000001, { .fl = 0x0.800000p+32 } },
+    { 0x8000007f, { .fl = 0x0.800000p+32 } },
+    { 0x80000080, { .fl = 0x0.800000p+32 } },
+    { 0x80000081, { .fl = 0x0.800001p+32 } },
+    { 0x800000ff, { .fl = 0x0.800001p+32 } },
+    { 0x80000100, { .fl = 0x0.800001p+32 } },
+    { 0x80000101, { .fl = 0x0.800001p+32 } },
+    { 0x8000017f, { .fl = 0x0.800001p+32 } },
+    { 0x80000180, { .fl = 0x0.800002p+32 } },
+    { 0x80000181, { .fl = 0x0.800002p+32 } },
+    { 0x800001ff, { .fl = 0x0.800002p+32 } },
+
+    /* rounding (shift is to right)	*/
+    { 0x0800000000000000LL, { .fl = 0x0.800000p+60 } },
+    { 0x0800000010000000LL, { .fl = 0x0.800000p+60 } },
+    { 0x08000007f0000000LL, { .fl = 0x0.800000p+60 } },
+    { 0x0800000800000000LL, { .fl = 0x0.800000p+60 } },
+    { 0x0800000810000000LL, { .fl = 0x0.800001p+60 } },
+    { 0x0800000ff0000000LL, { .fl = 0x0.800001p+60 } },
+    { 0x0800001000000000LL, { .fl = 0x0.800001p+60 } },
+    { 0x0800001010000000LL, { .fl = 0x0.800001p+60 } },
+    { 0x08000017f0000000LL, { .fl = 0x0.800001p+60 } },
+    { 0x0800001800000000LL, { .fl = 0x0.800002p+60 } },
+    { 0x0800001810000000LL, { .fl = 0x0.800002p+60 } },
+    { 0x0800001ff0000000LL, { .fl = 0x0.800002p+60 } },
+
+    /* smart rounding in case of 0.5 (to even)	*/
+    { 0x01000001, { .fl = 0x0.800000p+25 } },
+    { 0x01000003, { .fl = 0x0.800002p+25 } },
+    { 0x01000005, { .fl = 0x0.800002p+25 } },
+    { 0x01000007, { .fl = 0x0.800004p+25 } },
+    { 0x01000009, { .fl = 0x0.800004p+25 } },
+    { 0x0100000b, { .fl = 0x0.800006p+25 } },
+    { 0x0100000d, { .fl = 0x0.800006p+25 } },
+    { 0x0100000f, { .fl = 0x0.800008p+25 } },
+    { 0x01000011, { .fl = 0x0.800008p+25 } },
+    { 0x01000013, { .fl = 0x0.80000ap+25 } },
+    { 0x01000015, { .fl = 0x0.80000ap+25 } },
+    { 0x01000017, { .fl = 0x0.80000cp+25 } },
+    { 0x01000019, { .fl = 0x0.80000cp+25 } },
+    { 0x0100001b, { .fl = 0x0.80000ep+25 } },
+    { 0x0100001d, { .fl = 0x0.80000ep+25 } },
+    { 0x0100001f, { .fl = 0x0.800010p+25 } },
+
+    { 0x7ffffc40, { .fl = 0x0.fffff8p+31 } },
+    { 0x7ffffcc0, { .fl = 0x0.fffffap+31 } },
+    { 0x7ffffd40, { .fl = 0x0.fffffap+31 } },
+    { 0x7ffffdc0, { .fl = 0x0.fffffcp+31 } },
+    { 0x7ffffe40, { .fl = 0x0.fffffcp+31 } },
+    { 0x7ffffec0, { .fl = 0x0.fffffep+31 } },
+    { 0x7fffff40, { .fl = 0x0.fffffep+31 } },
+    { 0x7fffffc0, { .fl = 0x1.000000p+31 } },
+    
+    /* LSB bits in rounding (shift to left)	*/
+    { 0x01000000000000LL, { .fl = 0x0.800000p+49 } },
+    { 0x01000001000000LL, { .fl = 0x0.800000p+49 } },
+    { 0x01000001000001LL, { .fl = 0x0.800001p+49 } },
+    { 0x01000001000100LL, { .fl = 0x0.800001p+49 } },
+    { 0x01000001010000LL, { .fl = 0x0.800001p+49 } },
+    { 0x01000002000000LL, { .fl = 0x0.800001p+49 } },
+    { 0x01000002000001LL, { .fl = 0x0.800001p+49 } },
+
+    { 0x01000002ffffffLL, { .fl = 0x0.800001p+49 } },
+    { 0x01000003000000LL, { .fl = 0x0.800002p+49 } },
+
+    /* LSB bits in rounding (shift to right)	*/
+    { 0x0100000000000000LL, { .fl = 0x0.800000p+57 } },
+    { 0x0100000100000000LL, { .fl = 0x0.800000p+57 } },
+    { 0x0100000100000001LL, { .fl = 0x0.800001p+57 } },
+    { 0x0100000100000100LL, { .fl = 0x0.800001p+57 } },
+    { 0x0100000100010000LL, { .fl = 0x0.800001p+57 } },
+    { 0x0100000101000000LL, { .fl = 0x0.800001p+57 } },
+    { 0x0100000200000000LL, { .fl = 0x0.800001p+57 } },
+    { 0x0100000200000001LL, { .fl = 0x0.800001p+57 } },
+
+    { 0x01000002ffffffffLL, { .fl = 0x0.800001p+57 } },
+    { 0x0100000300000000LL, { .fl = 0x0.800002p+57 } },
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d] (%#llx):  %#lx (%g)\n",
+             index - 1, t[index-1].x, v.lo, v.fl);
+#endif
+    exit (index ? index : -1);
+}
+
+int main ()
+{
+    long long x;
+    union lofl_u z;
+    int i;
+    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	x = pgm_read_qword (& t[i].x);
+	z.lo = pgm_read_dword (& t[i].z);
+	v.fl = x;
+	if (v.lo != z.lo)
+	    x_exit (i+1);
+    }
+    return 0;
+}
diff --git a/tests/simulate/fplib/llng2flt-500.c b/tests/simulate/fplib/llng2flt-500.c
new file mode 100644
index 0000000..b7af304
--- /dev/null
+++ b/tests/simulate/fplib/llng2flt-500.c
@@ -0,0 +1,575 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of conversion: long long --> float.  Random cases.
+   $Id$
+ */
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+volatile union lofl_u v = { 1 };
+
+PROGMEM const struct {		/* Table of test cases:  x, (float)x	*/
+    long long x;
+    long z;
+} t[] = {
+
+    /* x, (float)x	*/
+    { 0x73139249c5f2f7a7LL,0x5ee62725 }, /*   1:  8292132184470517671  8.2921322e+18 */
+    { 0x04912eec7277fc54LL,0x5c9225de }, /*   2:   329095840842382420  3.2909584e+17 */
+    { 0xf3bf8947f381a2ebLL,0xdd44076c }, /*   3:  -882836059820285205 -8.8283606e+17 */
+    { 0x0bb4570a3d2fa2eaLL,0x5d3b4571 }, /*   4:   843394731712946922  8.4339473e+17 */
+    { 0x248a9e5c067e28f2LL,0x5e122a79 }, /*   5:  2633091050234587378  2.6330911e+18 */
+    { 0xfae5032e14762494LL,0xdca35f9a }, /*   6:  -367884298114161516 -3.6788430e+17 */
+    { 0x01ddf434dd4130f8LL,0x5beefa1a }, /*   7:   134532071778496760  1.3453207e+17 */
+    { 0x98aad99b96055278LL,0xdeceaa4d }, /*   8: -7445899771643604360 -7.4458998e+18 */
+    { 0x7f6f9449977cd7caLL,0x5efedf29 }, /*   9:  9182721209026795466  9.1827212e+18 */
+    { 0x1639f7394891f222LL,0x5db1cfba }, /*  10:  1601582967909642786  1.6015830e+18 */
+    { 0x0207b73bdf6e4272LL,0x5c01edcf }, /*  11:   146286980692329074  1.4628698e+17 */
+    { 0x0012fbf54e6fc843LL,0x5997dfaa }, /*  12:     5343580582299715  5.3435806e+15 */
+    { 0xfff7dead7aae0899LL,0xd9021528 }, /*  13:    -2288438121461607 -2.2884381e+15 */
+    { 0xffda8be6784dcae8LL,0xda15d066 }, /*  14:   -10542227137901848 -1.0542227e+16 */
+    { 0x7a5fa76361aca718LL,0x5ef4bf4f }, /*  15:  8817950640697026328  8.8179506e+18 */
+    { 0x0044ca3f5ba61501LL,0x5a89947f }, /*  16:    19362671885686017  1.9362672e+16 */
+    { 0x00001e45fa610873LL,0x55f22fd3 }, /*  17:       33285902239859  3.3285902e+13 */
+    { 0xffe18c60d60ab9e8LL,0xd9f39cf9 }, /*  18:    -8571376742254104 -8.5713767e+15 */
+    { 0xffffc59e04ef8e50LL,0xd66987ec }, /*  19:      -64192498397616 -6.4192498e+13 */
+    { 0x012cf99edf5caf7cLL,0x5b967ccf }, /*  20:    84716953760739196  8.4716954e+16 */
+    { 0x35c79a46c519e9c6LL,0x5e571e69 }, /*  21:  3875235633120799174  3.8752356e+18 */
+    { 0x0990c335c829c05fLL,0x5d190c33 }, /*  22:   689265378746548319  6.8926538e+17 */
+    { 0xf37c136c61b97044LL,0xdd483ec9 }, /*  23:  -901824469164003260 -9.0182447e+17 */
+    { 0x003b95b9d5e0aadaLL,0x5a6e56e7 }, /*  24:    16771649015687898  1.6771649e+16 */
+    { 0x0adc420955716e0cLL,0x5d2dc421 }, /*  25:   782573043111259660  7.8257304e+17 */
+    { 0xfd708b8f6d8d145bLL,0xdc23dd1c }, /*  26:  -184494136587643813 -1.8449414e+17 */
+    { 0x003292831590e074LL,0x5a4a4a0c }, /*  27:    14234840535720052  1.4234841e+16 */
+    { 0x0000000c6e1d1945LL,0x5146e1d2 }, /*  28:          53387008325  5.3387008e+10 */
+    { 0xfffffd44c2ce1751LL,0xd42ecf4c }, /*  29:       -3003208820911 -3.0032088e+12 */
+    { 0xd785c1466d58603dLL,0xde21e8fb }, /*  30: -2916712675426148291 -2.9167127e+18 */
+    { 0x000000007309453bLL,0x4ee6128a }, /*  31:           1929987387  1.9299874e+09 */
+    { 0xfffc81db11a53edcLL,0xd85f893c }, /*  32:     -983122012979492 -9.8312201e+14 */
+    { 0xfff5532cfca5f3e6LL,0xd92acd30 }, /*  33:    -3004772061416474 -3.0047721e+15 */
+    { 0x0000037f0ee9758bLL,0x545fc3ba }, /*  34:        3844245910923  3.8442459e+12 */
+    { 0x013087993aa0dc6bLL,0x5b9843cd }, /*  35:    85717485103406187  8.5717485e+16 */
+    { 0xffff232d09c02607LL,0xd75cd2f6 }, /*  36:     -242798632622585 -2.4279863e+14 */
+    { 0x00024d86f1acbc56LL,0x581361bc }, /*  37:      648191929007190  6.4819193e+14 */
+    { 0xfffffffbd8d035f4LL,0xd084e5f9 }, /*  38:         -17837312524 -1.7837313e+10 */
+    { 0xff58d6b7cc259226LL,0xdb272948 }, /*  39:   -47051711195016666 -4.7051711e+16 */
+    { 0xffffff54bee5653bLL,0xd32b411b }, /*  40:        -735531670213 -7.3553167e+11 */
+    { 0xffffa5fa281d5417LL,0xd6b40bb0 }, /*  41:      -98981143292905 -9.8981143e+13 */
+    { 0xfebb43248216f789LL,0xdba25e6e }, /*  42:   -91405543350536311 -9.1405543e+16 */
+    { 0xfffffffffff1e661LL,0xc96199f0 }, /*  43:              -924063 -9.2406300e+05 */
+    { 0xffffe75a332520c9LL,0xd5c52e67 }, /*  44:      -27100385566519 -2.7100386e+13 */
+    { 0xfffffffff226823dLL,0xcd5d97dc }, /*  45:           -232357315 -2.3235732e+08 */
+    { 0xf942323d76ffa939LL,0xdcd7b9b8 }, /*  46:  -485770570231731911 -4.8577057e+17 */
+    { 0x0000000000c9e917LL,0x4b49e917 }, /*  47:             13232407  1.3232407e+07 */
+    { 0xfffffffffffd6d45LL,0xc824aec0 }, /*  48:              -168635 -1.6863500e+05 */
+    { 0xfffffe5247c6440aLL,0xd3d6dc1d }, /*  49:       -1845631761398 -1.8456318e+12 */
+    { 0x0000dbcbdae3c8ceLL,0x575bcbdb }, /*  50:      241668597205198  2.4166860e+14 */
+    { 0xfa6371227fa31f04LL,0xdcb391dc }, /*  51:  -404355148548989180 -4.0435515e+17 */
+    { 0xfea8bff387d3ade1LL,0xdbaba006 }, /*  52:   -96616339311710751 -9.6616339e+16 */
+    { 0xfefcec389b96502eLL,0xdb8189e4 }, /*  53:   -72923766072127442 -7.2923766e+16 */
+    { 0xffff320a86e84d78LL,0xd74df579 }, /*  54:     -226454182277768 -2.2645418e+14 */
+    { 0xffffffffff4c817aLL,0xcb337e86 }, /*  55:            -11763334 -1.1763334e+07 */
+    { 0x000002f4bdd8340cLL,0x543d2f76 }, /*  56:        3250180338700  3.2501803e+12 */
+    { 0xfffffffffffceaf2LL,0xc8454380 }, /*  57:              -201998 -2.0199800e+05 */
+    { 0x000000102f2363f0LL,0x5181791b }, /*  58:          69510325232  6.9510325e+10 */
+    { 0x000000000079eabeLL,0x4af3d57c }, /*  59:              7989950  7.9899500e+06 */
+    { 0xffc847001b88aaacLL,0xda5ee400 }, /*  60:   -15684532908283220 -1.5684533e+16 */
+    { 0x3a203d701f921cbcLL,0x5e6880f6 }, /*  61:  4188415205229862076  4.1884152e+18 */
+    { 0x15262d8b264b01c9LL,0x5da9316c }, /*  62:  1523955599577645513  1.5239556e+18 */
+    { 0xe453c9f414234618LL,0xdddd61b0 }, /*  63: -1994028159847938536 -1.9940282e+18 */
+    { 0x21371377dfcdc5adLL,0x5e04dc4e }, /*  64:  2393403132547548589  2.3934031e+18 */
+    { 0xfaf7244e1b619f11LL,0xdca11b76 }, /*  65:  -362781327094604015 -3.6278133e+17 */
+    { 0x97af86b51fa11752LL,0xded0a0f3 }, /*  66: -7516641140580214958 -7.5166411e+18 */
+    { 0xfe5c71fe5b151b2aLL,0xdbd1c701 }, /*  67:  -118094152954733782 -1.1809415e+17 */
+    { 0x053659a9693ff906LL,0x5ca6cb35 }, /*  68:   375586203082160390  3.7558620e+17 */
+    { 0x0082165c926c2ec0LL,0x5b02165d }, /*  69:    36616333821750976  3.6616334e+16 */
+    { 0x23252d4535abc4b0LL,0x5e0c94b5 }, /*  70:  2532480140742214832  2.5324801e+18 */
+    { 0x00032757b2d79982LL,0x5849d5ed }, /*  71:      887682546243970  8.8768255e+14 */
+    { 0xfd8c047132785c2dLL,0xdc1cfee4 }, /*  72:  -176761401149727699 -1.7676140e+17 */
+    { 0xffcd85041b20f2d3LL,0xda49ebf0 }, /*  73:   -14208971130735917 -1.4208971e+16 */
+    { 0x04993bc0e65731ddLL,0x5c932778 }, /*  74:   331361747272675805  3.3136175e+17 */
+    { 0x00012a3d0e643058LL,0x57951e87 }, /*  75:      327916699529304  3.2791670e+14 */
+    { 0xfe2023d42f15a78cLL,0xdbefee16 }, /*  76:  -135068594591127668 -1.3506859e+17 */
+    { 0xff8ef8e6be143ea3LL,0xdae20e33 }, /*  77:   -31814477429850461 -3.1814477e+16 */
+    { 0x0098bb420b5044a1LL,0x5b18bb42 }, /*  78:    42990088792065185  4.2990089e+16 */
+    { 0xfff9d27e2e8d8fafLL,0xd8c5b03a }, /*  79:    -1738885448233041 -1.7388854e+15 */
+    { 0x014b53bce0ea8710LL,0x5ba5a9de }, /*  80:    93260287983650576  9.3260288e+16 */
+    { 0xffff49fd1bfe11d1LL,0xd73602e4 }, /*  81:     -200123531521583 -2.0012353e+14 */
+    { 0xfffff51b173f1749LL,0xd52e4e8c }, /*  82:      -11978273777847 -1.1978274e+13 */
+    { 0xfff8f94f827e6cffLL,0xd8e0d610 }, /*  83:    -1977679926629121 -1.9776799e+15 */
+    { 0x000256b3d1153997LL,0x5815acf4 }, /*  84:      658280260385175  6.5828026e+14 */
+    { 0xf7dcaf3ae494bb60LL,0xdd02350c }, /*  85:  -586401183987090592 -5.8640118e+17 */
+    { 0x00001d570866c5a1LL,0x55eab843 }, /*  86:       32259640313249  3.2259640e+13 */
+    { 0x000f7da754cbeaf9LL,0x5977da75 }, /*  87:     4360282286320377  4.3602823e+15 */
+    { 0xfdcb84e4e4ec229dLL,0xdc0d1ec7 }, /*  88:  -158887243213430115 -1.5888724e+17 */
+    { 0xffd9e12e8a0db6e2LL,0xda187b46 }, /*  89:   -10729934090815774 -1.0729934e+16 */
+    { 0xfff8315777d95c95LL,0xd8f9d511 }, /*  90:    -2197548071035755 -2.1975481e+15 */
+    { 0xffffe81f83aea56fLL,0xd5bf03e3 }, /*  91:      -26252925819537 -2.6252926e+13 */
+    { 0xffffffef8e32290bLL,0xd1838e6f }, /*  92:         -70628792053 -7.0628792e+10 */
+    { 0x000000b12c2f63c0LL,0x53312c2f }, /*  93:         760950514624  7.6095051e+11 */
+    { 0xff718ef14806ee49LL,0xdb0e710f }, /*  94:   -40093754722947511 -4.0093755e+16 */
+    { 0x00338f67d7a87c63LL,0x5a4e3d9f }, /*  95:    14512899974790243  1.4512900e+16 */
+    { 0xfffffe5295ce7f4cLL,0xd3d6b519 }, /*  96:       -1844322599092 -1.8443226e+12 */
+    { 0x0002b49d999163b7LL,0x582d2766 }, /*  97:      761538932728759  7.6153893e+14 */
+    { 0x000000fafa3eb6b9LL,0x537afa3f }, /*  98:        1077940238009  1.0779402e+12 */
+    { 0xfffffffffd194f1dLL,0xcc39ac39 }, /*  99:            -48672995 -4.8672995e+07 */
+    { 0xe3bb4b0d40919202LL,0xdde225a8 }, /* 100: -2036951886165077502 -2.0369519e+18 */
+    { 0x06a7813e651da36cLL,0x5cd4f028 }, /* 101:   479493990322643820  4.7949399e+17 */
+    { 0x000035c40cbaec54LL,0x56571033 }, /* 102:       59116143438932  5.9116143e+13 */
+    { 0x000006b4730bd70dLL,0x54d68e61 }, /* 103:        7372094035725  7.3720940e+12 */
+    { 0x0000186d7381ff65LL,0x55c36b9c }, /* 104:       26858368401253  2.6858368e+13 */
+    { 0x01a3dd2cb18b29b3LL,0x5bd1ee96 }, /* 105:   118181199268751795  1.1818120e+17 */
+    { 0xfffffffff774fb59LL,0xcd08b04a }, /* 106:           -143328423 -1.4332842e+08 */
+    { 0xfffffffe377dee34LL,0xcfe44109 }, /* 107:          -7658934732 -7.6589347e+09 */
+    { 0x00000000000da5a7LL,0x495a5a70 }, /* 108:               894375  8.9437500e+05 */
+    { 0x000000000000d2a4LL,0x4752a400 }, /* 109:                53924  5.3924000e+04 */
+    { 0xffd5de6ecf6ed2acLL,0xda288645 }, /* 110:   -11858856490642772 -1.1858856e+16 */
+    { 0x0000002e0aff0e17LL,0x52382bfc }, /* 111:         197752983063  1.9775298e+11 */
+    { 0xffffffffff5a8770LL,0xcb257890 }, /* 112:            -10844304 -1.0844304e+07 */
+    { 0x000000000860fc3bLL,0x4d060fc4 }, /* 113:            140573755  1.4057376e+08 */
+    { 0xfffffffffff18bdcLL,0xc9674240 }, /* 114:              -947236 -9.4723600e+05 */
+    { 0x000000000000a5a2LL,0x4725a200 }, /* 115:                42402  4.2402000e+04 */
+    { 0xfffffff71a0fb62bLL,0xd10e5f05 }, /* 116:         -38217468373 -3.8217468e+10 */
+    { 0xffffffff92807c51LL,0xcedaff07 }, /* 117:          -1837073327 -1.8370733e+09 */
+    { 0xfff33821c01f8f56LL,0xd94c7de4 }, /* 118:    -3597457088868522 -3.5974571e+15 */
+    { 0x0000000001b731a1LL,0x4bdb98d0 }, /* 119:             28783009  2.8783009e+07 */
+    { 0xfffffffff9c5a62bLL,0xccc74b3b }, /* 120:           -104487381 -1.0448738e+08 */
+    { 0xdefa1192226a2668LL,0xde0417ba }, /* 121: -2379570133771606424 -2.3795701e+18 */
+    { 0x8238d9fcd6b1ed9bLL,0xdefb8e4c }, /* 122: -9063254570126152293 -9.0632546e+18 */
+    { 0x3b0ee984d50a16f9LL,0x5e6c3ba6 }, /* 123:  4255595454630860537  4.2555955e+18 */
+    { 0x7b522b79dddca175LL,0x5ef6a457 }, /* 124:  8886212817168671093  8.8862128e+18 */
+    { 0x1ea55f28cdd2a7caLL,0x5df52af9 }, /* 125:  2208275821151561674  2.2082758e+18 */
+    { 0x1411bee8970bcc52LL,0x5da08df7 }, /* 126:  1446146861538462802  1.4461469e+18 */
+    { 0xe360e14281cb4bf1LL,0xdde4f8f6 }, /* 127: -2062400953574011919 -2.0624010e+18 */
+    { 0xf211470296ec2d99LL,0xdd5eeb90 }, /* 128: -1003943165479342695 -1.0039432e+18 */
+    { 0xf7e2ab679be11269LL,0xdd01d54a }, /* 129:  -584716540119543191 -5.8471654e+17 */
+    { 0x0589bf28a029c6a7LL,0x5cb137e5 }, /* 130:   399060223205688999  3.9906022e+17 */
+    { 0x0002b002273ae716LL,0x582c008a }, /* 131:      756473248016150  7.5647325e+14 */
+    { 0x05b4976baf954591LL,0x5cb692ed }, /* 132:   411119954760648081  4.1111995e+17 */
+    { 0x7ea897c6b1286a18LL,0x5efd5130 }, /* 133:  9126711524497844760  9.1267115e+18 */
+    { 0xfedf7900633660acLL,0xdb904380 }, /* 134:   -81213225697910612 -8.1213226e+16 */
+    { 0x030b70caa4561c52LL,0x5c42dc33 }, /* 135:   219393022500412498  2.1939302e+17 */
+    { 0x0767e75de3f0a2d2LL,0x5cecfcec }, /* 136:   533649471308866258  5.3364947e+17 */
+    { 0x0012b0b7a4433ea1LL,0x599585bd }, /* 137:     5260852362165921  5.2608524e+15 */
+    { 0x02aef5ae4a35ed11LL,0x5c2bbd6c }, /* 138:   193361962941672721  1.9336196e+17 */
+    { 0xede8acc6ab9b5b6eLL,0xdd90ba9a }, /* 139: -1303602122841171090 -1.3036021e+18 */
+    { 0x00030e44a2c4bb0aLL,0x58439129 }, /* 140:      860112881498890  8.6011288e+14 */
+    { 0x0034ea8dd4ae3579LL,0x5a53aa37 }, /* 141:    14894593668429177  1.4894594e+16 */
+    { 0xfffebd19d06acc8cLL,0xd7a17318 }, /* 142:     -355031384929140 -3.5503138e+14 */
+    { 0xfff215eee39c88a9LL,0xd95ea112 }, /* 143:    -3916533908862807 -3.9165339e+15 */
+    { 0xfffffa13553b99f7LL,0xd4bd9559 }, /* 144:       -6514035418633 -6.5140354e+12 */
+    { 0xffc8e01b5fd7f064LL,0xda5c7f93 }, /* 145:   -15516190519070620 -1.5516191e+16 */
+    { 0x03e1610b05ebed12LL,0x5c785843 }, /* 146:   279611351845563666  2.7961135e+17 */
+    { 0xffff1304711e79daLL,0xd76cfb8f }, /* 147:     -260565178091046 -2.6056518e+14 */
+    { 0x00141a1198c9a26cLL,0x59a0d08d }, /* 148:     5658162414330476  5.6581624e+15 */
+    { 0x8d5bbd723a3d620cLL,0xdee54885 }, /* 149: -8260800793180020212 -8.2608008e+18 */
+    { 0x46ed7b6949fdeefeLL,0x5e8ddaf7 }, /* 150:  5110876844278542078  5.1108768e+18 */
+    { 0x007a7904d0f4536fLL,0x5af4f20a }, /* 151:    34473008751203183  3.4473009e+16 */
+    { 0xfffffffcad017c3bLL,0xd054bfa1 }, /* 152:         -14277313477 -1.4277313e+10 */
+    { 0x0000000534a1cc2bLL,0x50a6943a }, /* 153:          22357855275  2.2357855e+10 */
+    { 0x0000036a1a20c8f7LL,0x545a8688 }, /* 154:        3754239772919  3.7542398e+12 */
+    { 0xffffbd0b0f843ce7LL,0xd685e9e1 }, /* 155:      -73619774096153 -7.3619774e+13 */
+    { 0xffffff7876dc4294LL,0xd3078924 }, /* 156:        -582121405804 -5.8212141e+11 */
+    { 0x033bb8de809972b9LL,0x5c4eee38 }, /* 157:   232983071519503033  2.3298307e+17 */
+    { 0xf10aee962b9925ceLL,0xdd6f5117 }, /* 158: -1077786832057850418 -1.0777868e+18 */
+    { 0xeae02ecf97a6954bLL,0xdda8fe8a }, /* 159: -1522165204913842869 -1.5221652e+18 */
+    { 0x0000000008f833beLL,0x4d0f833c }, /* 160:            150483902  1.5048390e+08 */
+    { 0x00000020f6b48594LL,0x5203dad2 }, /* 161:         141577979284  1.4157798e+11 */
+    { 0xfffffff74a93061fLL,0xd10b56d0 }, /* 162:         -37403556321 -3.7403556e+10 */
+    { 0xfffffff81f5e5f06LL,0xd0fc1434 }, /* 163:         -33833459962 -3.3833460e+10 */
+    { 0x004d1b41307c62a8LL,0x5a9a3682 }, /* 164:    21703540007002792  2.1703540e+16 */
+    { 0x002b4220d56924baLL,0x5a2d0883 }, /* 165:    12176132785382586  1.2176133e+16 */
+    { 0x00000000c1442a79LL,0x4f41442a }, /* 166:           3242470009  3.2424700e+09 */
+    { 0xfffffffffea7b53eLL,0xcbac2561 }, /* 167:            -22563522 -2.2563522e+07 */
+    { 0xfffffffffe04b92bLL,0xcbfda36a }, /* 168:            -33244885 -3.3244885e+07 */
+    { 0xfffffffffaa4d8f2LL,0xccab64e2 }, /* 169:            -89859854 -8.9859854e+07 */
+    { 0x0000000000030907LL,0x484241c0 }, /* 170:               198919  1.9891900e+05 */
+    { 0x000000000009b1c9LL,0x491b1c90 }, /* 171:               635337  6.3533700e+05 */
+    { 0xffc276a00ee7c4d1LL,0xda762580 }, /* 172:   -17321018739145519 -1.7321019e+16 */
+    { 0xfffffffff7dbd27eLL,0xcd0242d8 }, /* 173:           -136588674 -1.3658867e+08 */
+    { 0x000000006c0c7c81LL,0x4ed818f9 }, /* 174:           1812757633  1.8127576e+09 */
+    { 0xfffdffedad7295beLL,0xd8000495 }, /* 175:     -563028647832130 -5.6302865e+14 */
+    { 0x000d6697d5702134LL,0x5956697d }, /* 176:     3771977004228916  3.7719770e+15 */
+    { 0x0000000000002b20LL,0x462c8000 }, /* 177:                11040  1.1040000e+04 */
+    { 0x000000000000034bLL,0x4452c000 }, /* 178:                  843  8.4300000e+02 */
+    { 0xfffffffffffce2edLL,0xc84744c0 }, /* 179:              -204051 -2.0405100e+05 */
+    { 0x00c9a36fae7b5122LL,0x5b49a370 }, /* 180:    56756170382856482  5.6756170e+16 */
+    { 0x37f4cdf40882039eLL,0x5e5fd338 }, /* 181:  4032074014401889182  4.0320740e+18 */
+    { 0x2d38f09a64014a75LL,0x5e34e3c2 }, /* 182:  3258618876295989877  3.2586189e+18 */
+    { 0xe14ee9b434df2dc5LL,0xddf588b2 }, /* 183: -2211573406801908283 -2.2115734e+18 */
+    { 0x0e61df340bad6062LL,0x5d661df3 }, /* 184:  1036354803899129954  1.0363548e+18 */
+    { 0xe682b04bc4a810b7LL,0xddcbea7e }, /* 185: -1836711858545356617 -1.8367119e+18 */
+    { 0x1e17b36ec3757ea2LL,0x5df0bd9b }, /* 186:  2168399033909214882  2.1683990e+18 */
+    { 0x016ec3065b11a1efLL,0x5bb76183 }, /* 187:   103234273541202415  1.0323427e+17 */
+    { 0x0008898b3eeef7a0LL,0x590898b4 }, /* 188:     2403030962993056  2.4030310e+15 */
+    { 0x00c73706a3e1cc9cLL,0x5b473707 }, /* 189:    56074022024236188  5.6074022e+16 */
+    { 0xfc8a36bd6987f45bLL,0xdc5d7251 }, /* 190:  -249326642218404773 -2.4932664e+17 */
+    { 0x001ce43e7af4f92aLL,0x59e721f4 }, /* 191:     8132256349878570  8.1322563e+15 */
+    { 0xf989ceb229a7fce2LL,0xdccec62a }, /* 192:  -465613821857760030 -4.6561382e+17 */
+    { 0x05a6cb0699964db0LL,0x5cb4d961 }, /* 193:   407236045530615216  4.0723605e+17 */
+    { 0x0004bcd6ba2d2cb7LL,0x58979ad7 }, /* 194:     1333530339388599  1.3335303e+15 */
+    { 0xffea98e57462b99cLL,0xd9ab38d4 }, /* 195:    -6024338220074596 -6.0243382e+15 */
+    { 0x00f50a2176cbb484LL,0x5b750a21 }, /* 196:    68972508137370756  6.8972508e+16 */
+    { 0x00002955a662f104LL,0x5625569a }, /* 197:       45447840461060  4.5447840e+13 */
+    { 0xfffff1c188d0cdceLL,0xd563e773 }, /* 198:      -15661450342962 -1.5661450e+13 */
+    { 0xfe6cba4690b8a05cLL,0xdbc9a2dd }, /* 199:  -113511078352609188 -1.1351108e+17 */
+    { 0x0074a60a959df41cLL,0x5ae94c15 }, /* 200:    32833661688476700  3.2833662e+16 */
+    { 0x02f232ff267895d7LL,0x5c3c8cc0 }, /* 201:   212288203883320791  2.1228820e+17 */
+    { 0x01d46c31fd509e5cLL,0x5bea3619 }, /* 202:   131849251059703388  1.3184925e+17 */
+    { 0xfff986c239429335LL,0xd8cf27b9 }, /* 203:    -1822156094532811 -1.8221561e+15 */
+    { 0x0000049bb5a2392fLL,0x549376b4 }, /* 204:        5066813749551  5.0668137e+12 */
+    { 0xfffef5e8e2e9dcc1LL,0xd7850b8f }, /* 205:     -292569365226303 -2.9256937e+14 */
+    { 0xffabafef6a4b867fLL,0xdaa8a021 }, /* 206:   -23731930205026689 -2.3731930e+16 */
+    { 0x00000064dcf30162LL,0x52c9b9e6 }, /* 207:         433203642722  4.3320364e+11 */
+    { 0x000005536fa22f97LL,0x54aa6df4 }, /* 208:        5855913324439  5.8559133e+12 */
+    { 0x0005dfec1dce7283LL,0x58bbfd84 }, /* 209:     1653580088898179  1.6535801e+15 */
+    { 0xffffffaa8a5d7926LL,0xd2aaeb45 }, /* 210:        -367045805786 -3.6704581e+11 */
+    { 0xfffffffab747aaddLL,0xd0a9170b }, /* 211:         -22694876451 -2.2694876e+10 */
+    { 0x00000f53b337d7ddLL,0x55753b33 }, /* 212:       16852163483613  1.6852163e+13 */
+    { 0x000164d5f5529fc2LL,0x57b26afb }, /* 213:      392345083355074  3.9234508e+14 */
+    { 0xffffff7e11eeee13LL,0xd301ee11 }, /* 214:        -558044877293 -5.5804488e+11 */
+    { 0x00000004e7d1d920LL,0x509cfa3b }, /* 215:          21069158688  2.1069159e+10 */
+    { 0xfffff2569ecac795LL,0xd55a9613 }, /* 216:      -15021131511915 -1.5021132e+13 */
+    { 0x000000f997981055LL,0x53799798 }, /* 217:        1071990181973  1.0719902e+12 */
+    { 0xffe7df0d7ff63ec6LL,0xd9c10794 }, /* 218:    -6791625343353146 -6.7916253e+15 */
+    { 0x020fff13db536735LL,0x5c03ffc5 }, /* 219:   148617773475653429  1.4861777e+17 */
+    { 0x0000000000e1c797LL,0x4b61c797 }, /* 220:             14796695  1.4796695e+07 */
+    { 0x00001385e1cd8469LL,0x559c2f0e }, /* 221:       21465739920489  2.1465740e+13 */
+    { 0xffffffffff1495beLL,0xcb6b6a42 }, /* 222:            -15428162 -1.5428162e+07 */
+    { 0xffffffffc55e3bfbLL,0xce6a8710 }, /* 223:           -983680005 -9.8368000e+08 */
+    { 0x000000ffb32b15f4LL,0x537fb32b }, /* 224:        1098222605812  1.0982226e+12 */
+    { 0x0000000091f16f62LL,0x4f11f16f }, /* 225:           2448519010  2.4485190e+09 */
+    { 0xfffffffffff8d6bdLL,0xc8e52860 }, /* 226:              -469315 -4.6931500e+05 */
+    { 0xfffffff69fea54dcLL,0xd116015b }, /* 227:         -40266738468 -4.0266738e+10 */
+    { 0xffff6abe3a2344e1LL,0xd71541c6 }, /* 228:     -164109724990239 -1.6410972e+14 */
+    { 0x000f4b7d3e70dda9LL,0x5974b7d4 }, /* 229:     4305125941239209  4.3051259e+15 */
+    { 0x00000003209036d0LL,0x5048240e }, /* 230:          13431224016  1.3431224e+10 */
+    { 0x00789ef19fdd9cfdLL,0x5af13de3 }, /* 231:    33951757811686653  3.3951758e+16 */
+    { 0xfffffffffffffb7cLL,0xc4908000 }, /* 232:                -1156 -1.1560000e+03 */
+    { 0xffffffffffea886cLL,0xc9abbca0 }, /* 233:             -1406868 -1.4068680e+06 */
+    { 0xffffffffffffffa1LL,0xc2be0000 }, /* 234:                  -95 -9.5000000e+01 */
+    { 0xffffffffffffffbdLL,0xc2860000 }, /* 235:                  -67 -6.7000000e+01 */
+    { 0xffffffff96abe445LL,0xced2a837 }, /* 236:          -1767119803 -1.7671198e+09 */
+    { 0xffffffffffeb764bLL,0xc9a44da8 }, /* 237:             -1345973 -1.3459730e+06 */
+    { 0x0078b8ca448eff80LL,0x5af17195 }, /* 238:    33980176078405504  3.3980176e+16 */
+    { 0xffffffffe68f7d72LL,0xcdcb8414 }, /* 239:           -426803854 -4.2680385e+08 */
+    { 0xfffffff7ba016b76LL,0xd1045fe9 }, /* 240:         -35534050442 -3.5534050e+10 */
+    { 0x9048c71ac3b769aaLL,0xdedf6e72 }, /* 241: -8049965416158107222 -8.0499654e+18 */
+    { 0x273611fe4a60b1b3LL,0x5e1cd848 }, /* 242:  2825465600088781235  2.8254656e+18 */
+    { 0x0ceed5f6fba00f46LL,0x5d4eed5f }, /* 243:   931917429672513350  9.3191743e+17 */
+    { 0xd422ebcd47357477LL,0xde2f7451 }, /* 244: -3160704721565158281 -3.1607047e+18 */
+    { 0x0c831f32a4f4313eLL,0x5d4831f3 }, /* 245:   901598652780523838  9.0159865e+17 */
+    { 0x1eb73e29a0755eb7LL,0x5df5b9f1 }, /* 246:  2213306090382515895  2.2133061e+18 */
+    { 0x0223be126546bb9bLL,0x5c08ef85 }, /* 247:   154175798478551963  1.5417580e+17 */
+    { 0x0553b7a6f0123e6dLL,0x5caa76f5 }, /* 248:   383852320876805741  3.8385232e+17 */
+    { 0xff88fe251575cd08LL,0xdaee03b6 }, /* 249:   -33497561977991928 -3.3497562e+16 */
+    { 0x00367b80df176a49LL,0x5a59ee03 }, /* 250:    15335442171259465  1.5335442e+16 */
+    { 0x00e21a5b03cf2ebdLL,0x5b621a5b }, /* 251:    63642322944863933  6.3642323e+16 */
+    { 0x00014d0335cca982LL,0x57a6819b }, /* 252:      366151159556482  3.6615116e+14 */
+    { 0xce3a1d02a6b30001LL,0xde47178c }, /* 253: -3586522256023289855 -3.5865223e+18 */
+    { 0x01114f83399e2b65LL,0x5b88a7c2 }, /* 254:    76930093667986277  7.6930094e+16 */
+    { 0xffbefb4f30aae3a2LL,0xda820962 }, /* 255:   -18301030925409374 -1.8301031e+16 */
+    { 0x061ae89fb9436c99LL,0x5cc35d14 }, /* 256:   439919686327692441  4.3991969e+17 */
+    { 0x2cf622ec55595e21LL,0x5e33d88c }, /* 257:  3239815380379196961  3.2398154e+18 */
+    { 0x00002484221099edLL,0x56121088 }, /* 258:       40149925796333  4.0149926e+13 */
+    { 0x0004f1ea1e7031dbLL,0x589e3d44 }, /* 259:     1391887742153179  1.3918877e+15 */
+    { 0x0000006ed516546eLL,0x52ddaa2d }, /* 260:         476021412974  4.7602141e+11 */
+    { 0x00006bd91833fd5cLL,0x56d7b230 }, /* 261:      118580158135644  1.1858016e+14 */
+    { 0xfffb85a367ca39e0LL,0xd88f4b93 }, /* 262:    -1260438016083488 -1.2604380e+15 */
+    { 0xff909baf66eeab0bLL,0xdadec8a1 }, /* 263:   -31354019743094005 -3.1354020e+16 */
+    { 0x002f2377b94fe30dLL,0x5a3c8ddf }, /* 264:    13268321022501645  1.3268321e+16 */
+    { 0xffffe5444bfc3c5fLL,0xd5d5dda0 }, /* 265:      -29393481352097 -2.9393481e+13 */
+    { 0x000001b84546def0LL,0x53dc22a3 }, /* 266:        1890947882736  1.8909479e+12 */
+    { 0x0000015f4ac0c5e9LL,0x53afa560 }, /* 267:        1508787668457  1.5087877e+12 */
+    { 0xf3926a2b56d25639LL,0xdd46d95d }, /* 268:  -895536641520544199 -8.9553664e+17 */
+    { 0xfff8dd096a38d438LL,0xd8e45ed3 }, /* 269:    -2008767307131848 -2.0087673e+15 */
+    { 0x0004cfe6d2d18ab3LL,0x5899fcda }, /* 270:     1354490193218227  1.3544902e+15 */
+    { 0x0001e7b1c61b71aeLL,0x57f3d8e3 }, /* 271:      536225695625646  5.3622570e+14 */
+    { 0xfffffef4e61d4548LL,0xd3858cf1 }, /* 272:       -1147190557368 -1.1471906e+12 */
+    { 0x000000070f2ee4c8LL,0x50e1e5dd }, /* 273:          30319502536  3.0319503e+10 */
+    { 0xfff70b90a44f8220LL,0xd90f46f6 }, /* 274:    -2520558930525664 -2.5205589e+15 */
+    { 0x01c00804b1a00796LL,0x5be00402 }, /* 275:   126109605819320214  1.2610961e+17 */
+    { 0x00000000193889ecLL,0x4dc9c44f }, /* 276:            423135724  4.2313572e+08 */
+    { 0x00000001fe016fb7LL,0x4fff00b8 }, /* 277:           8556474295  8.5564743e+09 */
+    { 0xfff37eed31d4affdLL,0xd948112d }, /* 278:    -3519617488867331 -3.5196175e+15 */
+    { 0xfffffffff3f6a805LL,0xcd409580 }, /* 279:           -201938939 -2.0193894e+08 */
+    { 0x04e0a244e9e07440LL,0x5c9c1449 }, /* 280:   351459187800175680  3.5145919e+17 */
+    { 0x07ad13832fbf44a6LL,0x5cf5a270 }, /* 281:   553119783399146662  5.5311978e+17 */
+    { 0x000000077fd8e65bLL,0x50effb1d }, /* 282:          32209692251  3.2209692e+10 */
+    { 0xffff9549575d3ffcLL,0xd6d56d51 }, /* 283:     -117332745830404 -1.1733275e+14 */
+    { 0xfe760a455af86d36LL,0xdbc4fadd }, /* 284:  -110889847828746954 -1.1088985e+17 */
+    { 0xfe8266c6a9370802LL,0xdbbecc9d }, /* 285:  -107410437674956798 -1.0741044e+17 */
+    { 0xffffffd45d3edc3cLL,0xd22e8b05 }, /* 286:        -187414160324 -1.8741416e+11 */
+    { 0x0000000006f16825LL,0x4cde2d05 }, /* 287:            116484133  1.1648413e+08 */
+    { 0x000023739cd4d39fLL,0x560dce73 }, /* 288:       38979459404703  3.8979459e+13 */
+    { 0xffffff82cb352306LL,0xd2fa6996 }, /* 289:        -537756622074 -5.3775662e+11 */
+    { 0xffffffffffffc103LL,0xc67bf400 }, /* 290:               -16125 -1.6125000e+04 */
+    { 0xffffffffffffa4edLL,0xc6b62600 }, /* 291:               -23315 -2.3315000e+04 */
+    { 0x00000019bfe4d718LL,0x51cdff27 }, /* 292:         110593627928  1.1059363e+11 */
+    { 0x000000001f3071d7LL,0x4df9838f }, /* 293:            523268567  5.2326857e+08 */
+    { 0xfd4be03e1caf88a2LL,0xdc2d07f0 }, /* 294:  -194815601486624606 -1.9481560e+17 */
+    { 0x000000009a8744deLL,0x4f1a8745 }, /* 295:           2592556254  2.5925563e+09 */
+    { 0xffffffffd81afb46LL,0xce1f9413 }, /* 296:           -669320378 -6.6932038e+08 */
+    { 0xffffffffffffff13LL,0xc36d0000 }, /* 297:                 -237 -2.3700000e+02 */
+    { 0xffffffd0764aae95LL,0xd23e26d5 }, /* 298:        -204173824363 -2.0417382e+11 */
+    { 0x0000000000fc6ec0LL,0x4b7c6ec0 }, /* 299:             16543424  1.6543424e+07 */
+    { 0x0000001fa5f2921cLL,0x51fd2f95 }, /* 300:         135928123932  1.3592812e+11 */
+    { 0xa1af481776b3234aLL,0xdebca170 }, /* 301: -6796134047065889974 -6.7961340e+18 */
+    { 0x188058136cda97f1LL,0x5dc402c1 }, /* 302:  1765507894383122417  1.7655079e+18 */
+    { 0x94213c94c45198c1LL,0xded7bd87 }, /* 303: -7772864872218257215 -7.7728649e+18 */
+    { 0xc4649aaa08ae6642LL,0xde6e6d95 }, /* 304: -4295138089523845566 -4.2951381e+18 */
+    { 0xa5a8893c9ca60b4dLL,0xdeb4aeee }, /* 305: -6509802367944881331 -6.5098024e+18 */
+    { 0x1491109e761ed3ebLL,0x5da48885 }, /* 306:  1481984025154212843  1.4819840e+18 */
+    { 0xfee7bb5080457fcaLL,0xdb8c2258 }, /* 307:   -78888514031878198 -7.8888514e+16 */
+    { 0x044258ba3e21a79aLL,0x5c884b17 }, /* 308:   306905281544169370  3.0690528e+17 */
+    { 0x101b8778c3c20de8LL,0x5d80dc3c }, /* 309:  1160670281728134632  1.1606703e+18 */
+    { 0xfa377e07c716ece0LL,0xdcb9103f }, /* 310:  -416725868638442272 -4.1672587e+17 */
+    { 0x6264a41e6f323a21LL,0x5ec4c948 }, /* 311:  7089972164009540129  7.0899722e+18 */
+    { 0xfff1d88e1f13649fLL,0xd962771e }, /* 312:    -3984019732339553 -3.9840197e+15 */
+    { 0x000a012bb42b42b0LL,0x592012bb }, /* 313:     2816036985062064  2.8160370e+15 */
+    { 0xe63baa04bc95bf6eLL,0xddce22b0 }, /* 314: -1856703484039676050 -1.8567035e+18 */
+    { 0x7bdeda4025baf866LL,0x5ef7bdb5 }, /* 315:  8925811480540674150  8.9258115e+18 */
+    { 0xfb97e3846bbe3402LL,0xdc8d038f }, /* 316:  -317535090823515134 -3.1753509e+17 */
+    { 0xff27f4a2e266d51cLL,0xdb580b5d }, /* 317:   -60811089525943012 -6.0811090e+16 */
+    { 0x0003d03522c6ee46LL,0x58740d49 }, /* 318:     1073351565438534  1.0733516e+15 */
+    { 0x002ee3e5157d9fd9LL,0x5a3b8f94 }, /* 319:    13198421976260569  1.3198422e+16 */
+    { 0xffff857ccaf7b50aLL,0xd6f5066a }, /* 320:     -134703949040374 -1.3470395e+14 */
+    { 0x026bb7bda61aa1fcLL,0x5c1aedef }, /* 321:   174435035747361276  1.7443504e+17 */
+    { 0xfdb43cbb453b0e12LL,0xdc12f0d1 }, /* 322:  -165440511287816686 -1.6544051e+17 */
+    { 0xf962ad324e64c5beLL,0xdcd3aa5a }, /* 323:  -476628178972654146 -4.7662818e+17 */
+    { 0x1008da204249d0ecLL,0x5d8046d1 }, /* 324:  1155413136506474732  1.1554131e+18 */
+    { 0x00002a36d9c35076LL,0x5628db67 }, /* 325:       46415070056566  4.6415070e+13 */
+    { 0x000001e0278f0243LL,0x53f013c8 }, /* 326:        2062247985731  2.0622480e+12 */
+    { 0xfa596da0e6ae8d6fLL,0xdcb4d24c }, /* 327:  -407173753467925137 -4.0717375e+17 */
+    { 0xd982b1f661c2c065LL,0xde19f538 }, /* 328: -2773458748746579867 -2.7734587e+18 */
+    { 0xfff8f3005a579688LL,0xd8e19ff5 }, /* 329:    -1984616972446072 -1.9846170e+15 */
+    { 0x001ea54090a67221LL,0x59f52a05 }, /* 330:     8625946024636961  8.6259460e+15 */
+    { 0xffd5abeb008b54d7LL,0xda295054 }, /* 331:   -11914398183762729 -1.1914398e+16 */
+    { 0xff2e68eadc573d4eLL,0xdb519715 }, /* 332:   -58994387180896946 -5.8994387e+16 */
+    { 0xfffd93c8e0d589fcLL,0xd81b0dc8 }, /* 333:     -681933955298820 -6.8193396e+14 */
+    { 0xffffffff80c1a18fLL,0xcefe7cbd }, /* 334:          -2134793841 -2.1347938e+09 */
+    { 0xfffd3d6a09055af0LL,0xd830a57e }, /* 335:     -776899302958352 -7.7689930e+14 */
+    { 0xff091c61d1ab2a50LL,0xdb76e39e }, /* 336:   -69493112792470960 -6.9493113e+16 */
+    { 0xfffffff98c29a38eLL,0xd0ce7acc }, /* 337:         -27713231986 -2.7713232e+10 */
+    { 0x000000005c2bf82dLL,0x4eb857f0 }, /* 338:           1546385453  1.5463855e+09 */
+    { 0x61ab3e01c262d40cLL,0x5ec3567c }, /* 339:  7037787019973678092  7.0377870e+18 */
+    { 0xffffffffff2f1c32LL,0xcb50e3ce }, /* 340:            -13689806 -1.3689806e+07 */
+    { 0x0166ac44f4a07359LL,0x5bb35622 }, /* 341:   100957453824324441  1.0095745e+17 */
+    { 0x000000004e4e3746LL,0x4e9c9c6f }, /* 342:           1313748806  1.3137488e+09 */
+    { 0xffffffc4f90e9cbbLL,0xd26c1bc6 }, /* 343:        -253519553349 -2.5351955e+11 */
+    { 0x0000390da869562bLL,0x566436a2 }, /* 344:       62730822833707  6.2730823e+13 */
+    { 0xffffffffffd20986LL,0xca37d9e8 }, /* 345:             -3012218 -3.0122180e+06 */
+    { 0xfffffffffffdc503LL,0xc80ebf40 }, /* 346:              -146173 -1.4617300e+05 */
+    { 0x06169fd6c7bf6f65LL,0x5cc2d3fb }, /* 347:   438713758538231653  4.3871376e+17 */
+    { 0xffea2e1fd7169885LL,0xd9ae8f01 }, /* 348:    -6141735200188283 -6.1417352e+15 */
+    { 0xffdfd47dbbbf2343LL,0xda00ae09 }, /* 349:    -9055037745585341 -9.0550377e+15 */
+    { 0xffffffddb56bf499LL,0xd2092a50 }, /* 350:        -147280104295 -1.4728010e+11 */
+    { 0x000757c185102befLL,0x58eaf831 }, /* 351:     2066813509708783  2.0668135e+15 */
+    { 0xffffff23965055baLL,0xd35c69b0 }, /* 352:        -946665925190 -9.4666593e+11 */
+    { 0xffffffff40fed918LL,0xcf3f0127 }, /* 353:          -3204523752 -3.2045238e+09 */
+    { 0xffffffffffffc757LL,0xc662a400 }, /* 354:               -14505 -1.4505000e+04 */
+    { 0xfffe0b6e040a2b8eLL,0xd7fa48fe }, /* 355:     -550382811337842 -5.5038281e+14 */
+    { 0x000000000000001bLL,0x41d80000 }, /* 356:                   27  2.7000000e+01 */
+    { 0xfffffffffffffcbcLL,0xc4510000 }, /* 357:                 -836 -8.3600000e+02 */
+    { 0x00000000000001acLL,0x43d60000 }, /* 358:                  428  4.2800000e+02 */
+    { 0x00000009c2608882LL,0x511c2609 }, /* 359:          41915811970  4.1915812e+10 */
+    { 0x00040261e0e953faLL,0x58804c3c }, /* 360:     1128519315313658  1.1285193e+15 */
+    { 0x17476f030124f727LL,0x5dba3b78 }, /* 361:  1677431444913583911  1.6774314e+18 */
+    { 0x3b72cdd0faf338e9LL,0x5e6dcb37 }, /* 362:  4283712493029898473  4.2837125e+18 */
+    { 0xfa74e76b9a7884d2LL,0xdcb16313 }, /* 363:  -399440017590025006 -3.9944002e+17 */
+    { 0x0db2d20afbc25ac4LL,0x5d5b2d21 }, /* 364:   987082212962884292  9.8708221e+17 */
+    { 0x02d299549d37c0abLL,0x5c34a655 }, /* 365:   203393521879072939  2.0339352e+17 */
+    { 0x052256931d47a2b6LL,0x5ca44ad2 }, /* 366:   369953309249217206  3.6995331e+17 */
+    { 0xfcc092ffb280e1b5LL,0xdc4fdb40 }, /* 367:  -234025553714159179 -2.3402555e+17 */
+    { 0x182888e65c12b77eLL,0x5dc14447 }, /* 368:  1740791778947282814  1.7407918e+18 */
+    { 0xff49882e577e9929LL,0xdb3677d2 }, /* 369:   -51360188120262359 -5.1360188e+16 */
+    { 0x0dc8eb414805a85bLL,0x5d5c8eb4 }, /* 370:   993302383448926299  9.9330238e+17 */
+    { 0x129acebe581af7b8LL,0x5d94d676 }, /* 371:  1340611156013414328  1.3406112e+18 */
+    { 0x1c96328a8e0072d4LL,0x5de4b194 }, /* 372:  2059889450237850324  2.0598895e+18 */
+    { 0x03cf9edc95f825f7LL,0x5c73e7b7 }, /* 373:   274612772538951159  2.7461277e+17 */
+    { 0xf99bab6751cfa6bbLL,0xdccc8a93 }, /* 374:  -460586076632799557 -4.6058608e+17 */
+    { 0xfe197d27438e68b3LL,0xdbf3416c }, /* 375:  -136940706067486541 -1.3694071e+17 */
+    { 0xfffec7579a1ce02dLL,0xd79c5433 }, /* 376:     -343770891755475 -3.4377089e+14 */
+    { 0x0003188ffab5699fLL,0x584623ff }, /* 377:      871431595714975  8.7143160e+14 */
+    { 0xffff12b65d3a385eLL,0xd76d49a3 }, /* 378:     -260900519266210 -2.6090052e+14 */
+    { 0xfffdc0b700e9e334LL,0xd80fd240 }, /* 379:     -632532703255756 -6.3253270e+14 */
+    { 0x0010d13d3d96ed1cLL,0x598689ea }, /* 380:     4733660583882012  4.7336606e+15 */
+    { 0xfffcb001c03f4e34LL,0xd853ff90 }, /* 381:     -932378340012492 -9.3237834e+14 */
+    { 0xfffffff7877a07f3LL,0xd1078860 }, /* 382:         -36381784077 -3.6381784e+10 */
+    { 0x0000462aad788aa0LL,0x568c555b }, /* 383:       77149112928928  7.7149113e+13 */
+    { 0xfffbda4d04465404LL,0xd884b65f }, /* 384:    -1167350564498428 -1.1673506e+15 */
+    { 0x000007411c834b34LL,0x54e82390 }, /* 385:        7976232635188  7.9762326e+12 */
+    { 0xfc8c89347c36412bLL,0xdc5cddb3 }, /* 386:  -248673020896984789 -2.4867302e+17 */
+    { 0x00d6c4f4d7112805LL,0x5b56c4f5 }, /* 387:    60452200875370501  6.0452201e+16 */
+    { 0x002e8e2f08aea76fLL,0x5a3a38bc }, /* 388:    13104181588961135  1.3104182e+16 */
+    { 0x000000026ef0d940LL,0x501bbc36 }, /* 389:          10451212608  1.0451213e+10 */
+    { 0xfffffffb9d79df5cLL,0xd08c50c4 }, /* 390:         -18832826532 -1.8832827e+10 */
+    { 0xf8dd96bb5800496dLL,0xdce44d29 }, /* 391:  -514089051070903955 -5.1408905e+17 */
+    { 0x00457d05c42df8efLL,0x5a8afa0c }, /* 392:    19559237112690927  1.9559237e+16 */
+    { 0xffee3b381b1fe17aLL,0xd98e263f }, /* 393:    -5001437421510278 -5.0014374e+15 */
+    { 0xfbf8b19e836ae767LL,0xdc80e9cc }, /* 394:  -290286881597626521 -2.9028688e+17 */
+    { 0x0000007e83950c4eLL,0x52fd072a }, /* 395:         543373462606  5.4337346e+11 */
+    { 0x000000077a47f873LL,0x50ef48ff }, /* 396:          32116308083  3.2116308e+10 */
+    { 0xfffffffff2f24351LL,0xcd50dbcb }, /* 397:           -219004079 -2.1900408e+08 */
+    { 0xfffff4bca6c939a8LL,0xd5343593 }, /* 398:      -12383887476312 -1.2383887e+13 */
+    { 0x0000e4b386d83301LL,0x5764b387 }, /* 399:      251459712594689  2.5145971e+14 */
+    { 0xffffffff41bd2d44LL,0xcf3e42d3 }, /* 400:          -3192050364 -3.1920504e+09 */
+    { 0x1363a13d0ce5bb87LL,0x5d9b1d0a }, /* 401:  1397137592996445063  1.3971376e+18 */
+    { 0xffffffee0993b104LL,0xd18fb362 }, /* 402:         -77148737276 -7.7148737e+10 */
+    { 0xe669038c7b54f1e8LL,0xddccb7e4 }, /* 403: -1843938670532038168 -1.8439387e+18 */
+    { 0x0000118fb2bf4522LL,0x558c7d96 }, /* 404:       19308876875042  1.9308877e+13 */
+    { 0xfc84ce2ebc240fb0LL,0xdc5ecc74 }, /* 405:  -250848979105607760 -2.5084898e+17 */
+    { 0x000000000023f364LL,0x4a0fcd90 }, /* 406:              2356068  2.3560680e+06 */
+    { 0x00eda43465632019LL,0x5b6da434 }, /* 407:    66890114426675225  6.6890114e+16 */
+    { 0x00000003ed479915LL,0x507b51e6 }, /* 408:          16865794325  1.6865794e+10 */
+    { 0x000009c0464298c5LL,0x551c0464 }, /* 409:       10721417140421  1.0721417e+13 */
+    { 0xffffffff8d0b36eeLL,0xcee5e992 }, /* 410:          -1928644882 -1.9286449e+09 */
+    { 0xfffff36c656fd014LL,0xd54939a9 }, /* 411:      -13828092866540 -1.3828093e+13 */
+    { 0x00000001ed82178eLL,0x4ff6c10c }, /* 412:           8279693198  8.2796932e+09 */
+    { 0xff959df6f797f497LL,0xdad4c412 }, /* 413:   -29944138466593641 -2.9944138e+16 */
+    { 0x00006e61d4ffe645LL,0x56dcc3aa }, /* 414:      121366464423493  1.2136646e+14 */
+    { 0xffff49037e70182cLL,0xd736fc82 }, /* 415:     -201195621705684 -2.0119562e+14 */
+    { 0x000000000001c25dLL,0x47e12e80 }, /* 416:               115293  1.1529300e+05 */
+    { 0xd226ca2e020bf67cLL,0xde3764d7 }, /* 417: -3303730977678035332 -3.3037310e+18 */
+    { 0x0000000000000026LL,0x42180000 }, /* 418:                   38  3.8000000e+01 */
+    { 0x0000000023aeaa10LL,0x4e0ebaa8 }, /* 419:            598649360  5.9864936e+08 */
+    { 0xfffffffffff76f58LL,0xc9090a80 }, /* 420:              -561320 -5.6132000e+05 */
+    { 0x97a197ef66b6b412LL,0xded0bcd0 }, /* 421: -7520562848255790062 -7.5205628e+18 */
+    { 0x321de7051da504ddLL,0x5e48779c }, /* 422:  3611296485379212509  3.6112965e+18 */
+    { 0x0b3e8e432d3f4c7aLL,0x5d33e8e4 }, /* 423:   810241402146344058  8.1024140e+17 */
+    { 0xc4f50843438a3e7cLL,0xde6c2bdf }, /* 424: -4254485187992600964 -4.2544852e+18 */
+    { 0xfdea50578b8de938LL,0xdc056bea }, /* 425:  -150219300629780168 -1.5021930e+17 */
+    { 0xc60bc4d677850db2LL,0xde67d0ed }, /* 426: -4176027804048749134 -4.1760278e+18 */
+    { 0x103b5f874d6918f6LL,0x5d81dafc }, /* 427:  1169633562956732662  1.1696336e+18 */
+    { 0xc7ea4e68fe34221fLL,0xde6056c6 }, /* 428: -4041331502763204065 -4.0413315e+18 */
+    { 0x2e8ef598277634c0LL,0x5e3a3bd6 }, /* 429:  3354888806283490496  3.3548888e+18 */
+    { 0xf01343bc9e77a46aLL,0xdd7ecbc4 }, /* 430: -1147499002657790870 -1.1474990e+18 */
+    { 0x0015c81f45f6a3a4LL,0x59ae40fa }, /* 431:     6131011154256804  6.1310112e+15 */
+    { 0xfe2601b734fd917eLL,0xdbecff24 }, /* 432:  -133417252581174914 -1.3341725e+17 */
+    { 0xffc6fd82f878d2f0LL,0xda6409f4 }, /* 433:   -16046809692974352 -1.6046810e+16 */
+    { 0x057e2bcb5406cac6LL,0x5cafc579 }, /* 434:   395801969543269062  3.9580197e+17 */
+    { 0x0021f18390adcc5aLL,0x5a07c60e }, /* 435:     9554221601770586  9.5542216e+15 */
+    { 0xfe83af7b7a0cd5e9LL,0xdbbe2842 }, /* 436:  -107049021263260183 -1.0704902e+17 */
+    { 0xfffe6cb9ac16c9edLL,0xd7c9a32a }, /* 437:     -443405241497107 -4.4340524e+14 */
+    { 0x026cac7b54e31536LL,0x5c1b2b1f }, /* 438:   174704131265729846  1.7470413e+17 */
+    { 0xfffff09f1f2fafbdLL,0xd5760e0d }, /* 439:      -16908763025475 -1.6908763e+13 */
+    { 0x0a199497a5fe7545LL,0x5d219949 }, /* 440:   727776193842935109  7.2777619e+17 */
+    { 0x00001a05bf89b661LL,0x55d02dfc }, /* 441:       28611990632033  2.8611991e+13 */
+    { 0x000003deea907e0fLL,0x5477baa4 }, /* 442:        4255952961039  4.2559530e+12 */
+    { 0x01d6edd8829af58bLL,0x5beb76ec }, /* 443:   132554753213920651  1.3255475e+17 */
+    { 0x017ac6d812de4ccfLL,0x5bbd636c }, /* 444:   106616172528422095  1.0661617e+17 */
+    { 0xffffef1d3a359485LL,0xd587162e }, /* 445:      -18566167030651 -1.8566167e+13 */
+    { 0x00ebcde6c4313cd6LL,0x5b6bcde7 }, /* 446:    66373010544737494  6.6373011e+16 */
+    { 0xdbddf575fadfecdfLL,0xde10882a }, /* 447: -2603655122481320737 -2.6036551e+18 */
+    { 0x0000001c7990a8e2LL,0x51e3cc85 }, /* 448:         122298607842  1.2229861e+11 */
+    { 0x008f441d1197c706LL,0x5b0f441d }, /* 449:    40325813309523718  4.0325813e+16 */
+    { 0x000061cb94152e03LL,0x56c39728 }, /* 450:      107526990671363  1.0752699e+14 */
+    { 0x0c72d578939529e4LL,0x5d472d58 }, /* 451:   897013989648968164  8.9701399e+17 */
+    { 0xffffc9f3275752efLL,0xd6583363 }, /* 452:      -59428802440465 -5.9428802e+13 */
+    { 0x02ffa708c20b66f0LL,0x5c3fe9c2 }, /* 453:   216074963194177264  2.1607496e+17 */
+    { 0x001adc7491576f51LL,0x59d6e3a5 }, /* 454:     7560742607220561  7.5607426e+15 */
+    { 0x0000c1e956678a54LL,0x5741e956 }, /* 455:      213207921166932  2.1320792e+14 */
+    { 0xffe003bedcd2daedLL,0xd9ffe209 }, /* 456:    -9003080971265299 -9.0030810e+15 */
+    { 0xf9a32f7283d4c621LL,0xdccb9a12 }, /* 457:  -458470568177121759 -4.5847057e+17 */
+    { 0xfffffffed3acd9faLL,0xcf962993 }, /* 458:          -5038614022 -5.0386140e+09 */
+    { 0x00024c06d9710d17LL,0x581301b6 }, /* 459:      646542255000855  6.4654226e+14 */
+    { 0xffffffff36580277LL,0xcf49a7fe }, /* 460:          -3383229833 -3.3832298e+09 */
+    { 0xffee897d3bd35a61LL,0xd98bb416 }, /* 461:    -4915378613167519 -4.9153786e+15 */
+    { 0x203538f435409a5fLL,0x5e00d4e4 }, /* 462:  2320823804495960671  2.3208238e+18 */
+    { 0x0000000005d877a6LL,0x4cbb0ef5 }, /* 463:             98072486  9.8072486e+07 */
+    { 0xffffff80b807e776LL,0xd2fe8ff0 }, /* 464:        -546668288138 -5.4666829e+11 */
+    { 0x000000000002b340LL,0x482cd000 }, /* 465:               176960  1.7696000e+05 */
+    { 0x00000000001f489dLL,0x49fa44e8 }, /* 466:              2050205  2.0502050e+06 */
+    { 0x000000004bea35e6LL,0x4e97d46c }, /* 467:           1273640422  1.2736404e+09 */
+    { 0xfffffffffffe315aLL,0xc7e75300 }, /* 468:              -118438 -1.1843800e+05 */
+    { 0x000000002b0908b6LL,0x4e2c2423 }, /* 469:            722012342  7.2201234e+08 */
+    { 0x000000b5d2441e59LL,0x5335d244 }, /* 470:         780916760153  7.8091676e+11 */
+    { 0xffffffffffc6a55eLL,0xca656a88 }, /* 471:             -3758754 -3.7587540e+06 */
+    { 0xffffffff3238cbcbLL,0xcf4dc734 }, /* 472:          -3452384309 -3.4523843e+09 */
+    { 0x00000000003c4616LL,0x4a711858 }, /* 473:              3950102  3.9501020e+06 */
+    { 0xfffffc7d7ef4bb5aLL,0xd460a043 }, /* 474:       -3859045631142 -3.8590456e+12 */
+    { 0x0000000000a2c996LL,0x4b22c996 }, /* 475:             10668438  1.0668438e+07 */
+    { 0x0000e452a3cf76edLL,0x576452a4 }, /* 476:      251043586733805  2.5104359e+14 */
+    { 0x000001e49035e883LL,0x53f2481b }, /* 477:        2081183623299  2.0811836e+12 */
+    { 0xffffff42c9b7dabbLL,0xd33d3648 }, /* 478:        -812659516741 -8.1265952e+11 */
+    { 0x000042a9327daeafLL,0x56855265 }, /* 479:       73294464003759  7.3294464e+13 */
+    { 0xff111a073b6f1661LL,0xdb6ee5f9 }, /* 480:   -67243901069617567 -6.7243901e+16 */
+    { 0xf774b4058232630eLL,0xdd08b4c0 }, /* 481:  -615669313290738930 -6.1566931e+17 */
+    { 0xc06abafe8e492539LL,0xde7e5514 }, /* 482: -4581644068424440519 -4.5816441e+18 */
+    { 0x29bb215751cf867bLL,0x5e26ec85 }, /* 483:  3007033835118364283  3.0070338e+18 */
+    { 0xf85c2078859f9496LL,0xdcf47bf1 }, /* 484:  -550529352436050794 -5.5052935e+17 */
+    { 0x0871344ced4a47aeLL,0x5d071345 }, /* 485:   608324929674954670  6.0832493e+17 */
+    { 0xfe19332d6e194d69LL,0xdbf36669 }, /* 486:  -137022043444392599 -1.3702204e+17 */
+    { 0xbf8d9ac80b9f3056LL,0xde80e4ca }, /* 487: -4643885456769994666 -4.6438855e+18 */
+    { 0x08b446ea040d4f33LL,0x5d0b446f }, /* 488:   627204219015614259  6.2720422e+17 */
+    { 0xff79c8d4d369173eLL,0xdb06372b }, /* 489:   -37778305450436802 -3.7778305e+16 */
+    { 0xffe62aea7af53c95LL,0xd9cea8ac }, /* 490:    -7271162820871019 -7.2711628e+15 */
+    { 0xfe0949e541a2edfaLL,0xdbfb5b0d }, /* 491:  -141500664287924742 -1.4150066e+17 */
+    { 0x0008d9fc336840a4LL,0x590d9fc3 }, /* 492:     2491477031141540  2.4914770e+15 */
+    { 0x01a648c02bd9251aLL,0x5bd32460 }, /* 493:   118862430378468634  1.1886243e+17 */
+    { 0xfdc7fe066c9bf88aLL,0xdc0e007e }, /* 494:  -159879958202943350 -1.5987996e+17 */
+    { 0xf4a5c963388d5b96LL,0xdd35a36a }, /* 495:  -818026329310143594 -8.1802633e+17 */
+    { 0xff24d1055f3072b9LL,0xdb5b2efb }, /* 496:   -61694673874292039 -6.1694674e+16 */
+    { 0xe4ebb84e0f4ced19LL,0xddd8a23e }, /* 497: -1951263368131318503 -1.9512634e+18 */
+    { 0x03300676bbcece5dLL,0x5c4c019e }, /* 498:   229690688022695517  2.2969069e+17 */
+    { 0x0000169913a10b25LL,0x55b4c89d }, /* 499:       24846715128613  2.4846715e+13 */
+    { 0x069aa2eb34268603LL,0x5cd3545d }, /* 500:   475871841716962819  4.7587184e+17 */
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d] (%#llx):  %#lx (%g)\n",
+             index - 1, t[index-1].x, v.lo, v.fl);
+#endif
+    exit (index ? index : -1);
+}
+
+int main ()
+{
+    long long x;
+    union lofl_u z;
+    int i;
+    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	x = pgm_read_qword (& t[i].x);
+	z.lo = pgm_read_dword (& t[i].z);
+	v.fl = x;
+	if (v.lo != z.lo)
+	    x_exit (i+1);
+    }
+    return 0;
+}
diff --git a/tests/simulate/fplib/mul-01.c b/tests/simulate/fplib/mul-01.c
new file mode 100644
index 0000000..80f02a2
--- /dev/null
+++ b/tests/simulate/fplib/mul-01.c
@@ -0,0 +1,175 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of multiplication.  Simple cases.
+   $Id$
+ */
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+volatile union lofl_u v = { .lo = 1 };
+
+PROGMEM const struct {		/* Table of test cases:  x * y = z	*/
+    union lofl_u x, y, z;
+} t[] = {
+
+    /* 0.0 and 0.0	*/
+    { { 0x00000000 }, { 0x00000000 }, { 0x00000000 } },
+    { { 0x00000000 }, { 0x80000000 }, { 0x80000000 } },
+    { { 0x80000000 }, { 0x00000000 }, { 0x80000000 } },
+    { { 0x80000000 }, { 0x80000000 }, { 0x00000000 } },
+
+    /* 0.0 and nonzero	*/
+    { { 0x00000000 }, { 0x00000001 }, { 0x00000000 } },
+    { { 0x00000000 }, { 0x007fffff }, { 0x00000000 } },
+    { { 0x00000000 }, { 0x00800000 }, { 0x00000000 } },
+    { { 0x00000000 }, { 0x7f7fffff }, { 0x00000000 } },
+    { { 0x00000000 }, { 0x80000001 }, { 0x80000000 } },
+    { { 0x00000000 }, { 0x807fffff }, { 0x80000000 } },
+    { { 0x00000000 }, { 0x80800000 }, { 0x80000000 } },
+    { { 0x00000000 }, { 0xff7fffff }, { 0x80000000 } },
+
+    { { 0x00000001 }, { 0x00000000 }, { 0x00000000 } },
+    { { 0x007fffff }, { 0x00000000 }, { 0x00000000 } },
+    { { 0x00800000 }, { 0x00000000 }, { 0x00000000 } },
+    { { 0x7f7fffff }, { 0x00000000 }, { 0x00000000 } },
+    { { 0x80000001 }, { 0x00000000 }, { 0x80000000 } },
+    { { 0x807fffff }, { 0x00000000 }, { 0x80000000 } },
+    { { 0x80800000 }, { 0x00000000 }, { 0x80000000 } },
+    { { 0xff7fffff }, { 0x00000000 }, { 0x80000000 } },
+
+    /* -0.0 and nonzero	*/
+    { { 0x3f800000 }, { 0x80000000 }, { 0x80000000 } },
+    { { 0xbf800000 }, { 0x80000000 }, { 0x00000000 } },
+    { { 0x80000000 }, { 0x3f800000 }, { 0x80000000 } },
+    { { 0x80000000 }, { 0xbf800000 }, { 0x00000000 } },
+
+    /* +1.0 * y	*/
+    { { .fl = +1.0 }, { 0x00000000 }, { 0x00000000 } },
+    { { .fl = +1.0 }, { 0x00000001 }, { 0x00000001 } },
+    { { .fl = +1.0 }, { 0x00000100 }, { 0x00000100 } },
+    { { .fl = +1.0 }, { 0x00010000 }, { 0x00010000 } },
+    { { .fl = +1.0 }, { 0x007fffff }, { 0x007fffff } },
+    { { .fl = +1.0 }, { 0x00800000 }, { 0x00800000 } },
+    { { .fl = +1.0 }, { 0x3f800000 }, { 0x3f800000 } },
+    { { .fl = +1.0 }, { 0x7f7fffff }, { 0x7f7fffff } },
+    { { .fl = +1.0 }, { 0x80000000 }, { 0x80000000 } },
+    { { .fl = +1.0 }, { 0x80000001 }, { 0x80000001 } },
+    { { .fl = +1.0 }, { 0x80000100 }, { 0x80000100 } },
+    { { .fl = +1.0 }, { 0x80010000 }, { 0x80010000 } },
+    { { .fl = +1.0 }, { 0x807fffff }, { 0x807fffff } },
+    { { .fl = +1.0 }, { 0x80800000 }, { 0x80800000 } },
+    { { .fl = +1.0 }, { 0xbf800000 }, { 0xbf800000 } },
+    { { .fl = +1.0 }, { 0xff7fffff }, { 0xff7fffff } },
+
+    /* -1.0 * y	*/
+    { { .fl = -1.0 }, { 0x00000000 }, { 0x80000000 } },
+    { { .fl = -1.0 }, { 0x00000001 }, { 0x80000001 } },
+    { { .fl = -1.0 }, { 0x00000100 }, { 0x80000100 } },
+    { { .fl = -1.0 }, { 0x00010000 }, { 0x80010000 } },
+    { { .fl = -1.0 }, { 0x007fffff }, { 0x807fffff } },
+    { { .fl = -1.0 }, { 0x00800000 }, { 0x80800000 } },
+    { { .fl = -1.0 }, { 0x3f800000 }, { 0xbf800000 } },
+    { { .fl = -1.0 }, { 0x7f7fffff }, { 0xff7fffff } },
+    { { .fl = -1.0 }, { 0x80000000 }, { 0x00000000 } },
+    { { .fl = -1.0 }, { 0x80000001 }, { 0x00000001 } },
+    { { .fl = -1.0 }, { 0x80000100 }, { 0x00000100 } },
+    { { .fl = -1.0 }, { 0x80010000 }, { 0x00010000 } },
+    { { .fl = -1.0 }, { 0x807fffff }, { 0x007fffff } },
+    { { .fl = -1.0 }, { 0x80800000 }, { 0x00800000 } },
+    { { .fl = -1.0 }, { 0xbf800000 }, { 0x3f800000 } },
+    { { .fl = -1.0 }, { 0xff7fffff }, { 0x7f7fffff } },
+
+    /* x * +1.0	*/
+    { { 0x00000000 }, { .fl = +1.0 }, { 0x00000000 } },
+    { { 0x00000001 }, { .fl = +1.0 }, { 0x00000001 } },
+    { { 0x00000100 }, { .fl = +1.0 }, { 0x00000100 } },
+    { { 0x00010000 }, { .fl = +1.0 }, { 0x00010000 } },
+    { { 0x007fffff }, { .fl = +1.0 }, { 0x007fffff } },
+    { { 0x00800000 }, { .fl = +1.0 }, { 0x00800000 } },
+    { { 0x3f800000 }, { .fl = +1.0 }, { 0x3f800000 } },
+    { { 0x7f7fffff }, { .fl = +1.0 }, { 0x7f7fffff } },
+    { { 0x80000000 }, { .fl = +1.0 }, { 0x80000000 } },
+    { { 0x80000001 }, { .fl = +1.0 }, { 0x80000001 } },
+    { { 0x80000100 }, { .fl = +1.0 }, { 0x80000100 } },
+    { { 0x80010000 }, { .fl = +1.0 }, { 0x80010000 } },
+    { { 0x807fffff }, { .fl = +1.0 }, { 0x807fffff } },
+    { { 0x80800000 }, { .fl = +1.0 }, { 0x80800000 } },
+    { { 0xbf800000 }, { .fl = +1.0 }, { 0xbf800000 } },
+    { { 0xff7fffff }, { .fl = +1.0 }, { 0xff7fffff } },
+
+    /* -1.0 * y	*/
+    { { 0x00000000 }, { .fl = -1.0 }, { 0x80000000 } },
+    { { 0x00000001 }, { .fl = -1.0 }, { 0x80000001 } },
+    { { 0x00000100 }, { .fl = -1.0 }, { 0x80000100 } },
+    { { 0x00010000 }, { .fl = -1.0 }, { 0x80010000 } },
+    { { 0x007fffff }, { .fl = -1.0 }, { 0x807fffff } },
+    { { 0x00800000 }, { .fl = -1.0 }, { 0x80800000 } },
+    { { 0x3f800000 }, { .fl = -1.0 }, { 0xbf800000 } },
+    { { 0x7f7fffff }, { .fl = -1.0 }, { 0xff7fffff } },
+    { { 0x80000000 }, { .fl = -1.0 }, { 0x00000000 } },
+    { { 0x80000001 }, { .fl = -1.0 }, { 0x00000001 } },
+    { { 0x80000100 }, { .fl = -1.0 }, { 0x00000100 } },
+    { { 0x80010000 }, { .fl = -1.0 }, { 0x00010000 } },
+    { { 0x807fffff }, { .fl = -1.0 }, { 0x007fffff } },
+    { { 0x80800000 }, { .fl = -1.0 }, { 0x00800000 } },
+    { { 0xbf800000 }, { .fl = -1.0 }, { 0x3f800000 } },
+    { { 0xff7fffff }, { .fl = -1.0 }, { 0x7f7fffff } },
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]:  %#lx\n", index - 1, v.lo);
+#endif
+    exit (index ? index : -1);
+}
+
+int main ()
+{
+    union lofl_u x,y,z;
+    int i;
+    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	x.lo = pgm_read_dword (& t[i].x);
+	y.lo = pgm_read_dword (& t[i].y);
+	z.lo = pgm_read_dword (& t[i].z);
+	v.fl = x.fl * y.fl;
+	/* Comparison is integer to verify the zero sign.	*/
+	if (v.lo != z.lo)
+	    x_exit (i+1);
+    }
+    return 0;
+}
diff --git a/tests/simulate/fplib/mul-02.c b/tests/simulate/fplib/mul-02.c
new file mode 100644
index 0000000..9cf774c
--- /dev/null
+++ b/tests/simulate/fplib/mul-02.c
@@ -0,0 +1,134 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of multiplication. Subnormals.
+   $Id$
+ */
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+volatile union lofl_u v = { .lo = 1 };
+
+PROGMEM const struct {		/* Table of test cases:  x * y = z	*/
+    union lofl_u x, y, z;
+} t[] = {
+
+    /* subnormal * subnormal	*/
+    { { 0x00000001 }, { 0x00000001 }, { 0 } },
+    { { 0x00000100 }, { 0x00000100 }, { 0 } },
+    { { 0x00010000 }, { 0x00010000 }, { 0 } },
+    { { 0x007fffff }, { 0x007fffff }, { 0 } },
+    
+    /* subnormal * normal	*/
+    { { 0x00000001 }, { .fl = .5 },		{ 0x00000000 }	},
+    { { 0x00000001 }, { .fl = 1 },		{ 0x00000001 }	},
+    { { 0x00000001 }, { .fl = 2 },		{ 0x00000002 }	},
+    { { 0x00000001 }, { .fl = 4 },		{ 0x00000004 }	},
+    { { 0x00000001 }, { .fl = 0x1p22 },		{ 0x00400000 }	},
+    { { 0x00000001 }, { .fl = 0x1p23 },		{ 0x00800000 }	},
+    { { 0x00000001 }, { .fl = 0x0.ffffffp127 },	{ .fl = 0x0.ffffffp-22 } },
+
+    { { 0x00000002 }, { .fl = .25 },		{ 0x00000000 }	},
+    { { 0x00000002 }, { .fl = .5 },		{ 0x00000001 }	},
+    { { 0x00000002 }, { .fl = 1 },		{ 0x00000002 }	},
+    { { 0x00000002 }, { .fl = 2 },		{ 0x00000004 }	},
+    { { 0x00000002 }, { .fl = 0x1p21 },		{ 0x00400000 }	},
+    { { 0x00000002 }, { .fl = 0x1p22 },		{ 0x00800000 }	},
+    { { 0x00000002 }, { .fl = 0x0.ffffffp127 },	{ .fl = 0x0.ffffffp-21 } },
+    
+    { { 0x007fffff }, { .fl = 0x1p-24 },	{ 0x00000000 }	},
+    { { 0x007fffff }, { .fl = 0x1p-23 },	{ 0x00000001 }	},
+    { { 0x007fffff }, { .fl = 0x1p-22 },	{ 0x00000002 }	},
+    { { 0x007fffff }, { .fl = 0x1p-1 },		{ 0x00400000 }	},
+    { { 0x007fffff }, { .fl = 0x1p0 },		{ 0x007fffff }	},
+    { { 0x007fffff }, { .fl = 0x1p1 },		{ 0x00fffffe }	},
+    { { 0x007fffff }, { .fl = 0x0.ffffffp127 },	{ 0x3ffffffd }	},
+    
+    /* normal * subnormal	*/
+    { { .fl = .5 },		{ 0x00000001 }, { 0x00000000 }	},
+    { { .fl = 1 },		{ 0x00000001 }, { 0x00000001 }	},
+    { { .fl = 2 },		{ 0x00000001 }, { 0x00000002 }	},
+    { { .fl = 4 },		{ 0x00000001 }, { 0x00000004 }	},
+    { { .fl = 0x1p22 },		{ 0x00000001 }, { 0x00400000 }	},
+    { { .fl = 0x1p23 },		{ 0x00000001 }, { 0x00800000 }	},
+    { { .fl = 0x0.ffffffp127 },	{ 0x00000001 }, { .fl = 0x0.ffffffp-22 } },
+                                
+    { { .fl = .25 },		{ 0x00000002 }, { 0x00000000 }	},
+    { { .fl = .5 },		{ 0x00000002 }, { 0x00000001 }	},
+    { { .fl = 1 },		{ 0x00000002 }, { 0x00000002 }	},
+    { { .fl = 2 },		{ 0x00000002 }, { 0x00000004 }	},
+    { { .fl = 0x1p21 },		{ 0x00000002 }, { 0x00400000 }	},
+    { { .fl = 0x1p22 },		{ 0x00000002 }, { 0x00800000 }	},
+    { { .fl = 0x0.ffffffp127 },	{ 0x00000002 }, { .fl = 0x0.ffffffp-21 } },
+                                
+    { { .fl = 0x1p-24 },	{ 0x007fffff }, { 0x00000000 }	},
+    { { .fl = 0x1p-23 },	{ 0x007fffff }, { 0x00000001 }	},
+    { { .fl = 0x1p-22 },	{ 0x007fffff }, { 0x00000002 }	},
+    { { .fl = 0x1p-1 },		{ 0x007fffff }, { 0x00400000 }	},
+    { { .fl = 0x1p0 },		{ 0x007fffff }, { 0x007fffff }	},
+    { { .fl = 0x1p1 },		{ 0x007fffff }, { 0x00fffffe }	},
+    { { .fl = 0x0.ffffffp127 },	{ 0x007fffff }, { 0x3ffffffd }	},
+
+    /* normal * normal --> subnormal	*/
+    { { .fl = 0x1p-75 }, { .fl = 0x1p-75 },	{ 0 }	},
+    { { .fl = 0x1p-74 }, { .fl = 0x1p-75 },	{ 0x00000001 }	},
+    { { .fl = 0x1p-74 }, { .fl = 0x1p-74 },	{ 0x00000002 }	},
+    { { .fl = 0x1p-23 }, { 0x00800000 },	{ 0x00000001 }	},
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]:  %#lx\n", index - 1, v.lo);
+#endif
+    exit (index ? index : -1);
+}
+
+int main ()
+{
+    union lofl_u x,y,z;
+    int i;
+    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	x.lo = pgm_read_dword (& t[i].x);
+	y.lo = pgm_read_dword (& t[i].y);
+	z.lo = pgm_read_dword (& t[i].z);
+	v.fl = x.fl * y.fl;
+	/* Comparison is integer to verify the zero sign.	*/
+	if (v.lo != z.lo)
+	    x_exit (i+1);
+    }
+    return 0;
+}
diff --git a/tests/simulate/fplib/mul-03.c b/tests/simulate/fplib/mul-03.c
new file mode 100644
index 0000000..f740861
--- /dev/null
+++ b/tests/simulate/fplib/mul-03.c
@@ -0,0 +1,84 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of multiplication. Overflow.
+   $Id$
+ */
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+volatile union lofl_u v = { .lo = 1 };
+
+PROGMEM const struct {		/* Table of test cases:  x * y = z	*/
+    union lofl_u x, y, z;
+} t[] = {
+
+    { { .fl = 0x0.ffffffp64 }, { .fl = 0x0.ffffffp64 }, { 0x7f7ffffe }	},
+    { { .fl = 0x0.800000p65 }, { .fl = 0x0.ffffffp64 }, { 0x7f7fffff }	},
+    { { .fl = 0x0.800000p65 }, { .fl = 0x0.800000p65 }, { 0x7f800000 }	},
+    { { .fl = 0x0.800001p65 }, { .fl = 0x0.800000p65 }, { 0x7f800000 }	},
+    { { .fl = 0x0.800000p65 }, { .fl = 0x0.800001p65 }, { 0x7f800000 }	},
+    { { .fl = 0x0.800001p65 }, { .fl = 0x0.800001p65 }, { 0x7f800000 }	},
+
+    { { 0x7f7fffff }, { 0x7f7fffff }, { 0x7f800000 }	},
+    { { 0x7f7fffff }, { 0xff7fffff }, { 0xff800000 }	},
+    { { 0xff7fffff }, { 0x7f7fffff }, { 0xff800000 }	},
+    { { 0xff7fffff }, { 0xff7fffff }, { 0x7f800000 }	},
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]:  %#lx\n", index - 1, v.lo);
+#endif
+    exit (index ? index : -1);
+}
+
+int main ()
+{
+    union lofl_u x,y,z;
+    int i;
+    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	x.lo = pgm_read_dword (& t[i].x);
+	y.lo = pgm_read_dword (& t[i].y);
+	z.lo = pgm_read_dword (& t[i].z);
+	v.fl = x.fl * y.fl;
+	/* Comparison is integer to verify the zero sign.	*/
+	if (v.lo != z.lo)
+	    x_exit (i+1);
+    }
+    return 0;
+}
diff --git a/tests/simulate/fplib/mul-500.c b/tests/simulate/fplib/mul-500.c
new file mode 100644
index 0000000..05ab368
--- /dev/null
+++ b/tests/simulate/fplib/mul-500.c
@@ -0,0 +1,573 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of multiplication. 500 random cases.
+   $Id$
+ */
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+volatile union lofl_u v = { .lo = 1 };
+
+PROGMEM const struct {		/* Table of test cases:  x * y = z	*/
+    long x, y, z;
+} t[] = {
+
+    { 0xbfe203f4, 0x3d0c6491, 0xbd77e5e6 },  /*   1: -1.7657456e+00  3.4275595e-02 -6.0521983e-02 */
+    { 0x3d7f2278, 0xbfdd0e99, 0xbddc4f4e },  /*   2:  6.2288731e-02 -1.7270080e+00 -1.0757314e-01 */
+    { 0xc1a0fa4a, 0xc0c34e6d, 0x42f59fee },  /*   3: -2.0122211e+01 -6.1033235e+00  1.2281237e+02 */
+    { 0x3fe8a719, 0x3f2248fd, 0x3f937c13 },  /*   4:  1.8175994e+00  6.3392621e-01  1.1522239e+00 */
+    { 0xbef9cb09, 0x40606088, 0xbfdaefd9 },  /*   5: -4.8787716e-01  3.5058918e+00 -1.7104445e+00 */
+    { 0xb9ae9889, 0xccbb97fe, 0x46ffe22b },  /*   6: -3.3301514e-04 -9.8353136e+07  3.2753083e+04 */
+    { 0x3f2c7136, 0x3dbf4877, 0x3d80d947 },  /*   7:  6.7360246e-01  9.3399934e-02  6.2914426e-02 */
+    { 0x42ce6872, 0xbfe2a74d, 0xc336bf19 },  /*   8:  1.0320399e+02 -1.7707306e+00 -1.8274647e+02 */
+    { 0xbf161ea9, 0x3f63bbc5, 0xbf058b4c },  /*   9: -5.8640534e-01  8.8958389e-01 -5.2165674e-01 */
+    { 0x3fff906f, 0xb919bc69, 0xb9997969 },  /*  10:  1.9965953e+00 -1.4661405e-04 -2.9272892e-04 */
+    { 0x430b4be6, 0xbe339058, 0xc1c36939 },  /*  11:  1.3929648e+02 -1.7535532e-01 -2.4426378e+01 */
+    { 0x3d743cfd, 0xc875573e, 0xc66a119a },  /*  12:  5.9628475e-02 -2.5122897e+05 -1.4980400e+04 */
+    { 0x3bdbb6e1, 0xc1c05c66, 0xbe251876 },  /*  13:  6.7051505e-03 -2.4045116e+01 -1.6122612e-01 */
+    { 0x4149b727, 0x3e0a1bca, 0x3fd9a541 },  /*  14:  1.2607215e+01  1.3487163e-01  1.7003557e+00 */
+    { 0xbf33d931, 0x3f39a93c, 0xbf026ed9 },  /*  15: -7.0253283e-01  7.2523856e-01 -5.0950390e-01 */
+    { 0x3e424bb9, 0xbd9c6649, 0xbc6d678d },  /*  16:  1.8974198e-01 -7.6366968e-02 -1.4490020e-02 */
+    { 0x3fd8db5b, 0xc357ffe9, 0xc3b6f901 },  /*  17:  1.6941942e+00 -2.1599965e+02 -3.6594535e+02 */
+    { 0xb7e777ba, 0xc7f1fcc4, 0x405acc41 },  /*  18: -2.7593098e-05 -1.2389753e+05  3.4187167e+00 */
+    { 0xbc76d381, 0x3dbe3e5c, 0xbab76d1a },  /*  19: -1.5065075e-02  9.2892379e-02 -1.3994306e-03 */
+    { 0xbfce84ce, 0x450f3f9b, 0xc5671efe },  /*  20: -1.6134279e+00  2.2919753e+03 -3.6979369e+03 */
+    { 0x4180036a, 0xbfb8766b, 0xc1b87b57 },  /*  21:  1.6001667e+01 -1.4411138e+00 -2.3060224e+01 */
+    { 0x43b04c24, 0x80000000, 0x80000000 },  /*  22:  3.5259485e+02 -0.0000000e+00 -0.0000000e+00 */
+    { 0xa0b1a0c7, 0xbf10c355, 0x2048e3f1 },  /*  23: -3.0091360e-19 -5.6548053e-01  1.7016078e-19 */
+    { 0x4098c317, 0x3a7ffb10, 0x3b98c025 },  /*  24:  4.7738147e+00  9.7648893e-04  4.6615772e-03 */
+    { 0xbd5cb803, 0x3d99cbc0, 0xbb8499a5 },  /*  25: -5.3886425e-02  7.5095654e-02 -4.0466363e-03 */
+    { 0x3e2f5b92, 0x40bedf06, 0x3f82bebb },  /*  26:  1.7124775e-01  5.9647245e+00  1.0214457e+00 */
+    { 0x3d844f62, 0x4107018e, 0x3f0b8d55 },  /*  27:  6.4604536e-02  8.4378796e+00  5.4512529e-01 */
+    { 0xbfe7f5e4, 0xbcd23a05, 0x3d3e7c47 },  /*  28: -1.8121915e+00 -2.5662431e-02  4.6505240e-02 */
+    { 0xbd38fc30, 0x3e26908b, 0xbbf0b7f3 },  /*  29: -4.5162380e-02  1.6266076e-01 -7.3461471e-03 */
+    { 0x3f1435a8, 0x437ed193, 0x43138692 },  /*  30:  5.7894373e-01  2.5481865e+02  1.4752566e+02 */
+    { 0x3f0ebb76, 0xbf2765c8, 0xbebaaa13 },  /*  31:  5.5754793e-01 -6.5389681e-01 -3.6457881e-01 */
+    { 0x400b3df5, 0xc18be3a3, 0xc2182ce9 },  /*  32:  2.1756566e+00 -1.7486151e+01 -3.8043859e+01 */
+    { 0xc1501774, 0xbfd6ffba, 0x41aec37a },  /*  33: -1.3005726e+01 -1.6796792e+00  2.1845447e+01 */
+    { 0x3f1b0003, 0xc0ef3cc3, 0xc090d9cd },  /*  34:  6.0546893e-01 -7.4761672e+00 -4.5265869e+00 */
+    { 0xc012c0b6, 0x47de7fcc, 0xc87f18c1 },  /*  35: -2.2930121e+00  1.1391959e+05 -2.6121901e+05 */
+    { 0x3fa2d6e9, 0x3e4c1d86, 0x3e81d609 },  /*  36:  1.2721835e+00  1.9933137e-01  2.5358609e-01 */
+    { 0xba4fd801, 0x3f20ecb9, 0xba02a732 },  /*  37: -7.9286104e-04  6.2861210e-01 -4.9840205e-04 */
+    { 0x3e5fd261, 0xc2ccec6c, 0xc1b32a5a },  /*  38:  2.1857597e-01 -1.0246176e+02 -2.2395679e+01 */
+    { 0x3e1616b3, 0xbfd9a664, 0xbe7f3596 },  /*  39:  1.4657097e-01 -1.7003903e+00 -2.4922785e-01 */
+    { 0xc4d191d2, 0x461afc54, 0xcb7dc091 },  /*  40: -1.6765569e+03  9.9190820e+03 -1.6629905e+07 */
+    { 0xbdc7faed, 0xbe2c70c4, 0x3c86b4ae },  /*  41: -9.7646572e-02 -1.6839892e-01  1.6443577e-02 */
+    { 0xc102582c, 0xbfff96a6, 0x41822288 },  /*  42: -8.1465263e+00 -1.9967849e+00  1.6266861e+01 */
+    { 0xbf1cd52b, 0x437e57b1, 0xc31bd13a },  /*  43: -6.1262769e-01  2.5434254e+02 -1.5581728e+02 */
+    { 0x3f4df077, 0xc2d6895a, 0xc2ac9582 },  /*  44:  8.0445045e-01 -1.0726826e+02 -8.6292004e+01 */
+    { 0x4234eab5, 0xbf0e9529, 0xc1c98734 },  /*  45:  4.5229206e+01 -5.5696350e-01 -2.5191017e+01 */
+    { 0xbd646647, 0xbfda2054, 0x3dc29bf0 },  /*  46: -5.5761602e-02 -1.7041116e+00  9.5023991e-02 */
+    { 0x40d6e7f8, 0x3a9a63ed, 0x3c019b6e },  /*  47:  6.7158165e+00  1.1779048e-03  7.9105923e-03 */
+    { 0x39bb4814, 0xc21db359, 0xbc66bcd2 },  /*  48:  3.5721122e-04 -3.9425144e+01 -1.4083104e-02 */
+    { 0x46576b94, 0x3ff0f4ac, 0x46cac2be },  /*  49:  1.3786895e+04  1.8824668e+00  2.5953371e+04 */
+    { 0x3df1bb6b, 0x3fd536b6, 0x3e495499 },  /*  50:  1.1803325e-01  1.6657321e+00  1.9661178e-01 */
+    { 0xc6385e8a, 0x3d822506, 0xc43b7558 },  /*  51: -1.1799635e+04  6.3547179e-02 -7.4983350e+02 */
+    { 0xbde281c2, 0xbff3e5b0, 0x3e57cc65 },  /*  52: -1.1059906e-01 -1.9054470e+00  2.1074064e-01 */
+    { 0x00000000, 0xbf2c1f58, 0x80000000 },  /*  53:  0.0000000e+00 -6.7235327e-01 -0.0000000e+00 */
+    { 0xc5faeef6, 0xbf0850cd, 0x45859e26 },  /*  54: -8.0298701e+03 -5.3248292e-01  4.2757687e+03 */
+    { 0xbc1811e2, 0x33cdce68, 0xb07481dc },  /*  55: -9.2816073e-03  9.5836015e-08 -8.8951226e-10 */
+    { 0xbfce8e77, 0xbfc1b100, 0x401c4838 },  /*  56: -1.6137227e+00 -1.5132141e+00  2.4419079e+00 */
+    { 0x3fd2d11f, 0x3efa0064, 0x3f4de08b },  /*  57:  1.6470069e+00  4.8828423e-01  8.0420748e-01 */
+    { 0x3f318f9d, 0x3f0831d2, 0x3ebcedb3 },  /*  58:  6.9359761e-01  5.3201020e-01  3.6900100e-01 */
+    { 0x3fef35d1, 0xbdd65365, 0xbe4844ea },  /*  59:  1.8688298e+00 -1.0465125e-01 -1.9557538e-01 */
+    { 0xbcdb0af0, 0x44dcc475, 0xc23ce57f },  /*  60: -2.6738614e-02  1.7661393e+03 -4.7224116e+01 */
+    { 0x40f7a42f, 0x3e29340b, 0x3fa3adbb },  /*  61:  7.7387919e+00  1.6523759e-01  1.2787393e+00 */
+    { 0xbe197271, 0xc5dc7b39, 0x44842835 },  /*  62: -1.4985062e-01 -7.0554028e+03  1.0572565e+03 */
+    { 0x3fc767be, 0x4121b15c, 0x417be4ca },  /*  63:  1.5578535e+00  1.0105801e+01  1.5743356e+01 */
+    { 0x3f25923c, 0xc4a838f3, 0xc4599999 },  /*  64:  6.4676261e-01 -1.3457797e+03 -8.7039997e+02 */
+    { 0xdc2a65de, 0xbdcf4d7b, 0x5a89fbf1 },  /*  65: -1.9185100e+17 -1.0122200e-01  1.9419542e+16 */
+    { 0x427c94d4, 0x5f09f8a7, 0x620820fa },  /*  66:  6.3145340e+01  9.9418798e+18  6.2778338e+20 */
+    { 0x417b57fb, 0xbb15c9c6, 0xbd131050 },  /*  67:  1.5708980e+01 -2.2855862e-03 -3.5904227e-02 */
+    { 0xc16e3b60, 0x3d09e520, 0xbf0052ff },  /*  68: -1.4889496e+01  3.3665776e-02 -5.0126644e-01 */
+    { 0x3fbe2a19, 0xbc548ee9, 0xbc9de505 },  /*  69:  1.4856597e+00 -1.2973526e-02 -1.9274244e-02 */
+    { 0x39159cfa, 0xbefa8e95, 0xb8926ea0 },  /*  70:  1.4268226e-04 -4.8936906e-01 -6.9824282e-05 */
+    { 0xc2666f06, 0xce48cecf, 0x5134c0e4 },  /*  71: -5.7608421e+01 -8.4224915e+08  4.8520644e+10 */
+    { 0xc0084430, 0xc1fb4cd8, 0x4285c3c2 },  /*  72: -2.1291618e+00 -3.1412521e+01  6.6882342e+01 */
+    { 0x3e4aaa10, 0xbead46ca, 0xbd892cf7 },  /*  73:  1.9791436e-01 -3.3843070e-01 -6.6980297e-02 */
+    { 0x3d440ccd, 0xbdf24c24, 0xbbb98e69 },  /*  74:  4.7863770e-02 -1.1830929e-01 -5.6627286e-03 */
+    { 0xbf29bc98, 0x3694b352, 0xb6452fda },  /*  75: -6.6303396e-01  4.4316193e-06 -2.9383141e-06 */
+    { 0x430c35fb, 0xc23a72f5, 0xc5cc3c5d },  /*  76:  1.4021086e+02 -4.6612263e+01 -6.5355455e+03 */
+    { 0x38cfddb8, 0x40ce5d54, 0x3a279032 },  /*  77:  9.9118275e-05  6.4488926e+00  6.3920311e-04 */
+    { 0xc130dafb, 0x3d6d7395, 0xbf240a94 },  /*  78: -1.1053462e+01  5.7971556e-02 -6.4078639e-01 */
+    { 0x433e0467, 0xc0f1d429, 0xc4b37f9f },  /*  79:  1.9001720e+02 -7.5571485e+00 -1.4359882e+03 */
+    { 0x380a973d, 0x3c20d857, 0x34ae274a },  /*  80:  3.3042616e-05  9.8172044e-03  3.2438611e-07 */
+    { 0xc0787a55, 0xc234f0af, 0x432f9fa0 },  /*  81: -3.8824666e+00 -4.5235043e+01  1.7562354e+02 */
+    { 0xbb1bb91a, 0xbff2498c, 0x3b9361b8 },  /*  82: -2.3761452e-03 -1.8928695e+00  4.4977327e-03 */
+    { 0x00000000, 0x3c951307, 0x00000000 },  /*  83:  0.0000000e+00  1.8197550e-02  0.0000000e+00 */
+    { 0x3cf7d0ba, 0xbfe3976f, 0xbd5c50ac },  /*  84:  3.0250896e-02 -1.7780589e+00 -5.3787874e-02 */
+    { 0xbfbc3ff4, 0x3f2c9b30, 0xbf7dda2c },  /*  85: -1.4707017e+00  6.7424297e-01 -9.9161028e-01 */
+    { 0xc0ac280b, 0xbfa21370, 0x40d9fcd3 },  /*  86: -5.3798881e+00 -1.2662182e+00  6.8121121e+00 */
+    { 0xc80afa2f, 0xbd5a4526, 0x45ecfd2c },  /*  87: -1.4231273e+05 -5.3288601e-02  7.5836466e+03 */
+    { 0xbf269073, 0xbe6a9894, 0x3e18a34f },  /*  88: -6.5064162e-01 -2.2909766e-01  1.4906048e-01 */
+    { 0x38b4b0b0, 0xbe0eb24c, 0xb7496fb4 },  /*  89:  8.6159795e-05 -1.3935202e-01 -1.2006542e-05 */
+    { 0xc3688fab, 0xbcb49aa1, 0x40a4117d },  /*  90: -2.3256120e+02 -2.2046389e-02  5.1271348e+00 */
+    { 0xc0e291f1, 0xbaf06a3c, 0x3c54c6d7 },  /*  91: -7.0803151e+00 -1.8342207e-03  1.2986861e-02 */
+    { 0x3204ae58, 0x3e308f22, 0x30b70417 },  /*  92:  7.7230524e-09  1.7242101e-01  1.3316165e-09 */
+    { 0x3fe45ca2, 0x80000000, 0x80000000 },  /*  93:  1.7840769e+00 -0.0000000e+00 -0.0000000e+00 */
+    { 0xbf1dc70b, 0x41739f52, 0xc1162621 },  /*  94: -6.1631840e-01  1.5226397e+01 -9.3843084e+00 */
+    { 0x421aeeb7, 0xc0773c55, 0xc315a0d6 },  /*  95:  3.8733120e+01 -3.8630574e+00 -1.4962826e+02 */
+    { 0x3e77968a, 0x3e4cb1cf, 0x3d45f7ed },  /*  96:  2.4178520e-01  1.9989704e-01  4.8332145e-02 */
+    { 0xbc0cb1c9, 0xba9592b0, 0x37246830 },  /*  97: -8.5873092e-03 -1.1411514e-03  9.7994200e-06 */
+    { 0x415ef3ec, 0xbef3f417, 0xc0d4761e },  /*  98:  1.3934551e+01 -4.7647163e-01 -6.6394184e+00 */
+    { 0xbfe59f74, 0xc0e5d610, 0x414e27a4 },  /*  99: -1.7939286e+00 -7.1823807e+00  1.2884678e+01 */
+    { 0xd36cb86e, 0xbf0ccb4f, 0x530230db },  /* 100: -1.0167065e+12 -5.4997724e-01  5.5916544e+11 */
+    { 0xbbb26ec5, 0x3b0802f0, 0xb73d99ca },  /* 101: -5.4453337e-03  2.0753704e-03 -1.1301084e-05 */
+    { 0x3fc71036, 0xb95d2425, 0xb9abf51a },  /* 102:  1.5551822e+00 -2.1089667e-04 -3.2798276e-04 */
+    { 0xc5c5fa24, 0xbff119a1, 0x463a744e },  /* 103: -6.3352676e+03 -1.8835946e+00  1.1933076e+04 */
+    { 0xbe5482fd, 0xabc61e42, 0x2aa4766e },  /* 104: -2.0753093e-01 -1.4077144e-12  2.9214429e-13 */
+    { 0x2ed38d9d, 0x3fe6518d, 0x2f3e549f },  /* 105:  9.6203247e-11  1.7993637e+00  1.7310463e-10 */
+    { 0x40b4397f, 0x3bfb7873, 0x3d31092b },  /* 106:  5.6320186e+00  7.6742708e-03  4.3221635e-02 */
+    { 0xb948df83, 0xbf088966, 0x38d6451a },  /* 107: -1.9156751e-04 -5.3334653e-01  1.0217187e-04 */
+    { 0xbf470b81, 0x7ac6e882, 0xfa9aa7ad },  /* 108: -7.7751929e-01  5.1639530e+35 -4.0150730e+35 */
+    { 0xc295b2d3, 0x40a009be, 0xc3bb2aed },  /* 109: -7.4849266e+01  5.0011892e+00 -3.7433534e+02 */
+    { 0x3fe25bbd, 0x3be33aa5, 0x3c48eb33 },  /* 110:  1.7684246e+00  6.9344812e-03  1.2263107e-02 */
+    { 0xbdbeeaeb, 0x42b952cf, 0xc10a3585 },  /* 111: -9.3221508e-02  9.2661736e+01 -8.6380667e+00 */
+    { 0x415c946f, 0xc08bf299, 0xc2712b41 },  /* 112:  1.3786239e+01 -4.3733640e+00 -6.0292240e+01 */
+    { 0xc1341c58, 0x3f3758fa, 0xc100fedd },  /* 113: -1.1256920e+01  7.1620142e-01 -8.0622220e+00 */
+    { 0xb2d92a07, 0x3dbe56e8, 0xb12176ea },  /* 114: -2.5281237e-08  9.2939198e-02 -2.3496179e-09 */
+    { 0xc05b69ad, 0xbfa09b3e, 0x4089a71a },  /* 115: -3.4283249e+00 -1.2547376e+00  4.3016483e+00 */
+    { 0x3e3da6ba, 0xc3c2a61f, 0xc290336a },  /* 116:  1.8520632e-01 -3.8929782e+02 -7.2100418e+01 */
+    { 0xbf45062b, 0xb69a37a3, 0x366d610f },  /* 117: -7.6962537e-01 -4.5960346e-06  3.5372248e-06 */
+    { 0xbf42eb2e, 0x3fed0125, 0xbfb47499 },  /* 118: -7.6140106e-01  1.8515974e+00 -1.4098082e+00 */
+    { 0xc12edecf, 0xbf192ec7, 0x40d1463b },  /* 119: -1.0929397e+01 -5.9837002e-01  6.5398232e+00 */
+    { 0xc11b2c98, 0xbf16ae83, 0x40b6abd2 },  /* 120: -9.6983871e+00 -5.8860034e-01  5.7084739e+00 */
+    { 0x3feeccf7, 0xbfce78d9, 0xc04099a9 },  /* 121:  1.8656300e+00 -1.6130630e+00 -3.0093787e+00 */
+    { 0xc0cd95ba, 0xbd1a951a, 0x3e78479e },  /* 122: -6.4245272e+00 -3.7739851e-02  2.4246070e-01 */
+    { 0x3f38ba4e, 0xd2c571ab, 0xd28e7964 },  /* 123:  7.2159278e-01 -4.2400779e+11 -3.0596096e+11 */
+    { 0xba84ef6a, 0xbc86ca21, 0x378bfc8f },  /* 124: -1.0142152e-03 -1.6453804e-02  1.6687698e-05 */
+    { 0x4138a231, 0x3de26055, 0x3fa344a9 },  /* 125:  1.1539598e+01  1.1053530e-01  1.2755329e+00 */
+    { 0x3cc2674a, 0x3fbf52cf, 0x3d1149f2 },  /* 126:  2.3730893e-02  1.4947146e+00  3.5470912e-02 */
+    { 0x428c1f0c, 0x37bb0d0e, 0x3accc3a6 },  /* 127:  7.0060638e+01  2.2298216e-05  1.5622273e-03 */
+    { 0x4f691eb6, 0x40c2d84d, 0x50b16e3e },  /* 128:  3.9111040e+09  6.0889039e+00  2.3814336e+10 */
+    { 0x3fe93b98, 0x3f157a85, 0x3f882f4f },  /* 129:  1.8221312e+00  5.8390075e-01  1.0639437e+00 */
+    { 0x3f3abfde, 0xbf2c0c1b, 0xbefb037c },  /* 130:  7.2949016e-01 -6.7205971e-01 -4.9026095e-01 */
+    { 0xc0601d95, 0x41eb1c10, 0xc2cdd3b9 },  /* 131: -3.5018055e+00  2.9388702e+01 -1.0291352e+02 */
+    { 0x3790c7d5, 0x422660b3, 0x3a3c3089 },  /* 132:  1.7259192e-05  4.1594433e+01  7.1788629e-04 */
+    { 0xbff250db, 0xbfddcd77, 0x4051f248 },  /* 133: -1.8930925e+00 -1.7328328e+00  3.2804128e+00 */
+    { 0x80000000, 0xbe5f8f49, 0x00000000 },  /* 134: -0.0000000e+00 -2.1832003e-01  0.0000000e+00 */
+    { 0x247b52ed, 0xbf24e114, 0xa421de17 },  /* 135:  5.4497190e-17 -6.4405942e-01 -3.5099429e-17 */
+    { 0xc6aa9508, 0x3fe2c8a9, 0xc7171d46 },  /* 136: -2.1834516e+04  1.7717487e+00 -3.8685274e+04 */
+    { 0xbd94a364, 0x43c0b17f, 0xc1dfc333 },  /* 137: -7.2577268e-02  3.8538669e+02 -2.7970313e+01 */
+    { 0xbc756dd0, 0x3d5cff8c, 0xba53df5d },  /* 138: -1.4979795e-02  5.3954646e-02 -8.0822952e-04 */
+    { 0x3f2cc3cd, 0xbcdc4679, 0xbc94a7d3 },  /* 139:  6.7486268e-01 -2.6889073e-02 -1.8146432e-02 */
+    { 0x3efbcf87, 0x3e45a368, 0x3dc2676e },  /* 140:  4.9181768e-01  1.9300616e-01  9.4923841e-02 */
+    { 0x3fe49a1b, 0xc9c536c8, 0xca301b82 },  /* 141:  1.7859529e+00 -1.6155770e+06 -2.8853445e+06 */
+    { 0x3dace801, 0x416e2a87, 0x3fa0dc6a },  /* 142:  8.4426887e-02  1.4885383e+01  1.2567265e+00 */
+    { 0x3feba2b4, 0xc0e18341, 0xc14f92d0 },  /* 143:  1.8409028e+00 -7.0472722e+00 -1.2973343e+01 */
+    { 0xc6b25506, 0x42b29477, 0xc9f8cd14 },  /* 144: -2.2826512e+04  8.9289970e+01 -2.0381786e+06 */
+    { 0x41ee1711, 0x40e20c7a, 0x43523bf8 },  /* 145:  2.9761263e+01  7.0640230e+00  2.1023425e+02 */
+    { 0xbf26c5b2, 0x3e9f6c97, 0xbe4fb70f },  /* 146: -6.5145409e-01  3.1137535e-01 -2.0284675e-01 */
+    { 0xbf3479f9, 0x40f38f09, 0xc0abb49e },  /* 147: -7.0498616e-01  7.6112103e+00 -5.3657979e+00 */
+    { 0xc085a38b, 0xbf250b18, 0x402c5066 },  /* 148: -4.1762137e+00 -6.4470053e-01  2.6924072e+00 */
+    { 0xc1b63219, 0x3e45e85d, 0xc08cd9ed },  /* 149: -2.2774462e+01  1.9326921e-01 -4.4016022e+00 */
+    { 0x4182b548, 0xc080b8ee, 0xc2837220 },  /* 150:  1.6338516e+01 -4.0225744e+00 -6.5722898e+01 */
+    { 0x4088d137, 0xbffc1e8e, 0xc106be47 },  /* 151:  4.2755389e+00 -1.9696825e+00 -8.4214540e+00 */
+    { 0x3fedf086, 0x438deecb, 0x4403eb6c },  /* 152:  1.8589027e+00  2.8386557e+02  5.2767847e+02 */
+    { 0x3f0f26c3, 0xc0ed5688, 0xc084b746 },  /* 153:  5.5918521e-01 -7.4168129e+00 -4.1473721e+00 */
+    { 0xbe164549, 0x390e4ee9, 0xb7a71181 },  /* 154: -1.4674868e-01  1.3571572e-04 -1.9916102e-05 */
+    { 0xbfe2ce75, 0xbe13f991, 0x3e8319a8 },  /* 155: -1.7719256e+00 -1.4450671e-01  2.5605513e-01 */
+    { 0x306c152c, 0x3e4a4105, 0x2f3a84ab },  /* 156:  8.5886387e-10  1.9751365e-01  1.6963734e-10 */
+    { 0x3fe432c1, 0xbd92bd16, 0xbe02cd7f },  /* 157:  1.7827989e+00 -7.1649715e-02 -1.2773703e-01 */
+    { 0x3f0d38ae, 0xc1d398cf, 0xc1697407 },  /* 158:  5.5164611e-01 -2.6449614e+01 -1.4590827e+01 */
+    { 0xc0dc5450, 0xc001cfcb, 0x415f72a6 },  /* 159: -6.8852921e+00 -2.0283077e+00  1.3965491e+01 */
+    { 0x3f5fb599, 0xbfe325bb, 0xbfc67eff },  /* 160:  8.7386471e-01 -1.7745889e+00 -1.5507507e+00 */
+    { 0x3d010cdb, 0xbfd65341, 0xbd58156e },  /* 161:  3.1506401e-02 -1.6744157e+00 -5.2754812e-02 */
+    { 0xc59cb7e5, 0xb8dcca6a, 0x3f0729f3 },  /* 162: -5.0149868e+03 -1.0528120e-04  5.2798383e-01 */
+    { 0xbffb1028, 0x406749a0, 0xc0e2d3c9 },  /* 163: -1.9614305e+00  3.6138687e+00 -7.0883525e+00 */
+    { 0xd53e4e02, 0xbe096225, 0x53cc4169 },  /* 164: -1.3077641e+13 -1.3416345e-01  1.7545414e+12 */
+    { 0x395db9fe, 0x3fd5bf5f, 0x39b92180 },  /* 165:  2.1145490e-04  1.6699027e+00  3.5310910e-04 */
+    { 0x3fd0ee3c, 0x3c45366a, 0x3ca0f3bd },  /* 166:  1.6322703e+00  1.2036899e-02  1.9647473e-02 */
+    { 0x4c65996e, 0x43f68b8c, 0x50dd1e98 },  /* 167:  6.0188088e+07  4.9309021e+02  2.9678157e+10 */
+    { 0x3fe9a179, 0xc21225bf, 0xc285608a },  /* 168:  1.8252403e+00 -3.6536861e+01 -6.6688550e+01 */
+    { 0xbc97a79e, 0xc0b94c79, 0x3ddb8add },  /* 169: -1.8512543e-02 -5.7905850e+00  1.0719846e-01 */
+    { 0x3ffb49dd, 0xbe400ccc, 0xbebc83f5 },  /* 170:  1.9631916e+00 -1.8754882e-01 -3.6819427e-01 */
+    { 0x3fc77e50, 0xbdeb7dba, 0xbe3782ed },  /* 171:  1.5585423e+00 -1.1498590e-01 -1.7921038e-01 */
+    { 0xc30b782c, 0x3ef9b5dc, 0xc2880af7 },  /* 172: -1.3946942e+02  4.8771560e-01 -6.8021413e+01 */
+    { 0xb3bda889, 0x3cdb27b2, 0xb1225c96 },  /* 173: -8.8316547e-08  2.6752327e-02 -2.3626731e-09 */
+    { 0x80000000, 0x420bbf76, 0x80000000 },  /* 174: -0.0000000e+00  3.4936974e+01 -0.0000000e+00 */
+    { 0xbfa9edee, 0xbfd36353, 0x400c5109 },  /* 175: -1.3275735e+00 -1.6514686e+00  2.1924461e+00 */
+    { 0x454b3e54, 0x3b71e511, 0x41400b89 },  /* 176:  3.2518955e+03  3.6910216e-03  1.2002817e+01 */
+    { 0xbd7a0828, 0x416ea8f6, 0xbf69189b },  /* 177: -6.1042935e-02  1.4916250e+01 -9.1053169e-01 */
+    { 0xbdf5db33, 0xbf12c0a2, 0x3d8cf003 },  /* 178: -1.2004700e-01 -5.7325184e-01  6.8817162e-02 */
+    { 0xc272a389, 0x3e0f3b26, 0xc107c169 },  /* 179: -6.0659702e+01  1.3987407e-01 -8.4847195e+00 */
+    { 0xbfdc8b89, 0x3fd836f2, 0xc03a4512 },  /* 180: -1.7230083e+00  1.6891768e+00 -2.9104656e+00 */
+    { 0xbf16958c, 0xc18d9ba4, 0x412697d6 },  /* 181: -5.8821940e-01 -1.7700996e+01  1.0412070e+01 */
+    { 0xbf2a30f0, 0x424aad90, 0xc206be00 },  /* 182: -6.6480923e-01  5.0669495e+01 -3.3685548e+01 */
+    { 0x4117656c, 0x3d0a4a65, 0x3ea39157 },  /* 183:  9.4622612e+00  3.3762354e-02  3.1946822e-01 */
+    { 0xc10b7460, 0xbdd92ace, 0x3f6c99ed },  /* 184: -8.7159119e+00 -1.0603867e-01  9.2422374e-01 */
+    { 0x3fed7173, 0xc85eeac3, 0xc8cec220 },  /* 185:  1.8550247e+00 -2.2826705e+05 -4.2344101e+05 */
+    { 0xe0908f5e, 0xbfee00c3, 0x610665b8 },  /* 186: -8.3333183e+19 -1.8593982e+00  1.5494957e+20 */
+    { 0xc0d3d443, 0x3fe5353b, 0xc13da8ec },  /* 187: -6.6196609e+00  1.7906870e+00 -1.1853740e+01 */
+    { 0xc11241e0, 0x409efe12, 0xc235aba0 },  /* 188: -9.1410828e+00  4.9685144e+00 -4.5417602e+01 */
+    { 0xbf09d579, 0xbfb91bad, 0x3f475456 },  /* 189: -5.3841358e-01 -1.4461571e+00  7.7863063e-01 */
+    { 0x40b4bdfe, 0x3b7dd857, 0x3cb33882 },  /* 190:  5.6481924e+00  3.8733685e-03  2.1877531e-02 */
+    { 0x3f34eccf, 0x40adcb44, 0x4075a75f },  /* 191:  7.0673841e-01  5.4310627e+00  3.8383406e+00 */
+    { 0x3f4612be, 0x3fe0579a, 0x3fad942e },  /* 192:  7.7372348e-01  1.7526734e+00  1.3560846e+00 */
+    { 0xbe7a9e86, 0xbf12ff67, 0x3e0fe871 },  /* 193: -2.4474534e-01 -5.7420963e-01  1.4053513e-01 */
+    { 0xc10482c8, 0x40ebfb0a, 0xc2744bfe },  /* 194: -8.2819290e+00  7.3743944e+00 -6.1074211e+01 */
+    { 0xbf007198, 0xb86a1b83, 0x37eaeb45 },  /* 195: -5.0173330e-01 -5.5815570e-05  2.8004530e-05 */
+    { 0x3f28d1d2, 0x3e278ab0, 0x3ddcf8aa },  /* 196:  6.5945160e-01  1.6361499e-01  1.0789617e-01 */
+    { 0x3fc7b70f, 0xc285fa1d, 0xc2d10a74 },  /* 197:  1.5602740e+00 -6.6988503e+01 -1.0452042e+02 */
+    { 0xc0c2848c, 0x4400ba0c, 0xc5439f47 },  /* 198: -6.0786800e+00  5.1490698e+02 -3.1299548e+03 */
+    { 0x41971d12, 0xc308f99b, 0xc521b591 },  /* 199:  1.8889194e+01 -1.3697502e+02 -2.5873478e+03 */
+    { 0xbffcf661, 0xc2a3fa4c, 0x43220833 },  /* 200: -1.9762689e+00 -8.1988861e+01  1.6203204e+02 */
+    { 0x40ea069c, 0xc7187e91, 0xc88b67a0 },  /* 201:  7.3133068e+00 -3.9038566e+04 -2.8550101e+05 */
+    { 0xbfecc62a, 0xbfdd94ea, 0x404cf0cd },  /* 202: -1.8497975e+00 -1.7311070e+00  3.2021974e+00 */
+    { 0x400bcd02, 0xc184d4b8, 0xc21113bf },  /* 203:  2.1843877e+00 -1.6603867e+01 -3.6269282e+01 */
+    { 0x458da172, 0x3f37d0ba, 0x454b63c5 },  /* 204:  4.5321807e+03  7.1802866e-01  3.2542356e+03 */
+    { 0x49d106eb, 0x41a4af15, 0x4c067763 },  /* 205:  1.7123494e+06  2.0585489e+01  3.5249550e+07 */
+    { 0x3fe1101e, 0x443ea61c, 0x44a79bff },  /* 206:  1.7583044e+00  7.6259546e+02  1.3408749e+03 */
+    { 0xbf3a6740, 0xbf26dd5d, 0x3ef30045 },  /* 207: -7.2813797e-01 -6.5181524e-01  4.7461142e-01 */
+    { 0x3d70362c, 0xbffd002f, 0xbded65b6 },  /* 208:  5.8645412e-02 -1.9765681e+00 -1.1591665e-01 */
+    { 0x4153ee83, 0xbea37a6d, 0xc0875637 },  /* 209:  1.3245730e+01 -3.1929341e-01 -4.2292744e+00 */
+    { 0xbd64d25c, 0xbcddb171, 0x3ac62834 },  /* 210: -5.5864677e-02 -2.7062150e-02  1.5118182e-03 */
+    { 0xbbe4a76b, 0x3cccc8d0, 0xb936e8c6 },  /* 211: -6.9779656e-03  2.4998099e-02 -1.7443587e-04 */
+    { 0xc197e2ad, 0xbf28695d, 0x4147d689 },  /* 212: -1.8985682e+01 -6.5785772e-01  1.2489877e+01 */
+    { 0xc0dd43e3, 0xbf2af3af, 0x4093c1b3 },  /* 213: -6.9145370e+00 -6.6778082e-01  4.6173951e+00 */
+    { 0xbafe53a0, 0x3fc7964c, 0xbb464852 },  /* 214: -1.9403584e-03  1.5592742e+00 -3.0255508e-03 */
+    { 0x510eda09, 0x40daa864, 0x52740745 },  /* 215:  3.8346461e+10  6.8330555e+00  2.6202350e+11 */
+    { 0xbeb4edb3, 0xbd2b3278, 0x3c71fce4 },  /* 216: -3.5337600e-01 -4.1796178e-02  1.4769766e-02 */
+    { 0x40c04255, 0x380cd163, 0x3953830e },  /* 217:  6.0080972e+00  3.3573608e-05  2.0171350e-04 */
+    { 0xeeb9b9e4, 0x395447fa, 0xe89a0229 },  /* 218: -2.8739727e+28  2.0244709e-04 -5.8182741e+24 */
+    { 0xbda0f171, 0x3ff97dac, 0xbe1cd9d9 },  /* 219: -7.8585513e-02  1.9491477e+00 -1.5317477e-01 */
+    { 0xc134b29f, 0x5491df5a, 0xd64deda6 },  /* 220: -1.1293609e+01  5.0121398e+12 -5.6605146e+13 */
+    { 0x45500303, 0x3d6a2ed9, 0x433e48d2 },  /* 221:  3.3281882e+03  5.7173584e-02  1.9028445e+02 */
+    { 0x306ecb41, 0x00000000, 0x00000000 },  /* 222:  8.6872737e-10  0.0000000e+00  0.0000000e+00 */
+    { 0xc0f69141, 0xbfdca46e, 0x41548333 },  /* 223: -7.7052312e+00 -1.7237680e+00  1.3282031e+01 */
+    { 0xbffe68b3, 0x3f2e4a76, 0xbfad3529 },  /* 224: -1.9875702e+00  6.8082368e-01 -1.3531848e+00 */
+    { 0xbf1b16fc, 0xc1b3156c, 0x4158fc19 },  /* 225: -6.0581946e-01 -2.2385460e+01  1.3561547e+01 */
+    { 0x80000000, 0x412dbba8, 0x80000000 },  /* 226: -0.0000000e+00  1.0858315e+01 -0.0000000e+00 */
+    { 0x3fbe0ba0, 0x38eb5a84, 0x392eb7de },  /* 227:  1.4847298e+00  1.1222533e-04  1.6662429e-04 */
+    { 0x3ad3d1a0, 0x40c96e01, 0x3c26aa9c },  /* 228:  1.6160496e-03  6.2946782e+00  1.0172512e-02 */
+    { 0x3fc09e1a, 0xbbf95520, 0xbc3b99d4 },  /* 229:  1.5048249e+00 -7.6090246e-03 -1.1450250e-02 */
+    { 0x3d238ccd, 0x3c632263, 0x3a111bd2 },  /* 230:  3.9929200e-02  1.3863179e-02  5.5354564e-04 */
+    { 0x406cf28f, 0xbf184d1a, 0xc00cf762 },  /* 231:  3.7023046e+00 -5.9492648e-01 -2.2025990e+00 */
+    { 0x3f4e39a2, 0x43679a0f, 0x433a921c },  /* 232:  8.0556691e-01  2.3160179e+02  1.8657074e+02 */
+    { 0xbe0b2bad, 0xbde07b7f, 0x3c7412b5 },  /* 233: -1.3590880e-01 -1.0961055e-01  1.4897038e-02 */
+    { 0xb51088a6, 0x45ba1db1, 0xbb522818 },  /* 234: -5.3843030e-07  5.9557114e+03 -3.2067355e-03 */
+    { 0x3e8f6c30, 0x3ddf27a5, 0x3cfa0ae7 },  /* 235:  2.8012228e-01  1.0896233e-01  3.0522778e-02 */
+    { 0xbe2b8c42, 0xbd8a9b47, 0x3c39c352 },  /* 236: -1.6752723e-01 -6.7678981e-02  1.1338072e-02 */
+    { 0x3ef3ba1a, 0x3783b05b, 0x36fac044 },  /* 237:  4.7602922e-01  1.5698539e-05  7.4729632e-06 */
+    { 0xbe85860c, 0xbfe20867, 0x3eebc971 },  /* 238: -2.6078832e-01 -1.7658814e+00  4.6052125e-01 */
+    { 0xb8cc18d5, 0xc7742370, 0x40c2a3ec },  /* 239: -9.7321034e-05 -6.2499438e+04  6.0825099e+00 */
+    { 0xbe6e0dac, 0x3e297ee7, 0xbd1d9d08 },  /* 240: -2.3247403e-01  1.6552316e-01 -3.8479835e-02 */
+    { 0xbcf8505b, 0x3f293ef6, 0xbca42a1e },  /* 241: -3.0311754e-02  6.6111696e-01 -2.0039615e-02 */
+    { 0x3f0ee6bb, 0x3fd17f3a, 0x3f69e2c7 },  /* 242:  5.5820817e-01  1.6366951e+00  9.1361660e-01 */
+    { 0x3e89eb4d, 0xbe155488, 0xbd20e6fd },  /* 243:  2.6937333e-01 -1.4583027e-01 -3.9282786e-02 */
+    { 0xbdc1181d, 0x4187a3cc, 0xbfcc9e87 },  /* 244: -9.4284274e-02  1.6954979e+01 -1.5985879e+00 */
+    { 0xc37ad088, 0xbf1a75a3, 0x431754b3 },  /* 245: -2.5081458e+02 -6.0335749e-01  1.5133085e+02 */
+    { 0x3d581a85, 0x407960a6, 0x3e528361 },  /* 246:  5.2759666e-02  3.8965240e+00  2.0557930e-01 */
+    { 0x3e778bc5, 0xbdd54fc4, 0xbcce446d },  /* 247:  2.4174412e-01 -1.0415605e-01 -2.5179112e-02 */
+    { 0xbffb52e2, 0xbe85f090, 0x3f037e3a },  /* 248: -1.9634669e+00 -2.6160097e-01  5.1364484e-01 */
+    { 0x3e6f20fb, 0x3e01a477, 0x3cf2327e },  /* 249:  2.3352425e-01  1.2660395e-01  2.9565091e-02 */
+    { 0x3fa7578e, 0xc1b800f3, 0xc1f08f1a },  /* 250:  1.3073595e+00 -2.3000463e+01 -3.0069873e+01 */
+    { 0x48cf7622, 0x3e9ec982, 0x4800ae36 },  /* 251:  4.2488106e+05  3.1013113e-01  1.3176885e+05 */
+    { 0x3b315dc3, 0xc2d00c7d, 0xbe9024d5 },  /* 252:  2.7063943e-03 -1.0402439e+02 -2.8153102e-01 */
+    { 0xc1038e71, 0xbe7c0395, 0x4001820e },  /* 253: -8.2222757e+00 -2.4610741e-01  2.0235630e+00 */
+    { 0x4ce2e2d2, 0x4489ba21, 0x51f420b1 },  /* 254:  1.1895362e+08  1.1018165e+03  1.3106506e+11 */
+    { 0xc0b8b4b0, 0xbcab14cc, 0x3df6df66 },  /* 255: -5.7720566e+00 -2.0883940e-02  1.2054328e-01 */
+    { 0x3f1216f5, 0xbff911e9, 0xbf8e228d },  /* 256:  5.7066280e-01 -1.9458591e+00 -1.1104294e+00 */
+    { 0xbde37eb4, 0xc0eef23c, 0x3f54570e },  /* 257: -1.1108151e-01 -7.4670696e+00  8.2945338e-01 */
+    { 0xc0f740c7, 0x41948fc1, 0xc30f7c4b },  /* 258: -7.7266574e+00  1.8570192e+01 -1.4348551e+02 */
+    { 0x3d73ae65, 0x3cdf6c11, 0x3ad4abc8 },  /* 259:  5.9492487e-02  2.7273210e-02  1.6225511e-03 */
+    { 0xbe8c7b62, 0x40c614a8, 0xbfd96587 },  /* 260: -2.7437884e-01  6.1900215e+00 -1.6984109e+00 */
+    { 0x42d20f31, 0x3f323b9e, 0x42923f7b },  /* 261:  1.0502967e+02  6.9622219e-01  7.3123987e+01 */
+    { 0x3fd28f4a, 0x4eb424eb, 0x4f142b1d },  /* 262:  1.6449978e+00  1.5111592e+09  2.4858536e+09 */
+    { 0x3fe5422e, 0xbe2eaf86, 0xbe9c702c },  /* 263:  1.7910821e+00 -1.7059144e-01 -3.0554329e-01 */
+    { 0x273d9ea6, 0x80000000, 0x80000000 },  /* 264:  2.6315022e-15 -0.0000000e+00 -0.0000000e+00 */
+    { 0x4799893e, 0xc11ef6d4, 0xc93ead7b },  /* 265:  7.8610484e+04 -9.9352608e+00 -7.8101566e+05 */
+    { 0xc15a8a5a, 0x3f21c64a, 0xc10a1a49 },  /* 266: -1.3658777e+01  6.3193190e-01 -8.6314171e+00 */
+    { 0xbe48c707, 0xcef586cf, 0x4dc09034 },  /* 267: -1.9607173e-01 -2.0596264e+09  4.0383450e+08 */
+    { 0xbd51e27c, 0x3f15a65a, 0xbcf5626a },  /* 268: -5.1241383e-02  5.8456957e-01 -2.9954153e-02 */
+    { 0x3c54fbd6, 0x3d68dd6c, 0x3a41bc71 },  /* 269:  1.2999495e-02  5.6851789e-02  7.3904458e-04 */
+    { 0xb9a2bcf6, 0xbc61775e, 0x368f53f6 },  /* 270: -3.1039835e-04 -1.3761370e-02  4.2715064e-06 */
+    { 0x2bd37be6, 0x63ca0ca6, 0x5026ea36 },  /* 271:  1.5026840e-12  7.4543074e+21  1.1201469e+10 */
+    { 0xc0fcce53, 0x3e895784, 0xc007a0d7 },  /* 272: -7.9001861e+00  2.6824582e-01 -2.1191919e+00 */
+    { 0x37302027, 0x3d386769, 0x34fdbc82 },  /* 273:  1.0497904e-05  4.5020495e-02  4.7262081e-07 */
+    { 0x3f2239cf, 0x3d67f232, 0x3d12fba4 },  /* 274:  6.3369459e-01  5.6627460e-02  3.5884515e-02 */
+    { 0x3d70e787, 0xba3c2fc1, 0xb83116f7 },  /* 275:  5.8814552e-02 -7.1787467e-04 -4.2221477e-05 */
+    { 0xbfe60d60, 0xd176af87, 0x51ddae97 },  /* 276: -1.7972832e+00 -6.6219176e+10  1.1901461e+11 */
+    { 0xbd624b90, 0xc2054a76, 0x3feba628 },  /* 277: -5.5247843e-02 -3.3322716e+01  1.8410082e+00 */
+    { 0xbfd2350a, 0xc1787486, 0x41cc0310 },  /* 278: -1.6422436e+00 -1.5528448e+01  2.5501495e+01 */
+    { 0x410c08a9, 0xc0aa8b5e, 0xc23a93f9 },  /* 279:  8.7521143e+00 -5.3295126e+00 -4.6644503e+01 */
+    { 0x3f265b30, 0x3f008afc, 0x3ea70fd2 },  /* 280:  6.4982891e-01  5.0212073e-01  3.2629257e-01 */
+    { 0x2f30d351, 0x4d4802e6, 0x3d0a2718 },  /* 281:  1.6082181e-10  2.0972707e+08  3.3728688e-02 */
+    { 0xc1ccbbc5, 0xc3fbadef, 0x46494734 },  /* 282: -2.5591684e+01 -5.0335886e+02  1.2881801e+04 */
+    { 0x444bcc2c, 0x3f083c0b, 0x43d8e888 },  /* 283:  8.1519019e+02  5.3216618e-01  4.3381665e+02 */
+    { 0xc3f40ea6, 0xbf45eb0b, 0x43bcaf5a },  /* 284: -4.8811444e+02 -7.7311772e-01  3.7736992e+02 */
+    { 0xbbcf1ec2, 0x40ba73ea, 0xbd16da21 },  /* 285: -6.3208053e-03  5.8266497e+00 -3.6829118e-02 */
+    { 0x3dcaa23c, 0xbf1bb9b3, 0xbd76866f },  /* 286:  9.8942250e-02 -6.0830230e-01 -6.0186798e-02 */
+    { 0xb5fe824a, 0x3de8e1bf, 0xb4678681 },  /* 287: -1.8962394e-06  1.1371183e-01 -2.1562484e-07 */
+    { 0xbe76fae7, 0x419d5d39, 0xc097d1d0 },  /* 288: -2.4119149e-01  1.9670519e+01 -4.7443618e+00 */
+    { 0x3fcf866b, 0xc130fd6c, 0xc18f79d9 },  /* 289:  1.6212896e+00 -1.1061871e+01 -1.7934496e+01 */
+    { 0xbbc56dfe, 0xc096a57e, 0x3ce85c28 },  /* 290: -6.0250750e-03 -4.7077017e+00  2.8364256e-02 */
+    { 0xbdb3a0c0, 0xbfc300d1, 0x3e08d405 },  /* 291: -8.7708950e-02 -1.5234624e+00  1.3362129e-01 */
+    { 0x3f0a6bb2, 0x4d7e49b7, 0x4d097eb6 },  /* 292:  5.4070580e-01  2.6664024e+08  1.4417392e+08 */
+    { 0xbf195698, 0xbdb6b470, 0x3d5adf48 },  /* 293: -5.9897757e-01 -8.9211345e-02  5.3435594e-02 */
+    { 0x00000000, 0x3f0baa95, 0x00000000 },  /* 294:  0.0000000e+00  5.4557163e-01  0.0000000e+00 */
+    { 0x3fd75fd1, 0x3e0bf701, 0x3e6b81aa },  /* 295:  1.6826116e+00  1.3668443e-01  2.2998681e-01 */
+    { 0x3dc2fdec, 0x40e0fc20, 0x3f2b5e39 },  /* 296:  9.5210880e-02  7.0307770e+00  6.6940646e-01 */
+    { 0xc4c61970, 0xbfe0b74e, 0x452de41b },  /* 297: -1.5847949e+03 -1.7555940e+00  2.7822565e+03 */
+    { 0xbf1fa467, 0xb8b67b11, 0x38639740 },  /* 298: -6.2360233e-01 -8.7013592e-05  5.4261879e-05 */
+    { 0xbd34b99b, 0xd2e1bfe2, 0x509f5e97 },  /* 299: -4.4122320e-02 -4.8479345e+11  2.1390212e+10 */
+    { 0x44a687a0, 0x3ff81909, 0x452163ac },  /* 300:  1.3322383e+03  1.9382640e+00  2.5822295e+03 */
+    { 0x41c889e3, 0x401118c4, 0x42635300 },  /* 301:  2.5067327e+01  2.2671366e+00  5.6831055e+01 */
+    { 0x3de3ce15, 0xbe565907, 0xbcbebd7e },  /* 302:  1.1123291e-01 -2.0932399e-01 -2.3283717e-02 */
+    { 0x3c28b572, 0x3f46d3f3, 0x3c030804 },  /* 303:  1.0297166e-02  7.7667159e-01  7.9975164e-03 */
+    { 0x3e77e1ad, 0xaf7576a7, 0xae6dadde },  /* 304:  2.4207182e-01 -2.2324774e-10 -5.4041987e-11 */
+    { 0xba103630, 0x382b5c32, 0xb2c11043 },  /* 305: -5.5012386e-04  4.0855441e-05 -2.2475553e-08 */
+    { 0x3e7896ac, 0xbe0b3391, 0xbd072be2 },  /* 306:  2.4276227e-01 -1.3593890e-01 -3.3000835e-02 */
+    { 0xbfe1d728, 0xbbbdcdd0, 0x3c277169 },  /* 307: -1.7643785e+00 -5.7923570e-03  1.0219910e-02 */
+    { 0x4107276e, 0x410d3c82, 0x42952153 },  /* 308:  8.4471264e+00  8.8272724e+00  7.4565086e+01 */
+    { 0x41ec810a, 0x42760ea2, 0x44e35184 },  /* 309:  2.9563007e+01  6.1514290e+01  1.8185474e+03 */
+    { 0x0650546b, 0xbf0cc4fb, 0x85e51cef },  /* 310:  3.9182473e-35 -5.4988068e-01 -2.1545685e-35 */
+    { 0x570a2c59, 0xbe6494d8, 0xd5f6bfab },  /* 311:  1.5192308e+14 -2.2322404e-01 -3.3912883e+13 */
+    { 0xc2eea68e, 0xc1a175de, 0x451684a0 },  /* 312: -1.1932530e+02 -2.0182552e+01  2.4082892e+03 */
+    { 0xbda3fea3, 0xb6d70cfc, 0x3509c32c },  /* 313: -8.0075525e-02 -6.4090109e-06  5.1320491e-07 */
+    { 0xc6b50e96, 0x3da095a0, 0xc4e325e1 },  /* 314: -2.3175293e+04  7.8410387e-02 -1.8171837e+03 */
+    { 0x3fb8e55d, 0x3f405355, 0x3f8ae836 },  /* 315:  1.4444996e+00  7.5127155e-01  1.0852115e+00 */
+    { 0x4160dc9d, 0x3f06e733, 0x40ecfd1c },  /* 316:  1.4053861e+01  5.2696532e-01  7.4058972e+00 */
+    { 0x41d7c197, 0x406fb113, 0x42ca02f9 },  /* 317:  2.6969526e+01  3.7451828e+00  1.0100580e+02 */
+    { 0xbfb92520, 0xbe61b952, 0x3ea33fa8 },  /* 318: -1.4464455e+00 -2.2043350e-01  3.1884504e-01 */
+    { 0xbf0d4f40, 0x3d8dd893, 0xbd1c9865 },  /* 319: -5.5199051e-01  6.9260739e-02 -3.8231270e-02 */
+    { 0x2ee4a648, 0x3f087f2d, 0x2e73d3da },  /* 320:  1.0397777e-10  5.3319055e-01  5.5439965e-11 */
+    { 0x52df3758, 0x413aa8ee, 0x54a2c182 },  /* 321:  4.7935311e+11  1.1666243e+01  5.5922497e+12 */
+    { 0xc2f8cd07, 0x3e405da5, 0xc1baf4c8 },  /* 322: -1.2440044e+02  1.8785723e-01 -2.3369522e+01 */
+    { 0xbf2765c5, 0x474fb230, 0xc707cfce },  /* 323: -6.5389663e-01  5.3170188e+04 -3.4767806e+04 */
+    { 0x3fc49a8e, 0x446f5cb9, 0x44b7d380 },  /* 324:  1.5359666e+00  9.5744879e+02  1.4706094e+03 */
+    { 0x4175fdf8, 0x3ca3ef04, 0x3e9d8661 },  /* 325:  1.5374504e+01  2.0011432e-02  3.0766585e-01 */
+    { 0xbf0b1740, 0x44b2a936, 0xc4422434 },  /* 326: -5.4332352e-01  1.4292878e+03 -7.7656570e+02 */
+    { 0xc177a403, 0x3be4bb53, 0xbddd4348 },  /* 327: -1.5477542e+01  6.9803386e-03 -1.0803848e-01 */
+    { 0xc00223d1, 0x3c39b083, 0xbcbccb3b },  /* 328: -2.0334361e+00  1.1333588e-02 -2.3046126e-02 */
+    { 0x38a4a82c, 0x3df288d1, 0x371bfef9 },  /* 329:  7.8514538e-05  1.1842502e-01  9.2980857e-06 */
+    { 0xc0ed7b7c, 0x45e22066, 0xc751c512 },  /* 330: -7.4213238e+00  7.2360498e+03 -5.3701068e+04 */
+    { 0x3c89204e, 0xa79fd965, 0xa4ab3f06 },  /* 331:  1.6739037e-02 -4.4367065e-15 -7.4266194e-17 */
+    { 0xc4ec4b42, 0x40b7acfb, 0xc6298976 },  /* 332: -1.8903518e+03  5.7398658e+00 -1.0850366e+04 */
+    { 0x430321f3, 0xbf0fb784, 0xc2933bef },  /* 333:  1.3113261e+02 -5.6139398e-01 -7.3617060e+01 */
+    { 0xbfd05cc6, 0x3e015746, 0xbe528b91 },  /* 334: -1.6278312e+00  1.2630948e-01 -2.0561052e-01 */
+    { 0xbb6b7445, 0x412ab413, 0xbd1d00d5 },  /* 335: -3.5927456e-03  1.0668963e+01 -3.8330872e-02 */
+    { 0x3cc283f1, 0x3dbc23b9, 0x3b0ef40a },  /* 336:  2.3744555e-02  9.1865011e-02  2.1812938e-03 */
+    { 0xbfba6c03, 0xc26e0748, 0x42ad55b8 },  /* 337: -1.4564213e+00 -5.9507111e+01  8.6667421e+01 */
+    { 0xbf33d502, 0x3dcce6a8, 0xbd8fefc5 },  /* 338: -7.0246899e-01  1.0004932e-01 -7.0281543e-02 */
+    { 0x3b339258, 0xc91a9d1a, 0xc4d8e878 },  /* 339:  2.7400460e-03 -6.3329762e+05 -1.7352646e+03 */
+    { 0x3d6ab42c, 0x4122a021, 0x3f1518d3 },  /* 340:  5.7300732e-02  1.0164094e+01  5.8241002e-01 */
+    { 0x3fde6171, 0xc78d7cd2, 0xc7f5d032 },  /* 341:  1.7373487e+00 -7.2441641e+04 -1.2585639e+05 */
+    { 0xbf07d05f, 0xb9b2b342, 0x393d9bf8 },  /* 342: -5.3052324e-01 -3.4084363e-04  1.8082547e-04 */
+    { 0xc12f5fa5, 0x3b30f6f4, 0xbcf275dd },  /* 343: -1.0960851e+01  2.7002664e-03 -2.9597217e-02 */
+    { 0xbaf0a1d8, 0x3eff1b14, 0xba6fcaaa },  /* 344: -1.8358780e-03  4.9825346e-01 -9.1473258e-04 */
+    { 0xc154aa89, 0xb80fb4ef, 0x39eec322 },  /* 345: -1.3291635e+01 -3.4262364e-05  4.5540283e-04 */
+    { 0x430c4323, 0xc0062727, 0xc3930130 },  /* 346:  1.4026225e+02 -2.0961397e+00 -2.9400927e+02 */
+    { 0x45f0df1d, 0x3a6a29c8, 0x40dc5340 },  /* 347:  7.7078892e+03  8.9326175e-04  6.8851626e+00 */
+    { 0x3e59a8a7, 0x3f1eb563, 0x3e06f04f },  /* 348:  2.1255742e-01  6.1995524e-01  1.3177609e-01 */
+    { 0xbdc5e44b, 0x41a14db6, 0xbff9614b },  /* 349: -9.6626841e-02  2.0162945e+01 -1.9482817e+00 */
+    { 0x4181bede, 0xc0d134bb, 0xc2d40f1a },  /* 350:  1.6218197e+01 -6.5376868e+00 -1.0602949e+02 */
+    { 0xbeffbbfe, 0x41488b54, 0xc0c8560d },  /* 351: -4.9948114e-01  1.2534016e+01 -6.2605044e+00 */
+    { 0x40c6c323, 0x3fe97a5a, 0x4135469a },  /* 352:  6.2113204e+00  1.8240464e+00  1.1329736e+01 */
+    { 0x43048c71, 0x3f2121fc, 0x42a6dbd7 },  /* 353:  1.3254860e+02  6.2942481e-01  8.3429377e+01 */
+    { 0xbdbfd4c8, 0xc525fd84, 0x4378c43a },  /* 354: -9.3667567e-02 -2.6558447e+03  2.4876651e+02 */
+    { 0x3e3914b9, 0x3ff75a5c, 0x3eb2d452 },  /* 355:  1.8074311e-01  1.9324450e+00  3.4927613e-01 */
+    { 0x3ffcd4ea, 0x3dcbcc88, 0x3e4946d6 },  /* 356:  1.9752476e+00  9.9511206e-02  1.9655927e-01 */
+    { 0x3dea1931, 0x3f3fafb0, 0x3daf4974 },  /* 357:  1.1430586e-01  7.4877453e-01  8.5589317e-02 */
+    { 0xc0667dc5, 0x3ef35de7, 0xbfdb1dee },  /* 358: -3.6014264e+00  4.7532579e-01 -1.7118508e+00 */
+    { 0xc0aef88b, 0x3fdff2be, 0xc119106a },  /* 359: -5.4678397e+00  1.7495954e+00 -9.5665072e+00 */
+    { 0xc474e744, 0xbe949327, 0x438e2279 },  /* 360: -9.7961353e+02 -2.9018518e-01  2.8426933e+02 */
+    { 0xc09cba90, 0x40e4ff43, 0xc20c326f },  /* 361: -4.8977737e+00  7.1561599e+00 -3.5049252e+01 */
+    { 0x40659e0a, 0xb2f2b843, 0xb3d9b4ab },  /* 362:  3.5877709e+00 -2.8256300e-08 -1.0137713e-07 */
+    { 0xc1aeb408, 0x3fca0724, 0xc209deee },  /* 363: -2.1837906e+01  1.5783429e+00 -3.4467704e+01 */
+    { 0xb443e844, 0xc131f10f, 0x36082c10 },  /* 364: -1.8245288e-07 -1.1121352e+01  2.0291227e-06 */
+    { 0x3cd2b17d, 0x40c67eae, 0x3e235d89 },  /* 365:  2.5719399e-02  6.2029638e+00  1.5953650e-01 */
+    { 0x3f46045b, 0x41ba55de, 0x41902195 },  /* 366:  7.7350396e-01  2.3291927e+01  1.8016398e+01 */
+    { 0xa3ee2cbc, 0x40be6842, 0xa5312633 },  /* 367: -2.5822957e-17  5.9502268e+00 -1.5365245e-16 */
+    { 0x404ff4c5, 0x41123463, 0x41ed884d },  /* 368:  3.2493145e+00  9.1377897e+00  2.9691553e+01 */
+    { 0x42483f82, 0x3cc36d63, 0x3f98ddf1 },  /* 369:  5.0062019e+01  2.3855871e-02  1.1942731e+00 */
+    { 0xbd9426af, 0x3c92c8e3, 0xbaa9e4a3 },  /* 370: -7.2339408e-02  1.7918056e-02 -1.2961816e-03 */
+    { 0xbe75d901, 0x41105f12, 0xc00aa55d },  /* 371: -2.4008562e-01  9.0232105e+00 -2.1663431e+00 */
+    { 0x3cd6f2ee, 0x3f1393d4, 0x3c77d33c },  /* 372:  2.6238885e-02  5.7647443e-01  1.5126046e-02 */
+    { 0x42cdf968, 0xb9cce355, 0xbd24d9a7 },  /* 373:  1.0298712e+02 -3.9079288e-04 -4.0246634e-02 */
+    { 0x3f0e1ed9, 0x3f23ff86, 0x3eb616ff },  /* 374:  5.5515820e-01  6.4061773e-01  3.5564418e-01 */
+    { 0xbfea41a2, 0x40c7505a, 0xc136628c },  /* 375: -1.8301280e+00  6.2285585e+00 -1.1399059e+01 */
+    { 0x3a8afbf4, 0xbddd0ccb, 0xb8f004e7 },  /* 376:  1.0603652e-03 -1.0793456e-01 -1.1445005e-04 */
+    { 0xc11d5778, 0xc21f8435, 0x43c4152a },  /* 377: -9.8338547e+00 -3.9879108e+01  3.9216536e+02 */
+    { 0xbdd12265, 0x3d90c3bf, 0xbbec8684 },  /* 378: -1.0211638e-01  7.0685856e-02 -7.2181840e-03 */
+    { 0xbc54a868, 0x3c91bc5d, 0xb9721fb8 },  /* 379: -1.2979604e-02  1.7790014e-02 -2.3090734e-04 */
+    { 0xbae1af42, 0xbeefa82c, 0x3a5346e0 },  /* 380: -1.7218369e-03 -4.6807992e-01  8.0595727e-04 */
+    { 0x3e65dc0d, 0x44384a5d, 0x432578ee },  /* 381:  2.2447224e-01  7.3716193e+02  1.6547239e+02 */
+    { 0xbf17e0f3, 0x41b31e13, 0xc1548843 },  /* 382: -5.9327620e-01  2.2389685e+01 -1.3283267e+01 */
+    { 0xbff3e857, 0xbbc6957f, 0x3c3d3423 },  /* 383: -1.9055279e+00 -6.0603018e-03  1.1548074e-02 */
+    { 0x3deb509b, 0x3e56b941, 0x3cc55fab },  /* 384:  1.1489984e-01  2.0969106e-01  2.4093469e-02 */
+    { 0x40047356, 0xbf1be15e, 0xbfa14cde },  /* 385:  2.0695395e+00 -6.0890758e-01 -1.2601583e+00 */
+    { 0xbfba70be, 0xbf168958, 0x3f5b442c },  /* 386: -1.4565656e+00 -5.8803320e-01  8.5650894e-01 */
+    { 0xbdd66f42, 0xbe7709b4, 0x3cceed79 },  /* 387: -1.0470439e-01 -2.4124795e-01  2.5259721e-02 */
+    { 0x3f155ad5, 0xc88ce46f, 0xc82465e4 },  /* 388:  5.8341724e-01 -2.8854747e+05 -1.6834357e+05 */
+    { 0xbca38167, 0xbcce7020, 0x3a03d9be },  /* 389: -1.9959165e-02 -2.5199950e-02  5.0296995e-04 */
+    { 0xbf349945, 0x3f41141e, 0xbf0835be },  /* 390: -7.0546371e-01  7.5421321e-01 -5.3207005e-01 */
+    { 0x3a16aa0b, 0x41e443af, 0x3c865747 },  /* 391:  5.7473843e-04  2.8533049e+01  1.6399040e-02 */
+    { 0x412929bf, 0xd32f5869, 0xd4e7bbeb },  /* 392:  1.0572692e+01 -7.5310255e+11 -7.9623213e+12 */
+    { 0xbc98c4f3, 0xbfc0d768, 0x3ce62883 },  /* 393: -1.8648600e-02 -1.5065737e+00  2.8095490e-02 */
+    { 0x00000000, 0x3ac90b3a, 0x00000000 },  /* 394:  0.0000000e+00  1.5338429e-03  0.0000000e+00 */
+    { 0xc1ebf5ba, 0x3cc6ea4c, 0xbf375803 },  /* 395: -2.9494984e+01  2.4281643e-02 -7.1618667e-01 */
+    { 0xca7634a8, 0x42893ddf, 0xcd83fdaf },  /* 396: -4.0338340e+06  6.8620842e+01 -2.7680509e+08 */
+    { 0xbc484803, 0xbddca7cf, 0x3aaca12c },  /* 397: -1.2224200e-02 -1.0774194e-01  1.3170591e-03 */
+    { 0x062523bf, 0x4298bec3, 0x0945108f },  /* 398:  3.1059313e-35  7.6372581e+01  2.3720799e-33 */
+    { 0xbf158913, 0x3f1c608a, 0xbeb6afd7 },  /* 399: -5.8412284e-01  6.1084807e-01 -3.5681031e-01 */
+    { 0x52a7c74b, 0x3f020df6, 0x522a78b5 },  /* 400:  3.6030156e+11  5.0802553e-01  1.8304239e+11 */
+    { 0xc11e38c0, 0x40c861e8, 0xc277b1b2 },  /* 401: -9.8888550e+00  6.2619514e+00 -6.1923530e+01 */
+    { 0xc13345bd, 0xc0addbc8, 0x42738013 },  /* 402: -1.1204526e+01 -5.4330788e+00  6.0875072e+01 */
+    { 0xbb253270, 0xc1443027, 0x3cfd3361 },  /* 403: -2.5207065e-03 -1.2261756e+01  3.0908288e-02 */
+    { 0x3f366bfa, 0xc2033cdf, 0xc1bb0942 },  /* 404:  7.1258509e-01 -3.2809444e+01 -2.3379521e+01 */
+    { 0x40d815a3, 0x3e5f538f, 0x3fbc8161 },  /* 405:  6.7526412e+00  2.1809219e-01  1.4726983e+00 */
+    { 0xae31d7f6, 0x381633dd, 0xa6d0b123 },  /* 406: -4.0436952e-11  3.5811088e-05 -1.4480913e-15 */
+    { 0xc1a0d02f, 0xc10a8bd6, 0x432e1022 },  /* 407: -2.0101652e+01 -8.6591396e+00  1.7406301e+02 */
+    { 0x419c6416, 0x3f4536ed, 0x4170f526 },  /* 408:  1.9548870e+01  7.7036935e-01  1.5059850e+01 */
+    { 0xbf208301, 0x42e9a5dd, 0xc2927f3b },  /* 409: -6.2699896e-01  1.1682395e+02 -7.3248496e+01 */
+    { 0x3f2f4d73, 0x3d6b06fc, 0x3d20f0e1 },  /* 410:  6.8477553e-01  5.7379708e-02  3.9292220e-02 */
+    { 0x3d3ba38b, 0x4169131b, 0x3f2ad5da },  /* 411:  4.5810264e-02  1.4567164e+01  6.6732564e-01 */
+    { 0x3eff8a5c, 0xbdd1f65b, 0xbd5195df },  /* 412:  4.9910247e-01 -1.0252067e-01 -5.1168318e-02 */
+    { 0xc0f574fd, 0xe3634407, 0x64d9e7f6 },  /* 413: -7.6705308e+00 -4.1923128e+21  3.2157264e+22 */
+    { 0xbd6f3747, 0xbfc68a1f, 0x3db985d2 },  /* 414: -5.8402326e-02 -1.5510901e+00  9.0587271e-02 */
+    { 0xbee59e7c, 0xbf11e889, 0x3e82df57 },  /* 415: -4.4847476e-01 -5.6995445e-01  2.5561019e-01 */
+    { 0x40057ec9, 0x40c7bfb3, 0x4150530a },  /* 416:  2.0858634e+00  6.2421508e+00  1.3020274e+01 */
+    { 0xbf1c9418, 0xe2cb1145, 0x627867fe },  /* 417: -6.1163473e-01 -1.8729667e+21  1.1455715e+21 */
+    { 0x70ca9d4e, 0xa9d3f09d, 0xdb27be17 },  /* 418:  5.0164913e+29 -9.4120221e-14 -4.7215327e+16 */
+    { 0xbf3706bd, 0x3e209bb3, 0xbde5a70e },  /* 419: -7.1494657e-01  1.5684395e-01 -1.1213504e-01 */
+    { 0x3fdd6a18, 0x4077b903, 0x40d64161 },  /* 420:  1.7298002e+00  3.8706672e+00  6.6954810e+00 */
+    { 0xb28fecca, 0xbfc88f9f, 0x32e18379 },  /* 421: -1.6755070e-08 -1.5668830e+00  2.6253234e-08 */
+    { 0x4072a068, 0xbf2b0680, 0xc022174f },  /* 422:  3.7910404e+00 -6.6806793e-01 -2.5326725e+00 */
+    { 0x40e0230a, 0xc10888ad, 0xc26f148f },  /* 423:  7.0042772e+00 -8.5333681e+00 -5.9770076e+01 */
+    { 0x40936f61, 0xbdc1214b, 0xbede7449 },  /* 424:  4.6073461e+00 -9.4301783e-02 -4.3448095e-01 */
+    { 0x4193ea57, 0x41489f01, 0x4367d5e6 },  /* 425:  1.8489424e+01  1.2538819e+01  2.3183554e+02 */
+    { 0x3c99e52a, 0x3eebe383, 0x3c0dce23 },  /* 426:  1.8786032e-02  4.6072015e-01  8.6551034e-03 */
+    { 0x3df8de4c, 0x3aaad7e7, 0x39261582 },  /* 427:  1.2151775e-01  1.3034315e-03  1.5839006e-04 */
+    { 0xbfd95efe, 0x40079371, 0xc0663c93 },  /* 428: -1.6982114e+00  2.1183741e+00 -3.5974471e+00 */
+    { 0xbfe29377, 0xd61abe95, 0x5688f563 },  /* 429: -1.7701253e+00 -4.2535834e+13  7.5293754e+13 */
+    { 0xbf1a0bcb, 0xbe3a2cd0, 0x3de00f11 },  /* 430: -6.0174245e-01 -1.8181157e-01  1.0940374e-01 */
+    { 0xc8070709, 0x43173389, 0xcb9f80aa },  /* 431: -1.3826814e+05  1.5120131e+02 -2.0906324e+07 */
+    { 0x3fc867d6, 0xbe6f64d5, 0xbebb67e0 },  /* 432:  1.5656688e+00 -2.3378308e-01 -3.6602688e-01 */
+    { 0x3fa27039, 0x3a43e804, 0x3a789d67 },  /* 433:  1.2690498e+00  7.4732327e-04  9.4839042e-04 */
+    { 0x3ff442a5, 0xd0515ea8, 0xd0c7c4b9 },  /* 434:  1.9082838e+00 -1.4050566e+10 -2.6812468e+10 */
+    { 0xc0dd6836, 0x4ce00533, 0xce41bfae },  /* 435: -6.9189711e+00  1.1745116e+08 -8.1264118e+08 */
+    { 0x40f8b1de, 0xbf206986, 0xc09bd5ae },  /* 436:  7.7717123e+00 -6.2661016e-01 -4.8698339e+00 */
+    { 0xbf38f4b6, 0xbad05471, 0x3a9683d6 },  /* 437: -7.2248399e-01 -1.5894306e-03  1.1483382e-03 */
+    { 0xbf1349cd, 0xc0ed31af, 0x408877e9 },  /* 438: -5.7534486e-01 -7.4123149e+00  4.2646373e+00 */
+    { 0xbff0961a, 0x3f357560, 0xbfaa886f },  /* 439: -1.8795807e+00  7.0882225e-01 -1.3322886e+00 */
+    { 0xb5569b35, 0x40a21b7c, 0xb687e542 },  /* 440: -7.9947068e-07  5.0658550e+00 -4.0500026e-06 */
+    { 0xc083243d, 0xc214114b, 0x4317b39e },  /* 441: -4.0981736e+00 -3.7016888e+01  1.5170163e+02 */
+    { 0xbef3869d, 0x42b2baec, 0xc22a0569 },  /* 442: -4.7563639e-01  8.9365082e+01 -4.2505285e+01 */
+    { 0xbd9c00ef, 0x40abac6d, 0xbed13b65 },  /* 443: -7.6173656e-02  5.3647981e+00 -4.0865628e-01 */
+    { 0xc5db724e, 0xbfc02159, 0x4624b251 },  /* 444: -7.0222881e+03 -1.5010177e+00  1.0540579e+04 */
+    { 0xc1650e7b, 0x3ef30c16, 0xc0d9778f },  /* 445: -1.4316035e+01  4.7470158e-01 -6.7958446e+00 */
+    { 0x3e680c52, 0x35b5854c, 0x34a48989 },  /* 446:  2.2660950e-01  1.3524345e-06  3.0647451e-07 */
+    { 0x6a4018fd, 0x3e837c10, 0x694553c3 },  /* 447:  5.8057940e+25  2.5680590e-01  1.4909621e+25 */
+    { 0xbe8f451b, 0x45f7eea5, 0xc50ac13c },  /* 448: -2.7982411e-01  7.9338306e+03 -2.2200771e+03 */
+    { 0xbf590a45, 0xbf18c726, 0x3f0186f0 },  /* 449: -8.4781295e-01 -5.9678876e-01  5.0596524e-01 */
+    { 0x3f13df05, 0x3fc39e5e, 0x3f61fcb5 },  /* 450:  5.7762176e-01  1.5282705e+00  8.8276228e-01 */
+    { 0x46ef36e5, 0x3ff1deed, 0x476202fd },  /* 451:  3.0619447e+04  1.8896157e+00  5.7858987e+04 */
+    { 0xc4390315, 0xbe3049bd, 0x42feced2 },  /* 452: -7.4004816e+02 -1.7215629e-01  1.2740394e+02 */
+    { 0xbfa6e3ea, 0x3e13f73c, 0xbe40ec19 },  /* 453: -1.3038304e+00  1.4449781e-01 -1.8840064e-01 */
+    { 0xc4c99eb1, 0x41e15c69, 0xc7317d41 },  /* 454: -1.6129591e+03  2.8170122e+01 -4.5437255e+04 */
+    { 0x3e1a5cba, 0x41ce5a12, 0x4078d9da },  /* 455:  1.5074435e-01  2.5793980e+01  3.8882967e+00 */
+    { 0x3a778892, 0x3fe97c27, 0x3ae1c359 },  /* 456:  9.4426528e-04  1.8241013e+00  1.7224356e-03 */
+    { 0x40125f4f, 0xbd79be66, 0xbe0ecb91 },  /* 457:  2.2870672e+00 -6.0972594e-02 -1.3944842e-01 */
+    { 0x41429b88, 0x3f3634c5, 0x410a82b0 },  /* 458:  1.2162971e+01  7.1174270e-01  8.6569062e+00 */
+    { 0xbe88f965, 0xbfd02b81, 0x3edec3d2 },  /* 459: -2.6752773e-01 -1.6263276e+00  4.3508774e-01 */
+    { 0x3e2b332f, 0xbd5ae9d4, 0xbc1265f5 },  /* 460:  1.6718744e-01 -5.3445652e-02 -8.9354416e-03 */
+    { 0x3dbb7afd, 0xbe907145, 0xbcd39044 },  /* 461:  9.1543175e-02 -2.8211418e-01 -2.5825628e-02 */
+    { 0xbdd26c5d, 0xbae71f68, 0x393df999 },  /* 462: -1.0274575e-01 -1.7633261e-03  1.8117426e-04 */
+    { 0x3fc85790, 0xc1081a3a, 0xc1550616 },  /* 463:  1.5651722e+00 -8.5064030e+00 -1.3313985e+01 */
+    { 0xbe66e156, 0xc0dc653c, 0x3fc6c4f3 },  /* 464: -2.2546896e-01 -6.8873577e+00  1.5528854e+00 */
+    { 0x3fe5bb47, 0x400dd234, 0x407e8991 },  /* 465:  1.7947778e+00  2.2159548e+00  3.9771463e+00 */
+    { 0x3db45a35, 0x43455565, 0x418b0594 },  /* 466:  8.8062681e-02  1.9733357e+02  1.7377723e+01 */
+    { 0x3fd3ff68, 0xbdade8c1, 0xbe100459 },  /* 467:  1.6562319e+00 -8.4916599e-02 -1.4064158e-01 */
+    { 0xbe7d67fb, 0xc1287802, 0x4026c307 },  /* 468: -2.4746697e-01 -1.0529299e+01  2.6056536e+00 */
+    { 0x46ea0390, 0x3f194d96, 0x468c230d },  /* 469:  2.9953781e+04  5.9884012e-01  1.7937526e+04 */
+    { 0x3fc1fe48, 0xc082ae84, 0xc0c60ebf },  /* 470:  1.5155725e+00 -4.0838032e+00 -6.1893000e+00 */
+    { 0x3629f0a1, 0x2c301b5c, 0x22e9cf30 },  /* 471:  2.5323027e-06  2.5026292e-12  6.3374146e-18 */
+    { 0x321d5e50, 0xc1553980, 0xb40312d1 },  /* 472:  9.1600469e-09 -1.3326538e+01 -1.2207171e-07 */
+    { 0xbdf13286, 0x3e715f98, 0xbce36aa1 },  /* 473: -1.1777215e-01  2.3571622e-01 -2.7760806e-02 */
+    { 0xc109cc60, 0x3dc71ca9, 0xbf565a98 },  /* 474: -8.6123962e+00  9.7222634e-02 -8.3731984e-01 */
+    { 0xc15e7e8d, 0xbbc768c8, 0x3dad4f71 },  /* 475: -1.3905896e+01 -6.0854889e-03  8.4624178e-02 */
+    { 0x40c80528, 0x40de1845, 0x422d876f },  /* 476:  6.2506294e+00  6.9404626e+00  4.3382260e+01 */
+    { 0x40aeba64, 0x3e0bf18c, 0x3f3f0823 },  /* 477:  5.4602528e+00  1.3666362e-01  7.4621789e-01 */
+    { 0x3e10f5f9, 0xc1308204, 0xbfc7e575 },  /* 478:  1.4156331e-01 -1.1031742e+01 -1.5616899e+00 */
+    { 0x383b2d4c, 0x3e619215, 0x3724ed9f },  /* 479:  4.4626460e-05  2.2028382e-01  9.8304872e-06 */
+    { 0xbdbc4df0, 0xc0df618a, 0x3f244fa3 },  /* 480: -9.1945529e-02 -6.9806566e+00  6.4184017e-01 */
+    { 0x459cf2f2, 0x40ff847a, 0x471ca737 },  /* 481:  5.0223682e+03  7.9849215e+00  4.0103215e+04 */
+    { 0xce0387ee, 0x3a251669, 0xc8a9a440 },  /* 482: -5.5168090e+08  6.2975899e-04 -3.4742600e+05 */
+    { 0x3f02af97, 0xc9ab974e, 0xc92f310f },  /* 483:  5.1049179e-01 -1.4056738e+06 -7.1758491e+05 */
+    { 0xbf14547d, 0x40a507d5, 0xc03f3dfd },  /* 484: -5.7941419e-01  5.1572061e+00 -2.9881584e+00 */
+    { 0xc086ba59, 0x3e3cc23f, 0xbf46ae27 },  /* 485: -4.2102475e+00  1.8433474e-01 -7.7609488e-01 */
+    { 0xb3af41ce, 0x3ff27a50, 0xb425fff1 },  /* 486: -8.1610423e-08  1.8943577e+00 -1.5459933e-07 */
+    { 0xc12317a8, 0x3f16206a, 0xc0bf4906 },  /* 487: -1.0193275e+01  5.8643210e-01 -5.9776639e+00 */
+    { 0x3d36193e, 0x3fed6e85, 0x3da8e3fc },  /* 488:  4.4457667e-02  1.8549353e+00  8.2466095e-02 */
+    { 0xb0fdbad4, 0xc0d6f16a, 0x32550973 },  /* 489: -1.8461273e-09 -6.7169695e+00  1.2400380e-08 */
+    { 0xbd954e87, 0xbd82f705, 0x3b98c3e4 },  /* 490: -7.2903685e-02 -6.3947715e-02  4.6620241e-03 */
+    { 0xc35a4daa, 0x39381251, 0xbd1cf771 },  /* 491: -2.1830338e+02  1.7554431e-04 -3.8321915e-02 */
+    { 0x3b3dbeb8, 0x4452ad8d, 0x401c2715 },  /* 492:  2.8952789e-03  8.4271173e+02  2.4398855e+00 */
+    { 0xbfe35771, 0x40b27050, 0xc11e768a },  /* 493: -1.7761060e+00  5.5762100e+00 -9.9039401e+00 */
+    { 0xbd916fe0, 0xb9e8cdf7, 0x38044266 },  /* 494: -7.1014166e-02 -4.4403944e-04  3.1533090e-05 */
+    { 0x48bd0e29, 0x4b78c851, 0x54b7b9a7 },  /* 495:  3.8718528e+05  1.6304209e+07  6.3127497e+12 */
+    { 0x40ebd255, 0x41008f4a, 0x426cda52 },  /* 496:  7.3694253e+00  8.0349827e+00  5.9213205e+01 */
+    { 0xbf359629, 0xbf21f72b, 0x3ee5c584 },  /* 497: -7.0932251e-01 -6.3267773e-01  4.4877256e-01 */
+    { 0xc1d388ad, 0x4162407f, 0xc3baf3f4 },  /* 498: -2.6441736e+01  1.4140746e+01 -3.7390588e+02 */
+    { 0x3f3a3450, 0x49451e08, 0x490f601a },  /* 499:  7.2736073e-01  8.0739250e+05  5.8726559e+05 */
+    { 0x411b3e36, 0xbfdd408f, 0xc1862bdb },  /* 500:  9.7026882e+00 -1.7285327e+00 -1.6771414e+01 */
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]:  %#lx\n", index - 1, v.lo);
+#endif
+    exit (index ? index : -1);
+}
+
+int main ()
+{
+    union lofl_u x,y,z;
+    int i;
+    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	x.lo = pgm_read_dword (& t[i].x);
+	y.lo = pgm_read_dword (& t[i].y);
+	z.lo = pgm_read_dword (& t[i].z);
+	v.fl = x.fl * y.fl;
+	/* Comparison is integer to verify the zero sign.	*/
+	if (v.lo != z.lo)
+	    x_exit (i+1);
+    }
+    return 0;
+}
diff --git a/tests/simulate/fplib/mul-inf.c b/tests/simulate/fplib/mul-inf.c
new file mode 100644
index 0000000..735544a
--- /dev/null
+++ b/tests/simulate/fplib/mul-inf.c
@@ -0,0 +1,128 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of multiplication.  Infs (without NaNs).
+   '0.0 * Inf' is not included into this file.
+   $Id$
+ */
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+volatile union lofl_u v = { .lo = 1 };
+
+PROGMEM const struct {		/* Table of test cases:  x * y = z	*/
+    union lofl_u x, y, z;
+} t[] = {
+
+    /* +Inf * finite	*/
+    { { 0x7f800000 }, { 0x00000001 }, { 0x7f800000 } },
+    { { 0x7f800000 }, { 0x007fffff }, { 0x7f800000 } },
+    { { 0x7f800000 }, { 0x00800000 }, { 0x7f800000 } },
+    { { 0x7f800000 }, { 0x3f800000 }, { 0x7f800000 } },
+    { { 0x7f800000 }, { 0x7f7fffff }, { 0x7f800000 } },
+    { { 0x7f800000 }, { 0x80000001 }, { 0xff800000 } },
+    { { 0x7f800000 }, { 0x807fffff }, { 0xff800000 } },
+    { { 0x7f800000 }, { 0x80800000 }, { 0xff800000 } },
+    { { 0x7f800000 }, { 0xbf800000 }, { 0xff800000 } },
+    { { 0x7f800000 }, { 0xff7fffff }, { 0xff800000 } },
+
+    /* -Inf * finite	*/
+    { { 0xff800000 }, { 0x00000001 }, { 0xff800000 } },
+    { { 0xff800000 }, { 0x007fffff }, { 0xff800000 } },
+    { { 0xff800000 }, { 0x00800000 }, { 0xff800000 } },
+    { { 0xff800000 }, { 0x3f800000 }, { 0xff800000 } },
+    { { 0xff800000 }, { 0x7f7fffff }, { 0xff800000 } },
+    { { 0xff800000 }, { 0x80000001 }, { 0x7f800000 } },
+    { { 0xff800000 }, { 0x807fffff }, { 0x7f800000 } },
+    { { 0xff800000 }, { 0x80800000 }, { 0x7f800000 } },
+    { { 0xff800000 }, { 0xbf800000 }, { 0x7f800000 } },
+    { { 0xff800000 }, { 0xff7fffff }, { 0x7f800000 } },
+
+    /* finite * +Inf	*/
+    { { 0x00000001 }, { 0x7f800000 }, { 0x7f800000 } },
+    { { 0x007fffff }, { 0x7f800000 }, { 0x7f800000 } },
+    { { 0x00800000 }, { 0x7f800000 }, { 0x7f800000 } },
+    { { 0x3f800000 }, { 0x7f800000 }, { 0x7f800000 } },
+    { { 0x7f7fffff }, { 0x7f800000 }, { 0x7f800000 } },
+    { { 0x80000001 }, { 0x7f800000 }, { 0xff800000 } },
+    { { 0x807fffff }, { 0x7f800000 }, { 0xff800000 } },
+    { { 0x80800000 }, { 0x7f800000 }, { 0xff800000 } },
+    { { 0xbf800000 }, { 0x7f800000 }, { 0xff800000 } },
+    { { 0xff7fffff }, { 0x7f800000 }, { 0xff800000 } },
+
+    /* finite * -Inf	*/
+    { { 0x00000001 }, { 0xff800000 }, { 0xff800000 } },
+    { { 0x007fffff }, { 0xff800000 }, { 0xff800000 } },
+    { { 0x00800000 }, { 0xff800000 }, { 0xff800000 } },
+    { { 0x3f800000 }, { 0xff800000 }, { 0xff800000 } },
+    { { 0x7f7fffff }, { 0xff800000 }, { 0xff800000 } },
+    { { 0x80000001 }, { 0xff800000 }, { 0x7f800000 } },
+    { { 0x807fffff }, { 0xff800000 }, { 0x7f800000 } },
+    { { 0x80800000 }, { 0xff800000 }, { 0x7f800000 } },
+    { { 0xbf800000 }, { 0xff800000 }, { 0x7f800000 } },
+    { { 0xff7fffff }, { 0xff800000 }, { 0x7f800000 } },
+    
+    /* Inf * Inf	*/
+    { { 0x7f800000 }, { 0x7f800000 }, { 0x7f800000 } },
+    { { 0xff800000 }, { 0x7f800000 }, { 0xff800000 } },
+    { { 0x7f800000 }, { 0xff800000 }, { 0xff800000 } },
+    { { 0xff800000 }, { 0xff800000 }, { 0x7f800000 } },
+
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]:  %#lx\n", index - 1, v.lo);
+#endif
+    exit (index ? index : -1);
+}
+
+int main ()
+{
+    union lofl_u x,y,z;
+    int i;
+    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	x.lo = pgm_read_dword (& t[i].x);
+	y.lo = pgm_read_dword (& t[i].y);
+	z.lo = pgm_read_dword (& t[i].z);
+	v.fl = x.fl * y.fl;
+	/* Comparison is integer to verify the zero sign.	*/
+	if (v.lo != z.lo)
+	    x_exit (i+1);
+    }
+    return 0;
+}
diff --git a/tests/simulate/fplib/mul-nan.c b/tests/simulate/fplib/mul-nan.c
new file mode 100644
index 0000000..d7bc32c
--- /dev/null
+++ b/tests/simulate/fplib/mul-nan.c
@@ -0,0 +1,145 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of multiplication.  NaNs.
+   $Id$
+ */
+#include <math.h>
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+volatile union lofl_u v = { .lo = 1 };
+
+PROGMEM const struct {		/* Table of test cases:  x * y = NaN	*/
+    union lofl_u x, y;
+} t[] = {
+
+    /* 0.0 * Inf	*/
+    { { 0x00000000 }, { 0x7f800000 } },
+    { { 0x00000000 }, { 0xff800000 } },
+    { { 0x80000000 }, { 0x7f800000 } },
+    { { 0x80000000 }, { 0xff800000 } },
+
+    /* Inf * 0.0	*/
+    { { 0x7f800000 }, { 0x00000000 } },
+    { { 0xff800000 }, { 0x00000000 } },
+    { { 0x7f800000 }, { 0x80000000 } },
+    { { 0xff800000 }, { 0x80000000 } },
+
+    /* NaN * NaN	*/
+    { { 0x7f800001 }, { 0x7f800001 } },
+    { { 0x7f800100 }, { 0x7f800100 } },
+    { { 0x7f810000 }, { 0x7f810000 } },
+    { { 0x7fffffff }, { 0x7fffffff } },
+    { { 0xff800001 }, { 0xff800001 } },
+    { { 0xff800100 }, { 0xff800100 } },
+    { { 0xff810000 }, { 0xff810000 } },
+    { { 0xffffffff }, { 0xffffffff } },
+
+    /* NaN * finite	*/
+    { { 0x7f800001 }, { .fl = 1 } },
+    { { 0x7f800100 }, { .fl = 1 } },
+    { { 0x7f810000 }, { .fl = 1 } },
+    { { 0x7fffffff }, { .fl = 1 } },
+    { { 0xff800001 }, { .fl = 1 } },
+    { { 0xff800100 }, { .fl = 1 } },
+    { { 0xff810000 }, { .fl = 1 } },
+    { { 0xffffffff }, { .fl = 1 } },
+
+    /* finite * NaN	*/
+    { { .fl = 1 }, { 0x7f800001 } },
+    { { .fl = 1 }, { 0x7f800100 } },
+    { { .fl = 1 }, { 0x7f810000 } },
+    { { .fl = 1 }, { 0x7fffffff } },
+    { { .fl = 1 }, { 0xff800001 } },
+    { { .fl = 1 }, { 0xff800100 } },
+    { { .fl = 1 }, { 0xff810000 } },
+    { { .fl = 1 }, { 0xffffffff } },
+
+    /* NaN * 0.0	*/
+    { { 0x7f800001 }, { 0 } },
+    { { 0x7f800100 }, { 0 } },
+    { { 0x7f810000 }, { 0 } },
+    { { 0x7fffffff }, { 0 } },
+    { { 0xff800001 }, { 0 } },
+    { { 0xff800100 }, { 0 } },
+    { { 0xff810000 }, { 0 } },
+    { { 0xffffffff }, { 0 } },
+
+    /* 0.0 * NaN	*/
+    { { 0 }, { 0x7f800001 } },
+    { { 0 }, { 0x7f800100 } },
+    { { 0 }, { 0x7f810000 } },
+    { { 0 }, { 0x7fffffff } },
+    { { 0 }, { 0xff800001 } },
+    { { 0 }, { 0xff800100 } },
+    { { 0 }, { 0xff810000 } },
+    { { 0 }, { 0xffffffff } },
+    
+    /* NaN * Inf	*/
+    { { 0x7f800001 }, { 0x7f800000 } },
+    { { 0x7fffffff }, { 0x7f800000 } },
+    { { 0xff800001 }, { 0xff800000 } },
+    { { 0xffffffff }, { 0xff800000 } },
+    
+    /* Inf * NaN	*/
+    { { 0x7f800000 }, { 0x7f800001 } },
+    { { 0x7f800000 }, { 0x7fffffff } },
+    { { 0xff800000 }, { 0xff800001 } },
+    { { 0xff800000 }, { 0xffffffff } },
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]:  %#lx\n", index - 1, v.lo);
+#endif
+    exit (index ? index : -1);
+}
+
+int main ()
+{
+    union lofl_u x,y;
+    int i;
+    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	x.lo = pgm_read_dword (& t[i].x);
+	y.lo = pgm_read_dword (& t[i].y);
+	v.fl = x.fl * y.fl;
+	if (!isnan(v.fl))
+	    x_exit (i+1);
+    }
+    return 0;
+}
diff --git a/tests/simulate/fplib/neg-01.c b/tests/simulate/fplib/neg-01.c
new file mode 100644
index 0000000..8830cde
--- /dev/null
+++ b/tests/simulate/fplib/neg-01.c
@@ -0,0 +1,97 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of negation.
+   $Id$
+ */
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+volatile union lofl_u v = { .lo = 1 };
+
+PROGMEM const struct {		/* Table of test cases:  x, -x	*/
+    union lofl_u x, z;
+} t[] = {
+
+    /* 0.0	*/
+    { { 0x00000000 }, { 0x80000000 } },
+    { { 0x80000000 }, { 0x00000000 } },
+    
+    /* finite	*/
+    { { 0x00000001 }, { 0x80000001 } },
+    { { 0x007fffff }, { 0x807fffff } },
+    { { 0x00800000 }, { 0x80800000 } },
+    { { 0x7f7fffff }, { 0xff7fffff } },
+    { { 0x80000001 }, { 0x00000001 } },
+    { { 0x807fffff }, { 0x007fffff } },
+    { { 0x80800000 }, { 0x00800000 } },
+    { { 0xff7fffff }, { 0x7f7fffff } },
+    
+    /* infinite	*/
+    { { 0x7f800000 }, { 0xff800000 } },
+    { { 0xff800000 }, { 0x7f800000 } },
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]:  %#lx\n", index - 1, v.lo);
+#endif
+    exit (index ? index : -1);
+}
+
+int main ()
+{
+    union lofl_u x,z;
+    int i;
+    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	x.lo = pgm_read_dword (& t[i].x);
+	z.lo = pgm_read_dword (& t[i].z);
+	v.fl = -x.fl;
+	if (v.lo != z.lo)
+	    x_exit (i+1);
+#ifdef  __AVR__
+	{
+	    /* Forse to use fplib's function.	*/
+	    extern float __negsf2 (float);
+	    v.fl = __negsf2 (x.fl);
+	    if (v.lo != z.lo)
+		x_exit (i+1);
+	}
+#endif
+    }
+    return 0;
+}
diff --git a/tests/simulate/fplib/ulng2flt-01.c b/tests/simulate/fplib/ulng2flt-01.c
new file mode 100644
index 0000000..d4eebd8
--- /dev/null
+++ b/tests/simulate/fplib/ulng2flt-01.c
@@ -0,0 +1,191 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of conversion: unsigned long --> float
+   $Id$
+ */
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+volatile union lofl_u v = { 1 };
+
+PROGMEM const struct {		/* Table of test cases:  x, (float)x	*/
+    unsigned long x;
+    union lofl_u z;
+} t[] = {
+
+    { 0, { .fl = 0.0 } },
+    { 10,	  { .fl = 1e+1 } },
+    { 100,	  { .fl = 1e+2 } },
+    { 1000,	  { .fl = 1e+3 } },
+    { 10000,	  { .fl = 1e+4 } },
+    { 100000,	  { .fl = 1e+5 } },
+    { 1000000,	  { .fl = 1e+6 } },
+    { 10000000,	  { .fl = 1e+7 } },
+    { 100000000,  { .fl = 1e+8 } },
+    { 1000000000, { .fl = 1e+9 } },
+    { 12,	  { .fl = 1.2e+1 } },
+    { 123,	  { .fl = 1.23e+2 } },
+    { 1234,	  { .fl = 1.234e+3 } },
+    { 12345,	  { .fl = 1.2345e+4 } },
+    { 123456,	  { .fl = 1.23456e+5 } },
+    { 1234567,	  { .fl = 1.234567e+6 } },
+    { 12345678,	  { .fl = 1.2345678e+7 } },
+    { 123456780,  { .fl = 1.2345678e+8 } },
+    { 1234567800, { .fl = 1.2345678e+9 } },
+    
+    /* max value	*/
+    { 0xffffffff, { .fl = 0x1p+32 } },
+
+    /* all possible shifts	*/    
+    { 0x00000001, { .fl = 0x1p+00 } },
+    { 0x00000002, { .fl = 0x1p+01 } },
+    { 0x00000004, { .fl = 0x1p+02 } },
+    { 0x00000008, { .fl = 0x1p+03 } },
+    { 0x00000010, { .fl = 0x1p+04 } },
+    { 0x00000020, { .fl = 0x1p+05 } },
+    { 0x00000040, { .fl = 0x1p+06 } },
+    { 0x00000080, { .fl = 0x1p+07 } },
+    { 0x00000100, { .fl = 0x1p+08 } },
+    { 0x00000200, { .fl = 0x1p+09 } },
+    { 0x00000400, { .fl = 0x1p+10 } },
+    { 0x00000800, { .fl = 0x1p+11 } },
+    { 0x00001000, { .fl = 0x1p+12 } },
+    { 0x00002000, { .fl = 0x1p+13 } },
+    { 0x00004000, { .fl = 0x1p+14 } },
+    { 0x00008000, { .fl = 0x1p+15 } },
+    { 0x00010000, { .fl = 0x1p+16 } },
+    { 0x00020000, { .fl = 0x1p+17 } },
+    { 0x00040000, { .fl = 0x1p+18 } },
+    { 0x00080000, { .fl = 0x1p+19 } },
+    { 0x00100000, { .fl = 0x1p+20 } },
+    { 0x00200000, { .fl = 0x1p+21 } },
+    { 0x00400000, { .fl = 0x1p+22 } },
+    { 0x00800000, { .fl = 0x1p+23 } },
+    { 0x01000000, { .fl = 0x1p+24 } },
+    { 0x02000000, { .fl = 0x1p+25 } },
+    { 0x04000000, { .fl = 0x1p+26 } },
+    { 0x08000000, { .fl = 0x1p+27 } },
+    { 0x10000000, { .fl = 0x1p+28 } },
+    { 0x20000000, { .fl = 0x1p+29 } },
+    { 0x40000000, { .fl = 0x1p+30 } },
+    { 0x80000000, { .fl = 0x1p+31 } },
+    
+    /* bytes order	*/
+    { 0x00000102, { .fl = 0x102p+00 } },
+    { 0x00010203, { .fl = 0x10203p+00 } },
+    { 0x01020304, { .fl = 0x1020304p+00 } },
+
+    /* rounding	*/
+    { 0x01000000, { .fl = 0x0.800000p+25 } },
+    { 0x01000001, { .fl = 0x0.800000p+25 } },
+    { 0x01000002, { .fl = 0x0.800001p+25 } },
+    { 0x01000003, { .fl = 0x0.800002p+25 } },
+    { 0x01000004, { .fl = 0x0.800002p+25 } },
+    { 0x01000005, { .fl = 0x0.800002p+25 } },
+    { 0x01000006, { .fl = 0x0.800003p+25 } },
+    { 0x01000007, { .fl = 0x0.800004p+25 } },
+
+    { 0x80000000, { .fl = 0x0.800000p+32 } },
+    { 0x80000001, { .fl = 0x0.800000p+32 } },
+    { 0x8000007f, { .fl = 0x0.800000p+32 } },
+    { 0x80000080, { .fl = 0x0.800000p+32 } },
+    { 0x80000081, { .fl = 0x0.800001p+32 } },
+    { 0x800000ff, { .fl = 0x0.800001p+32 } },
+    { 0x80000100, { .fl = 0x0.800001p+32 } },
+    { 0x80000101, { .fl = 0x0.800001p+32 } },
+    { 0x8000017f, { .fl = 0x0.800001p+32 } },
+    { 0x80000180, { .fl = 0x0.800002p+32 } },
+    { 0x80000181, { .fl = 0x0.800002p+32 } },
+    { 0x800001ff, { .fl = 0x0.800002p+32 } },
+
+    /* smart rounding in case of 0.5 (to even)	*/
+    { 0x01000001, { .fl = 0x0.800000p+25 } },
+    { 0x01000003, { .fl = 0x0.800002p+25 } },
+    { 0x01000005, { .fl = 0x0.800002p+25 } },
+    { 0x01000007, { .fl = 0x0.800004p+25 } },
+    { 0x01000009, { .fl = 0x0.800004p+25 } },
+    { 0x0100000b, { .fl = 0x0.800006p+25 } },
+    { 0x0100000d, { .fl = 0x0.800006p+25 } },
+    { 0x0100000f, { .fl = 0x0.800008p+25 } },
+    { 0x01000011, { .fl = 0x0.800008p+25 } },
+    { 0x01000013, { .fl = 0x0.80000ap+25 } },
+    { 0x01000015, { .fl = 0x0.80000ap+25 } },
+    { 0x01000017, { .fl = 0x0.80000cp+25 } },
+    { 0x01000019, { .fl = 0x0.80000cp+25 } },
+    { 0x0100001b, { .fl = 0x0.80000ep+25 } },
+    { 0x0100001d, { .fl = 0x0.80000ep+25 } },
+    { 0x0100001f, { .fl = 0x0.800010p+25 } },
+
+    { 0x7ffffc40, { .fl = 0x0.fffff8p+31 } },
+    { 0x7ffffcc0, { .fl = 0x0.fffffap+31 } },
+    { 0x7ffffd40, { .fl = 0x0.fffffap+31 } },
+    { 0x7ffffdc0, { .fl = 0x0.fffffcp+31 } },
+    { 0x7ffffe40, { .fl = 0x0.fffffcp+31 } },
+    { 0x7ffffec0, { .fl = 0x0.fffffep+31 } },
+    { 0x7fffff40, { .fl = 0x0.fffffep+31 } },
+    { 0x7fffffc0, { .fl = 0x1.000000p+31 } },
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]:  %#lx\n", index - 1, v.lo);
+#endif
+    exit (index ? index : -1);
+}
+
+int main ()
+{
+    unsigned long x;
+    union lofl_u z;
+    int i;
+    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	x    = pgm_read_dword (& t[i].x);
+	z.lo = pgm_read_dword (& t[i].z);
+#ifdef	__AVR__
+	/* Force library's convertion function usage. This is needed for
+	   GCC before 4.2	*/
+	extern double __floatunsisf (unsigned long);
+	v.fl = __floatunsisf (x);
+#else
+	v.fl = x;
+#endif
+	if (v.lo != z.lo)
+	    x_exit (i+1);
+    }
+    return 0;
+}
diff --git a/tests/simulate/fplib/unll2flt-01.c b/tests/simulate/fplib/unll2flt-01.c
new file mode 100644
index 0000000..5800ba2
--- /dev/null
+++ b/tests/simulate/fplib/unll2flt-01.c
@@ -0,0 +1,317 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of conversion: unsigned long long --> float
+   $Id$
+ */
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+volatile union lofl_u v = { 1 };
+
+PROGMEM const struct {		/* Table of test cases:  x, (float)x	*/
+    unsigned long long x;
+    union lofl_u z;
+} t[] = {
+
+    { 0, { .fl = 0.0 } },
+    { 1, { .fl = 1.0 } },
+    { 10, { .fl = 1e+1 } },
+    { 100, { .fl = 1e+2 } },
+    { 1000, { .fl = 1e+3 } },
+    { 10000, { .fl = 1e+4 } },
+    { 100000, { .fl = 1e+5 } },
+    { 1000000, { .fl = 1e+6 } },
+    { 10000000, { .fl = 1e+7 } },
+    { 100000000, { .fl = 1e+8 } },
+    { 1000000000, { .fl = 1e+9 } },
+    { 10000000000LL, { .fl = 1e+10 } },
+    { 100000000000LL, { .fl = 1e+11 } },
+    { 1000000000000LL, { .fl = 1e+12 } },
+    { 10000000000000LL, { .fl = 1e+13 } },
+    { 100000000000000LL, { .fl = 1e+14 } },
+    { 1000000000000000LL, { .fl = 1e+15 } },
+    { 10000000000000000LL, { .fl = 1e+16 } },
+    { 100000000000000000LL, { .fl = 1e+17 } },
+    { 1000000000000000000LL, { .fl = 1e+18 } },
+
+    { 12, { .fl = 1.2e+1 } },
+    { 123, { .fl = 1.23e+2 } },
+    { 1234, { .fl = 1.234e+3 } },
+    { 12345, { .fl = 1.2345e+4 } },
+    { 123456, { .fl = 1.23456e+5 } },
+    { 1234567, { .fl = 1.234567e+6 } },
+    { 12345678, { .fl = 1.2345678e+7 } },
+    { 123456780, { .fl = 1.2345678e+8 } },
+    { 1234567800, { .fl = 1.2345678e+9 } },
+    { 12345678000LL, { .fl = 1.2345678e+10 } },
+    { 123456780000LL, { .fl = 1.2345678e+11 } },
+    { 1234567800000LL, { .fl = 1.2345678e+12 } },
+    { 12345678000000LL, { .fl = 1.2345678e+13 } },
+    { 123456780000000LL, { .fl = 1.2345678e+14 } },
+    { 1234567800000000LL, { .fl = 1.2345678e+15 } },
+    { 12345678000000000LL, { .fl = 1.2345678e+16 } },
+    { 123456780000000000LL, { .fl = 1.2345678e+17 } },
+    { 1234567800000000000LL, { .fl = 1.2345678e+18 } },
+    
+    /* big values	*/
+    { 0x7fffffffffffffffLL, { .fl = 0x1p+63 } },
+    { 0x8000000000000000LL, { .fl = 0x1p+63 } },
+    { 0x8000000000000001LL, { .fl = 0x1p+63 } },
+    { 0xffffffffffffffffLL, { .fl = 0x1p+64 } },
+    
+    /* all possible shifts	*/    
+    { 0x00000001, { .fl = 0x1p+00 } },
+    { 0x00000002, { .fl = 0x1p+01 } },
+    { 0x00000004, { .fl = 0x1p+02 } },
+    { 0x00000008, { .fl = 0x1p+03 } },
+    { 0x00000010, { .fl = 0x1p+04 } },
+    { 0x00000020, { .fl = 0x1p+05 } },
+    { 0x00000040, { .fl = 0x1p+06 } },
+    { 0x00000080, { .fl = 0x1p+07 } },
+    { 0x00000100, { .fl = 0x1p+08 } },
+    { 0x00000200, { .fl = 0x1p+09 } },
+    { 0x00000400, { .fl = 0x1p+10 } },
+    { 0x00000800, { .fl = 0x1p+11 } },
+    { 0x00001000, { .fl = 0x1p+12 } },
+    { 0x00002000, { .fl = 0x1p+13 } },
+    { 0x00004000, { .fl = 0x1p+14 } },
+    { 0x00008000, { .fl = 0x1p+15 } },
+    { 0x00010000, { .fl = 0x1p+16 } },
+    { 0x00020000, { .fl = 0x1p+17 } },
+    { 0x00040000, { .fl = 0x1p+18 } },
+    { 0x00080000, { .fl = 0x1p+19 } },
+    { 0x00100000, { .fl = 0x1p+20 } },
+    { 0x00200000, { .fl = 0x1p+21 } },
+    { 0x00400000, { .fl = 0x1p+22 } },
+    { 0x00800000, { .fl = 0x1p+23 } },
+    { 0x01000000, { .fl = 0x1p+24 } },
+    { 0x02000000, { .fl = 0x1p+25 } },
+    { 0x04000000, { .fl = 0x1p+26 } },
+    { 0x08000000, { .fl = 0x1p+27 } },
+    { 0x10000000, { .fl = 0x1p+28 } },
+    { 0x20000000, { .fl = 0x1p+29 } },
+    { 0x40000000, { .fl = 0x1p+30 } },
+    { 0x80000000, { .fl = 0x1p+31 } },
+    { 0x0000000100000000LL, { .fl = 0x1p+32 } },
+    { 0x0000000200000000LL, { .fl = 0x1p+33 } },
+    { 0x0000000400000000LL, { .fl = 0x1p+34 } },
+    { 0x0000000800000000LL, { .fl = 0x1p+35 } },
+    { 0x0000001000000000LL, { .fl = 0x1p+36 } },
+    { 0x0000002000000000LL, { .fl = 0x1p+37 } },
+    { 0x0000004000000000LL, { .fl = 0x1p+38 } },
+    { 0x0000008000000000LL, { .fl = 0x1p+39 } },
+    { 0x0000010000000000LL, { .fl = 0x1p+40 } },
+    { 0x0000020000000000LL, { .fl = 0x1p+41 } },
+    { 0x0000040000000000LL, { .fl = 0x1p+42 } },
+    { 0x0000080000000000LL, { .fl = 0x1p+43 } },
+    { 0x0000100000000000LL, { .fl = 0x1p+44 } },
+    { 0x0000200000000000LL, { .fl = 0x1p+45 } },
+    { 0x0000400000000000LL, { .fl = 0x1p+46 } },
+    { 0x0000800000000000LL, { .fl = 0x1p+47 } },
+    { 0x0001000000000000LL, { .fl = 0x1p+48 } },
+    { 0x0002000000000000LL, { .fl = 0x1p+49 } },
+    { 0x0004000000000000LL, { .fl = 0x1p+50 } },
+    { 0x0008000000000000LL, { .fl = 0x1p+51 } },
+    { 0x0010000000000000LL, { .fl = 0x1p+52 } },
+    { 0x0020000000000000LL, { .fl = 0x1p+53 } },
+    { 0x0040000000000000LL, { .fl = 0x1p+54 } },
+    { 0x0080000000000000LL, { .fl = 0x1p+55 } },
+    { 0x0100000000000000LL, { .fl = 0x1p+56 } },
+    { 0x0200000000000000LL, { .fl = 0x1p+57 } },
+    { 0x0400000000000000LL, { .fl = 0x1p+58 } },
+    { 0x0800000000000000LL, { .fl = 0x1p+59 } },
+    { 0x1000000000000000LL, { .fl = 0x1p+60 } },
+    { 0x2000000000000000LL, { .fl = 0x1p+61 } },
+    { 0x4000000000000000LL, { .fl = 0x1p+62 } },
+    { 0x8000000000000000LL, { .fl = 0x1p+63 } },
+    
+    /* bytes order	*/
+    { 0x0000000000000102LL, { .fl = 0x102p+00 } },
+    { 0x0000000000010203LL, { .fl = 0x10203p+00 } },
+    { 0x0000000001020304LL, { .fl = 0x1020304p+00 } },
+    { 0x0000000102030400LL, { .fl = 0x1020304p+08 } },
+    { 0x0000010203040000LL, { .fl = 0x1020304p+16 } },
+    { 0x0001020304000000LL, { .fl = 0x1020304p+24 } },
+    { 0x0102030400000000LL, { .fl = 0x1020304p+32 } },
+
+    /* rounding (shift is to left)	*/
+    { 0x01000000, { .fl = 0x0.800000p+25 } },
+    { 0x01000001, { .fl = 0x0.800000p+25 } },
+    { 0x01000002, { .fl = 0x0.800001p+25 } },
+    { 0x01000003, { .fl = 0x0.800002p+25 } },
+    { 0x01000004, { .fl = 0x0.800002p+25 } },
+    { 0x01000005, { .fl = 0x0.800002p+25 } },
+    { 0x01000006, { .fl = 0x0.800003p+25 } },
+    { 0x01000007, { .fl = 0x0.800004p+25 } },
+
+    { 0x0200000000LL, { .fl = 0x0.800000p+34 } },
+    { 0x0200000200LL, { .fl = 0x0.800000p+34 } },
+    { 0x0200000400LL, { .fl = 0x0.800001p+34 } },
+    { 0x0200000600LL, { .fl = 0x0.800002p+34 } },
+    { 0x0200000800LL, { .fl = 0x0.800002p+34 } },
+    { 0x0200000a00LL, { .fl = 0x0.800002p+34 } },
+    { 0x0200000c00LL, { .fl = 0x0.800003p+34 } },
+    { 0x0200000e00LL, { .fl = 0x0.800004p+34 } },
+
+    { 0x040000000000LL, { .fl = 0x0.800000p+43 } },
+    { 0x040000040000LL, { .fl = 0x0.800000p+43 } },
+    { 0x040000080000LL, { .fl = 0x0.800001p+43 } },
+    { 0x0400000c0000LL, { .fl = 0x0.800002p+43 } },
+    { 0x040000100000LL, { .fl = 0x0.800002p+43 } },
+    { 0x040000140000LL, { .fl = 0x0.800002p+43 } },
+    { 0x040000180000LL, { .fl = 0x0.800003p+43 } },
+    { 0x0400001c0000LL, { .fl = 0x0.800004p+43 } },
+
+    { 0x08000000000000LL, { .fl = 0x0.800000p+52 } },
+    { 0x08000008000000LL, { .fl = 0x0.800000p+52 } },
+    { 0x08000010000000LL, { .fl = 0x0.800001p+52 } },
+    { 0x08000018000000LL, { .fl = 0x0.800002p+52 } },
+    { 0x08000020000000LL, { .fl = 0x0.800002p+52 } },
+    { 0x08000028000000LL, { .fl = 0x0.800002p+52 } },
+    { 0x08000030000000LL, { .fl = 0x0.800003p+52 } },
+    { 0x08000038000000LL, { .fl = 0x0.800004p+52 } },
+
+    { 0x80000000, { .fl = 0x0.800000p+32 } },
+    { 0x80000001, { .fl = 0x0.800000p+32 } },
+    { 0x8000007f, { .fl = 0x0.800000p+32 } },
+    { 0x80000080, { .fl = 0x0.800000p+32 } },
+    { 0x80000081, { .fl = 0x0.800001p+32 } },
+    { 0x800000ff, { .fl = 0x0.800001p+32 } },
+    { 0x80000100, { .fl = 0x0.800001p+32 } },
+    { 0x80000101, { .fl = 0x0.800001p+32 } },
+    { 0x8000017f, { .fl = 0x0.800001p+32 } },
+    { 0x80000180, { .fl = 0x0.800002p+32 } },
+    { 0x80000181, { .fl = 0x0.800002p+32 } },
+    { 0x800001ff, { .fl = 0x0.800002p+32 } },
+
+    /* rounding (shift is to right)	*/
+    { 0x0800000000000000LL, { .fl = 0x0.800000p+60 } },
+    { 0x0800000010000000LL, { .fl = 0x0.800000p+60 } },
+    { 0x08000007f0000000LL, { .fl = 0x0.800000p+60 } },
+    { 0x0800000800000000LL, { .fl = 0x0.800000p+60 } },
+    { 0x0800000810000000LL, { .fl = 0x0.800001p+60 } },
+    { 0x0800000ff0000000LL, { .fl = 0x0.800001p+60 } },
+    { 0x0800001000000000LL, { .fl = 0x0.800001p+60 } },
+    { 0x0800001010000000LL, { .fl = 0x0.800001p+60 } },
+    { 0x08000017f0000000LL, { .fl = 0x0.800001p+60 } },
+    { 0x0800001800000000LL, { .fl = 0x0.800002p+60 } },
+    { 0x0800001810000000LL, { .fl = 0x0.800002p+60 } },
+    { 0x0800001ff0000000LL, { .fl = 0x0.800002p+60 } },
+
+    /* smart rounding in case of 0.5 (to even)	*/
+    { 0x01000001, { .fl = 0x0.800000p+25 } },
+    { 0x01000003, { .fl = 0x0.800002p+25 } },
+    { 0x01000005, { .fl = 0x0.800002p+25 } },
+    { 0x01000007, { .fl = 0x0.800004p+25 } },
+    { 0x01000009, { .fl = 0x0.800004p+25 } },
+    { 0x0100000b, { .fl = 0x0.800006p+25 } },
+    { 0x0100000d, { .fl = 0x0.800006p+25 } },
+    { 0x0100000f, { .fl = 0x0.800008p+25 } },
+    { 0x01000011, { .fl = 0x0.800008p+25 } },
+    { 0x01000013, { .fl = 0x0.80000ap+25 } },
+    { 0x01000015, { .fl = 0x0.80000ap+25 } },
+    { 0x01000017, { .fl = 0x0.80000cp+25 } },
+    { 0x01000019, { .fl = 0x0.80000cp+25 } },
+    { 0x0100001b, { .fl = 0x0.80000ep+25 } },
+    { 0x0100001d, { .fl = 0x0.80000ep+25 } },
+    { 0x0100001f, { .fl = 0x0.800010p+25 } },
+
+    { 0x7ffffc40, { .fl = 0x0.fffff8p+31 } },
+    { 0x7ffffcc0, { .fl = 0x0.fffffap+31 } },
+    { 0x7ffffd40, { .fl = 0x0.fffffap+31 } },
+    { 0x7ffffdc0, { .fl = 0x0.fffffcp+31 } },
+    { 0x7ffffe40, { .fl = 0x0.fffffcp+31 } },
+    { 0x7ffffec0, { .fl = 0x0.fffffep+31 } },
+    { 0x7fffff40, { .fl = 0x0.fffffep+31 } },
+    { 0x7fffffc0, { .fl = 0x1.000000p+31 } },
+    
+    /* LSB bits in rounding (shift to left)	*/
+    { 0x01000000000000LL, { .fl = 0x0.800000p+49 } },
+    { 0x01000001000000LL, { .fl = 0x0.800000p+49 } },
+    { 0x01000001000001LL, { .fl = 0x0.800001p+49 } },
+    { 0x01000001000100LL, { .fl = 0x0.800001p+49 } },
+    { 0x01000001010000LL, { .fl = 0x0.800001p+49 } },
+    { 0x01000002000000LL, { .fl = 0x0.800001p+49 } },
+    { 0x01000002000001LL, { .fl = 0x0.800001p+49 } },
+
+    { 0x01000002ffffffLL, { .fl = 0x0.800001p+49 } },
+    { 0x01000003000000LL, { .fl = 0x0.800002p+49 } },
+
+    /* LSB bits in rounding (shift to right)	*/
+    { 0x0100000000000000LL, { .fl = 0x0.800000p+57 } },
+    { 0x0100000100000000LL, { .fl = 0x0.800000p+57 } },
+    { 0x0100000100000001LL, { .fl = 0x0.800001p+57 } },
+    { 0x0100000100000100LL, { .fl = 0x0.800001p+57 } },
+    { 0x0100000100010000LL, { .fl = 0x0.800001p+57 } },
+    { 0x0100000101000000LL, { .fl = 0x0.800001p+57 } },
+    { 0x0100000200000000LL, { .fl = 0x0.800001p+57 } },
+    { 0x0100000200000001LL, { .fl = 0x0.800001p+57 } },
+
+    { 0x01000002ffffffffLL, { .fl = 0x0.800001p+57 } },
+    { 0x0100000300000000LL, { .fl = 0x0.800002p+57 } },
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d] (%#llx):  %#lx (%g)\n",
+             index - 1, t[index-1].x, v.lo, v.fl);
+#endif
+    exit (index ? index : -1);
+}
+
+int main ()
+{
+    unsigned long long x;
+    union lofl_u z;
+    int i;
+    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	x = pgm_read_qword (& t[i].x);
+	z.lo = pgm_read_dword (& t[i].z);
+#ifdef __AVR__
+	/* Force library's convertion function usage. This is needed for
+	   GCC before 4.2	*/
+	extern float __floatundisf (unsigned long long);
+	v.fl = __floatundisf (x);
+#else
+	v.fl = x;
+#endif
+	if (v.lo != z.lo)
+	    x_exit (i+1);
+    }
+    return 0;
+}
diff --git a/tests/simulate/fplib/unord-01.c b/tests/simulate/fplib/unord-01.c
new file mode 100644
index 0000000..fe2b76b
--- /dev/null
+++ b/tests/simulate/fplib/unord-01.c
@@ -0,0 +1,233 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of __unordsf2() function (used by GCC 4.3.0), finite values.
+   $Id$
+ */
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+#ifdef	__AVR__
+extern int __unordsf2 (float, float);
+# define UNORDSF2	__unordsf2
+# define EXIT		exit
+#else
+# include <math.h>
+# define UNORDSF2	isunordered
+# define EXIT(x)	exit ((x) < 255 ? (x) : 255)
+#endif
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+PROGMEM const struct {		/* Table of test cases.	*/
+    union lofl_u x, y;
+    unsigned char z;		/* result	*/
+} t[] = {
+
+    /* 0.0 and 0.0	*/
+    { { 0x00000000 }, { 0x00000000 }, 0	},
+    { { 0x00000000 }, { 0x80000000 }, 0	},
+    { { 0x80000000 }, { 0x00000000 }, 0	},
+    { { 0x80000000 }, { 0x80000000 }, 0	},
+    
+    /* 0.0 and nonzero	*/
+    { { 0x00000000 }, { 0x00000001 }, 0	},
+    { { 0x00000000 }, { 0x007fffff }, 0	},
+    { { 0x00000000 }, { 0x00800000 }, 0	},
+    { { 0x00000000 }, { 0x7f7fffff }, 0	},
+    { { 0x00000000 }, { 0x80000001 }, 0	},
+    { { 0x00000000 }, { 0x807fffff }, 0	},
+    { { 0x00000000 }, { 0x80800000 }, 0	},
+    { { 0x00000000 }, { 0xff7fffff }, 0	},
+
+    /* -0.0 and nonzero	*/
+    { { 0x80000000 }, { 0x00000001 }, 0	},
+    { { 0x80000000 }, { 0x007fffff }, 0	},
+    { { 0x80000000 }, { 0x00800000 }, 0	},
+    { { 0x80000000 }, { 0x7f7fffff }, 0	},
+    { { 0x80000000 }, { 0x80000001 }, 0	},
+    { { 0x80000000 }, { 0x807fffff }, 0	},
+    { { 0x80000000 }, { 0x80800000 }, 0	},
+    { { 0x80000000 }, { 0xff7fffff }, 0	},
+    
+    /* nonzero and 0.0	*/
+    { { 0x00000001 }, { 0x00000000 }, 0	},
+    { { 0x007fffff }, { 0x00000000 }, 0	},
+    { { 0x00800000 }, { 0x00000000 }, 0	},
+    { { 0x7f7fffff }, { 0x00000000 }, 0	},
+    { { 0x80000001 }, { 0x00000000 }, 0	},
+    { { 0x807fffff }, { 0x00000000 }, 0	},
+    { { 0x80800000 }, { 0x00000000 }, 0	},
+    { { 0xff7fffff }, { 0x00000000 }, 0	},
+
+    /* nonzero and -0.0	*/
+    { { 0x00000001 }, { 0x80000000 }, 0	},
+    { { 0x007fffff }, { 0x80000000 }, 0	},
+    { { 0x00800000 }, { 0x80000000 }, 0	},
+    { { 0x7f7fffff }, { 0x80000000 }, 0	},
+    { { 0x80000001 }, { 0x80000000 }, 0	},
+    { { 0x807fffff }, { 0x80000000 }, 0	},
+    { { 0x80800000 }, { 0x80000000 }, 0	},
+    { { 0xff7fffff }, { 0x80000000 }, 0	},
+
+    /* equal	*/
+    { { 0x00000001 }, { 0x00000001 }, 0	},
+    { { 0x007fffff }, { 0x007fffff }, 0	},
+    { { 0x00800000 }, { 0x00800000 }, 0	},
+    { { 0x7f7fffff }, { 0x7f7fffff }, 0	},
+    { { 0x80000001 }, { 0x80000001 }, 0	},
+    { { 0x807fffff }, { 0x807fffff }, 0	},
+    { { 0x80800000 }, { 0x80800000 }, 0	},
+    { { 0xff7fffff }, { 0xff7fffff }, 0	},
+    
+    /* different signs	*/
+    { { 0x00000001 }, { 0x80000001 }, 0	},
+    { { 0x00000100 }, { 0x80000100 }, 0	},
+    { { 0x00010000 }, { 0x80010000 }, 0	},
+    { { 0x00800000 }, { 0x80800000 }, 0	},
+    { { 0x7f000000 }, { 0xff000000 }, 0	},
+    { { 0x7f7fffff }, { 0xff7fffff }, 0	},
+    { { 0x80000001 }, { 0x00000001 }, 0	},
+    { { 0x80000100 }, { 0x00000100 }, 0	},
+    { { 0x80010000 }, { 0x00010000 }, 0	},
+    { { 0x80800000 }, { 0x00800000 }, 0	},
+    { { 0xff000000 }, { 0x7f000000 }, 0	},
+    { { 0xff7fffff }, { 0x7f7fffff }, 0	},
+    
+    /* slitely diffirent values	*/
+    { { 0x00000003 }, { 0x00000001 }, 0	},
+    { { 0x00000300 }, { 0x00000100 }, 0	},
+    { { 0x00030000 }, { 0x00010000 }, 0	},
+    { { 0x00c00000 }, { 0x00800000 }, 0	},
+    { { 0x03000000 }, { 0x01000000 }, 0	},
+    { { 0x60000000 }, { 0x20000000 }, 0	},
+    { { 0x00000001 }, { 0x00000003 }, 0	},
+    { { 0x00000100 }, { 0x00000300 }, 0	},
+    { { 0x00010000 }, { 0x00030000 }, 0	},
+    { { 0x00800000 }, { 0x00c00000 }, 0	},
+    { { 0x01000000 }, { 0x03000000 }, 0	},
+    { { 0x20000000 }, { 0x60000000 }, 0	},
+
+    /* x < y	*/
+    { { 0xff7fffff }, { 0xff7ffffe }, 0	},
+    { { 0xff7fffff }, { 0x80800000 }, 0	},
+    { { 0xff7fffff }, { 0x807fffff }, 0	},
+    { { 0xff7fffff }, { 0x80000001 }, 0	},
+    { { 0xff7fffff }, { 0x00000001 }, 0	},
+    { { 0xff7fffff }, { 0x007fffff }, 0	},
+    { { 0xff7fffff }, { 0x00800000 }, 0	},
+    { { 0xff7fffff }, { 0x7f7fffff }, 0	},
+    { { 0x80800000 }, { 0x807fffff }, 0	},
+    { { 0x80800000 }, { 0x80000001 }, 0	},
+    { { 0x80800000 }, { 0x00000001 }, 0	},
+    { { 0x80800000 }, { 0x007fffff }, 0	},
+    { { 0x80800000 }, { 0x00800000 }, 0	},
+    { { 0x80800000 }, { 0x7f7fffff }, 0	},
+    { { 0x807fffff }, { 0x807ffffe }, 0	},
+    { { 0x807fffff }, { 0x80000001 }, 0	},
+    { { 0x807fffff }, { 0x00000001 }, 0	},
+    { { 0x807fffff }, { 0x007fffff }, 0	},
+    { { 0x807fffff }, { 0x00800000 }, 0	},
+    { { 0x807fffff }, { 0x7f7fffff }, 0	},
+    { { 0x80000001 }, { 0x00000001 }, 0	},
+    { { 0x80000001 }, { 0x007fffff }, 0	},
+    { { 0x80000001 }, { 0x00800000 }, 0	},
+    { { 0x80000001 }, { 0x7f7fffff }, 0	},
+    { { 0x00000001 }, { 0x00000002 }, 0	},
+    { { 0x00000001 }, { 0x007fffff }, 0	},
+    { { 0x00000001 }, { 0x00800000 }, 0	},
+    { { 0x00000001 }, { 0x7f7fffff }, 0	},
+    { { 0x007fffff }, { 0x00800000 }, 0	},
+    { { 0x007fffff }, { 0x7f7fffff }, 0	},
+    { { 0x00800000 }, { 0x00800001 }, 0	},
+    { { 0x00800000 }, { 0x7f7fffff }, 0	},
+    { { 0x7f7ffffe }, { 0x7f7fffff }, 0	},
+
+    /* x > y	*/
+    { { 0xff7ffffe }, { 0xff7fffff }, 0	},
+    { { 0x80800000 }, { 0xff7fffff }, 0	},
+    { { 0x807fffff }, { 0xff7fffff }, 0	},
+    { { 0x80000001 }, { 0xff7fffff }, 0	},
+    { { 0x00000001 }, { 0xff7fffff }, 0	},
+    { { 0x007fffff }, { 0xff7fffff }, 0	},
+    { { 0x00800000 }, { 0xff7fffff }, 0	},
+    { { 0x7f7fffff }, { 0xff7fffff }, 0	},
+    { { 0x807fffff }, { 0x80800000 }, 0	},
+    { { 0x80000001 }, { 0x80800000 }, 0	},
+    { { 0x00000001 }, { 0x80800000 }, 0	},
+    { { 0x007fffff }, { 0x80800000 }, 0	},
+    { { 0x00800000 }, { 0x80800000 }, 0	},
+    { { 0x7f7fffff }, { 0x80800000 }, 0	},
+    { { 0x807ffffe }, { 0x807fffff }, 0	},
+    { { 0x80000001 }, { 0x807fffff }, 0	},
+    { { 0x00000001 }, { 0x807fffff }, 0	},
+    { { 0x007fffff }, { 0x807fffff }, 0	},
+    { { 0x00800000 }, { 0x807fffff }, 0	},
+    { { 0x7f7fffff }, { 0x807fffff }, 0	},
+    { { 0x00000001 }, { 0x80000001 }, 0	},
+    { { 0x007fffff }, { 0x80000001 }, 0	},
+    { { 0x00800000 }, { 0x80000001 }, 0	},
+    { { 0x7f7fffff }, { 0x80000001 }, 0	},
+    { { 0x00000002 }, { 0x00000001 }, 0	},
+    { { 0x007fffff }, { 0x00000001 }, 0	},
+    { { 0x00800000 }, { 0x00000001 }, 0	},
+    { { 0x7f7fffff }, { 0x00000001 }, 0	},
+    { { 0x00800000 }, { 0x007fffff }, 0	},
+    { { 0x7f7fffff }, { 0x007fffff }, 0	},
+    { { 0x00800001 }, { 0x00800000 }, 0	},
+    { { 0x7f7fffff }, { 0x00800000 }, 0	},
+    { { 0x7f7fffff }, { 0x7f7ffffe }, 0	},
+    
+    /* others	*/
+    { { 0x000000ff }, { 0x00000100 }, 0	},
+    { { 0x0000ffff }, { 0x00010000 }, 0	},
+    { { 0x000000ff }, { 0x000000fe }, 0	},
+    { { 0x0000ffff }, { 0x0000fffe }, 0	},
+};
+
+volatile union lofl_u x, y;
+
+int main ()
+{
+    int i;
+    unsigned char z;
+    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	x.lo = pgm_read_dword (& t[i].x);
+	y.lo = pgm_read_dword (& t[i].y);
+	z = UNORDSF2 (x.fl, y.fl) ? 1 : 0;
+	if (z != pgm_read_byte (& t[i].z))
+	    EXIT (i + 1);
+    }
+    return 0;
+}
diff --git a/tests/simulate/fplib/unord-02.c b/tests/simulate/fplib/unord-02.c
new file mode 100644
index 0000000..2aada2d
--- /dev/null
+++ b/tests/simulate/fplib/unord-02.c
@@ -0,0 +1,125 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of __unordsf2() function (used by GCC 4.3.0), Infs.
+   $Id$
+ */
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+#ifdef	__AVR__
+extern int __unordsf2 (float, float);
+# define UNORDSF2	__unordsf2
+# define EXIT		exit
+#else
+# include <math.h>
+# define UNORDSF2	isunordered
+# define EXIT(x)	exit ((x) < 255 ? (x) : 255)
+#endif
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+PROGMEM const struct {		/* Table of test cases.	*/
+    union lofl_u x, y;
+    unsigned char z;		/* result	*/
+} t[] = {
+
+    /* 0.0 and Inf, all signes	*/
+    { { 0x00000000 }, { 0x7f800000 }, 0	},
+    { { 0x80000000 }, { 0x7f800000 }, 0	},
+    { { 0x00000000 }, { 0xff800000 }, 0	},
+    { { 0x80000000 }, { 0xff800000 }, 0	},
+    
+    /* nonzero and +Inf	*/
+    { { 0xff7fffff }, { 0x7f800000 }, 0	},
+    { { 0x80800000 }, { 0x7f800000 }, 0	},
+    { { 0x807fffff }, { 0x7f800000 }, 0	},
+    { { 0x80000001 }, { 0x7f800000 }, 0	},
+    { { 0x00000001 }, { 0x7f800000 }, 0	},
+    { { 0x007fffff }, { 0x7f800000 }, 0	},
+    { { 0x00800000 }, { 0x7f800000 }, 0	},
+    { { 0x7f7fffff }, { 0x7f800000 }, 0	},
+
+    /* nonzero and -Inf	*/
+    { { 0xff7fffff }, { 0xff800000 }, 0	},
+    { { 0x80800000 }, { 0xff800000 }, 0	},
+    { { 0x807fffff }, { 0xff800000 }, 0	},
+    { { 0x80000001 }, { 0xff800000 }, 0	},
+    { { 0x00000001 }, { 0xff800000 }, 0	},
+    { { 0x007fffff }, { 0xff800000 }, 0	},
+    { { 0x00800000 }, { 0xff800000 }, 0	},
+    { { 0x7f7fffff }, { 0xff800000 }, 0	},
+
+    /* +Inf and nonzero	*/
+    { { 0x7f800000 }, { 0xff7fffff }, 0	},
+    { { 0x7f800000 }, { 0x80800000 }, 0	},
+    { { 0x7f800000 }, { 0x807fffff }, 0	},
+    { { 0x7f800000 }, { 0x80000001 }, 0	},
+    { { 0x7f800000 }, { 0x00000001 }, 0	},
+    { { 0x7f800000 }, { 0x007fffff }, 0	},
+    { { 0x7f800000 }, { 0x00800000 }, 0	},
+    { { 0x7f800000 }, { 0x7f7fffff }, 0	},
+
+    /* -Inf and nonzero	*/
+    { { 0xff800000 }, { 0xff7fffff }, 0	},
+    { { 0xff800000 }, { 0x80800000 }, 0	},
+    { { 0xff800000 }, { 0x807fffff }, 0	},
+    { { 0xff800000 }, { 0x80000001 }, 0	},
+    { { 0xff800000 }, { 0x00000001 }, 0	},
+    { { 0xff800000 }, { 0x007fffff }, 0	},
+    { { 0xff800000 }, { 0x00800000 }, 0	},
+    { { 0xff800000 }, { 0x7f7fffff }, 0	},
+
+    /* Inf and Inf, all signes	*/
+    { { 0x7f800000 }, { 0x7f800000 }, 0	},
+    { { 0xff800000 }, { 0xff800000 }, 0	},
+    { { 0xff800000 }, { 0x7f800000 }, 0	},
+    { { 0x7f800000 }, { 0xff800000 }, 0	},
+};
+
+volatile union lofl_u x, y;
+
+int main ()
+{
+    int i;
+    unsigned char z;
+    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	x.lo = pgm_read_dword (& t[i].x);
+	y.lo = pgm_read_dword (& t[i].y);
+	z = UNORDSF2 (x.fl, y.fl) ? 1 : 0;
+	if (z != pgm_read_byte (& t[i].z))
+	    EXIT (i + 1);
+    }
+    return 0;
+}
diff --git a/tests/simulate/fplib/unord-03.c b/tests/simulate/fplib/unord-03.c
new file mode 100644
index 0000000..73cb583
--- /dev/null
+++ b/tests/simulate/fplib/unord-03.c
@@ -0,0 +1,127 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of __unordsf2() function (used by GCC 4.3.0), NaNs.
+   $Id$
+ */
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+#ifdef	__AVR__
+extern int __unordsf2 (float, float);
+# define UNORDSF2	__unordsf2
+# define EXIT		exit
+#else
+# include <math.h>
+# define UNORDSF2	isunordered
+# define EXIT(x)	exit ((x) < 255 ? (x) : 255)
+#endif
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+PROGMEM const struct {		/* Table of test cases.	*/
+    union lofl_u x, y;
+    unsigned char z;		/* result	*/
+} t[] = {
+
+    /* NaNs and 1.0	*/
+    { { 0x7f800001 }, { 0x3f800000 }, 1	},
+    { { 0x7f800100 }, { 0x3f800000 }, 1	},
+    { { 0x7f810000 }, { 0x3f800000 }, 1	},
+    { { 0x7fffffff }, { 0x3f800000 }, 1	},
+    { { 0xff800001 }, { 0x3f800000 }, 1	},
+    { { 0xff800100 }, { 0x3f800000 }, 1	},
+    { { 0xff810000 }, { 0x3f800000 }, 1	},
+    { { 0xffffffff }, { 0x3f800000 }, 1	},
+    
+    /* 1.0 and NaNs	*/
+    { { 0x3f800000 }, { 0x7f800001 }, 1	},
+    { { 0x3f800000 }, { 0x7f800100 }, 1	},
+    { { 0x3f800000 }, { 0x7f810000 }, 1	},
+    { { 0x3f800000 }, { 0x7fffffff }, 1	},
+    { { 0x3f800000 }, { 0xff800001 }, 1	},
+    { { 0x3f800000 }, { 0xff800100 }, 1	},
+    { { 0x3f800000 }, { 0xff810000 }, 1	},
+    { { 0x3f800000 }, { 0xffffffff }, 1	},
+
+    /* NaN and normal/Inf	*/
+    { { 0x7fc00000 }, { 0xff800000 }, 1	},    
+    { { 0x7fc00000 }, { 0xff7fffff }, 1	},    
+    { { 0x7fc00000 }, { 0x80800000 }, 1	},    
+    { { 0x7fc00000 }, { 0x807fffff }, 1	},    
+    { { 0x7fc00000 }, { 0x80000001 }, 1	},    
+    { { 0x7fc00000 }, { 0x80000000 }, 1	},    
+    { { 0x7fc00000 }, { 0x00000000 }, 1	},    
+    { { 0x7fc00000 }, { 0x00000001 }, 1	},    
+    { { 0x7fc00000 }, { 0x007fffff }, 1	},    
+    { { 0x7fc00000 }, { 0x00800000 }, 1	},    
+    { { 0x7fc00000 }, { 0x7f7fffff }, 1	},    
+    { { 0x7fc00000 }, { 0x7f800000 }, 1	},    
+
+    /* normal/Inf and NaN	*/
+    { { 0xff800000 }, { 0x7fc00000 }, 1	},    
+    { { 0xff7fffff }, { 0x7fc00000 }, 1	},    
+    { { 0x80800000 }, { 0x7fc00000 }, 1	},    
+    { { 0x807fffff }, { 0x7fc00000 }, 1	},    
+    { { 0x80000001 }, { 0x7fc00000 }, 1	},    
+    { { 0x80000000 }, { 0x7fc00000 }, 1	},    
+    { { 0x00000000 }, { 0x7fc00000 }, 1	},    
+    { { 0x00000001 }, { 0x7fc00000 }, 1	},    
+    { { 0x007fffff }, { 0x7fc00000 }, 1	},    
+    { { 0x00800000 }, { 0x7fc00000 }, 1	},    
+    { { 0x7f7fffff }, { 0x7fc00000 }, 1	},    
+    { { 0x7f800000 }, { 0x7fc00000 }, 1	},    
+
+    /* NaN and NaN	*/
+    { { 0x7f800001 }, { 0x7f800001 }, 1	},
+    { { 0xffffffff }, { 0xffffffff }, 1	},
+    { { 0x7fc00000 }, { 0xffc00000 }, 1	},
+    { { 0xffc00000 }, { 0x7fc00000 }, 1	},
+};
+
+volatile union lofl_u x, y;
+
+int main ()
+{
+    int i;
+    unsigned char z;
+    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	x.lo = pgm_read_dword (& t[i].x);
+	y.lo = pgm_read_dword (& t[i].y);
+	z = UNORDSF2 (x.fl, y.fl) ? 1 : 0;
+	if (z != pgm_read_byte (& t[i].z))
+	    EXIT (i + 1);
+    }
+    return 0;
+}
diff --git a/tests/simulate/known-to-fail.txt b/tests/simulate/known-to-fail.txt
new file mode 100644
index 0000000..c6fad57
--- /dev/null
+++ b/tests/simulate/known-to-fail.txt
@@ -0,0 +1,16 @@
+The following tests are currently known to fail.  After changing
+source code of the library, no further failures must arise, or in
+case it is clear the modification causes a different internal
+behaviour (without changing the API) that is then going to be
+checked by one or more testscripts, the testscripts must be
+modified as well.  (An example of the latter was the modification
+to malloc/free to reduce the heap when the topmost chunk had been
+freed.  Several testscripts assumed the final freelist would
+consist of a single large entry which is no longer the case now.)
+
+Simulate: math/isinf-01.c atmega128 ... *** simulate failed: 22
+Simulate: math/isinf-01.c at90s8515 ... *** simulate failed: 22
+Simulate: math/modf-np.c atmega128 ... *** simulate failed: 47
+Simulate: math/modf-np.c at90s8515 ... *** simulate failed: 47
+Simulate: math/signbit-01.c atmega128 ... *** simulate failed: 2
+Simulate: math/signbit-01.c at90s8515 ... *** simulate failed: 2
diff --git a/tests/simulate/math/acos-01.c b/tests/simulate/math/acos-01.c
new file mode 100644
index 0000000..720aadb
--- /dev/null
+++ b/tests/simulate/math/acos-01.c
@@ -0,0 +1,98 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of acos() function.
+   $Id$
+ */
+#include <math.h>
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+volatile union lofl_u v = { .lo = 1 };
+
+PROGMEM const struct {		/* Table of test cases.	*/
+    union lofl_u x;		/* argument	*/
+    union lofl_u z;		/* acos(x)	*/
+} t[] = {
+
+    /* Zero	*/
+    { { .fl= +0.0 },	{ 0x3fc90fdb }	},	/* Pi/2	*/
+    { { .fl= -0.0 },	{ 0x3fc90fdb }	},
+
+    /* Subnormal	*/
+    { { 0x00000001 },	{ 0x3fc90fdb }	},
+    { { 0x00000100 },	{ 0x3fc90fdb }	},
+    { { 0x00010000 },	{ 0x3fc90fdb }	},
+    { { 0x007fffff },	{ 0x3fc90fdb }	},
+    { { 0x80000001 },	{ 0x3fc90fdb }	},
+    { { 0x80000100 },	{ 0x3fc90fdb }	},
+    { { 0x80010000 },	{ 0x3fc90fdb }	},
+    { { 0x807fffff },	{ 0x3fc90fdb }	},
+    
+    /* Some values	*/
+    { { .fl=  1.0 },	{ .fl = 0.0  } },
+    { { .fl= -1.0 },	{ 0x40490fdb } },	/* Pi	*/
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]:  %#lx\n", index - 1, v.lo);
+#endif
+    exit (index ? index : -1);
+}
+
+static inline unsigned long distance (long a, long b)
+{
+    unsigned long a1, b1;
+    a1 = (a < 0) ? (unsigned long)~a : a + 0x80000000;
+    b1 = (b < 0) ? (unsigned long)~b : b + 0x80000000;
+    return (a1 > b1) ? a1 - b1 : b1 - a1;
+}
+
+int main ()
+{
+    union lofl_u x, z;
+    int i;
+    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	x.lo = pgm_read_dword (& t[i].x);
+	z.lo = pgm_read_dword (& t[i].z);
+	v.fl = acos (x.fl);
+	if (v.lo < 0 || distance(v.lo, z.lo) > 1)
+	    x_exit (i+1);
+    }
+    return 0;
+}
diff --git a/tests/simulate/math/acos-500.c b/tests/simulate/math/acos-500.c
new file mode 100644
index 0000000..68bff47
--- /dev/null
+++ b/tests/simulate/math/acos-500.c
@@ -0,0 +1,579 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of acos() function. Random cases.
+   $Id$
+ */
+#include <math.h>
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+volatile union lofl_u v = { .lo = 1 };
+
+PROGMEM const struct {		/* Table of test cases.	*/
+    long x;		/* argument	*/
+    long z;		/* acos(x)	*/
+} t[] = {
+
+    /* x, acos(x)	*/
+    { 0x3f0badc6,0x3f7e60f9 }, /*   1:  5.4562032e-01  9.9366719e-01 */
+    { 0xbedbb62c,0x4000ea9c }, /*   2: -4.2912424e-01  2.0143194e+00 */
+    { 0xbf7953ff,0x403a6b19 }, /*   3: -9.7393793e-01  2.9127867e+00 */
+    { 0xbe5adb17,0x3fe4a1af }, /*   4: -2.1372639e-01  1.7861842e+00 */
+    { 0x3dada88c,0x3fbe31fb }, /*   5:  8.4794134e-02  1.4859003e+00 */
+    { 0xbec84091,0x3ffc7f88 }, /*   6: -3.9111760e-01  1.9726419e+00 */
+    { 0x3ede4f98,0x3f8f9212 }, /*   7:  4.3420100e-01  1.1216452e+00 */
+    { 0x3f41eca1,0x3f361773 }, /*   8:  7.5751692e-01  7.1129531e-01 */
+    { 0x3ea8498e,0x3f9e3174 }, /*   9:  3.2868618e-01  1.2358842e+00 */
+    { 0xbf6bdaca,0x402f809f }, /*  10: -9.2130721e-01  2.7422254e+00 */
+    { 0x3f4b5c6e,0x3f271ea9 }, /*  11:  7.9437912e-01  6.5281159e-01 */
+    { 0x3dd4bc6d,0x3fbbbded }, /*  12:  1.0387502e-01  1.4667336e+00 */
+    { 0xbe16feac,0x3fdc015f }, /*  13: -1.4745587e-01  1.7187918e+00 */
+    { 0xbf14a651,0x400c2e83 }, /*  14: -5.8066279e-01  2.1903389e+00 */
+    { 0x3ed4acbf,0x3f923b52 }, /*  15:  4.1538045e-01  1.1424353e+00 */
+    { 0x3f20811e,0x3f64a4b8 }, /*  16:  6.2697017e-01  8.9313841e-01 */
+    { 0x3f7c4898,0x3e2eb25d }, /*  17:  9.8548269e-01  1.7060228e-01 */
+    { 0x3f3eb6d7,0x3f3af4a3 }, /*  18:  7.4497741e-01  7.3029536e-01 */
+    { 0xbeb4a7b5,0x3ff73837 }, /*  19: -3.5284200e-01  1.9314030e+00 */
+    { 0xbf782470,0x40392a00 }, /*  20: -9.6930599e-01  2.8931885e+00 */
+    { 0xbf0c54d2,0x4009a97e }, /*  21: -5.4816926e-01  2.1509700e+00 */
+    { 0xbdff66d0,0x3fd910f2 }, /*  22: -1.2470782e-01  1.6958296e+00 */
+    { 0x3ee75acc,0x3f8d0c6f }, /*  23:  4.5186460e-01  1.1019419e+00 */
+    { 0x3f01e52c,0x3f84f1c2 }, /*  24:  5.0740314e-01  1.0386279e+00 */
+    { 0x3f034118,0x3f842782 }, /*  25:  5.1271200e-01  1.0324557e+00 */
+    { 0xbe1c70d0,0x3fdcb1a3 }, /*  26: -1.5277410e-01  1.7241710e+00 */
+    { 0x3f756918,0x3e93c741 }, /*  27:  9.5863485e-01  2.8862956e-01 */
+    { 0xbf1988c1,0x400db1c9 }, /*  28: -5.9974295e-01  2.2139761e+00 */
+    { 0xbf426a44,0x401bba30 }, /*  29: -7.5943398e-01  2.4332390e+00 */
+    { 0x3f49af36,0x3f29dc62 }, /*  30:  7.8782976e-01  6.6351902e-01 */
+    { 0xbf044c0a,0x400749f1 }, /*  31: -5.1678526e-01  2.1138880e+00 */
+    { 0x3f494382,0x3f2a8af6 }, /*  32:  7.8618634e-01  6.6618288e-01 */
+    { 0xbf242be0,0x40111635 }, /*  33: -6.4129448e-01  2.2669804e+00 */
+    { 0xbefb4013,0x40055b9a }, /*  34: -4.9072322e-01  2.0837159e+00 */
+    { 0xbedae688,0x4000cde2 }, /*  35: -4.2754006e-01  2.0125661e+00 */
+    { 0x3ee31264,0x3f8e3ef8 }, /*  36:  4.4349968e-01  1.1112967e+00 */
+    { 0x3df1fd70,0x3fb9e6f3 }, /*  37:  1.1815917e-01  1.4523605e+00 */
+    { 0xbf7e4b78,0x4041abc1 }, /*  38: -9.9333906e-01  3.0261080e+00 */
+    { 0x3e4dd74a,0x3faf27c2 }, /*  39:  2.0101658e-01  1.3684008e+00 */
+    { 0xbf0d9b8b,0x400a0b59 }, /*  40: -5.5315465e-01  2.1569426e+00 */
+    { 0xbf6a2642,0x402e6d6b }, /*  41: -9.1464627e-01  2.7254283e+00 */
+    { 0xbb96dfab,0x3fc9a6ba }, /*  42: -4.6043000e-03  1.5754006e+00 */
+    { 0x3f0cfc03,0x3f7cd157 }, /*  43:  5.5072039e-01  9.8756927e-01 */
+    { 0xbd7e5ece,0x3fd10421 }, /*  44: -6.2102132e-02  1.6329385e+00 */
+    { 0x3ed457df,0x3f9252a5 }, /*  45:  4.1473290e-01  1.1431471e+00 */
+    { 0xbd0ad9db,0x3fcd66e0 }, /*  46: -3.3899169e-02  1.6047020e+00 */
+    { 0xbedec99e,0x400157c1 }, /*  47: -4.3513197e-01  2.0209811e+00 */
+    { 0x3ecce90f,0x3f945b90 }, /*  48:  4.0021560e-01  1.1590443e+00 */
+    { 0xbe93ed8e,0x3fee942b }, /*  49: -2.8892177e-01  1.8638967e+00 */
+    { 0x3e591d5a,0x3fadb70c }, /*  50:  2.1202603e-01  1.3571486e+00 */
+    { 0x3edca02f,0x3f9009b1 }, /*  51:  4.3090960e-01  1.1252958e+00 */
+    { 0x3e26d19a,0x3fb41dc1 }, /*  52:  1.6290894e-01  1.4071580e+00 */
+    { 0xbf69a583,0x402e1e3b }, /*  53: -9.1268176e-01  2.7205951e+00 */
+    { 0xbdf01416,0x3fd819f6 }, /*  54: -1.1722581e-01  1.6882923e+00 */
+    { 0xbea8ccdb,0x3ff41104 }, /*  55: -3.2968792e-01  1.9067693e+00 */
+    { 0x3f199b95,0x3f6d60be }, /*  56:  6.0003024e-01  9.2725742e-01 */
+    { 0x3f3ae149,0x3f40a227 }, /*  57:  7.3000008e-01  7.5247425e-01 */
+    { 0xbebdfaaa,0x3ff9b85f }, /*  58: -3.7105304e-01  1.9509391e+00 */
+    { 0xbf7fed2c,0x4047871c }, /*  59: -9.9971271e-01  3.1176214e+00 */
+    { 0x3f787705,0x3e79103c }, /*  60:  9.7056609e-01  2.4322599e-01 */
+    { 0xbf154e1f,0x400c6219 }, /*  61: -5.8322328e-01  2.1934874e+00 */
+    { 0xbf043936,0x40074471 }, /*  62: -5.1649797e-01  2.1135523e+00 */
+    { 0x3f41ba87,0x3f366425 }, /*  63:  7.5675243e-01  7.1246558e-01 */
+    { 0xbe65e7f9,0x3fe60c1b }, /*  64: -2.2451772e-01  1.7972444e+00 */
+    { 0xbbec9fc3,0x3fc9fc7b }, /*  65: -7.2211935e-03  1.5780176e+00 */
+    { 0xbf2bb8bd,0x40139698 }, /*  66: -6.7078763e-01  2.3060665e+00 */
+    { 0xbf47f0cc,0x401de4d0 }, /*  67: -7.8101802e-01  2.4670906e+00 */
+    { 0xbf639992,0x402aa132 }, /*  68: -8.8906205e-01  2.6660886e+00 */
+    { 0xbf2a0435,0x4013040a }, /*  69: -6.6412669e-01  2.2971215e+00 */
+    { 0x3ed70a0c,0x3f9194c5 }, /*  70:  4.1999853e-01  1.1373526e+00 */
+    { 0xbee26a39,0x4001d8ec }, /*  71: -4.4221666e-01  2.0288649e+00 */
+    { 0xbf142a77,0x400c0883 }, /*  72: -5.7877296e-01  2.1880195e+00 */
+    { 0xbf15a8b9,0x400c7e00 }, /*  73: -5.8460575e-01  2.1951904e+00 */
+    { 0xbf64391a,0x402af8c5 }, /*  74: -8.9149630e-01  2.6714337e+00 */
+    { 0x3eb7df38,0x3f9a0b2f }, /*  75:  3.5912490e-01  1.2034663e+00 */
+    { 0x3f548336,0x3f1769f8 }, /*  76:  8.3012712e-01  5.9146070e-01 */
+    { 0x3d98ca44,0x3fbf80f0 }, /*  77:  7.4604541e-02  1.4961224e+00 */
+    { 0x3f6c8acd,0x3ec8e900 }, /*  78:  9.2399293e-01  3.9240265e-01 */
+    { 0x3e6bdef7,0x3fab4f98 }, /*  79:  2.3034273e-01  1.3383665e+00 */
+    { 0x3f492281,0x3f2ac056 }, /*  80:  7.8568274e-01  6.6699731e-01 */
+    { 0x3e0b488d,0x3fb798ed }, /*  81:  1.3601895e-01  1.4343544e+00 */
+    { 0xbead7056,0x3ff54c00 }, /*  82: -3.3874768e-01  1.9163818e+00 */
+    { 0xbd52917f,0x3fcfa525 }, /*  83: -5.1408287e-02  1.6222273e+00 */
+    { 0x3e64b280,0x3fac3b4c }, /*  84:  2.2333717e-01  1.3455596e+00 */
+    { 0x3f0b4552,0x3f7edd89 }, /*  85:  5.4402649e-01  9.9556786e-01 */
+    { 0x3f1e707b,0x3f67487f }, /*  86:  6.1890382e-01  9.0344995e-01 */
+    { 0xbe34df2c,0x3fdfca47 }, /*  87: -1.7663258e-01  1.7483605e+00 */
+    { 0x3e8c4d38,0x3fa58832 }, /*  88:  2.7402663e-01  1.2932189e+00 */
+    { 0xbf408cda,0x401b03e9 }, /*  89: -7.5214922e-01  2.4221137e+00 */
+    { 0xbe3493dd,0x3fdfc0b7 }, /*  90: -1.7634530e-01  1.7480687e+00 */
+    { 0x3e7a7684,0x3fa96ee5 }, /*  91:  2.4459273e-01  1.3236967e+00 */
+    { 0xbeabb5f2,0x3ff4d688 }, /*  92: -3.3537251e-01  1.9127970e+00 */
+    { 0x3e9d43a5,0x3fa1198f }, /*  93:  3.0715671e-01  1.2585925e+00 */
+    { 0x3ab05024,0x3fc8e3c7 }, /*  94:  1.3451618e-03  1.5694512e+00 */
+    { 0x3ee15611,0x3f8ebacb }, /*  95:  4.4010976e-01  1.1150755e+00 */
+    { 0xbf33376d,0x40162985 }, /*  96: -7.0006448e-01  2.3462842e+00 */
+    { 0x3ea93ed6,0x3f9df081 }, /*  97:  3.3055753e-01  1.2339021e+00 */
+    { 0x3f28ba3c,0x3f59e752 }, /*  98:  6.5909171e-01  8.5118592e-01 */
+    { 0xbf16d0fe,0x400cd97a }, /*  99: -5.8912647e-01  2.2007737e+00 */
+    { 0x3f2a9b35,0x3f576504 }, /* 100:  6.6643077e-01  8.4138513e-01 */
+    { 0x3da1fa13,0x3fbeed84 }, /* 101:  7.9090260e-02  1.4916234e+00 */
+    { 0xbd0061ae,0x3fcd1313 }, /* 102: -3.1343155e-02  1.6021446e+00 */
+    { 0xbf698f42,0x402e10a1 }, /* 103: -9.1234219e-01  2.7197649e+00 */
+    { 0x3efd2d12,0x3f86dae1 }, /* 104:  4.9448448e-01  1.0535547e+00 */
+    { 0x3d9e065a,0x3fbf2cf1 }, /* 105:  7.7160552e-02  1.4935590e+00 */
+    { 0x3ee4c0b4,0x3f8dc6d5 }, /* 106:  4.4678271e-01  1.1076304e+00 */
+    { 0x3ea6337e,0x3f9ebeb8 }, /* 107:  3.2461160e-01  1.2401953e+00 */
+    { 0xbf5925ec,0x40255714 }, /* 108: -8.4823489e-01  2.5834398e+00 */
+    { 0x3ebdd64e,0x3f987120 }, /* 109:  3.7077564e-01  1.1909523e+00 */
+    { 0xbee3dd06,0x40020ca4 }, /* 110: -4.4504565e-01  2.0320215e+00 */
+    { 0x3f6ffc95,0x3eb60d68 }, /* 111:  9.3744785e-01  3.5557103e-01 */
+    { 0xbefc856c,0x40058a50 }, /* 112: -4.9320543e-01  2.0865669e+00 */
+    { 0x3e5d6548,0x3fad2ace }, /* 113:  2.1620667e-01  1.3528688e+00 */
+    { 0xbde96416,0x3fd7ae3d }, /* 114: -1.1396043e-01  1.6850048e+00 */
+    { 0x3f3ae9ea,0x3f409587 }, /* 115:  7.3013175e-01  7.5228161e-01 */
+    { 0xbe75856e,0x3fe80dd4 }, /* 116: -2.3976681e-01  1.8129220e+00 */
+    { 0xbefd7810,0x4005ad33 }, /* 117: -4.9505663e-01  2.0886962e+00 */
+    { 0xbee49bc2,0x40022747 }, /* 118: -4.4650084e-01  2.0336473e+00 */
+    { 0xbf773ac0,0x403842cc }, /* 119: -9.6574020e-01  2.8790770e+00 */
+    { 0xbe7d238a,0x3fe90928 }, /* 120: -2.4720588e-01  1.8205919e+00 */
+    { 0x3ec11a50,0x3f978fc5 }, /* 121:  3.7715387e-01  1.1840750e+00 */
+    { 0x3e8ec5c3,0x3fa4e3a6 }, /* 122:  2.7885255e-01  1.2881973e+00 */
+    { 0x3ed5b849,0x3f91f1c1 }, /* 123:  4.1742161e-01  1.1401902e+00 */
+    { 0xbea1a20b,0x3ff22c62 }, /* 124: -3.1568941e-01  1.8919795e+00 */
+    { 0xbf3844f7,0x4017f4c2 }, /* 125: -7.1980232e-01  2.3743138e+00 */
+    { 0xbe11e34c,0x3fdb5c34 }, /* 126: -1.4246863e-01  1.7137513e+00 */
+    { 0xbc810e45,0x3fcb1419 }, /* 127: -1.5753875e-02  1.5865508e+00 */
+    { 0x3f1c5a74,0x3f69eda3 }, /* 128:  6.1075521e-01  9.1378230e-01 */
+    { 0xbef77d2d,0x4004d1ca }, /* 129: -4.8337689e-01  2.0753045e+00 */
+    { 0x3eca4d1f,0x3f95118e }, /* 130:  3.9511964e-01  1.1645982e+00 */
+    { 0x3e8deb54,0x3fa51c7f }, /* 131:  2.7718604e-01  1.2899321e+00 */
+    { 0x3f1880ac,0x3f6ec1ae }, /* 132:  5.9571338e-01  9.3264282e-01 */
+    { 0xbf22df8b,0x4010aa39 }, /* 133: -6.3622350e-01  2.2603896e+00 */
+    { 0x3ebaccd0,0x3f994226 }, /* 134:  3.6484385e-01  1.1973312e+00 */
+    { 0x3db8b9a6,0x3fbd803b }, /* 135:  9.0197846e-02  1.4804758e+00 */
+    { 0x3ee1c280,0x3f8e9c98 }, /* 136:  4.4093704e-01  1.1141539e+00 */
+    { 0xbe40e4f8,0x3fe15193 }, /* 137: -1.8837345e-01  1.7603019e+00 */
+    { 0xbf15cf0c,0x400c89d0 }, /* 138: -5.8519053e-01  2.1959114e+00 */
+    { 0x3f17bb54,0x3f6fb709 }, /* 139:  5.9270215e-01  9.3638664e-01 */
+    { 0xbf514e17,0x4021cb21 }, /* 140: -8.1759781e-01  2.5280230e+00 */
+    { 0xbcf7b1e5,0x3fcceec9 }, /* 141: -3.0236194e-02  1.6010371e+00 */
+    { 0x3f07b7e9,0x3f8189d6 }, /* 142:  5.3015000e-01  1.0120189e+00 */
+    { 0xbe9f219a,0x3ff183ca }, /* 143: -3.1080323e-01  1.8868344e+00 */
+    { 0xbf50643d,0x40216609 }, /* 144: -8.1402951e-01  2.5218527e+00 */
+    { 0xbf15749a,0x400c6df2 }, /* 145: -5.8381045e-01  2.1942105e+00 */
+    { 0xbf14a6e3,0x400c2eb0 }, /* 146: -5.8067149e-01  2.1903496e+00 */
+    { 0xbd5c5989,0x3fcff381 }, /* 147: -5.3796325e-02  1.6246186e+00 */
+    { 0xbda18510,0x3fd32adb }, /* 148: -7.8867078e-02  1.6497453e+00 */
+    { 0xbcde987a,0x3fcc8a59 }, /* 149: -2.7172316e-02  1.5979720e+00 */
+    { 0xbca00b0a,0x3fcb9011 }, /* 150: -1.9536514e-02  1.5903341e+00 */
+    { 0x3f2c867c,0x3f54cf16 }, /* 151:  6.7392707e-01  8.3128488e-01 */
+    { 0xbf26679c,0x4011d163 }, /* 152: -6.5001845e-01  2.2784050e+00 */
+    { 0xbf3d9d77,0x4019e99f }, /* 153: -7.4068397e-01  2.4048841e+00 */
+    { 0x3dbb14ff,0x3fbd5a5d }, /* 154:  9.1348641e-02  1.4793202e+00 */
+    { 0x3d0c75ec,0x3fc4abf3 }, /* 155:  3.4292147e-02  1.5364975e+00 */
+    { 0xbeebc4db,0x40032860 }, /* 156: -4.6048626e-01  2.0493393e+00 */
+    { 0x3f72e9cd,0x3ea46ae0 }, /* 157:  9.4888002e-01  3.2112789e-01 */
+    { 0xbf7b4113,0x403cb82d }, /* 158: -9.8146170e-01  2.9487412e+00 */
+    { 0xbf5987f9,0x40258578 }, /* 159: -8.4973103e-01  2.5862713e+00 */
+    { 0xbf08d4ca,0x40089f11 }, /* 160: -5.3449690e-01  2.1347086e+00 */
+    { 0x3ed3caf8,0x3f927958 }, /* 161:  4.1365790e-01  1.1443281e+00 */
+    { 0x3edadb61,0x3f908706 }, /* 162:  4.2745498e-01  1.1291206e+00 */
+    { 0xbf70541e,0x40328d5e }, /* 163: -9.3878353e-01  2.7898784e+00 */
+    { 0x3f4705f1,0x3f2e22e5 }, /* 164:  7.7743441e-01  6.8021995e-01 */
+    { 0xbe54af9e,0x3fe3d7b7 }, /* 165: -2.0770118e-01  1.7800206e+00 */
+    { 0x3e1b0c5b,0x3fb59b27 }, /* 166:  1.5141432e-01  1.4187974e+00 */
+    { 0x3e5f9cc2,0x3face222 }, /* 167:  2.1837142e-01  1.3506510e+00 */
+    { 0x3f1a9adb,0x3f6c210e }, /* 168:  6.0392541e-01  9.2237937e-01 */
+    { 0x3f10f40b,0x3f780876 }, /* 169:  5.6622380e-01  9.6887910e-01 */
+    { 0xbe4175f0,0x3fe16407 }, /* 170: -1.8892646e-01  1.7608651e+00 */
+    { 0x3f494cc3,0x3f2a7bfc }, /* 171:  7.8632754e-01  6.6595435e-01 */
+    { 0xbeed9309,0x40036986 }, /* 172: -4.6401241e-01  2.0533156e+00 */
+    { 0xbf28a593,0x40128f28 }, /* 173: -6.5877646e-01  2.2899876e+00 */
+    { 0xbf064409,0x4007dd85 }, /* 174: -5.2447563e-01  2.1228955e+00 */
+    { 0xbe8e5b83,0x3fed2067 }, /* 175: -2.7804193e-01  1.8525513e+00 */
+    { 0xbe7868b4,0x3fe86d0c }, /* 176: -2.4258691e-01  1.8158278e+00 */
+    { 0xbdd75763,0x3fd68bb2 }, /* 177: -1.0514715e-01  1.6761382e+00 */
+    { 0x3f2b0ca6,0x3f56ccb4 }, /* 178:  6.6816175e-01  8.3906102e-01 */
+    { 0x3f2db531,0x3f53342d }, /* 179:  6.7854601e-01  8.2501489e-01 */
+    { 0x3f5e2050,0x3f053100 }, /* 180:  8.6768055e-01  5.2027893e-01 */
+    { 0xbeb3e765,0x3ff704d9 }, /* 181: -3.5137478e-01  1.9298354e+00 */
+    { 0x3eb47759,0x3f9af46a }, /* 182:  3.5247305e-01  1.2105839e+00 */
+    { 0xbf48474c,0x401e077c }, /* 183: -7.8233790e-01  2.4692068e+00 */
+    { 0xbdbc894c,0x3fd4dcb6 }, /* 184: -9.2058748e-02  1.6629856e+00 */
+    { 0xbf0e61b4,0x400a46e3 }, /* 185: -5.5617833e-01  2.1605766e+00 */
+    { 0x3e810025,0x3fa875e0 }, /* 186:  2.5195423e-01  1.3160973e+00 */
+    { 0x3ee518d2,0x3f8dae34 }, /* 187:  4.4745499e-01  1.1068788e+00 */
+    { 0xbf1b77e7,0x400e4d09 }, /* 188: -6.0729831e-01  2.2234519e+00 */
+    { 0x3e8a7dff,0x3fa6008c }, /* 189:  2.7049252e-01  1.2968917e+00 */
+    { 0x3f190470,0x3f6e1d79 }, /* 190:  5.9772396e-01  9.3013722e-01 */
+    { 0xbe1132c1,0x3fdb45e9 }, /* 191: -1.4179517e-01  1.7130710e+00 */
+    { 0xbea1b709,0x3ff231ea }, /* 192: -3.1584957e-01  1.8921483e+00 */
+    { 0x3cce440e,0x3fc5d6b4 }, /* 193:  2.5178935e-02  1.5456147e+00 */
+    { 0xbda50672,0x3fd3631f }, /* 194: -8.0578700e-02  1.6514624e+00 */
+    { 0xbf09d594,0x4008eb23 }, /* 195: -5.3841519e-01  2.1393516e+00 */
+    { 0x3f514639,0x3f1d2092 }, /* 196:  8.1747776e-01  6.1377823e-01 */
+    { 0xbf6dddb8,0x4030d40c }, /* 197: -9.2916441e-01  2.7629423e+00 */
+    { 0x3f2e119d,0x3f52b63f }, /* 198:  6.7995626e-01  8.2309335e-01 */
+    { 0x3ed7c227,0x3f916209 }, /* 199:  4.2140314e-01  1.1358043e+00 */
+    { 0x3f231653,0x3f614f7b }, /* 200:  6.3705939e-01  8.8011903e-01 */
+    { 0xbf024bdf,0x4006b4c9 }, /* 201: -5.0897020e-01  2.1047843e+00 */
+    { 0x3e54b75d,0x3fae4701 }, /* 202:  2.0773073e-01  1.3615419e+00 */
+    { 0xbf53b331,0x4022d87c }, /* 203: -8.2695299e-01  2.5444632e+00 */
+    { 0xbe2bc5ca,0x3fdea2b0 }, /* 204: -1.6774669e-01  1.7393398e+00 */
+    { 0x3f2ee9ce,0x3f518eca }, /* 205:  6.8325508e-01  8.1858504e-01 */
+    { 0xbdd70799,0x3fd686af }, /* 206: -1.0499496e-01  1.6759852e+00 */
+    { 0x3f16f461,0x3f70adb5 }, /* 207:  5.8966643e-01  9.4015056e-01 */
+    { 0xbed8023d,0x400067ac }, /* 208: -4.2189208e-01  2.0063276e+00 */
+    { 0xbedfa89b,0x400176ba }, /* 209: -4.3683323e-01  2.0228715e+00 */
+    { 0x3e895323,0x3fa64e21 }, /* 210:  2.6821241e-01  1.2992593e+00 */
+    { 0xbf0de0cf,0x400a2024 }, /* 211: -5.5421156e-01  2.1582117e+00 */
+    { 0x3e58e001,0x3fadbee5 }, /* 212:  2.1179201e-01  1.3573881e+00 */
+    { 0xbec23584,0x3ffadc6c }, /* 213: -3.7931454e-01  1.9598517e+00 */
+    { 0xbeac5036,0x3ff4ff7a }, /* 214: -3.3654946e-01  1.9140465e+00 */
+    { 0xbf615929,0x40296c0f }, /* 215: -8.8026673e-01  2.6472204e+00 */
+    { 0x3d841c55,0x3fc0cc9d }, /* 216:  6.4507164e-02  1.5062443e+00 */
+    { 0x3f6a57f8,0x3ed41d06 }, /* 217:  9.1540480e-01  4.1428393e-01 */
+    { 0x3f113340,0x3f77bbbf }, /* 218:  5.6718826e-01  9.6770853e-01 */
+    { 0x3eea1748,0x3f8c47d4 }, /* 219:  4.5720887e-01  1.0959420e+00 */
+    { 0x3e3e5bdc,0x3fb120bb }, /* 220:  1.8589729e-01  1.3838114e+00 */
+    { 0x3e28debe,0x3fb3db36 }, /* 221:  1.6491219e-01  1.4051273e+00 */
+    { 0xbf2f410c,0x4014ca0d }, /* 222: -6.8458629e-01  2.3248322e+00 */
+    { 0x3f5ebb72,0x3f03f7a1 }, /* 223:  8.7004769e-01  5.1549727e-01 */
+    { 0xbf4f5630,0x4020f25f }, /* 224: -8.0990887e-01  2.5147932e+00 */
+    { 0x3e707897,0x3faab83d }, /* 225:  2.3483501e-01  1.3337475e+00 */
+    { 0xbf2b1a22,0x40136136 }, /* 226: -6.6836751e-01  2.3028083e+00 */
+    { 0xbf7e0ff7,0x40412ec3 }, /* 227: -9.9243110e-01  3.0184791e+00 */
+    { 0x3e9c80dc,0x3fa14cb7 }, /* 228:  3.0567062e-01  1.2601537e+00 */
+    { 0xbf7d0885,0x403f4f1d }, /* 229: -9.8841125e-01  2.9892037e+00 */
+    { 0x3edba23a,0x3f905003 }, /* 230:  4.2897207e-01  1.1274418e+00 */
+    { 0xbd6a93ec,0x3fd06581 }, /* 231: -5.7269976e-02  1.6280977e+00 */
+    { 0xbefea8c9,0x4005d913 }, /* 232: -4.9738148e-01  2.0913742e+00 */
+    { 0xbeba0218,0x3ff8a725 }, /* 233: -3.6329722e-01  1.9426008e+00 */
+    { 0x3ded1c7e,0x3fba358c }, /* 234:  1.1577700e-01  1.4547591e+00 */
+    { 0x3eab7453,0x3f9d5a97 }, /* 235:  3.3487186e-01  1.2293271e+00 */
+    { 0xbf2e173e,0x40146436 }, /* 236: -6.8004215e-01  2.3186164e+00 */
+    { 0xbf7d3d63,0x403fa7be }, /* 237: -9.8921794e-01  2.9946132e+00 */
+    { 0xbd9a8bb1,0x3fd2baf0 }, /* 238: -7.5461753e-02  1.6463299e+00 */
+    { 0xbdd0c2e9,0x3fd621d9 }, /* 239: -1.0193426e-01  1.6729079e+00 */
+    { 0xbeda2361,0x4000b2e9 }, /* 240: -4.2605117e-01  2.0109198e+00 */
+    { 0xbf4ea7e4,0x4020a850 }, /* 241: -8.0724931e-01  2.5102730e+00 */
+    { 0x3eb00da8,0x3f9c21b0 }, /* 242:  3.4385419e-01  1.2197781e+00 */
+    { 0x3f492650,0x3f2aba2e }, /* 243:  7.8574085e-01  6.6690338e-01 */
+    { 0xbe3f0a99,0x3fe11536 }, /* 244: -1.8656386e-01  1.7584598e+00 */
+    { 0xbf7e2147,0x40415252 }, /* 245: -9.9269527e-01  3.0206494e+00 */
+    { 0x3f67cd26,0x3ee068fa }, /* 246:  9.0547407e-01  4.3830091e-01 */
+    { 0x3f60c0e4,0x3eff9d51 }, /* 247:  8.7794328e-01  4.9924710e-01 */
+    { 0x3f6c36b1,0x3eca9f20 }, /* 248:  9.2270952e-01  3.9574528e-01 */
+    { 0x3ef200cc,0x3f8a0bdc }, /* 249:  4.7266233e-01  1.0784869e+00 */
+    { 0x3eab9911,0x3f9d50d7 }, /* 250:  3.3515218e-01  1.2290295e+00 */
+    { 0x3dde6d3f,0x3fbb21fe }, /* 251:  1.0860681e-01  1.4619749e+00 */
+    { 0xbeb98fd5,0x3ff8887d }, /* 252: -3.6242548e-01  1.9416653e+00 */
+    { 0x3f268b7c,0x3f5ccaa4 }, /* 253:  6.5056586e-01  8.6246705e-01 */
+    { 0xbcaedcb5,0x3fcbcb5b }, /* 254: -2.1345476e-02  1.5921434e+00 */
+    { 0xbe307869,0x3fdf3b3d }, /* 255: -1.7233433e-01  1.7439953e+00 */
+    { 0xbdeab2f0,0x3fd7c34e }, /* 256: -1.1459911e-01  1.6856477e+00 */
+    { 0x3e9eddf2,0x3fa0adb7 }, /* 257:  3.1028706e-01  1.2553014e+00 */
+    { 0xbe28b844,0x3fde3f9e }, /* 258: -1.6476542e-01  1.7363164e+00 */
+    { 0xbf4f15f0,0x4020d704 }, /* 259: -8.0892849e-01  2.5131235e+00 */
+    { 0x3ea4cce8,0x3f9f1d73 }, /* 260:  3.2187581e-01  1.2430862e+00 */
+    { 0xbf3c5cf4,0x401972d5 }, /* 261: -7.3579335e-01  2.3976338e+00 */
+    { 0x3e090345,0x3fb7e242 }, /* 262:  1.3380153e-01  1.4365923e+00 */
+    { 0x3f531210,0x3f19fb23 }, /* 263:  8.2449436e-01  6.0148829e-01 */
+    { 0xbdcaf003,0x3fd5c431 }, /* 264: -9.9090599e-02  1.6700498e+00 */
+    { 0xbf401b9f,0x401ad905 }, /* 265: -7.5042146e-01  2.4194958e+00 */
+    { 0x3e2330e3,0x3fb49362 }, /* 266:  1.5936618e-01  1.4107478e+00 */
+    { 0x3e622b05,0x3fac8e4e }, /* 267:  2.2086723e-01  1.3480928e+00 */
+    { 0xbf3d5902,0x4019d02c }, /* 268: -7.3963940e-01  2.4033308e+00 */
+    { 0xbf6a853d,0x402ea865 }, /* 269: -9.1609555e-01  2.7290280e+00 */
+    { 0xbf618d9c,0x402987bd }, /* 270: -8.8106704e-01  2.6489098e+00 */
+    { 0xbe29aacb,0x3fde5e5c }, /* 271: -1.6569059e-01  1.7372546e+00 */
+    { 0xbf392d22,0x40184898 }, /* 272: -7.2334492e-01  2.3794308e+00 */
+    { 0x3eecf270,0x3f8b79f7 }, /* 273:  4.6278715e-01  1.0896596e+00 */
+    { 0xbec288c6,0x3ffaf2eb }, /* 274: -3.7994975e-01  1.9605383e+00 */
+    { 0x3db881bf,0x3fbd83bd }, /* 275:  9.0091221e-02  1.4805828e+00 */
+    { 0x3ef0afe2,0x3f8a6b5d }, /* 276:  4.7009188e-01  1.0814015e+00 */
+    { 0xbef2ee7a,0x40042ba8 }, /* 277: -4.7447568e-01  2.0651646e+00 */
+    { 0xbd02ee3d,0x3fcd277a }, /* 278: -3.1965483e-02  1.6027672e+00 */
+    { 0x3ec91d44,0x3f956434 }, /* 279:  3.9280140e-01  1.1671205e+00 */
+    { 0x3f7f8929,0x3d76b505 }, /* 280:  9.9818665e-01  6.0231227e-02 */
+    { 0xbf32625b,0x4015df17 }, /* 281: -6.9681329e-01  2.3417413e+00 */
+    { 0xbeff476c,0x4005eff1 }, /* 282: -4.9859178e-01  2.0927699e+00 */
+    { 0xbeba7d82,0x3ff8c844 }, /* 283: -3.6423880e-01  1.9436116e+00 */
+    { 0x3f742921,0x3e9c5222 }, /* 284:  9.5375258e-01  3.0531412e-01 */
+    { 0x3ef5cac9,0x3f88f80e }, /* 285:  4.8006275e-01  1.0700700e+00 */
+    { 0x3eed464a,0x3f8b6250 }, /* 286:  4.6342689e-01  1.0889378e+00 */
+    { 0xbe24b4f5,0x3fddbd78 }, /* 287: -1.6084655e-01  1.7323446e+00 */
+    { 0xbe56ae8c,0x3fe41905 }, /* 288: -2.0965022e-01  1.7820135e+00 */
+    { 0xbf338aec,0x401646c7 }, /* 289: -7.0133853e-01  2.3480699e+00 */
+    { 0x3cf79a5e,0x3fc5314b }, /* 290:  3.0224975e-02  1.5405668e+00 */
+    { 0xbf63452f,0x402a733c }, /* 291: -8.8777441e-01  2.6632833e+00 */
+    { 0xbedfcfc1,0x40017c2b }, /* 292: -4.3713191e-01  2.0232036e+00 */
+    { 0xbf56025c,0x4023e285 }, /* 293: -8.3597350e-01  2.5607007e+00 */
+    { 0x3f6fcce0,0x3eb71eb8 }, /* 294:  9.3671989e-01  3.5765624e-01 */
+    { 0x3eed743e,0x3f8b5559 }, /* 295:  4.6377748e-01  1.0885421e+00 */
+    { 0xbf161dfb,0x400ca229 }, /* 296: -5.8639497e-01  2.1973975e+00 */
+    { 0x3dc4c8c9,0x3fbcbe71 }, /* 297:  9.6086092e-02  1.4745618e+00 */
+    { 0xbea17640,0x3ff220d8 }, /* 298: -3.1535530e-01  1.8916273e+00 */
+    { 0xbea6edfa,0x3ff3924b }, /* 299: -3.2603437e-01  1.9029020e+00 */
+    { 0x3e384f70,0x3fb1e59b }, /* 300:  1.7999053e-01  1.3898195e+00 */
+    { 0xbe4922ef,0x3fe25e58 }, /* 301: -1.9642232e-01  1.7685041e+00 */
+    { 0x3f021e50,0x3f84d098 }, /* 302:  5.0827503e-01  1.0376158e+00 */
+    { 0x3ee9cd74,0x3f8c5c94 }, /* 303:  4.5664561e-01  1.0965753e+00 */
+    { 0xbf3bcf84,0x40193eb5 }, /* 304: -7.3363519e-01  2.3944523e+00 */
+    { 0xbf5f2613,0x4028482e }, /* 305: -8.7167472e-01  2.6294055e+00 */
+    { 0xbee8121c,0x4002a355 }, /* 306: -4.5326316e-01  2.0412190e+00 */
+    { 0x3f3c886d,0x3f3e33dc }, /* 307:  7.3645669e-01  7.4297881e-01 */
+    { 0xbeb13a9f,0x3ff64e2f }, /* 308: -3.4615037e-01  1.9242610e+00 */
+    { 0x3f03c80e,0x3f83d8db }, /* 309:  5.1477134e-01  1.0300554e+00 */
+    { 0x3e045c3d,0x3fb87871 }, /* 310:  1.2925811e-01  1.4411756e+00 */
+    { 0xbeb2284d,0x3ff68d8b }, /* 311: -3.4796372e-01  1.9261945e+00 */
+    { 0x3f5165b3,0x3f1ce9e3 }, /* 312:  8.1795806e-01  6.1294383e-01 */
+    { 0x3f217359,0x3f636d30 }, /* 313:  6.3066632e-01  8.8838482e-01 */
+    { 0x3e935a31,0x3fa3b204 }, /* 314:  2.8779748e-01  1.2788701e+00 */
+    { 0x3f458ed4,0x3f3073fc }, /* 315:  7.7171063e-01  6.8926978e-01 */
+    { 0x3de2c5ec,0x3fbadc07 }, /* 316:  1.1072907e-01  1.4598397e+00 */
+    { 0xbe7ebf0a,0x3fe93e40 }, /* 317: -2.4877563e-01  1.8222122e+00 */
+    { 0xbec73cd3,0x3ffc3902 }, /* 318: -3.8913593e-01  1.9704897e+00 */
+    { 0x3f66ad1b,0x3ee5a7bc }, /* 319:  9.0107888e-01  4.4854534e-01 */
+    { 0x3d4c5512,0x3fc2ac84 }, /* 320:  4.9885817e-02  1.5208898e+00 */
+    { 0x3f241e69,0x3f5ff821 }, /* 321:  6.4108902e-01  8.7487990e-01 */
+    { 0xbf7c9815,0x403e9c4a }, /* 322: -9.8669559e-01  2.9782891e+00 */
+    { 0x3f1cdd71,0x3f69480d }, /* 323:  6.1275393e-01  9.1125566e-01 */
+    { 0x3f4e1c0e,0x3f228a83 }, /* 324:  8.0511558e-01  6.3492602e-01 */
+    { 0x3f7334cc,0x3ea28d0d }, /* 325:  9.5002437e-01  3.1748238e-01 */
+    { 0x3d9cbc7c,0x3fbf419f }, /* 326:  7.6531380e-02  1.4941901e+00 */
+    { 0xbf4801ed,0x401debac }, /* 327: -7.8127939e-01  2.4675093e+00 */
+    { 0x3d3cde4f,0x3fc3285f }, /* 328:  4.6110447e-02  1.5246695e+00 */
+    { 0x3f42dc70,0x3f34a6e6 }, /* 329:  7.6117611e-01  7.0567167e-01 */
+    { 0xbddbc74c,0x3fd6d318 }, /* 330: -1.0731372e-01  1.6783171e+00 */
+    { 0xbf461e3f,0x401d2b5b }, /* 331: -7.7389902e-01  2.4557712e+00 */
+    { 0xbeded899,0x400159d6 }, /* 332: -4.3524626e-01  2.0211082e+00 */
+    { 0xbf195a99,0x400da35f }, /* 333: -5.9903866e-01  2.2130964e+00 */
+    { 0x3f2ec87b,0x3f51bc69 }, /* 334:  6.8274659e-01  8.1928116e-01 */
+    { 0xbe2cef41,0x3fdec869 }, /* 335: -1.6888143e-01  1.7404910e+00 */
+    { 0xbef10158,0x4003e5b6 }, /* 336: -4.7071338e-01  2.0608954e+00 */
+    { 0xbf454093,0x401cd422 }, /* 337: -7.7051657e-01  2.4504476e+00 */
+    { 0xbedd66c6,0x40012687 }, /* 338: -4.3242472e-01  2.0179765e+00 */
+    { 0x3e3b8812,0x3fb17cc9 }, /* 339:  1.8313625e-01  1.3866206e+00 */
+    { 0x3f3e877b,0x3f3b3b96 }, /* 340:  7.4425477e-01  7.3137796e-01 */
+    { 0x3f3263ad,0x3f4cc139 }, /* 341:  6.9683343e-01  7.9982334e-01 */
+    { 0x3f55cdde,0x3f1514e2 }, /* 342:  8.3517253e-01  5.8234990e-01 */
+    { 0x3f0fed2e,0x3f7946d7 }, /* 343:  5.6221282e-01  9.7373718e-01 */
+    { 0x3ea7ae0b,0x3f9e5a9c }, /* 344:  3.2749972e-01  1.2371402e+00 */
+    { 0x3dfbd7b7,0x3fb94826 }, /* 345:  1.2297004e-01  1.4475143e+00 */
+    { 0x3eaaf804,0x3f9d7b91 }, /* 346:  3.3392346e-01  1.2303334e+00 */
+    { 0xbf0fd03d,0x400ab565 }, /* 347: -5.6177121e-01  2.1673214e+00 */
+    { 0x3f5fcb34,0x3f01cc33 }, /* 348:  8.7419438e-01  5.0702208e-01 */
+    { 0x3f71dd98,0x3eaaee7e }, /* 349:  9.4478750e-01  3.3385080e-01 */
+    { 0xbf292322,0x4012b8ed }, /* 350: -6.6069233e-01  2.2925370e+00 */
+    { 0xbd9b7bd4,0x3fd2c9fd }, /* 351: -7.5919777e-02  1.6467892e+00 */
+    { 0x3f15fc02,0x3f71e0b5 }, /* 352:  5.8587658e-01  9.4483501e-01 */
+    { 0xbf25bb37,0x401198c2 }, /* 353: -6.4738792e-01  2.2749486e+00 */
+    { 0xbeed2414,0x400359df }, /* 354: -4.6316588e-01  2.0523603e+00 */
+    { 0x3ec8301f,0x3f95a4a5 }, /* 355:  3.9099213e-01  1.1690871e+00 */
+    { 0xbf32866b,0x4015ebaa }, /* 356: -6.9736356e-01  2.3425088e+00 */
+    { 0x3f1d0585,0x3f691552 }, /* 357:  6.1336547e-01  9.1048157e-01 */
+    { 0x3f1c1623,0x3f6a43df }, /* 358:  6.0971278e-01  9.1509813e-01 */
+    { 0x3eb28ef4,0x3f9b76ca }, /* 359:  3.4874690e-01  1.2145627e+00 */
+    { 0x3ebfc3ea,0x3f97ec25 }, /* 360:  3.7454158e-01  1.1868941e+00 */
+    { 0xbefec58d,0x4005dd38 }, /* 361: -4.9760094e-01  2.0916271e+00 */
+    { 0x3f13293b,0x3f755844 }, /* 362:  5.7484788e-01  9.5837808e-01 */
+    { 0x3f7075a9,0x3eb350c3 }, /* 363:  9.3929535e-01  3.5022554e-01 */
+    { 0xbdc5eafe,0x3fd5737e }, /* 364: -9.6639618e-02  1.6675870e+00 */
+    { 0x3e83e36b,0x3fa7b6c0 }, /* 365:  2.5759444e-01  1.3102646e+00 */
+    { 0xbe6b189e,0x3fe6b6a4 }, /* 366: -2.2958609e-01  1.8024487e+00 */
+    { 0x3edd83e9,0x3f8fca93 }, /* 367:  4.3264702e-01  1.1233696e+00 */
+    { 0x3ef96246,0x3f87f170 }, /* 368:  4.8707789e-01  1.0620556e+00 */
+    { 0x3ead0cec,0x3f9cee1e }, /* 369:  3.3798921e-01  1.2260168e+00 */
+    { 0xbec4b80e,0x3ffb8a38 }, /* 370: -3.8421673e-01  1.9651556e+00 */
+    { 0x3e6ce278,0x3fab2e41 }, /* 371:  2.3133266e-01  1.3373491e+00 */
+    { 0x3d0ea225,0x3fc49a8e }, /* 372:  3.4822602e-02  1.5359666e+00 */
+    { 0xbf0c8e29,0x4009baa4 }, /* 373: -5.4904419e-01  2.1520166e+00 */
+    { 0xbe5368cf,0x3fe3adf6 }, /* 374: -2.0645450e-01  1.7787464e+00 */
+    { 0xbf233ed8,0x4010c921 }, /* 375: -6.3767767e-01  2.2622759e+00 */
+    { 0x3f12ecce,0x3f75a216 }, /* 376:  5.7392585e-01  9.5950449e-01 */
+    { 0xbf5f5e32,0x402864da }, /* 377: -8.7253106e-01  2.6311555e+00 */
+    { 0xbe4c3c53,0x3fe2c385 }, /* 378: -1.9944887e-01  1.7715918e+00 */
+    { 0x3ee57005,0x3f8d95d3 }, /* 379:  4.4812027e-01  1.1061348e+00 */
+    { 0xbf6d8099,0x4030955f }, /* 380: -9.2774349e-01  2.7591169e+00 */
+    { 0x3e0f3724,0x3fb719e3 }, /* 381:  1.3985878e-01  1.4304775e+00 */
+    { 0xbf20b778,0x400ff820 }, /* 382: -6.2779951e-01  2.2495193e+00 */
+    { 0x3f287b68,0x3f5a3ad1 }, /* 383:  6.5813303e-01  8.5245997e-01 */
+    { 0x3efc2524,0x3f8726be }, /* 384:  4.9247086e-01  1.0558698e+00 */
+    { 0xbdba4c0f,0x3fd4b8bc }, /* 385: -9.0965383e-02  1.6618876e+00 */
+    { 0x3d493781,0x3fc2c579 }, /* 386:  4.9125198e-02  1.5216514e+00 */
+    { 0x3f4b8c27,0x3f26d008 }, /* 387:  7.9510731e-01  6.5161180e-01 */
+    { 0xbef487f9,0x400465dd }, /* 388: -4.7759989e-01  2.0687172e+00 */
+    { 0xbeaeacca,0x3ff5a020 }, /* 389: -3.4116203e-01  1.9189491e+00 */
+    { 0x3e134e84,0x3fb695a1 }, /* 390:  1.4385420e-01  1.4264413e+00 */
+    { 0x3f659df9,0x3eea7e0d }, /* 391:  8.9694172e-01  4.5799294e-01 */
+    { 0x3e251b51,0x3fb45546 }, /* 392:  1.6123702e-01  1.4088523e+00 */
+    { 0xbe900648,0x3fed8f88 }, /* 393: -2.8129792e-01  1.8559427e+00 */
+    { 0x3f5613a1,0x3f1495db }, /* 394:  8.3623701e-01  5.8041161e-01 */
+    { 0xbf6f768b,0x4031eeab }, /* 395: -9.3540257e-01  2.7801921e+00 */
+    { 0x3f79ee92,0x3e5f664c }, /* 396:  9.7629654e-01  2.1816367e-01 */
+    { 0xbec9650c,0x3ffccf05 }, /* 397: -3.9334905e-01  1.9750677e+00 */
+    { 0x3efe96d2,0x3f8672bd }, /* 398:  4.9724442e-01  1.0503765e+00 */
+    { 0x3eed3f69,0x3f8b6441 }, /* 399:  4.6337441e-01  1.0889970e+00 */
+    { 0x3f71d3f0,0x3eab2964 }, /* 400:  9.4464016e-01  3.3430016e-01 */
+    { 0xbf63109e,0x402a56bb }, /* 401: -8.8697231e-01  2.6615436e+00 */
+    { 0xbe9c4f5b,0x3ff0c5ff }, /* 402: -3.0529293e-01  1.8810424e+00 */
+    { 0xbca83dc1,0x3fcbb0de }, /* 403: -2.0537259e-02  1.5913351e+00 */
+    { 0xbedf3d8d,0x400167db }, /* 404: -4.3601647e-01  2.0219638e+00 */
+    { 0x3ef9fc3d,0x3f87c559 }, /* 405:  4.8825255e-01  1.0607101e+00 */
+    { 0x3eaefe74,0x3f9c69dc }, /* 406:  3.4178507e-01  1.2219806e+00 */
+    { 0xbf5cb1f8,0x40270d24 }, /* 407: -8.6209059e-01  2.6101770e+00 */
+    { 0x3f1d9fed,0x3f685198 }, /* 408:  6.1572152e-01  9.0749502e-01 */
+    { 0xbf5b8fdb,0x40267f10 }, /* 409: -8.5766381e-01  2.6015053e+00 */
+    { 0x3f16060a,0x3f71d454 }, /* 410:  5.8602965e-01  9.4464612e-01 */
+    { 0x3f301f53,0x3f4fe59a }, /* 411:  6.8797797e-01  8.1209719e-01 */
+    { 0x3e907bdc,0x3fa4718b }, /* 412:  2.8219497e-01  1.2847151e+00 */
+    { 0x3f754e92,0x3e94812d }, /* 413:  9.5823014e-01  2.9004803e-01 */
+    { 0x3eb13577,0x3f9bd2e6 }, /* 414:  3.4611103e-01  1.2173736e+00 */
+    { 0xbe66bdfe,0x3fe62790 }, /* 415: -2.2533414e-01  1.7980824e+00 */
+    { 0xbe07ebbf,0x3fda1a32 }, /* 416: -1.3273524e-01  1.7039244e+00 */
+    { 0xbf1ad1cc,0x400e18d5 }, /* 417: -6.0476375e-01  2.2202656e+00 */
+    { 0xbedc46b1,0x4000fe9d }, /* 418: -4.3022683e-01  2.0155404e+00 */
+    { 0x3ec78228,0x3f95d3e2 }, /* 419:  3.8966489e-01  1.1705287e+00 */
+    { 0x3d5d7cea,0x3fc22316 }, /* 420:  5.4074205e-02  1.5166957e+00 */
+    { 0x3f36b049,0x3f46b0b1 }, /* 421:  7.1362740e-01  7.7613360e-01 */
+    { 0x3e92be19,0x3fa3dac1 }, /* 422:  2.8660658e-01  1.2801133e+00 */
+    { 0xbf48e15d,0x401e4579 }, /* 423: -7.8468877e-01  2.4729903e+00 */
+    { 0xbf1152dc,0x400b2a84 }, /* 424: -5.6767058e-01  2.1744699e+00 */
+    { 0x3dfb956e,0x3fb94c52 }, /* 425:  1.2284361e-01  1.4476416e+00 */
+    { 0xbf3857e8,0x4017fb95 }, /* 426: -7.2009134e-01  2.3747303e+00 */
+    { 0xbf17644a,0x400d0718 }, /* 427: -5.9137404e-01  2.2035580e+00 */
+    { 0x3f3ac028,0x3f40d29b }, /* 428:  7.2949457e-01  7.5321358e-01 */
+    { 0x3f46f381,0x3f2e4033 }, /* 429:  7.7715307e-01  6.8066710e-01 */
+    { 0x3f5f3b6a,0x3f02f320 }, /* 430:  8.7200034e-01  5.1152229e-01 */
+    { 0x3f2c9417,0x3f54bcab }, /* 431:  6.7413467e-01  8.3100384e-01 */
+    { 0x3f63e2e3,0x3ef23435 }, /* 432:  8.9018077e-01  4.7305456e-01 */
+    { 0xbeddd887,0x4001364d }, /* 433: -4.3329260e-01  2.0189393e+00 */
+    { 0xbeb15bad,0x3ff656fe }, /* 434: -3.4640256e-01  1.9245298e+00 */
+    { 0xbf0bbbe4,0x40097bd3 }, /* 435: -5.4583573e-01  2.1481826e+00 */
+    { 0xbf71ee25,0x4033beaf }, /* 436: -9.4504005e-01  2.8085134e+00 */
+    { 0x3f7ed163,0x3dc4e2fa }, /* 437:  9.9538249e-01  9.6136048e-02 */
+    { 0xbed0dbb8,0x3ffed85e }, /* 438: -4.0792632e-01  1.9909780e+00 */
+    { 0x3f2bb1c8,0x3f55ee6a }, /* 439:  6.7068148e-01  8.3566916e-01 */
+    { 0xbf5cbe77,0x4027134f }, /* 440: -8.6228126e-01  2.6105535e+00 */
+    { 0xbf5267d2,0x4022461b }, /* 441: -8.2189667e-01  2.5355289e+00 */
+    { 0x3eb7a236,0x3f9a1b86 }, /* 442:  3.5865945e-01  1.2039649e+00 */
+    { 0x3ed6feed,0x3f9197d6 }, /* 443:  4.1991368e-01  1.1374462e+00 */
+    { 0xbf5d1940,0x4027403b }, /* 444: -8.6366653e-01  2.6132953e+00 */
+    { 0xbe972853,0x3fef6c49 }, /* 445: -2.9522952e-01  1.8704921e+00 */
+    { 0xbf4e3009,0x402075a7 }, /* 446: -8.0542046e-01  2.5071809e+00 */
+    { 0x3b6bd0a2,0x3fc899f2 }, /* 447:  3.5982509e-03  1.5671980e+00 */
+    { 0x3dccd053,0x3fbc3d59 }, /* 448:  1.0000672e-01  1.4706222e+00 */
+    { 0xbe714d85,0x3fe782db }, /* 449: -2.3564728e-01  1.8086809e+00 */
+    { 0xbf1b531b,0x400e4176 }, /* 450: -6.0673684e-01  2.2227454e+00 */
+    { 0xbf588e27,0x40250fb0 }, /* 451: -8.4591907e-01  2.5790825e+00 */
+    { 0xbf05a319,0x4007ae4e }, /* 452: -5.2201992e-01  2.1200137e+00 */
+    { 0x3f2e0bf1,0x3f52bdfb }, /* 453:  6.7986971e-01  8.2321137e-01 */
+    { 0xbf216f84,0x40103353 }, /* 454: -6.3060784e-01  2.2531326e+00 */
+    { 0xbdb7afa5,0x3fd48ec9 }, /* 455: -8.9690484e-02  1.6606075e+00 */
+    { 0xbe4a0585,0x3fe27b3c }, /* 456: -1.9728668e-01  1.7693858e+00 */
+    { 0xbeb38ed9,0x3ff6ed35 }, /* 457: -3.5069922e-01  1.9291140e+00 */
+    { 0x3ea34b82,0x3f9f832a }, /* 458:  3.1893545e-01  1.2461903e+00 */
+    { 0xbeef8273,0x4003af83 }, /* 459: -4.6779212e-01  2.0575874e+00 */
+    { 0xbf12d3ec,0x400b9fbd }, /* 460: -5.7354617e-01  2.1816247e+00 */
+    { 0x3e4384ad,0x3fb0789e }, /* 461:  1.9093581e-01  1.3786809e+00 */
+    { 0xbf4b2d22,0x401f34bd }, /* 462: -7.9365742e-01  2.4875939e+00 */
+    { 0xbf2ef109,0x4014aea2 }, /* 463: -6.8336540e-01  2.3231587e+00 */
+    { 0x3f41f4e8,0x3f360ac5 }, /* 464:  7.5764322e-01  7.1110183e-01 */
+    { 0xbe0f6be4,0x3fdb0c7b }, /* 465: -1.4006001e-01  1.7113184e+00 */
+    { 0xbe6ab3b2,0x3fe6a9ae }, /* 466: -2.2920111e-01  1.8020532e+00 */
+    { 0x3f5006c3,0x3f1f47f1 }, /* 467:  8.1260318e-01  6.2219149e-01 */
+    { 0xbe142656,0x3fdba558 }, /* 468: -1.4467749e-01  1.7159834e+00 */
+    { 0x3eb9ca6f,0x3f998780 }, /* 469:  3.6287257e-01  1.1994476e+00 */
+    { 0x3ef77116,0x3f887f96 }, /* 470:  4.8328465e-01  1.0663936e+00 */
+    { 0xbbe4068d,0x3fc9f3e2 }, /* 471: -6.9587887e-03  1.5777552e+00 */
+    { 0x3f0a7d65,0x3f7fcb87 }, /* 472:  5.4097587e-01  9.9919933e-01 */
+    { 0xbe21d969,0x3fdd60d7 }, /* 473: -1.5805592e-01  1.7295178e+00 */
+    { 0xbf164896,0x400caf50 }, /* 474: -5.8704507e-01  2.1982002e+00 */
+    { 0x3f2d6426,0x3f53a26c }, /* 475:  6.7730939e-01  8.2669711e-01 */
+    { 0x3f0bf57d,0x3f7e0b5c }, /* 476:  5.4671460e-01  9.9236083e-01 */
+    { 0xbec8f13e,0x3ffcaf8a }, /* 477: -3.9246553e-01  1.9741070e+00 */
+    { 0xbea36013,0x3ff2a1f9 }, /* 478: -3.1909236e-01  1.8955680e+00 */
+    { 0xbeb4e0f2,0x3ff74783 }, /* 479: -3.5327870e-01  1.9318699e+00 */
+    { 0x3ebe67ff,0x3f9849e6 }, /* 480:  3.7188718e-01  1.1897552e+00 */
+    { 0x3d97e6d8,0x3fbf8f31 }, /* 481:  7.4170768e-02  1.4965574e+00 */
+    { 0xbe4bfa80,0x3fe2bb20 }, /* 482: -1.9919777e-01  1.7713356e+00 */
+    { 0x3f5990e7,0x3f0e189a }, /* 483:  8.4986728e-01  5.5506289e-01 */
+    { 0xbe7bdcd0,0x3fe8df03 }, /* 484: -2.4595952e-01  1.8193058e+00 */
+    { 0x3e2e4770,0x3fb32ba5 }, /* 485:  1.7019439e-01  1.3997694e+00 */
+    { 0xbe759438,0x3fe80fbb }, /* 486: -2.3982322e-01  1.8129801e+00 */
+    { 0x3f0e876b,0x3f7af67c }, /* 487:  5.5675381e-01  9.8032355e-01 */
+    { 0x3f51ca6f,0x3f1c3a72 }, /* 488:  8.1949514e-01  6.1026680e-01 */
+    { 0xbf6bbf4d,0x402f6ef8 }, /* 489: -9.2088777e-01  2.7411480e+00 */
+    { 0xbf6939cf,0x402ddca3 }, /* 490: -9.1103834e-01  2.7165916e+00 */
+    { 0xbf41097c,0x401b3345 }, /* 491: -7.5405097e-01  2.4250042e+00 */
+    { 0x3e8a43bd,0x3fa60fad }, /* 492:  2.7004805e-01  1.2973534e+00 */
+    { 0xbf3466f1,0x4016941f }, /* 493: -7.0469576e-01  2.3527906e+00 */
+    { 0xbedff50a,0x4001815a }, /* 494: -4.3741637e-01  2.0235200e+00 */
+    { 0x3ce2d8cd,0x3fc5845a }, /* 495:  2.7691269e-02  1.5431015e+00 */
+    { 0x3e1ef858,0x3fb51c27 }, /* 496:  1.5524423e-01  1.4149216e+00 */
+    { 0x3eaab11d,0x3f9d8e5e }, /* 497:  3.3338252e-01  1.2309072e+00 */
+    { 0xbe2389db,0x3fdd9797 }, /* 498: -1.5970556e-01  1.7311887e+00 */
+    { 0xbf7d4b80,0x403fbff4 }, /* 499: -9.8943329e-01  2.9960909e+00 */
+    { 0xbe9b8475,0x3ff090be }, /* 500: -3.0374494e-01  1.8794172e+00 */
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]:  %#lx\n", index - 1, v.lo);
+#endif
+    exit (index ? index : -1);
+}
+
+int main ()
+{
+    union lofl_u x, z;
+    unsigned long v1, z1, r;
+    int i;
+    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	x.lo = pgm_read_dword (& t[i].x);
+	z.lo = pgm_read_dword (& t[i].z);
+	v.fl = acos (x.fl);
+	
+	v1 = (v.lo < 0) ? (unsigned long)~(v.lo) : v.lo + 0x80000000;
+	z1 = (z.lo < 0) ? (unsigned long)~(z.lo) : z.lo + 0x80000000;
+	r = (v1 >= z1) ? v1 - z1 : z1 - v1;
+	
+	if (r > 2) x_exit (i+1);
+    }
+    return 0;
+}
diff --git a/tests/simulate/math/all-float.c b/tests/simulate/math/all-float.c
new file mode 100644
index 0000000..7db5358
--- /dev/null
+++ b/tests/simulate/math/all-float.c
@@ -0,0 +1,191 @@
+/* Copyright (c) 2009  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of math function float aliases.
+   $Id$
+ */
+#include <math.h>
+#include <stdlib.h>
+
+int main ()
+{
+    volatile float x = 0.25, y, z;
+    volatile int i;
+    volatile long l;
+    double z1;
+    float z2;
+    int k1, k2;
+
+    y = cos (x);
+    z = cosf (x);
+    if (y != z) exit (__LINE__);
+
+    y = sin (x);
+    z = sinf (x);
+    if (y != z) exit (__LINE__);
+
+    y = tan (x);
+    z = tanf (x);
+    if (y != z) exit (__LINE__);
+
+    y = fabs (x);
+    z = fabsf (x);
+    if (y != z) exit (__LINE__);
+
+    y = fmod (x, 0.75f);
+    z = fmodf (x, 0.75f);
+    if (y != z) exit (__LINE__);
+
+    y = modf (x, &z1);
+    z = modff (x, &z2);
+    if (y != z || z1 != z2) exit (__LINE__);
+
+    y = sqrt (x);
+    z = sqrtf (x);
+    if (y != z) exit (__LINE__);
+
+    y = cbrt (x);
+    z = cbrtf (x);
+    if (y != z) exit (__LINE__);
+
+    y = hypot (x, 1.0f);
+    z = hypotf (x, 1.0f);
+    if (y != z) exit (__LINE__);
+
+#ifdef	__AVR__
+    y = square (x);
+    z = squaref (x);
+    if (y != z) exit (__LINE__);
+#endif
+
+    y = floor (x);
+    z = floorf (x);
+    if (y != z) exit (__LINE__);
+
+    y = ceil (x);
+    z = ceilf (x);
+    if (y != z) exit (__LINE__);
+
+    y = frexp (x, &k1);
+    z = frexpf (x, &k2);
+    if (y != z || k1 != k2) exit (__LINE__);
+
+    y = ldexp (x, 3);
+    z = ldexpf (x, 3);
+    if (y != z) exit (__LINE__);
+
+    y = exp (x);
+    z = expf (x);
+    if (y != z) exit (__LINE__);
+
+    y = cosh (x);
+    z = coshf (x);
+    if (y != z) exit (__LINE__);
+
+    y = sinh (x);
+    z = sinhf (x);
+    if (y != z) exit (__LINE__);
+
+    y = tanh (x);
+    z = tanhf (x);
+    if (y != z) exit (__LINE__);
+
+    y = acos (x);
+    z = acosf (x);
+    if (y != z) exit (__LINE__);
+
+    y = asin (x);
+    z = asinf (x);
+    if (y != z) exit (__LINE__);
+
+    y = atan (x);
+    z = atanf (x);
+    if (y != z) exit (__LINE__);
+
+    y = atan2 (x, 1.0f);
+    z = atan2f (x, 1.0f);
+    if (y != z) exit (__LINE__);
+
+    y = log (x);
+    z = logf (x);
+    if (y != z) exit (__LINE__);
+
+    y = log10 (x);
+    z = log10f (x);
+    if (y != z) exit (__LINE__);
+
+    y = pow (x, 3.0f);
+    z = powf (x, 3.0f);
+    if (y != z) exit (__LINE__);
+
+    i = isnan (x);
+    if (isnanf (x) != i) exit (__LINE__);
+
+    i = isinf (x);
+    if (isinff (x) != i) exit (__LINE__);
+
+#ifdef	__AVR__
+    i = isfinite (x);
+    if (isfinitef (x) != i) exit (__LINE__);
+#endif
+
+    y = copysign (x, -1.0f);
+    if (copysignf (x, -1.0f) != y) exit (__LINE__);
+
+#ifdef	__AVR__
+    i = signbit (x);
+    if (signbitf (x) != i) exit (__LINE__);
+#endif
+
+    y = fdim (x, -1.0f);
+    if (fdimf (x, -1.0f) != y) exit (__LINE__);
+
+    y = fma (x, 2.0f, 3.0f);
+    if (fmaf (x, 2.0f, 3.0f) != y) exit (__LINE__);
+
+    y = fmax (x, 0.0f);
+    if (fmaxf (x, 0.0f) != y) exit (__LINE__);
+
+    y = fmin (x, 1.0f);
+    if (fminf (x, 1.0f) != y) exit (__LINE__);
+
+    y = trunc (x);
+    if (truncf (x) != y) exit (__LINE__);
+
+    y = round (x);
+    if (roundf (x) != y) exit (__LINE__);
+
+    l = lround (x);
+    if (lroundf (x) != l) exit (__LINE__);
+
+    l = lrint (x);
+    if (lrintf (x) != l) exit (__LINE__);
+
+    return 0;
+}
diff --git a/tests/simulate/math/asin-01.c b/tests/simulate/math/asin-01.c
new file mode 100644
index 0000000..586b162
--- /dev/null
+++ b/tests/simulate/math/asin-01.c
@@ -0,0 +1,101 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of asin() function.
+   $Id$
+ */
+#include <math.h>
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+volatile union lofl_u v = { .lo = 1 };
+
+PROGMEM const struct {		/* Table of test cases.	*/
+    union lofl_u x;		/* argument	*/
+    union lofl_u z;		/* asin(x)	*/
+} t[] = {
+
+    /* Zero	*/
+    { { .fl= +0.0 },	{ .fl= +0.0 }	},
+    { { .fl= -0.0 },	{ .fl= -0.0 }	},
+    
+    /* Subnormal	*/
+    { { 0x00000001 },	{ 0x00000001 }	},
+    { { 0x00000100 },	{ 0x00000100 }	},
+    { { 0x00010000 },	{ 0x00010000 }	},
+    { { 0x007fffff },	{ 0x007fffff }	},
+    { { 0x80000001 },	{ 0x80000001 }	},
+    { { 0x80000100 },	{ 0x80000100 }	},
+    { { 0x80010000 },	{ 0x80010000 }	},
+    { { 0x807fffff },	{ 0x807fffff }	},
+    
+    /* Arg. too small	*/
+    { { 0x00800000 },	{ 0x00800000 }	},
+    { { 0x01000000 },	{ 0x01000000 }	},
+    { { 0x38000000 },	{ 0x38000000 }	},
+    { { 0x38ffffff },	{ 0x38ffffff }	},
+    { { 0x80800000 },	{ 0x80800000 }	},
+    { { 0x81000000 },	{ 0x81000000 }	},
+    { { 0xb8000000 },	{ 0xb8000000 }	},
+    { { 0xb8ffffff },	{ 0xb8ffffff }	},
+
+    /* Some values	*/
+    { { .fl=  1.0 },	{ 0x3fc90fdb } },
+    { { .fl= -1.0 },	{ 0xbfc90fdb } },
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]:  %#lx\n", index - 1, v.lo);
+#endif
+    exit (index ? index : -1);
+}
+
+int main ()
+{
+    union lofl_u x, z;
+    int i;
+    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	x.lo = pgm_read_dword (& t[i].x);
+	z.lo = pgm_read_dword (& t[i].z);
+	v.fl = asin (x.fl);
+	/* Comparison is integer to verify the zero sign.	*/
+	if (v.lo != z.lo)
+	    x_exit (i+1);
+    }
+    return 0;
+}
diff --git a/tests/simulate/math/asin-500.c b/tests/simulate/math/asin-500.c
new file mode 100644
index 0000000..16bc80f
--- /dev/null
+++ b/tests/simulate/math/asin-500.c
@@ -0,0 +1,579 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of asin() function. 500 random cases.
+   $Id$
+ */
+#include <math.h>
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+volatile union lofl_u v = { .lo = 1 };
+
+PROGMEM const struct {		/* Table of test cases.	*/
+    long x;		/* argument	*/
+    long z;		/* asin(x)	*/
+} t[] = {
+
+    /* x, asin(x)	*/
+    { 0xbf785a73,0xbfa9b2b9 }, /*   1: -9.7013015e-01 -1.3257667e+00 */
+    { 0x3f478481,0x3f64c66c }, /*   2:  7.7936560e-01  8.9365268e-01 */
+    { 0xbf75e53e,0xbfa4faa0 }, /*   3: -9.6052921e-01 -1.2888985e+00 */
+    { 0xbcc573c9,0xbcc578ae }, /*   4: -2.4103062e-02 -2.4105396e-02 */
+    { 0x3f115401,0x3f1a8bbe }, /*   5:  5.6768805e-01  6.0369480e-01 */
+    { 0x3e3bf43d,0x3e3d0698 }, /*   6:  1.8354888e-01  1.8459547e-01 */
+    { 0xbf0a4440,0xbf121042 }, /*   7: -5.4010391e-01 -5.7056057e-01 */
+    { 0x3ef1472e,0x3efb3d71 }, /*   8:  4.7124618e-01  4.9070314e-01 */
+    { 0xbea9762f,0xbeacb80d }, /*   9: -3.3097979e-01 -3.3734170e-01 */
+    { 0x3ead4726,0x3eb0c4d1 }, /*  10:  3.3843344e-01  3.4525159e-01 */
+    { 0x3f5cbd1f,0x3f85156f }, /*  11:  8.6226076e-01  1.0397166e+00 */
+    { 0x3f7ec2f1,0x3fbc774c }, /*  12:  9.9516207e-01  1.4723907e+00 */
+    { 0x3dd22580,0x3dd2845b }, /*  13:  1.0261059e-01  1.0279151e-01 */
+    { 0x3f590356,0x3f817dae }, /*  14:  8.4770715e-01  1.0116479e+00 */
+    { 0x3e150d41,0x3e15954c }, /*  15:  1.4555837e-01  1.4607733e-01 */
+    { 0xbec2d9b5,0xbec7e3c4 }, /*  16: -3.8056722e-01 -3.9040959e-01 */
+    { 0xbe9d1156,0xbe9fa453 }, /*  17: -3.0677289e-01 -3.1180057e-01 */
+    { 0xbf2b4501,0xbf3b9eca }, /*  18: -6.6902167e-01 -7.3289168e-01 */
+    { 0x3e8fcd84,0x3e91c38e }, /*  19:  2.8086483e-01  2.8469509e-01 */
+    { 0x3f2b6ba2,0x3f3bd2c8 }, /*  20:  6.6961110e-01  7.3368502e-01 */
+    { 0xbf1375e1,0xbf1d2529 }, /*  21: -5.7601744e-01 -6.1384827e-01 */
+    { 0x3f2001d7,0x3f2cd7c7 }, /*  22:  6.2502807e-01  6.7516750e-01 */
+    { 0xbf5f78cf,0xbf87d51c }, /*  23: -8.7293714e-01 -1.0611911e+00 */
+    { 0x3f689388,0x3f91e123 }, /*  24:  9.0850115e-01  1.1396831e+00 */
+    { 0xbf59be65,0xbf822ec3 }, /*  25: -8.5056144e-01 -1.0170521e+00 */
+    { 0xbf555081,0xbf7c277c }, /*  26: -8.3325964e-01 -9.8497748e-01 */
+    { 0xbf15353d,0xbf1f4a0f }, /*  27: -5.8284360e-01 -6.2222379e-01 */
+    { 0x3f4cffee,0x3f6db882 }, /*  28:  8.0078018e-01  9.2859662e-01 */
+    { 0xbf4d2c6f,0xbf6e02de }, /*  29: -8.0145925e-01 -9.2973125e-01 */
+    { 0x3e87e4d3,0x3e898acd }, /*  30:  2.6541767e-01  2.6863709e-01 */
+    { 0xbf6a1c28,0xbf93be7e }, /*  31: -9.1449213e-01 -1.1542509e+00 */
+    { 0xbf4586e2,0xbf619f3c }, /*  32: -7.7158940e-01 -8.8133597e-01 */
+    { 0x3d376ea8,0x3d377e5e }, /*  33:  4.4783264e-02  4.4798248e-02 */
+    { 0xbf600167,0xbf8861a6 }, /*  34: -8.7502140e-01 -1.0654800e+00 */
+    { 0x3e5135fe,0x3e52b1c5 }, /*  35:  2.0430753e-01  2.0575626e-01 */
+    { 0xbec66a2a,0xbecbc003 }, /*  36: -3.8752872e-01 -3.9794931e-01 */
+    { 0x3e9df751,0x3ea09607 }, /*  37:  3.0852750e-01  3.1364462e-01 */
+    { 0x3f2a0940,0x3f39f730 }, /*  38:  6.6420364e-01  7.2642803e-01 */
+    { 0xbf6a917e,0xbf94503a }, /*  39: -9.1628253e-01 -1.1586983e+00 */
+    { 0x3f7a4091,0x3fade307 }, /*  40:  9.7754771e-01  1.3584908e+00 */
+    { 0x3b2cd2de,0x3b2cd2eb }, /*  41:  2.6370804e-03  2.6370834e-03 */
+    { 0x3f722ba1,0x3f9ecbef }, /*  42:  9.4597822e-01  1.2405986e+00 */
+    { 0x3f790382,0x3fab16ed }, /*  43:  9.7270977e-01  1.3366371e+00 */
+    { 0xbf650e7d,0xbf8dcee4 }, /*  44: -8.9475232e-01 -1.1078763e+00 */
+    { 0x3f4b2ef8,0x3f6ab643 }, /*  45:  7.9368544e-01  9.1684359e-01 */
+    { 0x3df23694,0x3df2c80c }, /*  46:  1.1826816e-01  1.1854562e-01 */
+    { 0xbe8cf6af,0xbe8ecee0 }, /*  47: -2.7531955e-01 -2.7892208e-01 */
+    { 0xbf0359b3,0xbf09ed5a }, /*  48: -5.1308745e-01 -5.3877795e-01 */
+    { 0x3ee603a3,0x3eee8d4c }, /*  49:  4.4924650e-01  4.6592176e-01 */
+    { 0xbf7e9496,0xbfbb9369 }, /*  50: -9.9445474e-01 -1.4654361e+00 */
+    { 0xbf57ee11,0xbf8079f9 }, /*  51: -8.4347636e-01 -1.0037223e+00 */
+    { 0x3f5f8bf1,0x3f87e8bb }, /*  52:  8.7322909e-01  1.0617899e+00 */
+    { 0x3f216d41,0x3f2eaaab }, /*  53:  6.3057333e-01  6.8229169e-01 */
+    { 0xbf3766e0,0xbf4c7432 }, /*  54: -7.1641350e-01 -7.9864800e-01 */
+    { 0x3f481f79,0x3f65be56 }, /*  55:  7.8173023e-01  8.9743555e-01 */
+    { 0x3f47aedc,0x3f650a11 }, /*  56:  7.8001189e-01  8.9468485e-01 */
+    { 0xbf0cb761,0xbf14fc2d }, /*  57: -5.4967314e-01 -5.8197290e-01 */
+    { 0xbf4d15c4,0xbf6ddcfb }, /*  58: -8.0111337e-01 -9.2915314e-01 */
+    { 0x3f14aec9,0x3f1ea4be }, /*  59:  5.8079201e-01  6.1970127e-01 */
+    { 0xbeb3c7a0,0xbeb7b20b }, /*  60: -3.5113239e-01 -3.5878024e-01 */
+    { 0x3eedb94b,0x3ef737fa }, /*  61:  4.6430430e-01  4.8284894e-01 */
+    { 0x3f2a92a1,0x3f3aaf30 }, /*  62:  6.6629988e-01  7.2923565e-01 */
+    { 0xbdfb5593,0xbdfbf82f }, /*  63: -1.2272181e-01 -1.2303197e-01 */
+    { 0xbefb58e0,0xbf035cee }, /*  64: -4.9091244e-01 -5.1313674e-01 */
+    { 0x3f4a913b,0x3f69b3a1 }, /*  65:  7.9127854e-01  9.1289717e-01 */
+    { 0xbf6b1d33,0xbf94ffb4 }, /*  66: -9.1841429e-01 -1.1640534e+00 */
+    { 0x3df8f3d9,0x3df991db }, /*  67:  1.2155885e-01  1.2186023e-01 */
+    { 0x3dcc6718,0x3dccbe5c }, /*  68:  9.9806011e-02  9.9972457e-02 */
+    { 0x3f3eec0d,0x3f577ae4 }, /*  69:  7.4578935e-01  8.4171891e-01 */
+    { 0x3e5233f6,0x3e53b53d }, /*  70:  2.0527634e-01  2.0674606e-01 */
+    { 0x3d9e6ba2,0x3d9e9430 }, /*  71:  7.7353731e-02  7.7431083e-02 */
+    { 0xbe80ce40,0xbe82345e }, /*  72: -2.5157356e-01 -2.5430578e-01 */
+    { 0x3e1ae27c,0x3e1b7b40 }, /*  73:  1.5125459e-01  1.5183735e-01 */
+    { 0x3d4d0f6a,0x3d4d255e }, /*  74:  5.0063528e-02  5.0084464e-02 */
+    { 0xbe15d675,0xbe1660ad }, /*  75: -1.4632590e-01 -1.4685316e-01 */
+    { 0xbd618695,0xbd61a3cb }, /*  76: -5.5059988e-02 -5.5087846e-02 */
+    { 0xbf54e837,0xbf7b6b43 }, /*  77: -8.3166832e-01 -9.8210543e-01 */
+    { 0x3f140f0b,0x3f1de0b9 }, /*  78:  5.7835454e-01  6.1671025e-01 */
+    { 0x3edd1bc7,0x3ee4a1a4 }, /*  79:  4.3185255e-01  4.4654572e-01 */
+    { 0x3f1e199b,0x3f2a68ae }, /*  80:  6.1757821e-01  6.6565979e-01 */
+    { 0x3f157a76,0x3f1f9f49 }, /*  81:  5.8389986e-01  6.2352425e-01 */
+    { 0x3f169fd2,0x3f21095d }, /*  82:  5.8837616e-01  6.2904912e-01 */
+    { 0x3efb4b17,0x3f035505 }, /*  83:  4.9080727e-01  5.1301605e-01 */
+    { 0x3e5b9edb,0x3e5d570f }, /*  84:  2.1447317e-01  2.1615241e-01 */
+    { 0x3f5f38f2,0x3f8793c5 }, /*  85:  8.7196267e-01  1.0591971e+00 */
+    { 0x3e8b8a08,0x3e8d53b8 }, /*  86:  2.7253747e-01  2.7602935e-01 */
+    { 0xbbb4b6d5,0xbbb4b711 }, /*  87: -5.5149593e-03 -5.5149873e-03 */
+    { 0xbf2d7e70,0xbf3ea108 }, /*  88: -6.7771053e-01 -7.4464464e-01 */
+    { 0x3ef15e80,0x3efb57e2 }, /*  89:  4.7142410e-01  4.9090487e-01 */
+    { 0xbed97548,0xbee0977e }, /*  90: -4.2472291e-01 -4.3865579e-01 */
+    { 0xbcec47f5,0xbcec5059 }, /*  91: -2.8842906e-02 -2.8846906e-02 */
+    { 0xbd83a0d3,0xbd83b811 }, /*  92: -6.4271592e-02 -6.4315923e-02 */
+    { 0xbf422803,0xbf5c634c }, /*  93: -7.5842303e-01 -8.6089015e-01 */
+    { 0x3f59330e,0x3f81aab5 }, /*  94:  8.4843528e-01  1.0130221e+00 */
+    { 0x3ee3beeb,0x3eec0419 }, /*  95:  4.4481596e-01  4.6096876e-01 */
+    { 0xbf7796c8,0xbfa828e2 }, /*  96: -9.6714449e-01 -1.3137476e+00 */
+    { 0x3f6e15db,0x3f98e464 }, /*  97:  9.3002099e-01  1.1944699e+00 */
+    { 0xbede041e,0xbee5a35c }, /*  98: -4.3362516e-01 -4.4851196e-01 */
+    { 0x3e07d86a,0x3e083f3c }, /*  99:  1.3266149e-01  1.3305372e-01 */
+    { 0x3f2d01e8,0x3f3df7e0 }, /* 100:  6.7581034e-01  7.4206352e-01 */
+    { 0x3f458aee,0x3f61a598 }, /* 101:  7.7165115e-01  8.8143301e-01 */
+    { 0xbf4a3c71,0xbf692926 }, /* 102: -7.8998476e-01 -9.1078413e-01 */
+    { 0xbf136538,0xbf1d10c8 }, /* 103: -5.7576323e-01 -6.1353731e-01 */
+    { 0xbd9de395,0xbd9e0bbb }, /* 104: -7.7094235e-02 -7.7170812e-02 */
+    { 0x3e85290b,0x3e86b589 }, /* 105:  2.6007876e-01  2.6310375e-01 */
+    { 0x3e8e4a56,0x3e903051 }, /* 106:  2.7791089e-01  2.8161862e-01 */
+    { 0x3f5e2b24,0x3f86823f }, /* 107:  8.6784577e-01  1.0508498e+00 */
+    { 0x3edb589d,0x3ee2ade2 }, /* 108:  4.2841044e-01  4.4273287e-01 */
+    { 0xbe132f26,0xbe13b21c }, /* 109: -1.4373454e-01 -1.4423412e-01 */
+    { 0x3e99720f,0x3e9bd73a }, /* 110:  2.9969832e-01  3.0437642e-01 */
+    { 0x3d3c5e95,0x3d3c6f99 }, /* 111:  4.5988638e-02  4.6004865e-02 */
+    { 0xbf0f5154,0xbf181c98 }, /* 112: -5.5983472e-01 -5.9418631e-01 */
+    { 0xbde53935,0xbde5b46c }, /* 113: -1.1192552e-01 -1.1216053e-01 */
+    { 0xbeed2917,0xbef69536 }, /* 114: -4.6320412e-01 -4.8160714e-01 */
+    { 0x3f279663,0x3f36b553 }, /* 115:  6.5463847e-01  7.1370429e-01 */
+    { 0xbe75b8d4,0xbe7824bb }, /* 116: -2.3996288e-01 -2.4232762e-01 */
+    { 0x3f4f3079,0x3f716984 }, /* 117:  8.0933338e-01  9.4301629e-01 */
+    { 0xbeb3a616,0xbeb78e39 }, /* 118: -3.5087651e-01 -3.5850695e-01 */
+    { 0x3da89adc,0x3da8cbc4 }, /* 119:  8.2326621e-02  8.2419902e-02 */
+    { 0x3e8fbf71,0x3e91b4e4 }, /* 120:  2.8075746e-01  2.8458321e-01 */
+    { 0x3e65c943,0x3e67c27e }, /* 121:  2.2440057e-01  2.2632787e-01 */
+    { 0xbf724ee4,0xbf9f0271 }, /* 122: -9.4651628e-01 -1.2422620e+00 */
+    { 0xbf489462,0xbf667a25 }, /* 123: -7.8351414e-01 -9.0030128e-01 */
+    { 0x3eee949b,0x3ef82fb9 }, /* 124:  4.6597752e-01  4.8473909e-01 */
+    { 0x3f66e42a,0x3f8fe588 }, /* 125:  9.0191901e-01  1.1241922e+00 */
+    { 0x3f294b14,0x3f38f93b }, /* 126:  6.6130185e-01  7.2255296e-01 */
+    { 0x3eff670a,0x3f05b24b }, /* 127:  4.9883300e-01  5.2225178e-01 */
+    { 0x3f54fa05,0x3f7b8b57 }, /* 128:  8.3194000e-01  9.8259491e-01 */
+    { 0xbf45b6fb,0xbf61eae6 }, /* 129: -7.7232331e-01 -8.8249052e-01 */
+    { 0xbebcacc0,0xbec13aaf }, /* 130: -3.6850548e-01 -3.7740085e-01 */
+    { 0x3f01fbed,0x3f08569a }, /* 131:  5.0775033e-01  5.3257143e-01 */
+    { 0x3f7fd3f3,0x3fc45e59 }, /* 132:  9.9932784e-01  1.5341293e+00 */
+    { 0xbe224b45,0xbe22fb34 }, /* 133: -1.5849026e-01 -1.5916139e-01 */
+    { 0x3f6e96b6,0x3f9994e8 }, /* 134:  9.3198717e-01  1.1998568e+00 */
+    { 0xbd9f43fc,0xbd9f6d31 }, /* 135: -7.7766389e-02 -7.7844985e-02 */
+    { 0xbf65fe4c,0xbf8edda3 }, /* 136: -8.9841151e-01 -1.1161388e+00 */
+    { 0x3e56ef83,0x3e588bc5 }, /* 137:  2.0989804e-01  2.1147068e-01 */
+    { 0xbe56f56e,0xbe5891d2 }, /* 138: -2.0992061e-01 -2.1149376e-01 */
+    { 0x3f07ae03,0x3f0f005e }, /* 139:  5.2999896e-01  5.5859935e-01 */
+    { 0xbf6f0fe9,0xbf9a3d31 }, /* 140: -9.3383652e-01 -1.2049924e+00 */
+    { 0xbf690454,0xbf9268b6 }, /* 141: -9.1022229e-01 -1.1438205e+00 */
+    { 0xbed91828,0xbee030a6 }, /* 142: -4.2401242e-01 -4.3787116e-01 */
+    { 0xbefcc27a,0xbf042ca5 }, /* 143: -4.9367124e-01 -5.1630622e-01 */
+    { 0xbcb56f55,0xbcb57321 }, /* 144: -2.2147814e-02 -2.2149624e-02 */
+    { 0x3de6fb06,0x3de7791b }, /* 145:  1.1278348e-01  1.1302396e-01 */
+    { 0xbf56cada,0xbf7ed94a }, /* 146: -8.3903277e-01 -9.9550307e-01 */
+    { 0x3f3ce650,0x3f5476cb }, /* 147:  7.3788929e-01  8.2993764e-01 */
+    { 0xbd9f8136,0xbd9faa9b }, /* 148: -7.7883169e-02 -7.7962123e-02 */
+    { 0xbe427795,0xbe43a7ca }, /* 149: -1.8990929e-01 -1.9106975e-01 */
+    { 0xbe381950,0xbe391af7 }, /* 150: -1.7978406e-01 -1.8076693e-01 */
+    { 0xbf4c106e,0xbf6c2a44 }, /* 151: -7.9712570e-01 -9.2251992e-01 */
+    { 0xbf772b95,0xbfa75891 }, /* 152: -9.6550876e-01 -1.3073903e+00 */
+    { 0xbe0154e1,0xbe01ad8b }, /* 153: -1.2630035e-01 -1.2663858e-01 */
+    { 0xbf14a4d0,0xbf1e987e }, /* 154: -5.8063984e-01 -6.1951435e-01 */
+    { 0x3f001eb9,0x3f062e0d }, /* 155:  5.0046879e-01  5.2414018e-01 */
+    { 0xbe65c43a,0xbe67bd54 }, /* 156: -2.2438136e-01 -2.2630817e-01 */
+    { 0xbf6b59bc,0xbf954c6c }, /* 157: -9.1933799e-01 -1.1663947e+00 */
+    { 0xba3706a8,0xba3706a9 }, /* 158: -6.9818879e-04 -6.9818884e-04 */
+    { 0xbec8ee13,0xbece7b4b }, /* 159: -3.9244136e-01 -4.0328440e-01 */
+    { 0xbf3110b7,0xbf438788 }, /* 160: -6.9166130e-01 -7.6378679e-01 */
+    { 0x3f217bde,0x3f2ebd80 }, /* 161:  6.3079631e-01  6.8257904e-01 */
+    { 0xbf627b1c,0xbf8afc81 }, /* 162: -8.8469100e-01 -1.0858308e+00 */
+    { 0xbf313cc4,0xbf43c48d }, /* 163: -6.9233346e-01 -7.6471788e-01 */
+    { 0xbf0716f3,0xbf0e4e60 }, /* 164: -5.2769393e-01 -5.5588341e-01 */
+    { 0xbf73e466,0xbfa1899f }, /* 165: -9.5270383e-01 -1.2620124e+00 */
+    { 0x3e6b6af3,0x3e6d8ae1 }, /* 166:  2.2990017e-01  2.3197509e-01 */
+    { 0xbeda2a7e,0xbee15fba }, /* 167: -4.2610544e-01 -4.4018346e-01 */
+    { 0x3e83aef5,0x3e852e22 }, /* 168:  2.5719419e-01  2.6011759e-01 */
+    { 0xbf7ae29f,0xbfaf6ea7 }, /* 169: -9.8002046e-01 -1.3705643e+00 */
+    { 0xbf65673c,0xbf8e328f }, /* 170: -8.9610648e-01 -1.1109179e+00 */
+    { 0x3ea58f23,0x3ea896d1 }, /* 171:  3.2335767e-01  3.2927564e-01 */
+    { 0xbf63e6f3,0xbf8c8743 }, /* 172: -8.9024276e-01 -1.0978779e+00 */
+    { 0xbea3e6a0,0xbea6d677 }, /* 173: -3.2011890e-01 -3.2585499e-01 */
+    { 0x3f546654,0x3f7a81f8 }, /* 174:  8.2968640e-01  9.7854567e-01 */
+    { 0x3db36c95,0x3db3a78b }, /* 175:  8.7609448e-02  8.7721907e-02 */
+    { 0x3f4aec11,0x3f6a4867 }, /* 176:  7.9266459e-01  9.1516727e-01 */
+    { 0x3f7d9b7a,0x3fb78c46 }, /* 177:  9.9065363e-01  1.4339683e+00 */
+    { 0xbe32b074,0xbe339bda }, /* 178: -1.7450124e-01 -1.7539921e-01 */
+    { 0xbe92082c,0xbe94168b }, /* 179: -2.8521860e-01 -2.8923449e-01 */
+    { 0xbe4c09ad,0xbe4d69a3 }, /* 180: -1.9925566e-01 -2.0059828e-01 */
+    { 0x3f254d8f,0x3f33b394 }, /* 181:  6.4571470e-01  7.0195889e-01 */
+    { 0xbda8a41f,0xbda8d50f }, /* 182: -8.2344286e-02 -8.2437627e-02 */
+    { 0xbe28b7ff,0xbe297dd9 }, /* 183: -1.6476439e-01 -1.6551913e-01 */
+    { 0xbef60f53,0xbf0056ab }, /* 184: -4.8058566e-01 -5.0132245e-01 */
+    { 0x3eac8d59,0x3eafff6b }, /* 185:  3.3701590e-01  3.4374556e-01 */
+    { 0xbf2a0f47,0xbf39ff40 }, /* 186: -6.6429561e-01 -7.2655106e-01 */
+    { 0x3e970e90,0x3e9956c2 }, /* 187:  2.9503298e-01  2.9949003e-01 */
+    { 0x3ed5d9e1,0x3edc9d5e }, /* 188:  4.1767791e-01  4.3088812e-01 */
+    { 0x3eab85ef,0x3eaee7bf }, /* 189:  3.3500621e-01  3.4161183e-01 */
+    { 0x3f67103f,0x3f9018a5 }, /* 190:  9.0259165e-01  1.1257521e+00 */
+    { 0x3f39dc3a,0x3f5000c3 }, /* 191:  7.2601664e-01  8.1251162e-01 */
+    { 0xbd0c12a4,0xbd0c19a2 }, /* 192: -3.4197465e-02 -3.4204133e-02 */
+    { 0xbf7b6add,0xbfb0ce76 }, /* 193: -9.8209935e-01 -1.3813007e+00 */
+    { 0xbf77608a,0xbfa7bedb }, /* 194: -9.6631682e-01 -1.3105119e+00 */
+    { 0x3ee04fc5,0x3ee8304d }, /* 195:  4.3810859e-01  4.5349351e-01 */
+    { 0xbf6f4f43,0xbf9a9610 }, /* 196: -9.3480319e-01 -1.2077045e+00 */
+    { 0x3e86f466,0x3e88917f }, /* 197:  2.6358336e-01  2.6673505e-01 */
+    { 0xbf7ced5c,0xbfb535b1 }, /* 198: -9.8799682e-01 -1.4157010e+00 */
+    { 0x3ea5106e,0x3ea810f1 }, /* 199:  3.2239097e-01  3.2825425e-01 */
+    { 0x3e912f28,0x3e93342e }, /* 200:  2.8356290e-01  2.8750747e-01 */
+    { 0xbf625498,0xbf8ad33e }, /* 201: -8.8410330e-01 -1.0845716e+00 */
+    { 0xbeb5606f,0xbeb966ed }, /* 202: -3.5425135e-01 -3.6211339e-01 */
+    { 0x3ec96143,0x3ecef88d }, /* 203:  3.9332017e-01  4.0424004e-01 */
+    { 0xbe511fa1,0xbe529aed }, /* 204: -2.0422222e-01 -2.0566912e-01 */
+    { 0xbf0649e3,0xbf0d5d3e }, /* 205: -5.2456492e-01 -5.5220401e-01 */
+    { 0xbf04e1cc,0xbf0bb71f }, /* 206: -5.1907039e-01 -5.4576296e-01 */
+    { 0xbed2b7af,0xbed92bd4 }, /* 207: -4.1155764e-01 -4.2416251e-01 */
+    { 0xbf08ae69,0xbf102f29 }, /* 208: -5.3391129e-01 -5.6321961e-01 */
+    { 0x3e9ce42e,0x3e9f74e2 }, /* 209:  3.0642837e-01  3.1143862e-01 */
+    { 0x3e9b4025,0x3e9dbbdc }, /* 210:  3.0322376e-01  3.0807388e-01 */
+    { 0x3e889e57,0x3e8a4b42 }, /* 211:  2.6683304e-01  2.7010542e-01 */
+    { 0xbd4405a5,0xbd4418d2 }, /* 212: -4.7856946e-02 -4.7875233e-02 */
+    { 0xbf477471,0xbf64accb }, /* 213: -7.7912050e-01 -8.9326161e-01 */
+    { 0xbf65ded4,0xbf8eb9da }, /* 214: -8.9793134e-01 -1.1150467e+00 */
+    { 0x3ef16ff8,0x3efb6bb2 }, /* 215:  4.7155738e-01  4.9105603e-01 */
+    { 0x3f0ed23b,0x3f178354 }, /* 216:  5.5789536e-01  5.9184766e-01 */
+    { 0xbf0fee1b,0xbf18d9fc }, /* 217: -5.6222695e-01 -5.9707618e-01 */
+    { 0xbe6f02ee,0xbe713c96 }, /* 218: -2.3340961e-01 -2.3558268e-01 */
+    { 0xbcc81a81,0xbcc81f99 }, /* 219: -2.4426701e-02 -2.4429129e-02 */
+    { 0x3f45d4dd,0x3f6219f6 }, /* 220:  7.7277929e-01  8.8320863e-01 */
+    { 0xbea960f9,0xbeaca193 }, /* 221: -3.3081797e-01 -3.3717021e-01 */
+    { 0xbe98c935,0xbe9b2647 }, /* 222: -2.9841009e-01 -3.0302641e-01 */
+    { 0xbe85d89b,0xbe876b64 }, /* 223: -2.6141819e-01 -2.6449120e-01 */
+    { 0xbea036b4,0xbea2f361 }, /* 224: -3.1291735e-01 -3.1826308e-01 */
+    { 0xbe878a48,0xbe892ce6 }, /* 225: -2.6472688e-01 -2.6792067e-01 */
+    { 0xbf52c46b,0xbf779b92 }, /* 226: -8.2330960e-01 -9.6721756e-01 */
+    { 0xbe7daa75,0xbe802ad4 }, /* 227: -2.4772055e-01 -2.5032675e-01 */
+    { 0x3f7fb50f,0x3fc2f0a5 }, /* 228:  9.9885648e-01  1.5229689e+00 */
+    { 0xbf4fb1c7,0xbf72462d }, /* 229: -8.1130642e-01 -9.4638330e-01 */
+    { 0xbf6ce266,0xbf9748a0 }, /* 230: -9.2532957e-01 -1.1819038e+00 */
+    { 0x3e909945,0x3e9297e8 }, /* 231:  2.8241935e-01  2.8631520e-01 */
+    { 0xbf320660,0xbf44dc87 }, /* 232: -6.9540977e-01 -7.6898998e-01 */
+    { 0xbe8f253c,0xbe911440 }, /* 233: -2.7958095e-01 -2.8335762e-01 */
+    { 0xbea60578,0xbea913e3 }, /* 234: -3.2426047e-01 -3.3022985e-01 */
+    { 0x3dcd8dc2,0x3dcde683 }, /* 235:  1.0036804e-01  1.0053732e-01 */
+    { 0x3e488dfb,0x3e49dc04 }, /* 236:  1.9585411e-01  1.9712836e-01 */
+    { 0x3e206ddf,0x3e2117c4 }, /* 237:  1.5666912e-01  1.5731722e-01 */
+    { 0x3f3055e1,0x3f428552 }, /* 238:  6.8881041e-01  7.5984681e-01 */
+    { 0x3f297516,0x3f393141 }, /* 239:  6.6194284e-01  7.2340780e-01 */
+    { 0xbf097271,0xbf111743 }, /* 240: -5.3690249e-01 -5.6676120e-01 */
+    { 0xbc02831e,0xbc028378 }, /* 241: -7.9658311e-03 -7.9659149e-03 */
+    { 0xbd91ddf5,0xbd91fd9a }, /* 242: -7.1224131e-02 -7.1284488e-02 */
+    { 0x3ed49a69,0x3edb3dfa }, /* 243:  4.1524056e-01  4.2820722e-01 */
+    { 0x3e5a060a,0x3e5bb494 }, /* 244:  2.1291366e-01  2.1455604e-01 */
+    { 0x3cfcada7,0x3cfcb7ea }, /* 245:  3.0844523e-02  3.0849416e-02 */
+    { 0xbde7d67c,0xbde855fb }, /* 246: -1.1320207e-01 -1.1344524e-01 */
+    { 0xbe6ab109,0xbe6ccbde }, /* 247: -2.2919096e-01 -2.3124644e-01 */
+    { 0x3eefeea5,0x3ef9b720 }, /* 248:  4.6861759e-01  4.8772526e-01 */
+    { 0x3f274475,0x3f364905 }, /* 249:  6.5338832e-01  7.1205169e-01 */
+    { 0x3f3f12ea,0x3f57b542 }, /* 250:  7.4638236e-01  8.4260952e-01 */
+    { 0x3e7730bc,0x3e79a805 }, /* 251:  2.4139684e-01  2.4380501e-01 */
+    { 0xbf2d6c08,0xbf3e8801 }, /* 252: -6.7742968e-01 -7.4426275e-01 */
+    { 0xbf0d51b1,0xbf15b512 }, /* 253: -5.5202776e-01 -5.8479416e-01 */
+    { 0x3f7adfe1,0x3faf67c3 }, /* 254:  9.7997862e-01  1.3703541e+00 */
+    { 0x3c1e279b,0x3c1e283c }, /* 255:  9.6529974e-03  9.6531473e-03 */
+    { 0x3e3ba4ad,0x3e3cb5a8 }, /* 256:  1.8324538e-01  1.8428671e-01 */
+    { 0xbf57e489,0xbf80711b }, /* 257: -8.4333092e-01 -1.0034517e+00 */
+    { 0x3f430e01,0x3f5dc54a }, /* 258:  7.6193243e-01  8.6629164e-01 */
+    { 0x3e3a78e7,0x3e3b84c1 }, /* 259:  1.8210183e-01  1.8312360e-01 */
+    { 0xbf279651,0xbf36b53b }, /* 260: -6.5463740e-01 -7.1370286e-01 */
+    { 0x3f562b9b,0x3f7db599 }, /* 261:  8.3660287e-01  9.9105221e-01 */
+    { 0xbf091524,0xbf10a8bb }, /* 262: -5.3547883e-01 -5.6507462e-01 */
+    { 0xbeb33960,0xbeb71a27 }, /* 263: -3.5004711e-01 -3.5762140e-01 */
+    { 0xbee2ce06,0xbeeaf744 }, /* 264: -4.4297808e-01 -4.5891774e-01 */
+    { 0x3e0fa081,0x3e101a24 }, /* 265:  1.4026071e-01  1.4072472e-01 */
+    { 0x3f401508,0x3f593a67 }, /* 266:  7.5032091e-01  8.4854740e-01 */
+    { 0x3f40bc7c,0x3f5a3844 }, /* 267:  7.5287604e-01  8.5242105e-01 */
+    { 0xbf33fc68,0xbf479acb }, /* 268: -7.0307016e-01 -7.7970570e-01 */
+    { 0x3ee0d5d2,0x3ee8c577 }, /* 269:  4.3913132e-01  4.5463154e-01 */
+    { 0x3ed46322,0x3edb0138 }, /* 270:  4.1481882e-01  4.2774367e-01 */
+    { 0xbe75bb65,0xbe78275f }, /* 271: -2.3997267e-01 -2.4233769e-01 */
+    { 0xbf119f24,0xbf1ae70e }, /* 272: -5.6883454e-01 -6.0508811e-01 */
+    { 0xbf280a2d,0xbf374ea6 }, /* 273: -6.5640527e-01 -7.1604383e-01 */
+    { 0xbf5321a5,0xbf78401e }, /* 274: -8.2473212e-01 -9.6972835e-01 */
+    { 0x3f24e25f,0x3f332755 }, /* 275:  6.4407915e-01  6.9981891e-01 */
+    { 0x3ebfb680,0x3ec48061 }, /* 276:  3.7443924e-01  3.8379195e-01 */
+    { 0x3d7e38b8,0x3d7e6293 }, /* 277:  6.2065810e-02  6.2105726e-02 */
+    { 0xbf15c9e3,0xbf20012c }, /* 278: -5.8511180e-01 -6.2501788e-01 */
+    { 0xbe20b5b7,0xbe216082 }, /* 279: -1.5694319e-01 -1.5759471e-01 */
+    { 0xbe91afff,0xbe93ba8e }, /* 280: -2.8454587e-01 -2.8853267e-01 */
+    { 0xbf56b6fa,0xbf7eb4c6 }, /* 281: -8.3872950e-01 -9.9494588e-01 */
+    { 0xbf6a613f,0xbf941420 }, /* 282: -9.1554636e-01 -1.1568642e+00 */
+    { 0x3d1bbf8c,0x3d1bc929 }, /* 283:  3.8024470e-02  3.8033638e-02 */
+    { 0xbec81155,0xbecd8b64 }, /* 284: -3.9075723e-01 -4.0145409e-01 */
+    { 0xbf6f815d,0xbf9adccc }, /* 285: -9.3556768e-01 -1.2098632e+00 */
+    { 0xbf73cb69,0xbfa16097 }, /* 286: -9.5232254e-01 -1.2607602e+00 */
+    { 0x3f4ae081,0x3f6a3571 }, /* 287:  7.9248816e-01  9.1487795e-01 */
+    { 0xbf4765e7,0xbf64959b }, /* 288: -7.7889866e-01 -8.9290780e-01 */
+    { 0x3f4f4298,0x3f718860 }, /* 289:  8.0960989e-01  9.4348717e-01 */
+    { 0xbcd028b1,0xbcd02e6d }, /* 290: -2.5410028e-02 -2.5412763e-02 */
+    { 0xbeddf86f,0xbee59665 }, /* 291: -4.3353602e-01 -4.4841304e-01 */
+    { 0x3f256e33,0x3f33de56 }, /* 292:  6.4621276e-01  7.0261133e-01 */
+    { 0x3ee0d32e,0x3ee8c287 }, /* 293:  4.3911117e-01  4.5460913e-01 */
+    { 0x3e5d9c62,0x3e5f60d7 }, /* 294:  2.1641687e-01  2.1814285e-01 */
+    { 0xbf4bf8d0,0xbf6c032a }, /* 295: -7.9676533e-01 -9.2192328e-01 */
+    { 0xbed75c92,0xbede4747 }, /* 296: -4.2062813e-01 -4.3413755e-01 */
+    { 0xbd083df4,0xbd084463 }, /* 297: -3.3262208e-02 -3.3268344e-02 */
+    { 0x3f74c3ab,0x3fa2ffaa }, /* 298:  9.5611066e-01  1.2734272e+00 */
+    { 0xbdfd5588,0xbdfdfc12 }, /* 299: -1.2369829e-01 -1.2401594e-01 */
+    { 0xbf1818f6,0xbf22dd00 }, /* 300: -5.9413087e-01 -6.3618469e-01 */
+    { 0x3ebdea79,0x3ec290a3 }, /* 301:  3.7092951e-01  3.8000974e-01 */
+    { 0x3f22e676,0x3f309228 }, /* 302:  6.3632905e-01  6.8973017e-01 */
+    { 0xbe26e067,0xbe279fcb }, /* 303: -1.6296540e-01 -1.6369550e-01 */
+    { 0x3f36eb0f,0x3f4bc2f9 }, /* 304:  7.1452421e-01  7.9594380e-01 */
+    { 0x3f4fc4d1,0x3f7266c1 }, /* 305:  8.1159693e-01  9.4688040e-01 */
+    { 0xbf04d5bb,0xbf0ba902 }, /* 306: -5.1888627e-01 -5.4554760e-01 */
+    { 0x3db63279,0x3db67038 }, /* 307:  8.8963456e-02  8.9081228e-02 */
+    { 0xbe015e90,0xbe01b74e }, /* 308: -1.2633729e-01 -1.2667581e-01 */
+    { 0xbdd4fcf4,0xbdd55fb9 }, /* 309: -1.0399809e-01 -1.0418648e-01 */
+    { 0x3f6e98e1,0x3f9997e6 }, /* 310:  9.3202025e-01  1.1999481e+00 */
+    { 0x3f16d05d,0x3f21456b }, /* 311:  5.8911687e-01  6.2996548e-01 */
+    { 0x3d6a967c,0x3d6ab75d }, /* 312:  5.7272419e-02  5.7303775e-02 */
+    { 0xbf7bc85d,0xbfb1cbc2 }, /* 313: -9.8352605e-01 -1.3890307e+00 */
+    { 0xbebee755,0xbec3a108 }, /* 314: -3.7285867e-01 -3.8208795e-01 */
+    { 0x3f2aa0bd,0x3f3ac21d }, /* 315:  6.6651517e-01  7.2952443e-01 */
+    { 0xbf6b49bb,0xbf953819 }, /* 316: -9.1909379e-01 -1.1657745e+00 */
+    { 0xbea67e27,0xbea9937c }, /* 317: -3.2518122e-01 -3.3120334e-01 */
+    { 0x3eeb027c,0x3ef428b4 }, /* 318:  4.5900333e-01  4.7687304e-01 */
+    { 0xbf32afa2,0xbf45c879 }, /* 319: -6.9799244e-01 -7.7259022e-01 */
+    { 0xbf03fc7b,0xbf0aab2a }, /* 320: -5.1557130e-01 -5.4167426e-01 */
+    { 0xbf110007,0xbf1a25ca }, /* 321: -5.6640667e-01 -6.0213912e-01 */
+    { 0xbe06af63,0xbe071395 }, /* 322: -1.3152842e-01 -1.3191064e-01 */
+    { 0xbf5e8e48,0xbf86e64a }, /* 323: -8.6935854e-01 -1.0539029e+00 */
+    { 0x3f5f698f,0x3f87c57c }, /* 324:  8.7270445e-01  1.0607142e+00 */
+    { 0xbf6a44c0,0xbf93f0bf }, /* 325: -9.1511154e-01 -1.1557845e+00 */
+    { 0xbf2a8718,0xbf3a9fb9 }, /* 326: -6.6612387e-01 -7.2899967e-01 */
+    { 0xbf0c44ba,0xbf147307 }, /* 327: -5.4792368e-01 -5.7988018e-01 */
+    { 0x3d537609,0x3d538e1c }, /* 328:  5.1626239e-02  5.1649198e-02 */
+    { 0xbf35c36d,0xbf4a1dc9 }, /* 329: -7.1001321e-01 -7.8951699e-01 */
+    { 0x3ea8212b,0x3eab4ed7 }, /* 330:  3.2837805e-01  3.3458588e-01 */
+    { 0x3eea3cd4,0x3ef34a53 }, /* 331:  4.5749533e-01  4.7517642e-01 */
+    { 0x3f2931d0,0x3f38d78e }, /* 332:  6.6091633e-01  7.2203910e-01 */
+    { 0xbd108f4d,0xbd1096fd }, /* 333: -3.5292912e-02 -3.5300244e-02 */
+    { 0xbf3499b0,0xbf487856 }, /* 334: -7.0547009e-01 -7.8308618e-01 */
+    { 0x3ec039bf,0x3ec50df4 }, /* 335:  3.7544057e-01  3.8487208e-01 */
+    { 0xbe651091,0xbe6704fb }, /* 336: -2.2369601e-01 -2.2560494e-01 */
+    { 0xbe65bdaa,0xbe67b698 }, /* 337: -2.2435632e-01 -2.2628248e-01 */
+    { 0xbf091cd2,0xbf10b1d3 }, /* 338: -5.3559601e-01 -5.6521338e-01 */
+    { 0x3f266438,0x3f352162 }, /* 339:  6.4996672e-01  7.0754063e-01 */
+    { 0x3f2bf0f7,0x3f3c8687 }, /* 340:  6.7164558e-01  7.3642772e-01 */
+    { 0xbf1a83f0,0xbf25e1e7 }, /* 341: -6.0357571e-01 -6.4797825e-01 */
+    { 0x3e74d252,0x3e77374f }, /* 342:  2.3908356e-01  2.4142192e-01 */
+    { 0xbe8acb43,0xbe8c8d7d }, /* 343: -2.7108201e-01 -2.7451697e-01 */
+    { 0xbf164c4e,0xbf20a223 }, /* 344: -5.8710182e-01 -6.2747401e-01 */
+    { 0x3f5dc0ea,0x3f8617a6 }, /* 345:  8.6622488e-01  1.0475967e+00 */
+    { 0xbf1ac4e4,0xbf263369 }, /* 346: -6.0456681e-01 -6.4922196e-01 */
+    { 0xbf019608,0xbf07e064 }, /* 347: -5.0619555e-01 -5.3076768e-01 */
+    { 0xbeeafc53,0xbef421c5 }, /* 348: -4.5895633e-01 -4.7682014e-01 */
+    { 0x3f5abc5a,0x3f8321ae }, /* 349:  8.5443652e-01  1.0244653e+00 */
+    { 0xbe5116a8,0xbe5291c2 }, /* 350: -2.0418799e-01 -2.0563415e-01 */
+    { 0x3cd0ab63,0x3cd0b12a }, /* 351:  2.5472349e-02  2.5475103e-02 */
+    { 0xbf3643ad,0xbf4ad42a }, /* 352: -7.1197015e-01 -7.9229987e-01 */
+    { 0x3f2a0e7d,0x3f39fe32 }, /* 353:  6.6428357e-01  7.2653496e-01 */
+    { 0x3e1fdc4c,0x3e208461 }, /* 354:  1.5611380e-01  1.5675499e-01 */
+    { 0xbf56da1e,0xbf7ef55b }, /* 355: -8.3926570e-01 -9.9593133e-01 */
+    { 0x3f3fc9bd,0x3f58c89e }, /* 356:  7.4917203e-01  8.4681118e-01 */
+    { 0x3efadff6,0x3f03178f }, /* 357:  4.8998994e-01  5.1207823e-01 */
+    { 0xbec63daf,0xbecb8fc4 }, /* 358: -3.8718936e-01 -3.9758122e-01 */
+    { 0xbe4bfb89,0xbe4d5b35 }, /* 359: -1.9920172e-01 -2.0054324e-01 */
+    { 0x3f47ac8e,0x3f650662 }, /* 360:  7.7997673e-01  8.9462864e-01 */
+    { 0x3f70f1be,0x3f9cf1df }, /* 361:  9.4118869e-01  1.2261313e+00 */
+    { 0xbf3de078,0xbf55ea98 }, /* 362: -7.4170637e-01 -8.3561087e-01 */
+    { 0x3ee1bcbc,0x3ee9c69d }, /* 363:  4.4089305e-01  4.5659342e-01 */
+    { 0xbdc0b9b5,0xbdc102d1 }, /* 364: -9.4104208e-02 -9.4243653e-02 */
+    { 0xbee4f450,0xbeed5dc7 }, /* 365: -4.4717646e-01 -4.6360609e-01 */
+    { 0xbe3c130b,0xbe3d25ee }, /* 366: -1.8366639e-01 -1.8471500e-01 */
+    { 0x3f2ea4a5,0x3f403244 }, /* 367:  6.8219978e-01  7.5076699e-01 */
+    { 0x3ea82cdb,0x3eab5b37 }, /* 368:  3.2846722e-01  3.3468029e-01 */
+    { 0x3e8fbcd8,0x3e91b22f }, /* 369:  2.8073764e-01  2.8456256e-01 */
+    { 0x3eaa11ba,0x3ead5cec }, /* 370:  3.3216649e-01  3.3859956e-01 */
+    { 0x38ec9240,0x38ec9240 }, /* 371:  1.1280598e-04  1.1280598e-04 */
+    { 0x3f2d5a7c,0x3f3e7027 }, /* 372:  6.7716193e-01  7.4389881e-01 */
+    { 0xbedb851d,0xbee2df23 }, /* 373: -4.2874995e-01 -4.4310865e-01 */
+    { 0x3f3aa1c3,0x3f5120ae }, /* 374:  7.2903079e-01  8.1690490e-01 */
+    { 0xbf68f1d2,0xbf925262 }, /* 375: -9.0993989e-01 -1.1431391e+00 */
+    { 0xbf1001a5,0xbf18f19e }, /* 376: -5.6252509e-01 -5.9743679e-01 */
+    { 0xbf602321,0xbf888485 }, /* 377: -8.7553602e-01 -1.0665442e+00 */
+    { 0xbed50fb5,0xbedbbef2 }, /* 378: -4.1613546e-01 -4.2919117e-01 */
+    { 0xbcaff9c6,0xbcaffd3d }, /* 379: -2.1481406e-02 -2.1483058e-02 */
+    { 0x3f7a993a,0x3faeb8a3 }, /* 380:  9.7890055e-01  1.3650097e+00 */
+    { 0x3ec264f7,0x3ec7658d }, /* 381:  3.7967655e-01  3.8944665e-01 */
+    { 0xbf7efa73,0xbfbd9f57 }, /* 382: -9.9600905e-01 -1.4814252e+00 */
+    { 0xbf3baa74,0xbf52a49c }, /* 383: -7.3306966e-01 -8.2282424e-01 */
+    { 0x3d340f8d,0x3d341e69 }, /* 384:  4.3960143e-02  4.3974314e-02 */
+    { 0x3e23f280,0x3e24a7e9 }, /* 385:  1.6010475e-01  1.6079678e-01 */
+    { 0xbf128491,0xbf1bfe6c }, /* 386: -5.7233530e-01 -6.0935092e-01 */
+    { 0xbe53d528,0xbe555f95 }, /* 387: -2.0686781e-01 -2.0837243e-01 */
+    { 0xbeb326cb,0xbeb70651 }, /* 388: -3.4990534e-01 -3.5747007e-01 */
+    { 0x3d25c976,0x3d25d50f }, /* 389:  4.0475331e-02  4.0486392e-02 */
+    { 0x3f180bd4,0x3f22ccad }, /* 390:  5.9393048e-01  6.3593560e-01 */
+    { 0xbf11e6d7,0xbf1b3e46 }, /* 391: -5.6992859e-01 -6.0641897e-01 */
+    { 0xbc96354d,0xbc963775 }, /* 392: -1.8335963e-02 -1.8336991e-02 */
+    { 0x3f5a2b5b,0x3f8296a0 }, /* 393:  8.5222405e-01  1.0202217e+00 */
+    { 0x3f5ef787,0x3f875114 }, /* 394:  8.7096447e-01  1.0571618e+00 */
+    { 0x3f63371f,0x3f8bc759 }, /* 395:  8.8755983e-01  1.0920211e+00 */
+    { 0xbf184ecc,0xbf231ff5 }, /* 396: -5.9495234e-01 -6.3720638e-01 */
+    { 0xbea01a78,0xbea2d5a7 }, /* 397: -3.1270194e-01 -3.1803629e-01 */
+    { 0x3f11dbc4,0x3f1b30cc }, /* 398:  5.6975961e-01  6.0621333e-01 */
+    { 0x3f3bc7a1,0x3f52cf85 }, /* 399:  7.3351485e-01  8.2347900e-01 */
+    { 0x3f77d130,0x3fa89c87 }, /* 400:  9.6803570e-01  1.3172768e+00 */
+    { 0xbdc8daf6,0xbdc92dc0 }, /* 401: -9.8073885e-02 -9.8231792e-02 */
+    { 0xbe8861f4,0xbe8a0c9a }, /* 402: -2.6637232e-01 -2.6962739e-01 */
+    { 0x3f252bab,0x3f338735 }, /* 403:  6.4519757e-01  7.0128185e-01 */
+    { 0x3ef24426,0x3efc5c6c }, /* 404:  4.7317618e-01  4.9289262e-01 */
+    { 0xbf098f37,0xbf113960 }, /* 405: -5.3734154e-01 -5.6728172e-01 */
+    { 0x3f3c39d9,0x3f5377cd }, /* 406:  7.3525769e-01  8.2604676e-01 */
+    { 0x3f69206e,0x3f928aae }, /* 407:  9.1065109e-01  1.1448572e+00 */
+    { 0xbed364af,0xbed9e9b6 }, /* 408: -4.1287753e-01 -4.2561120e-01 */
+    { 0xbf2e4e01,0xbf3fbbdf }, /* 409: -6.8087775e-01 -7.4896044e-01 */
+    { 0xbde2fafe,0xbde3729d }, /* 410: -1.1083029e-01 -1.1105845e-01 */
+    { 0xbede323c,0xbee5d68c }, /* 411: -4.3397701e-01 -4.4890249e-01 */
+    { 0x3f32e47a,0x3f46124e }, /* 412:  6.9879878e-01  7.7371681e-01 */
+    { 0xbddace97,0xbddb39b5 }, /* 413: -1.0683935e-01 -1.0704366e-01 */
+    { 0xbe2b0e46,0xbe2bdc88 }, /* 414: -1.6704664e-01 -1.6783345e-01 */
+    { 0xbe83b51a,0xbe85347e }, /* 415: -2.5724107e-01 -2.6016611e-01 */
+    { 0xbf725d33,0xbf9f18a3 }, /* 416: -9.4673461e-01 -1.2429394e+00 */
+    { 0x3e856fba,0x3e86febf }, /* 417:  2.6061803e-01  2.6366231e-01 */
+    { 0x3f093029,0x3f10c8ba }, /* 418:  5.3589112e-01  5.6556284e-01 */
+    { 0xbe97e130,0xbe9a3341 }, /* 419: -2.9663992e-01 -3.0117229e-01 */
+    { 0xbf32eb8c,0xbf461c31 }, /* 420: -6.9890666e-01 -7.7386767e-01 */
+    { 0x3e04eff3,0x3e055046 }, /* 421:  1.2982158e-01  1.3018903e-01 */
+    { 0x3e08a242,0x3e090ae4 }, /* 422:  1.3343146e-01  1.3383061e-01 */
+    { 0x3e90c594,0x3e92c619 }, /* 423:  2.8275740e-01  2.8666762e-01 */
+    { 0xbc9314fd,0xbc931703 }, /* 424: -1.7954344e-02 -1.7955309e-02 */
+    { 0x3b900ba3,0x3b900bc1 }, /* 425:  4.3959185e-03  4.3959324e-03 */
+    { 0x3e2e67a4,0x3e2f425d }, /* 426:  1.7031723e-01  1.7115159e-01 */
+    { 0x3ec63118,0x3ecb821c }, /* 427:  3.8709331e-01  3.9747703e-01 */
+    { 0x3f3112db,0x3f438a7f }, /* 428:  6.9169396e-01  7.6383203e-01 */
+    { 0xbe8514a6,0xbe86a06b }, /* 429: -2.5992316e-01 -2.6294264e-01 */
+    { 0x3df70168,0x3df79bb9 }, /* 430:  1.2060815e-01  1.2090249e-01 */
+    { 0x3f28e40b,0x3f387000 }, /* 431:  6.5972966e-01  7.2045898e-01 */
+    { 0x3f245a4e,0x3f3275a9 }, /* 432:  6.4200294e-01  6.9710785e-01 */
+    { 0x3f5aaf33,0x3f831507 }, /* 433:  8.5423583e-01  1.0240792e+00 */
+    { 0x3e9c1f6d,0x3e9ea63d }, /* 434:  3.0492726e-01  3.0986205e-01 */
+    { 0x3debe30b,0x3dec695d }, /* 435:  1.1517914e-01  1.1543534e-01 */
+    { 0xbf2ee004,0xbf408384 }, /* 436: -6.8310571e-01 -7.5200677e-01 */
+    { 0x3d2498ff,0x3d24a458 }, /* 437:  4.0184971e-02  4.0195793e-02 */
+    { 0x3cd399fa,0x3cd3a001 }, /* 438:  2.5830258e-02  2.5833132e-02 */
+    { 0xbdc492dc,0xbdc4e073 }, /* 439: -9.5983237e-02 -9.6131228e-02 */
+    { 0x3eb7f71e,0x3ebc2c4b }, /* 440:  3.5930723e-01  3.6752543e-01 */
+    { 0x3f6a3d70,0x3f93e7ae }, /* 441:  9.1499996e-01  1.1555078e+00 */
+    { 0x3ef0a90d,0x3efa8a39 }, /* 442:  4.7003976e-01  4.8933581e-01 */
+    { 0x3d6e0093,0x3d6e22e9 }, /* 443:  5.8106016e-02  5.8138762e-02 */
+    { 0xbe44718b,0xbe45ab3a }, /* 444: -1.9183938e-01 -1.9303599e-01 */
+    { 0xbf326f0b,0xbf456e56 }, /* 445: -6.9700688e-01 -7.7121484e-01 */
+    { 0x3f4d057c,0x3f6dc1c9 }, /* 446:  8.0086493e-01  9.2873818e-01 */
+    { 0xbe0de657,0xbe0e5b9e }, /* 447: -1.3857399e-01 -1.3902137e-01 */
+    { 0x3f1048d2,0x3f1947be }, /* 448:  5.6361115e-01  5.9875095e-01 */
+    { 0x3eac6b4b,0x3eafdb40 }, /* 449:  3.3675608e-01  3.4346962e-01 */
+    { 0x3f1095d2,0x3f19a501 }, /* 450:  5.6478608e-01  6.0017401e-01 */
+    { 0x3f5d5d46,0x3f85b433 }, /* 451:  8.6470449e-01  1.0445617e+00 */
+    { 0xbf088e5e,0xbf100946 }, /* 452: -5.3342235e-01 -5.6264150e-01 */
+    { 0xbe9a833b,0xbe9cf5a9 }, /* 453: -3.0178246e-01 -3.0656174e-01 */
+    { 0x3e170042,0x3e178dbe }, /* 454:  1.4746192e-01  1.4800164e-01 */
+    { 0x3ee5b1f5,0x3eee31e3 }, /* 455:  4.4862333e-01  4.6522436e-01 */
+    { 0x3f33de7a,0x3f4770b8 }, /* 456:  7.0261347e-01  7.7906370e-01 */
+    { 0xbf2ea607,0xbf403429 }, /* 457: -6.8222088e-01 -7.5079590e-01 */
+    { 0xbe2839e7,0xbe28fe03 }, /* 458: -1.6428338e-01 -1.6503148e-01 */
+    { 0x3ec9e2aa,0x3ecf8555 }, /* 459:  3.9430743e-01  4.0531412e-01 */
+    { 0x3d6cfa6a,0x3d6d1c4f }, /* 460:  5.7856001e-02  5.7888325e-02 */
+    { 0x3f74d1b3,0x3fa317a2 }, /* 461:  9.5632476e-01  1.2741587e+00 */
+    { 0x3d5d5604,0x3d5d71a1 }, /* 462:  5.4037109e-02  5.4063443e-02 */
+    { 0xbe99ac16,0xbe9c140e }, /* 463: -3.0014104e-01 -3.0484051e-01 */
+    { 0x3f4f80e6,0x3f71f2a4 }, /* 464:  8.1056058e-01  9.4510865e-01 */
+    { 0xbf241ae9,0xbf322304 }, /* 465: -6.4103562e-01 -6.9584680e-01 */
+    { 0x3f50a656,0x3f73ea5e }, /* 466:  8.1503808e-01  9.5279491e-01 */
+    { 0xbf5f5f1e,0xbf87bacc }, /* 467: -8.7254512e-01 -1.0603881e+00 */
+    { 0x3ecc5d4d,0x3ed238b4 }, /* 468:  3.9914933e-01  4.1058886e-01 */
+    { 0xbe22f367,0xbe23a580 }, /* 469: -1.5913163e-01 -1.5981102e-01 */
+    { 0x3d00e86c,0x3d00eddf }, /* 470:  3.1471655e-02  3.1476852e-02 */
+    { 0xbe77572a,0xbe79cf9f }, /* 471: -2.4154344e-01 -2.4395607e-01 */
+    { 0xbe79fda7,0xbe7c8b0c }, /* 472: -2.4413167e-01 -2.4662417e-01 */
+    { 0xbeff39e5,0xbf059840 }, /* 473: -4.9848858e-01 -5.2185440e-01 */
+    { 0x3f510a3f,0x3f749720 }, /* 474:  8.1656259e-01  9.5543098e-01 */
+    { 0x3f106434,0x3f1968e6 }, /* 475:  5.6402898e-01  5.9925687e-01 */
+    { 0xbe482ff7,0xbe497c26 }, /* 476: -1.9549547e-01 -1.9676265e-01 */
+    { 0x3f1e0fbb,0x3f2a5c20 }, /* 477:  6.1742753e-01  6.6546822e-01 */
+    { 0xbf131562,0xbf1caf30 }, /* 478: -5.7454503e-01 -6.1204815e-01 */
+    { 0xbf21c32c,0xbf2f1972 }, /* 479: -6.3188434e-01 -6.8398201e-01 */
+    { 0xbd3ba9f3,0xbd3bbac6 }, /* 480: -4.5816373e-02 -4.5832418e-02 */
+    { 0x3f7d8070,0x3fb72a39 }, /* 481:  9.9024105e-01  1.4309760e+00 */
+    { 0xbf4465e6,0xbf5fdad5 }, /* 482: -7.6717985e-01 -8.7443286e-01 */
+    { 0x3ed76e06,0x3ede5a85 }, /* 483:  4.2076129e-01  4.3428436e-01 */
+    { 0xbe9f825b,0xbea2358b }, /* 484: -3.1154141e-01 -3.1681475e-01 */
+    { 0x3ec2b456,0x3ec7bb5b }, /* 485:  3.8028210e-01  3.9010128e-01 */
+    { 0xbe05c00a,0xbe062227 }, /* 486: -1.3061538e-01 -1.3098966e-01 */
+    { 0xbf1be2b4,0xbf279af8 }, /* 487: -6.0892797e-01 -6.5470839e-01 */
+    { 0x3f32b424,0x3f45cec4 }, /* 488:  6.9806123e-01  7.7268624e-01 */
+    { 0x3f348184,0x3f48563e }, /* 489:  7.0510125e-01  7.8256595e-01 */
+    { 0x3f490ea1,0x3f673f41 }, /* 490:  7.8537947e-01  9.0330893e-01 */
+    { 0xbe79f0d4,0xbe7c7dd2 }, /* 491: -2.4408275e-01 -2.4657372e-01 */
+    { 0x3f295337,0x3f390414 }, /* 492:  6.6142601e-01  7.2271848e-01 */
+    { 0xbe246ffa,0xbe252708 }, /* 493: -1.6058341e-01 -1.6128170e-01 */
+    { 0x3ee95b80,0x3ef24d0c }, /* 494:  4.5577621e-01  4.7324407e-01 */
+    { 0x3ef1a83a,0x3efbab80 }, /* 495:  4.7198659e-01  4.9154282e-01 */
+    { 0x3e4b2461,0x3e4c7fac }, /* 496:  1.9838096e-01  1.9970578e-01 */
+    { 0x3e8aa82d,0x3e8c690a }, /* 497:  2.7081433e-01  2.7423888e-01 */
+    { 0x3f1974ff,0x3f248ebf }, /* 498:  5.9944147e-01  6.4280313e-01 */
+    { 0xbece1082,0xbed413bd }, /* 499: -4.0246969e-01 -4.1421309e-01 */
+    { 0xbf6368c3,0xbf8bfd4f }, /* 500: -8.8831729e-01 -1.0936679e+00 */
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]:  %#lx\n", index - 1, v.lo);
+#endif
+    exit (index ? index : -1);
+}
+
+int main ()
+{
+    union lofl_u x, z;
+    unsigned long v1, z1, r;
+    int i;
+    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	x.lo = pgm_read_dword (& t[i].x);
+	z.lo = pgm_read_dword (& t[i].z);
+	v.fl = asin (x.fl);
+	
+	v1 = (v.lo < 0) ? (unsigned long)~(v.lo) : v.lo + 0x80000000;
+	z1 = (z.lo < 0) ? (unsigned long)~(z.lo) : z.lo + 0x80000000;
+	r = (v1 >= z1) ? v1 - z1 : z1 - v1;
+	
+	if (r > 7) x_exit (i+1);
+    }
+    return 0;
+}
diff --git a/tests/simulate/math/atan-01.c b/tests/simulate/math/atan-01.c
new file mode 100644
index 0000000..36bc6b9
--- /dev/null
+++ b/tests/simulate/math/atan-01.c
@@ -0,0 +1,100 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of atan() function.
+   $Id$
+ */
+#include <math.h>
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+volatile union lofl_u v = { .lo = 1 };
+
+PROGMEM const struct {		/* Table of test cases.	*/
+    union lofl_u x;		/* argument	*/
+    union lofl_u z;		/* atan(x)	*/
+} t[] = {
+
+    /* Zero	*/
+    { { .fl= +0.0 },	{ .fl= +0.0 }	},
+    { { .fl= -0.0 },	{ .fl= -0.0 }	},
+
+    /* Subnormal	*/
+    { { 0x00000001 },	{ 0x00000001 }	},
+    { { 0x00000100 },	{ 0x00000100 }	},
+    { { 0x00010000 },	{ 0x00010000 }	},
+    { { 0x007fffff },	{ 0x007fffff }	},
+    { { 0x80000001 },	{ 0x80000001 }	},
+    { { 0x80000100 },	{ 0x80000100 }	},
+    { { 0x80010000 },	{ 0x80010000 }	},
+    { { 0x807fffff },	{ 0x807fffff }	},
+    
+    /* Inf	*/
+    { { 0x7f800000 },	{ 0x3fc90fdb } },	/* +Pi/2	*/
+    { { 0xff800000 },	{ 0xbfc90fdb } },	/* -Pi/2	*/
+    
+    /* Some values	*/
+    { { .fl=  0x0.ffffffp0 },	{ 0x3f490fda } },	/* Pi/4	*/
+    { { .fl=  1.0 },		{ 0x3f490fdb } },	/* Pi/4	*/
+    { { .fl=  0x1.000002p0 },	{ 0x3f490fdc } },	/* Pi/4	*/
+
+    { { .fl= -0x0.ffffffp0 },	{ 0xbf490fda } },	/* -Pi/4 */
+    { { .fl= -1.0 },		{ 0xbf490fdb } },	/* -Pi/4 */
+    { { .fl= -0x1.000002p0 },	{ 0xbf490fdc } },	/* -Pi/4 */
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]:  %#lx\n", index - 1, v.lo);
+#endif
+    exit (index ? index : -1);
+}
+
+int main ()
+{
+    union lofl_u x, z;
+    int i;
+    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	x.lo = pgm_read_dword (& t[i].x);
+	z.lo = pgm_read_dword (& t[i].z);
+	v.fl = atan (x.fl);
+	/* Comparison is integer to verify the zero sign.	*/
+	if (v.lo != z.lo)
+	    x_exit (i+1);
+    }
+    return 0;
+}
diff --git a/tests/simulate/math/atan-500.c b/tests/simulate/math/atan-500.c
new file mode 100644
index 0000000..57573f2
--- /dev/null
+++ b/tests/simulate/math/atan-500.c
@@ -0,0 +1,579 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of atan() function. 500 random cases.
+   $Id$
+ */
+#include <math.h>
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+volatile union lofl_u v = { .lo = 1 };
+
+PROGMEM const struct {		/* Table of test cases.	*/
+    long x;		/* argument	*/
+    long z;		/* atan(x)	*/
+} t[] = {
+
+    /* x, atan(x)	*/
+    { 0xbf449eeb,0xbf27ab05 }, /*   1: -7.6804990e-01 -6.5495330e-01 */
+    { 0xb84cdc3e,0xb84cdc3e }, /*   2: -4.8842507e-05 -4.8842507e-05 */
+    { 0x4012ebdf,0x3f947a16 }, /*   3:  2.2956464e+00  1.1599758e+00 */
+    { 0xbf6e291d,0xbf3fd301 }, /*   4: -9.3031484e-01 -7.4931341e-01 */
+    { 0xbeed6d6e,0xbede50ad }, /*   5: -4.6372551e-01 -4.3420926e-01 */
+    { 0xbf1437c6,0xbf065a6c }, /*   6: -5.7897604e-01 -5.2481723e-01 */
+    { 0xbfbd1923,0xbf79ca66 }, /*   7: -1.4773296e+00 -9.7574461e-01 */
+    { 0xbff02b32,0xbf8a627e }, /*   8: -1.8763182e+00 -1.0811307e+00 */
+    { 0x3f8c5b38,0x3f54d74b }, /*   9:  1.0965338e+00  8.3141011e-01 */
+    { 0xbd35f0f4,0xbd35d25b }, /*  10: -4.4419244e-02 -4.4390064e-02 */
+    { 0x335fd8ab,0x335fd8ab }, /*  11:  5.2118292e-08  5.2118292e-08 */
+    { 0x3ea8bbe5,0x3ea2feb1 }, /*  12:  3.2955852e-01  3.1834939e-01 */
+    { 0xbef6c86c,0xbee5f600 }, /*  13: -4.8199785e-01 -4.4914246e-01 */
+    { 0x3f15dfc0,0x3f079711 }, /*  14:  5.8544540e-01  5.2964884e-01 */
+    { 0x3e68deee,0x3e64f9fe }, /*  15:  2.2741291e-01  2.2360989e-01 */
+    { 0xbec34f44,0xbeba9604 }, /*  16: -3.8146412e-01 -3.6442578e-01 */
+    { 0x3f17aaea,0x3f08ebfb }, /*  17:  5.9245169e-01  5.3485078e-01 */
+    { 0xbec5f029,0xbebce06d }, /*  18: -3.8659790e-01 -3.6889973e-01 */
+    { 0xb8cf288a,0xb8cf288a }, /*  19: -9.8780802e-05 -9.8780802e-05 */
+    { 0xbf54c3e4,0xbf318470 }, /*  20: -8.3111405e-01 -6.9342709e-01 */
+    { 0x3f1a9653,0x3f0b1271 }, /*  21:  6.0385627e-01  5.4325014e-01 */
+    { 0xbee3fff7,0xbed68073 }, /*  22: -4.4531223e-01 -4.1894874e-01 */
+    { 0x08694f3f,0x08694f3f }, /*  23:  7.0209040e-34  7.0209040e-34 */
+    { 0xbe79c23e,0xbe74f9c6 }, /*  24: -2.4390504e-01 -2.3923406e-01 */
+    { 0x3d34df74,0x3d34c164 }, /*  25:  4.4158414e-02  4.4129744e-02 */
+    { 0x3e0a0218,0x3e092e7c }, /*  26:  1.3477361e-01  1.3396639e-01 */
+    { 0xb3428e1b,0xb3428e1b }, /*  27: -4.5298389e-08 -4.5298389e-08 */
+    { 0x3ee154a3,0x3ed4451a }, /*  28:  4.4009885e-01  4.1458970e-01 */
+    { 0x409e2552,0x3faf81bf }, /*  29:  4.9420557e+00  1.3711470e+00 */
+    { 0xbee5895d,0xbed7c861 }, /*  30: -4.4831362e-01 -4.2145064e-01 */
+    { 0x3de2a29e,0x3de1b783 }, /*  31:  1.1066173e-01  1.1021330e-01 */
+    { 0x3f3cf576,0x3f22c760 }, /*  32:  7.3812044e-01  6.3585472e-01 */
+    { 0xbe92c0a5,0xbe8eebc0 }, /*  33: -2.8662601e-01 -2.7914238e-01 */
+    { 0x3f7c148f,0x3f471646 }, /*  34:  9.8468870e-01  7.7768362e-01 */
+    { 0x3e8a0471,0x3e86d01b }, /*  35:  2.6956514e-01  2.6330647e-01 */
+    { 0xbfef3327,0xbf8a2b73 }, /*  36: -1.8687485e+00 -1.0794510e+00 */
+    { 0x3f0dfce4,0x3f01a358 }, /*  37:  5.5464005e-01  5.0639868e-01 */
+    { 0x3eda754b,0x3ece7bf6 }, /*  38:  4.2667612e-01  4.0328950e-01 */
+    { 0x3f1ac22e,0x3f0b3292 }, /*  39:  6.0452545e-01  5.4374039e-01 */
+    { 0xbee07cf5,0xbed3904f }, /*  40: -4.3845335e-01 -4.1321036e-01 */
+    { 0x4139214f,0x3fbe06e0 }, /*  41:  1.1570632e+01  1.4845848e+00 */
+    { 0x3f68fbe1,0x3f3d0566 }, /*  42:  9.1009337e-01  7.3836362e-01 */
+    { 0xbda5892f,0xbda52d42 }, /*  43: -8.0828063e-02 -8.0652729e-02 */
+    { 0xbd4abfd0,0xbd4a957c }, /*  44: -4.9499333e-02 -4.9458966e-02 */
+    { 0xbeb1f50a,0xbeab44fd }, /*  45: -3.4757262e-01 -3.3451071e-01 */
+    { 0x3f5e3a2a,0x3f370352 }, /*  46:  8.6807501e-01  7.1489441e-01 */
+    { 0x40070737,0x3f90685a }, /*  47:  2.1098154e+00  1.1281846e+00 */
+    { 0x3f6aac73,0x3f3df13a }, /*  48:  9.1669387e-01  7.4196208e-01 */
+    { 0x3ebec159,0x3eb69933 }, /*  49:  3.7256888e-01  3.5663757e-01 */
+    { 0xbf17c717,0xbf0900d5 }, /*  50: -5.9288162e-01 -5.3516895e-01 */
+    { 0xbf170fc9,0xbf087909 }, /*  51: -5.9008461e-01 -5.3309685e-01 */
+    { 0x3e158cb9,0x3e147ff6 }, /*  52:  1.4604463e-01  1.4501938e-01 */
+    { 0xbf7b3bc5,0xbf46a806 }, /*  53: -9.8138076e-01 -7.7600133e-01 */
+    { 0xbfe809e2,0xbf8889a6 }, /*  54: -1.8128016e+00 -1.0667007e+00 */
+    { 0xbe392c41,0xbe373172 }, /*  55: -1.8083288e-01 -1.7889956e-01 */
+    { 0x43422629,0x3fc86714 }, /*  56:  1.9414906e+02  1.5656457e+00 */
+    { 0x3f8d2914,0x3f5591a7 }, /*  57:  1.1028161e+00  8.3425373e-01 */
+    { 0x3eebc65d,0x3edcf40e }, /*  58:  4.6049777e-01  4.3154949e-01 */
+    { 0x3f0c8ce5,0x3f008940 }, /*  59:  5.4902488e-01  5.0209427e-01 */
+    { 0x3f8d8474,0x3f55e400 }, /*  60:  1.1056046e+00  8.3551025e-01 */
+    { 0xbfaa3415,0xbf6d0db1 }, /*  61: -1.3297144e+00 -9.2599016e-01 */
+    { 0xbea8b812,0xbea2fb3e }, /*  62: -3.2952935e-01 -3.1832308e-01 */
+    { 0x3ede70c0,0x3ed1d7fb }, /*  63:  4.3445396e-01  4.0985093e-01 */
+    { 0x3f13eda3,0x3f0622df }, /*  64:  5.7784480e-01  5.2396959e-01 */
+    { 0xc3b6b564,0xbfc8b62e }, /*  65: -3.6541711e+02 -1.5680597e+00 */
+    { 0x3e7f493a,0x3e7a2fa3 }, /*  66:  2.4930277e-01  2.4432234e-01 */
+    { 0x3e856d63,0x3e828634 }, /*  67:  2.6060018e-01  2.5493014e-01 */
+    { 0x164c1761,0x164c1761 }, /*  68:  1.6486366e-25  1.6486366e-25 */
+    { 0xbf57272a,0xbf32ec53 }, /*  69: -8.4044135e-01 -6.9891852e-01 */
+    { 0xbe04f328,0xbe0435d3 }, /*  70: -1.2983382e-01 -1.2911157e-01 */
+    { 0xbf7dcfa5,0xbf47f67a }, /*  71: -9.9144965e-01 -7.8110468e-01 */
+    { 0x3ea7a473,0x3ea20276 }, /*  72:  3.2742652e-01  3.1642503e-01 */
+    { 0x3eead0df,0x3edc295f }, /*  73:  4.5862481e-01  4.3000314e-01 */
+    { 0xbfb15a0a,0xbf721523 }, /*  74: -1.3855603e+00 -9.4563502e-01 */
+    { 0xbf1c0ba0,0xbf0c234e }, /*  75: -6.0955238e-01 -5.4741371e-01 */
+    { 0xbf2383d1,0xbf11836f }, /*  76: -6.3873011e-01 -5.6841177e-01 */
+    { 0xbeacf4b8,0xbea6cb3a }, /*  77: -3.3780456e-01 -3.2576925e-01 */
+    { 0x3f651142,0x3f3adcce }, /*  78:  8.9479458e-01  7.2993171e-01 */
+    { 0x3df107fc,0x3defed70 }, /*  79:  1.1769101e-01  1.1715209e-01 */
+    { 0x3ef025d0,0x3ee08ca6 }, /*  80:  4.6903849e-01  4.3857306e-01 */
+    { 0xbe7c3b32,0xbe774eda }, /*  81: -2.4631956e-01 -2.4151173e-01 */
+    { 0x3b7e453a,0x3b7e44e6 }, /*  82:  3.8798586e-03  3.8798391e-03 */
+    { 0xbf718ccb,0xbf41a112 }, /*  83: -9.4355458e-01 -7.5636399e-01 */
+    { 0x3f43e34e,0x3f2734db }, /*  84:  7.6518714e-01  6.5315026e-01 */
+    { 0x3f4e75ec,0x3f2dbe39 }, /*  85:  8.0648685e-01  6.7868382e-01 */
+    { 0xc30bc179,0xbfc82564 }, /*  86: -1.3975575e+02 -1.5636411e+00 */
+    { 0xbeea3c27,0xbedbae72 }, /*  87: -4.5749018e-01 -4.2906529e-01 */
+    { 0xbf502008,0xbf2ebf96 }, /*  88: -8.1298876e-01 -6.8261087e-01 */
+    { 0x3e0abc55,0x3e09e562 }, /*  89:  1.3548405e-01  1.3466409e-01 */
+    { 0x3e2ea54e,0x3e2cfb37 }, /*  90:  1.7055246e-01  1.6892706e-01 */
+    { 0x3f8ca6ab,0x3f551bbb }, /*  91:  1.0988363e+00  8.3245438e-01 */
+    { 0xbf5ba8f5,0xbf358aab }, /*  92: -8.5804683e-01 -7.0914716e-01 */
+    { 0x41556039,0x3fbf7b55 }, /*  93:  1.3335992e+01  1.4959513e+00 */
+    { 0xbeab84ec,0xbea580d2 }, /*  94: -3.3499849e-01 -3.2324845e-01 */
+    { 0x3f199475,0x3f0a5527 }, /*  95:  5.9992152e-01  5.4036182e-01 */
+    { 0xbee5211e,0xbed7718e }, /*  96: -4.4751829e-01 -4.2078823e-01 */
+    { 0x3e62c430,0x3e5f2a32 }, /*  97:  2.2145152e-01  2.1793440e-01 */
+    { 0xbf19a96f,0xbf0a6493 }, /*  98: -6.0024160e-01 -5.4059714e-01 */
+    { 0xbf99535d,0xbf600bb5 }, /*  99: -1.1978565e+00 -8.7517864e-01 */
+    { 0xbee9eedc,0xbedb6e83 }, /* 100: -4.5690048e-01 -4.2857751e-01 */
+    { 0xbedff68e,0xbed31f89 }, /* 101: -4.3742794e-01 -4.1234997e-01 */
+    { 0x3ef4c240,0x3ee450dd }, /* 102:  4.7804451e-01  4.4592944e-01 */
+    { 0xc0adf82c,0xbfb1c720 }, /* 103: -5.4365444e+00 -1.3888893e+00 */
+    { 0x44f9df4e,0x3fc8ff76 }, /* 104:  1.9989783e+03  1.5702960e+00 */
+    { 0x3ee87af1,0x3eda3a7f }, /* 105:  4.5406297e-01  4.2622754e-01 */
+    { 0x3ee22694,0x3ed4f4df }, /* 106:  4.4170058e-01  4.1593072e-01 */
+    { 0xbf1c381f,0xbf0c43bd }, /* 107: -6.1023134e-01 -5.4790860e-01 */
+    { 0x3f41c389,0x3f25dc84 }, /* 108:  7.5688988e-01  6.4789605e-01 */
+    { 0x3f738a05,0x3f42ad6b }, /* 109:  9.5132476e-01  7.6045865e-01 */
+    { 0x3bcbdd23,0x3bcbdc77 }, /* 110:  6.2214299e-03  6.2213498e-03 */
+    { 0xbf497085,0xbf2aabe4 }, /* 111: -7.8687316e-01 -6.6668534e-01 */
+    { 0xbeb42a98,0xbead3ce8 }, /* 112: -3.5188746e-01 -3.3835530e-01 */
+    { 0xbedfaca6,0xbed2e17c }, /* 113: -4.3686408e-01 -4.1187656e-01 */
+    { 0x3f79a923,0x3f45da4b }, /* 114:  9.7523707e-01  7.7286214e-01 */
+    { 0x3f172aee,0x3f088d2b }, /* 115:  5.9049881e-01  5.3340405e-01 */
+    { 0xbeaf858f,0xbea917e4 }, /* 116: -3.4281585e-01 -3.3026040e-01 */
+    { 0xbe742d2f,0xbe6fb345 }, /* 117: -2.3845361e-01 -2.3408230e-01 */
+    { 0x3ee7efd9,0x3ed9c722 }, /* 118:  4.5300177e-01  4.2534739e-01 */
+    { 0x3fba9c24,0x3f783672 }, /* 119:  1.4578900e+00  9.6958077e-01 */
+    { 0x3eb40ded,0x3ead2365 }, /* 120:  3.5166875e-01  3.3816066e-01 */
+    { 0x3fe58f02,0x3f87f44f }, /* 121:  1.7934268e+00  1.0621432e+00 */
+    { 0xc00e9d28,0xbf931178 }, /* 122: -2.2283421e+00 -1.1489706e+00 */
+    { 0x3e98463b,0x3e940241 }, /* 123:  2.9741082e-01  2.8907970e-01 */
+    { 0x3c341371,0x3c341196 }, /* 124:  1.0990963e-02  1.0990521e-02 */
+    { 0x3f13e01e,0x3f0618bc }, /* 125:  5.7763851e-01  5.2381492e-01 */
+    { 0x42825bc8,0x3fc71928 }, /* 126:  6.5179260e+01  1.5554552e+00 */
+    { 0xbf910e10,0xbf5907e7 }, /* 127: -1.1332417e+00 -8.4777683e-01 */
+    { 0x3edf55fe,0x3ed298b3 }, /* 128:  4.3620294e-01  4.1132125e-01 */
+    { 0x3ffbed5b,0x3f8ce3d6 }, /* 129:  1.9681810e+00  1.1007030e+00 */
+    { 0xbd152770,0xbd151693 }, /* 130: -3.6414564e-02 -3.6398482e-02 */
+    { 0xb97b28b6,0xb97b28b6 }, /* 131: -2.3952391e-04 -2.3952391e-04 */
+    { 0xbee4b87b,0xbed71a5a }, /* 132: -4.4671997e-01 -4.2012292e-01 */
+    { 0xbe93f6e8,0xbe900a47 }, /* 133: -2.8899312e-01 -2.8132841e-01 */
+    { 0x3f1d3cad,0x3f0d0142 }, /* 134:  6.1420709e-01  5.5080044e-01 */
+    { 0x3eb29f39,0x3eabdcc4 }, /* 135:  3.4887102e-01  3.3566868e-01 */
+    { 0xbea8ec49,0xbea32a56 }, /* 136: -3.2992771e-01 -3.1868237e-01 */
+    { 0xdca37fff,0xbfc90fdb }, /* 137: -3.6816924e+17 -1.5707964e+00 */
+    { 0x3f981681,0x3f5f0632 }, /* 138:  1.1881868e+00  8.7118828e-01 */
+    { 0xbf3d673f,0xbf2310f8 }, /* 139: -7.3985666e-01 -6.3697767e-01 */
+    { 0xbf1b8443,0xbf0bc086 }, /* 140: -6.0748690e-01 -5.4590642e-01 */
+    { 0x3e93ec5e,0x3e90008d }, /* 141:  2.8891271e-01  2.8125420e-01 */
+    { 0x42f9b71a,0x3fc8096b }, /* 142:  1.2485762e+02  1.5627874e+00 */
+    { 0x41e92a77,0x3fc4ac04 }, /* 143:  2.9145735e+01  1.5364995e+00 */
+    { 0x3e4ff56d,0x3e4d2b20 }, /* 144:  2.0308466e-01  2.0035982e-01 */
+    { 0xbe31bda8,0xbe2ffcc8 }, /* 145: -1.7357504e-01 -1.7186272e-01 */
+    { 0x37744468,0x37744468 }, /* 146:  1.4559460e-05  1.4559460e-05 */
+    { 0xbf182d9f,0xbf094ca5 }, /* 147: -5.9444612e-01 -5.3632575e-01 */
+    { 0x3df0e27e,0x3defc875 }, /* 148:  1.1761950e-01  1.1708156e-01 */
+    { 0x3f1a8a94,0x3f0b09d6 }, /* 149:  6.0367703e-01  5.4311883e-01 */
+    { 0xbc48dbee,0xbc48d95b }, /* 150: -1.2259467e-02 -1.2258853e-02 */
+    { 0xbf782f0c,0xbf4517f3 }, /* 151: -9.6946788e-01 -7.6989669e-01 */
+    { 0xbe9035c3,0xbe8c917e }, /* 152: -2.8166017e-01 -2.7454752e-01 */
+    { 0xbf1ad191,0xbf0b3dd6 }, /* 153: -6.0476023e-01 -5.4391229e-01 */
+    { 0xbfe7128f,0xbf884fc3 }, /* 154: -1.8052539e+00 -1.0649341e+00 */
+    { 0xbf99c9cb,0xbf606cd0 }, /* 155: -1.2014707e+00 -8.7666035e-01 */
+    { 0x3eb7fa68,0x3eb09f2c }, /* 156:  3.5933232e-01  3.4496439e-01 */
+    { 0xc187a6eb,0xbfc1859e }, /* 157: -1.6956503e+01 -1.5118902e+00 */
+    { 0x3f0ba1f7,0x3effa8eb }, /* 158:  5.4544014e-01  4.9933562e-01 */
+    { 0x3f52c5a2,0x3f30557d }, /* 159:  8.2332814e-01  6.8880445e-01 */
+    { 0x3ff3736f,0x3f8b1a67 }, /* 160:  1.9019603e+00  1.0867432e+00 */
+    { 0xbf48d0c8,0xbf2a491f }, /* 161: -7.8443575e-01 -6.6517824e-01 */
+    { 0xbf123379,0xbf04d66c }, /* 162: -5.7109791e-01 -5.1889682e-01 */
+    { 0xbf0db163,0xbf016993 }, /* 163: -5.5348796e-01 -5.0551718e-01 */
+    { 0x3eb4cc5b,0x3eadccca }, /* 164:  3.5312161e-01  3.3945304e-01 */
+    { 0xbe8a0a98,0xbe86d5d7 }, /* 165: -2.6961207e-01 -2.6335022e-01 */
+    { 0xbe805876,0xbe7b822d }, /* 166: -2.5067490e-01 -2.4561377e-01 */
+    { 0x3f1be344,0x3f0c05df }, /* 167:  6.0893655e-01  5.4696459e-01 */
+    { 0xc034bc17,0xbf9d7fdd }, /* 168: -2.8239801e+00 -1.2304646e+00 */
+    { 0x3fbfe0c3,0x3f7b8523 }, /* 169:  1.4990467e+00  9.8250026e-01 */
+    { 0xbf541002,0xbf3119e7 }, /* 170: -8.2836926e-01 -6.9180149e-01 */
+    { 0x3fb17770,0x3f722944 }, /* 171:  1.3864574e+00  9.4594216e-01 */
+    { 0xbb188927,0xbb188915 }, /* 172: -2.3275109e-03 -2.3275067e-03 */
+    { 0x3eb73593,0x3eaff0c4 }, /* 173:  3.5783061e-01  3.4363377e-01 */
+    { 0x3f1c78ca,0x3f0c72d7 }, /* 174:  6.1121809e-01  5.4862732e-01 */
+    { 0x3e2702d0,0x3e258da6 }, /* 175:  1.6309667e-01  1.6167316e-01 */
+    { 0xbef38753,0xbee35048 }, /* 176: -4.7564182e-01 -4.4397187e-01 */
+    { 0xbe80733b,0xbe7bb48c }, /* 177: -2.5087914e-01 -2.4580592e-01 */
+    { 0xbf1e6a9d,0xbf0ddc0a }, /* 178: -6.1881429e-01 -5.5413878e-01 */
+    { 0xbf7c6236,0xbf473dad }, /* 179: -9.8587358e-01 -7.7828485e-01 */
+    { 0xfbf52b5b,0xbfc90fdb }, /* 180: -2.5459842e+36 -1.5707964e+00 */
+    { 0x4056de2d,0x3fa401d8 }, /* 181:  3.3573105e+00  1.2813063e+00 */
+    { 0xbee70750,0xbed90610 }, /* 182: -4.5122766e-01 -4.2387438e-01 */
+    { 0xc00d4a6a,0xbf929f05 }, /* 183: -2.2076669e+00 -1.1454779e+00 */
+    { 0x42e89b0f,0x3fc7f61d }, /* 184:  1.1630285e+02  1.5621983e+00 */
+    { 0x3f6f180d,0x3f4052db }, /* 185:  9.3396074e-01  7.5126427e-01 */
+    { 0x3e13d92b,0x3e12d567 }, /* 186:  1.4438312e-01  1.4339219e-01 */
+    { 0xbee891dd,0xbeda4d80 }, /* 187: -4.5423785e-01 -4.2637253e-01 */
+    { 0x3f89ba81,0x3f526e1c }, /* 188:  1.0760041e+00  8.2199264e-01 */
+    { 0x3f5432ae,0x3f312e76 }, /* 189:  8.2889831e-01  6.9211519e-01 */
+    { 0xbf48fc8a,0xbf2a6433 }, /* 190: -7.8510344e-01 -6.6559142e-01 */
+    { 0xbf605c5d,0xbf383985 }, /* 191: -8.7640935e-01 -7.1962768e-01 */
+    { 0x3f62394f,0x3f39464c }, /* 192:  8.8368696e-01  7.2372890e-01 */
+    { 0x3f16fa58,0x3f086921 }, /* 193:  5.8975744e-01  5.3285414e-01 */
+    { 0x3ed6ad4a,0x3ecb46dd }, /* 194:  4.1929084e-01  3.9702502e-01 */
+    { 0xbf1495b2,0xbf06a0b9 }, /* 195: -5.8040917e-01 -5.2588993e-01 */
+    { 0x3e9c0383,0x3e976ffa }, /* 196:  3.0471429e-01  2.9577619e-01 */
+    { 0x3eecc709,0x3eddc7aa }, /* 197:  4.6245602e-01  4.3316394e-01 */
+    { 0xbfdbdb9c,0xbf8593c5 }, /* 198: -1.7176394e+00 -1.0435721e+00 */
+    { 0x3f18044a,0x3f092e19 }, /* 199:  5.9381545e-01  5.3585964e-01 */
+    { 0x402cd066,0x3f9ba9ba }, /* 200:  2.7002196e+00  1.2161171e+00 */
+    { 0x3eb468cf,0x3ead7442 }, /* 201:  3.5236213e-01  3.3877760e-01 */
+    { 0xc081f184,0xbfaa27ce }, /* 202: -4.0607319e+00 -1.3293397e+00 */
+    { 0xaf89900a,0xaf89900a }, /* 203: -2.5022501e-10 -2.5022501e-10 */
+    { 0x3e6c9e7b,0x3e6889a2 }, /* 204:  2.3107331e-01  2.2708753e-01 */
+    { 0xbea26ffd,0xbe9d4b6d }, /* 205: -3.1726065e-01 -3.0721608e-01 */
+    { 0xbeea38bc,0xbedbab9e }, /* 206: -4.5746410e-01 -4.2904371e-01 */
+    { 0xbeb2211f,0xbeab6c51 }, /* 207: -3.4790894e-01 -3.3481076e-01 */
+    { 0xc02e62a3,0xbf9c09fc }, /* 208: -2.7247703e+00 -1.2190547e+00 */
+    { 0x3aa90173,0x3aa9016d }, /* 209:  1.2894109e-03  1.2894102e-03 */
+    { 0x3f5a0c1c,0x3f349c25 }, /* 210:  8.5174727e-01  7.0550758e-01 */
+    { 0xbee6a0dd,0xbed8b0eb }, /* 211: -4.5044604e-01 -4.2322478e-01 */
+    { 0x4372dbe5,0x3fc888ee }, /* 212:  2.4285896e+02  1.5666788e+00 */
+    { 0x3e6b2a2b,0x3e672815 }, /* 213:  2.2965305e-01  2.2573884e-01 */
+    { 0xbd297594,0xbd295cda }, /* 214: -4.1371897e-02 -4.1348316e-02 */
+    { 0x3ea218c4,0x3e9cfc2a }, /* 215:  3.1659520e-01  3.0661136e-01 */
+    { 0xbeb02b40,0xbea9ac1a }, /* 216: -3.4407997e-01 -3.3139116e-01 */
+    { 0xbf6694f4,0xbf3bb37b }, /* 217: -9.0071034e-01 -7.3320740e-01 */
+    { 0xc0419b50,0xbfa03261 }, /* 218: -3.0251045e+00 -1.2515374e+00 */
+    { 0x3fe5d9eb,0x3f88060f }, /* 219:  1.7957128e+00  1.0626849e+00 */
+    { 0x3f87fc45,0x3f50cdae }, /* 220:  1.0623862e+00  8.1563842e-01 */
+    { 0x3ee48622,0x3ed6f05f }, /* 221:  4.4633585e-01  4.1980264e-01 */
+    { 0xbf1b8189,0xbf0bbe88 }, /* 222: -6.0744530e-01 -5.4587603e-01 */
+    { 0x3f66fc6e,0x3f3bec91 }, /* 223:  9.0228927e-01  7.3407847e-01 */
+    { 0xbdfadbab,0xbdf99d5a }, /* 224: -1.2248930e-01 -1.2188216e-01 */
+    { 0x41d2c982,0x3fc434cf }, /* 225:  2.6348392e+01  1.5328616e+00 */
+    { 0xbee880c8,0xbeda3f57 }, /* 226: -4.5410752e-01 -4.2626449e-01 */
+    { 0x3ee3424c,0x3ed5e216 }, /* 227:  4.4386518e-01  4.1774052e-01 */
+    { 0xbe6b1860,0xbe67172e }, /* 228: -2.2958517e-01 -2.2567436e-01 */
+    { 0x4075cd7a,0x3fa87552 }, /* 229:  3.8406663e+00  1.3160803e+00 */
+    { 0x3e82c2f1,0x3e80065a }, /* 230:  2.5539353e-01  2.5004846e-01 */
+    { 0x3e6b8bc3,0x3e6784c8 }, /* 231:  2.3002534e-01  2.2609246e-01 */
+    { 0x3ec6045f,0x3ebcf202 }, /* 232:  3.8675210e-01  3.6903387e-01 */
+    { 0xc4d8cc9a,0xbfc8fcf6 }, /* 233: -1.7343938e+03 -1.5702198e+00 */
+    { 0x3dfa30da,0x3df8f50e }, /* 234:  1.2216349e-01  1.2156115e-01 */
+    { 0x3eb5eb63,0x3eaecbd3 }, /* 235:  3.5531148e-01  3.4139881e-01 */
+    { 0x3fd3e42a,0x3f83812e }, /* 236:  1.6554005e+00  1.0273798e+00 */
+    { 0xbf69a9a6,0xbf3d6452 }, /* 237: -9.1274488e-01 -7.3981202e-01 */
+    { 0xbf94366d,0xbf5bc318 }, /* 238: -1.1579109e+00 -8.5844564e-01 */
+    { 0xbee0cb7a,0xbed3d227 }, /* 239: -4.3905240e-01 -4.1371271e-01 */
+    { 0xbf99601d,0xbf60162e }, /* 240: -1.1982456e+00 -8.7533844e-01 */
+    { 0x3de05ccd,0x3ddf78aa }, /* 241:  1.0955200e-01  1.0911687e-01 */
+    { 0xbe6c0a01,0xbe67fcaa }, /* 242: -2.3050691e-01 -2.2654977e-01 */
+    { 0xc04eeddf,0xbfa2ab00 }, /* 243: -3.2332685e+00 -1.2708435e+00 */
+    { 0xbee30c3d,0xbed5b4eb }, /* 244: -4.4345275e-01 -4.1739592e-01 */
+    { 0xbe8f27ef,0xbe8b975d }, /* 245: -2.7960154e-01 -2.7263919e-01 */
+    { 0x3f4586ee,0x3f283cb3 }, /* 246:  7.7159011e-01  6.5717620e-01 */
+    { 0xbe6c7c26,0xbe68690a }, /* 247: -2.3094234e-01 -2.2696319e-01 */
+    { 0x3eecae67,0x3eddb35e }, /* 248:  4.6226808e-01  4.3300909e-01 */
+    { 0x3fae80a4,0x3f701c30 }, /* 249:  1.3633008e+00  9.3793011e-01 */
+    { 0xbe90182e,0xbe8c7615 }, /* 250: -2.8143448e-01 -2.7433839e-01 */
+    { 0x3e062854,0x3e0565d4 }, /* 251:  1.3101321e-01  1.3027126e-01 */
+    { 0xbf44eb42,0xbf27db02 }, /* 252: -7.6921475e-01 -6.5568554e-01 */
+    { 0x3e9a784e,0x3e96060c }, /* 253:  3.0169910e-01  2.9301488e-01 */
+    { 0xbfd33e3c,0xbf8354b8 }, /* 254: -1.6503367e+00 -1.0260229e+00 */
+    { 0xbfe0f2e7,0xbf86d813 }, /* 255: -1.7574128e+00 -1.0534691e+00 */
+    { 0xc04693e4,0xbfa1276d }, /* 256: -3.1027765e+00 -1.2590157e+00 */
+    { 0x457ac134,0x3fc907b0 }, /* 257:  4.0120752e+03  1.5705471e+00 */
+    { 0xc04aa109,0xbfa1e711 }, /* 258: -3.1660788e+00 -1.2648641e+00 */
+    { 0x3ebe283b,0x3eb612b2 }, /* 259:  3.7140068e-01  3.5561138e-01 */
+    { 0xbf3f3c3c,0xbf243f05 }, /* 260: -7.4701285e-01 -6.4158660e-01 */
+    { 0x3f72b110,0x3f423b57 }, /* 261:  9.4801426e-01  7.5871795e-01 */
+    { 0xbeea149b,0xbedb8dbd }, /* 262: -4.5718846e-01 -4.2881575e-01 */
+    { 0x3ee0bc31,0x3ed3c556 }, /* 263:  4.3893579e-01  4.1361493e-01 */
+    { 0xbf3ffdd5,0xbf24bb1a }, /* 264: -7.4996692e-01 -6.4347994e-01 */
+    { 0x3ee904bd,0x3edaacb2 }, /* 265:  4.5511428e-01  4.2709881e-01 */
+    { 0xbf0fd6ab,0xbf030c8d }, /* 266: -5.6186932e-01 -5.1191026e-01 */
+    { 0xbee0c62f,0xbed3cdb7 }, /* 267: -4.3901202e-01 -4.1367885e-01 */
+    { 0x3a7ea608,0x3a7ea603 }, /* 268:  9.7140716e-04  9.7140687e-04 */
+    { 0x405f2a8e,0x3fa55034 }, /* 269:  3.4869723e+00  1.2915101e+00 */
+    { 0xbe5ace91,0xbe5790ac }, /* 270: -2.1367861e-01 -2.1051282e-01 */
+    { 0x3f18343d,0x3f095189 }, /* 271:  5.9454709e-01  5.3640038e-01 */
+    { 0xbe669351,0xbe62cb01 }, /* 272: -2.2517134e-01 -2.2147752e-01 */
+    { 0xbdba7d36,0xbdb9f9e9 }, /* 273: -9.1059133e-02 -9.0808697e-02 */
+    { 0x3e1e67ba,0x3e1d28d4 }, /* 274:  1.5469256e-01  1.5347606e-01 */
+    { 0x40632e73,0x3fa5e9df }, /* 275:  3.5497100e+00  1.2961997e+00 */
+    { 0x3ea04f39,0x3e9b5be3 }, /* 276:  3.1310442e-01  3.0343542e-01 */
+    { 0xbe3006c3,0xbe2e529a }, /* 277: -1.7190079e-01 -1.7023697e-01 */
+    { 0xbee9145f,0xbedab9a5 }, /* 278: -4.5523354e-01 -4.2719761e-01 */
+    { 0x3c2c4813,0x3c2c4673 }, /* 279:  1.0515231e-02  1.0514843e-02 */
+    { 0xbd858812,0xbd8557c1 }, /* 280: -6.5200940e-02 -6.5108784e-02 */
+    { 0x3f0a3b95,0x3efd7f3b }, /* 281:  5.3997165e-01  4.9511132e-01 */
+    { 0xbfaa7732,0xbf6d3e22 }, /* 282: -1.3317626e+00 -9.2672932e-01 */
+    { 0x3ee7ad40,0x3ed98fdd }, /* 283:  4.5249367e-01  4.2492571e-01 */
+    { 0xbf1bf9a9,0xbf0c1635 }, /* 284: -6.0927826e-01 -5.4721385e-01 */
+    { 0xbf9c285e,0xbf6258cd }, /* 285: -1.2199819e+00 -8.8416749e-01 */
+    { 0xbeeab050,0xbedc0e78 }, /* 286: -4.5837641e-01 -4.2979789e-01 */
+    { 0x3acbc99b,0x3acbc990 }, /* 287:  1.5547754e-03  1.5547741e-03 */
+    { 0x3f206b84,0x3f0f4d9f }, /* 288:  6.2664056e-01  5.5977815e-01 */
+    { 0xbf7ac142,0xbf46698f }, /* 289: -9.7951138e-01 -7.7504820e-01 */
+    { 0x3e8dc702,0x3e8a4fcc }, /* 290:  2.7690893e-01  2.7014005e-01 */
+    { 0x3fec7636,0x3f898e04 }, /* 291:  1.8473575e+00  1.0746465e+00 */
+    { 0x3ea1377b,0x3e9c2f4d }, /* 292:  3.1487641e-01  3.0504838e-01 */
+    { 0xbea1cb1b,0xbe9cb591 }, /* 293: -3.1600270e-01 -3.0607274e-01 */
+    { 0xbf1152e0,0xbf042cd0 }, /* 294: -5.6767082e-01 -5.1630878e-01 */
+    { 0xbee14da9,0xbed43f41 }, /* 295: -4.4004562e-01 -4.1454509e-01 */
+    { 0x3f5bafca,0x3f358e9a }, /* 296:  8.5815108e-01  7.0920718e-01 */
+    { 0x3fa80258,0x3f6b7477 }, /* 297:  1.3125715e+00  9.1974586e-01 */
+    { 0xbf7651bd,0xbf442100 }, /* 298: -9.6218473e-01 -7.6612854e-01 */
+    { 0x3d57b5bb,0x3d5782c4 }, /* 299:  5.2663546e-02  5.2614942e-02 */
+    { 0x3f1a9bb5,0x3f0b1663 }, /* 300:  6.0393840e-01  5.4331034e-01 */
+    { 0xbf8780dc,0xbf505983 }, /* 301: -1.0586200e+00 -8.1386584e-01 */
+    { 0x3e75ba4b,0x3e712ae3 }, /* 302:  2.3996846e-01  2.3551516e-01 */
+    { 0xbe5248d4,0xbe4f66b0 }, /* 303: -2.0535594e-01 -2.0254016e-01 */
+    { 0x3fc77f2c,0x3f800b19 }, /* 304:  1.5585685e+00  1.0003387e+00 */
+    { 0xbf214f4f,0xbf0ff0ee }, /* 305: -6.3011640e-01 -5.6227005e-01 */
+    { 0xbc864c27,0xbc864913 }, /* 306: -1.6393734e-02 -1.6392266e-02 */
+    { 0xc1748d0e,0xbfc0b306 }, /* 307: -1.5284437e+01 -1.5054634e+00 */
+    { 0x3e758bc2,0x3e70fee2 }, /* 308:  2.3979095e-01  2.3534730e-01 */
+    { 0xbeb02954,0xbea9aa62 }, /* 309: -3.4406531e-01 -3.3137804e-01 */
+    { 0xbd6ac63d,0xbd6a848c }, /* 310: -5.7317961e-02 -5.7255313e-02 */
+    { 0xbf9aa56c,0xbf611ffd }, /* 311: -1.2081733e+00 -8.7939435e-01 */
+    { 0x3f52258f,0x3f2ff5f8 }, /* 312:  8.2088560e-01  6.8734694e-01 */
+    { 0xb6840046,0xb6840046 }, /* 313: -3.9339384e-06 -3.9339384e-06 */
+    { 0xaa8132b4,0xaa8132b4 }, /* 314: -2.2950186e-13 -2.2950186e-13 */
+    { 0x3eee333e,0x3edef362 }, /* 315:  4.6523470e-01  4.3545061e-01 */
+    { 0xbeb8cce4,0xbeb1597e }, /* 316: -3.6093819e-01 -3.4638590e-01 */
+    { 0xbf1b84d7,0xbf0bc0f2 }, /* 317: -6.0749573e-01 -5.4591286e-01 */
+    { 0x3e3d987c,0x3e3b78fd }, /* 318:  1.8515199e-01  1.8307872e-01 */
+    { 0xbf8e0a99,0xbf565c7a }, /* 319: -1.1096984e+00 -8.3734858e-01 */
+    { 0xbf1b87a5,0xbf0bc2fe }, /* 320: -6.0753852e-01 -5.4594409e-01 */
+    { 0x3f622aff,0x3f393e43 }, /* 321:  8.8346857e-01  7.2360629e-01 */
+    { 0xbf8e25e7,0xbf5674f0 }, /* 322: -1.1105317e+00 -8.3772182e-01 */
+    { 0x3f230b0b,0x3f112d96 }, /* 323:  6.3688725e-01  5.6710184e-01 */
+    { 0x3e658e82,0x3e61d2ba }, /* 324:  2.2417644e-01  2.2053042e-01 */
+    { 0x3f12c0a6,0x3f0540c7 }, /* 325:  5.7325208e-01  5.2051967e-01 */
+    { 0xc02d556e,0xbf9bc9bc }, /* 326: -2.7083392e+00 -1.2170939e+00 */
+    { 0x3ea266b6,0x3e9d42ff }, /* 327:  3.1718987e-01  3.0715176e-01 */
+    { 0x3ee8eefd,0x3eda9aad }, /* 328:  4.5494834e-01  4.2696133e-01 */
+    { 0x3f72bfcd,0x3f42431a }, /* 329:  9.4823915e-01  7.5883639e-01 */
+    { 0xbee4cd05,0xbed72b79 }, /* 330: -4.4687667e-01 -4.2025355e-01 */
+    { 0x3dde3569,0x3ddd57c0 }, /* 331:  1.0850031e-01  1.0807753e-01 */
+    { 0x3f1414db,0x3f064044 }, /* 332:  5.7844323e-01  5.2441812e-01 */
+    { 0x3d30a14c,0x3d30854d }, /* 333:  4.3122575e-02  4.3095876e-02 */
+    { 0xbf78990f,0xbf454e8e }, /* 334: -9.7108549e-01 -7.7072990e-01 */
+    { 0x3f1c1e15,0x3f0c30c3 }, /* 335:  6.0983402e-01  5.4761904e-01 */
+    { 0x3f721f4c,0x3f41ee7c }, /* 336:  9.4579005e-01  7.5754523e-01 */
+    { 0xbee3b180,0xbed63ef5 }, /* 337: -4.4471359e-01 -4.1844907e-01 */
+    { 0x3ee73982,0x3ed92fc3 }, /* 338:  4.5161062e-01  4.2419252e-01 */
+    { 0x3e132e3b,0x3e122df1 }, /* 339:  1.4373104e-01  1.4275338e-01 */
+    { 0xbedd1bf0,0xbed0b902 }, /* 340: -4.3185377e-01 -4.0766150e-01 */
+    { 0xbebc1bea,0xbeb44556 }, /* 341: -3.6740047e-01 -3.5209149e-01 */
+    { 0xbf5b064f,0xbf352ce0 }, /* 342: -8.5556501e-01 -7.0771599e-01 */
+    { 0xbee4a0c8,0xbed70698 }, /* 343: -4.4653916e-01 -4.1997218e-01 */
+    { 0xc06eae8a,0xbfa78765 }, /* 344: -3.7294030e+00 -1.3088194e+00 */
+    { 0xbfa81852,0xbf6b849a }, /* 345: -1.3132422e+00 -9.1999209e-01 */
+    { 0xa7adfc10,0xa7adfc10 }, /* 346: -4.8290433e-15 -4.8290433e-15 */
+    { 0xbecc6777,0xbec27a5a }, /* 347: -3.9922687e-01 -3.7983972e-01 */
+    { 0x3ee4ec7f,0x3ed745b5 }, /* 348:  4.4711682e-01  4.2045370e-01 */
+    { 0xbe668803,0xbe62c03f }, /* 349: -2.2512822e-01 -2.2143649e-01 */
+    { 0xb2ce826b,0xb2ce826b }, /* 350: -2.4040864e-08 -2.4040864e-08 */
+    { 0xbf8ba66f,0xbf5432ac }, /* 351: -1.0910167e+00 -8.2889819e-01 */
+    { 0xbdaaeba7,0xbdaa867d }, /* 352: -8.3457284e-02 -8.3264329e-02 */
+    { 0x3f18899b,0x3f099092 }, /* 353:  5.9584969e-01  5.3736222e-01 */
+    { 0xbc585655,0xbc58531d }, /* 354: -1.3204177e-02 -1.3203410e-02 */
+    { 0xbcfd2ccc,0xbcfd182d }, /* 355: -3.0905150e-02 -3.0895317e-02 */
+    { 0xbeaa2e9e,0xbea44cd0 }, /* 356: -3.3238691e-01 -3.2089853e-01 */
+    { 0xbf18ff1b,0xbf09e737 }, /* 357: -5.9764260e-01 -5.3868431e-01 */
+    { 0x3ec8a0f9,0x3ebf369d }, /* 358:  3.9185312e-01  3.7346354e-01 */
+    { 0x3f3d9b91,0x3f2332c5 }, /* 359:  7.4065500e-01  6.3749343e-01 */
+    { 0xbe57c25e,0xbe54a616 }, /* 360: -2.1070239e-01 -2.0766482e-01 */
+    { 0xbf4abb19,0xbf2b778f }, /* 361: -7.9191738e-01 -6.6979307e-01 */
+    { 0x3e33fac1,0x3e3228e9 }, /* 362:  1.7576124e-01  1.7398418e-01 */
+    { 0x364c3a5c,0x364c3a5c }, /* 363:  3.0432338e-06  3.0432338e-06 */
+    { 0x3fd492cf,0x3f83afc3 }, /* 364:  1.6607302e+00  1.0288013e+00 */
+    { 0x3eafd3e0,0x3ea95df5 }, /* 365:  3.4341335e-01  3.3079496e-01 */
+    { 0x3cfa3064,0x3cfa1c7d }, /* 366:  3.0540653e-02  3.0531162e-02 */
+    { 0xbee3d0a4,0xbed658f4 }, /* 367: -4.4495118e-01 -4.1864741e-01 */
+    { 0xbf000000,0xbeed6338 }, /* 368: -5.0000000e-01 -4.6364760e-01 */
+    { 0xbbb4c784,0xbbb4c70c }, /* 369: -5.5169482e-03 -5.5168923e-03 */
+    { 0x3fcd87b0,0x3f81c409 }, /* 370:  1.6057034e+00  1.0137950e+00 */
+    { 0xbf3bd465,0xbf220bdd }, /* 371: -7.3370963e-01 -6.3299352e-01 */
+    { 0x4061eadb,0x3fa5ba0a }, /* 372:  3.5299594e+00  1.2947400e+00 */
+    { 0xbf18bc8d,0xbf09b627 }, /* 373: -5.9662706e-01 -5.3793567e-01 */
+    { 0x3e9341c6,0x3e8f630b }, /* 374:  2.8761119e-01  2.8005251e-01 */
+    { 0x3ee4caaa,0x3ed72982 }, /* 375:  4.4685870e-01  4.2023855e-01 */
+    { 0x41aad82e,0x3fc31293 }, /* 376:  2.1355556e+01  1.5240043e+00 */
+    { 0x3ee5c21e,0x3ed7f7a1 }, /* 377:  4.4874662e-01  4.2181113e-01 */
+    { 0xbf1ee1c0,0xbf0e321e }, /* 378: -6.2063217e-01 -5.5545223e-01 */
+    { 0x3e9be299,0x3e9751dc }, /* 379:  3.0446318e-01  2.9554641e-01 */
+    { 0x3ef56ecf,0x3ee4dd41 }, /* 380:  4.7936103e-01  4.4700053e-01 */
+    { 0x351cbe3a,0x351cbe3a }, /* 381:  5.8391345e-07  5.8391345e-07 */
+    { 0xbe77b1f7,0xbe7306ed }, /* 382: -2.4188982e-01 -2.3733111e-01 */
+    { 0xbeeb1a21,0xbedc65e2 }, /* 383: -4.5918372e-01 -4.3046480e-01 */
+    { 0xbf18bccf,0xbf09b658 }, /* 384: -5.9663099e-01 -5.3793859e-01 */
+    { 0x3f6981f2,0x3f3d4ea8 }, /* 385:  9.1213906e-01  7.3948145e-01 */
+    { 0x3f112a3b,0x3f040e10 }, /* 386:  5.6705064e-01  5.1583958e-01 */
+    { 0x3e6329dd,0x3e5f8b1c }, /* 387:  2.2183938e-01  2.1830410e-01 */
+    { 0xc42ba3eb,0xbfc8e020 }, /* 388: -6.8656122e+02 -1.5693398e+00 */
+    { 0xbf50b7ff,0xbf2f1afa }, /* 389: -8.1530756e-01 -6.8400538e-01 */
+    { 0x3f6c2861,0x3f3ebf14 }, /* 390:  9.2249113e-01  7.4510312e-01 */
+    { 0xbea278b3,0xbe9d5357 }, /* 391: -3.1732711e-01 -3.0727646e-01 */
+    { 0xbee5e04c,0xbed810bf }, /* 392: -4.4897687e-01 -4.2200276e-01 */
+    { 0x3f5e6380,0x3f371ae2 }, /* 393:  8.6870575e-01  7.1525395e-01 */
+    { 0xc06aaf9c,0xbfa6fbfe }, /* 394: -3.6669683e+00 -1.3045652e+00 */
+    { 0xbf13ed9f,0xbf0622dc }, /* 395: -5.7784456e-01 -5.2396941e-01 */
+    { 0x3eddc661,0x3ed14897 }, /* 396:  4.3315414e-01  4.0875694e-01 */
+    { 0x4c4e298b,0x3fc90fda }, /* 397:  5.4044204e+07  1.5707963e+00 */
+    { 0xbf6dc1a2,0xbf3f9b7d }, /* 398: -9.2873585e-01 -7.4846631e-01 */
+    { 0x3db9fb6e,0x3db97932 }, /* 399:  9.0811595e-02  9.0563193e-02 */
+    { 0xbeb06595,0xbea9e040 }, /* 400: -3.4452501e-01 -3.3178902e-01 */
+    { 0xbeeb2698,0xbedc702e }, /* 401: -4.5927882e-01 -4.3054336e-01 */
+    { 0x40a79f9f,0x3fb0eaaf }, /* 402:  5.2382350e+00  1.3821620e+00 */
+    { 0xbf773db5,0xbf449b4f }, /* 403: -9.6578532e-01 -7.6799482e-01 */
+    { 0xc1401221,0xbfbe6c7b }, /* 404: -1.2004426e+01 -1.4876856e+00 */
+    { 0xd142e585,0xbfc90fdb }, /* 405: -5.2317147e+10 -1.5707964e+00 */
+    { 0x3d480f4b,0x3d47e6a0 }, /* 406:  4.8842710e-02  4.8803926e-02 */
+    { 0xbd47bedb,0xbd479661 }, /* 407: -4.8765998e-02 -4.8727397e-02 */
+    { 0x3f19f366,0x3f0a9aec }, /* 408:  6.0137022e-01  5.4142642e-01 */
+    { 0x3f74c6ab,0x3f43533c }, /* 409:  9.5615643e-01  7.6298881e-01 */
+    { 0x3dd5a189,0x3dd4dc76 }, /* 410:  1.0431201e-01  1.0393612e-01 */
+    { 0xbe9a27d0,0xbe95bc42 }, /* 411: -3.0108500e-01 -2.9245192e-01 */
+    { 0xbf3e54a6,0xbf23aa20 }, /* 412: -7.4347913e-01 -6.3931465e-01 */
+    { 0xbc0f1d24,0xbc0f1c35 }, /* 413: -8.7349750e-03 -8.7347524e-03 */
+    { 0x3df32f0e,0x3df20cea }, /* 414:  1.1874209e-01  1.1818869e-01 */
+    { 0x398a2489,0x398a2489 }, /* 415:  2.6348632e-04  2.6348632e-04 */
+    { 0x414892bf,0x3fbedf6e }, /* 416:  1.2535827e+01  1.4911935e+00 */
+    { 0xbf16b438,0xbf083514 }, /* 417: -5.8868742e-01 -5.3205991e-01 */
+    { 0x3f1a4abf,0x3f0adb08 }, /* 418:  6.0270303e-01  5.4240465e-01 */
+    { 0x3e88c874,0x3e85a958 }, /* 419:  2.6715434e-01  2.6105762e-01 */
+    { 0xbf1e47b7,0xbf0dc2cc }, /* 420: -6.1828178e-01 -5.5375361e-01 */
+    { 0xbf5e4d55,0xbf370e40 }, /* 421: -8.6836749e-01 -7.1506119e-01 */
+    { 0xbf57b45e,0xbf333efd }, /* 422: -8.4259593e-01 -7.0017987e-01 */
+    { 0xbf1e7cfc,0xbf0de953 }, /* 423: -6.1909461e-01 -5.5434150e-01 */
+    { 0xbf1907f1,0xbf09edba }, /* 424: -5.9777743e-01 -5.3878367e-01 */
+    { 0x3f1bbb59,0x3f0be8be }, /* 425:  6.0832745e-01  5.4652011e-01 */
+    { 0xbf5fa96a,0xbf37d42c }, /* 426: -8.7367880e-01 -7.1808124e-01 */
+    { 0xbef6f2a2,0xbee6183f }, /* 427: -4.8231989e-01 -4.4940373e-01 */
+    { 0x3fadea42,0x3f6fb2be }, /* 428:  1.3587115e+00  9.3632114e-01 */
+    { 0x3ea48a48,0x3e9f33e9 }, /* 429:  3.2136750e-01  3.1094292e-01 */
+    { 0xbfa407f8,0xbf687d19 }, /* 430: -1.2814932e+00 -9.0815884e-01 */
+    { 0x3f56e5df,0x3f32c60b }, /* 431:  8.3944505e-01  6.9833440e-01 */
+    { 0x3e9ea4e0,0x3e99d73f }, /* 432:  3.0985165e-01  3.0047032e-01 */
+    { 0x3e921a00,0x3e8e51b4 }, /* 433:  2.8535461e-01  2.7796710e-01 */
+    { 0xc0fbd595,0xbfb8e24c }, /* 434: -7.8698220e+00 -1.4444060e+00 */
+    { 0x3e31ff0a,0x3e303c40 }, /* 435:  1.7382446e-01  1.7210484e-01 */
+    { 0x3eaac921,0x3ea4d7e7 }, /* 436:  3.3356574e-01  3.2195970e-01 */
+    { 0xbf1959d7,0xbf0a2a08 }, /* 437: -5.9902710e-01 -5.3970385e-01 */
+    { 0x3fc6757c,0x3f7f7aaa }, /* 438:  1.5504603e+00  9.9796546e-01 */
+    { 0xbee90cf1,0xbedab37e }, /* 439: -4.5517686e-01 -4.2715067e-01 */
+    { 0xbda1c207,0xbda16c3d }, /* 440: -7.8983359e-02 -7.8819729e-02 */
+    { 0xbea7c1cb,0xbea21cf7 }, /* 441: -3.2765040e-01 -3.1662723e-01 */
+    { 0xbee47b00,0xbed6e717 }, /* 442: -4.4625092e-01 -4.1973183e-01 */
+    { 0xbf89618a,0xbf521b89 }, /* 443: -1.0732892e+00 -8.2073265e-01 */
+    { 0xbee850f1,0xbeda17ac }, /* 444: -4.5374253e-01 -4.2596185e-01 */
+    { 0xbf187d45,0xbf098777 }, /* 445: -5.9566146e-01 -5.3722328e-01 */
+    { 0x3f9065eb,0x3f58744e }, /* 446:  1.1281103e+00  8.4552467e-01 */
+    { 0xbe701b5b,0xbe6bd89d }, /* 447: -2.3447935e-01 -2.3031850e-01 */
+    { 0x3f7b90d2,0x3f46d352 }, /* 448:  9.8267853e-01  7.7666199e-01 */
+    { 0x3e72cf32,0x3e6e6803 }, /* 449:  2.3711851e-01  2.3281865e-01 */
+    { 0x3f2a52a4,0x3f164a5c }, /* 450:  6.6532350e-01  5.8707213e-01 */
+    { 0x3ee4e113,0x3ed73c30 }, /* 451:  4.4702968e-01  4.2038107e-01 */
+    { 0x3e518728,0x3e4eacd3 }, /* 452:  2.0461714e-01  2.0183115e-01 */
+    { 0x401b3f5c,0x3f9702fd }, /* 453:  2.4257421e+00  1.1797787e+00 */
+    { 0xbeee12ca,0xbeded8b4 }, /* 454: -4.6498710e-01 -4.3524706e-01 */
+    { 0xbe98b8fe,0xbe946baa }, /* 455: -2.9828638e-01 -2.8988391e-01 */
+    { 0x3f811e4d,0x3f4a2ce8 }, /* 456:  1.0087372e+00  7.8974771e-01 */
+    { 0x3f839e3d,0x3f4ca120 }, /* 457:  1.0282665e+00  7.9933357e-01 */
+    { 0xbebec785,0xbeb69e9f }, /* 458: -3.7261596e-01 -3.5667893e-01 */
+    { 0xbbeb3035,0xbbeb2f2c }, /* 459: -7.1773776e-03 -7.1772542e-03 */
+    { 0xbee30504,0xbed5aee1 }, /* 460: -4.4339764e-01 -4.1734985e-01 */
+    { 0x3ef321e9,0x3ee2fd8d }, /* 461:  4.7486809e-01  4.4334069e-01 */
+    { 0x3ee8e57a,0x3eda92cc }, /* 462:  4.5487577e-01  4.2690122e-01 */
+    { 0xbecd653a,0xbec35515 }, /* 463: -4.0116292e-01 -3.8150850e-01 */
+    { 0xbf24156b,0xbf11eabe }, /* 464: -6.4095181e-01 -5.6998813e-01 */
+    { 0xbee75788,0xbed948b2 }, /* 465: -4.5183969e-01 -4.2438275e-01 */
+    { 0xbf184832,0xbf096047 }, /* 466: -5.9485161e-01 -5.3662533e-01 */
+    { 0x3f1b92f7,0x3f0bcb43 }, /* 467:  6.0771126e-01  5.4607028e-01 */
+    { 0xbee19e19,0xbed482a1 }, /* 468: -4.4065931e-01 -4.1505912e-01 */
+    { 0x42306556,0x3fc628ed }, /* 469:  4.4098961e+01  1.5481240e+00 */
+    { 0xbf304da6,0xbf1a6433 }, /* 470: -6.8868482e-01 -6.0309142e-01 */
+    { 0x3e41bc8d,0x3e3f792c }, /* 471:  1.8919583e-01  1.8698567e-01 */
+    { 0xbf1064ec,0xbf037892 }, /* 472: -5.6403995e-01 -5.1355851e-01 */
+    { 0x3f1351fd,0x3f05ae11 }, /* 473:  5.7546979e-01  5.2218729e-01 */
+    { 0x3f24b678,0x3f125cc5 }, /* 474:  6.4340925e-01  5.7172805e-01 */
+    { 0xbfb04bcb,0xbf715b4c }, /* 475: -1.3773130e+00 -9.4279933e-01 */
+    { 0xbf192878,0xbf0a05af }, /* 476: -5.9827375e-01 -5.3914922e-01 */
+    { 0xbf9873ec,0xbf5f538e }, /* 477: -1.1910377e+00 -8.7236869e-01 */
+    { 0xbf972b73,0xbf5e4296 }, /* 478: -1.1810135e+00 -8.6820352e-01 */
+    { 0x3bb9e8c4,0x3bb9e841 }, /* 479:  5.6734998e-03  5.6734388e-03 */
+    { 0xbf78ed44,0xbf4579dd }, /* 480: -9.7237039e-01 -7.7139074e-01 */
+    { 0x3fd1d1fd,0x3f82f26a }, /* 481:  1.6392208e+00  1.0230229e+00 */
+    { 0xbfbfde6f,0xbf7b83b4 }, /* 482: -1.4989756e+00 -9.8247838e-01 */
+    { 0xbe8fe26f,0xbe8c4447 }, /* 483: -2.8102443e-01 -2.7395841e-01 */
+    { 0xbee2595c,0xbed51f5c }, /* 484: -4.4208801e-01 -4.1625488e-01 */
+    { 0x3e7e0200,0x3e78fb78 }, /* 485:  2.4805450e-01  2.4314678e-01 */
+    { 0x3f18d26a,0x3f09c647 }, /* 486:  5.9696066e-01  5.3818172e-01 */
+    { 0x40b2949e,0x3fb25dca }, /* 487:  5.5806417e+00  1.3934872e+00 */
+    { 0x3fa46cd2,0x3f68c953 }, /* 488:  1.2845709e+00  9.0932196e-01 */
+    { 0x42f0e541,0x3fc7ffcf }, /* 489:  1.2044776e+02  1.5624942e+00 */
+    { 0xbe884d0d,0xbe853623 }, /* 490: -2.6621285e-01 -2.6017866e-01 */
+    { 0x3fd75bca,0x3f846bad }, /* 491:  1.6824887e+00  1.0345360e+00 */
+    { 0xbcffe064,0xbcffcb1a }, /* 492: -3.1234927e-02 -3.1224776e-02 */
+    { 0xbf45df8b,0xbf287435 }, /* 493: -7.7294225e-01 -6.5802318e-01 */
+    { 0x4bcdfe9c,0x3fc90fda }, /* 494:  2.7000120e+07  1.5707963e+00 */
+    { 0x05274c52,0x05274c52 }, /* 495:  7.8663201e-36  7.8663201e-36 */
+    { 0x426ecd12,0x3fc6eb08 }, /* 496:  5.9700264e+01  1.5540476e+00 */
+    { 0xbe6637fa,0xbe627411 }, /* 497: -2.2482291e-01 -2.2114588e-01 */
+    { 0xbee2a93e,0xbed5622a }, /* 498: -4.4269747e-01 -4.1676456e-01 */
+    { 0xbf86a05b,0xbf4f850f }, /* 499: -1.0517687e+00 -8.1062406e-01 */
+    { 0x3f1e9bc7,0x3f0dff94 }, /* 500:  6.1956447e-01  5.5468106e-01 */
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]:  %#lx\n", index - 1, v.lo);
+#endif
+    exit (index ? index : -1);
+}
+
+int main ()
+{
+    union lofl_u x, z;
+    unsigned long v1, z1, r;
+    int i;
+    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	x.lo = pgm_read_dword (& t[i].x);
+	z.lo = pgm_read_dword (& t[i].z);
+	v.fl = atan (x.fl);
+	
+	v1 = (v.lo < 0) ? (unsigned long)~(v.lo) : v.lo + 0x80000000;
+	z1 = (z.lo < 0) ? (unsigned long)~(z.lo) : z.lo + 0x80000000;
+	r = (v1 >= z1) ? v1 - z1 : z1 - v1;
+	
+	if (r > 1) x_exit (i+1);
+    }
+    return 0;
+}
diff --git a/tests/simulate/math/atan2-01.c b/tests/simulate/math/atan2-01.c
new file mode 100644
index 0000000..8ea757b
--- /dev/null
+++ b/tests/simulate/math/atan2-01.c
@@ -0,0 +1,144 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of atan2() function.
+   $Id$
+ */
+#include <math.h>
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+volatile union lofl_u v = { .lo = 1 };
+
+#define	Pi	0x40490fdb
+#define	Pi_2	0x3fc90fdb
+#define Pi_4	0x3f490fdb
+#define	MPi	0xc0490fdb
+#define	MPi_2	0xbfc90fdb
+#define MPi_4	0xbf490fdb
+
+#define	DEG_45	0x3f490fdb
+#define	DEG_135	0x4016cbe4
+
+/* ATTENTION: first arg is named 'y'	*/
+PROGMEM const struct {		/* Table of test cases	*/
+    union lofl_u y, x;		/* args		*/
+    union lofl_u z;		/* atan2(y,x)	*/
+} t[] = {
+
+    { { .fl=  0.0 }, { .fl=  0.0 }, { 0x00000000 } },
+#ifdef	__AVR__
+    { { .fl= -0.0 }, { .fl=  0.0 }, { 0 } },
+    { { .fl=  0.0 }, { .fl= -0.0 }, { 0 } },
+    { { .fl= -0.0 }, { .fl= -0.0 }, { 0 } },
+#else
+    { { .fl= -0.0 }, { .fl=  0.0 }, { 0x80000000 } },
+    { { .fl=  0.0 }, { .fl= -0.0 }, { Pi  } },
+    { { .fl= -0.0 }, { .fl= -0.0 }, { MPi } },
+#endif
+
+    { { .fl=  1 }, { .fl=  1 }, { 0x3f490fdb } },
+    { { .fl=  1 }, { .fl= -1 }, { 0x4016cbe4 } },
+    { { .fl= -1 }, { .fl= -1 }, { 0xc016cbe4 } },
+    { { .fl= -1 }, { .fl=  1 }, { 0xbf490fdb } },
+    
+    /* atan2(y,+Inf)	*/
+    { { 0x00000001 }, { 0x7f800000 }, { 0 } },
+    { { 0x3f800000 }, { 0x7f800000 }, { 0 } },
+    { { 0x7f7fffff }, { 0x7f800000 }, { 0 } },
+    { { 0x80000001 }, { 0x7f800000 }, { .fl= -0.0 } },
+    { { 0xbf800000 }, { 0x7f800000 }, { .fl= -0.0 } },
+    { { 0xff7fffff }, { 0x7f800000 }, { .fl= -0.0 } },
+    
+    /* atan2(y,-Inf)	*/
+    { { 0x00000000 }, { 0xff800000 }, { Pi } },
+    { { 0x00000001 }, { 0xff800000 }, { Pi } },
+    { { 0x3f800000 }, { 0xff800000 }, { Pi } },
+    { { 0x7f7fffff }, { 0xff800000 }, { Pi } },
+    { { 0x80000001 }, { 0xff800000 }, { MPi } },
+    { { 0xbf800000 }, { 0xff800000 }, { MPi } },
+    { { 0xff7fffff }, { 0xff800000 }, { MPi } },
+
+    /* atan2(+Inf,x)	*/
+    { { 0x7f800000 }, { 0x00000000 }, { Pi_2 } },
+    { { 0x7f800000 }, { 0x00000001 }, { Pi_2 } },
+    { { 0x7f800000 }, { 0x3f800000 }, { Pi_2 } },
+    { { 0x7f800000 }, { 0x7f7fffff }, { Pi_2 } },
+    { { 0x7f800000 }, { 0x80000000 }, { Pi_2 } },
+    { { 0x7f800000 }, { 0x80000001 }, { Pi_2 } },
+    { { 0x7f800000 }, { 0xbf800000 }, { Pi_2 } },
+    { { 0x7f800000 }, { 0xff7fffff }, { Pi_2 } },
+
+    /* atan2(-Inf,x)	*/
+    { { 0xff800000 }, { 0x00000000 }, { MPi_2 } },
+    { { 0xff800000 }, { 0x00000001 }, { MPi_2 } },
+    { { 0xff800000 }, { 0x3f800000 }, { MPi_2 } },
+    { { 0xff800000 }, { 0x7f7fffff }, { MPi_2 } },
+    { { 0xff800000 }, { 0x80000000 }, { MPi_2 } },
+    { { 0xff800000 }, { 0x80000001 }, { MPi_2 } },
+    { { 0xff800000 }, { 0xbf800000 }, { MPi_2 } },
+    { { 0xff800000 }, { 0xff7fffff }, { MPi_2 } },
+
+    /* Both args are Inf	*/
+    { { 0x7f800000 }, { 0x7f800000 }, { DEG_45 } },
+    { { 0x7f800000 }, { 0xff800000 }, { DEG_135 } },
+    { { 0xff800000 }, { 0x7f800000 }, { DEG_45  | 0x80000000 } },
+    { { 0xff800000 }, { 0xff800000 }, { DEG_135 | 0x80000000 } },
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]:  %#lx\n", index - 1, v.lo);
+#endif
+    exit (index ? index : -1);
+}
+
+int main ()
+{
+    union lofl_u x,y,z;
+    int i;
+    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	y.lo = pgm_read_dword (& t[i].y);
+	x.lo = pgm_read_dword (& t[i].x);
+	z.lo = pgm_read_dword (& t[i].z);
+	v.fl = atan2 (y.fl, x.fl);
+	/* Comparison is integer to verify the zero sign.	*/
+	if (v.lo != z.lo)
+	    x_exit (i+1);
+    }
+    return 0;
+}
diff --git a/tests/simulate/math/atan2-500.c b/tests/simulate/math/atan2-500.c
new file mode 100644
index 0000000..6aa2613
--- /dev/null
+++ b/tests/simulate/math/atan2-500.c
@@ -0,0 +1,581 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of atan2() function. 500 random cases.
+   $Id$
+ */
+#include <math.h>
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+volatile union lofl_u v = { .lo = 1 };
+
+PROGMEM const struct {		/* Table of test cases.	*/
+    long y;		/* first argument	*/
+    long x;		/* second argument	*/
+    long z;		/* atan2(y,x)	*/
+} t[] = {
+
+    /* y, x, atan2(y,x)	*/
+    { 0xbf9d7ac2,0xbf2658d5,0xc003a12f }, /*   1: -1.2303088e+00 -6.4979297e-01 -2.0567129e+00 */
+    { 0x3fdd4ebf,0xc0555b03,0x402a7104 }, /*   2:  1.7289656e+00 -3.3336799e+00  2.6631479e+00 */
+    { 0xbfe3bf49,0xbf952b63,0xc009a478 }, /*   3: -1.7792751e+00 -1.1653866e+00 -2.1506634e+00 */
+    { 0xbf65a6d0,0xbd2df98d,0xbfcf1e2e }, /*   4: -8.9707661e-01 -4.2474318e-02 -1.6181085e+00 */
+    { 0xbf98e999,0x3fe44d1b,0xbf171493 }, /*   5: -1.1946288e+00  1.7836031e+00 -5.9015769e-01 */
+    { 0xbf69511e,0x3f108be5,0xbf8210ea }, /*   6: -9.1139400e-01  5.6463462e-01 -1.0161412e+00 */
+    { 0xc004c72a,0xc101c133,0xc039086d }, /*   7: -2.0746560e+00 -8.1096678e+00 -2.8911393e+00 */
+    { 0xbec871b1,0xc179d1e6,0xc0477522 }, /*   8: -3.9149240e-01 -1.5613745e+01 -3.1165242e+00 */
+    { 0xbf06c515,0xbf2ee63c,0xc01f0b4c }, /*   9: -5.2644473e-01 -6.8320060e-01 -2.4850645e+00 */
+    { 0xbfc1d9d7,0xbf9bd6b2,0xc00fddde }, /*  10: -1.5144604e+00 -1.2174895e+00 -2.2479167e+00 */
+    { 0x3f978fdb,0xbf99c0bd,0x40174176 }, /*  11:  1.1840776e+00 -1.2011944e+00  2.3633704e+00 */
+    { 0x3f60bd9e,0x9cd02adc,0x3fc90fdb }, /*  12:  8.7789333e-01 -1.3775364e-21  1.5707964e+00 */
+    { 0xc000443d,0x3f753766,0xbf8ffe59 }, /*  13: -2.0041649e+00  9.5787656e-01 -1.1249496e+00 */
+    { 0x3c53c938,0x43011bbd,0x38d1f7c8 }, /*  14:  1.2926392e-02  1.2910835e+02  1.0012049e-04 */
+    { 0x406d8359,0xc0a9d16a,0x4022013d }, /*  15:  3.7111418e+00 -5.3068132e+00  2.5313256e+00 */
+    { 0xbf605b24,0x3f78726b,0xbf3c0775 }, /*  16: -8.7639070e-01  9.7049588e-01 -7.3448879e-01 */
+    { 0xbfe45efa,0xc066eb99,0xc02babf6 }, /*  17: -1.7841485e+00 -3.6081297e+00 -2.6823707e+00 */
+    { 0xbc733dfb,0x401d9027,0xbbc599d6 }, /*  18: -1.4846320e-02  2.4619234e+00 -6.0303016e-03 */
+    { 0x3f64c72e,0x40a71342,0x3e2d96f7 }, /*  19:  8.9366424e-01  5.2211008e+00  1.6952120e-01 */
+    { 0x3fee14fe,0xbf1bb09b,0x3ff182dd }, /*  20:  1.8600156e+00 -6.0816354e-01  1.8868061e+00 */
+    { 0xbfe66109,0x3fe1c118,0xbf4ba84e }, /*  21: -1.7998363e+00  1.7637053e+00 -7.9553688e-01 */
+    { 0x3f60850b,0x3fbb35b1,0x3f0a47f2 }, /*  22:  8.7703007e-01  1.4625760e+00  5.4016030e-01 */
+    { 0xbeef51b4,0x3f8fe139,0xbec9c4cc }, /*  23: -4.6742022e-01  1.1240608e+00 -3.9407957e-01 */
+    { 0x3ee17aa6,0x3ff8aab8,0x3e644542 }, /*  24:  4.4038886e-01  1.9427099e+00  2.2292045e-01 */
+    { 0xbfd4d478,0xc15f2566,0xc04177b6 }, /*  25: -1.6627340e+00 -1.3946630e+01 -3.0229316e+00 */
+    { 0x3f123c87,0x3ef658a7,0x3f5eec89 }, /*  26:  5.7123607e-01  4.8114511e-01  8.7079674e-01 */
+    { 0xbeee2ddf,0xbede817a,0xc0149eb0 }, /*  27: -4.6519372e-01 -4.3458158e-01 -2.3221855e+00 */
+    { 0xbf92638e,0x3f6d769d,0xbf63abe4 }, /*  28: -1.1436632e+00  9.2759115e-01 -8.8934159e-01 */
+    { 0xbf61f36a,0x3f679c75,0xbf45e52d }, /*  29: -8.8262045e-01  9.0473109e-01 -7.7302819e-01 */
+    { 0x3d2a3388,0xbe69415e,0x403d8399 }, /*  30:  4.1553050e-02 -2.2778842e-01  2.9611571e+00 */
+    { 0xbeb18deb,0xbfec0ea9,0xc03d2a8b }, /*  31: -3.4678587e-01 -1.8441974e+00 -2.9557216e+00 */
+    { 0x3ed61870,0xbf910049,0x40326e46 }, /*  32:  4.1815519e-01 -1.1328212e+00  2.7879806e+00 */
+    { 0x3f15aa9f,0x3f3ec171,0x3f2a4fb4 }, /*  33:  5.8463472e-01  7.4513918e-01  6.6527867e-01 */
+    { 0x42e0eb07,0x38e766ea,0x3fc90fd2 }, /*  34:  1.1245904e+02  1.1034108e-04  1.5707953e+00 */
+    { 0x3fd8d99d,0xbe563538,0x3fd8c992 }, /*  35:  1.6941410e+00 -2.0918739e-01  1.6936514e+00 */
+    { 0xbbbced01,0x3bc07c42,0xbf46ac3f }, /*  36: -5.7655578e-03  5.8741877e-03 -7.7606577e-01 */
+    { 0x3c3b3354,0x3f951a78,0x3c20b32b }, /*  37:  1.1425812e-02  1.1648703e+00  9.8083420e-03 */
+    { 0xc0cfe7df,0xbf710e6e,0xbfdb7c20 }, /*  38: -6.4970546e+00 -9.4162643e-01 -1.7147255e+00 */
+    { 0x3fdfc061,0x40a4d0eb,0x3ea78654 }, /*  39:  1.7480584e+00  5.1505027e+00  3.2719672e-01 */
+    { 0xbfce5f10,0xeb2595f1,0xc0490fdb }, /*  40: -1.6122761e+00 -2.0018084e+26 -3.1415927e+00 */
+    { 0xbf2d3502,0xbebee502,0xc004c3d3 }, /*  41: -6.7659009e-01 -3.7284094e-01 -2.0744522e+00 */
+    { 0x404699a7,0x3fffc3b7,0x3f7fab5d }, /*  42:  3.1031282e+00  1.9981602e+00  9.9870855e-01 */
+    { 0xbcb4691e,0xbfc96caa,0xc0482a94 }, /*  43: -2.2022780e-02 -1.5736287e+00 -3.1275988e+00 */
+    { 0x3f96bd85,0x41879531,0x3d8e14d8 }, /*  44:  1.1776587e+00  1.6947847e+01  6.9375694e-02 */
+    { 0xbf0a6fc8,0xc0e74a0c,0xc0444851 }, /*  45: -5.4076815e-01 -7.2277889e+00 -3.0669138e+00 */
+    { 0xbe9ecf09,0x3f24da02,0xbee5d351 }, /*  46: -3.1017330e-01  6.4395154e-01 -4.4887784e-01 */
+    { 0x3fa0998c,0x3f637ed9,0x3f745ce8 }, /*  47:  1.2546859e+00  8.8865429e-01  9.5454264e-01 */
+    { 0xbf9e3f18,0x3f6086c5,0xbf742aab }, /*  48: -1.2363005e+00  8.7705642e-01 -9.5377606e-01 */
+    { 0xbf71d748,0x3f632a6a,0xbf5111d0 }, /*  49: -9.4469118e-01  8.8736594e-01 -8.1667805e-01 */
+    { 0xbf6c1505,0x3f96f3f7,0xbf29e50e }, /*  50: -9.2219573e-01  1.1793202e+00 -6.6365135e-01 */
+    { 0xbf96161e,0xbf0e84d3,0xc000e692 }, /*  51: -1.1725500e+00 -5.5671424e-01 -2.0140729e+00 */
+    { 0xbfe1b003,0xbf684232,0xc002f207 }, /*  52: -1.7631840e+00 -9.0726006e-01 -2.0460222e+00 */
+    { 0x3f967c16,0xc0213076,0x402d1c6e }, /*  53:  1.1756618e+00 -2.5185828e+00  2.7048602e+00 */
+    { 0xb91d07a3,0x3c42438e,0xbc4eec12 }, /*  54: -1.4975532e-04  1.1856927e-02 -1.2629526e-02 */
+    { 0x3f379720,0x3f581160,0x3f344ddc }, /*  55:  7.1714973e-01  8.4401512e-01  7.0431304e-01 */
+    { 0x3f9782a4,0x3f70288a,0x3f668ec4 }, /*  56:  1.1836743e+00  9.3811858e-01  9.0061593e-01 */
+    { 0x3da3f903,0xbf9a8d33,0x4044d305 }, /*  57:  8.0064796e-02 -1.2074341e+00  3.0753796e+00 */
+    { 0xbff8e53d,0x3f9a7af9,0xbf81f60d }, /*  58: -1.9444958e+00  1.2068778e+00 -1.0153214e+00 */
+    { 0x3fc2b7df,0x3f6cdf26,0x3f831d86 }, /*  59:  1.5212363e+00  9.2527997e-01  1.0243385e+00 */
+    { 0xbf9bf79b,0x4009afd9,0xbf03ecfa }, /*  60: -1.2184938e+00  2.1513579e+00 -5.1533473e-01 */
+    { 0x3f2fab98,0x3f6f0e91,0x3f223c4c }, /*  61:  6.8621206e-01  9.3381602e-01  6.3373256e-01 */
+    { 0x3fd4c418,0xbf9063cf,0x400ab0bd }, /*  62:  1.6622343e+00 -1.1280459e+00  2.1670372e+00 */
+    { 0x3f1a6636,0xbf65a494,0x40232dc7 }, /*  63:  6.0312212e-01 -8.9704251e-01  2.5496690e+00 */
+    { 0xbfe44464,0x3e3c1e91,0xbfbbec20 }, /*  64: -1.7833371e+00  1.8371035e-01 -1.4681435e+00 */
+    { 0xbe051ac2,0xbfd7903c,0xc04421c6 }, /*  65: -1.2998489e-01 -1.6840892e+00 -3.0645614e+00 */
+    { 0x407e4109,0x3f98a85f,0x3fa3bb2d }, /*  66:  3.9727194e+00  1.1926383e+00  1.2791497e+00 */
+    { 0xb8e1bda3,0x3fe98863,0xb8777558 }, /*  67: -1.0764159e-04  1.8244747e+00 -5.8998674e-05 */
+    { 0xbf1d0f1e,0x3f59c720,0xbf1ff348 }, /*  68: -6.1351192e-01  8.5069466e-01 -6.2480593e-01 */
+    { 0xbf61b837,0xbf0121a1,0xc005c9c1 }, /*  69: -8.8171715e-01 -5.0441939e-01 -2.0904391e+00 */
+    { 0x3f678bf1,0x3f396fc0,0x3f654185 }, /*  70:  9.0447909e-01  7.2436142e-01  8.9553100e-01 */
+    { 0xbf976d67,0x3f2dde70,0xbf865a8f }, /*  71: -1.1830262e+00  6.7917538e-01 -1.0496386e+00 */
+    { 0x3f2c7feb,0xbefe0731,0x400d269a }, /*  72:  6.7382687e-01 -4.9614862e-01  2.2054811e+00 */
+    { 0xbf425689,0x3fe3aab7,0xbece8a16 }, /*  73: -7.5913292e-01  1.7786473e+00 -4.0339726e-01 */
+    { 0xbf6d87c2,0x3f932675,0xbf2dd69f }, /*  74: -9.2785275e-01  1.1496111e+00 -6.7905611e-01 */
+    { 0x3ef19ff3,0x3f677bf2,0x3ef647cb }, /*  75:  4.7192344e-01  9.0423501e-01  4.8101649e-01 */
+    { 0xbcb18229,0x4008a0d4,0xbc264af9 }, /*  76: -2.1668511e-02  2.1348162e+00 -1.0149711e-02 */
+    { 0xbf2bf629,0x3d868980,0xbfbc956f }, /*  77: -6.7172486e-01  6.5691948e-02 -1.4733104e+00 */
+    { 0x3df5e2f8,0x3f2df6c6,0x3e331252 }, /*  78:  1.2006181e-01  6.7954671e-01  1.7487457e-01 */
+    { 0xc07b2291,0xbf1497cc,0xbfdbdc0c }, /*  79: -3.9239848e+00 -5.8044124e-01 -1.7176528e+00 */
+    { 0x3edfb648,0xc0006bbf,0x403b5707 }, /*  80:  4.3693757e-01 -2.0065763e+00  2.9271867e+00 */
+    { 0x4063977f,0xbed6cab6,0x3fd817b5 }, /*  81:  3.5561216e+00 -4.1951531e-01  1.6882235e+00 */
+    { 0x3f620b2f,0x3fcacf6b,0x3f022772 }, /*  82:  8.8298315e-01  1.5844549e+00  5.0841439e-01 */
+    { 0x3f69f7f7,0xbee21ec6,0x40015705 }, /*  83:  9.1393989e-01 -4.4164103e-01  2.0209363e+00 */
+    { 0x3f0f330c,0xb0c9a357,0x3fc90fdb }, /*  84:  5.5937266e-01 -1.4671099e-09  1.5707964e+00 */
+    { 0x3f9a484f,0xbf946716,0x40158daa }, /*  85:  1.2053317e+00 -1.1593959e+00  2.3367715e+00 */
+    { 0xbf372434,0xbf111f00,0xc00f6aaa }, /*  86: -7.1539617e-01 -5.6687927e-01 -2.2408853e+00 */
+    { 0xbfcfeef1,0x3fcd781a,0xbf4a967f }, /*  87: -1.6244794e+00  1.6052277e+00 -7.9135889e-01 */
+    { 0x3f62b853,0x4418f90b,0x3abdb534 }, /*  88:  8.8562506e-01  6.1189130e+02  1.4473558e-03 */
+    { 0xbeeb8fcb,0x3feb2501,0xbe7b4919 }, /*  89: -4.6008143e-01  1.8370668e+00 -2.4539603e-01 */
+    { 0xbf140724,0xbf1f33f2,0xc0191f92 }, /*  90: -5.7823396e-01 -6.2188637e-01 -2.3925519e+00 */
+    { 0x52fd384a,0xc020413c,0x3fc90fdb }, /*  91:  5.4378555e+11 -2.5039816e+00  1.5707964e+00 */
+    { 0xbfcca61c,0xbf639247,0xc00501d9 }, /*  92: -1.5988193e+00 -8.8895077e-01 -2.0782378e+00 */
+    { 0xbf99b4dd,0xc0e55864,0xc03e6ffe }, /*  93: -1.2008320e+00 -7.1670399e+00 -2.9755855e+00 */
+    { 0xb9b7500a,0x40019b35,0xb9350a6f }, /*  94: -3.4964114e-04  2.0250981e+00 -1.7265392e-04 */
+    { 0xbf30a39a,0xbfe0135b,0xc031086c }, /*  95: -6.8999636e-01 -1.7505907e+00 -2.7661390e+00 */
+    { 0xbf646449,0xc830605f,0xc0490fc6 }, /*  96: -8.9215523e-01 -1.8060948e+05 -3.1415877e+00 */
+    { 0x3f9a2881,0xbf6de2f4,0x400e96db }, /*  97:  1.2043611e+00 -9.2924428e-01  2.2279575e+00 */
+    { 0x40f927b0,0xbf2e6bbf,0x3fd43bf9 }, /*  98:  7.7860947e+00 -6.8133157e-01  1.6580802e+00 */
+    { 0xc00a03af,0x40c80f3a,0xbeaa1018 }, /*  99: -2.1564748e+00  6.2518587e+00 -3.3215404e-01 */
+    { 0xbee5692a,0x3ff50afb,0xbe6b6e55 }, /* 100: -4.4806796e-01  1.9143976e+00 -2.2991307e-01 */
+    { 0xbee7431a,0xbfcfa025,0xc037ae47 }, /* 101: -4.5168382e-01 -1.6220747e+00 -2.8700120e+00 */
+    { 0x3d468793,0x3f918158,0x3d2e8a19 }, /* 102:  4.8469137e-02  1.1367598e+00  4.2612169e-02 */
+    { 0xbecaeb9e,0xbff53e7a,0xc03c01de }, /* 103: -3.9632887e-01 -1.9159691e+00 -2.9376140e+00 */
+    { 0x3f0f6ac5,0xc00afbd2,0x4038e763 }, /* 104:  5.6022292e-01 -2.1716199e+00  2.8891227e+00 */
+    { 0x3f9752c3,0x3e968457,0x3fa9dd7d }, /* 105:  1.1822132e+00  2.9397842e-01  1.3270718e+00 */
+    { 0xbfc06f9f,0xbf99bb81,0xc00faba5 }, /* 106: -1.5034064e+00 -1.2010347e+00 -2.2448514e+00 */
+    { 0xc06623f5,0x3cb55868,0xbfc84622 }, /* 107: -3.5959446e+00  2.2136882e-02 -1.5646403e+00 */
+    { 0xc03ffcd0,0xbf97bf73,0xbff93c89 }, /* 108: -2.9998055e+00 -1.1855301e+00 -1.9471599e+00 */
+    { 0x3f6d6920,0x448086cf,0x3a6c7018 }, /* 109:  9.2738533e-01  1.0282128e+03  9.0193888e-04 */
+    { 0xbf633aa8,0x3564a105,0xbfc90fd3 }, /* 110: -8.8761377e-01  8.5170933e-07 -1.5707954e+00 */
+    { 0x3f9946cf,0xbbb99bb0,0x3fc9aada }, /* 111:  1.1974734e+00 -5.6643113e-03  1.5755265e+00 */
+    { 0x3f95f651,0xbf65937d,0x400e57d3 }, /* 112:  1.1715795e+00 -8.9678174e-01  2.2241104e+00 */
+    { 0x3f95a7bb,0x3f99e552,0x3f457c61 }, /* 113:  1.1691812e+00  1.2023108e+00  7.7142912e-01 */
+    { 0xbf4a6d1e,0x3e94152b,0xbf9c2da2 }, /* 114: -7.9072750e-01  2.8922400e-01 -1.2201426e+00 */
+    { 0x3f8caa94,0x3d2a394a,0x3fc43947 }, /* 115:  1.0989556e+00  4.1558541e-02  1.5329980e+00 */
+    { 0x3f9b4162,0xbf6f98c9,0x400e976d }, /* 116:  1.2129328e+00 -9.3592507e-01  2.2279923e+00 */
+    { 0xbeece8f7,0x3ea89f8a,0xbf73c4c0 }, /* 117: -4.6271488e-01  3.2934219e-01 -9.5222092e-01 */
+    { 0x3e3c7f94,0xbfe3755e,0x404274ad }, /* 118:  1.8408042e-01 -1.7770193e+00  3.0383713e+00 */
+    { 0xbf2e2cdf,0xbf25a574,0xc01530c4 }, /* 119: -6.8037218e-01 -6.4705586e-01 -2.3311014e+00 */
+    { 0xbfe8cbe9,0x3fdad525,0xbf50f984 }, /* 120: -1.8187228e+00  1.7096297e+00 -8.1630731e-01 */
+    { 0xc0237e89,0x3eaaeab9,0xbfb86e06 }, /* 121: -2.5545981e+00  3.3382204e-01 -1.4408576e+00 */
+    { 0x4025e8a9,0xbf3d09ef,0x3fec9518 }, /* 122:  2.5923254e+00 -7.3843282e-01  1.8483000e+00 */
+    { 0x41971cdb,0x3fe3c915,0x3fbd09cf }, /* 123:  1.8889090e+01  1.7795740e+00  1.4768618e+00 */
+    { 0xbffd5aa1,0xbfec2dc0,0xc0148d4b }, /* 124: -1.9793283e+00 -1.8451462e+00 -2.3211238e+00 */
+    { 0xbf66eda7,0xbf1841bb,0xc009d634 }, /* 125: -9.0206379e-01 -5.9475297e-01 -2.1536989e+00 */
+    { 0x3f1a0108,0xbf453424,0x401ea11a }, /* 126:  6.0157824e-01 -7.7032685e-01  2.4785829e+00 */
+    { 0xc1333bc5,0x3d4f14c1,0xbfc87bf8 }, /* 127: -1.1202092e+01  5.0556902e-02 -1.5662832e+00 */
+    { 0x3fbc8f88,0x4110671b,0x3e25ae52 }, /* 128:  1.4731302e+00  9.0251722e+00  1.6179779e-01 */
+    { 0x3f0e3a4c,0xbf9d269f,0x402ddd84 }, /* 129:  5.5557704e-01 -1.2277411e+00  2.7166452e+00 */
+    { 0x3f9bd784,0xbff57baa,0x4024dc5f }, /* 130:  1.2175145e+00 -1.9178364e+00  2.5759504e+00 */
+    { 0xbf667360,0xbff1364f,0xc02c8a6f }, /* 131: -9.0019798e-01 -1.8844699e+00 -2.6959493e+00 */
+    { 0x3f9a803e,0x3d21601f,0x3fc4e2ac }, /* 132:  1.2070386e+00  3.9398309e-02  1.5381675e+00 */
+    { 0x4207ca60,0x3f656402,0x3fc5af22 }, /* 133:  3.3947632e+01  8.9605725e-01  1.5444071e+00 */
+    { 0x3f380f8a,0x400d90ad,0x3ea0e873 }, /* 134:  7.1898711e-01  2.2119553e+00  3.1427345e-01 */
+    { 0xbee7e2e0,0xbf19c7fe,0xc01fb768 }, /* 135: -4.5290279e-01 -6.0070789e-01 -2.4955692e+00 */
+    { 0x3fe1c510,0xbf2a6e64,0x3ff7423a }, /* 136:  1.7638264e+00 -6.6574693e-01  1.9317086e+00 */
+    { 0xbf6875ee,0xc03b0c01,0xc035c84b }, /* 137: -9.0804946e-01 -2.9226077e+00 -2.8403499e+00 */
+    { 0xbf99fa90,0xc0d841ba,0xc03dc9a8 }, /* 138: -1.2029591e+00 -6.7580233e+00 -2.9654331e+00 */
+    { 0xbf692c6f,0xbf92785e,0xc01e092d }, /* 139: -9.1083425e-01 -1.1442983e+00 -2.4693100e+00 */
+    { 0xbf6ef55a,0xbf6db89b,0xc016a15d }, /* 140: -9.3343127e-01 -9.2859811e-01 -2.3535988e+00 */
+    { 0x3f096c49,0xbf2ac0b3,0x401db0fd }, /* 141:  5.3680855e-01 -6.6700286e-01  2.4639275e+00 */
+    { 0x3fcbd5a8,0xbf97d683,0x400d8185 }, /* 142:  1.5924578e+00 -1.1862339e+00  2.2110302e+00 */
+    { 0x3f616f7b,0xbf167033,0x400a3134 }, /* 143:  8.8060731e-01 -5.8764952e-01  2.1592531e+00 */
+    { 0xbe17aea6,0xbf6aea51,0xc03ed1bb }, /* 144: -1.4812717e-01 -9.1763788e-01 -2.9815509e+00 */
+    { 0xbf692e0c,0x3fe8a0d5,0xbeeddf7b }, /* 145: -9.1085887e-01  1.8174082e+00 -4.6459565e-01 */
+    { 0x3f9f472c,0xbf652210,0x400c7038 }, /* 146:  1.2443595e+00 -8.9505100e-01  2.1943493e+00 */
+    { 0xbf127e3f,0xbfa27664,0xc02df435 }, /* 147: -5.7223886e-01 -1.2692380e+00 -2.7180302e+00 */
+    { 0xbf639c44,0x3f3e43aa,0xbf5fe163 }, /* 148: -8.8910317e-01  7.4321997e-01 -8.7453288e-01 */
+    { 0xbf6722fb,0xbf6d483f,0xc017a2d5 }, /* 149: -9.0287751e-01 -9.2688364e-01 -2.3693135e+00 */
+    { 0x3f74461a,0x3c474387,0x3fc76e38 }, /* 150:  9.5419466e-01  1.2162096e-02  1.5580511e+00 */
+    { 0x3ff4b853,0x3f6f9fbd,0x3f8ec921 }, /* 151:  1.9118751e+00  9.3603116e-01  1.1155130e+00 */
+    { 0x3ef86cc1,0xbf3e479c,0x40240c72 }, /* 152:  4.8520473e-01 -7.4328017e-01  2.5632596e+00 */
+    { 0x3f47bc98,0x3fc1a36d,0x3ef3cbf4 }, /* 153:  7.8022146e-01  1.5127999e+00  4.7616541e-01 */
+    { 0x3f6a6eeb,0x3f6d55ab,0x3f477cd0 }, /* 154:  9.1575497e-01  9.2708844e-01  7.7924824e-01 */
+    { 0x3fa4d5f5,0xc0a88cb6,0x4039b72d }, /* 155:  1.2877795e+00 -5.2671766e+00  2.9018052e+00 */
+    { 0x41e2b328,0xbf96065b,0x3fce5a67 }, /* 156:  2.8337479e+01 -1.1720690e+00  1.6121339e+00 */
+    { 0xbf9946a2,0xbf2f0352,0xc005bb30 }, /* 157: -1.1974680e+00 -6.8364441e-01 -2.0895500e+00 */
+    { 0x3f1f9b52,0xbf6aa782,0x4022d5b8 }, /* 158:  6.2346375e-01 -9.1661847e-01  2.5442944e+00 */
+    { 0xbe49e252,0xc0453b23,0xc044f91f }, /* 159: -1.9715241e-01 -3.0817344e+00 -3.0777051e+00 */
+    { 0x3e9a9193,0xbdc6601c,0x3ff0cd8f }, /* 160:  3.0189189e-01 -9.6863002e-02  1.8812732e+00 */
+    { 0x3e7684ca,0xbf43d8a8,0x40358cd0 }, /* 161:  2.4074093e-01 -7.6502466e-01  2.8367195e+00 */
+    { 0xbf1ba6eb,0xbf660b43,0xc022fda8 }, /* 162: -6.0801572e-01 -8.9860934e-01 -2.5467319e+00 */
+    { 0x3fa1cfd6,0xbe0cdf98,0x3fd6efdb }, /* 163:  1.2641551e+00 -1.3757169e-01  1.6791948e+00 */
+    { 0xbef0a00c,0xbf1d1f97,0xc01f3d22 }, /* 164: -4.6997106e-01 -6.1376327e-01 -2.4881063e+00 */
+    { 0x4042a222,0xbf95f1e8,0x3ff8200d }, /* 165:  3.0411458e+00 -1.1714449e+00  1.9384781e+00 */
+    { 0xc30711b1,0x3f05d259,0xbfc89109 }, /* 166: -1.3506911e+02  5.2274090e-01 -1.5669261e+00 */
+    { 0x4034c4cc,0x3f5b641f,0x3fa35adc }, /* 167:  2.8245115e+00  8.5699648e-01  1.2762103e+00 */
+    { 0x3fcf3e61,0x3ff8ee59,0x3f31bb75 }, /* 168:  1.6190912e+00  1.9447738e+00  6.9426662e-01 */
+    { 0x3f8e6642,0x3ef13573,0x3f95c9c9 }, /* 169:  1.1124957e+00  4.7111091e-01  1.1702205e+00 */
+    { 0xbfd34237,0x3ffc9f54,0xbf324b80 }, /* 170: -1.6504582e+00  1.9736123e+00 -6.9646454e-01 */
+    { 0xc05e06ea,0x3fe7f091,0xbf8b731a }, /* 171: -3.4691720e+00  1.8120290e+00 -1.0894501e+00 */
+    { 0x3fdb9fc4,0x3f7be2e6,0x3f866a9d }, /* 172:  1.7158132e+00  9.8393095e-01  1.0501286e+00 */
+    { 0x3f979c46,0xbf15de08,0x4001e8ce }, /* 173:  1.1844566e+00 -5.8541918e-01  2.0298343e+00 */
+    { 0xbf0d0083,0x3f63056d,0xbf0e4811 }, /* 174: -5.5078906e-01  8.8680154e-01 -5.5578715e-01 */
+    { 0x401fbe62,0xbf6c422b,0x3ff664dc }, /* 175:  2.4959950e+00 -9.2288464e-01  1.9249530e+00 */
+    { 0xbf23b8f9,0xbf627be2,0xc02100bd }, /* 176: -6.3954121e-01 -8.8470280e-01 -2.5156701e+00 */
+    { 0x3eeed519,0xc08599ed,0x4041f0dc }, /* 177:  4.6646956e-01 -4.1750398e+00  3.0303259e+00 */
+    { 0xbf640437,0x404ace7b,0xbe8c4a93 }, /* 178: -8.9068931e-01  3.1688526e+00 -2.7400646e-01 */
+    { 0x3fdeaf38,0x40101dd3,0x3f28658b }, /* 179:  1.7397223e+00  2.2518203e+00  6.5779942e-01 */
+    { 0xbf3d384f,0xbf9d7fec,0xc0267133 }, /* 180: -7.3914045e-01 -1.2304664e+00 -2.6006591e+00 */
+    { 0xbf028f73,0x3f6e712b,0xbf003f3a }, /* 181: -5.1000136e-01  9.3141431e-01 -5.0096476e-01 */
+    { 0x3d8b1d14,0xc0113e12,0x4047259b }, /* 182:  6.7926556e-02 -2.2694135e+00  3.1116703e+00 */
+    { 0xbf6c5639,0x3fa22c07,0xbf213443 }, /* 183: -9.2319065e-01  1.2669686e+00 -6.2970370e-01 */
+    { 0xbf670b02,0xbf6b0c53,0xc01758ad }, /* 184: -9.0251172e-01 -9.1815680e-01 -2.3647873e+00 */
+    { 0x3f300490,0xbf645dea,0x401f0921 }, /* 185:  6.8756962e-01 -8.9205801e-01  2.4849322e+00 */
+    { 0x3eea7d30,0x3edea76c,0x3f4fb025 }, /* 186:  4.5798635e-01  4.3487108e-01  8.1128150e-01 */
+    { 0x3ff4ffb9,0xbf0f5748,0x3fed7d67 }, /* 187:  1.9140540e+00 -5.5992556e-01  1.8553895e+00 */
+    { 0x4117942f,0x3f9b5052,0x3fb8c1a8 }, /* 188:  9.4736776e+00  1.2133887e+00  1.4434099e+00 */
+    { 0x3e331101,0x3f926a5e,0x3e1b576f }, /* 189:  1.7486955e-01  1.1438711e+00  1.5170072e-01 */
+    { 0x419e2f75,0xbf36799f,0x3fcdac95 }, /* 190:  1.9773172e+01 -7.1279329e-01  1.6068293e+00 */
+    { 0xbf2a83cf,0xc01389b7,0xc0370f77 }, /* 191: -6.6607374e-01 -2.3052804e+00 -2.8603189e+00 */
+    { 0x3fe3c992,0xbe9cdd3d,0x3fdee274 }, /* 192:  1.7795889e+00 -3.0637541e-01  1.7412858e+00 */
+    { 0xc164dd21,0xbf96649e,0xbfd38d6d }, /* 193: -1.4303987e+01 -1.1749456e+00 -1.6527535e+00 */
+    { 0x401c6169,0x3ed03971,0x3fb3f379 }, /* 194:  2.4434454e+00  4.0668824e-01  1.4058677e+00 */
+    { 0xbe9dd4c8,0xbfe5eabc,0xc03e2f33 }, /* 195: -3.0826402e-01 -1.7962260e+00 -2.9716308e+00 */
+    { 0xbf1c653a,0x3fd37e5b,0xbeb55359 }, /* 196: -6.1091959e-01  1.6522936e+00 -3.5415152e-01 */
+    { 0xbfdb3282,0x405be2bb,0xbeecbefc }, /* 197: -1.7124789e+00  3.4357135e+00 -4.6239460e-01 */
+    { 0x3f97c9f5,0x3ff1e1d6,0x3f0f7793 }, /* 198:  1.1858507e+00  1.8897045e+00  5.6041831e-01 */
+    { 0x3ff03f55,0xc13353b5,0x403e7157 }, /* 199:  1.8769327e+00 -1.1207936e+01  2.9756677e+00 */
+    { 0xc0675143,0xbf9b93df,0xbff295fa }, /* 200: -3.6143348e+00 -1.2154502e+00 -1.8952019e+00 */
+    { 0xbf63f744,0x3fc72b2a,0xbf05117c }, /* 201: -8.9049172e-01  1.5560048e+00 -5.1979804e-01 */
+    { 0xbfa2afec,0xbdd8cccc,0xbfd3b2c6 }, /* 202: -1.2709937e+00 -1.0585937e-01 -1.6538932e+00 */
+    { 0x3e8e1db0,0x418b0f41,0x3c82cd5c }, /* 203:  2.7757025e-01  1.7382448e+01  1.5967064e-02 */
+    { 0x3fed7050,0xbd966f9b,0x3fce20bf }, /* 204:  1.8549900e+00 -7.3455058e-02  1.6103743e+00 */
+    { 0xbeb34622,0x3f615db7,0xbec1d21b }, /* 205: -3.5014445e-01  8.8033623e-01 -3.7855610e-01 */
+    { 0x3f5d6153,0x3f65fea6,0x3f442d3e }, /* 206:  8.6476630e-01  8.9841688e-01  7.6631534e-01 */
+    { 0x3e6ff9e1,0x3f285042,0x3eaf4f5c }, /* 207:  2.3435165e-01  6.5747464e-01  3.4240234e-01 */
+    { 0x420b1bf9,0xbeefb2d8,0x3fcac8f1 }, /* 208:  3.4777317e+01 -4.6816134e-01  1.5842572e+00 */
+    { 0x3ee98683,0xbf6fb517,0x402c0d56 }, /* 209:  4.5610437e-01 -9.3635696e-01  2.6883140e+00 */
+    { 0xbea1d5a8,0x3eec25e5,0xbf19cdf1 }, /* 210: -3.1608319e-01  4.6122661e-01 -6.0079867e-01 */
+    { 0x3f1dce93,0x3ff6f53e,0x3e9e561e }, /* 211:  6.1643332e-01  1.9293592e+00  3.0925077e-01 */
+    { 0x3f3c8abd,0x3f592931,0x3f37087b }, /* 212:  7.3649198e-01  8.4828478e-01  7.1497315e-01 */
+    { 0x3f6b653f,0x3edf11de,0x3f906c86 }, /* 213:  9.1951364e-01  4.3568319e-01  1.1283119e+00 */
+    { 0xbfd5a04c,0x40490d2a,0xbefa0934 }, /* 214: -1.6689544e+00  3.1414285e+00 -4.8835146e-01 */
+    { 0xbac1ab79,0xbfd0cb27,0xc0490103 }, /* 215: -1.4775834e-03 -1.6311997e+00 -3.1406868e+00 */
+    { 0xbf3f630c,0x3fa08fe2,0xbf099761 }, /* 216: -7.4760509e-01  1.2543910e+00 -5.3746611e-01 */
+    { 0x40065964,0x3f1e237d,0x3fa46dfd }, /* 217:  2.0992060e+00  6.1772901e-01  1.2846066e+00 */
+    { 0x3e5ca0b2,0xbf846270,0x403beada }, /* 218:  2.1545675e-01 -1.0342541e+00  2.9362092e+00 */
+    { 0xc05fd74f,0xc04bf2d4,0xc013d292 }, /* 219: -3.4975164e+00 -3.1866961e+00 -2.3097272e+00 */
+    { 0xbf9bb63d,0x3f999d1f,0xbf4acc5e }, /* 220: -1.2164990e+00  1.2001075e+00 -7.9218090e-01 */
+    { 0x3f8d5cad,0x3d82ee4b,0x3fc1a917 }, /* 221:  1.1043907e+00  6.3931070e-02  1.5129727e+00 */
+    { 0xbfcd7ae5,0x3fd73f63,0xbf431ea7 }, /* 222: -1.6053129e+00  1.6816219e+00 -7.6218647e-01 */
+    { 0x3eba1e1b,0x3ecfed6c,0x3f3ae83a }, /* 223:  3.6351094e-01  4.0610826e-01  7.3010600e-01 */
+    { 0x3fc2c8b3,0xc17bf23f,0x4042e569 }, /* 224:  1.5217499e+00 -1.5746642e+01  3.0452521e+00 */
+    { 0x3fe98f7c,0xc03d8456,0x4025b7dc }, /* 225:  1.8246913e+00 -2.9612021e+00  2.5893469e+00 */
+    { 0xbf34a480,0x3fbe9350,0xbee29a3c }, /* 226: -7.0563507e-01  1.4888706e+00 -4.4258296e-01 */
+    { 0xbf9acbb7,0xc61a0b85,0xc0490dd8 }, /* 227: -1.2093419e+00 -9.8588799e+03 -3.1414700e+00 */
+    { 0xbf251d07,0x3f7557c2,0xbf17a56c }, /* 228: -6.4497417e-01  9.5837033e-01 -5.9236789e-01 */
+    { 0x3fbe3f30,0x402c34d8,0x3f0131f9 }, /* 229:  1.4863033e+00  2.6907253e+00  5.0466877e-01 */
+    { 0xbe983207,0x3f45e56e,0xbebbf4da }, /* 230: -2.9725668e-01  7.7303207e-01 -3.6710244e-01 */
+    { 0xbfbf9417,0xc02dd472,0xc028d40c }, /* 231: -1.4967068e+00 -2.7160916e+00 -2.6379423e+00 */
+    { 0xbf5bb85e,0xbd4e5d40,0xbfd09129 }, /* 232: -8.5828197e-01 -5.0381899e-02 -1.6294299e+00 */
+    { 0x39e16ee2,0xbfbef9e6,0x40490b22 }, /* 233:  4.2997958e-04 -1.4920013e+00  3.1413045e+00 */
+    { 0x3f67fef2,0x3fe69c0d,0x3eee9e04 }, /* 234:  9.0623391e-01  1.8016373e+00  4.6604931e-01 */
+    { 0x3f0e0fd6,0x3fe16450,0x3e9c4f3b }, /* 235:  5.5492914e-01  1.7608738e+00  3.0529198e-01 */
+    { 0xbfa0cfa3,0x3f6ea0ae,0xbf6eb628 }, /* 236: -1.2563366e+00  9.3213928e-01 -9.3246698e-01 */
+    { 0x401394ee,0xbf5c722a,0x3ff6ceee }, /* 237:  2.3059649e+00 -8.6111701e-01  1.9281900e+00 */
+    { 0xbf96c7fa,0xc0139f27,0xc02ad7ca }, /* 238: -1.1779778e+00 -2.3065889e+00 -2.6694207e+00 */
+    { 0xc0633cd5,0xc0138446,0xc00961bd }, /* 239: -3.5505879e+00 -2.3049483e+00 -2.1465905e+00 */
+    { 0xbe262587,0xbf313d60,0xc03a5448 }, /* 240: -1.6225253e-01 -6.9234276e-01 -2.9113941e+00 */
+    { 0xbf58d1ac,0x3f8d00d8,0xbf27cbbc }, /* 241: -8.4694934e-01  1.1015882e+00 -6.5545249e-01 */
+    { 0x3fe44122,0xc158cae4,0x4040afe6 }, /* 242:  1.7832377e+00 -1.3549534e+01  3.0107360e+00 */
+    { 0xc0129a43,0x3f9a60e6,0xbf8b073b }, /* 243: -2.2906654e+00  1.2060821e+00 -1.0861582e+00 */
+    { 0x3fef27a6,0xbed6c6da,0x3fe554cd }, /* 244:  1.8683975e+00 -4.1948587e-01  1.7916504e+00 */
+    { 0x3f6dde23,0xbf8bcae9,0x401bf1ef }, /* 245:  9.2917079e-01 -1.0921298e+00  2.4366415e+00 */
+    { 0xbf627f56,0x40321a99,0xbe9d9af9 }, /* 246: -8.8475549e-01  2.7828734e+00 -3.0782297e-01 */
+    { 0xbdd1fa27,0xbf873cfe,0xc042dee8 }, /* 247: -1.0252791e-01 -1.0565488e+00 -3.0448551e+00 */
+    { 0xbf91bef9,0xbf9babe4,0xc018e736 }, /* 248: -1.1386405e+00 -1.2161832e+00 -2.3891120e+00 */
+    { 0xbf3b3df0,0x412c78da,0xbd8abfb0 }, /* 249: -7.3141384e-01  1.0779505e+01 -6.7748427e-02 */
+    { 0xbde167d3,0x3f6a4925,0xbdf51e9f }, /* 250: -1.1006131e-01  9.1517860e-01 -1.1968731e-01 */
+    { 0xc0028540,0xc3dfe40d,0xc048c53c }, /* 251: -2.0393829e+00 -4.4778165e+02 -3.1370382e+00 */
+    { 0xc08822eb,0x3fc3e733,0xbf9cdbca }, /* 252: -4.2542624e+00  1.5304931e+00 -1.2254574e+00 */
+    { 0xc1eb265b,0xbf15e17e,0xbfcb9c73 }, /* 253: -2.9393728e+01 -5.8547199e-01 -1.5907120e+00 */
+    { 0x3f106448,0xbfc0d5d8,0x40322280 }, /* 254:  5.6403017e-01 -1.5065260e+00  2.7833557e+00 */
+    { 0xc07b3f28,0x3ff98bfe,0xbf8e0fd9 }, /* 255: -3.9257298e+00  1.9495847e+00 -1.1098586e+00 */
+    { 0xbffe25f2,0xbf5cf105,0xbffd8bd1 }, /* 256: -1.9855330e+00 -8.6305267e-01 -1.9808294e+00 */
+    { 0x403238fe,0xc03f89e3,0x401919aa }, /* 257:  2.7847285e+00 -2.9927909e+00  2.3921914e+00 */
+    { 0xbf1c729d,0x3fda1da2,0xbeb04e29 }, /* 258: -6.1112386e-01  1.7040293e+00 -3.4434631e-01 */
+    { 0xbf3a2f36,0x3fbff23c,0xbee733fe }, /* 259: -7.2728288e-01  1.4995799e+00 -4.5156854e-01 */
+    { 0x3f732919,0xbdfa3d5c,0x3fd97014 }, /* 260:  9.4984585e-01 -1.2218735e-01  1.6987329e+00 */
+    { 0xc00183fe,0x415aa735,0xbe168b18 }, /* 261: -2.0236812e+00  1.3665822e+01 -1.4701498e-01 */
+    { 0x3ee96adc,0xbf153e21,0x401e963f }, /* 262:  4.5589340e-01 -5.8297926e-01  2.4779203e+00 */
+    { 0xb80405b6,0x3f2bce16,0xb844b8a8 }, /* 263: -3.1476571e-05  6.7111337e-01 -4.6902016e-05 */
+    { 0xcc7fc55b,0xbf116bf2,0xbfc90fdb }, /* 264: -6.7048812e+07 -5.6805336e-01 -1.5707964e+00 */
+    { 0xbf315e20,0xbf976ff5,0xc0272807 }, /* 265: -6.9284248e-01 -1.1831042e+00 -2.6118181e+00 */
+    { 0xb84b483e,0x3ebfb3f2,0xb907bb43 }, /* 266: -4.8466252e-05  3.7441975e-01 -1.2944364e-04 */
+    { 0x3f2d52e7,0x4200ab06,0x3cac6602 }, /* 267:  6.7704624e-01  3.2167015e+01  2.1044735e-02 */
+    { 0x40aa3e8a,0xc02c34ff,0x40027fb6 }, /* 268:  5.3201342e+00 -2.6907346e+00  2.0390449e+00 */
+    { 0x3ee9c9d0,0x3f9b5370,0x3eb84496 }, /* 269:  4.5661783e-01  1.2134838e+00  3.5989827e-01 */
+    { 0x3f92e8d9,0x3f1cdc5a,0x3f8a4b49 }, /* 270:  1.1477309e+00  6.1273730e-01  1.0804225e+00 */
+    { 0xbf9567a7,0xbeb83f49,0xbfef574f }, /* 271: -1.1672257e+00 -3.5985783e-01 -1.8698519e+00 */
+    { 0xbf9ddd81,0x3fa0d11b,0xbf46b0e4 }, /* 272: -1.2333223e+00  1.2563814e+00 -7.7613664e-01 */
+    { 0x3f9c387b,0x3f9c2f88,0x3f491730 }, /* 273:  1.2204736e+00  1.2202005e+00  7.8551006e-01 */
+    { 0xbeb227e8,0xbf31ff68,0xc02b5da1 }, /* 274: -3.4796071e-01 -6.9530344e-01 -2.6775897e+00 */
+    { 0x3f1d545a,0x3ee30979,0x3f721d98 }, /* 275:  6.1456835e-01  4.4343165e-01  9.4576406e-01 */
+    { 0xbf9843bb,0xbff08da8,0xc024f220 }, /* 276: -1.1895670e+00 -1.8793230e+00 -2.5772781e+00 */
+    { 0x3fd59e68,0x3fd497b7,0x3f49ada3 }, /* 277:  1.6688967e+00  1.6608800e+00  7.8780574e-01 */
+    { 0xbef67fed,0x3f6b446b,0xbef71260 }, /* 278: -4.8144475e-01  9.1901273e-01 -4.8256207e-01 */
+    { 0x4566a9bb,0x3fd1e8e1,0x3fc9014b }, /* 279:  3.6906082e+03  1.6399194e+00  1.5703520e+00 */
+    { 0x3e793441,0x3f0a39bf,0x3ed8cec5 }, /* 280:  2.4336340e-01  5.3994364e-01  4.2345253e-01 */
+    { 0x4004786b,0x3f5da5bd,0x3f9659de }, /* 281:  2.0698497e+00  8.6581022e-01  1.1746175e+00 */
+    { 0xbedde9db,0xbee33aea,0xc0178dd3 }, /* 282: -4.3342480e-01 -4.4380885e-01 -2.3680313e+00 */
+    { 0xbee32604,0x3f93c551,0xbebbd948 }, /* 283: -4.4364941e-01  1.1544591e+00 -3.6689210e-01 */
+    { 0x3f759c7b,0x40bbdaf5,0x3e25e30e }, /* 284:  9.5941895e-01  5.8704782e+00  1.6199896e-01 */
+    { 0x4089caaa,0x3f311053,0x3fb4ad07 }, /* 285:  4.3059893e+00  6.9165534e-01  1.4115304e+00 */
+    { 0xbfc57b10,0xbf9cc8eb,0xc00f7a03 }, /* 286: -1.5428181e+00 -1.2248815e+00 -2.2418220e+00 */
+    { 0x3fc671a0,0xbe9430a7,0x3fe0afb2 }, /* 287:  1.5503426e+00 -2.8943369e-01  1.7553618e+00 */
+    { 0x3dcaded8,0x3f39b8d5,0x3e0af59f }, /* 288:  9.9057853e-02  7.2547656e-01  1.3570260e-01 */
+    { 0x3e6ba61a,0x3ffefec1,0x3deb8894 }, /* 289:  2.3012581e-01  1.9921495e+00  1.1500660e-01 */
+    { 0xbc116a66,0xbf14ab3a,0xc048157a }, /* 290: -8.8754650e-03 -5.8073771e-01 -3.1263108e+00 */
+    { 0xbf999cf7,0x3f9c9d05,0xbf469613 }, /* 291: -1.2001027e+00  1.2235419e+00 -7.7572745e-01 */
+    { 0x3fc1ee43,0x3f7057d2,0x3f820dc0 }, /* 292:  1.5150837e+00  9.3884003e-01  1.0160446e+00 */
+    { 0x3f9bfdb2,0x41ef9035,0x3d269a0d }, /* 293:  1.2186797e+00  2.9945414e+01  4.0674258e-02 */
+    { 0xbe10612c,0xbf76c1c4,0xc03fc420 }, /* 294: -1.4099568e-01 -9.6389413e-01 -2.9963455e+00 */
+    { 0x408ba361,0xc09f9dda,0x401b1013 }, /* 295:  4.3636937e+00 -4.9880190e+00  2.4228561e+00 */
+    { 0xbef8a2f8,0x3fd4efdc,0xbe916b44 }, /* 296: -4.8561835e-01  1.6635699e+00 -2.8402150e-01 */
+    { 0x40612bae,0x4049afb6,0x3f5721cc }, /* 297:  3.5182910e+00  3.1513495e+00  8.4035945e-01 */
+    { 0xbf1eb091,0xbf9e3377,0xc02b4f38 }, /* 298: -6.1988169e-01 -1.2359456e+00 -2.6767101e+00 */
+    { 0xbe9c914b,0x3f700acd,0xbea16856 }, /* 299: -3.0579600e-01  9.3766481e-01 -3.1524915e-01 */
+    { 0xbe75eb55,0x3f0f3f02,0xbecf9278 }, /* 300: -2.4015553e-01  5.5955517e-01 -4.0541434e-01 */
+    { 0xe14d4f06,0x408ac079,0xbfc90fdb }, /* 301: -2.3670480e+20  4.3359952e+00 -1.5707964e+00 */
+    { 0x3fe99ef5,0x3f3602b7,0x3f9983e3 }, /* 302:  1.8251635e+00  7.1097893e-01  1.1993374e+00 */
+    { 0xc068e7be,0xbf6d21ff,0xbfe8f71d }, /* 303: -3.6391444e+00 -9.2629999e-01 -1.8200413e+00 */
+    { 0x3f76cf41,0xbcb8d587,0x3fcc0e95 }, /* 304:  9.6409994e-01 -2.2562755e-02  1.5941950e+00 */
+    { 0xbf600c9e,0x3fb9b414,0xbf0af513 }, /* 305: -8.7519252e-01  1.4508080e+00 -5.4280204e-01 */
+    { 0x3f67364a,0x3f6bc840,0x3f468e85 }, /* 306:  9.0317214e-01  9.2102432e-01  7.7561218e-01 */
+    { 0x3f749fa2,0xbf8ec1be,0x401bb91c }, /* 307:  9.5556080e-01 -1.1152875e+00  2.4331732e+00 */
+    { 0xbf0234d5,0xbf975ab2,0xc02f1070 }, /* 308: -5.0861865e-01 -1.1824553e+00 -2.7353783e+00 */
+    { 0xbf616bc5,0x3f3e879b,0xbf5e7c62 }, /* 309: -8.8055068e-01  7.4425668e-01 -8.6908543e-01 */
+    { 0x40930fb3,0x3f756caf,0x3faebcdb }, /* 310:  4.5956664e+00  9.5868963e-01  1.3651384e+00 */
+    { 0xc07e9de7,0x3f6b41ae,0xbfac0137 }, /* 311: -3.9783876e+00  9.1897094e-01 -1.3437871e+00 */
+    { 0xbeff4974,0xbf5d630f,0xc02796e4 }, /* 312: -4.9860728e-01 -8.6479276e-01 -2.6185846e+00 */
+    { 0xbf921c9e,0x3f440e3a,0xbf7ad83e }, /* 313: -1.1414983e+00  7.6584208e-01 -9.7986209e-01 */
+    { 0xbf68c7d9,0xbf088872,0xc0067aee }, /* 314: -9.0929943e-01 -5.3333199e-01 -2.1012530e+00 */
+    { 0x3663c4bf,0x4028b4ed,0x35accf9b }, /* 315:  3.3940157e-06  2.6360428e+00  1.2875420e-06 */
+    { 0xbf04e001,0x413c5ff4,0xbd347596 }, /* 316: -5.1904303e-01  1.1773426e+01 -4.4057451e-02 */
+    { 0xc15fcc00,0x3feabdbb,0xbfb85feb }, /* 317: -1.3987305e+01  1.8339151e+00 -1.4404272e+00 */
+    { 0xbfcdd49e,0xbf9af3e7,0xc00dd48c }, /* 318: -1.6080511e+00 -1.2105683e+00 -2.2160978e+00 */
+    { 0x3fd1533b,0xc1b2b765,0x4044629c }, /* 319:  1.6353525e+00 -2.2339548e+01  3.0685186e+00 */
+    { 0x3d9a0f74,0xbfef73f5,0x40467d62 }, /* 320:  7.5224787e-02 -1.8707262e+00  3.1014028e+00 */
+    { 0xbf9643d3,0x40279449,0xbed7cb41 }, /* 321: -1.1739448e+00  2.6184256e+00 -4.2147258e-01 */
+    { 0xbfeb8a60,0x3fea8e54,0xbf49991c }, /* 322: -1.8401604e+00  1.8324685e+00 -7.8749251e-01 */
+    { 0x3f70bf6d,0x3ffd0a07,0x3ee357d4 }, /* 323:  9.4042093e-01  1.9768685e+00  4.4402945e-01 */
+    { 0x3f9512b8,0x401c7e39,0x3ee395e0 }, /* 324:  1.1646338e+00  2.4452040e+00  4.4450283e-01 */
+    { 0x3f9bf55b,0xbf6ed762,0x400e5aa8 }, /* 325:  1.2184252e+00 -9.3297398e-01  2.2242832e+00 */
+    { 0x3f3f5073,0xbf2a4105,0x401312a6 }, /* 326:  7.4732131e-01 -6.6505462e-01  2.2980132e+00 */
+    { 0x3fe9206d,0xbd333716,0x3fcc22e6 }, /* 327:  1.8213021e+00 -4.3753706e-02  1.5948150e+00 */
+    { 0xc0589846,0x3f174435,0xbfb2efc8 }, /* 328: -3.3842940e+00  5.9088451e-01 -1.3979425e+00 */
+    { 0x403cfbcb,0x4701a548,0x38ba95b2 }, /* 329:  2.9528682e+00  3.3189281e+04  8.8970541e-05 */
+    { 0xc012e53c,0x3f0a2fc6,0xbfab7f10 }, /* 330: -2.2952414e+00  5.3979146e-01 -1.3398151e+00 */
+    { 0xbf800000,0xbff2f6fe,0xc02a07a2 }, /* 331: -1.0000000e+00 -1.8981626e+00 -2.6567159e+00 */
+    { 0xbf69cf09,0x3fd9c41a,0xbefc4078 }, /* 332: -9.1331536e-01  1.7012970e+00 -4.9267936e-01 */
+    { 0xbf6ea0a1,0x3eff17c4,0xbf8a3b2e }, /* 333: -9.3213850e-01  4.9822819e-01 -1.0799310e+00 */
+    { 0xc011b6d6,0xc04fd6d8,0xc021edbb }, /* 334: -2.2767844e+00 -3.2474880e+00 -2.5301349e+00 */
+    { 0xbfcbb156,0xbf986678,0xc00da406 }, /* 335: -1.5913494e+00 -1.1906271e+00 -2.2131362e+00 */
+    { 0x3f67fae2,0xc16618a4,0x404508d5 }, /* 336:  9.0617192e-01 -1.4381016e+01  3.0786641e+00 */
+    { 0xfac3aefc,0xbf26396c,0xbfc90fdb }, /* 337: -5.0802350e+35 -6.4931369e-01 -1.5707964e+00 */
+    { 0x3f4a6fb5,0x4063ea4c,0x3e5fc04b }, /* 338:  7.9076701e-01  3.5611753e+00  2.1850698e-01 */
+    { 0x3f6fb1b8,0xbf656d1f,0x40156557 }, /* 339:  9.3630552e-01 -8.9619631e-01  2.3343103e+00 */
+    { 0xbf6d00f6,0xbf96cca0,0xc01e6f7e }, /* 340: -9.2579591e-01 -1.1781197e+00 -2.4755549e+00 */
+    { 0x3fa3579e,0x3f92648b,0x3f570e95 }, /* 341:  1.2761114e+00  1.1436933e+00  8.4006625e-01 */
+    { 0xcf5faefb,0x2b0204b7,0xbfc90fdb }, /* 342: -3.7527867e+09  4.6191821e-13 -1.5707964e+00 */
+    { 0x3f77836d,0xbf9cdd62,0x401e5000 }, /* 343:  9.6684915e-01 -1.2255061e+00  2.4736328e+00 */
+    { 0xbe54bb52,0xbf6e3a64,0xc03b013d }, /* 344: -2.0774582e-01 -9.3057847e-01 -2.9219506e+00 */
+    { 0x3c8a4038,0x3f9d25b5,0x3c6133e2 }, /* 345:  1.6876325e-02  1.2277132e+00  1.3745280e-02 */
+    { 0x3f2e0e72,0x3f990bfa,0x3f045cba }, /* 346:  6.7990792e-01  1.1956780e+00  5.1703990e-01 */
+    { 0x3f6b24d7,0xbf664420,0x4016202f }, /* 347:  9.1853088e-01 -8.9947701e-01  2.3457143e+00 */
+    { 0xc026976b,0xc076b45e,0xc0230cda }, /* 348: -2.6029918e+00 -3.8547587e+00 -2.5476594e+00 */
+    { 0xbf905f91,0xbf1ae098,0xc0040a2d }, /* 349: -1.1279165e+00 -6.0498953e-01 -2.0631211e+00 */
+    { 0xbebd87a6,0x3f63ed32,0xbec9bdd9 }, /* 350: -3.7017554e-01  8.9033806e-01 -3.9402655e-01 */
+    { 0x3ec65fd8,0x3fa87a58,0x3e9292e3 }, /* 351:  3.8744998e-01  1.3162336e+00  2.8627691e-01 */
+    { 0x3729175c,0x3f9bb5cd,0x370afff2 }, /* 352:  1.0078624e-05  1.2164856e+00  8.2850329e-06 */
+    { 0xbfd10945,0x3ffc71b3,0xbf310d78 }, /* 353: -1.6330954e+00  1.9722198e+00 -6.9161177e-01 */
+    { 0xbef3be99,0x4070e148,0xbe00d686 }, /* 354: -4.7606352e-01  3.7637501e+00 -1.2581834e-01 */
+    { 0x4035eb06,0xbf72929e,0x3ff23f99 }, /* 355:  2.8424697e+00 -9.4754970e-01  1.8925658e+00 */
+    { 0x4600ca25,0x3f8d7c25,0x3fc90b76 }, /* 356:  8.2425361e+03  1.1053511e+00  1.5706623e+00 */
+    { 0xbeb4bd13,0xbf62f9d5,0xc030cfdb }, /* 357: -3.5300502e-01 -8.8662463e-01 -2.7626865e+00 */
+    { 0x3fa27f14,0xc00c6054,0x40277b8c }, /* 358:  1.2695031e+00 -2.1933794e+00  2.6169157e+00 */
+    { 0x3e95132e,0x3f9f4258,0x3e6b64c0 }, /* 359:  2.9116195e-01  1.2442122e+00  2.2987652e-01 */
+    { 0x3c2901ef,0x3e4f37fa,0x3d509cf1 }, /* 360:  1.0315402e-02  2.0236197e-01  5.0930921e-02 */
+    { 0xbd16dfe0,0xbe9ded1e,0xc0417486 }, /* 361: -3.6834598e-02 -3.0844969e-01 -3.0227370e+00 */
+    { 0x3ef261fd,0xc07f575c,0x404180d6 }, /* 362:  4.7340384e-01 -3.9897070e+00  3.0234885e+00 */
+    { 0xbb5ebc07,0x3f968eec,0xbb3d5c87 }, /* 363: -3.3986585e-03  1.1762366e+00 -2.8894262e-03 */
+    { 0xbf21cfe1,0x401378f7,0xbe89130d }, /* 364: -6.3207823e-01  2.3042581e+00 -2.6772347e-01 */
+    { 0xbe68b8c3,0xbf120ad4,0xc030cc86 }, /* 365: -2.2726731e-01 -5.7047772e-01 -2.7624831e+00 */
+    { 0x3f362462,0x3f919825,0x3f0f1883 }, /* 366:  7.1149266e-01  1.1374556e+00  5.5896777e-01 */
+    { 0x3f6f2686,0xbf09fb40,0x400605d5 }, /* 367:  9.3418157e-01 -5.3899002e-01  2.0941060e+00 */
+    { 0x3bad287b,0x404d902d,0x3ad7a4d4 }, /* 368:  5.2843667e-03  3.2119248e+00  1.6452321e-03 */
+    { 0xbfe8e5c6,0xbf96d3e9,0xc0094fc0 }, /* 369: -1.8195121e+00 -1.1783420e+00 -2.1454926e+00 */
+    { 0xbfb78f48,0xbef4e56c,0xbff244ff }, /* 370: -1.4340601e+00 -4.7831285e-01 -1.8927306e+00 */
+    { 0xc04bfd93,0x3f9654bb,0xbf9bdf7f }, /* 371: -3.1873519e+00  1.1744608e+00 -1.2177581e+00 */
+    { 0x41163ff6,0xbdefb41b,0x3fcaa83f }, /* 372:  9.3906155e+00 -1.1704274e-01  1.5832595e+00 */
+    { 0xbf64042e,0x3f9aee82,0xbf22676b }, /* 373: -8.9068878e-01  1.2104037e+00 -6.3439053e-01 */
+    { 0xbf907b85,0x3f08869a,0xbf9090c9 }, /* 374: -1.1287695e+00  5.3330386e-01 -1.1294185e+00 */
+    { 0xc10a6a39,0x3f409229,0xbfbdf5b5 }, /* 375: -8.6509333e+00  7.5223023e-01 -1.4840609e+00 */
+    { 0x3f5dc594,0x3f9c936e,0x3f1dbf7f }, /* 376:  8.6629605e-01  1.2232492e+00  6.1620325e-01 */
+    { 0xbfbc5aeb,0x3f90efdf,0xbf6a3975 }, /* 377: -1.4715246e+00  1.1323203e+00 -9.1493922e-01 */
+    { 0x3dda23be,0xc0e777c8,0x40481e9d }, /* 378:  1.0651349e-01 -7.2333717e+00  3.1268685e+00 */
+    { 0x4014b3f7,0xc11288fa,0x40392924 }, /* 379:  2.3234842e+00 -9.1584415e+00  2.8931360e+00 */
+    { 0x3f941c22,0xb565a28d,0x3fc90fe1 }, /* 380:  1.1571085e+00 -8.5545690e-07  1.5707971e+00 */
+    { 0xbf8623b3,0x2fc4a581,0xbfc90fdb }, /* 381: -1.0479645e+00  3.5769790e-10 -1.5707964e+00 */
+    { 0x3f694519,0x4c5b023c,0x328855c1 }, /* 382:  9.1121060e-01  5.7411824e+07  1.5871480e-08 */
+    { 0x405c4828,0xbfc778d3,0x3fff7b35 }, /* 383:  3.4419041e+00 -1.5583748e+00  1.9959475e+00 */
+    { 0x3f919575,0x3f98b037,0x3f42f727 }, /* 384:  1.1373736e+00  1.1928777e+00  7.6158375e-01 */
+    { 0x3ff0adc7,0x42335746,0x3d2bad82 }, /* 385:  1.8803033e+00  4.4835228e+01  4.1913517e-02 */
+    { 0x3f6ff7af,0x3ebfaa70,0x3f986d91 }, /* 386:  9.3737310e-01  3.7434721e-01  1.1908437e+00 */
+    { 0xbf63f0ae,0xbea81720,0xbff64726 }, /* 387: -8.9039123e-01 -3.2830143e-01 -1.9240463e+00 */
+    { 0xbf1c46f0,0xbf98d50d,0xc02ad066 }, /* 388: -6.1045742e-01 -1.1940018e+00 -2.6689696e+00 */
+    { 0x3f99b949,0x3e4e313b,0x3fb3cc73 }, /* 389:  1.2009670e+00  2.0135967e-01  1.4046768e+00 */
+    { 0x31803766,0x3f9dbf46,0x31501375 }, /* 390:  3.7315884e-09  1.2323997e+00  3.0279044e-09 */
+    { 0xbff6b13c,0xbd48e64a,0xbfcc5198 }, /* 391: -1.9272838e+00 -4.9047746e-02 -1.5962400e+00 */
+    { 0x3f95532a,0x3eb77bd5,0x3fa2e9b7 }, /* 392:  1.1666005e+00  3.5836664e-01  1.2727574e+00 */
+    { 0xbe3db74d,0x3e6df030,0xbf2c511c }, /* 393: -1.8526955e-01  2.3236156e-01 -6.7311263e-01 */
+    { 0x3f9a4c38,0xc05de404,0x4033a589 }, /* 394:  1.2054510e+00 -3.4670420e+00  2.8069785e+00 */
+    { 0x3ff06f36,0x42763157,0x3cf9ef4a }, /* 395:  1.8783939e+00  6.1548183e+01  3.0509610e-02 */
+    { 0x3f692f1f,0xbee66bed,0x4001e682 }, /* 396:  9.1087526e-01 -4.5004216e-01  2.0296941e+00 */
+    { 0x3ee0a13c,0xbf9f63d0,0x403361d3 }, /* 397:  4.3873012e-01 -1.2452335e+00  2.8028457e+00 */
+    { 0x40f49d37,0xbf2987de,0x3fd41f88 }, /* 398:  7.6441913e+00 -6.6222942e-01  1.6572123e+00 */
+    { 0xbfdb87b5,0xc01eb0ac,0xc0225568 }, /* 399: -1.7150789e+00 -2.4795332e+00 -2.5364628e+00 */
+    { 0xbf29a7c0,0x3f97bb26,0xbf0280bc }, /* 400: -6.6271591e-01  1.1853988e+00 -5.0977683e-01 */
+    { 0xc00fe68b,0x3f695191,0xbf97c4a8 }, /* 401: -2.2484462e+00  9.1140085e-01 -1.1856890e+00 */
+    { 0xbf61e2f2,0xbfddabda,0xc02ae74e }, /* 402: -8.8236916e-01 -1.7318070e+00 -2.6703677e+00 */
+    { 0xbfd950b0,0x3e0facfa,0xbfbe81f7 }, /* 403: -1.6977749e+00  1.4030829e-01 -1.4883412e+00 */
+    { 0xbf0eb0a1,0xbfbbd128,0xc031d3ff }, /* 404: -5.5738264e-01 -1.4673204e+00 -2.7785642e+00 */
+    { 0xbfc2a817,0x4042395f,0xbeedd7ea }, /* 405: -1.5207547e+00  3.0347517e+00 -4.6453792e-01 */
+    { 0x3fbec374,0x3ffa7195,0x3f26a490 }, /* 406:  1.4903398e+00  1.9565912e+00  6.5094852e-01 */
+    { 0x3f9d9c7d,0xd4910304,0x40490fdb }, /* 407:  1.2313381e+00 -4.9825668e+12  3.1415927e+00 */
+    { 0x403324de,0xbfba3fca,0x40033631 }, /* 408:  2.7991252e+00 -1.4550717e+00  2.0501826e+00 */
+    { 0xbfe78d60,0xc052993e,0xc028e471 }, /* 409: -1.8090019e+00 -3.2906032e+00 -2.6389430e+00 */
+    { 0x44c6406e,0x3f98d115,0x3fc8f730 }, /* 410:  1.5860134e+03  1.1938807e+00  1.5700436e+00 */
+    { 0x3ff5813d,0xc04de7af,0x4026a7f4 }, /* 411:  1.9180065e+00 -3.2172658e+00  2.6040010e+00 */
+    { 0xbf72c17e,0x3f668d80,0xbf4fa92a }, /* 412: -9.4826496e-01  9.0059662e-01 -8.1117499e-01 */
+    { 0xbf84f769,0x3fe2c1f5,0xbf07c4ba }, /* 413: -1.0388004e+00  1.7715441e+00 -5.3034556e-01 */
+    { 0xbffec763,0x3f8d83a8,0xbf882a27 }, /* 414: -1.9904598e+00  1.1055803e+00 -1.0637864e+00 */
+    { 0xc100965b,0x3f656b28,0xbfbad8f5 }, /* 415: -8.0367079e+00  8.9616632e-01 -1.4597460e+00 */
+    { 0xbed7eed9,0x3f65024c,0xbee18f98 }, /* 416: -4.2174414e-01  8.9456630e-01 -4.4054866e-01 */
+    { 0xc1803e1a,0x3f272421,0xbfc3d9fe }, /* 417: -1.6030323e+01  6.5289503e-01 -1.5300901e+00 */
+    { 0xc0d8daff,0x3f9f3ead,0xbfb1d26b }, /* 418: -6.7767329e+00  1.2441002e+00 -1.3892339e+00 */
+    { 0xbeee84b7,0xbf290575,0xc021bc73 }, /* 419: -4.6585628e-01 -6.6023952e-01 -2.5271270e+00 */
+    { 0xbf969d30,0xbed6d7bb,0xbff4e89d }, /* 420: -1.1766720e+00 -4.1961464e-01 -1.9133488e+00 */
+    { 0x3ec21c73,0x391036ac,0x3fc903f8 }, /* 421:  3.7912330e-01  1.3753277e-04  1.5704336e+00 */
+    { 0x3fe74eaa,0xbfd9c6bc,0x4014de63 }, /* 422:  1.8070881e+00 -1.7013774e+00  2.3260734e+00 */
+    { 0xbfde6599,0x3fdbd4c4,0xbf4a8c15 }, /* 423: -1.7374755e+00  1.7174306e+00 -7.9119998e-01 */
+    { 0x3f980f88,0x3f9b5a66,0x3f4651fb }, /* 424:  1.1879740e+00  1.2136962e+00  7.7468842e-01 */
+    { 0x426b6fd8,0x3ef71cb2,0x3fc8032a }, /* 425:  5.8859222e+01  4.8264080e-01  1.5625966e+00 */
+    { 0xbf97e466,0x3f33ed74,0xbf849ddb }, /* 426: -1.1866577e+00  7.0284200e-01 -1.0360674e+00 */
+    { 0xbf651633,0x401e0921,0xbeb2029b }, /* 427: -8.9486998e-01  2.4693072e+00 -3.4767613e-01 */
+    { 0x3f8cc17a,0x482c72b8,0x36d0f3db }, /* 428:  1.0996544e+00  1.7658688e+05  6.2272716e-06 */
+    { 0xbf70326a,0xbff64ae5,0xc02c0674 }, /* 429: -9.3826926e-01 -1.9241606e+00 -2.6878939e+00 */
+    { 0x3ebfd8cc,0x4038d3ed,0x3e041f72 }, /* 430:  3.7470090e-01  2.8879349e+00  1.2902620e-01 */
+    { 0x3fd5f93c,0xbedf9092,0x3fe9c3fe }, /* 431:  1.6716685e+00 -4.3664986e-01  1.8262937e+00 */
+    { 0xbf6c8ca5,0x3f14a93e,0xbf813e57 }, /* 432: -9.2402107e-01  5.8070743e-01 -1.0097150e+00 */
+    { 0xbfda84b5,0xc043975e,0xc028755d }, /* 433: -1.7071749e+00 -3.0561137e+00 -2.6321633e+00 */
+    { 0x3fd093d2,0xbf10cd9f,0x3ff3d3e5 }, /* 434:  1.6295111e+00 -5.6563753e-01  1.9049040e+00 */
+    { 0xbf635ac5,0xbf5e805c,0xc0161b24 }, /* 435: -8.8810378e-01 -8.6914611e-01 -2.3454065e+00 */
+    { 0xbea15fb9,0xbee91b5f,0xc0224efb }, /* 436: -3.1518343e-01 -4.5528695e-01 -2.5360706e+00 */
+    { 0xc01a4ee1,0xbf95fbae,0xc0017b9e }, /* 437: -2.4110644e+00 -1.1717432e+00 -2.0231700e+00 */
+    { 0x3f963aa4,0xbf118815,0x40016621 }, /* 438:  1.1736646e+00 -5.6848270e-01  2.0218585e+00 */
+    { 0x3f91c868,0x3fe42077,0x3f1191ff }, /* 439:  1.1389284e+00  1.7822407e+00  5.6863397e-01 */
+    { 0x3f8e054f,0xc038bdc4,0x4031937a }, /* 440:  1.1095370e+00 -2.8865824e+00  2.7746263e+00 */
+    { 0x40271d08,0xc0e39207,0x40328a89 }, /* 441:  2.6111469e+00 -7.1115756e+00  2.7897055e+00 */
+    { 0x3ff81310,0xbeecb275,0x3fe708c4 }, /* 442:  1.9380817e+00 -4.6229902e-01  1.8049550e+00 */
+    { 0x3f9a4659,0x3f08c39d,0x3f93a839 }, /* 443:  1.2052718e+00  5.3423482e-01  1.1535712e+00 */
+    { 0x3fe40fb2,0xbfc13f0e,0x4011850f }, /* 444:  1.7817290e+00 -1.5097368e+00  2.2737463e+00 */
+    { 0x3fa31ceb,0x3fd501f4,0x3f274c93 }, /* 445:  1.2743200e+00  1.6641221e+00  6.5351218e-01 */
+    { 0x3d5d4e97,0xbf2f1547,0x40440430 }, /* 446:  5.4030027e-02 -6.8391842e-01  3.0627556e+00 */
+    { 0x3fe1feb1,0xbf252edc,0x3ff5e90e }, /* 447:  1.7655851e+00 -6.4524627e-01  1.9211748e+00 */
+    { 0x402a05e1,0x3fe994e0,0x3f780a64 }, /* 448:  2.6566088e+00  1.8248558e+00  9.6890855e-01 */
+    { 0x3f15308e,0xbecc23c4,0x400aee9b }, /* 449:  5.8277214e-01 -3.9871037e-01  2.1708133e+00 */
+    { 0xbf608313,0x3b4cdb4a,0xbfc89b10 }, /* 450: -8.7700003e-01  3.1258636e-03 -1.5672321e+00 */
+    { 0xbff05ceb,0xbff3c59c,0xc0173f41 }, /* 451: -1.8778356e+00 -1.9044681e+00 -2.3632357e+00 */
+    { 0xbeb96031,0x40842ad3,0xbdb312b2 }, /* 452: -3.6206201e-01  4.1302276e+00 -8.7438002e-02 */
+    { 0xc070d23f,0xbf979470,0xbff016d9 }, /* 453: -3.7628324e+00 -1.1842175e+00 -1.8756973e+00 */
+    { 0xbc616df1,0xc037a6a2,0xc048c14c }, /* 454: -1.3759122e-02 -2.8695455e+00 -3.1367979e+00 */
+    { 0xbf999446,0x3f4a45a0,0xbf7d0b15 }, /* 455: -1.1998374e+00  7.9012489e-01 -9.8845035e-01 */
+    { 0xbf5ca9f0,0x3fa177e1,0xbf197468 }, /* 456: -8.6196804e-01  1.2614709e+00 -5.9943247e-01 */
+    { 0xc133a03b,0xbe3d79eb,0xbfcb2be2 }, /* 457: -1.1226619e+01 -1.8503539e-01 -1.5872767e+00 */
+    { 0xb9471442,0x3ec059e5,0xba047a25 }, /* 458: -1.8985666e-04  3.7568584e-01 -5.0536013e-04 */
+    { 0xbee588e3,0xbed1be94,0xc013ea43 }, /* 459: -4.4830999e-01 -4.0965712e-01 -2.3111732e+00 */
+    { 0x3f9b9b96,0xbeff15d7,0x3ffad8c5 }, /* 460:  1.2156856e+00 -4.9821350e-01  1.9597403e+00 */
+    { 0xbf173be4,0x3ebf5f4c,0xbf80dacc }, /* 461: -5.9075761e-01  3.7377393e-01 -1.0066772e+00 */
+    { 0x3f9ad51c,0xbf7592f9,0x400f7108 }, /* 462:  1.2096286e+00 -9.5927387e-01  2.2412739e+00 */
+    { 0xbf40bf78,0x3f5e7ed7,0xbf36c0f1 }, /* 463: -7.5292158e-01  8.6912292e-01 -7.1388155e-01 */
+    { 0xbee67609,0xbf1030f7,0xc01de963 }, /* 464: -4.5011929e-01 -5.6324714e-01 -2.4673698e+00 */
+    { 0xbd0d7a5a,0x3f94c937,0xbcf35aad }, /* 465: -3.4540512e-02  1.1623906e+00 -2.9706324e-02 */
+    { 0x3f2a5143,0x3eee7bf6,0x3f75c208 }, /* 466:  6.6530246e-01  4.6578950e-01  9.5999193e-01 */
+    { 0xbfc0114c,0x3f8cf106,0xbf700f7c }, /* 467: -1.5005279e+00  1.1011055e+00 -9.3773627e-01 */
+    { 0x40cfc677,0xbf71173f,0x3fdb7fb6 }, /* 468:  6.4929767e+00 -9.4176096e-01  1.7148349e+00 */
+    { 0x268b7d83,0x3f2811ef,0x26d477d0 }, /* 469:  9.6790825e-16  6.5652364e-01  1.4742930e-15 */
+    { 0x4022a0b2,0xbfe59a64,0x400bdeef }, /* 470:  2.5410581e+00 -1.7937741e+00  2.1854818e+00 */
+    { 0xbf1a8596,0x3f30d708,0xbf37d87a }, /* 471: -6.0360086e-01  6.9078112e-01 -7.1814692e-01 */
+    { 0x3f9f0371,0x3f5f75c8,0x3f7552f8 }, /* 472:  1.2422925e+00  8.7289095e-01  9.5829725e-01 */
+    { 0x3f9b5c44,0xbf1966fc,0x4001e185 }, /* 473:  1.2137532e+00 -5.9922767e-01  2.0293896e+00 */
+    { 0x3f5edbd1,0xc0058764,0x402fc37b }, /* 474:  8.7054163e-01 -2.0863886e+00  2.7463062e+00 */
+    { 0x53d6a96a,0xbf294fb3,0x3fc90fdb }, /* 475:  1.8439306e+12 -6.6137236e-01  1.5707964e+00 */
+    { 0x400b2025,0x3edac4f8,0x3fb03822 }, /* 476:  2.1738369e+00  4.2728400e-01  1.3767130e+00 */
+    { 0xbd56285b,0xbfcebbbf,0xc046fda7 }, /* 477: -5.2284580e-02 -1.6151046e+00 -3.1092317e+00 */
+    { 0xbf331072,0x3e1d1126,0xbfad6e2c }, /* 478: -6.9946969e-01  1.5338573e-01 -1.3549247e+00 */
+    { 0xbfa00ee2,0xc0115df5,0xc028da97 }, /* 479: -1.2504542e+00 -2.2713597e+00 -2.6383417e+00 */
+    { 0x3f6fce9a,0xbf1a0790,0x40091255 }, /* 480:  9.3674624e-01 -6.0167789e-01  2.1417439e+00 */
+    { 0x3f750c6d,0xbeab3d18,0x3ff4166c }, /* 481:  9.5722085e-01 -3.3445048e-01  1.9069343e+00 */
+    { 0x3f6815a0,0xbccb9d08,0x3fcc9202 }, /* 482:  9.0657997e-01 -2.4855152e-02  1.5982058e+00 */
+    { 0x3e18c743,0x42510803,0x3b3b1b51 }, /* 483:  1.4919762e-01  5.2257824e+01  2.8550217e-03 */
+    { 0x405dd078,0x3efc4e80,0x3fb6fbcf }, /* 484:  3.4658489e+00  4.9278641e-01  1.4295596e+00 */
+    { 0xbfcb4e22,0xbf96f0e4,0xc00d6771 }, /* 485: -1.5883219e+00 -1.1792264e+00 -2.2094386e+00 */
+    { 0xbf62fce0,0x4275e43e,0xbc6c4d7f }, /* 486: -8.8667107e-01  6.1472893e+01 -1.4422773e-02 */
+    { 0xc0fb57c6,0x3eba0b87,0xbfc324ff }, /* 487: -7.8544645e+00  3.6336920e-01 -1.5245665e+00 */
+    { 0x3f1ab107,0x3f9468da,0x3ef5fb9c }, /* 488:  6.0426372e-01  1.1594498e+00  4.8043525e-01 */
+    { 0xbf7447a2,0x3f2f8639,0xbf729ee2 }, /* 489: -9.5421803e-01  6.8564183e-01 -9.4773686e-01 */
+    { 0x3f971bd2,0xbf7339ab,0x400fe6c0 }, /* 490:  1.1805365e+00 -9.5009869e-01  2.2484589e+00 */
+    { 0xbf696274,0x3f2f7e32,0xbf6d119d }, /* 491: -9.1165853e-01  6.8551934e-01 -9.2605001e-01 */
+    { 0xbf686ba0,0xbf4ee9be,0xc01315b7 }, /* 492: -9.0789223e-01 -8.0825412e-01 -2.2982004e+00 */
+    { 0xbf95d2b9,0xbee49850,0xbff7b4b5 }, /* 493: -1.1704932e+00 -4.4647455e-01 -1.9352022e+00 */
+    { 0xbf61cc2d,0x3f23ed00,0xbf715e1f }, /* 494: -8.8202173e-01  6.4033508e-01 -9.4284242e-01 */
+    { 0xc37117f9,0xbf9a94f5,0xbfc9b3fe }, /* 495: -2.4109364e+02 -1.2076708e+00 -1.5758054e+00 */
+    { 0x3ee0d440,0x3ff90c6f,0x3e634be5 }, /* 496:  4.3911934e-01  1.9456919e+00  2.2196920e-01 */
+    { 0xbf5bdde4,0xbf0b27a6,0xc008a4d4 }, /* 497: -8.5885453e-01 -5.4357374e-01 -2.1350603e+00 */
+    { 0x3feb3da0,0x40139737,0x3f2c4135 }, /* 498:  1.8378181e+00  2.3061044e+00  6.7286998e-01 */
+    { 0xbf0b4297,0x3efce831,0xbf55640e }, /* 499: -5.4398483e-01  4.9395898e-01 -8.3355796e-01 */
+    { 0x3fd4320c,0x3f64364f,0x3f89e8b6 }, /* 500:  1.6577773e+00  8.9145368e-01  1.0774143e+00 */
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]:  %#lx\n", index - 1, v.lo);
+#endif
+    exit (index ? index : -1);
+}
+
+int main ()
+{
+    union lofl_u y, x, z;
+    unsigned long v1, z1, r;
+    int i;
+    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	y.lo = pgm_read_dword (& t[i].y);
+	x.lo = pgm_read_dword (& t[i].x);
+	z.lo = pgm_read_dword (& t[i].z);
+	v.fl = atan2 (y.fl, x.fl);
+	
+	v1 = (v.lo < 0) ? (unsigned long)~(v.lo) : v.lo + 0x80000000;
+	z1 = (z.lo < 0) ? (unsigned long)~(z.lo) : z.lo + 0x80000000;
+	r = (v1 >= z1) ? v1 - z1 : z1 - v1;
+	
+	if (r > 2) x_exit (i+1);
+    }
+    return 0;
+}
diff --git a/tests/simulate/math/cbrt-01.c b/tests/simulate/math/cbrt-01.c
new file mode 100644
index 0000000..8c8b8ec
--- /dev/null
+++ b/tests/simulate/math/cbrt-01.c
@@ -0,0 +1,103 @@
+/* Copyright (c) 2009  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of cbrt() function.
+   $Id$	*/
+
+#include <math.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+#ifndef	__AVR__
+# include <stdio.h>
+# define PRINTFLN(fmt, ...)	\
+    printf ("\nLine %d: " fmt "\n", __LINE__, ##__VA_ARGS__)
+# define EXIT(code)	exit ((code) < 255 ? (code) : 100 + (code) % 100)
+#else
+# define PRINTFLN(args...)
+# define EXIT	exit
+#endif
+
+union float_u {
+    float flt;
+    unsigned long u32;
+};
+
+/* Result is placed into SRAM variable, allocated at the start of
+   memory. This is convinient to debug: read a core dump.	*/
+volatile union float_u v = {.u32 = 1};
+
+PROGMEM const struct {
+    union float_u x;
+    union float_u z;
+} t[] = {
+
+    { { 0.0},	{ 0.0} },
+    { {-0.0},	{-0.0} },
+
+    /* Infinity	*/
+    { {.u32 = 0x7f800000 }, {.u32 = 0x7f800000 } },
+    { {.u32 = 0xff800000 }, {.u32 = 0xff800000 } },
+
+    { { 1 },	{ 1 } },
+    { {-1 },	{-1 } },
+    { { 8 },	{ 2 } },
+    { { 27 },	{ 3 } },
+    { { 64 },	{ 4 } },
+    { { 125 },	{ 5 } },
+    { { 216 },	{ 6 } },
+    { { 343 },	{ 7 } },
+    { { 512 },	{ 8 } },
+    { { 729 },	{ 9 } },
+    { { 1000 },	{ 10 } },
+    { {-1000 },	{-10 } },
+    
+    { { 0.125 }, { 0.5 } },
+    { { 0.015625 }, { 0.25 } },
+    { {-0.001953125 }, {-0.125 } },
+};
+
+int main ()
+{
+    int i;
+    union float_u tx, tz;
+    
+    for (i = 0;  (size_t)i < sizeof(t) / sizeof(t[0]); i++) {
+	tx.u32 = pgm_read_dword (& t[i].x);
+	tz.u32 = pgm_read_dword (& t[i].z);
+	v.flt = cbrt (tx.flt);
+	if (v.u32 != tz.u32) {
+	    PRINTFLN ("t1[%d]={0x%08lx,0x%08lx} --> 0x%08lx\n",
+		      i, tx.u32, tz.u32, v.u32);
+	    EXIT (i + 1);
+	}
+    }
+    
+    return 0;
+}
diff --git a/tests/simulate/math/cbrt-02.c b/tests/simulate/math/cbrt-02.c
new file mode 100644
index 0000000..f536580
--- /dev/null
+++ b/tests/simulate/math/cbrt-02.c
@@ -0,0 +1,360 @@
+/* Copyright (c) 2009  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of cbrt() function: args pow(2,N) with all integer N.
+   $Id$	*/
+
+#define	ULPMAX	1	/* max possible error in units at last position	*/
+
+#include <math.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+#ifndef	__AVR__
+# include <stdio.h>
+# define PRINTFLN(fmt, ...)	\
+    printf ("\nLine %d: " fmt "\n", __LINE__, ##__VA_ARGS__)
+# define EXIT(code)	exit ((code) < 255 ? (code) : 100 + (code) % 100)
+#else
+# define PRINTFLN(args...)
+# define EXIT	exit
+#endif
+
+union float_u {
+    unsigned long u32;
+    float flt;
+};
+
+/* Result is placed into SRAM variable, allocated at the start of
+   memory. This is convinient to debug: read a core dump.	*/
+volatile union float_u v = {.u32 = 1};
+
+PROGMEM const struct {
+    unsigned long x;
+    unsigned long z;
+} t[] = {
+
+    /* x, cbrt(x)	*/
+    { 0x00000001,0x26a14518 },  /*   1:  1.4012985e-45  1.1190347e-15 */
+    { 0x00000002,0x26cb2ff5 },  /*   2:  2.8025969e-45  1.4098954e-15 */
+    { 0x00000004,0x27000000 },  /*   3:  5.6051939e-45  1.7763568e-15 */
+    { 0x00000008,0x27214518 },  /*   4:  1.1210388e-44  2.2380694e-15 */
+    { 0x00000010,0x274b2ff5 },  /*   5:  2.2420775e-44  2.8197907e-15 */
+    { 0x00000020,0x27800000 },  /*   6:  4.4841551e-44  3.5527137e-15 */
+    { 0x00000040,0x27a14518 },  /*   7:  8.9683102e-44  4.4761387e-15 */
+    { 0x00000080,0x27cb2ff5 },  /*   8:  1.7936620e-43  5.6395814e-15 */
+    { 0x00000100,0x28000000 },  /*   9:  3.5873241e-43  7.1054274e-15 */
+    { 0x00000200,0x28214518 },  /*  10:  7.1746481e-43  8.9522775e-15 */
+    { 0x00000400,0x284b2ff5 },  /*  11:  1.4349296e-42  1.1279163e-14 */
+    { 0x00000800,0x28800000 },  /*  12:  2.8698593e-42  1.4210855e-14 */
+    { 0x00001000,0x28a14518 },  /*  13:  5.7397185e-42  1.7904555e-14 */
+    { 0x00002000,0x28cb2ff5 },  /*  14:  1.1479437e-41  2.2558326e-14 */
+    { 0x00004000,0x29000000 },  /*  15:  2.2958874e-41  2.8421709e-14 */
+    { 0x00008000,0x29214518 },  /*  16:  4.5917748e-41  3.5809110e-14 */
+    { 0x00010000,0x294b2ff5 },  /*  17:  9.1835496e-41  4.5116651e-14 */
+    { 0x00020000,0x29800000 },  /*  18:  1.8367099e-40  5.6843419e-14 */
+    { 0x00040000,0x29a14518 },  /*  19:  3.6734198e-40  7.1618220e-14 */
+    { 0x00080000,0x29cb2ff5 },  /*  20:  7.3468397e-40  9.0233303e-14 */
+    { 0x00100000,0x2a000000 },  /*  21:  1.4693679e-39  1.1368684e-13 */
+    { 0x00200000,0x2a214518 },  /*  22:  2.9387359e-39  1.4323644e-13 */
+    { 0x00400000,0x2a4b2ff5 },  /*  23:  5.8774718e-39  1.8046661e-13 */
+    { 0x00800000,0x2a800000 },  /*  24:  1.1754944e-38  2.2737368e-13 */
+    { 0x01000000,0x2aa14518 },  /*  25:  2.3509887e-38  2.8647288e-13 */
+    { 0x01800000,0x2acb2ff5 },  /*  26:  4.7019774e-38  3.6093321e-13 */
+    { 0x02000000,0x2b000000 },  /*  27:  9.4039548e-38  4.5474735e-13 */
+    { 0x02800000,0x2b214518 },  /*  28:  1.8807910e-37  5.7294576e-13 */
+    { 0x03000000,0x2b4b2ff5 },  /*  29:  3.7615819e-37  7.2186642e-13 */
+    { 0x03800000,0x2b800000 },  /*  30:  7.5231638e-37  9.0949470e-13 */
+    { 0x04000000,0x2ba14518 },  /*  31:  1.5046328e-36  1.1458915e-12 */
+    { 0x04800000,0x2bcb2ff5 },  /*  32:  3.0092655e-36  1.4437328e-12 */
+    { 0x05000000,0x2c000000 },  /*  33:  6.0185311e-36  1.8189894e-12 */
+    { 0x05800000,0x2c214518 },  /*  34:  1.2037062e-35  2.2917830e-12 */
+    { 0x06000000,0x2c4b2ff5 },  /*  35:  2.4074124e-35  2.8874657e-12 */
+    { 0x06800000,0x2c800000 },  /*  36:  4.8148249e-35  3.6379788e-12 */
+    { 0x07000000,0x2ca14518 },  /*  37:  9.6296497e-35  4.5835661e-12 */
+    { 0x07800000,0x2ccb2ff5 },  /*  38:  1.9259299e-34  5.7749314e-12 */
+    { 0x08000000,0x2d000000 },  /*  39:  3.8518599e-34  7.2759576e-12 */
+    { 0x08800000,0x2d214518 },  /*  40:  7.7037198e-34  9.1671322e-12 */
+    { 0x09000000,0x2d4b2ff5 },  /*  41:  1.5407440e-33  1.1549863e-11 */
+    { 0x09800000,0x2d800000 },  /*  42:  3.0814879e-33  1.4551915e-11 */
+    { 0x0a000000,0x2da14518 },  /*  43:  6.1629758e-33  1.8334264e-11 */
+    { 0x0a800000,0x2dcb2ff5 },  /*  44:  1.2325952e-32  2.3099726e-11 */
+    { 0x0b000000,0x2e000000 },  /*  45:  2.4651903e-32  2.9103830e-11 */
+    { 0x0b800000,0x2e214518 },  /*  46:  4.9303807e-32  3.6668529e-11 */
+    { 0x0c000000,0x2e4b2ff5 },  /*  47:  9.8607613e-32  4.6199451e-11 */
+    { 0x0c800000,0x2e800000 },  /*  48:  1.9721523e-31  5.8207661e-11 */
+    { 0x0d000000,0x2ea14518 },  /*  49:  3.9443045e-31  7.3337057e-11 */
+    { 0x0d800000,0x2ecb2ff5 },  /*  50:  7.8886091e-31  9.2398902e-11 */
+    { 0x0e000000,0x2f000000 },  /*  51:  1.5777218e-30  1.1641532e-10 */
+    { 0x0e800000,0x2f214518 },  /*  52:  3.1554436e-30  1.4667411e-10 */
+    { 0x0f000000,0x2f4b2ff5 },  /*  53:  6.3108872e-30  1.8479780e-10 */
+    { 0x0f800000,0x2f800000 },  /*  54:  1.2621774e-29  2.3283064e-10 */
+    { 0x10000000,0x2fa14518 },  /*  55:  2.5243549e-29  2.9334823e-10 */
+    { 0x10800000,0x2fcb2ff5 },  /*  56:  5.0487098e-29  3.6959561e-10 */
+    { 0x11000000,0x30000000 },  /*  57:  1.0097420e-28  4.6566129e-10 */
+    { 0x11800000,0x30214518 },  /*  58:  2.0194839e-28  5.8669646e-10 */
+    { 0x12000000,0x304b2ff5 },  /*  59:  4.0389678e-28  7.3919122e-10 */
+    { 0x12800000,0x30800000 },  /*  60:  8.0779357e-28  9.3132257e-10 */
+    { 0x13000000,0x30a14518 },  /*  61:  1.6155871e-27  1.1733929e-09 */
+    { 0x13800000,0x30cb2ff5 },  /*  62:  3.2311743e-27  1.4783824e-09 */
+    { 0x14000000,0x31000000 },  /*  63:  6.4623485e-27  1.8626451e-09 */
+    { 0x14800000,0x31214518 },  /*  64:  1.2924697e-26  2.3467858e-09 */
+    { 0x15000000,0x314b2ff5 },  /*  65:  2.5849394e-26  2.9567649e-09 */
+    { 0x15800000,0x31800000 },  /*  66:  5.1698788e-26  3.7252903e-09 */
+    { 0x16000000,0x31a14518 },  /*  67:  1.0339758e-25  4.6935717e-09 */
+    { 0x16800000,0x31cb2ff5 },  /*  68:  2.0679515e-25  5.9135297e-09 */
+    { 0x17000000,0x32000000 },  /*  69:  4.1359031e-25  7.4505806e-09 */
+    { 0x17800000,0x32214518 },  /*  70:  8.2718061e-25  9.3871433e-09 */
+    { 0x18000000,0x324b2ff5 },  /*  71:  1.6543612e-24  1.1827059e-08 */
+    { 0x18800000,0x32800000 },  /*  72:  3.3087225e-24  1.4901161e-08 */
+    { 0x19000000,0x32a14518 },  /*  73:  6.6174449e-24  1.8774287e-08 */
+    { 0x19800000,0x32cb2ff5 },  /*  74:  1.3234890e-23  2.3654119e-08 */
+    { 0x1a000000,0x33000000 },  /*  75:  2.6469780e-23  2.9802322e-08 */
+    { 0x1a800000,0x33214518 },  /*  76:  5.2939559e-23  3.7548573e-08 */
+    { 0x1b000000,0x334b2ff5 },  /*  77:  1.0587912e-22  4.7308238e-08 */
+    { 0x1b800000,0x33800000 },  /*  78:  2.1175824e-22  5.9604645e-08 */
+    { 0x1c000000,0x33a14518 },  /*  79:  4.2351647e-22  7.5097147e-08 */
+    { 0x1c800000,0x33cb2ff5 },  /*  80:  8.4703295e-22  9.4616476e-08 */
+    { 0x1d000000,0x34000000 },  /*  81:  1.6940659e-21  1.1920929e-07 */
+    { 0x1d800000,0x34214518 },  /*  82:  3.3881318e-21  1.5019429e-07 */
+    { 0x1e000000,0x344b2ff5 },  /*  83:  6.7762636e-21  1.8923295e-07 */
+    { 0x1e800000,0x34800000 },  /*  84:  1.3552527e-20  2.3841858e-07 */
+    { 0x1f000000,0x34a14518 },  /*  85:  2.7105054e-20  3.0038859e-07 */
+    { 0x1f800000,0x34cb2ff5 },  /*  86:  5.4210109e-20  3.7846590e-07 */
+    { 0x20000000,0x35000000 },  /*  87:  1.0842022e-19  4.7683716e-07 */
+    { 0x20800000,0x35214518 },  /*  88:  2.1684043e-19  6.0077717e-07 */
+    { 0x21000000,0x354b2ff5 },  /*  89:  4.3368087e-19  7.5693181e-07 */
+    { 0x21800000,0x35800000 },  /*  90:  8.6736174e-19  9.5367432e-07 */
+    { 0x22000000,0x35a14518 },  /*  91:  1.7347235e-18  1.2015543e-06 */
+    { 0x22800000,0x35cb2ff5 },  /*  92:  3.4694470e-18  1.5138636e-06 */
+    { 0x23000000,0x36000000 },  /*  93:  6.9388939e-18  1.9073486e-06 */
+    { 0x23800000,0x36214518 },  /*  94:  1.3877788e-17  2.4031087e-06 */
+    { 0x24000000,0x364b2ff5 },  /*  95:  2.7755576e-17  3.0277272e-06 */
+    { 0x24800000,0x36800000 },  /*  96:  5.5511151e-17  3.8146973e-06 */
+    { 0x25000000,0x36a14518 },  /*  97:  1.1102230e-16  4.8062174e-06 */
+    { 0x25800000,0x36cb2ff5 },  /*  98:  2.2204460e-16  6.0554545e-06 */
+    { 0x26000000,0x37000000 },  /*  99:  4.4408921e-16  7.6293945e-06 */
+    { 0x26800000,0x37214518 },  /* 100:  8.8817842e-16  9.6124348e-06 */
+    { 0x27000000,0x374b2ff5 },  /* 101:  1.7763568e-15  1.2110909e-05 */
+    { 0x27800000,0x37800000 },  /* 102:  3.5527137e-15  1.5258789e-05 */
+    { 0x28000000,0x37a14518 },  /* 103:  7.1054274e-15  1.9224870e-05 */
+    { 0x28800000,0x37cb2ff5 },  /* 104:  1.4210855e-14  2.4221818e-05 */
+    { 0x29000000,0x38000000 },  /* 105:  2.8421709e-14  3.0517578e-05 */
+    { 0x29800000,0x38214518 },  /* 106:  5.6843419e-14  3.8449739e-05 */
+    { 0x2a000000,0x384b2ff5 },  /* 107:  1.1368684e-13  4.8443636e-05 */
+    { 0x2a800000,0x38800000 },  /* 108:  2.2737368e-13  6.1035156e-05 */
+    { 0x2b000000,0x38a14518 },  /* 109:  4.5474735e-13  7.6899478e-05 */
+    { 0x2b800000,0x38cb2ff5 },  /* 110:  9.0949470e-13  9.6887271e-05 */
+    { 0x2c000000,0x39000000 },  /* 111:  1.8189894e-12  1.2207031e-04 */
+    { 0x2c800000,0x39214518 },  /* 112:  3.6379788e-12  1.5379896e-04 */
+    { 0x2d000000,0x394b2ff5 },  /* 113:  7.2759576e-12  1.9377454e-04 */
+    { 0x2d800000,0x39800000 },  /* 114:  1.4551915e-11  2.4414062e-04 */
+    { 0x2e000000,0x39a14518 },  /* 115:  2.9103830e-11  3.0759791e-04 */
+    { 0x2e800000,0x39cb2ff5 },  /* 116:  5.8207661e-11  3.8754908e-04 */
+    { 0x2f000000,0x3a000000 },  /* 117:  1.1641532e-10  4.8828125e-04 */
+    { 0x2f800000,0x3a214518 },  /* 118:  2.3283064e-10  6.1519583e-04 */
+    { 0x30000000,0x3a4b2ff5 },  /* 119:  4.6566129e-10  7.7509817e-04 */
+    { 0x30800000,0x3a800000 },  /* 120:  9.3132257e-10  9.7656250e-04 */
+    { 0x31000000,0x3aa14518 },  /* 121:  1.8626451e-09  1.2303917e-03 */
+    { 0x31800000,0x3acb2ff5 },  /* 122:  3.7252903e-09  1.5501963e-03 */
+    { 0x32000000,0x3b000000 },  /* 123:  7.4505806e-09  1.9531250e-03 */
+    { 0x32800000,0x3b214518 },  /* 124:  1.4901161e-08  2.4607833e-03 */
+    { 0x33000000,0x3b4b2ff5 },  /* 125:  2.9802322e-08  3.1003927e-03 */
+    { 0x33800000,0x3b800000 },  /* 126:  5.9604645e-08  3.9062500e-03 */
+    { 0x34000000,0x3ba14518 },  /* 127:  1.1920929e-07  4.9215666e-03 */
+    { 0x34800000,0x3bcb2ff5 },  /* 128:  2.3841858e-07  6.2007854e-03 */
+    { 0x35000000,0x3c000000 },  /* 129:  4.7683716e-07  7.8125000e-03 */
+    { 0x35800000,0x3c214518 },  /* 130:  9.5367432e-07  9.8431332e-03 */
+    { 0x36000000,0x3c4b2ff5 },  /* 131:  1.9073486e-06  1.2401571e-02 */
+    { 0x36800000,0x3c800000 },  /* 132:  3.8146973e-06  1.5625000e-02 */
+    { 0x37000000,0x3ca14518 },  /* 133:  7.6293945e-06  1.9686266e-02 */
+    { 0x37800000,0x3ccb2ff5 },  /* 134:  1.5258789e-05  2.4803141e-02 */
+    { 0x38000000,0x3d000000 },  /* 135:  3.0517578e-05  3.1250000e-02 */
+    { 0x38800000,0x3d214518 },  /* 136:  6.1035156e-05  3.9372533e-02 */
+    { 0x39000000,0x3d4b2ff5 },  /* 137:  1.2207031e-04  4.9606283e-02 */
+    { 0x39800000,0x3d800000 },  /* 138:  2.4414062e-04  6.2500000e-02 */
+    { 0x3a000000,0x3da14518 },  /* 139:  4.8828125e-04  7.8745066e-02 */
+    { 0x3a800000,0x3dcb2ff5 },  /* 140:  9.7656250e-04  9.9212566e-02 */
+    { 0x3b000000,0x3e000000 },  /* 141:  1.9531250e-03  1.2500000e-01 */
+    { 0x3b800000,0x3e214518 },  /* 142:  3.9062500e-03  1.5749013e-01 */
+    { 0x3c000000,0x3e4b2ff5 },  /* 143:  7.8125000e-03  1.9842513e-01 */
+    { 0x3c800000,0x3e800000 },  /* 144:  1.5625000e-02  2.5000000e-01 */
+    { 0x3d000000,0x3ea14518 },  /* 145:  3.1250000e-02  3.1498026e-01 */
+    { 0x3d800000,0x3ecb2ff5 },  /* 146:  6.2500000e-02  3.9685026e-01 */
+    { 0x3e000000,0x3f000000 },  /* 147:  1.2500000e-01  5.0000000e-01 */
+    { 0x3e800000,0x3f214518 },  /* 148:  2.5000000e-01  6.2996052e-01 */
+    { 0x3f000000,0x3f4b2ff5 },  /* 149:  5.0000000e-01  7.9370053e-01 */
+    { 0x3f800000,0x3f800000 },  /* 150:  1.0000000e+00  1.0000000e-00 */
+    { 0x40000000,0x3fa14518 },  /* 151:  2.0000000e+00  1.2599210e+00 */
+    { 0x40800000,0x3fcb2ff5 },  /* 152:  4.0000000e+00  1.5874011e+00 */
+    { 0x41000000,0x40000000 },  /* 153:  8.0000000e+00  2.0000000e+00 */
+    { 0x41800000,0x40214518 },  /* 154:  1.6000000e+01  2.5198421e+00 */
+    { 0x42000000,0x404b2ff5 },  /* 155:  3.2000000e+01  3.1748021e+00 */
+    { 0x42800000,0x40800000 },  /* 156:  6.4000000e+01  4.0000000e+00 */
+    { 0x43000000,0x40a14518 },  /* 157:  1.2800000e+02  5.0396842e+00 */
+    { 0x43800000,0x40cb2ff5 },  /* 158:  2.5600000e+02  6.3496042e+00 */
+    { 0x44000000,0x41000000 },  /* 159:  5.1200000e+02  8.0000000e+00 */
+    { 0x44800000,0x41214518 },  /* 160:  1.0240000e+03  1.0079368e+01 */
+    { 0x45000000,0x414b2ff5 },  /* 161:  2.0480000e+03  1.2699208e+01 */
+    { 0x45800000,0x41800000 },  /* 162:  4.0960000e+03  1.6000000e+01 */
+    { 0x46000000,0x41a14518 },  /* 163:  8.1920000e+03  2.0158737e+01 */
+    { 0x46800000,0x41cb2ff5 },  /* 164:  1.6384000e+04  2.5398417e+01 */
+    { 0x47000000,0x42000000 },  /* 165:  3.2768000e+04  3.2000000e+01 */
+    { 0x47800000,0x42214518 },  /* 166:  6.5536000e+04  4.0317474e+01 */
+    { 0x48000000,0x424b2ff5 },  /* 167:  1.3107200e+05  5.0796834e+01 */
+    { 0x48800000,0x42800000 },  /* 168:  2.6214400e+05  6.4000000e+01 */
+    { 0x49000000,0x42a14518 },  /* 169:  5.2428800e+05  8.0634947e+01 */
+    { 0x49800000,0x42cb2ff5 },  /* 170:  1.0485760e+06  1.0159367e+02 */
+    { 0x4a000000,0x43000000 },  /* 171:  2.0971520e+06  1.2800000e+02 */
+    { 0x4a800000,0x43214518 },  /* 172:  4.1943040e+06  1.6126989e+02 */
+    { 0x4b000000,0x434b2ff5 },  /* 173:  8.3886080e+06  2.0318733e+02 */
+    { 0x4b800000,0x43800000 },  /* 174:  1.6777216e+07  2.5600000e+02 */
+    { 0x4c000000,0x43a14518 },  /* 175:  3.3554432e+07  3.2253979e+02 */
+    { 0x4c800000,0x43cb2ff5 },  /* 176:  6.7108864e+07  4.0637467e+02 */
+    { 0x4d000000,0x44000000 },  /* 177:  1.3421773e+08  5.1200000e+02 */
+    { 0x4d800000,0x44214518 },  /* 178:  2.6843546e+08  6.4507958e+02 */
+    { 0x4e000000,0x444b2ff5 },  /* 179:  5.3687091e+08  8.1274934e+02 */
+    { 0x4e800000,0x44800000 },  /* 180:  1.0737418e+09  1.0240000e+03 */
+    { 0x4f000000,0x44a14518 },  /* 181:  2.1474836e+09  1.2901592e+03 */
+    { 0x4f800000,0x44cb2ff5 },  /* 182:  4.2949673e+09  1.6254987e+03 */
+    { 0x50000000,0x45000000 },  /* 183:  8.5899346e+09  2.0480000e+03 */
+    { 0x50800000,0x45214518 },  /* 184:  1.7179869e+10  2.5803183e+03 */
+    { 0x51000000,0x454b2ff5 },  /* 185:  3.4359738e+10  3.2509974e+03 */
+    { 0x51800000,0x45800000 },  /* 186:  6.8719477e+10  4.0960000e+03 */
+    { 0x52000000,0x45a14518 },  /* 187:  1.3743895e+11  5.1606366e+03 */
+    { 0x52800000,0x45cb2ff5 },  /* 188:  2.7487791e+11  6.5019947e+03 */
+    { 0x53000000,0x46000000 },  /* 189:  5.4975581e+11  8.1920000e+03 */
+    { 0x53800000,0x46214518 },  /* 190:  1.0995116e+12  1.0321273e+04 */
+    { 0x54000000,0x464b2ff5 },  /* 191:  2.1990233e+12  1.3003989e+04 */
+    { 0x54800000,0x46800000 },  /* 192:  4.3980465e+12  1.6384000e+04 */
+    { 0x55000000,0x46a14518 },  /* 193:  8.7960930e+12  2.0642546e+04 */
+    { 0x55800000,0x46cb2ff5 },  /* 194:  1.7592186e+13  2.6007979e+04 */
+    { 0x56000000,0x47000000 },  /* 195:  3.5184372e+13  3.2768000e+04 */
+    { 0x56800000,0x47214518 },  /* 196:  7.0368744e+13  4.1285093e+04 */
+    { 0x57000000,0x474b2ff5 },  /* 197:  1.4073749e+14  5.2015958e+04 */
+    { 0x57800000,0x47800000 },  /* 198:  2.8147498e+14  6.5536000e+04 */
+    { 0x58000000,0x47a14518 },  /* 199:  5.6294995e+14  8.2570186e+04 */
+    { 0x58800000,0x47cb2ff5 },  /* 200:  1.1258999e+15  1.0403192e+05 */
+    { 0x59000000,0x48000000 },  /* 201:  2.2517998e+15  1.3107200e+05 */
+    { 0x59800000,0x48214518 },  /* 202:  4.5035996e+15  1.6514037e+05 */
+    { 0x5a000000,0x484b2ff5 },  /* 203:  9.0071993e+15  2.0806383e+05 */
+    { 0x5a800000,0x48800000 },  /* 204:  1.8014399e+16  2.6214400e+05 */
+    { 0x5b000000,0x48a14518 },  /* 205:  3.6028797e+16  3.3028074e+05 */
+    { 0x5b800000,0x48cb2ff5 },  /* 206:  7.2057594e+16  4.1612766e+05 */
+    { 0x5c000000,0x49000000 },  /* 207:  1.4411519e+17  5.2428800e+05 */
+    { 0x5c800000,0x49214518 },  /* 208:  2.8823038e+17  6.6056149e+05 */
+    { 0x5d000000,0x494b2ff5 },  /* 209:  5.7646075e+17  8.3225532e+05 */
+    { 0x5d800000,0x49800000 },  /* 210:  1.1529215e+18  1.0485760e+06 */
+    { 0x5e000000,0x49a14518 },  /* 211:  2.3058430e+18  1.3211230e+06 */
+    { 0x5e800000,0x49cb2ff5 },  /* 212:  4.6116860e+18  1.6645106e+06 */
+    { 0x5f000000,0x4a000000 },  /* 213:  9.2233720e+18  2.0971520e+06 */
+    { 0x5f800000,0x4a214518 },  /* 214:  1.8446744e+19  2.6422459e+06 */
+    { 0x60000000,0x4a4b2ff5 },  /* 215:  3.6893488e+19  3.3290213e+06 */
+    { 0x60800000,0x4a800000 },  /* 216:  7.3786976e+19  4.1943040e+06 */
+    { 0x61000000,0x4aa14518 },  /* 217:  1.4757395e+20  5.2844919e+06 */
+    { 0x61800000,0x4acb2ff5 },  /* 218:  2.9514791e+20  6.6580426e+06 */
+    { 0x62000000,0x4b000000 },  /* 219:  5.9029581e+20  8.3886080e+06 */
+    { 0x62800000,0x4b214518 },  /* 220:  1.1805916e+21  1.0568984e+07 */
+    { 0x63000000,0x4b4b2ff5 },  /* 221:  2.3611832e+21  1.3316085e+07 */
+    { 0x63800000,0x4b800000 },  /* 222:  4.7223665e+21  1.6777216e+07 */
+    { 0x64000000,0x4ba14518 },  /* 223:  9.4447330e+21  2.1137968e+07 */
+    { 0x64800000,0x4bcb2ff5 },  /* 224:  1.8889466e+22  2.6632170e+07 */
+    { 0x65000000,0x4c000000 },  /* 225:  3.7778932e+22  3.3554432e+07 */
+    { 0x65800000,0x4c214518 },  /* 226:  7.5557864e+22  4.2275935e+07 */
+    { 0x66000000,0x4c4b2ff5 },  /* 227:  1.5111573e+23  5.3264341e+07 */
+    { 0x66800000,0x4c800000 },  /* 228:  3.0223145e+23  6.7108864e+07 */
+    { 0x67000000,0x4ca14518 },  /* 229:  6.0446291e+23  8.4551870e+07 */
+    { 0x67800000,0x4ccb2ff5 },  /* 230:  1.2089258e+24  1.0652868e+08 */
+    { 0x68000000,0x4d000000 },  /* 231:  2.4178516e+24  1.3421773e+08 */
+    { 0x68800000,0x4d214518 },  /* 232:  4.8357033e+24  1.6910374e+08 */
+    { 0x69000000,0x4d4b2ff5 },  /* 233:  9.6714066e+24  2.1305736e+08 */
+    { 0x69800000,0x4d800000 },  /* 234:  1.9342813e+25  2.6843546e+08 */
+    { 0x6a000000,0x4da14518 },  /* 235:  3.8685626e+25  3.3820748e+08 */
+    { 0x6a800000,0x4dcb2ff5 },  /* 236:  7.7371252e+25  4.2611473e+08 */
+    { 0x6b000000,0x4e000000 },  /* 237:  1.5474250e+26  5.3687091e+08 */
+    { 0x6b800000,0x4e214518 },  /* 238:  3.0948501e+26  6.7641496e+08 */
+    { 0x6c000000,0x4e4b2ff5 },  /* 239:  6.1897002e+26  8.5222945e+08 */
+    { 0x6c800000,0x4e800000 },  /* 240:  1.2379400e+27  1.0737418e+09 */
+    { 0x6d000000,0x4ea14518 },  /* 241:  2.4758801e+27  1.3528299e+09 */
+    { 0x6d800000,0x4ecb2ff5 },  /* 242:  4.9517602e+27  1.7044589e+09 */
+    { 0x6e000000,0x4f000000 },  /* 243:  9.9035203e+27  2.1474836e+09 */
+    { 0x6e800000,0x4f214518 },  /* 244:  1.9807041e+28  2.7056599e+09 */
+    { 0x6f000000,0x4f4b2ff5 },  /* 245:  3.9614081e+28  3.4089178e+09 */
+    { 0x6f800000,0x4f800000 },  /* 246:  7.9228163e+28  4.2949673e+09 */
+    { 0x70000000,0x4fa14518 },  /* 247:  1.5845633e+29  5.4113197e+09 */
+    { 0x70800000,0x4fcb2ff5 },  /* 248:  3.1691265e+29  6.8178356e+09 */
+    { 0x71000000,0x50000000 },  /* 249:  6.3382530e+29  8.5899346e+09 */
+    { 0x71800000,0x50214518 },  /* 250:  1.2676506e+30  1.0822639e+10 */
+    { 0x72000000,0x504b2ff5 },  /* 251:  2.5353012e+30  1.3635671e+10 */
+    { 0x72800000,0x50800000 },  /* 252:  5.0706024e+30  1.7179869e+10 */
+    { 0x73000000,0x50a14518 },  /* 253:  1.0141205e+31  2.1645279e+10 */
+    { 0x73800000,0x50cb2ff5 },  /* 254:  2.0282410e+31  2.7271342e+10 */
+    { 0x74000000,0x51000000 },  /* 255:  4.0564819e+31  3.4359738e+10 */
+    { 0x74800000,0x51214518 },  /* 256:  8.1129638e+31  4.3290558e+10 */
+    { 0x75000000,0x514b2ff5 },  /* 257:  1.6225928e+32  5.4542685e+10 */
+    { 0x75800000,0x51800000 },  /* 258:  3.2451855e+32  6.8719477e+10 */
+    { 0x76000000,0x51a14518 },  /* 259:  6.4903711e+32  8.6581115e+10 */
+    { 0x76800000,0x51cb2ff5 },  /* 260:  1.2980742e+33  1.0908537e+11 */
+    { 0x77000000,0x52000000 },  /* 261:  2.5961484e+33  1.3743895e+11 */
+    { 0x77800000,0x52214518 },  /* 262:  5.1922969e+33  1.7316223e+11 */
+    { 0x78000000,0x524b2ff5 },  /* 263:  1.0384594e+34  2.1817074e+11 */
+    { 0x78800000,0x52800000 },  /* 264:  2.0769187e+34  2.7487791e+11 */
+    { 0x79000000,0x52a14518 },  /* 265:  4.1538375e+34  3.4632446e+11 */
+    { 0x79800000,0x52cb2ff5 },  /* 266:  8.3076750e+34  4.3634148e+11 */
+    { 0x7a000000,0x53000000 },  /* 267:  1.6615350e+35  5.4975581e+11 */
+    { 0x7a800000,0x53214518 },  /* 268:  3.3230700e+35  6.9264892e+11 */
+    { 0x7b000000,0x534b2ff5 },  /* 269:  6.6461400e+35  8.7268296e+11 */
+    { 0x7b800000,0x53800000 },  /* 270:  1.3292280e+36  1.0995116e+12 */
+    { 0x7c000000,0x53a14518 },  /* 271:  2.6584560e+36  1.3852978e+12 */
+    { 0x7c800000,0x53cb2ff5 },  /* 272:  5.3169120e+36  1.7453659e+12 */
+    { 0x7d000000,0x54000000 },  /* 273:  1.0633824e+37  2.1990233e+12 */
+    { 0x7d800000,0x54214518 },  /* 274:  2.1267648e+37  2.7705957e+12 */
+    { 0x7e000000,0x544b2ff5 },  /* 275:  4.2535296e+37  3.4907318e+12 */
+    { 0x7e800000,0x54800000 },  /* 276:  8.5070592e+37  4.3980465e+12 */
+    { 0x7f000000,0x54a14518 },  /* 277:  1.7014118e+38  5.5411914e+12 */
+};
+
+int main ()
+{
+    int i;
+    union float_u tx, tz;
+    
+    for (i = 0;  (size_t)i < sizeof(t) / sizeof(t[0]); i++) {
+	tx.u32 = pgm_read_dword (& t[i].x);
+	tz.u32 = pgm_read_dword (& t[i].z);
+	v.flt = cbrt (tx.flt);
+	if ((v.u32 - tz.u32) > ULPMAX && (tz.u32 - v.u32) > ULPMAX) {
+	    PRINTFLN ("t1[%d]={0x%08lx,0x%08lx} --> 0x%08lx\n",
+		      i, tx.u32, tz.u32, v.u32);
+	    EXIT (i + 1);
+	}
+    }
+    
+    return 0;
+}
diff --git a/tests/simulate/math/cbrt-03.c b/tests/simulate/math/cbrt-03.c
new file mode 100644
index 0000000..db45bc3
--- /dev/null
+++ b/tests/simulate/math/cbrt-03.c
@@ -0,0 +1,360 @@
+/* Copyright (c) 2009  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of cbrt() function: args with all '1' in mantissa.
+   $Id$	*/
+
+#define	ULPMAX	1	/* max possible error in units at last position	*/
+
+#include <math.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+#ifndef	__AVR__
+# include <stdio.h>
+# define PRINTFLN(fmt, ...)	\
+    printf ("\nLine %d: " fmt "\n", __LINE__, ##__VA_ARGS__)
+# define EXIT(code)	exit ((code) < 255 ? (code) : 100 + (code) % 100)
+#else
+# define PRINTFLN(args...)
+# define EXIT	exit
+#endif
+
+union float_u {
+    unsigned long u32;
+    float flt;
+};
+
+/* Result is placed into SRAM variable, allocated at the start of
+   memory. This is convinient to debug: read a core dump.	*/
+volatile union float_u v = {.u32 = 1};
+
+PROGMEM const struct {
+    unsigned long x;
+    unsigned long z;
+} t[] = {
+
+    /* x, cbrt(x)	*/
+    { 0x00000001,0x26a14518 },  /*   1:  1.4012985e-45  1.1190347e-15 */
+    { 0x00000003,0x26e89768 },  /*   2:  4.2038954e-45  1.6139273e-15 */
+    { 0x00000007,0x271a3fc5 },  /*   3:  9.8090893e-45  2.1406363e-15 */
+    { 0x0000000f,0x2746dce6 },  /*   4:  2.1019477e-44  2.7597769e-15 */
+    { 0x0000001f,0x277d4e19 },  /*   5:  4.3440252e-44  3.5153139e-15 */
+    { 0x0000003f,0x27a06cf0 },  /*   6:  8.8281803e-44  4.4527030e-15 */
+    { 0x0000007f,0x27caa825 },  /*   7:  1.7796490e-43  5.6248566e-15 */
+    { 0x000000ff,0x27ffaa8e },  /*   8:  3.5733111e-43  7.0961634e-15 */
+    { 0x000001ff,0x28212a32 },  /*   9:  7.1606352e-43  8.9464454e-15 */
+    { 0x000003ff,0x284b1f05 },  /*  10:  1.4335283e-42  1.1275490e-14 */
+    { 0x000007ff,0x287ff555 },  /*  11:  2.8684580e-42  1.4208541e-14 */
+    { 0x00000fff,0x28a141bc },  /*  12:  5.7383172e-42  1.7903098e-14 */
+    { 0x00001fff,0x28cb2dd7 },  /*  13:  1.1478036e-41  2.2557408e-14 */
+    { 0x00003fff,0x28fffeab },  /*  14:  2.2957473e-41  2.8421131e-14 */
+    { 0x00007fff,0x292144ac },  /*  15:  4.5916347e-41  3.5808746e-14 */
+    { 0x0000ffff,0x294b2fb1 },  /*  16:  9.1834095e-41  4.5116422e-14 */
+    { 0x0001ffff,0x297fffd5 },  /*  17:  1.8366959e-40  5.6843274e-14 */
+    { 0x0003ffff,0x29a1450a },  /*  18:  3.6734058e-40  7.1618129e-14 */
+    { 0x0007ffff,0x29cb2fed },  /*  19:  7.3468257e-40  9.0233245e-14 */
+    { 0x000fffff,0x29fffffb },  /*  20:  1.4693665e-39  1.1368680e-13 */
+    { 0x001fffff,0x2a214516 },  /*  21:  2.9387345e-39  1.4323642e-13 */
+    { 0x003fffff,0x2a4b2ff4 },  /*  22:  5.8774704e-39  1.8046659e-13 */
+    { 0x007fffff,0x2a7fffff },  /*  23:  1.1754942e-38  2.2737367e-13 */
+    { 0x00ffffff,0x2aa14518 },  /*  24:  2.3509886e-38  2.8647287e-13 */
+    { 0x017fffff,0x2acb2ff5 },  /*  25:  4.7019771e-38  3.6093320e-13 */
+    { 0x01ffffff,0x2b000000 },  /*  26:  9.4039542e-38  4.5474734e-13 */
+    { 0x027fffff,0x2b214518 },  /*  27:  1.8807908e-37  5.7294575e-13 */
+    { 0x02ffffff,0x2b4b2ff5 },  /*  28:  3.7615817e-37  7.2186641e-13 */
+    { 0x037fffff,0x2b800000 },  /*  29:  7.5231634e-37  9.0949468e-13 */
+    { 0x03ffffff,0x2ba14518 },  /*  30:  1.5046327e-36  1.1458915e-12 */
+    { 0x047fffff,0x2bcb2ff5 },  /*  31:  3.0092654e-36  1.4437328e-12 */
+    { 0x04ffffff,0x2c000000 },  /*  32:  6.0185307e-36  1.8189894e-12 */
+    { 0x057fffff,0x2c214518 },  /*  33:  1.2037061e-35  2.2917830e-12 */
+    { 0x05ffffff,0x2c4b2ff5 },  /*  34:  2.4074123e-35  2.8874656e-12 */
+    { 0x067fffff,0x2c800000 },  /*  35:  4.8148246e-35  3.6379787e-12 */
+    { 0x06ffffff,0x2ca14518 },  /*  36:  9.6296491e-35  4.5835660e-12 */
+    { 0x077fffff,0x2ccb2ff5 },  /*  37:  1.9259298e-34  5.7749313e-12 */
+    { 0x07ffffff,0x2d000000 },  /*  38:  3.8518597e-34  7.2759575e-12 */
+    { 0x087fffff,0x2d214518 },  /*  39:  7.7037193e-34  9.1671320e-12 */
+    { 0x08ffffff,0x2d4b2ff5 },  /*  40:  1.5407439e-33  1.1549863e-11 */
+    { 0x097fffff,0x2d800000 },  /*  41:  3.0814877e-33  1.4551915e-11 */
+    { 0x09ffffff,0x2da14518 },  /*  42:  6.1629755e-33  1.8334264e-11 */
+    { 0x0a7fffff,0x2dcb2ff5 },  /*  43:  1.2325951e-32  2.3099725e-11 */
+    { 0x0affffff,0x2e000000 },  /*  44:  2.4651902e-32  2.9103830e-11 */
+    { 0x0b7fffff,0x2e214518 },  /*  45:  4.9303804e-32  3.6668528e-11 */
+    { 0x0bffffff,0x2e4b2ff5 },  /*  46:  9.8607607e-32  4.6199450e-11 */
+    { 0x0c7fffff,0x2e800000 },  /*  47:  1.9721521e-31  5.8207660e-11 */
+    { 0x0cffffff,0x2ea14518 },  /*  48:  3.9443043e-31  7.3337056e-11 */
+    { 0x0d7fffff,0x2ecb2ff5 },  /*  49:  7.8886086e-31  9.2398900e-11 */
+    { 0x0dffffff,0x2f000000 },  /*  50:  1.5777217e-30  1.1641532e-10 */
+    { 0x0e7fffff,0x2f214518 },  /*  51:  3.1554434e-30  1.4667411e-10 */
+    { 0x0effffff,0x2f4b2ff5 },  /*  52:  6.3108869e-30  1.8479780e-10 */
+    { 0x0f7fffff,0x2f800000 },  /*  53:  1.2621774e-29  2.3283064e-10 */
+    { 0x0fffffff,0x2fa14518 },  /*  54:  2.5243547e-29  2.9334822e-10 */
+    { 0x107fffff,0x2fcb2ff5 },  /*  55:  5.0487095e-29  3.6959560e-10 */
+    { 0x10ffffff,0x30000000 },  /*  56:  1.0097419e-28  4.6566128e-10 */
+    { 0x117fffff,0x30214518 },  /*  57:  2.0194838e-28  5.8669645e-10 */
+    { 0x11ffffff,0x304b2ff5 },  /*  58:  4.0389676e-28  7.3919120e-10 */
+    { 0x127fffff,0x30800000 },  /*  59:  8.0779352e-28  9.3132255e-10 */
+    { 0x12ffffff,0x30a14518 },  /*  60:  1.6155870e-27  1.1733929e-09 */
+    { 0x137fffff,0x30cb2ff5 },  /*  61:  3.2311741e-27  1.4783824e-09 */
+    { 0x13ffffff,0x31000000 },  /*  62:  6.4623482e-27  1.8626451e-09 */
+    { 0x147fffff,0x31214518 },  /*  63:  1.2924696e-26  2.3467858e-09 */
+    { 0x14ffffff,0x314b2ff5 },  /*  64:  2.5849393e-26  2.9567648e-09 */
+    { 0x157fffff,0x31800000 },  /*  65:  5.1698785e-26  3.7252902e-09 */
+    { 0x15ffffff,0x31a14518 },  /*  66:  1.0339757e-25  4.6935716e-09 */
+    { 0x167fffff,0x31cb2ff5 },  /*  67:  2.0679514e-25  5.9135296e-09 */
+    { 0x16ffffff,0x32000000 },  /*  68:  4.1359028e-25  7.4505804e-09 */
+    { 0x177fffff,0x32214518 },  /*  69:  8.2718056e-25  9.3871431e-09 */
+    { 0x17ffffff,0x324b2ff5 },  /*  70:  1.6543611e-24  1.1827059e-08 */
+    { 0x187fffff,0x32800000 },  /*  71:  3.3087223e-24  1.4901161e-08 */
+    { 0x18ffffff,0x32a14518 },  /*  72:  6.6174445e-24  1.8774286e-08 */
+    { 0x197fffff,0x32cb2ff5 },  /*  73:  1.3234889e-23  2.3654118e-08 */
+    { 0x19ffffff,0x33000000 },  /*  74:  2.6469778e-23  2.9802322e-08 */
+    { 0x1a7fffff,0x33214518 },  /*  75:  5.2939556e-23  3.7548573e-08 */
+    { 0x1affffff,0x334b2ff5 },  /*  76:  1.0587911e-22  4.7308237e-08 */
+    { 0x1b7fffff,0x33800000 },  /*  77:  2.1175822e-22  5.9604644e-08 */
+    { 0x1bffffff,0x33a14518 },  /*  78:  4.2351645e-22  7.5097145e-08 */
+    { 0x1c7fffff,0x33cb2ff5 },  /*  79:  8.4703290e-22  9.4616474e-08 */
+    { 0x1cffffff,0x34000000 },  /*  80:  1.6940658e-21  1.1920929e-07 */
+    { 0x1d7fffff,0x34214518 },  /*  81:  3.3881316e-21  1.5019429e-07 */
+    { 0x1dffffff,0x344b2ff5 },  /*  82:  6.7762632e-21  1.8923295e-07 */
+    { 0x1e7fffff,0x34800000 },  /*  83:  1.3552526e-20  2.3841857e-07 */
+    { 0x1effffff,0x34a14518 },  /*  84:  2.7105053e-20  3.0038858e-07 */
+    { 0x1f7fffff,0x34cb2ff5 },  /*  85:  5.4210105e-20  3.7846590e-07 */
+    { 0x1fffffff,0x35000000 },  /*  86:  1.0842021e-19  4.7683715e-07 */
+    { 0x207fffff,0x35214518 },  /*  87:  2.1684042e-19  6.0077716e-07 */
+    { 0x20ffffff,0x354b2ff5 },  /*  88:  4.3368084e-19  7.5693179e-07 */
+    { 0x217fffff,0x35800000 },  /*  89:  8.6736169e-19  9.5367430e-07 */
+    { 0x21ffffff,0x35a14518 },  /*  90:  1.7347234e-18  1.2015543e-06 */
+    { 0x227fffff,0x35cb2ff5 },  /*  91:  3.4694467e-18  1.5138636e-06 */
+    { 0x22ffffff,0x36000000 },  /*  92:  6.9388935e-18  1.9073486e-06 */
+    { 0x237fffff,0x36214518 },  /*  93:  1.3877787e-17  2.4031086e-06 */
+    { 0x23ffffff,0x364b2ff5 },  /*  94:  2.7755574e-17  3.0277272e-06 */
+    { 0x247fffff,0x36800000 },  /*  95:  5.5511148e-17  3.8146972e-06 */
+    { 0x24ffffff,0x36a14518 },  /*  96:  1.1102230e-16  4.8062173e-06 */
+    { 0x257fffff,0x36cb2ff5 },  /*  97:  2.2204459e-16  6.0554543e-06 */
+    { 0x25ffffff,0x37000000 },  /*  98:  4.4408918e-16  7.6293944e-06 */
+    { 0x267fffff,0x37214518 },  /*  99:  8.8817837e-16  9.6124346e-06 */
+    { 0x26ffffff,0x374b2ff5 },  /* 100:  1.7763567e-15  1.2110909e-05 */
+    { 0x277fffff,0x37800000 },  /* 101:  3.5527135e-15  1.5258789e-05 */
+    { 0x27ffffff,0x37a14518 },  /* 102:  7.1054269e-15  1.9224869e-05 */
+    { 0x287fffff,0x37cb2ff5 },  /* 103:  1.4210854e-14  2.4221817e-05 */
+    { 0x28ffffff,0x38000000 },  /* 104:  2.8421708e-14  3.0517577e-05 */
+    { 0x297fffff,0x38214518 },  /* 105:  5.6843415e-14  3.8449738e-05 */
+    { 0x29ffffff,0x384b2ff5 },  /* 106:  1.1368683e-13  4.8443635e-05 */
+    { 0x2a7fffff,0x38800000 },  /* 107:  2.2737366e-13  6.1035155e-05 */
+    { 0x2affffff,0x38a14518 },  /* 108:  4.5474732e-13  7.6899477e-05 */
+    { 0x2b7fffff,0x38cb2ff5 },  /* 109:  9.0949465e-13  9.6887269e-05 */
+    { 0x2bffffff,0x39000000 },  /* 110:  1.8189893e-12  1.2207031e-04 */
+    { 0x2c7fffff,0x39214518 },  /* 111:  3.6379786e-12  1.5379895e-04 */
+    { 0x2cffffff,0x394b2ff5 },  /* 112:  7.2759572e-12  1.9377454e-04 */
+    { 0x2d7fffff,0x39800000 },  /* 113:  1.4551914e-11  2.4414062e-04 */
+    { 0x2dffffff,0x39a14518 },  /* 114:  2.9103829e-11  3.0759791e-04 */
+    { 0x2e7fffff,0x39cb2ff5 },  /* 115:  5.8207657e-11  3.8754908e-04 */
+    { 0x2effffff,0x3a000000 },  /* 116:  1.1641531e-10  4.8828124e-04 */
+    { 0x2f7fffff,0x3a214518 },  /* 117:  2.3283063e-10  6.1519581e-04 */
+    { 0x2fffffff,0x3a4b2ff5 },  /* 118:  4.6566126e-10  7.7509815e-04 */
+    { 0x307fffff,0x3a800000 },  /* 119:  9.3132252e-10  9.7656248e-04 */
+    { 0x30ffffff,0x3aa14518 },  /* 120:  1.8626450e-09  1.2303916e-03 */
+    { 0x317fffff,0x3acb2ff5 },  /* 121:  3.7252901e-09  1.5501963e-03 */
+    { 0x31ffffff,0x3b000000 },  /* 122:  7.4505802e-09  1.9531250e-03 */
+    { 0x327fffff,0x3b214518 },  /* 123:  1.4901160e-08  2.4607832e-03 */
+    { 0x32ffffff,0x3b4b2ff5 },  /* 124:  2.9802321e-08  3.1003926e-03 */
+    { 0x337fffff,0x3b800000 },  /* 125:  5.9604641e-08  3.9062499e-03 */
+    { 0x33ffffff,0x3ba14518 },  /* 126:  1.1920928e-07  4.9215665e-03 */
+    { 0x347fffff,0x3bcb2ff5 },  /* 127:  2.3841856e-07  6.2007852e-03 */
+    { 0x34ffffff,0x3c000000 },  /* 128:  4.7683713e-07  7.8124998e-03 */
+    { 0x357fffff,0x3c214518 },  /* 129:  9.5367426e-07  9.8431330e-03 */
+    { 0x35ffffff,0x3c4b2ff5 },  /* 130:  1.9073485e-06  1.2401570e-02 */
+    { 0x367fffff,0x3c800000 },  /* 131:  3.8146970e-06  1.5625000e-02 */
+    { 0x36ffffff,0x3ca14518 },  /* 132:  7.6293941e-06  1.9686266e-02 */
+    { 0x377fffff,0x3ccb2ff5 },  /* 133:  1.5258788e-05  2.4803141e-02 */
+    { 0x37ffffff,0x3d000000 },  /* 134:  3.0517576e-05  3.1249999e-02 */
+    { 0x387fffff,0x3d214518 },  /* 135:  6.1035153e-05  3.9372532e-02 */
+    { 0x38ffffff,0x3d4b2ff5 },  /* 136:  1.2207031e-04  4.9606282e-02 */
+    { 0x397fffff,0x3d800000 },  /* 137:  2.4414061e-04  6.2499999e-02 */
+    { 0x39ffffff,0x3da14518 },  /* 138:  4.8828122e-04  7.8745064e-02 */
+    { 0x3a7fffff,0x3dcb2ff5 },  /* 139:  9.7656244e-04  9.9212564e-02 */
+    { 0x3affffff,0x3e000000 },  /* 140:  1.9531249e-03  1.2500000e-01 */
+    { 0x3b7fffff,0x3e214518 },  /* 141:  3.9062498e-03  1.5749013e-01 */
+    { 0x3bffffff,0x3e4b2ff5 },  /* 142:  7.8124995e-03  1.9842513e-01 */
+    { 0x3c7fffff,0x3e800000 },  /* 143:  1.5624999e-02  2.4999999e-01 */
+    { 0x3cffffff,0x3ea14518 },  /* 144:  3.1249998e-02  3.1498026e-01 */
+    { 0x3d7fffff,0x3ecb2ff5 },  /* 145:  6.2499996e-02  3.9685025e-01 */
+    { 0x3dffffff,0x3f000000 },  /* 146:  1.2499999e-01  4.9999999e-01 */
+    { 0x3e7fffff,0x3f214518 },  /* 147:  2.4999999e-01  6.2996051e-01 */
+    { 0x3effffff,0x3f4b2ff5 },  /* 148:  4.9999997e-01  7.9370051e-01 */
+    { 0x3f7fffff,0x3f800000 },  /* 149:  9.9999994e-01  9.9999998e-01 */
+    { 0x3fffffff,0x3fa14518 },  /* 150:  1.9999999e+00  1.2599210e+00 */
+    { 0x407fffff,0x3fcb2ff5 },  /* 151:  3.9999998e+00  1.5874010e+00 */
+    { 0x40ffffff,0x40000000 },  /* 152:  7.9999995e+00  2.0000000e+00 */
+    { 0x417fffff,0x40214518 },  /* 153:  1.5999999e+01  2.5198420e+00 */
+    { 0x41ffffff,0x404b2ff5 },  /* 154:  3.1999998e+01  3.1748020e+00 */
+    { 0x427fffff,0x40800000 },  /* 155:  6.3999996e+01  3.9999999e+00 */
+    { 0x42ffffff,0x40a14518 },  /* 156:  1.2799999e+02  5.0396841e+00 */
+    { 0x437fffff,0x40cb2ff5 },  /* 157:  2.5599998e+02  6.3496041e+00 */
+    { 0x43ffffff,0x41000000 },  /* 158:  5.1199997e+02  7.9999998e+00 */
+    { 0x447fffff,0x41214518 },  /* 159:  1.0239999e+03  1.0079368e+01 */
+    { 0x44ffffff,0x414b2ff5 },  /* 160:  2.0479999e+03  1.2699208e+01 */
+    { 0x457fffff,0x41800000 },  /* 161:  4.0959998e+03  1.6000000e+01 */
+    { 0x45ffffff,0x41a14518 },  /* 162:  8.1919995e+03  2.0158736e+01 */
+    { 0x467fffff,0x41cb2ff5 },  /* 163:  1.6383999e+04  2.5398416e+01 */
+    { 0x46ffffff,0x42000000 },  /* 164:  3.2767998e+04  3.1999999e+01 */
+    { 0x477fffff,0x42214518 },  /* 165:  6.5535996e+04  4.0317473e+01 */
+    { 0x47ffffff,0x424b2ff5 },  /* 166:  1.3107199e+05  5.0796833e+01 */
+    { 0x487fffff,0x42800000 },  /* 167:  2.6214398e+05  6.3999999e+01 */
+    { 0x48ffffff,0x42a14518 },  /* 168:  5.2428797e+05  8.0634945e+01 */
+    { 0x497fffff,0x42cb2ff5 },  /* 169:  1.0485759e+06  1.0159367e+02 */
+    { 0x49ffffff,0x43000000 },  /* 170:  2.0971519e+06  1.2800000e+02 */
+    { 0x4a7fffff,0x43214518 },  /* 171:  4.1943038e+06  1.6126989e+02 */
+    { 0x4affffff,0x434b2ff5 },  /* 172:  8.3886075e+06  2.0318733e+02 */
+    { 0x4b7fffff,0x43800000 },  /* 173:  1.6777215e+07  2.5599999e+02 */
+    { 0x4bffffff,0x43a14518 },  /* 174:  3.3554430e+07  3.2253978e+02 */
+    { 0x4c7fffff,0x43cb2ff5 },  /* 175:  6.7108860e+07  4.0637466e+02 */
+    { 0x4cffffff,0x44000000 },  /* 176:  1.3421772e+08  5.1199999e+02 */
+    { 0x4d7fffff,0x44214518 },  /* 177:  2.6843544e+08  6.4507956e+02 */
+    { 0x4dffffff,0x444b2ff5 },  /* 178:  5.3687088e+08  8.1274932e+02 */
+    { 0x4e7fffff,0x44800000 },  /* 179:  1.0737418e+09  1.0240000e+03 */
+    { 0x4effffff,0x44a14518 },  /* 180:  2.1474835e+09  1.2901591e+03 */
+    { 0x4f7fffff,0x44cb2ff5 },  /* 181:  4.2949670e+09  1.6254986e+03 */
+    { 0x4fffffff,0x45000000 },  /* 182:  8.5899341e+09  2.0480000e+03 */
+    { 0x507fffff,0x45214518 },  /* 183:  1.7179868e+10  2.5803183e+03 */
+    { 0x50ffffff,0x454b2ff5 },  /* 184:  3.4359736e+10  3.2509973e+03 */
+    { 0x517fffff,0x45800000 },  /* 185:  6.8719473e+10  4.0959999e+03 */
+    { 0x51ffffff,0x45a14518 },  /* 186:  1.3743895e+11  5.1606365e+03 */
+    { 0x527fffff,0x45cb2ff5 },  /* 187:  2.7487789e+11  6.5019946e+03 */
+    { 0x52ffffff,0x46000000 },  /* 188:  5.4975578e+11  8.1919998e+03 */
+    { 0x537fffff,0x46214518 },  /* 189:  1.0995116e+12  1.0321273e+04 */
+    { 0x53ffffff,0x464b2ff5 },  /* 190:  2.1990231e+12  1.3003989e+04 */
+    { 0x547fffff,0x46800000 },  /* 191:  4.3980462e+12  1.6384000e+04 */
+    { 0x54ffffff,0x46a14518 },  /* 192:  8.7960925e+12  2.0642546e+04 */
+    { 0x557fffff,0x46cb2ff5 },  /* 193:  1.7592185e+13  2.6007978e+04 */
+    { 0x55ffffff,0x47000000 },  /* 194:  3.5184370e+13  3.2767999e+04 */
+    { 0x567fffff,0x47214518 },  /* 195:  7.0368740e+13  4.1285092e+04 */
+    { 0x56ffffff,0x474b2ff5 },  /* 196:  1.4073748e+14  5.2015957e+04 */
+    { 0x577fffff,0x47800000 },  /* 197:  2.8147496e+14  6.5535999e+04 */
+    { 0x57ffffff,0x47a14518 },  /* 198:  5.6294992e+14  8.2570184e+04 */
+    { 0x587fffff,0x47cb2ff5 },  /* 199:  1.1258998e+15  1.0403191e+05 */
+    { 0x58ffffff,0x48000000 },  /* 200:  2.2517997e+15  1.3107200e+05 */
+    { 0x597fffff,0x48214518 },  /* 201:  4.5035994e+15  1.6514037e+05 */
+    { 0x59ffffff,0x484b2ff5 },  /* 202:  9.0071987e+15  2.0806383e+05 */
+    { 0x5a7fffff,0x48800000 },  /* 203:  1.8014397e+16  2.6214399e+05 */
+    { 0x5affffff,0x48a14518 },  /* 204:  3.6028795e+16  3.3028074e+05 */
+    { 0x5b7fffff,0x48cb2ff5 },  /* 205:  7.2057590e+16  4.1612765e+05 */
+    { 0x5bffffff,0x49000000 },  /* 206:  1.4411518e+17  5.2428799e+05 */
+    { 0x5c7fffff,0x49214518 },  /* 207:  2.8823036e+17  6.6056147e+05 */
+    { 0x5cffffff,0x494b2ff5 },  /* 208:  5.7646072e+17  8.3225531e+05 */
+    { 0x5d7fffff,0x49800000 },  /* 209:  1.1529214e+18  1.0485760e+06 */
+    { 0x5dffffff,0x49a14518 },  /* 210:  2.3058429e+18  1.3211229e+06 */
+    { 0x5e7fffff,0x49cb2ff5 },  /* 211:  4.6116857e+18  1.6645106e+06 */
+    { 0x5effffff,0x4a000000 },  /* 212:  9.2233715e+18  2.0971520e+06 */
+    { 0x5f7fffff,0x4a214518 },  /* 213:  1.8446743e+19  2.6422459e+06 */
+    { 0x5fffffff,0x4a4b2ff5 },  /* 214:  3.6893486e+19  3.3290212e+06 */
+    { 0x607fffff,0x4a800000 },  /* 215:  7.3786972e+19  4.1943039e+06 */
+    { 0x60ffffff,0x4aa14518 },  /* 216:  1.4757394e+20  5.2844918e+06 */
+    { 0x617fffff,0x4acb2ff5 },  /* 217:  2.9514789e+20  6.6580424e+06 */
+    { 0x61ffffff,0x4b000000 },  /* 218:  5.9029578e+20  8.3886078e+06 */
+    { 0x627fffff,0x4b214518 },  /* 219:  1.1805916e+21  1.0568984e+07 */
+    { 0x62ffffff,0x4b4b2ff5 },  /* 220:  2.3611831e+21  1.3316085e+07 */
+    { 0x637fffff,0x4b800000 },  /* 221:  4.7223662e+21  1.6777216e+07 */
+    { 0x63ffffff,0x4ba14518 },  /* 222:  9.4447324e+21  2.1137967e+07 */
+    { 0x647fffff,0x4bcb2ff5 },  /* 223:  1.8889465e+22  2.6632170e+07 */
+    { 0x64ffffff,0x4c000000 },  /* 224:  3.7778930e+22  3.3554431e+07 */
+    { 0x657fffff,0x4c214518 },  /* 225:  7.5557859e+22  4.2275934e+07 */
+    { 0x65ffffff,0x4c4b2ff5 },  /* 226:  1.5111572e+23  5.3264340e+07 */
+    { 0x667fffff,0x4c800000 },  /* 227:  3.0223144e+23  6.7108863e+07 */
+    { 0x66ffffff,0x4ca14518 },  /* 228:  6.0446287e+23  8.4551869e+07 */
+    { 0x677fffff,0x4ccb2ff5 },  /* 229:  1.2089257e+24  1.0652868e+08 */
+    { 0x67ffffff,0x4d000000 },  /* 230:  2.4178515e+24  1.3421773e+08 */
+    { 0x687fffff,0x4d214518 },  /* 231:  4.8357030e+24  1.6910374e+08 */
+    { 0x68ffffff,0x4d4b2ff5 },  /* 232:  9.6714060e+24  2.1305736e+08 */
+    { 0x697fffff,0x4d800000 },  /* 233:  1.9342812e+25  2.6843545e+08 */
+    { 0x69ffffff,0x4da14518 },  /* 234:  3.8685624e+25  3.3820747e+08 */
+    { 0x6a7fffff,0x4dcb2ff5 },  /* 235:  7.7371248e+25  4.2611472e+08 */
+    { 0x6affffff,0x4e000000 },  /* 236:  1.5474250e+26  5.3687090e+08 */
+    { 0x6b7fffff,0x4e214518 },  /* 237:  3.0948499e+26  6.7641495e+08 */
+    { 0x6bffffff,0x4e4b2ff5 },  /* 238:  6.1896998e+26  8.5222943e+08 */
+    { 0x6c7fffff,0x4e800000 },  /* 239:  1.2379400e+27  1.0737418e+09 */
+    { 0x6cffffff,0x4ea14518 },  /* 240:  2.4758799e+27  1.3528299e+09 */
+    { 0x6d7fffff,0x4ecb2ff5 },  /* 241:  4.9517599e+27  1.7044589e+09 */
+    { 0x6dffffff,0x4f000000 },  /* 242:  9.9035197e+27  2.1474836e+09 */
+    { 0x6e7fffff,0x4f214518 },  /* 243:  1.9807039e+28  2.7056598e+09 */
+    { 0x6effffff,0x4f4b2ff5 },  /* 244:  3.9614079e+28  3.4089177e+09 */
+    { 0x6f7fffff,0x4f800000 },  /* 245:  7.9228158e+28  4.2949672e+09 */
+    { 0x6fffffff,0x4fa14518 },  /* 246:  1.5845632e+29  5.4113196e+09 */
+    { 0x707fffff,0x4fcb2ff5 },  /* 247:  3.1691263e+29  6.8178355e+09 */
+    { 0x70ffffff,0x50000000 },  /* 248:  6.3382526e+29  8.5899344e+09 */
+    { 0x717fffff,0x50214518 },  /* 249:  1.2676505e+30  1.0822639e+10 */
+    { 0x71ffffff,0x504b2ff5 },  /* 250:  2.5353010e+30  1.3635671e+10 */
+    { 0x727fffff,0x50800000 },  /* 251:  5.0706021e+30  1.7179869e+10 */
+    { 0x72ffffff,0x50a14518 },  /* 252:  1.0141204e+31  2.1645278e+10 */
+    { 0x737fffff,0x50cb2ff5 },  /* 253:  2.0282408e+31  2.7271342e+10 */
+    { 0x73ffffff,0x51000000 },  /* 254:  4.0564817e+31  3.4359738e+10 */
+    { 0x747fffff,0x51214518 },  /* 255:  8.1129634e+31  4.3290557e+10 */
+    { 0x74ffffff,0x514b2ff5 },  /* 256:  1.6225927e+32  5.4542684e+10 */
+    { 0x757fffff,0x51800000 },  /* 257:  3.2451853e+32  6.8719475e+10 */
+    { 0x75ffffff,0x51a14518 },  /* 258:  6.4903707e+32  8.6581113e+10 */
+    { 0x767fffff,0x51cb2ff5 },  /* 259:  1.2980741e+33  1.0908537e+11 */
+    { 0x76ffffff,0x52000000 },  /* 260:  2.5961483e+33  1.3743895e+11 */
+    { 0x777fffff,0x52214518 },  /* 261:  5.1922965e+33  1.7316223e+11 */
+    { 0x77ffffff,0x524b2ff5 },  /* 262:  1.0384593e+34  2.1817073e+11 */
+    { 0x787fffff,0x52800000 },  /* 263:  2.0769186e+34  2.7487790e+11 */
+    { 0x78ffffff,0x52a14518 },  /* 264:  4.1538372e+34  3.4632445e+11 */
+    { 0x797fffff,0x52cb2ff5 },  /* 265:  8.3076745e+34  4.3634147e+11 */
+    { 0x79ffffff,0x53000000 },  /* 266:  1.6615349e+35  5.4975580e+11 */
+    { 0x7a7fffff,0x53214518 },  /* 267:  3.3230698e+35  6.9264891e+11 */
+    { 0x7affffff,0x534b2ff5 },  /* 268:  6.6461396e+35  8.7268294e+11 */
+    { 0x7b7fffff,0x53800000 },  /* 269:  1.3292279e+36  1.0995116e+12 */
+    { 0x7bffffff,0x53a14518 },  /* 270:  2.6584558e+36  1.3852978e+12 */
+    { 0x7c7fffff,0x53cb2ff5 },  /* 271:  5.3169117e+36  1.7453659e+12 */
+    { 0x7cffffff,0x54000000 },  /* 272:  1.0633823e+37  2.1990232e+12 */
+    { 0x7d7fffff,0x54214518 },  /* 273:  2.1267647e+37  2.7705956e+12 */
+    { 0x7dffffff,0x544b2ff5 },  /* 274:  4.2535293e+37  3.4907318e+12 */
+    { 0x7e7fffff,0x54800000 },  /* 275:  8.5070587e+37  4.3980464e+12 */
+    { 0x7effffff,0x54a14518 },  /* 276:  1.7014117e+38  5.5411913e+12 */
+    { 0x7f7fffff,0x54cb2ff5 },  /* 277:  3.4028235e+38  6.9814635e+12 */
+};
+
+int main ()
+{
+    int i;
+    union float_u tx, tz;
+    
+    for (i = 0;  (size_t)i < sizeof(t) / sizeof(t[0]); i++) {
+	tx.u32 = pgm_read_dword (& t[i].x);
+	tz.u32 = pgm_read_dword (& t[i].z);
+	v.flt = cbrt (tx.flt);
+	if ((v.u32 - tz.u32) > ULPMAX && (tz.u32 - v.u32) > ULPMAX) {
+	    PRINTFLN ("t1[%d]={0x%08lx,0x%08lx} --> 0x%08lx\n",
+		      i, tx.u32, tz.u32, v.u32);
+	    EXIT (i + 1);
+	}
+    }
+    
+    return 0;
+}
diff --git a/tests/simulate/math/cbrt-500.c b/tests/simulate/math/cbrt-500.c
new file mode 100644
index 0000000..e97652a
--- /dev/null
+++ b/tests/simulate/math/cbrt-500.c
@@ -0,0 +1,584 @@
+/* Copyright (c) 2009  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of cbrt() function: 500 random cases.
+   $Id$	*/
+
+#define	ULPMAX	1	/* max possible error in units at last position	*/
+
+#include <math.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+#ifndef	__AVR__
+# include <stdio.h>
+# define PRINTFLN(fmt, ...)	\
+    printf ("\nLine %d: " fmt "\n", __LINE__, ##__VA_ARGS__)
+# define EXIT(code)	exit ((code) < 255 ? (code) : 100 + (code) % 100)
+#else
+# define PRINTFLN(args...)
+# define EXIT	exit
+#endif
+
+union float_u {
+    unsigned long u32;
+    float flt;
+};
+
+/* Result is placed into SRAM variable, allocated at the start of
+   memory. This is convinient to debug: read a core dump.	*/
+volatile union float_u v = {.u32 = 1};
+
+PROGMEM const struct {
+    unsigned long x;
+    unsigned long z;
+} t[] = {
+
+    /* x, cbrt(x)	*/
+    { 0xbfde6fcd,0xbf99e3b2 }, /*   1: -1.7377869e+00 -1.2022612e+00 */
+    { 0x40b47585,0x3fe3d5a4 }, /*   2:  5.6393456e+00  1.7799573e+00 */
+    { 0xbf408a98,0xbf68cf52 }, /*   3: -7.5211477e-01 -9.0941346e-01 */
+    { 0x4136c57c,0x4010231f }, /*   4:  1.1423214e+01  2.2521436e+00 */
+    { 0x5d4503c1,0x496a9958 }, /*   5:  8.8727517e+17  9.6091750e+05 */
+    { 0xbde4615f,0xbef670e3 }, /*   6: -1.1151385e-01 -4.8133001e-01 */
+    { 0x3e89fc52,0x3f255bea }, /*   7:  2.6950318e-01  6.4593375e-01 */
+    { 0xbfc71b28,0xbf944f29 }, /*   8: -1.5555162e+00 -1.1586658e+00 */
+    { 0xbf112d36,0xbf53e5b9 }, /*   9: -5.6709611e-01 -8.2772404e-01 */
+    { 0xc9b75739,0xc2e50a75 }, /*  10: -1.5019271e+06 -1.1452042e+02 */
+    { 0x4747f170,0x4214844a }, /*  11:  5.1185438e+04  3.7129189e+01 */
+    { 0xc00eb72a,0xbfa73a2c }, /*  12: -2.2299294e+00 -1.3064628e+00 */
+    { 0xd5f33235,0xc6fba8aa }, /*  13: -3.3424620e+13 -3.2212332e+04 */
+    { 0xbf49a5b1,0xbf6c6c6e }, /*  14: -7.8768450e-01 -9.2352951e-01 */
+    { 0xc0c95c3b,0xbfec4fb4 }, /*  15: -6.2925086e+00 -1.8461823e+00 */
+    { 0x3f1d00a3,0x3f59805f }, /*  16:  6.1329097e-01  8.4961504e-01 */
+    { 0xbdf15a6e,0xbefb0585 }, /*  17: -1.1784826e-01 -4.9027649e-01 */
+    { 0x3e94da1a,0x3f29972a }, /*  18:  2.9072648e-01  6.6246283e-01 */
+    { 0xd85ccbbf,0xc7c1691e }, /*  19: -9.7107056e+14 -9.9026234e+04 */
+    { 0x411579e6,0x4006cabd }, /*  20:  9.3422604e+00  2.1061242e+00 */
+    { 0xc274564a,0xc07c0d41 }, /*  21: -6.1084267e+01 -3.9383090e+00 */
+    { 0x3fe84025,0x3f9c1ec1 }, /*  22:  1.8144575e+00  1.2196885e+00 */
+    { 0xbbba939e,0xbe36da67 }, /*  23: -5.6938669e-03 -1.7856751e-01 */
+    { 0x3e5a4e4e,0x3f18ee4d }, /*  24:  2.1318933e-01  5.9738618e-01 */
+    { 0xc0084416,0xbfa4ab52 }, /*  25: -2.1291556e+00 -1.2864783e+00 */
+    { 0xbfced92d,0xbf963509 }, /*  26: -1.6160027e+00 -1.1734935e+00 */
+    { 0xb7b3d819,0xbce39350 }, /*  27: -2.1439091e-05 -2.7780205e-02 */
+    { 0x3f989188,0x3f87b712 }, /*  28:  1.1919413e+00  1.0602744e+00 */
+    { 0x4180ee9a,0x4021a90f }, /*  29:  1.6116505e+01  2.5259435e+00 */
+    { 0xbfdcde51,0xbf9986e4 }, /*  30: -1.7255346e+00 -1.1994290e+00 */
+    { 0x417dbc5b,0x4020cb04 }, /*  31:  1.5858485e+01  2.5123911e+00 */
+    { 0x423acb6f,0x40667860 }, /*  32:  4.6698666e+01  3.6010971e+00 */
+    { 0x3b0e70f0,0x3e04a4ac }, /*  33:  2.1734796e-03  1.2953442e-01 */
+    { 0xbdd0a4da,0xbeef2082 }, /*  34: -1.0187693e-01 -4.6704489e-01 */
+    { 0xbccce5da,0xbe95bbca }, /*  35: -2.5011946e-02 -2.9244834e-01 */
+    { 0xbc5ab0c6,0xbe72e7b5 }, /*  36: -1.3347810e-02 -2.3721202e-01 */
+    { 0x3f023258,0x3f4c57d4 }, /*  37:  5.0858068e-01  7.9821515e-01 */
+    { 0xc001ac1c,0xbfa1f81c }, /*  38: -2.0261297e+00 -1.2653842e+00 */
+    { 0x3d7a7d95,0x3ec9b819 }, /*  39:  6.1154921e-02  3.9398268e-01 */
+    { 0xbe292c09,0xbf0c7842 }, /*  40: -1.6520704e-01 -5.4870999e-01 */
+    { 0x3fde4e09,0x3f99dbe8 }, /*  41:  1.7367564e+00  1.2020235e+00 */
+    { 0xba09092f,0xbda4fa91 }, /*  42: -5.2275037e-04 -8.0556042e-02 */
+    { 0x3e4079a2,0x3f12a4e9 }, /*  43:  1.8796399e-01  5.7282883e-01 */
+    { 0x3ff7924b,0x3f9f7af0 }, /*  44:  1.9341520e+00  1.2459393e+00 */
+    { 0x6d3e6be2,0x4eb819c2 }, /*  45:  3.6832859e+27  1.5443479e+09 */
+    { 0x40916bce,0x3fd40428 }, /*  46:  4.5444098e+00  1.6563768e+00 */
+    { 0xbdda59c9,0xbef2c77b }, /*  47: -1.0661656e-01 -4.7417817e-01 */
+    { 0x3ff54a35,0x3f9efd22 }, /*  48:  1.9163271e+00  1.2421000e+00 */
+    { 0x3bfd70c0,0x3e4a8205 }, /*  49:  7.7343881e-03  1.9776161e-01 */
+    { 0xbaa162ab,0xbddb81c1 }, /*  50: -1.2312731e-03 -1.0718108e-01 */
+    { 0x3d07c795,0x3ea4791c }, /*  51:  3.3149321e-02  3.2123649e-01 */
+    { 0xbd411127,0xbeb8f304 }, /*  52: -4.7135498e-02 -3.6122906e-01 */
+    { 0x3fe92f83,0x3f9c5451 }, /*  53:  1.8217624e+00  1.2213231e+00 */
+    { 0x3f44e185,0x3f6a8bc1 }, /*  54:  7.6906615e-01  9.1619498e-01 */
+    { 0x44a99fa9,0x4131235f }, /*  55:  1.3569894e+03  1.1071136e+01 */
+    { 0xc37398e4,0xc0c7d9fc }, /*  56: -2.4359723e+02 -6.2453594e+00 */
+    { 0xc1cdf077,0xc03cf8b7 }, /*  57: -2.5742414e+01 -2.9526803e+00 */
+    { 0xc18812f7,0xc0249787 }, /*  58: -1.7009260e+01 -2.5717485e+00 */
+    { 0xbfd6f5e0,0xbf982548 }, /*  59: -1.6793785e+00 -1.1886377e+00 */
+    { 0xbe328c9e,0xbf0f04c6 }, /*  60: -1.7436454e-01 -5.5866659e-01 */
+    { 0x3fdd516f,0x3f99a18c }, /*  61:  1.7290477e+00  1.2002425e+00 */
+    { 0xc1b30e81,0xc0345cdc }, /*  62: -2.2382082e+01 -2.8181677e+00 */
+    { 0xc2cce896,0xc095bc74 }, /*  63: -1.0245427e+02 -4.6792545e+00 */
+    { 0x3dc1ff37,0x3ee96520 }, /*  64:  9.4725065e-02  4.5584965e-01 */
+    { 0x43aa17a7,0x40df62af }, /*  65:  3.4018478e+02  6.9807963e+00 */
+    { 0xbc9297eb,0xbe85eb78 }, /*  66: -1.7894706e-02 -2.6156211e-01 */
+    { 0x4749aab2,0x4214f13c }, /*  67:  5.1626695e+04  3.7235580e+01 */
+    { 0x3c823de4,0x3e80be31 }, /*  68:  1.5898652e-02  2.5145105e-01 */
+    { 0xc155c5ce,0xc017dd69 }, /*  69: -1.3360792e+01 -2.3728888e+00 */
+    { 0xb5ac2bb0,0xbc320537 }, /*  70: -1.2827713e-06 -1.0865501e-02 */
+    { 0x3fe8e168,0x3f9c42db }, /*  71:  1.8193789e+00  1.2207903e+00 */
+    { 0xbea3780a,0xbf2ef820 }, /*  72: -3.1927520e-01 -6.8347359e-01 */
+    { 0xbdef6ac8,0xbefa5939 }, /*  73: -1.1690289e-01 -4.8896196e-01 */
+    { 0xbf301c85,0xbf61fd6e }, /*  74: -6.8793517e-01 -8.8277328e-01 */
+    { 0xbb995fb3,0xbe2b4a6a }, /*  75: -4.6805977e-03 -1.6727605e-01 */
+    { 0x4125591e,0x400b673f }, /*  76:  1.0334257e+01  2.1781766e+00 */
+    { 0xc12af08d,0xc00cf512 }, /*  77: -1.0683728e+01 -2.2024579e+00 */
+    { 0x3f12063d,0x3f544f1b }, /*  78:  5.7040769e-01  8.2933205e-01 */
+    { 0xc15aea73,0xc01912ba }, /*  79: -1.3682239e+01 -2.3917680e+00 */
+    { 0x52bd9edf,0x45e7a06a }, /*  80:  4.0720712e+11  7.4120518e+03 */
+    { 0x3f10eb00,0x3f53c57d }, /*  81:  5.6608582e-01  8.2723218e-01 */
+    { 0x3f217cd9,0x3f5b8d9f }, /*  82:  6.3081127e-01  8.5762972e-01 */
+    { 0xbf1ec33e,0xbf5a4fae }, /*  83: -6.2016666e-01 -8.5277832e-01 */
+    { 0x3ff35288,0x3f9e9004 }, /*  84:  1.9009562e+00  1.2387700e+00 */
+    { 0x412a2429,0x400cbccd }, /*  85:  1.0633828e+01  2.1990235e+00 */
+    { 0x3ef0b5d0,0x3f470f10 }, /*  86:  4.7013712e-01  7.7757359e-01 */
+    { 0xc1bbcb3a,0xc0373ffa }, /*  87: -2.3474232e+01 -2.8632798e+00 */
+    { 0xbe6d6021,0xbf1d4297 }, /*  88: -2.3181202e-01 -6.1429733e-01 */
+    { 0xc27fcc32,0xc07feeba }, /*  89: -6.3949409e+01 -3.9989457e+00 */
+    { 0xbd24b58c,0xbeaf691f }, /*  90: -4.0212199e-02 -3.4259889e-01 */
+    { 0xbf0e1eda,0xbf526661 }, /*  91: -5.5515826e-01 -8.2187468e-01 */
+    { 0x3cf378e2,0x3e9e9859 }, /*  92:  2.9720727e-02  3.0975607e-01 */
+    { 0xc0626c54,0xbfc30a3b }, /*  93: -3.5378618e+00 -1.5237497e+00 */
+    { 0x42ce617d,0x4096180b }, /*  94:  1.0319041e+02  4.6904349e+00 */
+    { 0x3eb07a7b,0x3f337e2d }, /*  95:  3.4468445e-01  7.0114404e-01 */
+    { 0x3c4c4773,0x3e6d729c }, /*  96:  1.2468207e-02  2.3188251e-01 */
+    { 0xbe20f99a,0xbf0a29d0 }, /*  97: -1.5720215e-01 -5.3970051e-01 */
+    { 0xc278e345,0xc07d9b62 }, /*  98: -6.2221943e+01 -3.9626088e+00 */
+    { 0xc0c2a193,0xbfe9a62b }, /*  99: -6.0822234e+00 -1.8253835e+00 */
+    { 0xb90cb09e,0xbd51b10a }, /* 100: -1.3417235e-04 -5.1194228e-02 */
+    { 0x4096a92a,0x3fd6885c }, /* 101:  4.7081499e+00  1.6760364e+00 */
+    { 0xbe18f6d6,0xbf07d516 }, /* 102: -1.4937910e-01 -5.3059518e-01 */
+    { 0x3fc58137,0x3f93e91a }, /* 103:  1.5430058e+00  1.1555512e+00 */
+    { 0x46421edd,0x41b948fc }, /* 104:  1.2423716e+04  2.3160637e+01 */
+    { 0xc20c31fe,0xc051720f }, /* 105: -3.5048820e+01 -3.2725866e+00 */
+    { 0xc12de535,0xc00dc3dd }, /* 106: -1.0868459e+01 -2.2150795e+00 */
+    { 0x4122e59f,0x400ab606 }, /* 107:  1.0181060e+01  2.1673598e+00 */
+    { 0xc1355a3f,0xc00fc364 }, /* 108: -1.1334533e+01 -2.2463007e+00 */
+    { 0x3e0bb713,0x3f03caa8 }, /* 109:  1.3644056e-01  5.1481104e-01 */
+    { 0xbc7e34a7,0xbe7f6686 }, /* 110: -1.5515483e-02 -2.4941453e-01 */
+    { 0x3ffc00d1,0x3fa06d1c }, /* 111:  1.9687749e+00  1.2533298e+00 */
+    { 0xbfe06630,0xbf9a5736 }, /* 112: -1.7531185e+00 -1.2057865e+00 */
+    { 0x3ff451b1,0x3f9ec75e }, /* 113:  1.9087430e+00  1.2404592e+00 */
+    { 0x3f203c5b,0x3f5afc00 }, /* 114:  6.2592095e-01  8.5540771e-01 */
+    { 0x46cc45c2,0x41ed71f4 }, /* 115:  2.6146879e+04  2.9680641e+01 */
+    { 0x3daa9f36,0x3edf9df7 }, /* 116:  8.3311483e-02  4.3675205e-01 */
+    { 0xc1f2a62a,0xc0479785 }, /* 117: -3.0331135e+01 -3.1186230e+00 */
+    { 0x3c746a53,0x3e7c1425 }, /* 118:  1.4917928e-02  2.4617060e-01 */
+    { 0xc907e7f7,0xc2a4862e }, /* 119: -5.5667144e+05 -8.2262070e+01 */
+    { 0xbe667a1b,0xbf1bb8c2 }, /* 120: -2.2507517e-01 -6.0828793e-01 */
+    { 0xc0d09b50,0xbfef1cdd }, /* 121: -6.5189590e+00 -1.8680683e+00 */
+    { 0xbfe56bf9,0xbf9b7bd3 }, /* 122: -1.7923576e+00 -1.2147163e+00 */
+    { 0x3d6602b5,0x3ec4108b }, /* 123:  5.6154925e-02  3.8293871e-01 */
+    { 0xbf007060,0xbf4b6b5a }, /* 124: -5.0171471e-01 -7.9460680e-01 */
+    { 0x3ee2cc3d,0x3f4325c1 }, /* 125:  4.4296446e-01  7.6229483e-01 */
+    { 0xbfd96bbf,0xbf98b953 }, /* 126: -1.6986006e+00 -1.1931556e+00 */
+    { 0x3fe8b0e5,0x3f9c3800 }, /* 127:  1.8178984e+00  1.2204590e+00 */
+    { 0x251e2a88,0x36ad0e74 }, /* 128:  1.3718726e-16  5.1574843e-06 */
+    { 0xbf1233fe,0xbf546545 }, /* 129: -5.7110584e-01 -8.2967025e-01 */
+    { 0x3f261e3f,0x3f5da1c6 }, /* 130:  6.4889902e-01  8.6574972e-01 */
+    { 0x3fce4394,0x3f9610ca }, /* 131:  1.6114373e+00  1.1723874e+00 */
+    { 0xba285dad,0xbdb0b302 }, /* 132: -6.4226502e-04 -8.6278930e-02 */
+    { 0xbfd02945,0xbf968638 }, /* 133: -1.6262594e+00 -1.1759710e+00 */
+    { 0xc06ec572,0xbfc685df }, /* 134: -3.7308011e+00 -1.5509604e+00 */
+    { 0x412c5172,0x400d55cf }, /* 135:  1.0769884e+01  2.2083623e+00 */
+    { 0x495870a0,0x42c02159 }, /* 136:  8.8653800e+05  9.6065132e+01 */
+    { 0xc9465130,0xc2ba9c5c }, /* 137: -8.1230700e+05 -9.3305389e+01 */
+    { 0xbfe9b716,0xbf9c7297 }, /* 138: -1.8258998e+00 -1.2222470e+00 */
+    { 0x3e5e1619,0x3f19cf00 }, /* 139:  2.1688117e-01  6.0081482e-01 */
+    { 0xbe4ee5a5,0xbf16380e }, /* 140: -2.0204790e-01 -5.8679283e-01 */
+    { 0xbd3cf306,0xbeb79ffe }, /* 141: -4.6130203e-02 -3.5864252e-01 */
+    { 0x4177ca73,0x401f86fe }, /* 142:  1.5486926e+01  2.4926143e+00 */
+    { 0xbfe31738,0xbf9af48e }, /* 143: -1.7741461e+00 -1.2105882e+00 */
+    { 0xbdfbd86e,0xbefe9b8b }, /* 144: -1.2297140e-01 -4.9728045e-01 */
+    { 0x421549f7,0x4055e127 }, /* 145:  3.7322231e+01  3.3418672e+00 */
+    { 0xc0ae9614,0xbfe155f0 }, /* 146: -5.4558201e+00 -1.7604351e+00 */
+    { 0xbe4a7390,0xbf15229f }, /* 147: -1.9770646e-01 -5.8255953e-01 */
+    { 0xbfaefdcd,0xbf8e0ff4 }, /* 148: -1.3671204e+00 -1.1098619e+00 */
+    { 0xe6dd243a,0xcc999715 }, /* 149: -5.2215563e+23 -8.0525480e+07 */
+    { 0xc1742ade,0xc01ebef5 }, /* 150: -1.5260466e+01 -2.4804051e+00 */
+    { 0xc090a375,0xbfd3a29e }, /* 151: -4.5199533e+00 -1.6534002e+00 */
+    { 0xc554bda7,0xc170ae97 }, /* 152: -3.4038533e+03 -1.5042624e+01 */
+    { 0x3efda0bd,0x3f4a8ecc }, /* 153:  4.9536696e-01  7.9124141e-01 */
+    { 0xb5da448a,0xbc40ab6a }, /* 154: -1.6262213e-06 -1.1759618e-02 */
+    { 0x42972248,0x408749d6 }, /* 155:  7.5566956e+01  4.2277632e+00 */
+    { 0xbf283c68,0xbf5e91df }, /* 156: -6.5717173e-01 -8.6941332e-01 */
+    { 0x3f063860,0x3f4e6d3f }, /* 157:  5.2429771e-01  8.0635446e-01 */
+    { 0x4097f9e5,0x3fd727b9 }, /* 158:  4.7492547e+00  1.6808997e+00 */
+    { 0x4137346c,0x40104043 }, /* 159:  1.1450298e+01  2.2539222e+00 */
+    { 0x3f4fce8c,0x3f6ece86 }, /* 160:  8.1174541e-01  9.3283880e-01 */
+    { 0x3af23541,0x3dfb514b }, /* 161:  1.8479006e-03  1.2271365e-01 */
+    { 0x38e53517,0x3d43d60d }, /* 162:  1.0929460e-04  4.7811557e-02 */
+    { 0x43e2c951,0x40f5ddc5 }, /* 163:  4.5357278e+02  7.6833215e+00 */
+    { 0x412904b8,0x400c6d5f }, /* 164:  1.0563652e+01  2.1941755e+00 */
+    { 0xbd9f6a7a,0xbeda9c3a }, /* 165: -7.7839807e-02 -4.2697316e-01 */
+    { 0xb473b026,0xbbc7e058 }, /* 166: -2.2695221e-07 -6.0997419e-03 */
+    { 0x3dfbf704,0x3efea5d9 }, /* 167:  1.2302974e-01  4.9735907e-01 */
+    { 0xbdef3d21,0xbefa494f }, /* 168: -1.1681581e-01 -4.8884055e-01 */
+    { 0x400abc56,0x3fa5a87a }, /* 169:  2.1677451e+00  1.2942040e+00 */
+    { 0xbf278aee,0xbf5e4380 }, /* 170: -6.5446365e-01 -8.6821747e-01 */
+    { 0x3ff757c2,0x3f9f6e5d }, /* 171:  1.9323657e+00  1.2455555e+00 */
+    { 0x413a7ee5,0x40111c11 }, /* 172:  1.1655980e+01  2.2673380e+00 */
+    { 0xbdaee17a,0xbee1765b }, /* 173: -8.5391000e-02 -4.4035611e-01 */
+    { 0xbe2516f5,0xbf0b54a5 }, /* 174: -1.6122039e-01 -5.4426032e-01 */
+    { 0x3fe02c7b,0x3f9a49fa }, /* 175:  1.7513574e+00  1.2053826e+00 */
+    { 0xc0b2856d,0xbfe3041c }, /* 176: -5.5787873e+00 -1.7735629e+00 */
+    { 0xc233cf27,0xc0638f8a }, /* 177: -4.4952297e+01 -3.5556359e+00 */
+    { 0xbeffc28b,0xbf4b1fb1 }, /* 178: -4.9953112e-01 -7.9345232e-01 */
+    { 0xbfd9bb30,0xbf98cbea }, /* 179: -1.7010250e+00 -1.1937230e+00 */
+    { 0xc3431b3c,0xc0b99925 }, /* 180: -1.9510638e+02 -5.7999444e+00 */
+    { 0xbe5697ec,0xbf180f1b }, /* 181: -2.0956391e-01 -5.9398049e-01 */
+    { 0xc13d3106,0xc011ce34 }, /* 182: -1.1824469e+01 -2.2782106e+00 */
+    { 0xbd494a98,0xbebb89ff }, /* 183: -4.9143404e-02 -3.6628720e-01 */
+    { 0xb743d231,0xbcb9d316 }, /* 184: -1.1671845e-05 -2.2683661e-02 */
+    { 0x47aeca2c,0x4232eb24 }, /* 185:  8.9492344e+04  4.4729630e+01 */
+    { 0xbef0d304,0xbf47171d }, /* 186: -4.7035992e-01 -7.7769643e-01 */
+    { 0x417bfe29,0x40206c8c }, /* 187:  1.5749551e+01  2.5066252e+00 */
+    { 0xbefd6dd8,0xbf4a813f }, /* 188: -4.9497867e-01 -7.9103464e-01 */
+    { 0xc0214eaa,0xbfae31d0 }, /* 189: -2.5204263e+00 -1.3608952e+00 */
+    { 0xbee364fc,0xbf435186 }, /* 190: -4.4412982e-01 -7.6296270e-01 */
+    { 0xbe030251,0xbf00fec9 }, /* 191: -1.2793852e-01 -5.0388771e-01 */
+    { 0xc9a5f539,0xc2dd8f86 }, /* 192: -1.3595271e+06 -1.1078032e+02 */
+    { 0xbd67b95c,0xbec48ce0 }, /* 193: -5.6573257e-02 -3.8388729e-01 */
+    { 0x447dd085,0x4120cf46 }, /* 194:  1.0152581e+03  1.0050604e+01 */
+    { 0xc123da89,0xc00afb67 }, /* 195: -1.0240853e+01 -2.1715944e+00 */
+    { 0x488a85fd,0x42836a74 }, /* 196:  2.8369591e+05  6.5707916e+01 */
+    { 0x3f0063c6,0x3f4b64b3 }, /* 197:  5.0152242e-01  7.9450530e-01 */
+    { 0x3f01a902,0x3f4c0fe1 }, /* 198:  5.0648510e-01  7.9711729e-01 */
+    { 0xc360a3aa,0xc0c286c3 }, /* 199: -2.2463931e+02 -6.0789504e+00 */
+    { 0xbf295d66,0xbf5f1108 }, /* 200: -6.6158140e-01 -8.7135363e-01 */
+    { 0xbfaedddd,0xbf8e074f }, /* 201: -1.3661457e+00 -1.1095980e+00 */
+    { 0x3f5f1531,0x3f748541 }, /* 202:  8.7141711e-01  9.5515829e-01 */
+    { 0xbf39eec9,0xbf661d7d }, /* 203: -7.2629982e-01 -8.9888746e-01 */
+    { 0xb8da8f06,0xbd40c152 }, /* 204: -1.0421690e-04 -4.7059365e-02 */
+    { 0xbd74399d,0xbec805e7 }, /* 205: -5.9625257e-02 -3.9067003e-01 */
+    { 0x3e0fb97e,0x3f050a5a }, /* 206:  1.4035603e-01  5.1968920e-01 */
+    { 0x3f800000,0x3f800000 }, /* 207:  1.0000000e+00  1.0000000e+00 */
+    { 0x3b63f430,0x3e1b26c1 }, /* 208:  3.4782998e-03  1.5151502e-01 */
+    { 0xc19ec38c,0xc02d4631 }, /* 209: -1.9845482e+01 -2.7074091e+00 */
+    { 0x3fe9092d,0x3f9c4bbf }, /* 210:  1.8205925e+00  1.2210616e+00 */
+    { 0xbe8728d2,0xbf2438e8 }, /* 211: -2.6398331e-01 -6.4149332e-01 */
+    { 0xbf13380c,0xbf54e2e9 }, /* 212: -5.7507396e-01 -8.3158737e-01 */
+    { 0xbe1d06bf,0xbf090636 }, /* 213: -1.5334605e-01 -5.3525102e-01 */
+    { 0x3f06f973,0x3f4ed00b }, /* 214:  5.2724379e-01  8.0786198e-01 */
+    { 0xc0091480,0xbfa4ff1b }, /* 215: -2.1418762e+00 -1.2890352e+00 */
+    { 0xc20a0a50,0xc0505de9 }, /* 216: -3.4510071e+01 -3.2557318e+00 */
+    { 0x3da7eddc,0x3ede6f36 }, /* 217:  8.1996650e-02  4.3444222e-01 */
+    { 0xc8e3f2b6,0xc29b266b }, /* 218: -4.6683769e+05 -7.7575035e+01 */
+    { 0xc159dc9c,0xc018d3bb }, /* 219: -1.3616360e+01 -2.3879230e+00 */
+    { 0xbf1295aa,0xbf549487 }, /* 220: -5.7259619e-01 -8.3039135e-01 */
+    { 0x3f13a324,0x3f55167c }, /* 221:  5.7670808e-01  8.3237433e-01 */
+    { 0xc000aa3e,0xbfa18c77 }, /* 222: -2.0103908e+00 -1.2620991e+00 */
+    { 0xbff61997,0xbf9f29e3 }, /* 223: -1.9226559e+00 -1.2434658e+00 */
+    { 0x3da5d988,0x3edd8333 }, /* 224:  8.0981314e-02  4.3264160e-01 */
+    { 0xbfeff51d,0xbf9dd408 }, /* 225: -1.8746678e+00 -1.2330332e+00 */
+    { 0x4288c178,0x4082dabd }, /* 226:  6.8377869e+01  4.0892015e+00 */
+    { 0x95c9bc7f,0xb194f59d }, /* 227: -8.1480648e-26 -4.3352899e-09 */
+    { 0x3ff94a34,0x3f9fd92e }, /* 228:  1.9475770e+00  1.2488153e+00 */
+    { 0x44402f41,0x41129203 }, /* 229:  7.6873834e+02  9.1606474e+00 */
+    { 0x3cff0eba,0x3ea1125e }, /* 230:  3.1134952e-02  3.1459326e-01 */
+    { 0xbc503b6e,0xbe6ef835 }, /* 231: -1.2709482e-02 -2.3336871e-01 */
+    { 0xb0b317b8,0xba8f29e1 }, /* 232: -1.3030705e-09 -1.0922515e-03 */
+    { 0x3e1bf412,0x3f08b622 }, /* 233:  1.5229824e-01  5.3402913e-01 */
+    { 0xc0f37d65,0xbffbc296 }, /* 234: -7.6090569e+00 -1.9668758e+00 */
+    { 0xbce0bab7,0xbe9a6a95 }, /* 235: -2.7432783e-02 -3.0159441e-01 */
+    { 0xbd81f737,0xbecc38e0 }, /* 236: -6.3459806e-02 -3.9887142e-01 */
+    { 0xbf45f153,0xbf6af77e }, /* 237: -7.7321357e-01 -9.1783893e-01 */
+    { 0xbd448384,0xbeba0b1d }, /* 238: -4.7976986e-02 -3.6336604e-01 */
+    { 0x3f146818,0x3f557513 }, /* 239:  5.7971334e-01  8.3381766e-01 */
+    { 0xbeeb009a,0xbf45790c }, /* 240: -4.5898896e-01 -7.7137828e-01 */
+    { 0x3e60c9a0,0x3f1a6dff }, /* 241:  2.1951914e-01  6.0324091e-01 */
+    { 0x43591de6,0x40c05491 }, /* 242:  2.1711679e+02  6.0103230e+00 */
+    { 0x3d6e28ee,0x3ec65a74 }, /* 243:  5.8144502e-02  3.8740885e-01 */
+    { 0x3f1fa0c7,0x3f5ab50a }, /* 244:  6.2354702e-01  8.5432494e-01 */
+    { 0x3f1708e5,0x3f56b5c2 }, /* 245:  5.8997947e-01  8.3871090e-01 */
+    { 0xc099eb19,0xbfd8115d }, /* 246: -4.8099484e+00 -1.6880299e+00 */
+    { 0x3f227d1d,0x3f5c0185 }, /* 247:  6.3472158e-01  8.5939819e-01 */
+    { 0x40fa7fed,0x3ffe273d }, /* 248:  7.8281159e+00  1.9855725e+00 */
+    { 0x377ff462,0x3ccb2ce2 }, /* 249:  1.5256084e-05  2.4801675e-02 */
+    { 0x339cfa1d,0x3b89028a }, /* 250:  7.3098114e-08  4.1812109e-03 */
+    { 0xbe4fa62c,0xbf166698 }, /* 251: -2.0278233e-01 -5.8750296e-01 */
+    { 0x41d18c81,0x403e11b7 }, /* 252:  2.6193605e+01  2.9698312e+00 */
+    { 0x3fff12d2,0x3fa1133a }, /* 253:  1.9927619e+00  1.2583992e+00 */
+    { 0xbefd8d1f,0xbf4a8993 }, /* 254: -4.9521729e-01 -7.9116172e-01 */
+    { 0x4157f595,0x40186185 }, /* 255:  1.3497457e+01  2.3809521e+00 */
+    { 0xc0861603,0xbfce5b9f }, /* 256: -4.1901870e+00 -1.6121711e+00 */
+    { 0x41e48c40,0x4043a5ec }, /* 257:  2.8568481e+01  3.0570021e+00 */
+    { 0xbba66369,0xbe300134 }, /* 258: -5.0777686e-03 -1.7187959e-01 */
+    { 0x4cfc5899,0x43fec6b4 }, /* 259:  1.3230202e+08  5.0955237e+02 */
+    { 0xc13db2b0,0xc011ef7c }, /* 260: -1.1856125e+01 -2.2802420e+00 */
+    { 0x6332066e,0x4b62ce3b }, /* 261:  3.2839838e+21  1.4863931e+07 */
+    { 0x39757fbf,0x3d7c7360 }, /* 262:  2.3412610e-04  6.1633468e-02 */
+    { 0x3fdc0ab1,0x3f9955cc }, /* 263:  1.7190763e+00  1.1979308e+00 */
+    { 0xc0ba5494,0xbfe64774 }, /* 264: -5.8228245e+00 -1.7990556e+00 */
+    { 0x3feba066,0x3f9cdf7a }, /* 265:  1.8408325e+00  1.2255700e+00 */
+    { 0x3e5f7348,0x3f1a1f72 }, /* 266:  2.1821320e-01  6.0204232e-01 */
+    { 0x46c10b8a,0x41e9033f }, /* 267:  2.4709770e+04  2.9126585e+01 */
+    { 0x3e3117da,0x3f0ea0fa }, /* 268:  1.7294255e-01  5.5714381e-01 */
+    { 0xbfcff506,0xbf96799f }, /* 269: -1.6246650e+00 -1.1755866e+00 */
+    { 0x3e204ccb,0x3f09f84e }, /* 270:  1.5654294e-01  5.3894508e-01 */
+    { 0xba8237fb,0xbdcc5ac6 }, /* 271: -9.9348964e-04 -9.9782512e-02 */
+    { 0xc48cd8f1,0xc1267e91 }, /* 272: -1.1267794e+03 -1.0405900e+01 */
+    { 0xc0ff3972,0xbfffbdc0 }, /* 273: -7.9757624e+00 -1.9979782e+00 */
+    { 0x43f7727c,0x40fd1de1 }, /* 274:  4.9489441e+02  7.9098973e+00 */
+    { 0xc16e283d,0xc01d6ebc }, /* 275: -1.4884824e+01 -2.4598837e+00 */
+    { 0x4aaa797b,0x43316f11 }, /* 276:  5.5861095e+06  1.7743385e+02 */
+    { 0x3e748588,0x3f1ed298 }, /* 277:  2.3879063e-01  6.2040091e-01 */
+    { 0x3c36154b,0x3e648418 }, /* 278:  1.1113475e-02  2.2316015e-01 */
+    { 0x39e7b993,0x3d9c0094 }, /* 279:  4.4198017e-04  7.6172978e-02 */
+    { 0xbde45175,0xbef66b29 }, /* 280: -1.1148349e-01 -4.8128632e-01 */
+    { 0x3f13be29,0x3f55237b }, /* 281:  5.7712036e-01  8.3257264e-01 */
+    { 0xc1f21394,0xc0476f4c }, /* 282: -3.0259560e+01 -3.1161680e+00 */
+    { 0x3e6372f2,0x3f1b0969 }, /* 283:  2.2211817e-01  6.0561234e-01 */
+    { 0x43276f38,0x40b05f6f }, /* 284:  1.6743445e+02  5.5116496e+00 */
+    { 0x4067a817,0x3fc487fe }, /* 285:  3.6196344e+00  1.5354002e+00 */
+    { 0x3e755400,0x3f1eff3f }, /* 286:  2.3957825e-01  6.2108225e-01 */
+    { 0xc183b313,0xc022cf11 }, /* 287: -1.6462439e+01 -2.5438883e+00 */
+    { 0xbc7aba8d,0xbe7e3b0f }, /* 288: -1.5303266e-02 -2.4827217e-01 */
+    { 0xbe803ffd,0xbf215ff3 }, /* 289: -2.5048819e-01 -6.3037032e-01 */
+    { 0x44037831,0x4101256e }, /* 290:  5.2587799e+02  8.0716381e+00 */
+    { 0x342b7d4a,0x3bb1c907 }, /* 291:  1.5971196e-07  5.4255757e-03 */
+    { 0x412ae0e7,0x400cf0c5 }, /* 292:  1.0679908e+01  2.2021954e+00 */
+    { 0xc581a221,0xc1808aca }, /* 293: -4.1482661e+03 -1.6067768e+01 */
+    { 0xc10eff66,0xc004d0d6 }, /* 294: -8.9373531e+00 -2.0752463e+00 */
+    { 0xbf179827,0xbf56f98f }, /* 295: -5.9216541e-01 -8.3974546e-01 */
+    { 0x3eff5149,0x3f4b01b1 }, /* 296:  4.9866703e-01  7.9299456e-01 */
+    { 0x39b1914f,0x3d8ec18d }, /* 297:  3.3868334e-04  6.9705106e-02 */
+    { 0xc1bce286,0xc0379aa6 }, /* 298: -2.3610607e+01 -2.8688140e+00 */
+    { 0xbfd34146,0xbf97442f }, /* 299: -1.6504295e+00 -1.1817683e+00 */
+    { 0xac0a14f6,0xb90346ac }, /* 300: -1.9622615e-12 -1.2519461e-04 */
+    { 0xbd1fe9d6,0xbeadb0ff }, /* 301: -3.9041363e-02 -3.3924100e-01 */
+    { 0xbf3fe8dc,0xbf688e10 }, /* 302: -7.4964690e-01 -9.0841770e-01 */
+    { 0x40e63c42,0x3ff71b3d }, /* 303:  7.1948557e+00  1.9305187e+00 */
+    { 0x3e5120dd,0x3f16c1ce }, /* 304:  2.0422693e-01  5.8889472e-01 */
+    { 0x3daf1df1,0x3ee19054 }, /* 305:  8.5506327e-02  4.4055426e-01 */
+    { 0xbf066127,0xbf4e8224 }, /* 306: -5.2491993e-01 -8.0667329e-01 */
+    { 0x3fd4fce9,0x3f97adc8 }, /* 307:  1.6639682e+00  1.1849909e+00 */
+    { 0x3c686d34,0x3e77e34a }, /* 308:  1.4186192e-02  2.4207798e-01 */
+    { 0x41538386,0x401753fd }, /* 309:  1.3219610e+01  2.3645012e+00 */
+    { 0xbc15a0a8,0xbe560a86 }, /* 310: -9.1325417e-03 -2.0902452e-01 */
+    { 0xbd997240,0xbed7d8c2 }, /* 311: -7.4924946e-02 -4.2157561e-01 */
+    { 0x4053ccbc,0x3fbebf51 }, /* 312:  3.3093710e+00  1.4902135e+00 */
+    { 0x413e4072,0x401213cd }, /* 313:  1.1890734e+01  2.2824585e+00 */
+    { 0xc07ec394,0xbfcadc1c }, /* 314: -3.9806871e+00 -1.5848422e+00 */
+    { 0x3f38c5c5,0x3f65a2b3 }, /* 315:  7.2176772e-01  8.9701384e-01 */
+    { 0x4330eb8d,0x40b3a47a }, /* 316:  1.7692012e+02  5.6138277e+00 */
+    { 0x40b8158b,0x3fe5599b }, /* 317:  5.7526298e+00  1.7917970e+00 */
+    { 0xbf4a6325,0xbf6cb661 }, /* 318: -7.9057533e-01 -9.2465788e-01 */
+    { 0x3dbd92a7,0x3ee79b71 }, /* 319:  9.2564873e-02  4.5235780e-01 */
+    { 0x40fdfda5,0x3fff5419 }, /* 320:  7.9372125e+00  1.9947540e+00 */
+    { 0x3e8786cb,0x3f245eef }, /* 321:  2.6470026e-01  6.4207357e-01 */
+    { 0x3d6f6192,0x3ec6b11a }, /* 322:  5.8442660e-02  3.8806993e-01 */
+    { 0xc1a629fa,0xc02fecf1 }, /* 323: -2.0770496e+01 -2.7488368e+00 */
+    { 0x3f3bc8a7,0x3f66e055 }, /* 324:  7.3353046e-01  9.0186054e-01 */
+    { 0x3b8b4208,0x3e25dda0 }, /* 325:  4.2498149e-03  1.6197824e-01 */
+    { 0xb8b3a2c5,0xbd348e96 }, /* 326: -8.5657033e-05 -4.4081293e-02 */
+    { 0x415ecbc7,0x4019f8e5 }, /* 327:  1.3924750e+01  2.4058163e+00 */
+    { 0xbfd3ddbe,0xbf97697e }, /* 328: -1.6552045e+00 -1.1829069e+00 */
+    { 0x415b0acc,0x40191a44 }, /* 329:  1.3690136e+01  2.3922281e+00 */
+    { 0x3e26c1d6,0x3f0bcc55 }, /* 330:  1.6284880e-01  5.4608661e-01 */
+    { 0x3e076072,0x3f0269c3 }, /* 331:  1.3220385e-01  5.0942630e-01 */
+    { 0xbcb392a1,0xbe8f4a99 }, /* 332: -2.1920504e-02 -2.7986601e-01 */
+    { 0x43ca096b,0x40ec9361 }, /* 333:  4.0407358e+02  7.3929906e+00 */
+    { 0xbfa247ac,0xbf8a8922 }, /* 334: -1.2678123e+00 -1.0823100e+00 */
+    { 0xbf244460,0xbf5cce3f }, /* 335: -6.4166832e-01 -8.6252207e-01 */
+    { 0x3e74a217,0x3f1ed8c7 }, /* 336:  2.3889957e-01  6.2049526e-01 */
+    { 0x3fc41617,0x3f938e3c }, /* 337:  1.5319241e+00  1.1527781e+00 */
+    { 0xb35dae17,0xbb7401c7 }, /* 338: -5.1613906e-08 -3.7232505e-03 */
+    { 0xbd715338,0xbec73a6b }, /* 339: -5.8917254e-02 -3.8911757e-01 */
+    { 0x3f226024,0x3f5bf470 }, /* 340:  6.3427949e-01  8.5919857e-01 */
+    { 0xb9b589d0,0xbd8fcff4 }, /* 341: -3.4625689e-04 -7.0220858e-02 */
+    { 0xbf2a4506,0xbf5f768a }, /* 342: -6.6511571e-01 -8.7290251e-01 */
+    { 0xbfd3886c,0xbf975528 }, /* 343: -1.6526008e+00 -1.1822863e+00 */
+    { 0x3f219f9a,0x3f5b9d5e }, /* 344:  6.3134158e-01  8.5786998e-01 */
+    { 0xbe162f74,0xbf07013a }, /* 345: -1.4666539e-01 -5.2736247e-01 */
+    { 0xc0ec5e65,0xbff9480e }, /* 346: -7.3865228e+00 -1.9475114e+00 */
+    { 0x3dd20edc,0x3eefaa7f }, /* 347:  1.0256740e-01  4.6809766e-01 */
+    { 0xc1dcb1c7,0xc0416189 }, /* 348: -2.7586805e+01 -3.0215781e+00 */
+    { 0x3d845764,0x3ecd7581 }, /* 349:  6.4619809e-02  4.0128711e-01 */
+    { 0x43cc6308,0x40ed7d4b }, /* 350:  4.0877368e+02  7.4215446e+00 */
+    { 0x3fddc2b3,0x3f99bbbc }, /* 351:  1.7325042e+00  1.2010417e+00 */
+    { 0xbf2eb221,0xbf616201 }, /* 352: -6.8240553e-01 -8.8040167e-01 */
+    { 0x3e3279e0,0x3f0effc5 }, /* 353:  1.7429304e-01  5.5859023e-01 */
+    { 0xbfe67b0c,0xbf9bb8f8 }, /* 354: -1.8006301e+00 -1.2165823e+00 */
+    { 0x4f062bee,0x44a3d23c }, /* 355:  2.2510259e+09  1.3105698e+03 */
+    { 0xbe55bd2d,0xbf17db5e }, /* 356: -2.0872946e-01 -5.9319103e-01 */
+    { 0xbf29e98a,0xbf5f4e7d }, /* 357: -6.6371977e-01 -8.7229139e-01 */
+    { 0xbf1fa0c4,0xbf5ab508 }, /* 358: -6.2354684e-01 -8.5432482e-01 */
+    { 0x3b7324fa,0x3e1e861f }, /* 359:  3.7100897e-03  1.5480851e-01 */
+    { 0x3f1fcd4a,0x3f5ac95c }, /* 360:  6.2422621e-01  8.5463500e-01 */
+    { 0xbe85c469,0xbf23a80f }, /* 361: -2.6126412e-01 -6.3928312e-01 */
+    { 0xbce1e702,0xbe9aaf3e }, /* 362: -2.7575973e-02 -3.0211824e-01 */
+    { 0xdb3478ad,0xc8b4d625 }, /* 363: -5.0798180e+16 -3.7035316e+05 */
+    { 0x3d5b8f72,0x3ec10c96 }, /* 364:  5.3603597e-02  3.7704915e-01 */
+    { 0xbdbf8d75,0xbee8691e }, /* 365: -9.3531527e-02 -4.5392698e-01 */
+    { 0x3ff4e5ca,0x3f9ee76d }, /* 366:  1.9132626e+00  1.2414376e+00 */
+    { 0x3f1bcbbd,0x3f58f15c }, /* 367:  6.0857755e-01  8.4743285e-01 */
+    { 0x43cc1ca5,0x40ed6205 }, /* 368:  4.0822379e+02  7.4182153e+00 */
+    { 0x3f2663fc,0x3f5dc0c6 }, /* 369:  6.4996314e-01  8.6622274e-01 */
+    { 0xbff7b3ce,0xbf9f8222 }, /* 370: -1.9351747e+00 -1.2461588e+00 */
+    { 0x3d1d4ae1,0x3eacbcbc }, /* 371:  3.8401488e-02  3.3737743e-01 */
+    { 0xbf22a1cb,0xbf5c1211 }, /* 372: -6.3528126e-01 -8.5965067e-01 */
+    { 0xbf800000,0xbf800000 }, /* 373: -1.0000000e+00 -1.0000000e+00 */
+    { 0xbf29fffb,0xbf5f5851 }, /* 374: -6.6406220e-01 -8.7244135e-01 */
+    { 0x41e67238,0x40443036 }, /* 375:  2.8805771e+01  3.0654426e+00 */
+    { 0x3a376eb1,0x3db5d1f5 }, /* 376:  6.9973903e-04  8.8779368e-02 */
+    { 0xbbd5fdf1,0xbe3f6736 }, /* 377: -6.5305163e-03 -1.8691716e-01 */
+    { 0xbda5743a,0xbedd5610 }, /* 378: -8.0788091e-02 -4.3229723e-01 */
+    { 0xb481dc27,0xbbcc2ab2 }, /* 379: -2.4188304e-07 -6.2306756e-03 */
+    { 0xc2416096,0xc0692572 }, /* 380: -4.8344322e+01 -3.6429105e+00 */
+    { 0xc30a6f42,0xc0a589c7 }, /* 381: -1.3843460e+02 -5.1730685e+00 */
+    { 0x3f067d74,0x3f4e90a3 }, /* 382:  5.2535176e-01  8.0689448e-01 */
+    { 0x335b38b1,0x3b7319fd }, /* 383:  5.1041471e-08  3.7094348e-03 */
+    { 0xbf4ea70a,0xbf6e5d1e }, /* 384: -8.0723631e-01 -9.3110836e-01 */
+    { 0x4149f6b2,0x401503ef }, /* 385:  1.2622728e+01  2.3283651e+00 */
+    { 0x3ea1478f,0x3f2e2f41 }, /* 386:  3.1499907e-01  6.8040854e-01 */
+    { 0x3e689d72,0x3f1c33a6 }, /* 387:  2.2716311e-01  6.1016309e-01 */
+    { 0x3ddc9588,0x3ef39aab }, /* 388:  1.0770708e-01  4.7578940e-01 */
+    { 0xc20bcfb3,0xc0514110 }, /* 389: -3.4952831e+01 -3.2695961e+00 */
+    { 0xc0db6fa4,0xbff32e4b }, /* 390: -6.8573780e+00 -1.8998502e+00 */
+    { 0xbd602eaf,0xbec264f9 }, /* 391: -5.4732021e-02 -3.7967661e-01 */
+    { 0xbf3b4cc8,0xbf66ad86 }, /* 392: -7.3164034e-01 -9.0108526e-01 */
+    { 0x40c0c024,0x3fe8e4e5 }, /* 393:  6.0234547e+00  1.8194853e+00 */
+    { 0x4649e85a,0x41bbbaf0 }, /* 394:  1.2922088e+04  2.3466278e+01 */
+    { 0xc272542d,0xc07b5bfc }, /* 395: -6.0582203e+01 -3.9274893e+00 */
+    { 0xbe3fe49b,0xbf127f07 }, /* 396: -1.8739550e-01 -5.7225078e-01 */
+    { 0x3e40a41d,0x3f12afb2 }, /* 397:  1.8812604e-01  5.7299340e-01 */
+    { 0xc243a901,0xc06a0f65 }, /* 398: -4.8915043e+01 -3.6571896e+00 */
+    { 0x3d26766a,0x3eb007e7 }, /* 399:  4.0640272e-02  3.4381029e-01 */
+    { 0x4a22637c,0x430a910b }, /* 400:  2.6605750e+06  1.3856657e+02 */
+    { 0xd0b22e6f,0xc5341180 }, /* 401: -2.3915100e+10 -2.8810938e+03 */
+    { 0x3f0cc73a,0x3f51bc45 }, /* 402:  5.4991496e-01  8.1927902e-01 */
+    { 0xbfb115cc,0xbf8ea06c }, /* 403: -1.3834777e+00 -1.1142707e+00 */
+    { 0xc190f112,0xc028179f }, /* 404: -1.8117710e+01 -2.6264417e+00 */
+    { 0x3e3b9dbf,0x3f116651 }, /* 405:  1.8321894e-01  5.6796747e-01 */
+    { 0x3f1cf5e4,0x3f597b68 }, /* 406:  6.1312699e-01  8.4953928e-01 */
+    { 0x42742e47,0x407bff7e }, /* 407:  6.1045193e+01  3.9374690e+00 */
+    { 0xb748f776,0xbcbb702a }, /* 408: -1.1978545e-05 -2.2880632e-02 */
+    { 0xbd92565b,0xbed475e8 }, /* 409: -7.1453772e-02 -4.1496205e-01 */
+    { 0xbf126957,0xbf547f18 }, /* 410: -5.7191986e-01 -8.3006430e-01 */
+    { 0xbf0968f6,0xbf500c9a }, /* 411: -5.3675783e-01 -8.1269228e-01 */
+    { 0x3f800000,0x3f800000 }, /* 412:  1.0000000e+00  1.0000000e+00 */
+    { 0x3fbe97f3,0x3f922a2f }, /* 413:  1.4890121e+00  1.1419123e+00 */
+    { 0x3e42a105,0x3f13306d }, /* 414:  1.9006737e-01  5.7495767e-01 */
+    { 0x466dcf81,0x41c6419e }, /* 415:  1.5219876e+04  2.4782040e+01 */
+    { 0x42892289,0x4082f9ac }, /* 416:  6.8567451e+01  4.0929775e+00 */
+    { 0xa9f1323c,0xb8473157 }, /* 417: -1.0711264e-13 -4.7491249e-05 */
+    { 0xc3027058,0xc0a249a7 }, /* 418: -1.3043884e+02 -5.0714908e+00 */
+    { 0xc31a5438,0xc0aba541 }, /* 419: -1.5432898e+02 -5.3639226e+00 */
+    { 0xbc9fc0b7,0xbe89d012 }, /* 420: -1.9501073e-02 -2.6916558e-01 */
+    { 0x407292c5,0x3fc79234 }, /* 421:  3.7902081e+00  1.5591493e+00 */
+    { 0x3e48400d,0x3f1497bf }, /* 422:  1.9555683e-01  5.8044046e-01 */
+    { 0x44abf26f,0x4131f179 }, /* 423:  1.3755760e+03  1.1121453e+01 */
+    { 0xbd0ab66f,0xbea5a621 }, /* 424: -3.3865388e-02 -3.2353309e-01 */
+    { 0xb10656a8,0xbaa3e39e }, /* 425: -1.9548825e-09 -1.2503748e-03 */
+    { 0xbd13f138,0xbea93e8b }, /* 426: -3.6118716e-02 -3.3055529e-01 */
+    { 0x42c2586b,0x40931e1d }, /* 427:  9.7172691e+01  4.5974259e+00 */
+    { 0xc0041a14,0xbfa2f978 }, /* 428: -2.0640917e+00 -1.2732382e+00 */
+    { 0xbff8413f,0xbf9fa078 }, /* 429: -1.9394912e+00 -1.2470846e+00 */
+    { 0x29be80bf,0x3838207b }, /* 430:  8.4600289e-14  4.3899268e-05 */
+    { 0xc6d5194f,0xc1f0d122 }, /* 431: -2.7276654e+04 -3.0102116e+01 */
+    { 0x3ded6ec2,0x3ef9a7a9 }, /* 432:  1.1593391e-01  4.8760727e-01 */
+    { 0xbfe9a1cc,0xbf9c6dd7 }, /* 433: -1.8252501e+00 -1.2221020e+00 */
+    { 0xbe23234e,0xbf0ac785 }, /* 434: -1.5931436e-01 -5.4210693e-01 */
+    { 0xbe556ab5,0xbf17c7d4 }, /* 435: -2.0841487e-01 -5.9289289e-01 */
+    { 0xc20649f3,0xc04e7641 }, /* 436: -3.3572216e+01 -3.2259676e+00 */
+    { 0x42400544,0x40689989 }, /* 437:  4.8005142e+01  3.6343710e+00 */
+    { 0xbc7cddfa,0xbe7ef390 }, /* 438: -1.5433783e-02 -2.4897599e-01 */
+    { 0xc19fa339,0xc02d976a }, /* 439: -1.9954699e+01 -2.7123666e+00 */
+    { 0xb65ee486,0xbc747378 }, /* 440: -3.3213596e-06 -1.4920108e-02 */
+    { 0xc1b814d2,0xc03608c8 }, /* 441: -2.3010166e+01 -2.8442860e+00 */
+    { 0xbf223286,0xbf5bdfd5 }, /* 442: -6.3358343e-01 -8.5888416e-01 */
+    { 0xbe0c7d5d,0xbf0408e3 }, /* 443: -1.3719697e-01 -5.1576060e-01 */
+    { 0x3d43ec5a,0x3eb9db5c }, /* 444:  4.7832824e-02  3.6300170e-01 */
+    { 0x3ff06567,0x3f9deca3 }, /* 445:  1.8780946e+00  1.2337841e+00 */
+    { 0x415db336,0x4019b828 }, /* 446:  1.3856253e+01  2.4018650e+00 */
+    { 0xbd95f85b,0xbed6344f }, /* 447: -7.3227607e-02 -4.1836783e-01 */
+    { 0xbe9291e0,0xbf28b826 }, /* 448: -2.8626919e-01 -6.5905988e-01 */
+    { 0xc0b4feef,0xbfe40f69 }, /* 449: -5.6561198e+00 -1.7817203e+00 */
+    { 0x425c8bf5,0x40739724 }, /* 450:  5.5136677e+01  3.8060999e+00 */
+    { 0xbe10e20a,0xbf05659c }, /* 451: -1.4148727e-01 -5.2108169e-01 */
+    { 0xe1071d46,0xcaa4343b }, /* 452: -1.5577624e+20 -5.3806375e+06 */
+    { 0xbe192579,0xbf07e2e2 }, /* 453: -1.4955701e-01 -5.3080571e-01 */
+    { 0xc4be5a3b,0xc1381411 }, /* 454: -1.5228197e+03 -1.1504899e+01 */
+    { 0x42d65b6f,0x409800d0 }, /* 455:  1.0717858e+02  4.7500992e+00 */
+    { 0x41e512c0,0x4043cc45 }, /* 456:  2.8634155e+01  3.0593426e+00 */
+    { 0xbd18bf81,0xbeab0eb2 }, /* 457: -3.7292007e-02 -3.3409649e-01 */
+    { 0xbfe09bb0,0xbf9a637a }, /* 458: -1.7547512e+00 -1.2061608e+00 */
+    { 0x3bb74191,0x3e35c30b }, /* 459:  5.5925329e-03  1.7750184e-01 */
+    { 0x409c5470,0x3fd930bd }, /* 460:  4.8853073e+00  1.6967999e+00 */
+    { 0xbfcdf459,0xbf95fd91 }, /* 461: -1.6090194e+00 -1.1718007e+00 */
+    { 0xc2ee945a,0xc09d868b }, /* 462: -1.1928975e+02 -4.9226737e+00 */
+    { 0x4a1b3907,0x43087f65 }, /* 463:  2.5431698e+06  1.3649763e+02 */
+    { 0x3e284142,0x3f0c3728 }, /* 464:  1.6431144e-01  5.4771662e-01 */
+    { 0x401bf5a1,0x3fac3f76 }, /* 465:  2.4368670e+00  1.3456867e+00 */
+    { 0xbd2c7172,0xbeb21d3e }, /* 466: -4.2100377e-02 -3.4787935e-01 */
+    { 0xc1047b24,0xc0017a01 }, /* 467: -8.2800636e+00 -2.0230715e+00 */
+    { 0xbd8b24a9,0xbed0eb99 }, /* 468: -6.7941017e-02 -4.0804747e-01 */
+    { 0xc553ecb5,0xc1705fb1 }, /* 469: -3.3907942e+03 -1.5023362e+01 */
+    { 0x3ae8ed4e,0x3df810cc }, /* 470:  1.7770918e-03  1.2112579e-01 */
+    { 0xc05d03a5,0xbfc1796f }, /* 471: -3.4533474e+00 -1.5115184e+00 */
+    { 0x3da3c24f,0x3edc93e8 }, /* 472:  7.9960458e-02  4.3081594e-01 */
+    { 0x3c263cee,0x3e5daf6b }, /* 473:  1.0146363e-02  2.1648948e-01 */
+    { 0x4257ff66,0x4071e76a }, /* 474:  5.3999413e+01  3.7797494e+00 */
+    { 0x3e3a14d0,0x3f110088 }, /* 475:  1.8172002e-01  5.6641436e-01 */
+    { 0xcabea454,0xc3382bf1 }, /* 476: -6.2469540e+06 -1.8417165e+02 */
+    { 0xc1b2ac36,0xc0343bd5 }, /* 477: -2.2334087e+01 -2.8161519e+00 */
+    { 0xc11e65af,0xc0096bff }, /* 478: -9.8998251e+00 -2.1472166e+00 */
+    { 0x3efeabd2,0x3f4ad5cd }, /* 479:  4.9740463e-01  7.9232484e-01 */
+    { 0x324f209b,0x3b164651 }, /* 480:  1.2056399e-08  2.2930095e-03 */
+    { 0xbf138787,0xbf550932 }, /* 481: -5.7628673e-01 -8.3217156e-01 */
+    { 0xc3960542,0xc0d63a73 }, /* 482: -3.0004108e+02 -6.6946349e+00 */
+    { 0x3f2dc6a7,0x3f60fc8f }, /* 483:  6.7881244e-01  8.7885374e-01 */
+    { 0xc0f95120,0xbffdc0ac }, /* 484: -7.7911530e+00 -1.9824424e+00 */
+    { 0x3f1bae54,0x3f58e3b5 }, /* 485:  6.0812879e-01  8.4722453e-01 */
+    { 0x4123e085,0x400afd18 }, /* 486:  1.0242314e+01  2.1716976e+00 */
+    { 0xc33266bb,0xc0b42475 }, /* 487: -1.7840129e+02 -5.6294503e+00 */
+    { 0x3f0e5f7f,0x3f528643 }, /* 488:  5.5614465e-01  8.2236117e-01 */
+    { 0xbbf96b05,0xbe496e4b }, /* 489: -7.6116347e-03 -1.9670980e-01 */
+    { 0x40c972a1,0x3fec5877 }, /* 490:  6.2952428e+00  1.8464497e+00 */
+    { 0xbddb39f6,0xbef31a75 }, /* 491: -1.0704415e-01 -4.7481123e-01 */
+    { 0x3f218ace,0x3f5b93f2 }, /* 492:  6.3102424e-01  8.5772622e-01 */
+    { 0xbe868fe3,0xbf23fae1 }, /* 493: -2.6281652e-01 -6.4054686e-01 */
+    { 0x3fc413cb,0x3f938da9 }, /* 494:  1.5318540e+00  1.1527606e+00 */
+    { 0x3e685782,0x3f1c23fd }, /* 495:  2.2689632e-01  6.0992414e-01 */
+    { 0x4264b37f,0x40768e69 }, /* 496:  5.7175289e+01  3.8524420e+00 */
+    { 0x45fc25ea,0x41a074fb }, /* 497:  8.0687393e+03  2.0057119e+01 */
+    { 0xbff10e85,0xbf9e11a3 }, /* 498: -1.8832556e+00 -1.2349132e+00 */
+    { 0xc10124fb,0xc000615f }, /* 499: -8.0715284e+00 -2.0059431e+00 */
+    { 0x3f214571,0x3f5b7480 }, /* 500:  6.2996584e-01  8.5724640e-01 */
+
+};
+
+int main ()
+{
+    int i;
+    union float_u tx, tz;
+    
+    for (i = 0;  (size_t)i < sizeof(t) / sizeof(t[0]); i++) {
+	tx.u32 = pgm_read_dword (& t[i].x);
+	tz.u32 = pgm_read_dword (& t[i].z);
+	v.flt = cbrt (tx.flt);
+	if ((v.u32 - tz.u32) > ULPMAX && (tz.u32 - v.u32) > ULPMAX) {
+	    PRINTFLN ("t1[%d]={0x%08lx,0x%08lx} --> 0x%08lx\n",
+		      i, tx.u32, tz.u32, v.u32);
+	    EXIT (i + 1);
+	}
+    }
+    
+    return 0;
+}
diff --git a/tests/simulate/math/ceil-01.c b/tests/simulate/math/ceil-01.c
new file mode 100644
index 0000000..5138ad1
--- /dev/null
+++ b/tests/simulate/math/ceil-01.c
@@ -0,0 +1,186 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of ceil() function.
+   $Id$
+ */
+#include <math.h>
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+volatile union lofl_u v = { .lo = 1 };
+
+PROGMEM const struct {		/* Table of test cases.	*/
+    union lofl_u x;		/* argument	*/
+    union lofl_u z;		/* ceil(x)	*/
+} t[] = {
+
+    /* Zero	*/
+    { { .fl= +0.0 },	{ .fl= +0.0 }	},
+    { { .fl= -0.0 },	{ .fl= -0.0 }	},
+
+    /* Normal	*/
+    { { .fl= 0.1 },		{ .fl= 1.0 }	},
+    { { .fl= 1.9 },		{ .fl= 2.0 }	},
+    { { .fl= 1000000.5 },	{ .fl= 1000001.0 } },
+    { { .fl= -0.1 },		{ .fl= -0.0 }	},
+    { { .fl= -1.9 },		{ .fl= -1.0 }	},
+    { { .fl= -1000000.5 },	{ .fl= -1000000.0 } },
+
+    /* Inf	*/
+    { { 0x7f800000 },	{ 0x7f800000 } },
+    { { 0xff800000 },	{ 0xff800000 } },
+    
+    /* Subnormal	*/
+    { { 0x00000001 }, { .fl= 1.0 } },
+    { { 0x00000100 }, { .fl= 1.0 } },
+    { { 0x00010000 }, { .fl= 1.0 } },
+    { { 0x007fffff }, { .fl= 1.0 } },
+    { { 0x80000001 }, { .fl= -0.0 } },
+    { { 0x80000100 }, { .fl= -0.0 } },
+    { { 0x80010000 }, { .fl= -0.0 } },
+    { { 0x807fffff }, { .fl= -0.0 } },
+    
+    /* Margin values	*/
+    { { 0x3f7fffff }, { .fl= 1.0 } },
+    { { 0x3f800000 }, { .fl= 1.0 } },
+    { { 0x3f800001 }, { .fl= 2.0 } },
+    { { 0x3fffffff }, { .fl= 2.0 } },
+    { { 0x40000000 }, { .fl= 2.0 } },
+    { { 0x40000001 }, { .fl= 3.0 } },
+    { { 0x403fffff }, { .fl= 3.0 } },
+    { { .fl= 0x0.ffffffp+23 }, { .fl= 0x1.000000p+23 } },
+    { { .fl= 0x1.000000p+23 }, { .fl= 0x1.000000p+23 } },
+    { { 0x7f7fffff }, { 0x7f7fffff } },
+
+    { { 0xbf7fffff }, { .fl= -0.0 } },
+    { { 0xbf800000 }, { .fl= -1.0 } },
+    { { 0xbf800001 }, { .fl= -1.0 } },
+    { { 0xbfffffff }, { .fl= -1.0 } },
+    { { 0xc0000000 }, { .fl= -2.0 } },
+    { { 0xc0000001 }, { .fl= -2.0 } },
+    { { 0xc03fffff }, { .fl= -2.0 } },
+    { { .fl= -0x0.ffffffp+23 }, { .fl= -0x0.fffffep+23 } },
+    { { .fl= -0x1.000000p+23 }, { .fl= -0x1.000000p+23 } },
+    { { 0xff7fffff }, { 0xff7fffff } },
+    
+    /* All possible shifts	*/
+    { { .fl= -0x0.ffffffp+00 }, { .fl= -0.0 } },
+    { { .fl= -0x0.ffffffp+01 }, { .fl= -0x1p+00 } },
+    { { .fl= -0x0.ffffffp+02 }, { .fl= -0x3p+00 } },
+    { { .fl= -0x0.ffffffp+03 }, { .fl= -0x7p+00 } },
+    { { .fl= -0x0.ffffffp+04 }, { .fl= -0xfp+00 } },
+    { { .fl= -0x0.ffffffp+05 }, { .fl= -0x1fp+00 } },
+    { { .fl= -0x0.ffffffp+06 }, { .fl= -0x3fp+00 } },
+    { { .fl= -0x0.ffffffp+07 }, { .fl= -0x7fp+00 } },
+    { { .fl= -0x0.ffffffp+08 }, { .fl= -0xffp+00 } },
+    { { .fl= -0x0.ffffffp+09 }, { .fl= -0x1ffp+00 } },
+    { { .fl= -0x0.ffffffp+10 }, { .fl= -0x3ffp+00 } },
+    { { .fl= -0x0.ffffffp+11 }, { .fl= -0x7ffp+00 } },
+    { { .fl= -0x0.ffffffp+12 }, { .fl= -0xfffp+00 } },
+    { { .fl= -0x0.ffffffp+13 }, { .fl= -0x1fffp+00 } },
+    { { .fl= -0x0.ffffffp+14 }, { .fl= -0x3fffp+00 } },
+    { { .fl= -0x0.ffffffp+15 }, { .fl= -0x7fffp+00 } },
+    { { .fl= -0x0.ffffffp+16 }, { .fl= -0xffffp+00 } },
+    { { .fl= -0x0.ffffffp+17 }, { .fl= -0x1ffffp+00 } },
+    { { .fl= -0x0.ffffffp+18 }, { .fl= -0x3ffffp+00 } },
+    { { .fl= -0x0.ffffffp+19 }, { .fl= -0x7ffffp+00 } },
+    { { .fl= -0x0.ffffffp+20 }, { .fl= -0xfffffp+00 } },
+    { { .fl= -0x0.ffffffp+21 }, { .fl= -0x1fffffp+00 } },
+    { { .fl= -0x0.ffffffp+22 }, { .fl= -0x3fffffp+00 } },
+    { { .fl= -0x0.ffffffp+23 }, { .fl= -0x7fffffp+00 } },
+    { { .fl= -0x0.ffffffp+24 }, { .fl= -0xffffffp+00 } },
+    { { .fl= -0x0.ffffffp+25 }, { .fl= -0xffffffp+01 } },
+    { { .fl= -0x0.ffffffp+26 }, { .fl= -0xffffffp+02 } },
+    { { .fl= -0x0.ffffffp+27 }, { .fl= -0xffffffp+03 } },
+    { { .fl= -0x0.ffffffp+28 }, { .fl= -0xffffffp+04 } },
+    { { .fl= -0x0.ffffffp+29 }, { .fl= -0xffffffp+05 } },
+
+    /* All possible shifts with mantissa increment	*/
+    { { .fl= 0x0.ffffffp+00 }, { .fl= 0x1p+00 } },
+    { { .fl= 0x0.ffffffp+01 }, { .fl= 0x1p+01 } },
+    { { .fl= 0x0.ffffffp+02 }, { .fl= 0x1p+02 } },
+    { { .fl= 0x0.ffffffp+03 }, { .fl= 0x1p+03 } },
+    { { .fl= 0x0.ffffffp+04 }, { .fl= 0x1p+04 } },
+    { { .fl= 0x0.ffffffp+05 }, { .fl= 0x1p+05 } },
+    { { .fl= 0x0.ffffffp+06 }, { .fl= 0x1p+06 } },
+    { { .fl= 0x0.ffffffp+07 }, { .fl= 0x1p+07 } },
+    { { .fl= 0x0.ffffffp+08 }, { .fl= 0x1p+08 } },
+    { { .fl= 0x0.ffffffp+09 }, { .fl= 0x1p+09 } },
+    { { .fl= 0x0.ffffffp+10 }, { .fl= 0x1p+10 } },
+    { { .fl= 0x0.ffffffp+11 }, { .fl= 0x1p+11 } },
+    { { .fl= 0x0.ffffffp+12 }, { .fl= 0x1p+12 } },
+    { { .fl= 0x0.ffffffp+13 }, { .fl= 0x1p+13 } },
+    { { .fl= 0x0.ffffffp+14 }, { .fl= 0x1p+14 } },
+    { { .fl= 0x0.ffffffp+15 }, { .fl= 0x1p+15 } },
+    { { .fl= 0x0.ffffffp+16 }, { .fl= 0x1p+16 } },
+    { { .fl= 0x0.ffffffp+17 }, { .fl= 0x1p+17 } },
+    { { .fl= 0x0.ffffffp+18 }, { .fl= 0x1p+18 } },
+    { { .fl= 0x0.ffffffp+19 }, { .fl= 0x1p+19 } },
+    { { .fl= 0x0.ffffffp+20 }, { .fl= 0x1p+20 } },
+    { { .fl= 0x0.ffffffp+21 }, { .fl= 0x1p+21 } },
+    { { .fl= 0x0.ffffffp+22 }, { .fl= 0x1p+22 } },
+    { { .fl= 0x0.ffffffp+23 }, { .fl= 0x1p+23 } },
+    { { .fl= 0x0.ffffffp+24 }, { .fl= 0x1.fffffep+23 } },
+    { { .fl= 0x0.ffffffp+25 }, { .fl= 0x1.fffffep+24 } },
+    { { .fl= 0x0.ffffffp+26 }, { .fl= 0x1.fffffep+25 } },
+    { { .fl= 0x0.ffffffp+27 }, { .fl= 0x1.fffffep+26 } },
+    { { .fl= 0x0.ffffffp+28 }, { .fl= 0x1.fffffep+27 } },
+    { { .fl= 0x0.ffffffp+29 }, { .fl= 0x1.fffffep+28 } },
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]:  %#lx\n", index - 1, v.lo);
+#endif
+    exit (index ? index : -1);
+}
+
+int main ()
+{
+    union lofl_u x, z;
+    int i;
+    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	x.lo = pgm_read_dword (& t[i].x);
+	z.lo = pgm_read_dword (& t[i].z);
+	v.fl = ceil (x.fl);
+	/* Comparison is integer to verify the zero sign.	*/
+	if (v.lo != z.lo)
+	    x_exit (i+1);
+    }
+    return 0;
+}
diff --git a/tests/simulate/math/copysign-01.c b/tests/simulate/math/copysign-01.c
new file mode 100644
index 0000000..e1c40c1
--- /dev/null
+++ b/tests/simulate/math/copysign-01.c
@@ -0,0 +1,101 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of copysign(). Both realizations are tested: inline and library.
+   $Id$
+ */
+#include <math.h>
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+volatile union lofl_u v = { .lo = 1 };
+
+PROGMEM const struct {		/* Table of test cases.	*/
+    union lofl_u x, y;		/* args		*/
+    union lofl_u z;		/* result	*/
+} t[] = {
+
+    { { .fl= +0.0 }, { .fl= +0.0 }, { .fl= +0.0 } },
+    { { .fl= -0.0 }, { .fl= +0.0 }, { .fl= +0.0 } },
+    { { .fl= +0.0 }, { .fl= -0.0 }, { .fl= -0.0 } },
+    { { .fl= -0.0 }, { .fl= -0.0 }, { .fl= -0.0 } },
+    
+    { { .fl= +1 },   { .fl= +10 },  { .fl= +1 } },
+    { { .fl= -1 },   { .fl= +10 },  { .fl= +1 } },
+    { { .fl= +1 },   { .fl= -10 },  { .fl= -1 } },
+    { { .fl= -1 },   { .fl= -10 },  { .fl= -1 } },
+    
+    /* Inf	*/
+    { { 0x7f800000 }, { 0xff800000 }, { 0xff800000 } },
+    { { 0xff800000 }, { 0x7f800000 }, { 0x7f800000 } },
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]\n", index - 1);
+#endif
+    exit (index ? index : -1);
+}
+
+int main ()
+{
+    union lofl_u x, y, z;
+    int i;
+    double (* volatile vp) (double, double);
+    
+    /* inline     */
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	x.lo = pgm_read_dword (& t[i].x);
+	y.lo = pgm_read_dword (& t[i].y);
+	z.lo = pgm_read_dword (& t[i].z);
+	v.fl = copysign (x.fl, y.fl);
+	if (v.lo != z.lo)
+	    x_exit (i + 1);
+    }
+
+    /* library function     */
+    vp = copysign;
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	x.lo = pgm_read_dword (& t[i].x);
+	y.lo = pgm_read_dword (& t[i].y);
+	z.lo = pgm_read_dword (& t[i].z);
+	v.fl = vp (x.fl, y.fl);
+	if (v.lo != z.lo)
+	    x_exit (i + 0x101);
+    }
+    
+    return 0;
+}
diff --git a/tests/simulate/math/cos-01.c b/tests/simulate/math/cos-01.c
new file mode 100644
index 0000000..cebc79a
--- /dev/null
+++ b/tests/simulate/math/cos-01.c
@@ -0,0 +1,101 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of cos() function.
+   $Id$
+ */
+#include <math.h>
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+volatile union lofl_u v = { .lo = 1 };
+
+PROGMEM const struct {		/* Table of test cases.	*/
+    union lofl_u x;		/* argument	*/
+    union lofl_u z;		/* cos(x)	*/
+} t[] = {
+
+    /* Zero	*/
+    { { .fl= +0.0 },	{ .fl= 1.0 }	},
+    { { .fl= -0.0 },	{ .fl= 1.0 }	},
+    
+    /* Subnormal	*/
+    { { 0x00000001 },	{ .fl= 1.0 }	},
+    { { 0x00000100 },	{ .fl= 1.0 }	},
+    { { 0x00010000 },	{ .fl= 1.0 }	},
+    { { 0x007fffff },	{ .fl= 1.0 }	},
+    { { 0x80000001 },	{ .fl= 1.0 }	},
+    { { 0x80000100 },	{ .fl= 1.0 }	},
+    { { 0x80010000 },	{ .fl= 1.0 }	},
+    { { 0x807fffff },	{ .fl= 1.0 }	},
+    
+    /* Arg. too small	*/
+    { { 0x00800000 },	{ .fl= 1.0 }	},
+    { { 0x01000000 },	{ .fl= 1.0 }	},
+    { { 0x107fffff },	{ .fl= 1.0 }	},
+    { { 0x80800000 },	{ .fl= 1.0 }	},
+    { { 0x81000000 },	{ .fl= 1.0 }	},
+    { { 0x907fffff },	{ .fl= 1.0 }	},
+
+    /* Some values	*/
+    { { .fl=  3.1415927 },  { .fl= -1.0 } },
+    { { .fl=  6.2831853 },  { .fl=  1.0 } },
+    { { .fl= -3.1415927 },  { .fl= -1.0 } },
+    { { .fl= -6.2831853 },  { .fl=  1.0 } },
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]:  %#lx\n", index - 1, v.lo);
+#endif
+    exit (index ? index : -1);
+}
+
+int main ()
+{
+    union lofl_u x, z;
+    int i;
+    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	x.lo = pgm_read_dword (& t[i].x);
+	z.lo = pgm_read_dword (& t[i].z);
+	v.fl = cos (x.fl);
+	/* Comparison is integer to verify the zero sign.	*/
+	if (v.lo != z.lo)
+	    x_exit (i+1);
+    }
+    return 0;
+}
diff --git a/tests/simulate/math/cos-02.c b/tests/simulate/math/cos-02.c
new file mode 100644
index 0000000..a385773
--- /dev/null
+++ b/tests/simulate/math/cos-02.c
@@ -0,0 +1,103 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of cos() function.  Nonpleasurable args.
+   $Id$
+ */
+#include <math.h>
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+#ifndef	__AVR__
+# define PRINTFLN(fmt, ...)	\
+    printf ("\nLine %d: " fmt "\n", __LINE__, ##__VA_ARGS__)
+# define EXIT(code)	exit ((code) < 255 ? (code) : 100 + (code) % 100)
+#else
+# define PRINTFLN(args...)
+# define EXIT	exit
+#endif
+
+union float_u {
+    float flt;
+    unsigned long u32;
+};
+
+/* Result is placed into SRAM variable, allocated at the start of
+   memory. This is convinient to debug: read a core dump.	*/
+volatile float vz = 1;
+volatile unsigned long ve = 1;
+
+PROGMEM const struct {		/* Table of test cases.	*/
+    union float_u x;		/* argument	*/
+    float z;			/* cos(x)	*/
+    unsigned long maxerr;	/* max error in units of the last place	*/
+} t[] = {
+
+    /* Pi/2	*/
+    { { .u32 = 0x3fc90fd9 },  1.94707189e-7,  4276 },
+    { { .u32 = 0x3fc90fda },  7.54978995e-8,  8553 },
+    { { .u32 = 0x3fc90fdb }, -4.37113900e-8, 17106 },
+    { { .u32 = 0x3fc90fdc }, -1.62920680e-7,  4276 },
+};
+
+int main ()
+{
+    union float_u tx, tz;	/* from table		*/
+    union float_u r;		/* calculation result	*/
+    int i;
+    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	unsigned long delta;
+	tx.u32 = pgm_read_dword (& t[i].x);
+	tz.flt = pgm_read_float (& t[i].z);
+	r.flt = cos (tx.flt);
+	delta = r.u32 - tz.u32;
+	if (delta > tz.u32 - r.u32)
+	    delta = tz.u32 - r.u32;
+#if 0
+# ifdef  __AVR__
+#  error
+# endif
+	/* To check the table.	*/
+	printf ("t[%d]: e= %lu\n", i, delta);
+#else
+	if (delta > pgm_read_dword (& t[i].maxerr)) {
+	    vz = r.flt;
+	    ve = delta;
+	    PRINTFLN ("t[%d]:\n"
+		      "   tz= %.8g (0x%08lx)\n"
+		      "   r = %.8g (0x%08lx), e= %lu",
+		      i, tz.flt, tz.u32, r.flt, r.u32, delta);
+	    EXIT (i + 1);
+	}
+#endif
+    }
+    return 0;
+}
diff --git a/tests/simulate/math/cos-500.c b/tests/simulate/math/cos-500.c
new file mode 100644
index 0000000..ef0394a
--- /dev/null
+++ b/tests/simulate/math/cos-500.c
@@ -0,0 +1,579 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of cos() function. 500 random cases with fabs(x) < 10.
+   $Id$
+ */
+#include <math.h>
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+volatile union lofl_u v = { .lo = 1 };
+
+PROGMEM const struct {		/* Table of test cases.	*/
+    long x;		/* argument	*/
+    long z;		/* cos(x)	*/
+} t[] = {
+
+    /* x, cos(x)	*/
+    { 0x3f5f4a23,0x3f24a3cc }, /*   1:  8.7222499e-01  6.4312434e-01 */
+    { 0x1a517714,0x3f800000 }, /*   2:  4.3316378e-23  1.0000000e+00 */
+    { 0x3e516a81,0x3f7aaa4c }, /*   3:  2.0450784e-01  9.7916102e-01 */
+    { 0x3edceae7,0x3f68897d }, /*   4:  4.3147966e-01  9.0834790e-01 */
+    { 0xbfe8ea8c,0xbe7c363e }, /*   5: -1.8196578e+00 -2.4630067e-01 */
+    { 0x3f586d29,0x3f29d5ea }, /*   6:  8.4541565e-01  6.6342032e-01 */
+    { 0x3e4c78b8,0x3f7ae9d1 }, /*   7:  1.9967926e-01  9.8013026e-01 */
+    { 0xbf2c1fd0,0x3f484855 }, /*   8: -6.7236042e-01  7.8235370e-01 */
+    { 0x3fdee763,0xbe2de37e }, /*   9:  1.7414364e+00 -1.6981313e-01 */
+    { 0x3f2d056f,0x3f47b900 }, /*  10:  6.7586416e-01  7.8016663e-01 */
+    { 0x3f2741a0,0x3f4b472f }, /*  11:  6.5334511e-01  7.9405493e-01 */
+    { 0x3f5f0b9e,0x3f24d3a7 }, /*  12:  8.7127101e-01  6.4385456e-01 */
+    { 0xbe370e47,0x3f7beb9e }, /*  13: -1.7876540e-01  9.8406398e-01 */
+    { 0xbf55ec95,0x3f2bb324 }, /*  14: -8.3564121e-01  6.7070222e-01 */
+    { 0x3fde213a,0xbe27c86e }, /*  15:  1.7353890e+00 -1.6385052e-01 */
+    { 0xbf1f4f06,0x3f5002a2 }, /*  16: -6.2229955e-01  8.1254017e-01 */
+    { 0x3ea45bf0,0x3f72ec28 }, /*  17:  3.2101393e-01  9.4891596e-01 */
+    { 0xbff56f40,0xbeadf4f8 }, /*  18: -1.9174576e+00 -3.3975959e-01 */
+    { 0x3fc3caf1,0x3d289104 }, /*  19:  1.5296308e+00  4.1153923e-02 */
+    { 0x3fb121fe,0x3e3e51f0 }, /*  20:  1.3838499e+00  1.8585944e-01 */
+    { 0xbf59ce88,0x3f28cce0 }, /*  21: -8.5080767e-01  6.5937614e-01 */
+    { 0xbf298d30,0x3f49dff3 }, /*  22: -6.6231060e-01  7.8857344e-01 */
+    { 0xbe309462,0x3f7c3407 }, /*  23: -1.7244104e-01  9.8516887e-01 */
+    { 0x3f29ea0b,0x3f49a6cc }, /*  24:  6.6372746e-01  7.8770137e-01 */
+    { 0x3f4ea304,0x3f3108e3 }, /*  25:  8.0717492e-01  6.9154185e-01 */
+    { 0x3e39698b,0x3f7bd0a1 }, /*  26:  1.8106668e-01  9.8365217e-01 */
+    { 0xbeef60c4,0x3f6486cd }, /*  27: -4.6753514e-01  8.9268190e-01 */
+    { 0xc094b887,0xbd84bf67 }, /*  28: -4.6475253e+00 -6.4818196e-02 */
+    { 0xbf64be0e,0x3f206d60 }, /*  29: -8.9352500e-01  6.2666893e-01 */
+    { 0xbf55ad86,0x3f2be1e5 }, /*  30: -8.3467901e-01  6.7141563e-01 */
+    { 0x3f256c4c,0x3f4c6320 }, /*  31:  6.4618373e-01  7.9838753e-01 */
+    { 0x3f287b31,0x3f4a87fd }, /*  32:  6.5812975e-01  7.9113752e-01 */
+    { 0xbf33382c,0x3f43c97f }, /*  33: -7.0007586e-01  7.6479334e-01 */
+    { 0xbe9d4e6c,0x3f740318 }, /*  34: -3.0723894e-01  9.5317221e-01 */
+    { 0xbe2089b5,0x3f7cdc43 }, /*  35: -1.5677531e-01  9.8773593e-01 */
+    { 0x3fa8d940,0x3e7efea0 }, /*  36:  1.3191299e+00  2.4901819e-01 */
+    { 0xbf56df6f,0x3f2afeb6 }, /*  37: -8.3934683e-01  6.6794908e-01 */
+    { 0xbe5c5e48,0x3f7a1848 }, /*  38: -2.1520340e-01  9.7693300e-01 */
+    { 0x3f5830c5,0x3f2a0315 }, /*  39:  8.4449416e-01  6.6410953e-01 */
+    { 0x409d6d60,0x3e52ab9e }, /*  40:  4.9196014e+00  2.0573279e-01 */
+    { 0xbd5a12be,0x3f7fa324 }, /*  41: -5.3240530e-02  9.9858308e-01 */
+    { 0x3db55815,0x3f7eff40 }, /*  42:  8.8546909e-02  9.9608231e-01 */
+    { 0x3ff2b704,0xbea3afd8 }, /*  43:  1.8962102e+00 -3.1970096e-01 */
+    { 0x3f86f810,0x3efcc796 }, /*  44:  1.0544453e+00  4.9371022e-01 */
+    { 0x3ef7ba5a,0x3f629d5a }, /*  45:  4.8384362e-01  8.8521349e-01 */
+    { 0xbf2b6e0e,0x3f48b6db }, /*  46: -6.6964805e-01  7.8404015e-01 */
+    { 0x3e932e4c,0x3f757ed2 }, /*  47:  2.8746259e-01  9.5896637e-01 */
+    { 0xbf2a1010,0x3f498f5e }, /*  48: -6.6430759e-01  7.8734386e-01 */
+    { 0x3ea867b1,0x3f7246d0 }, /*  49:  3.2891610e-01  9.4639301e-01 */
+    { 0xc085bcfe,0xbf0217fe }, /*  50: -4.1793203e+00 -5.0817859e-01 */
+    { 0x3da8854b,0x3f7f2242 }, /*  51:  8.2285486e-02  9.9661648e-01 */
+    { 0x3f4b84f8,0x3f3345f8 }, /*  52:  7.9499769e-01  7.0028639e-01 */
+    { 0xbf548157,0x3f2cbfe4 }, /*  53: -8.3009857e-01  6.7480302e-01 */
+    { 0xbf2f6355,0x3f463bca }, /*  54: -6.8510944e-01  7.7434981e-01 */
+    { 0xbef010ab,0x3f645f1c }, /*  55: -4.6887717e-01  8.9207625e-01 */
+    { 0x3eeed5b7,0x3f64a61a }, /*  56:  4.6647426e-01  8.9315951e-01 */
+    { 0x3e8cb1bd,0x3f76652c }, /*  57:  2.7479354e-01  9.6248126e-01 */
+    { 0xc00b3e15,0xbf119345 }, /*  58: -2.1756642e+00 -5.6865340e-01 */
+    { 0xbfa1acc0,0x3e9b12ef }, /*  59: -1.2630844e+00  3.0287883e-01 */
+    { 0xbf8cacd4,0x3ee8afb2 }, /*  60: -1.0990243e+00  4.5446545e-01 */
+    { 0x3e9561d7,0x3f752e5a }, /*  61:  2.9176208e-01  9.5773852e-01 */
+    { 0x36ff6035,0x3f800000 }, /*  62:  7.6107922e-06  1.0000000e+00 */
+    { 0x3fa12fab,0x3e9cef78 }, /*  63:  1.2592672e+00  3.0651450e-01 */
+    { 0xbf23bc71,0x3f4d6607 }, /*  64: -6.3959414e-01  8.0233806e-01 */
+    { 0xbf96e24a,0x3ec39c4c }, /*  65: -1.1787808e+00  3.8205183e-01 */
+    { 0xbeb8d595,0x3f6f7fb6 }, /*  66: -3.6100450e-01  9.3554246e-01 */
+    { 0xbf27141f,0x3f4b62d5 }, /*  67: -6.5265077e-01  7.9447681e-01 */
+    { 0x3ec6a4b1,0x3f6cf92a }, /*  68:  3.8797525e-01  9.2567694e-01 */
+    { 0x3f93bba1,0x3ecf32b2 }, /*  69:  1.1541635e+00  4.0468365e-01 */
+    { 0x3e92cb3a,0x3f758cd9 }, /*  70:  2.8670675e-01  9.5918041e-01 */
+    { 0x3f5b3996,0x3f27bb44 }, /*  71:  8.5634744e-01  6.5520120e-01 */
+    { 0xbef88a41,0x3f626cec }, /*  72: -4.8542979e-01  8.8447452e-01 */
+    { 0xbf269929,0x3f4bad6a }, /*  73: -6.5077454e-01  7.9561484e-01 */
+    { 0x3f58c1d4,0x3f299687 }, /*  74:  8.4670758e-01  6.6245311e-01 */
+    { 0xbfff018a,0xbed1720a }, /*  75: -1.9922345e+00 -4.0907317e-01 */
+    { 0xbeabfbcd,0x3f71b157 }, /*  76: -3.3590546e-01  9.4411224e-01 */
+    { 0x3fa5fcfa,0x3e8a8bc0 }, /*  77:  1.2967827e+00  2.7059746e-01 */
+    { 0x40e6c2fd,0x3f196e81 }, /*  78:  7.2113023e+00  5.9934241e-01 */
+    { 0xbe363aea,0x3f7bf4fe }, /*  79: -1.7795911e-01  9.8420703e-01 */
+    { 0xbe081b6f,0x3f7dbdf1 }, /*  80: -1.3291715e-01  9.9117953e-01 */
+    { 0x3efcd1f8,0x3f616b46 }, /*  81:  4.9378943e-01  8.8054311e-01 */
+    { 0x3fff2e45,0xbed21542 }, /*  82:  1.9935995e+00 -4.1031843e-01 */
+    { 0x3edea120,0x3f682d85 }, /*  83:  4.3482304e-01  9.0694457e-01 */
+    { 0x40225f5f,0xbf52a152 }, /*  84:  2.5370710e+00 -8.2277405e-01 */
+    { 0x4020104f,0xbf4d3ec3 }, /*  85:  2.5009954e+00 -8.0173892e-01 */
+    { 0xbfae57b5,0x3e5434a2 }, /*  86: -1.3620516e+00  2.0723203e-01 */
+    { 0x3ea39f26,0x3f7309e1 }, /*  87:  3.1957358e-01  9.4936949e-01 */
+    { 0xc0670765,0xbf647227 }, /*  88: -3.6098263e+00 -8.9236683e-01 */
+    { 0xc01d8f70,0xbf471ad5 }, /*  89: -2.4618797e+00 -7.7775317e-01 */
+    { 0x40a8475a,0x3f05010c }, /*  90:  5.2587099e+00  5.1954722e-01 */
+    { 0x3fa872d6,0x3e810be7 }, /*  91:  1.3160045e+00  2.5204393e-01 */
+    { 0x3da5a86f,0x3f7f29b9 }, /*  92:  8.0887668e-02  9.9673039e-01 */
+    { 0x3fa7b5d1,0x3e83e705 }, /*  93:  1.3102361e+00  2.5762191e-01 */
+    { 0xbf2e447a,0x3f46f0d0 }, /*  94: -6.8073237e-01  7.7711201e-01 */
+    { 0x40c1408d,0x3f7869e7 }, /*  95:  6.0391297e+00  9.7036594e-01 */
+    { 0x3f2ad0d4,0x3f49184d }, /*  96:  6.6724896e-01  7.8552705e-01 */
+    { 0x3ec1acae,0x3f6de6ea }, /*  97:  3.7827057e-01  9.2930472e-01 */
+    { 0x3f0af3c5,0x3f5b34d6 }, /*  98:  5.4278213e-01  8.5627496e-01 */
+    { 0xbd98c618,0x3f7f49be }, /*  99: -7.4596584e-02  9.9721897e-01 */
+    { 0x3f66ee7d,0x3f1eb724 }, /* 100:  9.0207654e-01  6.1998200e-01 */
+    { 0xbf5cdeca,0x3f267c2e }, /* 101: -8.6277449e-01  6.5033233e-01 */
+    { 0x3f2d3a98,0x3f4797bb }, /* 102:  6.7667532e-01  7.7965897e-01 */
+    { 0xbf871df0,0x3efc43cb }, /* 103: -1.0556011e+00  4.9270472e-01 */
+    { 0x3f25d164,0x3f4c2631 }, /* 104:  6.4772630e-01  7.9745775e-01 */
+    { 0xbeef2b82,0x3f6492cc }, /* 105: -4.6712881e-01  8.9286494e-01 */
+    { 0x3ef7b1be,0x3f629f5a }, /* 106:  4.8377794e-01  8.8524401e-01 */
+    { 0x3f1ae2fe,0x3f528e86 }, /* 107:  6.0502613e-01  8.2248724e-01 */
+    { 0xbf186586,0x3f53f68d }, /* 108: -5.9529912e-01  8.2798082e-01 */
+    { 0x3f524695,0x3f2e636d }, /* 109:  8.2138950e-01  6.8120462e-01 */
+    { 0x3ed2b200,0x3f6aa0ce }, /* 110:  4.1151428e-01  9.1651618e-01 */
+    { 0x3eddb75b,0x3f685eaa }, /* 111:  4.3303952e-01  9.0769446e-01 */
+    { 0x31690f85,0x3f800000 }, /* 112:  3.3914784e-09  1.0000000e+00 */
+    { 0x3fc332df,0x3d3b8ea9 }, /* 113:  1.5249900e+00  4.5790348e-02 */
+    { 0xbf993ce1,0x3ebae072 }, /* 114: -1.1971704e+00  3.6499363e-01 */
+    { 0x3e535f7d,0x3f7a90bf }, /* 115:  2.0641895e-01  9.7877115e-01 */
+    { 0x3f604b6a,0x3f23de75 }, /* 116:  8.7615073e-01  6.4011317e-01 */
+    { 0xbf5a9a39,0x3f283387 }, /* 117: -8.5391575e-01  6.5703624e-01 */
+    { 0x3fc5b7a1,0x3cd6082c }, /* 118:  1.5446664e+00  2.6126944e-02 */
+    { 0xbecf328b,0x3f6b527e }, /* 119: -4.0468249e-01  9.1922748e-01 */
+    { 0xbda68794,0x3f7f2776 }, /* 120: -8.1313282e-02  9.9669588e-01 */
+    { 0xc02de320,0xbf694481 }, /* 121: -2.7169876e+00 -9.1120154e-01 */
+    { 0xbf269c20,0x3f4bab9e }, /* 122: -6.5081978e-01  7.9558742e-01 */
+    { 0x3ff79838,0xbeb60ed3 }, /* 123:  1.9343328e+00 -3.5558185e-01 */
+    { 0xbf572456,0x3f2acb68 }, /* 124: -8.4039819e-01  6.6716623e-01 */
+    { 0xbffc86e8,0xbec85bb7 }, /* 125: -1.9728670e+00 -3.9132473e-01 */
+    { 0x3f56cb48,0x3f2b0db5 }, /* 126:  8.3903933e-01  6.6817790e-01 */
+    { 0xbe631f71,0x3f79ba93 }, /* 127: -2.2179963e-01  9.7550315e-01 */
+    { 0xbf585a43,0x3f29e40e }, /* 128: -8.4512728e-01  6.6363609e-01 */
+    { 0x3eea88cb,0x3f659b99 }, /* 129:  4.5807490e-01  8.9690548e-01 */
+    { 0xbfc357aa,0x3d36f67d }, /* 130: -1.5261128e+00  4.4668663e-02 */
+    { 0xbf6134d2,0x3f232adf }, /* 131: -8.7971222e-01  6.3737291e-01 */
+    { 0xbf4a4f53,0x3f342280 }, /* 132: -7.9027289e-01  7.0365143e-01 */
+    { 0x3dafed26,0x3f7f0e5a }, /* 133:  8.5901543e-02  9.9631274e-01 */
+    { 0xbd42828c,0x3f7fb61e }, /* 134: -4.7487780e-02  9.9887264e-01 */
+    { 0x3f2be40c,0x3f486d89 }, /* 135:  6.7144847e-01  7.8292137e-01 */
+    { 0x3f54fdb2,0x3f2c6409 }, /* 136:  8.3199608e-01  6.7340142e-01 */
+    { 0xbf5c950d,0x3f26b42b }, /* 137: -8.6164933e-01  6.5118665e-01 */
+    { 0xbe849521,0x3f7776fc }, /* 138: -2.5895026e-01  9.6665931e-01 */
+    { 0x408548a7,0xbf053631 }, /* 139:  4.1651187e+00 -5.2035815e-01 */
+    { 0x3ef2a7b9,0x3f63c88d }, /* 140:  4.7393587e-01  8.8977891e-01 */
+    { 0xbf4836b1,0x3f359e41 }, /* 141: -7.8208452e-01  7.0944601e-01 */
+    { 0x3f636dec,0x3f2172c7 }, /* 142:  8.8839602e-01  6.3065761e-01 */
+    { 0xbed4b58b,0x3f6a393b }, /* 143: -4.1544756e-01  9.1493577e-01 */
+    { 0xbfbf0305,0x3da0a312 }, /* 144: -1.4922796e+00  7.8436032e-02 */
+    { 0x3856cc8e,0x3f800000 }, /* 145:  5.1212082e-05  1.0000000e+00 */
+    { 0x3f604aee,0x3f23ded5 }, /* 146:  8.7614334e-01  6.4011890e-01 */
+    { 0x3e934499,0x3f757ba8 }, /* 147:  2.8763273e-01  9.5891809e-01 */
+    { 0xbe883754,0x3f76fe4b }, /* 148: -2.6604712e-01  9.6481770e-01 */
+    { 0xbf5c9b58,0x3f26af64 }, /* 149: -8.6174536e-01  6.5111375e-01 */
+    { 0xbec5bf0f,0x3f6d2482 }, /* 150: -3.8622329e-01  9.2633832e-01 */
+    { 0x3f234ccf,0x3f4da895 }, /* 151:  6.3789076e-01  8.0335361e-01 */
+    { 0x3faea6cd,0x3e51c976 }, /* 152:  1.3644654e+00  2.0487007e-01 */
+    { 0xbeeb7184,0x3f65680c }, /* 153: -4.5985043e-01  8.9611888e-01 */
+    { 0xc057cb75,0xbf793f35 }, /* 154: -3.3717930e+00 -9.7362071e-01 */
+    { 0x3f294589,0x3f4a0bfb }, /* 155:  6.6121727e-01  7.8924531e-01 */
+    { 0xbf5cdc3f,0x3f267e1d }, /* 156: -8.6273569e-01  6.5036184e-01 */
+    { 0x3fbab48c,0x3de539b2 }, /* 157:  1.4586349e+00  1.1192645e-01 */
+    { 0x3ea48514,0x3f72e5aa }, /* 158:  3.2132781e-01  9.4881690e-01 */
+    { 0x3fa462b2,0x3e90b4d4 }, /* 159:  1.2842619e+00  2.8262961e-01 */
+    { 0x3ec5943f,0x3f6d2c92 }, /* 160:  3.8589665e-01  9.2646134e-01 */
+    { 0x3fbaa845,0x3de5fce5 }, /* 161:  1.4582602e+00  1.1229876e-01 */
+    { 0xbf5d298a,0x3f26435e }, /* 162: -8.6391509e-01  6.4946544e-01 */
+    { 0x3f4e3f11,0x3f315108 }, /* 163:  8.0564982e-01  6.9264269e-01 */
+    { 0x40f2d555,0x3e8650a5 }, /* 164:  7.5885415e+00  2.6233402e-01 */
+    { 0xbf31e1ff,0x3f44a544 }, /* 165: -6.9485468e-01  7.6814675e-01 */
+    { 0x3f2860a5,0x3f4a9839 }, /* 166:  6.5772468e-01  7.9138523e-01 */
+    { 0xbede841f,0x3f6833a1 }, /* 167: -4.3460175e-01  9.0703779e-01 */
+    { 0x40fd4892,0xbd7a3872 }, /* 168:  7.9151087e+00 -6.1088987e-02 */
+    { 0x3f2b05a7,0x3f48f798 }, /* 169:  6.6805500e-01  7.8502798e-01 */
+    { 0x3e59dc00,0x3f7a3a60 }, /* 170:  2.1275330e-01  9.7745323e-01 */
+    { 0x3ed8f08b,0x3f695ca3 }, /* 171:  4.2371020e-01  9.1156977e-01 */
+    { 0x3f57fc01,0x3f2a2a85 }, /* 172:  8.4368902e-01  6.6471130e-01 */
+    { 0x3f5c2a6b,0x3f270509 }, /* 173:  8.6002225e-01  6.5242058e-01 */
+    { 0xbe3ab43a,0x3f7bc1b1 }, /* 174: -1.8232813e-01  9.8342425e-01 */
+    { 0x3f632ed8,0x3f21a3b6 }, /* 175:  8.8743353e-01  6.3140428e-01 */
+    { 0xbfb305bd,0x3e2f723a }, /* 176: -1.3986126e+00  1.7133418e-01 */
+    { 0x400a4adf,0xbf0e6ef4 }, /* 177:  2.1608198e+00 -5.5638051e-01 */
+    { 0x3e2f9539,0x3f7c3ef1 }, /* 178:  1.7146768e-01  9.8533541e-01 */
+    { 0x3f5c2554,0x3f2708e5 }, /* 179:  8.5994458e-01  6.5247947e-01 */
+    { 0x3f5b8d45,0x3f277c03 }, /* 180:  8.5762435e-01  6.5423602e-01 */
+    { 0x402e4754,0xbf69e881 }, /* 181:  2.7231035e+00 -9.1370398e-01 */
+    { 0x3f27f1a2,0x3f4adc03 }, /* 182:  6.5603077e-01  7.9241961e-01 */
+    { 0xbf5913ad,0x3f29592e }, /* 183: -8.4795648e-01  6.6151702e-01 */
+    { 0x3edd4dbd,0x3f6874ce }, /* 184:  4.3223372e-01  9.0803230e-01 */
+    { 0xbbc6533e,0x3f7ffecd }, /* 185: -6.0524037e-03  9.9998170e-01 */
+    { 0x3f510650,0x3f2f4d5c }, /* 186:  8.1650257e-01  6.8477416e-01 */
+    { 0x3d212143,0x3f7fcd4c }, /* 187:  3.9338361e-02  9.9922633e-01 */
+    { 0xbedea090,0x3f682da4 }, /* 188: -4.3481874e-01  9.0694642e-01 */
+    { 0xbf572589,0x3f2aca84 }, /* 189: -8.4041649e-01  6.6715264e-01 */
+    { 0x3fabacd5,0x3e6908dc }, /* 190:  1.3412119e+00  2.2757286e-01 */
+    { 0x3e369946,0x3f7bf0d0 }, /* 191:  1.7831907e-01  9.8414326e-01 */
+    { 0xbf5bdbd6,0x3f27408f }, /* 192: -8.5882318e-01  6.5332884e-01 */
+    { 0x38bd3071,0x3f800000 }, /* 193:  9.0212452e-05  1.0000000e+00 */
+    { 0x3f376235,0x3f411413 }, /* 194:  7.1634227e-01  7.5421256e-01 */
+    { 0xbe8d9820,0x3f7645d1 }, /* 195: -2.7655125e-01  9.6200281e-01 */
+    { 0x3f22d0f4,0x3f4df23e }, /* 196:  6.3600087e-01  8.0447757e-01 */
+    { 0xbf49e921,0x3f346b0f }, /* 197: -7.8871351e-01  7.0475858e-01 */
+    { 0x3f5c92bc,0x3f26b5ed }, /* 198:  8.6161399e-01  6.5121347e-01 */
+    { 0x3f0df600,0x3f59a321 }, /* 199:  5.5453491e-01  8.5014540e-01 */
+    { 0x3f7d55ea,0x3f0c8d47 }, /* 200:  9.8959219e-01  5.4903072e-01 */
+    { 0x3f5cfac8,0x3f2666e9 }, /* 201:  8.6320162e-01  6.5000778e-01 */
+    { 0x3ffaa06b,0xbec1575c }, /* 202:  1.9580206e+00 -3.7761962e-01 */
+    { 0x97714270,0x3f800000 }, /* 203: -7.7955156e-25  1.0000000e+00 */
+    { 0x3f5a0c57,0x3f289e63 }, /* 204:  8.5175079e-01  6.5866679e-01 */
+    { 0xc004ee4f,0xbef844d2 }, /* 205: -2.0770452e+00 -4.8490006e-01 */
+    { 0xc0bc090b,0x3f6b146b }, /* 206: -5.8761039e+00  9.1828030e-01 */
+    { 0xbf54ef5e,0x3f2c6ea1 }, /* 207: -8.3177745e-01  6.7356306e-01 */
+    { 0xbf265cef,0x3f4bd1e0 }, /* 208: -6.4985555e-01  7.9617119e-01 */
+    { 0x3f9def7a,0x3ea942b6 }, /* 209:  1.2338707e+00  3.3058709e-01 */
+    { 0xbef75290,0x3f62b579 }, /* 210: -4.8305178e-01  8.8558155e-01 */
+    { 0x3ed03a07,0x3f6b1e80 }, /* 211:  4.0669271e-01  9.1843414e-01 */
+    { 0x3f5abf8c,0x3f281762 }, /* 212:  8.5448527e-01  6.5660679e-01 */
+    { 0x3f924989,0x3ed47905 }, /* 213:  1.1428691e+00  4.1498581e-01 */
+    { 0xbec89960,0x3f6c9a04 }, /* 214: -3.9179516e-01  9.2422509e-01 */
+    { 0x393e0949,0x3f800000 }, /* 215:  1.8123271e-04  1.0000000e+00 */
+    { 0xbf9c029f,0x3eb08252 }, /* 216: -1.2188300e+00  3.4474427e-01 */
+    { 0x3fb9f542,0x3df11a13 }, /* 217:  1.4527972e+00  1.1772551e-01 */
+    { 0xbe688ae9,0x3f796d5f }, /* 218: -2.2709240e-01  9.7432512e-01 */
+    { 0xbf94f64f,0x3ecab139 }, /* 219: -1.1637667e+00  3.9588335e-01 */
+    { 0xbf610fc4,0x3f23476b }, /* 220: -8.7914681e-01  6.3780850e-01 */
+    { 0xbe4a5e75,0x3f7b045f }, /* 221: -1.9762595e-01  9.8053545e-01 */
+    { 0x3fa35d53,0x3e949e80 }, /* 222:  1.2762855e+00  2.9027176e-01 */
+    { 0x3fa86365,0x3e8147ac }, /* 223:  1.3155333e+00  2.5249994e-01 */
+    { 0xbfca1fdd,0xbc0800c9 }, /* 224: -1.5790974e+00 -8.3009684e-03 */
+    { 0xbf55de4f,0x3f2bbdba }, /* 225: -8.3542341e-01  6.7086375e-01 */
+    { 0xbfddf437,0xbe26652a }, /* 226: -1.7340153e+00 -1.6249529e-01 */
+    { 0xbd4c7486,0x3f7fae5f }, /* 227: -4.9915813e-02  9.9875444e-01 */
+    { 0x3f2de74d,0x3f472b67 }, /* 228:  6.7931062e-01  7.7800602e-01 */
+    { 0x3f58904f,0x3f29bb9c }, /* 229:  8.4595197e-01  6.6301894e-01 */
+    { 0xbfe89171,0xbe79831f }, /* 230: -1.8169385e+00 -2.4366425e-01 */
+    { 0xbea1646e,0x3f7362f0 }, /* 231: -3.1521934e-01  9.5072842e-01 */
+    { 0xbf278f8f,0x3f4b17c7 }, /* 232: -6.5453428e-01  7.9333156e-01 */
+    { 0xc0bfcc9d,0x3f75599e }, /* 233: -5.9937272e+00  9.5839870e-01 */
+    { 0x3f88cc77,0x3ef663b1 }, /* 234:  1.0687398e+00  4.8122934e-01 */
+    { 0xbe765d28,0x3f78a068 }, /* 235: -2.4058974e-01  9.7119761e-01 */
+    { 0xbfc02759,0x3d8e6aa7 }, /* 236: -1.5012008e+00  6.9539361e-02 */
+    { 0xbccbf940,0x3f7febb0 }, /* 237: -2.4899125e-02  9.9969006e-01 */
+    { 0x3e95c92f,0x3f751f78 }, /* 238:  2.9255053e-01  9.5751143e-01 */
+    { 0x3fa7bde2,0x3e83c7d7 }, /* 239:  1.3104823e+00  2.5738403e-01 */
+    { 0xbf8d331e,0x3ee6d0b8 }, /* 240: -1.1031225e+00  4.5081115e-01 */
+    { 0xbddebcb8,0x3f7e7cca }, /* 241: -1.0875839e-01  9.9409163e-01 */
+    { 0x3ea041fd,0x3f738fce }, /* 242:  3.1300345e-01  9.5141304e-01 */
+    { 0xbfaa7308,0x3e72929f }, /* 243: -1.3316355e+00  2.3688744e-01 */
+    { 0x3f221c1c,0x3f4e5d76 }, /* 244:  6.3324142e-01  8.0611360e-01 */
+    { 0x3ea6263a,0x3f72a37a }, /* 245:  3.2451040e-01  9.4780695e-01 */
+    { 0xbefff5d6,0x3f60abb0 }, /* 246: -4.9992245e-01  8.7761974e-01 */
+    { 0x401b00fb,0xbf408520 }, /* 247:  2.4219348e+00 -7.5203133e-01 */
+    { 0xbeee3b22,0x3f64c8d2 }, /* 248: -4.6529490e-01  8.9368927e-01 */
+    { 0xbeb6ba2e,0x3f6fde75 }, /* 249: -3.5688919e-01  9.3698817e-01 */
+    { 0x402fea8d,0xbf6c7e49 }, /* 250:  2.7486908e+00 -9.2380196e-01 */
+    { 0xbeef58b2,0x3f64889e }, /* 251: -4.6747357e-01  8.9270961e-01 */
+    { 0xbf1de90e,0x3f50d280 }, /* 252: -6.1683738e-01  8.1571198e-01 */
+    { 0xbf783197,0x3f10d222 }, /* 253: -9.6950668e-01  5.6570637e-01 */
+    { 0x379ff9eb,0x3f800000 }, /* 254:  1.9070654e-05  1.0000000e+00 */
+    { 0x3f9b06cb,0x3eb4328a }, /* 255:  1.2111448e+00  3.5194808e-01 */
+    { 0x3f30cbfa,0x3f4556d2 }, /* 256:  6.9061244e-01  7.7085602e-01 */
+    { 0xbff00a4b,0xbe9983bc }, /* 257: -1.8753141e+00 -2.9983318e-01 */
+    { 0x37560723,0x3f800000 }, /* 258:  1.2757056e-05  1.0000000e+00 */
+    { 0xbf281248,0x3f4ac817 }, /* 259: -6.5652895e-01  7.9211563e-01 */
+    { 0x3ee6bce3,0x3f6670e1 }, /* 260:  4.5065984e-01  9.0015990e-01 */
+    { 0xbf1dea37,0x3f50d1d4 }, /* 261: -6.1685508e-01  8.1570172e-01 */
+    { 0x3eac9ca7,0x3f7196c8 }, /* 262:  3.3713266e-01  9.4370699e-01 */
+    { 0x3efcf491,0x3f616313 }, /* 263:  4.9405339e-01  8.8041800e-01 */
+    { 0x3e6407ea,0x3f79adc3 }, /* 264:  2.2268644e-01  9.7530764e-01 */
+    { 0xbe9205d3,0x3f75a8b0 }, /* 265: -2.8520069e-01  9.5960522e-01 */
+    { 0xbf898b44,0x3ef3c59b }, /* 266: -1.0745625e+00  4.7611699e-01 */
+    { 0xbeebef6f,0x3f654c14 }, /* 267: -4.6081111e-01  8.9569211e-01 */
+    { 0xbfd1b0ab,0xbd89f244 }, /* 268: -1.6382040e+00 -6.7356616e-02 */
+    { 0xbf93379f,0x3ed11520 }, /* 269: -1.1501349e+00  4.0836430e-01 */
+    { 0x3e6c62e6,0x3f79358a }, /* 270:  2.3084602e-01  9.7347319e-01 */
+    { 0xbe79c094,0x3f786c63 }, /* 271: -2.4389869e-01  9.7040385e-01 */
+    { 0x3fa8b87f,0x3e7ffc5f }, /* 272:  1.3181304e+00  2.4998616e-01 */
+    { 0xbf569769,0x3f2b3449 }, /* 273: -8.3824784e-01  6.6876656e-01 */
+    { 0x3f9db33b,0x3eaa2613 }, /* 274:  1.2320322e+00  3.3232173e-01 */
+    { 0xbf56ec3e,0x3f2af52d }, /* 275: -8.3954227e-01  6.6780359e-01 */
+    { 0x3eb87ba6,0x3f6f8f95 }, /* 276:  3.6031836e-01  9.3578464e-01 */
+    { 0x3db9e4e7,0x3f7ef236 }, /* 277:  9.0768628e-02  9.9588335e-01 */
+    { 0xbf22aeff,0x3f4e0668 }, /* 278: -6.3548273e-01  8.0478525e-01 */
+    { 0xbfc196ca,0x3d6eff4f }, /* 279: -1.5124142e+00  5.8348950e-02 */
+    { 0x40245b2e,0xbf5709bb }, /* 280:  2.5680652e+00 -8.3999223e-01 */
+    { 0xbf2a78ed,0x3f494ea7 }, /* 281: -6.6590768e-01  7.8635639e-01 */
+    { 0x401e708a,0xbf494bf9 }, /* 282:  2.4756188e+00 -7.8631550e-01 */
+    { 0xbe5ccb15,0x3f7a1277 }, /* 283: -2.1561845e-01  9.7684425e-01 */
+    { 0x4025661d,0xbf5945bf }, /* 284:  2.5843575e+00 -8.4872049e-01 */
+    { 0xbd4f602e,0x3f7fac06 }, /* 285: -5.0628833e-02  9.9871862e-01 */
+    { 0xbf399003,0x3f3fa404 }, /* 286: -7.2485369e-01  7.4859643e-01 */
+    { 0x3e376818,0x3f7be79f }, /* 287:  1.7910802e-01  9.8400301e-01 */
+    { 0xbe9749bb,0x3f74e7c0 }, /* 288: -2.9548439e-01  9.5666122e-01 */
+    { 0x3ed362be,0x3f6a7d67 }, /* 289:  4.1286272e-01  9.1597599e-01 */
+    { 0x3f9b2763,0x3eb3b87b }, /* 290:  1.2121395e+00  3.5101685e-01 */
+    { 0xbe7c60e4,0x3f784397 }, /* 291: -2.4646336e-01  9.6978134e-01 */
+    { 0x3ef23108,0x3f63e39c }, /* 292:  4.7303033e-01  8.9019179e-01 */
+    { 0x3fb3d5ee,0x3e29086d }, /* 293:  1.4049661e+00  1.6507120e-01 */
+    { 0x3ec295ca,0x3f6dbbc6 }, /* 294:  3.8004905e-01  9.2864645e-01 */
+    { 0xbf2d6529,0x3f477d10 }, /* 295: -6.7732483e-01  7.7925205e-01 */
+    { 0x40330f42,0xbf71052d }, /* 296:  2.7978063e+00 -9.4148523e-01 */
+    { 0x1d85c160,0x3f800000 }, /* 297:  3.5404752e-21  1.0000000e+00 */
+    { 0x3f22aab5,0x3f4e08f4 }, /* 298:  6.3541728e-01  8.0482411e-01 */
+    { 0xbee41754,0x3f6703a6 }, /* 299: -4.4549048e-01  9.0239942e-01 */
+    { 0x3f1d7073,0x3f51182d }, /* 300:  6.1499709e-01  8.1677514e-01 */
+    { 0x3f8b4008,0x3eedbfc5 }, /* 301:  1.0878916e+00  4.6435371e-01 */
+    { 0xbf2a4a34,0x3f496b80 }, /* 302: -6.6519475e-01  7.8679657e-01 */
+    { 0xbf5ae50e,0x3f27fb17 }, /* 303: -8.5505760e-01  6.5617508e-01 */
+    { 0xbefff0db,0x3f60ace1 }, /* 304: -4.9988446e-01  8.7763792e-01 */
+    { 0xbfcc6eee,0xbcd7be75 }, /* 305: -1.5971353e+00 -2.6335934e-02 */
+    { 0xbfe57a98,0xbe617906 }, /* 306: -1.7928038e+00 -2.2018823e-01 */
+    { 0xbf541b85,0x3f2d0afb }, /* 307: -8.2854491e-01  6.7594880e-01 */
+    { 0x3ee3076a,0x3f673e1b }, /* 308:  4.4341594e-01  9.0329140e-01 */
+    { 0xbd3ef141,0x3f7fb8ce }, /* 309: -4.6616796e-02  9.9891365e-01 */
+    { 0x3f2ac37f,0x3f49208d }, /* 310:  6.6704553e-01  7.8565294e-01 */
+    { 0x3fa58077,0x3e8c6af6 }, /* 311:  1.2929829e+00  2.7425355e-01 */
+    { 0xbf30b667,0x3f456490 }, /* 312: -6.9028324e-01  7.7106571e-01 */
+    { 0xbf5bc1f4,0x3f275427 }, /* 313: -8.5842824e-01  6.5362781e-01 */
+    { 0x3f9acc66,0x3eb50d19 }, /* 314:  1.2093627e+00  3.5361555e-01 */
+    { 0xbf7b4d88,0x3f0e3f14 }, /* 315: -9.8165178e-01  5.5565000e-01 */
+    { 0x3edc3ba9,0x3f68ae15 }, /* 316:  4.3014267e-01  9.0890628e-01 */
+    { 0xbf24d1fb,0x3f4cbfe7 }, /* 317: -6.4382905e-01  7.9980320e-01 */
+    { 0x3fcbda60,0xbcb29db8 }, /* 318:  1.5926018e+00 -2.1803722e-02 */
+    { 0x3f896ed8,0x3ef4298e }, /* 319:  1.0736952e+00  4.7687954e-01 */
+    { 0xbeba4495,0x3f6f3ea8 }, /* 320: -3.6380449e-01  9.3454981e-01 */
+    { 0xbec551b2,0x3f6d3916 }, /* 321: -3.8538891e-01  9.2665231e-01 */
+    { 0xbef9e9e5,0x3f621aad }, /* 322: -4.8811260e-01  8.8321954e-01 */
+    { 0x3f2a3482,0x3f4978e4 }, /* 323:  6.6486371e-01  7.8700089e-01 */
+    { 0x3f34664e,0x3f43064e }, /* 324:  7.0468605e-01  7.6181495e-01 */
+    { 0xbff3f226,0xbea85844 }, /* 325: -1.9058273e+00 -3.2879841e-01 */
+    { 0x3f2ccf17,0x3f47dafb }, /* 326:  6.7503494e-01  7.8068513e-01 */
+    { 0xbef86f3b,0x3f627339 }, /* 327: -4.8522362e-01  8.8457066e-01 */
+    { 0x3f4c5b9d,0x3f32ac7f }, /* 328:  7.9827291e-01  6.9794458e-01 */
+    { 0x3f5bdc62,0x3f274025 }, /* 329:  8.5883152e-01  6.5332252e-01 */
+    { 0xbfadc614,0x3e58a7d6 }, /* 330: -1.3576074e+00  2.1157774e-01 */
+    { 0x3f5c763e,0x3f26cb8b }, /* 331:  8.6117923e-01  6.5154332e-01 */
+    { 0xbf529648,0x3f2e290c }, /* 332: -8.2260561e-01  6.8031383e-01 */
+    { 0x3f23138c,0x3f4dcaa9 }, /* 333:  6.3701701e-01  8.0387360e-01 */
+    { 0xbf5ce6b9,0x3f267627 }, /* 334: -8.6289555e-01  6.5024036e-01 */
+    { 0x3fcd62ba,0xbd0a552f }, /* 335:  1.6045754e+00 -3.3772644e-02 */
+    { 0xbebdad06,0x3f6ea215 }, /* 336: -3.7046069e-01  9.3216068e-01 */
+    { 0x411cb0ca,0xbf6ed33c }, /* 337:  9.7931614e+00 -9.3291068e-01 */
+    { 0x3ee5df77,0x3f66a104 }, /* 338:  4.4897053e-01  9.0089440e-01 */
+    { 0xbf45eefc,0x3f3737c7 }, /* 339: -7.7317786e-01  7.1569484e-01 */
+    { 0x3e9a4425,0x3f7477ae }, /* 340:  3.0130115e-01  9.5495117e-01 */
+    { 0xbda34d2d,0x3f7f2fc6 }, /* 341: -7.9737045e-02  9.9682271e-01 */
+    { 0xc00397e3,0xbeeedb57 }, /* 342: -2.0561454e+00 -4.6651718e-01 */
+    { 0xbe09f631,0x3f7dae1b }, /* 343: -1.3472821e-01  9.9093789e-01 */
+    { 0x3f236ce4,0x3f4d9578 }, /* 344:  6.3838029e-01  8.0306196e-01 */
+    { 0xc03a419c,0xbf792e27 }, /* 345: -2.9102545e+00 -9.7336048e-01 */
+    { 0xbee852cc,0x3f661833 }, /* 346: -4.5375669e-01  8.9880675e-01 */
+    { 0x40628bd7,0xbf6bf8af }, /* 347:  3.5397851e+00 -9.2176336e-01 */
+    { 0xbfc64cd6,0x3cb0bda6 }, /* 348: -1.5492198e+00  2.1574806e-02 */
+    { 0xbfdd802f,0xbe22d0fc }, /* 349: -1.7304744e+00 -1.5900034e-01 */
+    { 0x3f569528,0x3f2b35f6 }, /* 350:  8.3821344e-01  6.6879213e-01 */
+    { 0x3fe522a1,0xbe5eca5f }, /* 351:  1.7901193e+00 -2.1756886e-01 */
+    { 0xc0667054,0xbf658060 }, /* 352: -3.6006060e+00 -8.9649010e-01 */
+    { 0xb8cfa9f3,0x3f800000 }, /* 353: -9.9021847e-05  1.0000000e+00 */
+    { 0x3f31013d,0x3f4534e0 }, /* 354:  6.9142514e-01  7.7033806e-01 */
+    { 0xbe6b297a,0x3f79476c }, /* 355: -2.2965041e-01  9.7374606e-01 */
+    { 0xbec5a130,0x3f6d2a22 }, /* 356: -3.8599539e-01  9.2642415e-01 */
+    { 0x3f22e97e,0x3f4de3aa }, /* 357:  6.3637531e-01  8.0425513e-01 */
+    { 0x3f5ec676,0x3f25088b }, /* 358:  8.7021577e-01  6.4466161e-01 */
+    { 0xbfb57c12,0x3e1c0222 }, /* 359: -1.4178488e+00  1.5235189e-01 */
+    { 0x3ee7ed41,0x3f662e6f }, /* 360:  4.5298198e-01  8.9914602e-01 */
+    { 0x3ed31461,0x3f6a8d1c }, /* 361:  4.1226485e-01  9.1621566e-01 */
+    { 0xbe0e2c77,0x3f7d8959 }, /* 362: -1.3884149e-01  9.9037701e-01 */
+    { 0x3f534221,0x3f2daaf1 }, /* 363:  8.2522780e-01  6.7838961e-01 */
+    { 0xbfafbc45,0x3e494ae5 }, /* 364: -1.3729330e+00  1.9657476e-01 */
+    { 0xbf83d0f1,0x3f03d5a0 }, /* 365: -1.0298139e+00  5.1497841e-01 */
+    { 0x3f28140e,0x3f4ac702 }, /* 366:  6.5655601e-01  7.9209912e-01 */
+    { 0x3ef125d0,0x3f64205c }, /* 367:  4.7099161e-01  8.9111876e-01 */
+    { 0x3ef71aaf,0x3f62c272 }, /* 368:  4.8262545e-01  8.8577950e-01 */
+    { 0xbfad5251,0x3e5c309d }, /* 369: -1.3540746e+00  2.1502919e-01 */
+    { 0x3ef30456,0x3f63b367 }, /* 370:  4.7464246e-01  8.8945621e-01 */
+    { 0xbe9a583f,0x3f7474b2 }, /* 371: -3.0145451e-01  9.5490563e-01 */
+    { 0xbf558718,0x3f2bfe5d }, /* 372: -8.3409262e-01  6.7185003e-01 */
+    { 0x3f31f347,0x3f449a33 }, /* 373:  6.9511837e-01  7.6797789e-01 */
+    { 0xbec528c2,0x3f6d40c7 }, /* 374: -3.8507658e-01  9.2676967e-01 */
+    { 0x3f305dbb,0x3f459cfa }, /* 375:  6.8893021e-01  7.7192652e-01 */
+    { 0x3f5a02f9,0x3f28a56f }, /* 376:  8.5160786e-01  6.5877432e-01 */
+    { 0xbef80dce,0x3f6289ed }, /* 377: -4.8448032e-01  8.8491708e-01 */
+    { 0xbf23c9d5,0x3f4d5e09 }, /* 378: -6.3979846e-01  8.0221611e-01 */
+    { 0xbf268500,0x3f4bb9a0 }, /* 379: -6.5046692e-01  7.9580116e-01 */
+    { 0x3f224cec,0x3f4e4090 }, /* 380:  6.3398623e-01  8.0567265e-01 */
+    { 0x3f9323d5,0x3ed15d5f }, /* 381:  1.1495310e+00  4.0891549e-01 */
+    { 0xbee2abb4,0x3f6751c4 }, /* 382: -4.4271624e-01  9.0359139e-01 */
+    { 0xbf46502d,0x3f36f3d8 }, /* 383: -7.7466089e-01  7.1465826e-01 */
+    { 0x3eb6d7a7,0x3f6fd94e }, /* 384:  3.5711405e-01  9.3690956e-01 */
+    { 0x3c32e45c,0x3f7ffc18 }, /* 385:  1.0918703e-02  9.9994040e-01 */
+    { 0xbfe722ce,0xbe6e627e }, /* 386: -1.8057497e+00 -2.3279759e-01 */
+    { 0xbfceb541,0xbd349dcc }, /* 387: -1.6149064e+00 -4.4095799e-02 */
+    { 0xbfd2c966,0xbd9b7267 }, /* 388: -1.6467712e+00 -7.5901799e-02 */
+    { 0xbf943f18,0x3ecd5164 }, /* 389: -1.1581755e+00  4.0101159e-01 */
+    { 0x3ed01119,0x3f6b2697 }, /* 390:  4.0638044e-01  9.1855758e-01 */
+    { 0xbf227ed2,0x3f4e22fd }, /* 391: -6.3474762e-01  8.0522138e-01 */
+    { 0x3ffd2d94,0xbecac092 }, /* 392:  1.9779534e+00 -3.9600044e-01 */
+    { 0x40de2d25,0x3f4a43f1 }, /* 393:  6.9430108e+00  7.9009920e-01 */
+    { 0x405139d7,0xbf7deb84 }, /* 394:  3.2691553e+00 -9.9187493e-01 */
+    { 0x3f245610,0x3f4d0a31 }, /* 395:  6.4193821e-01  8.0093676e-01 */
+    { 0x3ef4e99f,0x3f63441c }, /* 396:  4.7834489e-01  8.8775802e-01 */
+    { 0xbfaa3e07,0x3e742e81 }, /* 397: -1.3300179e+00  2.3845865e-01 */
+    { 0xbd901d55,0x3f7f5dcf }, /* 398: -7.0368446e-02  9.9752516e-01 */
+    { 0x3fcc837e,0xbcdce1fd }, /* 399:  1.5977628e+00 -2.6963228e-02 */
+    { 0xbe4b041d,0x3f7afc3a }, /* 400: -1.9825788e-01  9.8041117e-01 */
+    { 0xbf93bbe1,0x3ecf31c7 }, /* 401: -1.1541711e+00  4.0467665e-01 */
+    { 0x402bce32,0xbf65b6e2 }, /* 402:  2.6844602e+00 -8.9732182e-01 */
+    { 0xbf25271a,0x3f4c8cc3 }, /* 403: -6.4512789e-01  7.9902285e-01 */
+    { 0xbf84e602,0x3f01f96b }, /* 404: -1.0382693e+00  5.0771207e-01 */
+    { 0xbf575d45,0x3f2aa0fb }, /* 405: -8.4126693e-01  6.6651887e-01 */
+    { 0xbfac815b,0x3e62900a }, /* 406: -1.3476976e+00  2.2125259e-01 */
+    { 0xbecf6678,0x3f6b4843 }, /* 407: -4.0507865e-01  9.1907138e-01 */
+    { 0xbf56957a,0x3f2b35b9 }, /* 408: -8.3821833e-01  6.6878849e-01 */
+    { 0x3f229d9f,0x3f4e10b8 }, /* 409:  6.3521761e-01  8.0494261e-01 */
+    { 0xbf2e93a8,0x3f46bef1 }, /* 410: -6.8194056e-01  7.7635103e-01 */
+    { 0x3eb9ec53,0x3f6f4e59 }, /* 411:  3.6313114e-01  9.3478924e-01 */
+    { 0xbfdd359a,0xbe2083d0 }, /* 412: -1.7281983e+00 -1.5675282e-01 */
+    { 0x3f272b4f,0x3f4b54bf }, /* 413:  6.5300459e-01  7.9426187e-01 */
+    { 0xbe93bb1e,0x3f756ad2 }, /* 414: -2.8853697e-01  9.5866120e-01 */
+    { 0xbf9aeb74,0x3eb498e2 }, /* 415: -1.2103105e+00  3.5272890e-01 */
+    { 0xbfacbf33,0x3e60ad73 }, /* 416: -1.3495849e+00  2.1941166e-01 */
+    { 0xbe8f06e7,0x3f76137f }, /* 417: -2.7934954e-01  9.6123499e-01 */
+    { 0x3fd2188b,0xbd906c50 }, /* 418:  1.6413740e+00 -7.0519090e-02 */
+    { 0xbf5f88e9,0x3f2473b5 }, /* 419: -8.7318283e-01  6.4239055e-01 */
+    { 0xc08c06b5,0xbea916c1 }, /* 420: -4.3758187e+00 -3.3025172e-01 */
+    { 0xbf5990a4,0x3f28fb63 }, /* 421: -8.4986329e-01  6.6008586e-01 */
+    { 0xbf9b76a2,0x3eb28f88 }, /* 422: -1.2145579e+00  3.4875131e-01 */
+    { 0xbfb80ab8,0x3e07c275 }, /* 423: -1.4378271e+00  1.3257773e-01 */
+    { 0x3f313055,0x3f4516d6 }, /* 424:  6.9214374e-01  7.6987970e-01 */
+    { 0xbf5d1381,0x3f26541f }, /* 425: -8.6357886e-01  6.4972109e-01 */
+    { 0xbf94c89d,0x3ecb5905 }, /* 426: -1.1623722e+00  3.9716354e-01 */
+    { 0x3f309135,0x3f457c3d }, /* 427:  6.8971568e-01  7.7142698e-01 */
+    { 0xbf9e7cae,0x3ea72d41 }, /* 428: -1.2381799e+00  3.2651713e-01 */
+    { 0xbf237f98,0x3f4d8a53 }, /* 429: -6.3866568e-01  8.0289191e-01 */
+    { 0x3f96adf0,0x3ec45dc1 }, /* 430:  1.1771832e+00  3.8352779e-01 */
+    { 0xbfad1ff6,0x3e5db9f8 }, /* 431: -1.3525379e+00  2.1652973e-01 */
+    { 0x3f5c2933,0x3f2705f6 }, /* 432:  8.6000365e-01  6.5243471e-01 */
+    { 0x3fbd71c7,0x3db99fec }, /* 433:  1.4800347e+00  9.0637058e-02 */
+    { 0xbf2e18fe,0x3f470c2b }, /* 434: -6.8006885e-01  7.7752942e-01 */
+    { 0x3ea79d96,0x3f726761 }, /* 435:  3.2737416e-01  9.4688994e-01 */
+    { 0xbf631c5f,0x3f21b209 }, /* 436: -8.8715166e-01  6.3162285e-01 */
+    { 0x3f82d9fc,0x3f057c0c }, /* 437:  1.0222774e+00  5.2142406e-01 */
+    { 0x40d01bb1,0x3f79d1a0 }, /* 438:  6.5033803e+00  9.7585487e-01 */
+    { 0x3f619702,0x3f22df2a }, /* 439:  8.8121045e-01  6.3621771e-01 */
+    { 0x3ec25d0a,0x3f6dc64b }, /* 440:  3.7961608e-01  9.2880696e-01 */
+    { 0xc03ad685,0xbf79b415 }, /* 441: -2.9193432e+00 -9.7540408e-01 */
+    { 0x3e465a3b,0x3f7b3659 }, /* 442:  1.9370358e-01  9.8129803e-01 */
+    { 0x3f7fe722,0x3f0a662d }, /* 443:  9.9962056e-01  5.4062158e-01 */
+    { 0xbca8b2a5,0x3f7ff21b }, /* 444: -2.0592997e-02  9.9978799e-01 */
+    { 0xbf27152c,0x3f4b6231 }, /* 445: -6.5266681e-01  7.9446703e-01 */
+    { 0xbecc3ae4,0x3f6be707 }, /* 446: -3.9888680e-01  9.2149395e-01 */
+    { 0xbf33d338,0x3f436576 }, /* 447: -7.0244169e-01  7.6326692e-01 */
+    { 0x3f9df6c2,0x3ea92739 }, /* 448:  1.2340930e+00  3.3037737e-01 */
+    { 0xbeb78b10,0x3f6fb9e4 }, /* 449: -3.5848284e-01  9.3643022e-01 */
+    { 0x3f62c66d,0x3f21f4a1 }, /* 450:  8.8584024e-01  6.3263899e-01 */
+    { 0xbf63c2df,0x3f2130d1 }, /* 451: -8.8969225e-01  6.2965113e-01 */
+    { 0x313379d0,0x3f800000 }, /* 452:  2.6117171e-09  1.0000000e+00 */
+    { 0x403b0fb0,0xbf79e619 }, /* 453:  2.9228325e+00 -9.7616726e-01 */
+    { 0xc051ab13,0xbf7db057 }, /* 454: -3.2760665e+00 -9.9097198e-01 */
+    { 0xc0330225,0xbf70f37a }, /* 455: -2.7970059e+00 -9.4121516e-01 */
+    { 0xbfb9d8c0,0x3df2df01 }, /* 456: -1.4519272e+00  1.1858941e-01 */
+    { 0x400f404a,0xbf1e7885 }, /* 457:  2.2382989e+00 -6.1902648e-01 */
+    { 0x3e0ed42e,0x3f7d8388 }, /* 458:  1.3948128e-01  9.9028826e-01 */
+    { 0xbed99648,0x3f693a85 }, /* 459: -4.2497468e-01  9.1104919e-01 */
+    { 0x3f219ef1,0x3f4ea76f }, /* 460:  6.3133150e-01  8.0724233e-01 */
+    { 0x3f54b99c,0x3f2c9659 }, /* 461:  8.3095717e-01  6.7416912e-01 */
+    { 0xbec7edbf,0x3f6cbabb }, /* 462: -3.9048573e-01  9.2472428e-01 */
+    { 0x3ff4e4bf,0xbeabeb83 }, /* 463:  1.9132308e+00 -3.3578119e-01 */
+    { 0x3ef85aa7,0x3f627806 }, /* 464:  4.8506662e-01  8.8464391e-01 */
+    { 0xbf4e25f3,0x3f316325 }, /* 465: -8.0526656e-01  6.9291908e-01 */
+    { 0x3fb68cc5,0x3e1394a6 }, /* 466:  1.4261709e+00  1.4412174e-01 */
+    { 0xbf7f50ea,0x3f0ae475 }, /* 467: -9.9732840e-01  5.4254848e-01 */
+    { 0x3f938a87,0x3ecfe63d }, /* 468:  1.1526650e+00  4.0605345e-01 */
+    { 0x3f5fccf8,0x3f243f87 }, /* 469:  8.7422132e-01  6.4159435e-01 */
+    { 0x3f50394d,0x3f2fe28b }, /* 470:  8.1337434e-01  6.8705052e-01 */
+    { 0x3ecaa9cf,0x3f6c34a2 }, /* 471:  3.9582679e-01  9.2267811e-01 */
+    { 0x3eac32ba,0x3f71a848 }, /* 472:  3.3632451e-01  9.4397402e-01 */
+    { 0x3eaf3e67,0x3f712689 }, /* 473:  3.4227297e-01  9.4199425e-01 */
+    { 0xc00dc2cc,0xbf19bf2f }, /* 474: -2.2150145e+00 -6.0057348e-01 */
+    { 0x3fa1f28c,0x3e9a08c5 }, /* 475:  1.2652144e+00  3.0084816e-01 */
+    { 0xbfb4ae31,0x3e225d23 }, /* 476: -1.4115659e+00  1.5855841e-01 */
+    { 0xbe728a6a,0x3f78da44 }, /* 477: -2.3685613e-01  9.7208047e-01 */
+    { 0xc000dd4b,0xbedb55f1 }, /* 478: -2.0135067e+00 -4.2839006e-01 */
+    { 0x3f5a6ad3,0x3f285740 }, /* 479:  8.5319251e-01  6.5758133e-01 */
+    { 0x3e7d50f3,0x3f7834ec }, /* 480:  2.4737911e-01  9.6955752e-01 */
+    { 0x3e8c697d,0x3f766ef7 }, /* 481:  2.7424231e-01  9.6263069e-01 */
+    { 0x3cfb9b76,0x3f7fe117 }, /* 482:  3.0713778e-02  9.9952835e-01 */
+    { 0xbf296a9b,0x3f49f535 }, /* 483: -6.6178292e-01  7.8889781e-01 */
+    { 0x3e585bba,0x3f7a4e98 }, /* 484:  2.1128741e-01  9.7776175e-01 */
+    { 0xbfa8ba3a,0x3e7feef7 }, /* 485: -1.3181832e+00  2.4993502e-01 */
+    { 0x3f593255,0x3f29422f }, /* 486:  8.4842426e-01  6.6116613e-01 */
+    { 0xbdf5cfd0,0x3f7e2882 }, /* 487: -1.2002528e-01  9.9280560e-01 */
+    { 0x404cd103,0xbf7f8f43 }, /* 488:  3.2002571e+00 -9.9827975e-01 */
+    { 0xbfbdb5ab,0x3db5660b }, /* 489: -1.4821066e+00  8.8573538e-02 */
+    { 0xbf24f72c,0x3f4ca992 }, /* 490: -6.4439654e-01  7.9946244e-01 */
+    { 0xbee45fbc,0x3f66f40a }, /* 491: -4.4604290e-01  9.0216124e-01 */
+    { 0xbecb1f2f,0x3f6c1dfb }, /* 492: -3.9672229e-01  9.2233247e-01 */
+    { 0xbdaea2a3,0x3f7f11e2 }, /* 493: -8.5271142e-02  9.9636662e-01 */
+    { 0xbef37440,0x3f6399ce }, /* 494: -4.7549629e-01  8.8906562e-01 */
+    { 0xbed0bb50,0x3f6b04e6 }, /* 495: -4.0767908e-01  9.1804349e-01 */
+    { 0x3c9c5f8c,0x3f7ff410 }, /* 496:  1.9088529e-02  9.9981785e-01 */
+    { 0xbe92ba6b,0x3f758f39 }, /* 497: -2.8657851e-01  9.5921665e-01 */
+    { 0xbf00bd3a,0x3f604e4b }, /* 498: -5.0288737e-01  8.7619466e-01 */
+    { 0xbf1b797a,0x3f5238ca }, /* 499: -6.0732234e-01  8.2117903e-01 */
+    { 0x3ede9adf,0x3f682ed7 }, /* 500:  4.3477532e-01  9.0696472e-01 */
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]:  %#lx\n", index - 1, v.lo);
+#endif
+    exit (index ? index : -1);
+}
+
+int main ()
+{
+    union lofl_u x, z;
+    unsigned long v1, z1, r;
+    int i;
+    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	x.lo = pgm_read_dword (& t[i].x);
+	z.lo = pgm_read_dword (& t[i].z);
+	v.fl = cos (x.fl);
+	
+	v1 = (v.lo < 0) ? (unsigned long)~(v.lo) : v.lo + 0x80000000;
+	z1 = (z.lo < 0) ? (unsigned long)~(z.lo) : z.lo + 0x80000000;
+	r = (v1 >= z1) ? v1 - z1 : z1 - v1;
+	
+	if (r > 2) x_exit (i+1);
+    }
+    return 0;
+}
diff --git a/tests/simulate/math/cosh-01.c b/tests/simulate/math/cosh-01.c
new file mode 100644
index 0000000..2dbd5c1
--- /dev/null
+++ b/tests/simulate/math/cosh-01.c
@@ -0,0 +1,120 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of cosh() function.
+   $Id$
+ */
+#include <math.h>
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+volatile union lofl_u v = { .lo = 1 };
+
+PROGMEM const struct {		/* Table of test cases.	*/
+    union lofl_u x;		/* argument	*/
+    union lofl_u z;		/* cosh(x)	*/
+} t[] = {
+
+    /* Zero	*/
+    { { .fl=  0.0 },	{ .fl= 1 } },
+    { { .fl= -0.0 },	{ .fl= 1 } },
+
+    /* Inf	*/
+    { { 0x7f800000 },	{ 0x7f800000 } },
+    { { 0xff800000 },	{ 0x7f800000 } },
+
+    /* Subnormal	*/
+    { { 0x00000001 },	{ .fl= 1 } },
+    { { 0x00000100 },	{ .fl= 1 } },
+    { { 0x00010000 },	{ .fl= 1 } },
+    { { 0x007fffff },	{ .fl= 1 } },
+    { { 0x80000001 },	{ .fl= 1 } },
+    { { 0x80000100 },	{ .fl= 1 } },
+    { { 0x80010000 },	{ .fl= 1 } },
+    { { 0x807fffff },	{ .fl= 1 } },
+    
+    /* Arg too big	*/
+    { { .fl= 89.415989 },	{ 0x7f800000 } },
+    { { .fl= 100 },		{ 0x7f800000 } },
+    { { .fl= 1000 },		{ 0x7f800000 } },
+    { { 0x7f7fffff },		{ 0x7f800000 } },
+
+    /* Arg too negative	*/
+    { { .fl= -89.415989 },	{ 0x7f800000 } },
+    { { .fl= -100 },		{ 0x7f800000 } },
+    { { .fl= -12345 },		{ 0x7f800000 } },
+    { { 0xff7fffff },		{ 0x7f800000 } },
+
+    /* Near 0.0	*/
+    { { .fl= 0x1p-127 },	{ .fl= 1 } },
+    { { .fl= 0x1p-100 },	{ .fl= 1 } },
+    { { .fl= 0x1p-50 },		{ .fl= 1 } },
+    { { .fl= 0x1p-25 },		{ .fl= 1 } },
+    { { .fl= 0x0.000001p0 },	{ .fl= 1 } },
+    { { .fl= 0x0.0001p0 },	{ .fl= 1 } },
+    { { .fl= 0x0.001p0 },	{ .fl= 1 } },
+
+    { { .fl= -0x1p-127 },	{ .fl= 1 } },
+    { { .fl= -0x1p-100 },	{ .fl= 1 } },
+    { { .fl= -0x1p-50 },	{ .fl= 1 } },
+    { { .fl= -0x1p-25 },	{ .fl= 1 } },
+    { { .fl= -0x0.000001p0 },	{ .fl= 1 } },
+    { { .fl= -0x0.0001p0 },	{ .fl= 1 } },
+    { { .fl= -0x0.001p0 },	{ .fl= 1 } },
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]:  %#lx\n", index - 1, v.lo);
+#endif
+    exit (index ? index : -1);
+}
+
+int main ()
+{
+    union lofl_u x, z;
+    int i;
+    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	x.lo = pgm_read_dword (& t[i].x);
+	z.lo = pgm_read_dword (& t[i].z);
+	v.fl = cosh (x.fl);
+	/* Comparison is integer to verify the zero sign.	*/
+	if (v.lo != z.lo)
+	    x_exit (i+1);
+    }
+    return 0;
+}
diff --git a/tests/simulate/math/cosh-02.c b/tests/simulate/math/cosh-02.c
new file mode 100644
index 0000000..a3a035b
--- /dev/null
+++ b/tests/simulate/math/cosh-02.c
@@ -0,0 +1,90 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of cosh() function.
+   $Id$
+ */
+#include <math.h>
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+volatile union lofl_u v = { .lo = 1 };
+
+PROGMEM const struct {		/* Table of test cases.	*/
+    union lofl_u x;		/* argument	*/
+    union lofl_u z;		/* cosh(x)	*/
+    unsigned int maxulp;	/* max possible error in ULP	*/
+} t[] = {
+
+    { { .fl= 0 },	{ .fl= 1 },		0 },
+    { { .fl= 1 },	{ .fl= 1.5430806 },	1 },
+    { { .fl= 2 },	{ .fl= 3.7621957 },	1 },
+    { { .fl= 5 },	{ .fl= 74.209949 },	2 },
+    { { .fl= 10 },	{ .fl= 11013.233 },	7 },
+    { { .fl= 20 },	{ .fl= 2.4258260e+8 },	20 },
+    { { .fl= 50 },	{ .fl= 2.5923527e+21 },	20 },
+    { { .fl= 85 },	{ .fl= 4.1115063e+36 },	40 },
+    { { .fl= 89.25 },	{ .fl= 2.8823884e+38 }, 50 },
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]:  %#lx\n", index - 1, v.lo);
+#endif
+    exit (index ? index : -1);
+}
+
+int main ()
+{
+    union lofl_u x, z;
+    unsigned int maxulp;
+    unsigned long v1, z1, r;
+    int i;
+    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	x.lo = pgm_read_dword (& t[i].x);
+	z.lo = pgm_read_dword (& t[i].z);
+	maxulp = pgm_read_word (& t[i].maxulp);
+	v.fl = cosh (x.fl);
+	
+	v1 = (v.lo < 0) ? (unsigned long)~(v.lo) : v.lo + 0x80000000;
+	z1 = (z.lo < 0) ? (unsigned long)~(z.lo) : z.lo + 0x80000000;
+	r = (v1 >= z1) ? v1 - z1 : z1 - v1;
+	
+	if (r > maxulp) x_exit (i+1);
+    }
+    return 0;
+}
diff --git a/tests/simulate/math/cosh-500.c b/tests/simulate/math/cosh-500.c
new file mode 100644
index 0000000..f5ee830
--- /dev/null
+++ b/tests/simulate/math/cosh-500.c
@@ -0,0 +1,579 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of cosh() function. 500 random cases.
+   $Id$
+ */
+#include <math.h>
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+volatile union lofl_u v = { .lo = 1 };
+
+PROGMEM const struct {		/* Table of test cases.	*/
+    long x;		/* argument	*/
+    long z;		/* cosh(x)	*/
+} t[] = {
+
+    /* x, cosh(x)	*/
+    { 0x3bd4fd3e,0x3f8000b1 }, /*   1:  6.4999154e-03  1.0000211e+00 */
+    { 0xbf087c11,0x3f92a060 }, /*   2: -5.3314310e-01  1.1455193e+00 */
+    { 0x3af4b529,0x3f80000f }, /*   3:  1.8669713e-03  1.0000018e+00 */
+    { 0xc148d777,0x480a19d6 }, /*   4: -1.2552604e+01  1.4141534e+05 */
+    { 0x3f661849,0x3fb74751 }, /*   5:  8.9880806e-01  1.4318639e+00 */
+    { 0x41489dce,0x48082ba4 }, /*   6:  1.2538527e+01  1.3943856e+05 */
+    { 0xbfdb4eb0,0x40374972 }, /*   7: -1.7133389e+00  2.8638577e+00 */
+    { 0xbf38945e,0x3fa2bcd9 }, /*   8: -7.2101390e-01  1.2713882e+00 */
+    { 0x3f70963d,0x3fbccf68 }, /*   9:  9.3979245e-01  1.4750795e+00 */
+    { 0x3fdd8cfe,0x403a534b }, /*  10:  1.7308652e+00  2.9113338e+00 */
+    { 0xbf66dcb3,0x3fb7ac2b }, /*  11: -9.0180510e-01  1.4349416e+00 */
+    { 0x3f2442b5,0x3f9b4402 }, /*  12:  6.4164287e-01  1.2130129e+00 */
+    { 0xba89cc87,0x3f800005 }, /*  13: -1.0513224e-03  1.0000006e+00 */
+    { 0xbece4a5d,0x3f8a87e9 }, /*  14: -4.0291110e-01  1.0822726e+00 */
+    { 0x40263327,0x40d7f06c }, /*  15:  2.5968721e+00  6.7480984e+00 */
+    { 0xbf67fddd,0x3fb8416b }, /*  16: -9.0621740e-01  1.4394964e+00 */
+    { 0x4040ce4c,0x41231d17 }, /*  17:  3.0125914e+00  1.0194602e+01 */
+    { 0x3edf38ab,0x3f8c5be1 }, /*  18:  4.3597922e-01  1.0965539e+00 */
+    { 0x408ab796,0x4218a996 }, /*  19:  4.3349104e+00  3.8165611e+01 */
+    { 0xc0aeaf89,0x42ead986 }, /*  20: -5.4589276e+00  1.1742485e+02 */
+    { 0x3f6ce357,0x3fbad30a }, /*  21:  9.2534393e-01  1.4595654e+00 */
+    { 0xc1ada9bc,0x4e9f8c54 }, /*  22: -2.1707878e+01  1.3383869e+09 */
+    { 0xbe54c0bc,0x3f82c5cb }, /*  23: -2.0776647e-01  1.0216612e+00 */
+    { 0xbed282ff,0x3f8af8f0 }, /*  24: -4.1115567e-01  1.0857220e+00 */
+    { 0x3ec7ed6d,0x3f89e217 }, /*  25:  3.9048329e-01  1.0772122e+00 */
+    { 0xbef0f5f1,0x3f8e705b }, /*  26: -4.7062638e-01  1.1128038e+00 */
+    { 0x3e3a101d,0x3f821e6b }, /*  27:  1.8170209e-01  1.0165533e+00 */
+    { 0x3fa4d9a0,0x3ff9a9c3 }, /*  28:  1.2878914e+00  1.9504932e+00 */
+    { 0x3f4406bd,0x3fa7653e }, /*  29:  7.6572782e-01  1.3077772e+00 */
+    { 0xc01c51c1,0x40b96ada }, /*  30: -2.4424899e+00  5.7942934e+00 */
+    { 0x40060313,0x4083d719 }, /*  31:  2.0939376e+00  4.1200070e+00 */
+    { 0x421f0694,0x5ba3de5d }, /*  32:  3.9756424e+01  9.2249824e+16 */
+    { 0x3f9acd18,0x3fe99655 }, /*  33:  1.2093840e+00  1.8249003e+00 */
+    { 0xbecc0b14,0x3f8a4cba }, /*  34: -3.9852202e-01  1.0804665e+00 */
+    { 0xc004c46d,0x408160a8 }, /*  35: -2.0744889e+00  4.0430489e+00 */
+    { 0xbf66896c,0x3fb7815b }, /*  36: -9.0053439e-01  1.4336351e+00 */
+    { 0x3f2cc200,0x3f9e44cf }, /*  37:  6.7483521e-01  1.2364749e+00 */
+    { 0x3fdc2bf8,0x4038736f }, /*  38:  1.7200918e+00  2.8820455e+00 */
+    { 0x3fe61cd7,0x404674c1 }, /*  39:  1.7977551e+00  3.1008761e+00 */
+    { 0x3ff7a7fd,0x40622692 }, /*  40:  1.9348141e+00  3.5336041e+00 */
+    { 0x3edbbe7e,0x3f8bf894 }, /*  41:  4.2918772e-01  1.0935235e+00 */
+    { 0x3f9f387c,0x3ff07969 }, /*  42:  1.2439113e+00  1.8787051e+00 */
+    { 0x3f14847f,0x3f9626c7 }, /*  43:  5.8014673e-01  1.1730584e+00 */
+    { 0xbfbd6c7c,0x4013d77e }, /*  44: -1.4798732e+00  2.3100276e+00 */
+    { 0x3fec1aad,0x404f784f }, /*  45:  1.8445641e+00  3.2417181e+00 */
+    { 0xc070d1dd,0x41ac5ead }, /*  46: -3.7628090e+00  2.1546228e+01 */
+    { 0x3f5cc689,0x3fb29fab }, /*  47:  8.6240441e-01  1.3954977e+00 */
+    { 0xbe4bd790,0x3f828b64 }, /*  48: -1.9906449e-01  1.0198789e+00 */
+    { 0x3f1a60e3,0x3f97fcf1 }, /*  49:  6.0304087e-01  1.1874067e+00 */
+    { 0x3fa133ce,0x3ff3a7b0 }, /*  50:  1.2593935e+00  1.9035549e+00 */
+    { 0xbfa01f57,0x3ff1ea1b }, /*  51: -1.2509564e+00  1.8899568e+00 */
+    { 0x3fe37fb6,0x4042a944 }, /*  52:  1.7773349e+00  3.0415812e+00 */
+    { 0xbe2565cb,0x3f81ac60 }, /*  53: -1.6152112e-01  1.0130730e+00 */
+    { 0x41a09477,0x4d78bd09 }, /*  54:  2.0072493e+01  2.6082114e+08 */
+    { 0xbf8f3cc2,0x3fd8dd5e }, /*  55: -1.1190417e+00  1.6942556e+00 */
+    { 0x3f216a9a,0x3f9a4c81 }, /*  56:  6.3053286e-01  1.2054597e+00 */
+    { 0xbeb52a7d,0x3f8818d0 }, /*  57: -3.5383978e-01  1.0632572e+00 */
+    { 0x3f6a3778,0x3fb96a1a }, /*  58:  9.1490889e-01  1.4485505e+00 */
+    { 0x3ffae25a,0x4067b177 }, /*  59:  1.9600327e+00  3.6202066e+00 */
+    { 0x3f9b4e9a,0x3fea5c7f }, /*  60:  1.2133362e+00  1.8309478e+00 */
+    { 0x41b0a9fd,0x4ee82b84 }, /*  61:  2.2083002e+01  1.9475830e+09 */
+    { 0xbf580683,0x3fb057b2 }, /*  62: -8.4384936e-01  1.3776762e+00 */
+    { 0xc03f7128,0x411fb0f5 }, /*  63: -2.9912815e+00  9.9807024e+00 */
+    { 0x3fa5f5d5,0x3ffb881d }, /*  64:  1.2965647e+00  1.9650913e+00 */
+    { 0x3f800000,0x3fc583ab }, /*  65:  1.0000000e+00  1.5430807e+00 */
+    { 0xb75654e4,0x3f800000 }, /*  66: -1.2775159e-05  1.0000000e+00 */
+    { 0xbf9470e6,0x3fe029ac }, /*  67: -1.1596954e+00  1.7512717e+00 */
+    { 0x3f200056,0x3f99d32d }, /*  68:  6.2500513e-01  1.2017571e+00 */
+    { 0xbf44d94d,0x3fa7be32 }, /*  69: -7.6894075e-01  1.3104918e+00 */
+    { 0xbf694305,0x3fb8ea57 }, /*  70: -9.1117889e-01  1.4446515e+00 */
+    { 0xbeaf8843,0x3f8798a9 }, /*  71: -3.4283647e-01  1.0593463e+00 */
+    { 0x3d4b1c4d,0x3f80284c }, /*  72:  4.9587537e-02  1.0012298e+00 */
+    { 0x3f33ef53,0x3fa0f0e7 }, /*  73:  7.0287055e-01  1.2573518e+00 */
+    { 0x3f1deb87,0x3f9922eb }, /*  74:  6.1687511e-01  1.1963781e+00 */
+    { 0xbfd7f756,0x4032dd98 }, /*  75: -1.6872356e+00  2.7947750e+00 */
+    { 0x3ea3019f,0x3f868ac4 }, /*  76:  3.1837174e-01  1.0511098e+00 */
+    { 0xbf418e32,0x3fa65cb0 }, /*  77: -7.5607598e-01  1.2997036e+00 */
+    { 0xbf9cd74c,0x3fecbb1c }, /*  78: -1.2253203e+00  1.8494601e+00 */
+    { 0xbd062a3c,0x3f801194 }, /*  79: -3.2755122e-02  1.0005364e+00 */
+    { 0xbf40fed5,0x3fa62147 }, /*  80: -7.5388843e-01  1.2978905e+00 */
+    { 0xbf31a2f0,0x3fa01254 }, /*  81: -6.9389248e-01  1.2505593e+00 */
+    { 0x3d91d080,0x3f805317 }, /*  82:  7.1198463e-02  1.0025357e+00 */
+    { 0x3f6e8948,0x3fbbb454 }, /*  83:  9.3178225e-01  1.4664407e+00 */
+    { 0x3f1c9b79,0x3f98b515 }, /*  84:  6.1174732e-01  1.1930262e+00 */
+    { 0x3f1d900c,0x3f9904eb }, /*  85:  6.1547923e-01  1.1954626e+00 */
+    { 0xbf24865f,0x3f9b5b42 }, /*  86: -6.4267534e-01  1.2137225e+00 */
+    { 0xbf6780dd,0x3fb800ca }, /*  87: -9.0431005e-01  1.4375241e+00 */
+    { 0xbedce0d7,0x3f8c18c9 }, /*  88: -4.3140289e-01  1.0945064e+00 */
+    { 0xc23d19d2,0x611369b0 }, /*  89: -4.7275215e+01  1.6995544e+20 */
+    { 0x3db08590,0x3f8079cb }, /*  90:  8.6192250e-02  1.0037168e+00 */
+    { 0xbfa24d35,0x3ff571ca }, /*  91: -1.2679812e+00  1.9175351e+00 */
+    { 0xbf0e075b,0x3f9435bb }, /*  92: -5.5479974e-01  1.1578897e+00 */
+    { 0xbeb42723,0x3f880175 }, /*  93: -3.5186109e-01  1.0625445e+00 */
+    { 0x3c5ae288,0x3f8002ed }, /*  94:  1.3359673e-02  1.0000893e+00 */
+    { 0x3f3f73d0,0x3fa57ea4 }, /*  95:  7.4786091e-01  1.2929273e+00 */
+    { 0x4115ec51,0x45b75596 }, /*  96:  9.3701944e+00  5.8666982e+03 */
+    { 0xbf8e6911,0x3fd7bd00 }, /*  97: -1.1125814e+00  1.6854553e+00 */
+    { 0xbefb8a0f,0x3f8fc2af }, /*  98: -4.9128768e-01  1.1231288e+00 */
+    { 0xc0abf70c,0x42d7b569 }, /*  99: -5.3739071e+00  1.0785432e+02 */
+    { 0xbfbc088e,0x40126721 }, /* 100: -1.4690111e+00  2.2875445e+00 */
+    { 0xc069b6b2,0x419a46a7 }, /* 101: -3.6517758e+00  1.9284498e+01 */
+    { 0xc01678f0,0x40a97bb5 }, /* 102: -2.3511314e+00  5.2963510e+00 */
+    { 0xbed17c2a,0x3f8add3a }, /* 103: -4.0915042e-01  1.0848763e+00 */
+    { 0x3f10e17d,0x3f950d2e }, /* 104:  5.6594068e-01  1.1644647e+00 */
+    { 0x3f35ea69,0x3fa1b362 }, /* 105:  7.1060807e-01  1.2632868e+00 */
+    { 0xbff198eb,0x4058220d }, /* 106: -1.8874792e+00  3.3770783e+00 */
+    { 0x3f71b11d,0x3fbd693a }, /* 107:  9.4410878e-01  1.4797738e+00 */
+    { 0xbf994447,0x3fe742f9 }, /* 108: -1.1973962e+00  1.8067313e+00 */
+    { 0x4010ff4c,0x409bd919 }, /* 109:  2.2655821e+00  4.8702512e+00 */
+    { 0xbf09ce7f,0x3f92ff6d }, /* 110: -5.3830713e-01  1.1484200e+00 */
+    { 0x405d95fc,0x417f5e15 }, /* 111:  3.4622793e+00  1.5960469e+01 */
+    { 0x3f08d761,0x3f92b9ec }, /* 112:  5.3453642e-01  1.1462989e+00 */
+    { 0x4196f625,0x4c957e00 }, /* 113:  1.8870188e+01  7.8376960e+07 */
+    { 0xbf655f2c,0x3fb6e8a6 }, /* 114: -8.9598346e-01  1.4289749e+00 */
+    { 0x3f5c3ef1,0x3fb25dc7 }, /* 115:  8.6033541e-01  1.3934869e+00 */
+    { 0xbf94e607,0x3fe0d26f }, /* 116: -1.1632699e+00  1.7564219e+00 */
+    { 0x3d997ada,0x3f805c0f }, /* 117:  7.4941352e-02  1.0028094e+00 */
+    { 0xbef1a80e,0x3f8e8621 }, /* 118: -4.7198528e-01  1.1134683e+00 */
+    { 0xbfa08c1b,0x3ff298e1 }, /* 119: -1.2542757e+00  1.8952905e+00 */
+    { 0x3f20802a,0x3f99fdda }, /* 120:  6.2695563e-01  1.2030594e+00 */
+    { 0xbf7863d6,0x3fc12119 }, /* 121: -9.7027338e-01  1.5088226e+00 */
+    { 0xbed18ff8,0x3f8adf4f }, /* 122: -4.0930152e-01  1.0849398e+00 */
+    { 0x3f675e88,0x3fb7ef11 }, /* 123:  9.0378618e-01  1.4369832e+00 */
+    { 0x400b6d11,0x408f2503 }, /* 124:  2.1785319e+00  4.4732680e+00 */
+    { 0xc1465816,0x47ec48a6 }, /* 125: -1.2396505e+01  1.2097730e+05 */
+    { 0xbf9e5072,0x3fef09e8 }, /* 126: -1.2368300e+00  1.8674898e+00 */
+    { 0xbf9b9db6,0x3fead601 }, /* 127: -1.2157505e+00  1.8346559e+00 */
+    { 0x3fc534e2,0x401c3933 }, /* 128:  1.5406764e+00  2.4409912e+00 */
+    { 0xbfe20c0d,0x404096aa }, /* 129: -1.7659928e+00  3.0091958e+00 */
+    { 0xbf9d7d18,0x3fedbdd6 }, /* 130: -1.2303801e+00  1.8573558e+00 */
+    { 0xbf080f51,0x3f92820b }, /* 131: -5.3148371e-01  1.1445936e+00 */
+    { 0x3f9eac7b,0x3fef9b4d }, /* 132:  1.2396387e+00  1.8719269e+00 */
+    { 0x3af637a6,0x3f80000f }, /* 133:  1.8784895e-03  1.0000018e+00 */
+    { 0x3f9a77b8,0x3fe91435 }, /* 134:  1.2067785e+00  1.8209292e+00 */
+    { 0xbf64de38,0x3fb6a6ed }, /* 135: -8.9401579e-01  1.4269692e+00 */
+    { 0xbecdc625,0x3f8a7a40 }, /* 136: -4.0190235e-01  1.0818558e+00 */
+    { 0x3f68d38a,0x3fb8b04b }, /* 137:  9.0947783e-01  1.4428800e+00 */
+    { 0xbfca72ef,0x40223160 }, /* 138: -1.5816325e+00  2.5342636e+00 */
+    { 0xbf71fb4b,0x3fbd91b7 }, /* 139: -9.4524068e-01  1.4810094e+00 */
+    { 0xbf2d3f0b,0x3f9e7259 }, /* 140: -6.7674321e-01  1.2378646e+00 */
+    { 0x4017035b,0x40aae538 }, /* 141:  2.3595798e+00  5.3404808e+00 */
+    { 0xbf9a5ee8,0x3fe8ee77 }, /* 142: -1.2060213e+00  1.8197774e+00 */
+    { 0xbf99d2f9,0x3fe81a41 }, /* 143: -1.2017509e+00  1.8133012e+00 */
+    { 0xc015a983,0x40a763c0 }, /* 144: -2.3384712e+00  5.2309265e+00 */
+    { 0x3f9b0084,0x3fe9e4e7 }, /* 145:  1.2109532e+00  1.8272980e+00 */
+    { 0x3ef0c177,0x3f8e69f4 }, /* 146:  4.7022602e-01  1.1126084e+00 */
+    { 0xbf707f8b,0x3fbcc31b }, /* 147: -9.3944615e-01  1.4747041e+00 */
+    { 0x3e97b4db,0x3f85a8fc }, /* 148:  2.9630169e-01  1.0442195e+00 */
+    { 0x3f685ee7,0x3fb873b5 }, /* 149:  9.0769809e-01  1.4410311e+00 */
+    { 0xbf657204,0x3fb6f245 }, /* 150: -8.9627099e-01  1.4292685e+00 */
+    { 0xbed0f635,0x3f8acf28 }, /* 151: -4.0812841e-01  1.0844469e+00 */
+    { 0x3f3f7254,0x3fa57e08 }, /* 152:  7.4783826e-01  1.2929087e+00 */
+    { 0xbef26971,0x3f8e9dd8 }, /* 153: -4.7346070e-01  1.1141920e+00 */
+    { 0x3f995c0e,0x3fe766c4 }, /* 154:  1.1981218e+00  1.8078237e+00 */
+    { 0xbf613863,0x3fb4d05a }, /* 155: -8.7976664e-01  1.4126084e+00 */
+    { 0xbfc652ac,0x401d78eb }, /* 156: -1.5493979e+00  2.4605052e+00 */
+    { 0x40b1be60,0x4301330c }, /* 157:  5.5544891e+00  1.2919940e+02 */
+    { 0x42a32de3,0x79d13acd }, /* 158:  8.1589622e+01  1.3579783e+35 */
+    { 0x3c94a335,0x3f800565 }, /* 159:  1.8144229e-02  1.0001646e+00 */
+    { 0xc0106c4c,0x409a7c5c }, /* 160: -2.2566099e+00  4.8276806e+00 */
+    { 0xbf6d40e9,0x3fbb04d4 }, /* 161: -9.2677170e-01  1.4610848e+00 */
+    { 0x3f1962dc,0x3f97abea }, /* 162:  5.9916472e-01  1.1849339e+00 */
+    { 0xbf389656,0x3fa2bd9e }, /* 163: -7.2104394e-01  1.2714117e+00 */
+    { 0xbfe0f6cb,0x403f0ef8 }, /* 164: -1.7575315e+00  2.9852886e+00 */
+    { 0xbf2376a4,0x3f9afe26 }, /* 165: -6.3852906e-01  1.2108810e+00 */
+    { 0xc02de3ab,0x40f33842 }, /* 166: -2.7170208e+00  7.6006174e+00 */
+    { 0xc0757f21,0x41b96c83 }, /* 167: -3.8358843e+00  2.3177984e+01 */
+    { 0x3f91a2e9,0x3fdc2f1f }, /* 168:  1.1377841e+00  1.7201880e+00 */
+    { 0x3ee171e5,0x3f8c9c3f }, /* 169:  4.4032207e-01  1.0985183e+00 */
+    { 0xbff13d4a,0x40578e7d }, /* 170: -1.8846829e+00  3.3680718e+00 */
+    { 0xbf67f43c,0x3fb83c6f }, /* 171: -9.0607047e-01  1.4393443e+00 */
+    { 0x3ed5a995,0x3f8b4ee0 }, /* 172:  4.1730943e-01  1.0883446e+00 */
+    { 0xbb46ec0c,0x3f800027 }, /* 173: -3.0353097e-03  1.0000046e+00 */
+    { 0xbfe767e9,0x40485d3d }, /* 174: -1.8078586e+00  3.1306908e+00 */
+    { 0x3f241ffd,0x3f9b3819 }, /* 175:  6.4111310e-01  1.2126495e+00 */
+    { 0xbf90b395,0x3fdae1a5 }, /* 176: -1.1304804e+00  1.7100111e+00 */
+    { 0xbe92079a,0x3f853dda }, /* 177: -2.8521425e-01  1.0409501e+00 */
+    { 0x403b7003,0x41160e4e }, /* 178:  2.9287117e+00  9.3784924e+00 */
+    { 0xbfc12059,0x4017c25d }, /* 179: -1.5087997e+00  2.3712380e+00 */
+    { 0x3f0f0b85,0x3f9481f5 }, /* 180:  5.5876952e-01  1.1602160e+00 */
+    { 0x3f96ef65,0x3fe3ca95 }, /* 181:  1.1791807e+00  1.7796198e+00 */
+    { 0xbeee2152,0x3f8e1879 }, /* 182: -4.6509796e-01  1.1101218e+00 */
+    { 0x3f644795,0x3fb65a60 }, /* 183:  8.9171726e-01  1.4246330e+00 */
+    { 0x3ee16552,0x3f8c9ad1 }, /* 184:  4.4022614e-01  1.0984746e+00 */
+    { 0xbd113c42,0x3f80149a }, /* 185: -3.5457857e-02  1.0006287e+00 */
+    { 0xbf979a25,0x3fe4c6bc }, /* 186: -1.1843916e+00  1.7873149e+00 */
+    { 0xbfd930c4,0x403478ae }, /* 187: -1.6968007e+00  2.8198657e+00 */
+    { 0xc05e4421,0x41810ba4 }, /* 188: -3.4729083e+00  1.6130684e+01 */
+    { 0x3fa13837,0x3ff3aed5 }, /* 189:  1.2595280e+00  1.9037730e+00 */
+    { 0x3f9bf9c8,0x3feb63dc }, /* 190:  1.2185602e+00  1.8389850e+00 */
+    { 0x3f6b2f91,0x3fb9ec72 }, /* 191:  9.1869456e-01  1.4525282e+00 */
+    { 0xbf4579bf,0x3fa80245 }, /* 192: -7.7138895e-01  1.3125693e+00 */
+    { 0xc25b7ab4,0x668f0e1f }, /* 193: -5.4869827e+01  3.3777945e+23 */
+    { 0xbec48f60,0x3f898c8c }, /* 194: -3.8390636e-01  1.0746017e+00 */
+    { 0x3f39005e,0x3fa2e74d }, /* 195:  7.2266185e-01  1.2726837e+00 */
+    { 0xbf3fe677,0x3fa5adb0 }, /* 196: -7.4961036e-01  1.2943630e+00 */
+    { 0x3fe3f2c0,0x40434ecc }, /* 197:  1.7808456e+00  3.0516844e+00 */
+    { 0x3f1f6696,0x3f99a00c }, /* 198:  6.2265909e-01  1.2001967e+00 */
+    { 0x3f6cec31,0x3fbad7bf }, /* 199:  9.2547899e-01  1.4597090e+00 */
+    { 0x3f64a4a5,0x3fb689a3 }, /* 200:  8.9313728e-01  1.4260753e+00 */
+    { 0x4000cebb,0x4073ba86 }, /* 201:  2.0126178e+00  3.8082595e+00 */
+    { 0xbe5b8372,0x3f82f3cc }, /* 202: -2.1436861e-01  1.0230651e+00 */
+    { 0x3f3b2eb7,0x3fa3c497 }, /* 203:  7.3118156e-01  1.2794369e+00 */
+    { 0x4076f836,0x41bdbca9 }, /* 204:  3.8588996e+00  2.3717119e+01 */
+    { 0xbed9e954,0x3f8bc4e9 }, /* 205: -4.2560828e-01  1.0919467e+00 */
+    { 0xbf9d38a8,0x3fed52da }, /* 206: -1.2282915e+00  1.8540909e+00 */
+    { 0x3f709291,0x3fbccd6a }, /* 207:  9.3973643e-01  1.4750187e+00 */
+    { 0x41887f41,0x4b441a0c }, /* 208:  1.7062136e+01  1.2851724e+07 */
+    { 0x3fd73a99,0x4031e813 }, /* 209:  1.6814758e+00  2.7797897e+00 */
+    { 0x3f91dbda,0x3fdc7ee7 }, /* 210:  1.1395218e+00  1.7226228e+00 */
+    { 0xbf3be719,0x3fa40e55 }, /* 211: -7.3399502e-01  1.2816874e+00 */
+    { 0x3fe4a4d4,0x40445041 }, /* 212:  1.7862802e+00  3.0673983e+00 */
+    { 0x3f0022e3,0x3f905f24 }, /* 213:  5.0053233e-01  1.1279035e+00 */
+    { 0x3eb3bb54,0x3f87f7c9 }, /* 214:  3.5103858e-01  1.0622493e+00 */
+    { 0xbff6b1b8,0x406086e1 }, /* 215: -1.9272985e+00  3.5082324e+00 */
+    { 0xbefe720c,0x3f902260 }, /* 216: -4.9696386e-01  1.1260490e+00 */
+    { 0x3f98ccc6,0x3fe68f8a }, /* 217:  1.1937492e+00  1.8012555e+00 */
+    { 0xbb7b058b,0x3f80003e }, /* 218: -3.8302864e-03  1.0000074e+00 */
+    { 0x3f0a2bed,0x3f9319d8 }, /* 219:  5.3973275e-01  1.1492262e+00 */
+    { 0x3f97cab4,0x3fe50ebc }, /* 220:  1.1858735e+00  1.7895122e+00 */
+    { 0x3f687417,0x3fb87eb4 }, /* 221:  9.0802139e-01  1.4413667e+00 */
+    { 0xbffe46c7,0x406dad40 }, /* 222: -1.9865350e+00  3.7136993e+00 */
+    { 0x3f9ecfec,0x3fefd36c }, /* 223:  1.2407203e+00  1.8736396e+00 */
+    { 0x3da7988c,0x3f806dc8 }, /* 224:  8.1833929e-02  1.0033503e+00 */
+    { 0xc01940bf,0x40b0e055 }, /* 225: -2.3945768e+00  5.5273843e+00 */
+    { 0xbfc89ea2,0x40201459 }, /* 226: -1.5673411e+00  2.5012419e+00 */
+    { 0x400dc754,0x40945f04 }, /* 227:  2.2152910e+00  4.6365986e+00 */
+    { 0x3f99be63,0x3fe7fb21 }, /* 228:  1.2011226e+00  1.8123513e+00 */
+    { 0xbfc88bd0,0x401ffec8 }, /* 229: -1.5667667e+00  2.4999256e+00 */
+    { 0xbeb7adf9,0x3f885359 }, /* 230: -3.5874918e-01  1.0650436e+00 */
+    { 0x3f3290b3,0x3fa06bde }, /* 231:  6.9752043e-01  1.2532918e+00 */
+    { 0x3f630117,0x3fb5b550 }, /* 232:  8.8673538e-01  1.4195957e+00 */
+    { 0x3f223676,0x3f9a914f }, /* 233:  6.3364351e-01  1.2075595e+00 */
+    { 0xbf745310,0x3fbedb5a }, /* 234: -9.5439243e-01  1.4910691e+00 */
+    { 0xbf90d966,0x3fdb1623 }, /* 235: -1.1316345e+00  1.7116131e+00 */
+    { 0x404e9694,0x414a2368 }, /* 236:  3.2279406e+00  1.2633644e+01 */
+    { 0x3f026727,0x3f90f7f4 }, /* 237:  5.0938648e-01  1.1325669e+00 */
+    { 0xbf71f868,0x3fbd9023 }, /* 238: -9.4519663e-01  1.4809612e+00 */
+    { 0x407341b4,0x41b30d70 }, /* 239:  3.8008852e+00  2.2381561e+01 */
+    { 0xc13ef65f,0x4794f5be }, /* 240: -1.1935149e+01  7.6267484e+04 */
+    { 0xc2a87abf,0x7bb91c9e }, /* 241: -8.4239738e+01  1.9223107e+36 */
+    { 0x3fe35e93,0x404279b3 }, /* 242:  1.7763237e+00  3.0386779e+00 */
+    { 0xbf939c63,0x3fdef95a }, /* 243: -1.1532100e+00  1.7419846e+00 */
+    { 0x3f93682d,0x3fdeaef3 }, /* 244:  1.1516167e+00  1.7397140e+00 */
+    { 0x3fcdacd1,0x40260040 }, /* 245:  1.6068364e+00  2.5937653e+00 */
+    { 0x3fd6f313,0x40318b6d }, /* 246:  1.6792930e+00  2.7741349e+00 */
+    { 0x40b5f02e,0x43134b5c }, /* 247:  5.6855688e+00  1.4729437e+02 */
+    { 0x3f10a9c9,0x3f94fc93 }, /* 248:  5.6509072e-01  1.1639580e+00 */
+    { 0x3ff0fb88,0x405724da }, /* 249:  1.8826761e+00  3.3616242e+00 */
+    { 0xbd0fecbf,0x3f80143b }, /* 250: -3.5137888e-02  1.0006174e+00 */
+    { 0xbd62f844,0x3f803252 }, /* 251: -5.5412546e-02  1.0015357e+00 */
+    { 0xbf15944f,0x3f967a73 }, /* 252: -5.8429426e-01  1.1756119e+00 */
+    { 0x42398574,0x6070f66c }, /* 253:  4.6380325e+01  6.9452737e+19 */
+    { 0xbf694fb2,0x3fb8f0f3 }, /* 254: -9.1137230e-01  1.4448532e+00 */
+    { 0x402854d2,0x40df2c34 }, /* 255:  2.6301770e+00  6.9741459e+00 */
+    { 0x402dc6db,0x40f2cbcf }, /* 256:  2.7152622e+00  7.5873790e+00 */
+    { 0x3e75e32f,0x3f83b53f }, /* 257:  2.4012445e-01  1.0289687e+00 */
+    { 0xbf9bb313,0x3feaf6e0 }, /* 258: -1.2164024e+00  1.8356590e+00 */
+    { 0x3fc4dd5a,0x401bd7e3 }, /* 259:  1.5380051e+00  2.4350517e+00 */
+    { 0x3e54bb18,0x3f82c5a6 }, /* 260:  2.0774496e-01  1.0216568e+00 */
+    { 0x3efa94f8,0x3f8fa36b }, /* 261:  4.8941779e-01  1.1221746e+00 */
+    { 0xbeff8feb,0x3f904776 }, /* 262: -4.9914488e-01  1.1271808e+00 */
+    { 0x3ed4f250,0x3f8b3b3b }, /* 263:  4.1591120e-01  1.0877451e+00 */
+    { 0x3ffb17ed,0x40680ebf }, /* 264:  1.9616677e+00  3.6259000e+00 */
+    { 0xbf36a05d,0x3fa1f9c6 }, /* 265: -7.1338445e-01  1.2654350e+00 */
+    { 0x3f2b0ae6,0x3f9da60d }, /* 266:  6.6813505e-01  1.2316300e+00 */
+    { 0x3f62e9be,0x3fb5a98d }, /* 267:  8.8637912e-01  1.4192368e+00 */
+    { 0x3fdec0a5,0x403bf9fe }, /* 268:  1.7402540e+00  2.9371333e+00 */
+    { 0x3cd03e15,0x3f800a96 }, /* 269:  2.5420228e-02  1.0003231e+00 */
+    { 0x3d9fd739,0x3f8063da }, /* 270:  7.8047223e-02  1.0030472e+00 */
+    { 0x42072aff,0x57577f9e }, /* 271:  3.3791988e+01  2.3694311e+14 */
+    { 0xbf4a61d6,0x3faa202b }, /* 272: -7.9055536e-01  1.3291067e+00 */
+    { 0xbfa283f1,0x3ff5cb6e }, /* 273: -1.2696515e+00  1.9202707e+00 */
+    { 0x3f938035,0x3fded12d }, /* 274:  1.1523501e+00  1.7407585e+00 */
+    { 0x3f1d8d17,0x3f9903f3 }, /* 275:  6.1543411e-01  1.1954330e+00 */
+    { 0xbfdb8dc2,0x40379e29 }, /* 276: -1.7152636e+00  2.8690283e+00 */
+    { 0xbf5d8b54,0x3fb2ffa6 }, /* 277: -8.6540723e-01  1.3984268e+00 */
+    { 0xbe9679b5,0x3f859165 }, /* 278: -2.9389730e-01  1.0434996e+00 */
+    { 0xbf5d2df6,0x3fb2d20f }, /* 279: -8.6398256e-01  1.3970355e+00 */
+    { 0x402dab89,0x40f26528 }, /* 280:  2.7135947e+00  7.5748482e+00 */
+    { 0x3744a3e9,0x3f800000 }, /* 281:  1.1720674e-05  1.0000000e+00 */
+    { 0xbe558cba,0x3f82cb24 }, /* 282: -2.0854464e-01  1.0218244e+00 */
+    { 0xc0748214,0x41b695ad }, /* 283: -3.8204393e+00  2.2823084e+01 */
+    { 0xbf9d5037,0x3fed77a6 }, /* 284: -1.2290105e+00  1.8552139e+00 */
+    { 0x41df8cd3,0x531f28c0 }, /* 285:  2.7943762e+01  6.8358347e+11 */
+    { 0xbf220fb5,0x3f9a8433 }, /* 286: -6.3305217e-01  1.2071594e+00 */
+    { 0x3f436c80,0x3fa7245e }, /* 287:  7.6337433e-01  1.3057973e+00 */
+    { 0x3f0c2adb,0x3f93abaa }, /* 288:  5.4752892e-01  1.1536763e+00 */
+    { 0xbf0ccc32,0x3f93da30 }, /* 289: -5.4999077e-01  1.1550961e+00 */
+    { 0xbfeb629e,0x404e5d5c }, /* 290: -1.8389471e+00  3.2244482e+00 */
+    { 0xbf30c1bd,0x3f9fbe04 }, /* 291: -6.9045621e-01  1.2479863e+00 */
+    { 0x40338b91,0x4104c0a4 }, /* 292:  2.8053935e+00  8.2970314e+00 */
+    { 0x404eb25c,0x414a7af3 }, /* 293:  3.2296362e+00  1.2655017e+01 */
+    { 0xbdc0f259,0x3f809188 }, /* 294: -9.4212241e-02  1.0044413e+00 */
+    { 0xbf1378b7,0x3f95d4fd }, /* 295: -5.7606071e-01  1.1705624e+00 */
+    { 0x3fba0285,0x401056e4 }, /* 296:  1.4532019e+00  2.2553034e+00 */
+    { 0x3efa7c40,0x3f8fa046 }, /* 297:  4.8922920e-01  1.1220787e+00 */
+    { 0xbf9a947e,0x3fe94004 }, /* 298: -1.2076566e+00  1.8222661e+00 */
+    { 0xbf37638a,0x3fa245a2 }, /* 299: -7.1636260e-01  1.2677500e+00 */
+    { 0x3fd54624,0x402f6458 }, /* 300:  1.6662030e+00  2.7404995e+00 */
+    { 0xbe67b3e0,0x3f834a6e }, /* 301: -2.2627211e-01  1.0257089e+00 */
+    { 0xbf6665e0,0x3fb76f1b }, /* 302: -8.9999199e-01  1.4330782e+00 */
+    { 0x3f9d6db0,0x3feda5ba }, /* 303:  1.2299099e+00  1.8566201e+00 */
+    { 0x3fe42a3a,0x40439ed8 }, /* 304:  1.7825387e+00  3.0565701e+00 */
+    { 0x3eb30057,0x3f87e713 }, /* 305:  3.4961197e-01  1.0617393e+00 */
+    { 0x3fe77e7b,0x40487eba }, /* 306:  1.8085474e+00  3.1327348e+00 */
+    { 0x3ffbb769,0x4069255f }, /* 307:  1.9665347e+00  3.6429060e+00 */
+    { 0xbf8dc0d3,0x3fd6d977 }, /* 308: -1.1074470e+00  1.6785115e+00 */
+    { 0x3f5a2791,0x3fb15b84 }, /* 309:  8.5216624e-01  1.3856053e+00 */
+    { 0x4063a722,0x418c5b30 }, /* 310:  3.5570760e+00  1.7544525e+01 */
+    { 0x3f61afcd,0x3fb50c00 }, /* 311:  8.8158876e-01  1.4144287e+00 */
+    { 0x3f6b84ed,0x3fba1972 }, /* 312:  9.1999704e-01  1.4539015e+00 */
+    { 0x3f6b8df5,0x3fba1e37 }, /* 313:  9.2013484e-01  1.4540471e+00 */
+    { 0x1be37817,0x3f800000 }, /* 314:  3.7631606e-22  1.0000000e+00 */
+    { 0xbfc5e7be,0x401d00ef }, /* 315: -1.5461347e+00  2.4531820e+00 */
+    { 0x4008fc7b,0x4089edb2 }, /* 316:  2.1404102e+00  4.3102655e+00 */
+    { 0x3f9a5b9d,0x3fe8e975 }, /* 317:  1.2059208e+00  1.8196245e+00 */
+    { 0xbb14328e,0x3f800015 }, /* 318: -2.2613141e-03  1.0000025e+00 */
+    { 0x3f44774d,0x3fa794bd }, /* 319:  7.6744539e-01  1.3092266e+00 */
+    { 0xc012c35c,0x40a01dcb }, /* 320: -2.2931738e+00  5.0036368e+00 */
+    { 0x400e66fb,0x4095ca3d }, /* 321:  2.2250354e+00  4.6809373e+00 */
+    { 0xbf744dfa,0x3fbed88a }, /* 322: -9.5431483e-01  1.4909832e+00 */
+    { 0xc079391f,0x41c487f1 }, /* 323: -3.8941114e+00  2.4566378e+01 */
+    { 0xbf2713bb,0x3f9c3df1 }, /* 324: -6.5264481e-01  1.2206403e+00 */
+    { 0x3ef7ebfa,0x3f8f4d3a }, /* 325:  4.8422223e-01  1.1195443e+00 */
+    { 0x3f205f16,0x3f99f2cb }, /* 326:  6.2645090e-01  1.2027220e+00 */
+    { 0xbc0869d0,0x3f800123 }, /* 327: -8.3260089e-03  1.0000347e+00 */
+    { 0xbff9b6f2,0x4065ab10 }, /* 328: -1.9508955e+00  3.5885658e+00 */
+    { 0xbfcfbd3b,0x40287e1d }, /* 329: -1.6229624e+00  2.6326973e+00 */
+    { 0xbf68322c,0x3fb85c84 }, /* 330: -9.0701556e-01  1.4403234e+00 */
+    { 0xbf09ee01,0x3f930853 }, /* 331: -5.3878790e-01  1.1486915e+00 */
+    { 0xbf696bfb,0x3fb8ffb4 }, /* 332: -9.1180390e-01  1.4453034e+00 */
+    { 0xc00dbe6d,0x40944adf }, /* 333: -2.2147477e+00  4.6341395e+00 */
+    { 0xbeacf672,0x3f875f9b }, /* 334: -3.3781773e-01  1.0576051e+00 */
+    { 0x3fd76423,0x40321dfb }, /* 335:  1.6827434e+00  2.7830799e+00 */
+    { 0x3f698baa,0x3fb9103d }, /* 336:  9.1228735e-01  1.4458081e+00 */
+    { 0xbf26e9be,0x3f9c2f41 }, /* 337: -6.5200412e-01  1.2201921e+00 */
+    { 0xbfee5e16,0x4052fe00 }, /* 338: -1.8622463e+00  3.2967529e+00 */
+    { 0xbf41d65f,0x3fa67aac }, /* 339: -7.5717729e-01  1.3006186e+00 */
+    { 0x400bf024,0x409043ef }, /* 340:  2.1865320e+00  4.5082927e+00 */
+    { 0xbe83f53c,0x3f844658 }, /* 341: -2.5773036e-01  1.0333967e+00 */
+    { 0xbf618319,0x3fb4f5a7 }, /* 342: -8.8090664e-01  1.4137467e+00 */
+    { 0xbf990d95,0x3fe6f0c0 }, /* 343: -1.1957270e+00  1.8042221e+00 */
+    { 0xbec8d518,0x3f89f957 }, /* 344: -3.9225078e-01  1.0779217e+00 */
+    { 0xc1e994af,0x540b69fd }, /* 345: -2.9197599e+01  2.3951146e+12 */
+    { 0xbf97ac7c,0x3fe4e1ea }, /* 346: -1.1849513e+00  1.7881444e+00 */
+    { 0xbf9824a4,0x3fe5946d }, /* 347: -1.1886182e+00  1.7935921e+00 */
+    { 0x3fa198b4,0x3ff44b6a }, /* 348:  1.2624726e+00  1.9085515e+00 */
+    { 0x3f39210f,0x3fa2f42c }, /* 349:  7.2316068e-01  1.2730765e+00 */
+    { 0xbf94ba54,0x3fe09362 }, /* 350: -1.1619363e+00  1.7544978e+00 */
+    { 0xbf6921f7,0x3fb8d91d }, /* 351: -9.1067451e-01  1.4441258e+00 */
+    { 0x3b7aa869,0x3f80003d }, /* 352:  3.8247353e-03  1.0000073e+00 */
+    { 0xbf3958ad,0x3fa30a19 }, /* 353: -7.2400934e-01  1.2737457e+00 */
+    { 0x3ca5d22c,0x3f8006b7 }, /* 354:  2.0241819e-02  1.0002049e+00 */
+    { 0xbfe51681,0x4044f560 }, /* 355: -1.7897493e+00  3.0774765e+00 */
+    { 0x3f96c051,0x3fe38557 }, /* 356:  1.1777440e+00  1.7775067e+00 */
+    { 0x40795bf1,0x41c4f2e4 }, /* 357:  3.8962367e+00  2.4618599e+01 */
+    { 0xbf13d93f,0x3f95f266 }, /* 358: -5.7753366e-01  1.1714599e+00 */
+    { 0xbfdc4c31,0x40389f01 }, /* 359: -1.7210752e+00  2.8847048e+00 */
+    { 0x4021ffc7,0x40ca60a8 }, /* 360:  2.5312364e+00  6.3242989e+00 */
+    { 0x3fcaecd5,0x4022bf97 }, /* 361:  1.5853525e+00  2.5429437e+00 */
+    { 0x3f1d5c6c,0x3f98f405 }, /* 362:  6.1469150e-01  1.1949469e+00 */
+    { 0xc1f22ee3,0x54cc4d1c }, /* 363: -3.0272894e+01  7.0197361e+12 */
+    { 0x3f70d75a,0x3fbcf2bc }, /* 364:  9.4078600e-01  1.4761577e+00 */
+    { 0x3f1d4cf9,0x3f98eef8 }, /* 365:  6.1445576e-01  1.1947927e+00 */
+    { 0x3f968211,0x3fe329f8 }, /* 366:  1.1758443e+00  1.7747183e+00 */
+    { 0x3fb91d7a,0x400f704a }, /* 367:  1.4462121e+00  2.2412286e+00 */
+    { 0x40e5e6d2,0x4424d777 }, /* 368:  7.1844263e+00  6.5936664e+02 */
+    { 0xbfbf0d02,0x40158c3d }, /* 369: -1.4925845e+00  2.3366845e+00 */
+    { 0x3e4108d8,0x3f8247f3 }, /* 370:  1.8851030e-01  1.0178207e+00 */
+    { 0xbf2f7eb3,0x3f9f45ea }, /* 371: -6.8552703e-01  1.2443211e+00 */
+    { 0x3f979d7e,0x3fe4cbb2 }, /* 372:  1.1844938e+00  1.7874663e+00 */
+    { 0xc1bebb81,0x502870b1 }, /* 373: -2.3841555e+01  1.1303831e+10 */
+    { 0x3fd3e203,0x402da0a6 }, /* 374:  1.6553348e+00  2.7129302e+00 */
+    { 0xbf65ccf6,0x3fb720c0 }, /* 375: -8.9765871e-01  1.4306870e+00 */
+    { 0x403a1109,0x4112e4d7 }, /* 376:  2.9072897e+00  9.1808691e+00 */
+    { 0x3f6182dd,0x3fb4f589 }, /* 377:  8.8090307e-01  1.4137431e+00 */
+    { 0xbf6a5250,0x3fb9782c }, /* 378: -9.1531849e-01  1.4489799e+00 */
+    { 0x3e3af081,0x3f82238e }, /* 379:  1.8255807e-01  1.0167100e+00 */
+    { 0xbf9e2616,0x3feec726 }, /* 380: -1.2355373e+00  1.8654525e+00 */
+    { 0xbf98f794,0x3fe6cfb8 }, /* 381: -1.1950555e+00  1.8032141e+00 */
+    { 0xbf874ed8,0x3fce6de9 }, /* 382: -1.0570936e+00  1.6127292e+00 */
+    { 0x3fa199db,0x3ff44d49 }, /* 383:  1.2625078e+00  1.9086086e+00 */
+    { 0xc08ab6db,0x4218a61a }, /* 384: -4.3348212e+00  3.8162209e+01 */
+    { 0xbfc0c713,0x40176289 }, /* 385: -1.5060753e+00  2.3653891e+00 */
+    { 0xbf640dde,0x3fb63d1d }, /* 386: -8.9083660e-01  1.4237400e+00 */
+    { 0xc031ec0b,0x410173dc }, /* 387: -2.7800319e+00  8.0907860e+00 */
+    { 0xbf9857db,0x3fe5e0c1 }, /* 388: -1.1901811e+00  1.7959214e+00 */
+    { 0x3f238a95,0x3f9b04f5 }, /* 389:  6.3883334e-01  1.2110888e+00 */
+    { 0x3c63753f,0x3f800328 }, /* 390:  1.3882934e-02  1.0000963e+00 */
+    { 0x3f8db58f,0x3fd6ca48 }, /* 391:  1.1071032e+00  1.6780481e+00 */
+    { 0xc065646b,0x41903788 }, /* 392: -3.5842540e+00  1.8027115e+01 */
+    { 0x3fe5a8a9,0x4045ca92 }, /* 393:  1.7942096e+00  3.0904889e+00 */
+    { 0xbfe51813,0x4044f7a9 }, /* 394: -1.7897972e+00  3.0776160e+00 */
+    { 0x3fc884c8,0x401ff6ba }, /* 395:  1.5665522e+00  2.4994340e+00 */
+    { 0x4000a577,0x40732316 }, /* 396:  2.0100992e+00  3.7990165e+00 */
+    { 0xbfffaea4,0x40703477 }, /* 397: -1.9975171e+00  3.7532022e+00 */
+    { 0xc04dba79,0x4147730d }, /* 398: -3.2145064e+00  1.2465589e+01 */
+    { 0xbfb2afa4,0x40092b57 }, /* 399: -1.3959851e+00  2.1432703e+00 */
+    { 0x3f12c978,0x3f959fd0 }, /* 400:  5.7338667e-01  1.1689396e+00 */
+    { 0x37faa236,0x3f800000 }, /* 401:  2.9877858e-05  1.0000000e+00 */
+    { 0x3fa34d21,0x3ff7166f }, /* 402:  1.2757913e+00  1.9303721e+00 */
+    { 0x4013065d,0x40a0c263 }, /* 403:  2.2972634e+00  5.0237288e+00 */
+    { 0xbf68a702,0x3fb89925 }, /* 404: -9.0879834e-01  1.4421736e+00 */
+    { 0x3f100a1e,0x3f94cd23 }, /* 405:  5.6265438e-01  1.1625103e+00 */
+    { 0x3f75bb0c,0x3fbfa32b }, /* 406:  9.5988536e-01  1.4971670e+00 */
+    { 0xc184e4b5,0x4af9f6e2 }, /* 407: -1.6611673e+01  8.1908330e+06 */
+    { 0xbf1ed7fb,0x3f9970d2 }, /* 408: -6.2048310e-01  1.1987555e+00 */
+    { 0x3f8b5c56,0x3fd3a953 }, /* 409:  1.0887554e+00  1.6536049e+00 */
+    { 0x3ec492c4,0x3f898ce1 }, /* 410:  3.8393223e-01  1.0746118e+00 */
+    { 0x39dcbfb4,0x3f800001 }, /* 411:  4.2104500e-04  1.0000001e+00 */
+    { 0xbfc7b7ee,0x401f0ce7 }, /* 412: -1.5603006e+00  2.4851625e+00 */
+    { 0xc11481d7,0x45a7cea9 }, /* 413: -9.2816992e+00  5.3698325e+03 */
+    { 0xc03201ec,0x41019fce }, /* 414: -2.7813673e+00  8.1015148e+00 */
+    { 0xbea7029e,0x3f86deca }, /* 415: -3.2619184e-01  1.0536740e+00 */
+    { 0xbf382767,0x3fa29221 }, /* 416: -7.1935123e-01  1.2700845e+00 */
+    { 0x3f800000,0x3fc583ab }, /* 417:  1.0000000e+00  1.5430807e+00 */
+    { 0xbcf9902d,0x3f800f35 }, /* 418: -3.0464256e-02  1.0004641e+00 */
+    { 0x4032c61f,0x41032c88 }, /* 419:  2.7933424e+00  8.1983719e+00 */
+    { 0x3f728987,0x3fbddf85 }, /* 420:  9.4741100e-01  1.4833838e+00 */
+    { 0x3fc11489,0x4017b5aa }, /* 421:  1.5084392e+00  2.3704629e+00 */
+    { 0x3f9e99cf,0x3fef7dc4 }, /* 422:  1.2390689e+00  1.8710256e+00 */
+    { 0x405c53a2,0x417a66f6 }, /* 423:  3.4426045e+00  1.5650137e+01 */
+    { 0xbe3b81f8,0x3f8226e6 }, /* 424: -1.8311298e-01  1.0168121e+00 */
+    { 0xbf23130e,0x3f9adc32 }, /* 425: -6.3700950e-01  1.2098448e+00 */
+    { 0xbf0831de,0x3f928bab }, /* 426: -5.3201091e-01  1.1448873e+00 */
+    { 0xbf270a61,0x3f9c3aac }, /* 427: -6.5250212e-01  1.2205405e+00 */
+    { 0xbf6548af,0x3fb6dd2d }, /* 428: -8.9564031e-01  1.4286247e+00 */
+    { 0xbfdb82a8,0x40378f3d }, /* 429: -1.7149248e+00  2.8681176e+00 */
+    { 0x3f9c3f75,0x3febcf87 }, /* 430:  1.2206866e+00  1.8422707e+00 */
+    { 0x3f69e654,0x3fb93f9f }, /* 431:  9.1367078e-01  1.4472541e+00 */
+    { 0xbfc2b83b,0x40197bdf }, /* 432: -1.5212473e+00  2.3981855e+00 */
+    { 0x3f27b654,0x3f9c76f9 }, /* 433:  6.5512586e-01  1.2223808e+00 */
+    { 0x41801924,0x4a89441a }, /* 434:  1.6012276e+01  4.4979330e+06 */
+    { 0x3f3d4e34,0x3fa49ee9 }, /* 435:  7.3947453e-01  1.2860996e+00 */
+    { 0xbdd1d99a,0x3f80ac2c }, /* 436: -1.0246582e-01  1.0052543e+00 */
+    { 0x408d2d0f,0x4224d9f8 }, /* 437:  4.4117503e+00  4.1212860e+01 */
+    { 0xbf62bd3f,0x3fb59328 }, /* 438: -8.8570017e-01  1.4185534e+00 */
+    { 0xbf177b0b,0x3f9711f1 }, /* 439: -5.9172124e-01  1.1802350e+00 */
+    { 0xbf25d06d,0x3f9bcd47 }, /* 440: -6.4771158e-01  1.2172021e+00 */
+    { 0x3f657ab5,0x3fb6f6b5 }, /* 441:  8.9640361e-01  1.4294039e+00 */
+    { 0x40052a20,0x4082287e }, /* 442:  2.0806961e+00  4.0674429e+00 */
+    { 0x3ee52553,0x3f8d08e2 }, /* 443:  4.4755039e-01  1.1018336e+00 */
+    { 0xbfc1c2c3,0x40187171 }, /* 444: -1.5137562e+00  2.3819239e+00 */
+    { 0xc0130935,0x40a0c963 }, /* 445: -2.2974370e+00  5.0245833e+00 */
+    { 0xc008389f,0x408855a0 }, /* 446: -2.1284559e+00  4.2604523e+00 */
+    { 0x3f9718fd,0x3fe407dc }, /* 447:  1.1804501e+00  1.7814898e+00 */
+    { 0x400fbe2d,0x4098e367 }, /* 448:  2.2459824e+00  4.7777591e+00 */
+    { 0xbec69d29,0x3f89c08a }, /* 449: -3.8791779e-01  1.0761883e+00 */
+    { 0xbed8302f,0x3f8b94be }, /* 450: -4.2224261e-01  1.0904768e+00 */
+    { 0xbfdeab30,0x403bdc60 }, /* 451: -1.7395992e+00  2.9353256e+00 */
+    { 0xbeca3b7d,0x3f8a1d87 }, /* 452: -3.9498511e-01  1.0790261e+00 */
+    { 0x3fd44925,0x402e22ea }, /* 453:  1.6584822e+00  2.7208810e+00 */
+    { 0xbfe8669b,0x4049d897 }, /* 454: -1.8156313e+00  3.1538446e+00 */
+    { 0xbf65226e,0x3fb6c9ab }, /* 455: -8.9505661e-01  1.4280294e+00 */
+    { 0x3e6b3833,0x3f836450 }, /* 456:  2.2970657e-01  1.0264988e+00 */
+    { 0x3bdc158c,0x3f8000bd }, /* 457:  6.7164358e-03  1.0000225e+00 */
+    { 0xbf87f30e,0x3fcf3e59 }, /* 458: -1.0621049e+00  1.6190902e+00 */
+    { 0xbf2d115d,0x3f9e61b2 }, /* 459: -6.7604619e-01  1.2373564e+00 */
+    { 0x3f9c2e01,0x3febb489 }, /* 460:  1.2201539e+00  1.8414470e+00 */
+    { 0x3f3d6345,0x3fa4a76e }, /* 461:  7.3979598e-01  1.2863595e+00 */
+    { 0xbf6abdc2,0x3fb9b091 }, /* 462: -9.1695797e-01  1.4507009e+00 */
+    { 0x3f0e7423,0x3f945588 }, /* 463:  5.5645961e-01  1.1588602e+00 */
+    { 0x40056382,0x408299d1 }, /* 464:  2.0841985e+00  4.0812764e+00 */
+    { 0xbf9b787b,0x3fea9cc6 }, /* 465: -1.2146143e+00  1.8329093e+00 */
+    { 0x4217660d,0x5a42c13c }, /* 466:  3.7849659e+01  1.3704652e+16 */
+    { 0xbf9dc994,0x3fee35b6 }, /* 467: -1.2327142e+00  1.8610141e+00 */
+    { 0x3fe294ef,0x40415958 }, /* 468:  1.7701701e+00  3.0210781e+00 */
+    { 0x3fe5ad6a,0x4045d185 }, /* 469:  1.7943547e+00  3.0909131e+00 */
+    { 0xbfe59b65,0x4045b72d }, /* 470: -1.7938048e+00  3.0893052e+00 */
+    { 0xc023b708,0x40cfcef4 }, /* 471: -2.5580463e+00  6.4940128e+00 */
+    { 0x3f606111,0x3fb46530 }, /* 472:  8.7648112e-01  1.4093380e+00 */
+    { 0xbf65bf94,0x3fb719e7 }, /* 473: -8.9745450e-01  1.4304780e+00 */
+    { 0xbe7af0d7,0x3f83dcdc }, /* 474: -2.4505936e-01  1.0301776e+00 */
+    { 0xbe3ea095,0x3f82396f }, /* 475: -1.8615945e-01  1.0173777e+00 */
+    { 0x3f63b7d5,0x3fb6118f }, /* 476:  8.8952380e-01  1.4224108e+00 */
+    { 0xbefce547,0x3f8fef32 }, /* 477: -4.9393675e-01  1.1244872e+00 */
+    { 0x3f99f99d,0x3fe854bf }, /* 478:  1.2029301e+00  1.8150862e+00 */
+    { 0x3fdb6d0f,0x40377238 }, /* 479:  1.7142657e+00  2.8663464e+00 */
+    { 0x3f6ef2e2,0x3fbbed07 }, /* 480:  9.3339360e-01  1.4681710e+00 */
+    { 0xc01c8c2f,0x40ba11e5 }, /* 481: -2.4460561e+00  5.8146844e+00 */
+    { 0xbf057b8b,0x3f91cc3d }, /* 482: -5.2141637e-01  1.1390454e+00 */
+    { 0xbfd33fbe,0x402cd494 }, /* 483: -1.6503828e+00  2.7004747e+00 */
+    { 0x3f66e29a,0x3fb7af35 }, /* 484:  9.0189517e-01  1.4350344e+00 */
+    { 0x3f97048d,0x3fe3e9bd }, /* 485:  1.1798264e+00  1.7805706e+00 */
+    { 0xc03e63bf,0x411d199d }, /* 486: -2.9748380e+00  9.8187532e+00 */
+    { 0xbf9e66fe,0x3fef2d7b }, /* 487: -1.2375181e+00  1.8685755e+00 */
+    { 0xbfe2be3e,0x40419443 }, /* 488: -1.7714307e+00  3.0246742e+00 */
+    { 0xbecf98ee,0x3f8aaaa6 }, /* 489: -4.0546364e-01  1.0833328e+00 */
+    { 0x3eb0dbdd,0x3f87b675 }, /* 490:  3.4542742e-01  1.0602556e+00 */
+    { 0x3fcd02cb,0x4025355e }, /* 491:  1.6016477e+00  2.5813823e+00 */
+    { 0x3f655cac,0x3fb6e760 }, /* 492:  8.9594531e-01  1.4289360e+00 */
+    { 0x3f800000,0x3fc583ab }, /* 493:  1.0000000e+00  1.5430807e+00 */
+    { 0x4055141b,0x415fa605 }, /* 494:  3.3293521e+00  1.3978032e+01 */
+    { 0xbf99cbe6,0x3fe80f8e }, /* 495: -1.2015350e+00  1.8129747e+00 */
+    { 0x405cd0b3,0x417c5129 }, /* 496:  3.4502380e+00  1.5769814e+01 */
+    { 0x3f6451d3,0x3fb65f93 }, /* 497:  8.9187354e-01  1.4247917e+00 */
+    { 0xbf377422,0x3fa24c19 }, /* 498: -7.1661580e-01  1.2679473e+00 */
+    { 0xbff77bf1,0x4061dbfb }, /* 499: -1.9334699e+00  3.5290515e+00 */
+    { 0x3fe29abb,0x4041619b }, /* 500:  1.7703470e+00  3.0215824e+00 */
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]:  %#lx\n", index - 1, v.lo);
+#endif
+    exit (index ? index : -1);
+}
+
+int main ()
+{
+    union lofl_u x, z;
+    unsigned long v1, z1, r;
+    int i;
+    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	x.lo = pgm_read_dword (& t[i].x);
+	z.lo = pgm_read_dword (& t[i].z);
+	v.fl = cosh (x.fl);
+	
+	v1 = (v.lo < 0) ? (unsigned long)~(v.lo) : v.lo + 0x80000000;
+	z1 = (z.lo < 0) ? (unsigned long)~(z.lo) : z.lo + 0x80000000;
+	r = (v1 >= z1) ? v1 - z1 : z1 - v1;
+	
+	if (r > 72) x_exit (i+1);
+    }
+    return 0;
+}
diff --git a/tests/simulate/math/exp-01.c b/tests/simulate/math/exp-01.c
new file mode 100644
index 0000000..c211a0d
--- /dev/null
+++ b/tests/simulate/math/exp-01.c
@@ -0,0 +1,117 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of exp() function.
+   $Id$
+ */
+#include <math.h>
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+volatile union lofl_u v = { .lo = 1 };
+
+PROGMEM const struct {		/* Table of test cases.	*/
+    union lofl_u x;		/* argument	*/
+    union lofl_u z;		/* exp(x)	*/
+} t[] = {
+
+    /* Zero	*/
+    { { .fl=  0.0 },	{ .fl= 1 } },
+    { { .fl= -0.0 },	{ .fl= 1 } },
+    
+    /* Inf	*/
+    { { 0x7f800000 },	{ 0x7f800000 } },
+    { { 0xff800000 },	{ 0x00000000 } },
+
+    /* Subnormal	*/
+    { { 0x00000001 },	{ .fl= 1 } },
+    { { 0x00000100 },	{ .fl= 1 } },
+    { { 0x00010000 },	{ .fl= 1 } },
+    { { 0x007fffff },	{ .fl= 1 } },
+    { { 0x80000001 },	{ .fl= 1 } },
+    { { 0x80000100 },	{ .fl= 1 } },
+    { { 0x80010000 },	{ .fl= 1 } },
+    { { 0x807fffff },	{ .fl= 1 } },
+
+    /* Arg too small	*/
+    { { 0xc3000000 },	{ .fl= 0 } },
+    { { 0xc3800000 },	{ .fl= 0 } },
+    { { 0xc3ffffff },	{ .fl= 0 } },
+    { { 0xc4000000 },	{ .fl= 0 } },
+    { { 0xff7fffff },	{ .fl= 0 } },
+
+    /* Some values	*/
+    { { .fl=  1.0 },	{ 0x402df854 } },
+    { { .fl= -1.0 },	{ 0x3ebc5ab2 } },
+    
+    /* Near 0.0	*/
+    { { .fl= 0x0.000002p0 }, { .fl= 0x1.000002p0 } },
+    { { .fl= 0x0.000004p0 }, { .fl= 0x1.000004p0 } },
+    { { .fl= 0x0.000006p0 }, { .fl= 0x1.000006p0 } },
+    { { .fl= 0x0.000010p0 }, { .fl= 0x1.000010p0 } },
+    { { .fl= 0x0.000100p0 }, { .fl= 0x1.000100p0 } },
+    { { .fl= 0x0.000800p0 }, { .fl= 0x1.000800p0 } },
+
+    { { .fl= -0x0.000001p0 }, { .fl= 0x0.ffffffp0 } },
+    { { .fl= -0x0.000002p0 }, { .fl= 0x0.fffffep0 } },
+    { { .fl= -0x0.000003p0 }, { .fl= 0x0.fffffdp0 } },
+    { { .fl= -0x0.000010p0 }, { .fl= 0x0.fffff0p0 } },
+    { { .fl= -0x0.000100p0 }, { .fl= 0x0.ffff00p0 } },
+    { { .fl= -0x0.001000p0 }, { .fl= 0x0.fff000p0 } },
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]:  %#lx\n", index - 1, v.lo);
+#endif
+    exit (index ? index : -1);
+}
+
+int main ()
+{
+    union lofl_u x, z;
+    int i;
+    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	x.lo = pgm_read_dword (& t[i].x);
+	z.lo = pgm_read_dword (& t[i].z);
+	v.fl = exp (x.fl);
+	/* Comparison is integer to verify the zero sign.	*/
+	if (v.lo != z.lo)
+	    x_exit (i+1);
+    }
+    return 0;
+}
diff --git a/tests/simulate/math/exp-500.c b/tests/simulate/math/exp-500.c
new file mode 100644
index 0000000..aaae9b3
--- /dev/null
+++ b/tests/simulate/math/exp-500.c
@@ -0,0 +1,579 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of exp() function. 500 random cases.
+   $Id$
+ */
+#include <math.h>
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+volatile union lofl_u v = { .lo = 1 };
+
+PROGMEM const struct {		/* Table of test cases.	*/
+    long x;		/* argument	*/
+    long z;		/* exp(x)	*/
+} t[] = {
+
+    /* x, exp(x)	*/
+    { 0xbf59d8bf,0x3edaa02d }, /*   1: -8.5096353e-01  4.2700329e-01 */
+    { 0xbd4896e7,0x3f73c3e3 }, /*   2: -4.8972037e-02  9.5220774e-01 */
+    { 0x3a49825a,0x3f801933 }, /*   3:  7.6869654e-04  1.0007690e+00 */
+    { 0xbed283f8,0x3f29b26d }, /*   4: -4.1116309e-01  6.6287881e-01 */
+    { 0xb8439b67,0x3f7ffcf2 }, /*   5: -4.6636353e-05  9.9995339e-01 */
+    { 0x404ecfee,0x41ca8766 }, /*   6:  3.2314410e+00  2.5316113e+01 */
+    { 0x3f1a0da4,0x3fe9a501 }, /*   7:  6.0177064e-01  1.8253480e+00 */
+    { 0x3e70295f,0x3fa1d52c }, /*   8:  2.3453282e-01  1.2643180e+00 */
+    { 0xbf0a41e9,0x3f152c62 }, /*   9: -5.4006821e-01  5.8270848e-01 */
+    { 0xbefe1130,0x3f1bdbf0 }, /*  10: -4.9622488e-01  6.0882473e-01 */
+    { 0xbfe04c34,0x3e3187fc }, /*  11: -1.7523255e+00  1.7337030e-01 */
+    { 0x3fe801a3,0x40c40897 }, /*  12:  1.8125499e+00  6.1260486e+00 */
+    { 0x3cfc6675,0x3f840151 }, /*  13:  3.0810574e-02  1.0312902e+00 */
+    { 0xb2099351,0x3f800000 }, /*  14: -8.0079454e-09  1.0000000e+00 */
+    { 0x3e862c0a,0x3fa65938 }, /*  15:  2.6205474e-01  1.2995977e+00 */
+    { 0xbf12ec5d,0x3f10354f }, /*  16: -5.7391912e-01  5.6331342e-01 */
+    { 0xbe465164,0x3f52ed11 }, /*  17: -1.9366986e-01  8.2392985e-01 */
+    { 0xbf139d57,0x3f0fd1c0 }, /*  18: -5.7661957e-01  5.6179428e-01 */
+    { 0xc028a2b3,0x3d92e403 }, /*  19: -2.6349304e+00  7.1723960e-02 */
+    { 0x392c9b0d,0x3f800565 }, /*  20:  1.6460959e-04  1.0001646e+00 */
+    { 0xbcd29852,0x3f7980b6 }, /*  21: -2.5707398e-02  9.7462022e-01 */
+    { 0xc1325a04,0x3771e859 }, /*  22: -1.1146976e+01  1.4418817e-05 */
+    { 0x3f651c3c,0x401c9fa1 }, /*  23:  8.9496207e-01  2.4472430e+00 */
+    { 0xbf8c5b53,0x3eab056f }, /*  24: -1.0965370e+00  3.3402583e-01 */
+    { 0x3f0fff8b,0x3fe0a53b }, /*  25:  5.6249303e-01  1.7550424e+00 */
+    { 0x3db81790,0x3f8c09ea }, /*  26:  8.9888692e-02  1.0940526e+00 */
+    { 0x3bbd94a6,0x3f80be21 }, /*  27:  5.7855425e-03  1.0058023e+00 */
+    { 0xc0ee188a,0x3a19e085 }, /*  28: -7.4404955e+00  5.8699428e-04 */
+    { 0xbf7a9fab,0x3ec05a0d }, /*  29: -9.7899884e-01  3.7568703e-01 */
+    { 0xbe93fd17,0x3f3fbd49 }, /*  30: -2.8904030e-01  7.4898201e-01 */
+    { 0x3f7071c5,0x4023b6b4 }, /*  31:  9.3923599e-01  2.5580263e+00 */
+    { 0xbd794ee1,0x3f70e20a }, /*  32: -6.0866240e-02  9.4094908e-01 */
+    { 0xbf02b814,0x3f19a1a3 }, /*  33: -5.1062131e-01  6.0012263e-01 */
+    { 0x3f89808b,0x403b604f }, /*  34:  1.0742353e+00  2.9277532e+00 */
+    { 0x3f090701,0x3fda9c63 }, /*  35:  5.3526312e-01  1.7078975e+00 */
+    { 0xbf710550,0x3ec7b447 }, /*  36: -9.4148731e-01  3.9004728e-01 */
+    { 0xb2cb5c9f,0x3f800000 }, /*  37: -2.3674430e-08  1.0000000e+00 */
+    { 0xc1672a26,0x350ea418 }, /*  38: -1.4447790e+01  5.3137910e-07 */
+    { 0x3e4ff92a,0x3f9cd325 }, /*  39:  2.0309892e-01  1.2251936e+00 */
+    { 0xbf168578,0x3f0e3211 }, /*  40: -5.8797407e-01  5.5545145e-01 */
+    { 0xbf071a9a,0x3f1705b8 }, /*  41: -5.2774966e-01  5.8993101e-01 */
+    { 0x3e56e779,0x3f9de3cd }, /*  42:  2.0986737e-01  1.2335144e+00 */
+    { 0xbdaaff1e,0x3f6b7e52 }, /*  43: -8.3494410e-02  9.1989625e-01 */
+    { 0xbe0ec0b3,0x3f5eb00f }, /*  44: -1.3940696e-01  8.6987394e-01 */
+    { 0x3f8026b1,0x402e2cf3 }, /*  45:  1.0011808e+00  2.7214935e+00 */
+    { 0xc089b525,0x3c5d8fa1 }, /*  46: -4.3033624e+00  1.3523013e-02 */
+    { 0xbff6903f,0x3e152fa7 }, /*  47: -1.9262770e+00  1.4568959e-01 */
+    { 0x3fe7fe99,0x40c403f0 }, /*  48:  1.8124572e+00  6.1254807e+00 */
+    { 0x3f756cbf,0x4026ee0b }, /*  49:  9.5869058e-01  2.6082790e+00 */
+    { 0xbe5fe762,0x3f4db89a }, /*  50: -2.1865609e-01  8.0359805e-01 */
+    { 0x3ce4c37f,0x3f839ff3 }, /*  51:  2.7925251e-02  1.0283188e+00 */
+    { 0xbd536891,0x3f731f46 }, /*  52: -5.1613394e-02  9.4969594e-01 */
+    { 0x3d1cbb10,0x3f84fe25 }, /*  53:  3.8264334e-02  1.0390059e+00 */
+    { 0xb864d9d5,0x3f7ffc6d }, /*  54: -5.4562308e-05  9.9994546e-01 */
+    { 0x4049b073,0x41baf2f5 }, /*  55:  3.1513946e+00  2.3368631e+01 */
+    { 0xbf62cd7c,0x3ed31c04 }, /*  56: -8.8594794e-01  4.1232312e-01 */
+    { 0xbba71e99,0x3f7eb29d }, /*  57: -5.1000831e-03  9.9491292e-01 */
+    { 0xbf6b89e9,0x3ecc06df }, /*  58: -9.2007309e-01  3.9848992e-01 */
+    { 0x40c3fe26,0x43e4854d }, /*  59:  6.1247740e+00  4.5704141e+02 */
+    { 0xbd0d7cdf,0x3f774ed9 }, /*  60: -3.4542914e-02  9.6604687e-01 */
+    { 0x414adac2,0x489c9d5d }, /*  61:  1.2678408e+01  3.2074691e+05 */
+    { 0xbc91d713,0x3f7b7b9a }, /*  62: -1.7802751e-02  9.8235476e-01 */
+    { 0x3b6131b9,0x3f8070ca }, /*  63:  3.4361912e-03  1.0034420e+00 */
+    { 0xbf74ef1b,0x3ec4acba }, /*  64: -9.5677346e-01  3.8413030e-01 */
+    { 0x3e6e0519,0x3fa17e9d }, /*  65:  2.3244132e-01  1.2616764e+00 */
+    { 0xbde79c86,0x3f64a02a }, /*  66: -1.1309151e-01  8.9306891e-01 */
+    { 0x3ccc49f8,0x3f833b6e }, /*  67:  2.4937615e-02  1.0252512e+00 */
+    { 0xbe245786,0x3f5a0abb }, /*  68: -1.6049013e-01  8.5172623e-01 */
+    { 0xbe3f37c6,0x3f5464c4 }, /*  69: -1.8673620e-01  8.2966256e-01 */
+    { 0xc1e5ab0c,0x2abfa77c }, /*  70: -2.8708519e+01  3.4044631e-13 */
+    { 0x3d1f0502,0x3f85112c }, /*  71:  3.8823135e-02  1.0395865e+00 */
+    { 0xbdc5b989,0x3f6870a4 }, /*  72: -9.6545286e-02  9.0796876e-01 */
+    { 0xbf77b435,0x3ec28ee3 }, /*  73: -9.6759349e-01  3.7999639e-01 */
+    { 0xc0569ccb,0x3d0f3aae }, /*  74: -3.3533199e+00  3.4968071e-02 */
+    { 0x3f732ee9,0x4025797e }, /*  75:  9.4993454e-01  2.5855403e+00 */
+    { 0xbf10e697,0x3f115a22 }, /*  76: -5.6601852e-01  5.6778157e-01 */
+    { 0xa9036942,0x3f800000 }, /*  77: -2.9179140e-14  1.0000000e+00 */
+    { 0xbf08edd8,0x3f15f30f }, /*  78: -5.3487921e-01  5.8574003e-01 */
+    { 0x40cf0f04,0x4421770c }, /*  79:  6.4705830e+00  6.4586011e+02 */
+    { 0xbe7d449e,0x3f47e7d7 }, /*  80: -2.4733207e-01  7.8088135e-01 */
+    { 0x3f81a19a,0x4030338a }, /*  81:  1.0127442e+00  2.7531457e+00 */
+    { 0x41ed41da,0x54dcbe6a }, /*  82:  2.9657154e+01  7.5846994e+12 */
+    { 0xbf73f2b2,0x3ec56f04 }, /*  83: -9.5292199e-01  3.8561261e-01 */
+    { 0xbdb38477,0x3f6a8403 }, /*  84: -8.7655000e-02  9.1607684e-01 */
+    { 0xbf12d13b,0x3f104498 }, /*  85: -5.7350510e-01  5.6354666e-01 */
+    { 0xc09b8066,0x3bfe1d41 }, /*  86: -4.8594236e+00  7.7549522e-03 */
+    { 0xc26e7ee7,0x147ca00c }, /*  87: -5.9623928e+01  1.2754312e-26 */
+    { 0x3eaeb738,0x3fb40e85 }, /*  88:  3.4124160e-01  1.4066931e+00 */
+    { 0x3e7ff0af,0x3fa4587d }, /*  89:  2.4994157e-01  1.2839504e+00 */
+    { 0x420dbe63,0x590b6a02 }, /*  90:  3.5435925e+01  2.4525987e+15 */
+    { 0x414a92bb,0x4899e27e }, /*  91:  1.2660823e+01  3.1515594e+05 */
+    { 0xbefac222,0x3f1cdea0 }, /*  92: -4.8976237e-01  6.1277199e-01 */
+    { 0xabbddca8,0x3f800000 }, /*  93: -1.3490502e-12  1.0000000e+00 */
+    { 0xbf763f72,0x3ec3aafe }, /*  94: -9.6190560e-01  3.8216394e-01 */
+    { 0x410c4c2a,0x45c8e90d }, /*  95:  8.7685947e+00  6.4291313e+03 */
+    { 0x3f77dc63,0x402886a4 }, /*  96:  9.6820658e-01  2.6332178e+00 */
+    { 0xbf136560,0x3f0ff134 }, /*  97: -5.7576561e-01  5.6227422e-01 */
+    { 0xc0a92363,0x3ba5f124 }, /*  98: -5.2855697e+00  5.0641466e-03 */
+    { 0xc0841649,0x3c840d38 }, /*  99: -4.1277204e+00  1.6119584e-02 */
+    { 0xbe578590,0x3f4f6977 }, /* 100: -2.1047044e-01  8.1020302e-01 */
+    { 0x3f7aebed,0x402a8d8b }, /* 101:  9.8016244e-01  2.6648891e+00 */
+    { 0x3db158a6,0x3f8b9406 }, /* 102:  8.6594865e-02  1.0904548e+00 */
+    { 0xbf9d5c9f,0x3e95bec9 }, /* 103: -1.2293891e+00  2.9247120e-01 */
+    { 0xbf5103c6,0x3ee24cc2 }, /* 104: -8.1646383e-01  4.4199187e-01 */
+    { 0xbfbec10a,0x3e66b85f }, /* 105: -1.4902661e+00  2.2531269e-01 */
+    { 0x3e4ac4f9,0x3f9c07a4 }, /* 106:  1.9801702e-01  1.2189832e+00 */
+    { 0xc4152ca5,0x00000000 }, /* 107: -5.9669757e+02  0.0000000e+00 */
+    { 0xbf0cb76b,0x3f13bf52 }, /* 108: -5.4967374e-01  5.7713807e-01 */
+    { 0x3efb88b3,0x3fd1341a }, /* 109:  4.9127731e-01  1.6344025e+00 */
+    { 0x3f7c9f49,0x402bb08e }, /* 110:  9.8680550e-01  2.6826510e+00 */
+    { 0xbff6d075,0x3e14e4e3 }, /* 111: -1.9282366e+00  1.4540438e-01 */
+    { 0xbe128903,0x3f5ddddf }, /* 112: -1.4310078e-01  8.6666673e-01 */
+    { 0xc0ca3e4c,0x3aebe5c4 }, /* 113: -6.3201046e+00  1.7997553e-03 */
+    { 0xc082e0ad,0x3c89234e }, /* 114: -4.0899262e+00  1.6740467e-02 */
+    { 0xbc4db594,0x3f7cce4f }, /* 115: -1.2555499e-02  9.8752302e-01 */
+    { 0xbe80424c,0x3f4745ae }, /* 116: -2.5050581e-01  7.7840698e-01 */
+    { 0x3e502455,0x3f9cd9c2 }, /* 117:  2.0326360e-01  1.2253954e+00 */
+    { 0xbeeedd90,0x3f208e5b }, /* 118: -4.6653414e-01  6.2717217e-01 */
+    { 0x3fc1ee78,0x40919836 }, /* 119:  1.5150900e+00  4.5498304e+00 */
+    { 0x3effa6d1,0x3fd2e48d }, /* 120:  4.9931958e-01  1.6475998e+00 */
+    { 0xbe3c24c3,0x3f550840 }, /* 121: -1.8373398e-01  8.3215714e-01 */
+    { 0x3feb5be1,0x40c93c5d }, /* 122:  1.8387414e+00  6.2886186e+00 */
+    { 0xbf9ee0c0,0x3e93fb66 }, /* 123: -1.2412338e+00  2.8902739e-01 */
+    { 0x3e671656,0x3fa067a9 }, /* 124:  2.2567114e-01  1.2531635e+00 */
+    { 0x35f7843f,0x3f80000f }, /* 125:  1.8441423e-06  1.0000018e+00 */
+    { 0x3f7533eb,0x4026c900 }, /* 126:  9.5782346e-01  2.6060181e+00 */
+    { 0xbe96fe85,0x3f3e9dfc }, /* 127: -2.9491058e-01  7.4459815e-01 */
+    { 0xc001c6eb,0x3e06c9d2 }, /* 128: -2.0277660e+00  1.3162926e-01 */
+    { 0x3fcab779,0x409bf031 }, /* 129:  1.5837241e+00  4.8730702e+00 */
+    { 0xbe5ef126,0x3f4dea18 }, /* 130: -2.1771678e-01  8.0435324e-01 */
+    { 0x3f5c45c8,0x40174f0e }, /* 131:  8.6043978e-01  2.3642001e+00 */
+    { 0xbf16d517,0x3f0e05de }, /* 132: -5.8918899e-01  5.5477703e-01 */
+    { 0xbf0bc77e,0x3f144a0c }, /* 133: -5.4601276e-01  5.7925487e-01 */
+    { 0xbe4ca18f,0x3f51a131 }, /* 134: -1.9983505e-01  8.1886584e-01 */
+    { 0x3fd06f37,0x40a30fd9 }, /* 135:  1.6283940e+00  5.0956845e+00 */
+    { 0x3cbea1d3,0x3f830378 }, /* 136:  2.3270523e-02  1.0235434e+00 */
+    { 0xc0d6068c,0x3aa33ca9 }, /* 137: -6.6882992e+00  1.2453991e-03 */
+    { 0xbfee042a,0x3e1f7cf8 }, /* 138: -1.8595021e+00  1.5575016e-01 */
+    { 0xbf193237,0x3f0cb7b4 }, /* 139: -5.9842247e-01  5.4967809e-01 */
+    { 0x3ea38685,0x3fb02a02 }, /* 140:  3.1938568e-01  1.3762820e+00 */
+    { 0x40f6fdfa,0x450c996e }, /* 141:  7.7185030e+00  2.2495894e+03 */
+    { 0x3eba24d0,0x3fb81ef0 }, /* 142:  3.6356211e-01  1.4384441e+00 */
+    { 0xbde0d9c3,0x3f6561b2 }, /* 143: -1.0979035e-01  8.9602196e-01 */
+    { 0xc08fdbf2,0x3c36d008 }, /* 144: -4.4955988e+00  1.1157997e-02 */
+    { 0xbf68f17e,0x3ece1b17 }, /* 145: -9.0993488e-01  4.0255043e-01 */
+    { 0x40284e66,0x415deec0 }, /* 146:  2.6297851e+00  1.3870789e+01 */
+    { 0xbff4d8d7,0x3e17333c }, /* 147: -1.9128674e+00  1.4765638e-01 */
+    { 0x415d9c6f,0x497ce1f7 }, /* 148:  1.3850692e+01  1.0358074e+06 */
+    { 0x3c713073,0x3f81e5f2 }, /* 149:  1.4721024e-02  1.0148299e+00 */
+    { 0xcd3094a6,0x00000000 }, /* 150: -1.8515824e+08  0.0000000e+00 */
+    { 0x4072509b,0x4230594e }, /* 151:  3.7861698e+00  4.4087212e+01 */
+    { 0x3d688d40,0x3f877a3e }, /* 152:  5.6775331e-02  1.0584180e+00 */
+    { 0xbea68fc5,0x3f38e89c }, /* 153: -3.2531562e-01  7.2229934e-01 */
+    { 0x3f521abf,0x40116ab0 }, /* 154:  8.2072061e-01  2.2721367e+00 */
+    { 0xbe78fcf3,0x3f48be2f }, /* 155: -2.4315242e-01  7.8415197e-01 */
+    { 0x3f0ab997,0x3fdc10bc }, /* 156:  5.4189438e-01  1.7192607e+00 */
+    { 0xbfc04898,0x3e63facb }, /* 157: -1.5022154e+00  2.2263639e-01 */
+    { 0xbe672bad,0x3f4c4431 }, /* 158: -2.2575255e-01  7.9791552e-01 */
+    { 0x3df5b794,0x3f90510b }, /* 159:  1.1997905e-01  1.1274732e+00 */
+    { 0x3eb9bdf3,0x3fb7f9f7 }, /* 160:  3.6277732e-01  1.4373158e+00 */
+    { 0xb68a9187,0x3f7fffbb }, /* 161: -4.1296621e-06  9.9999589e-01 */
+    { 0xc2d466ce,0x00000000 }, /* 162: -1.0620079e+02  0.0000000e+00 */
+    { 0xc0a18a42,0x3bd26a2c }, /* 163: -5.0481272e+00  6.4213481e-03 */
+    { 0x3f7d1ef0,0x402c0640 }, /* 164:  9.8875332e-01  2.6878815e+00 */
+    { 0x3f7b33d4,0x402abd79 }, /* 165:  9.8125958e-01  2.6678145e+00 */
+    { 0xbc4c4d81,0x3f7cd3dd }, /* 166: -1.2469650e-02  9.8760778e-01 */
+    { 0xbea57ca4,0x3f394c14 }, /* 167: -3.2321656e-01  7.2381711e-01 */
+    { 0x3e11d1e0,0x3f9396d3 }, /* 168:  1.4240217e-01  1.1530403e+00 */
+    { 0x37167696,0x3f80004b }, /* 169:  8.9683072e-06  1.0000089e+00 */
+    { 0xbddaaae7,0x3f661340 }, /* 170: -1.0677128e-01  8.9873123e-01 */
+    { 0xbebecf9f,0x3f305ae9 }, /* 171: -3.7267777e-01  6.8888718e-01 */
+    { 0x3f87183b,0x4037e289 }, /* 172:  1.0554270e+00  2.8732016e+00 */
+    { 0x4159981d,0x4944bcd3 }, /* 173:  1.3599637e+01  8.0583719e+05 */
+    { 0xbf588e8f,0x3edbbadf }, /* 174: -8.4592527e-01  4.2916009e-01 */
+    { 0xbdab03f9,0x3f6b7dc3 }, /* 175: -8.3503671e-02  9.1988772e-01 */
+    { 0xbf6cdca6,0x3ecaf999 }, /* 176: -9.2524183e-01  3.9643553e-01 */
+    { 0xbe54e8da,0x3f4ff116 }, /* 177: -2.0791951e-01  8.1227243e-01 */
+    { 0x3f72032f,0x4024b833 }, /* 178:  9.4536108e-01  2.5737426e+00 */
+    { 0x3fcc6bb5,0x409e0732 }, /* 179:  1.5970370e+00  4.9383783e+00 */
+    { 0x374e104d,0x3f800067 }, /* 180:  1.2282352e-05  1.0000123e+00 */
+    { 0xbf12a629,0x3f105ce0 }, /* 181: -5.7284790e-01  5.6391716e-01 */
+    { 0x3ff54b00,0x40d979c9 }, /* 182:  1.9163513e+00  6.7961164e+00 */
+    { 0xbdba189a,0x3f69c379 }, /* 183: -9.0867236e-02  9.1313893e-01 */
+    { 0x3e3d7694,0x3f9a03f4 }, /* 184:  1.8502265e-01  1.2032456e+00 */
+    { 0xbf015e1a,0x3f1a71d0 }, /* 185: -5.0534213e-01  6.0329914e-01 */
+    { 0x3fc16d25,0x40910567 }, /* 186:  1.5111433e+00  4.5319095e+00 */
+    { 0x3fd02694,0x40a2b36b }, /* 187:  1.6261773e+00  5.0844016e+00 */
+    { 0x3f73921b,0x4025b9a9 }, /* 188:  9.5144814e-01  2.5894568e+00 */
+    { 0x3eaeaf51,0x3fb40bbd }, /* 189:  3.4118131e-01  1.4066082e+00 */
+    { 0x3f1cd4c8,0x3fec3193 }, /* 190:  6.1262178e-01  1.8452629e+00 */
+    { 0x3d833d9f,0x3f887898 }, /* 191:  6.4082377e-02  1.0661802e+00 */
+    { 0xbea41692,0x3f39cdd8 }, /* 192: -3.2048470e-01  7.2579718e-01 */
+    { 0xbe5df686,0x3f4e1c84 }, /* 193: -2.1676072e-01  8.0512261e-01 */
+    { 0xbf14077a,0x3f0f962c }, /* 194: -5.7823908e-01  5.6088519e-01 */
+    { 0xbf66cb52,0x3ecfd7e6 }, /* 195: -9.0153992e-01  4.0594405e-01 */
+    { 0x3f747235,0x40264afc }, /* 196:  9.5486766e-01  2.5983267e+00 */
+    { 0x40500fa4,0x41ce8510 }, /* 197:  3.2509546e+00  2.5814972e+01 */
+    { 0x3e9f7df9,0x3faec823 }, /* 198:  3.1150797e-01  1.3654827e+00 */
+    { 0x3c3afa65,0x3f817819 }, /* 199:  1.1412238e-02  1.0114776e+00 */
+    { 0xd1ab6981,0x00000000 }, /* 200: -9.2026184e+10  0.0000000e+00 */
+    { 0x3d392aa7,0x3f85eb54 }, /* 201:  4.5206692e-02  1.0462441e+00 */
+    { 0xbf0eecd1,0x3f127a69 }, /* 202: -5.5830103e-01  5.7218033e-01 */
+    { 0x3f26b7eb,0x3ff57e91 }, /* 203:  6.5124387e-01  1.9179250e+00 */
+    { 0x40c8f592,0x440571af }, /* 204:  6.2799768e+00  5.3377631e+02 */
+    { 0xbf0955a1,0x3f15b651 }, /* 205: -5.3646284e-01  5.8481318e-01 */
+    { 0xbfdffab3,0x3e31f92b }, /* 206: -1.7498382e+00  1.7380206e-01 */
+    { 0x40709996,0x422bafac }, /* 207:  3.7593741e+00  4.2921555e+01 */
+    { 0xbf1a8c8a,0x3f0bf9d7 }, /* 208: -6.0370696e-01  5.4678100e-01 */
+    { 0xbea5e9a1,0x3f3924a6 }, /* 209: -3.2404807e-01  7.2321546e-01 */
+    { 0xbe441554,0x3f536308 }, /* 210: -1.9148761e-01  8.2572985e-01 */
+    { 0x3cd35d3c,0x3f835875 }, /* 211:  2.5801294e-02  1.0261370e+00 */
+    { 0x402aa4fd,0x416630dc }, /* 212:  2.6663201e+00  1.4386929e+01 */
+    { 0xbf17a04f,0x3f0d954d }, /* 213: -5.9228987e-01  5.5305940e-01 */
+    { 0xbfe4721b,0x3e2bdec6 }, /* 214: -1.7847322e+00  1.6784200e-01 */
+    { 0xbf8546f7,0x3eb4bf26 }, /* 215: -1.0412282e+00  3.5302085e-01 */
+    { 0xbf6678ed,0x3ed01ad6 }, /* 216: -9.0028268e-01  4.0645474e-01 */
+    { 0x3dc89e91,0x3f8d2c64 }, /* 217:  9.7958691e-02  1.1029172e+00 */
+    { 0x3d9540a5,0x3f89ad36 }, /* 218:  7.2877206e-02  1.0755985e+00 */
+    { 0xbd88e003,0x3f6f7328 }, /* 219: -6.6833518e-02  9.3535089e-01 */
+    { 0x3e4aeaf4,0x3f9c0d6d }, /* 220:  1.9816190e-01  1.2191597e+00 */
+    { 0x402355a7,0x414d5852 }, /* 221:  2.5521028e+00  1.2834063e+01 */
+    { 0x3f721652,0x4024c483 }, /* 222:  9.4565308e-01  2.5744941e+00 */
+    { 0x4166f5c9,0x49e2ce35 }, /* 223:  1.4435006e+01  1.8579906e+06 */
+    { 0xc0576403,0x3d0d7f89 }, /* 224: -3.3654792e+00  3.4545455e-02 */
+    { 0xbf72d6ee,0x3ec64a57 }, /* 225: -9.4859207e-01  3.8728592e-01 */
+    { 0xbf561235,0x3edddfb9 }, /* 226: -8.3621532e-01  4.3334749e-01 */
+    { 0x3f2b5e26,0x3ff9fe61 }, /* 227:  6.6940534e-01  1.9530755e+00 */
+    { 0x3f0f76ae,0x3fe02d41 }, /* 228:  5.6040466e-01  1.7513810e+00 */
+    { 0x4148d73f,0x488a17f3 }, /* 229:  1.2552550e+01  2.8281559e+05 */
+    { 0x3f6e4586,0x4022547c }, /* 230:  9.3074834e-01  2.5364065e+00 */
+    { 0xbf0802e6,0x3f167cec }, /* 231: -5.3129423e-01  5.8784366e-01 */
+    { 0x3f65fccc,0x401d2941 }, /* 232:  8.9838862e-01  2.4556429e+00 */
+    { 0x3f01dca2,0x3fd493a6 }, /* 233:  5.0727284e-01  1.6607559e+00 */
+    { 0xc14b2757,0x364d59f0 }, /* 234: -1.2697104e+01  3.0599731e-06 */
+    { 0xc00edb3e,0x3ddbbfd4 }, /* 235: -2.2321315e+00  1.0729948e-01 */
+    { 0x3e3be601,0x3f99c7c1 }, /* 236:  1.8349458e-01  1.2014085e+00 */
+    { 0xc1577b6a,0x35be0f8a }, /* 237: -1.3467630e+01  1.4160626e-06 */
+    { 0xbf78af8d,0x3ec1d03c }, /* 238: -9.7142869e-01  3.7854183e-01 */
+    { 0x4066f305,0x4213a7a1 }, /* 239:  3.6085827e+00  3.6913700e+01 */
+    { 0xbe43edb5,0x3f536b36 }, /* 240: -1.9133647e-01  8.2585466e-01 */
+    { 0xc072cc97,0x3cb869a7 }, /* 241: -3.7937372e+00  2.2511316e-02 */
+    { 0xc03b20db,0x3d5c0e8c }, /* 242: -2.9238803e+00  5.3724810e-02 */
+    { 0x9e1b110f,0x3f800000 }, /* 243: -8.2091593e-21  1.0000000e+00 */
+    { 0xbf6ee083,0x3ec96231 }, /* 244: -9.3311328e-01  3.9332727e-01 */
+    { 0xbd3c978c,0x3f747af1 }, /* 245: -4.6042964e-02  9.5500094e-01 */
+    { 0x38f91da2,0x3f8003e5 }, /* 246:  1.1878765e-04  1.0001189e+00 */
+    { 0x3f648d2d,0x401c4833 }, /* 247:  8.9277917e-01  2.4419067e+00 */
+    { 0x3df49d85,0x3f903d2c }, /* 248:  1.1944107e-01  1.1268668e+00 */
+    { 0x3f72b506,0x40252ac8 }, /* 249:  9.4807470e-01  2.5807362e+00 */
+    { 0xbf6812d0,0x3ececead }, /* 250: -9.0653706e-01  4.0392056e-01 */
+    { 0x3fe5fee1,0x40c0fa64 }, /* 251:  1.7968408e+00  6.0305653e+00 */
+    { 0x3f6b66d7,0x40208539 }, /* 252:  9.1953796e-01  2.5081313e+00 */
+    { 0x3f6a2d03,0x401fc0ea }, /* 253:  9.1474932e-01  2.4961495e+00 */
+    { 0xbfcf3e4e,0x3e4ad53f }, /* 254: -1.6190889e+00  1.9807909e-01 */
+    { 0xbe71323d,0x3f4a46b7 }, /* 255: -2.3554321e-01  7.9014152e-01 */
+    { 0x3f07d7ad,0x3fd999f6 }, /* 256:  5.3063470e-01  1.7000110e+00 */
+    { 0x410e63d6,0x45e4fb15 }, /* 257:  8.8993740e+00  7.3273853e+03 */
+    { 0xbf76b366,0x3ec35272 }, /* 258: -9.6367490e-01  3.8148838e-01 */
+    { 0xc03a7a6e,0x3d5e4db3 }, /* 259: -2.9137225e+00  5.4273318e-02 */
+    { 0xc34b2ab5,0x00000000 }, /* 260: -2.0316682e+02  0.0000000e+00 */
+    { 0xbe53f792,0x3f50221b }, /* 261: -2.0699909e-01  8.1302041e-01 */
+    { 0xbfd5908f,0x3e410f32 }, /* 262: -1.6684741e+00  1.8853453e-01 */
+    { 0x247b4744,0x3f800000 }, /* 263:  5.4487313e-17  1.0000000e+00 */
+    { 0xbf066051,0x3f1773c5 }, /* 264: -5.2490717e-01  5.9161025e-01 */
+    { 0xbe88fa4b,0x3f43e855 }, /* 265: -2.6753458e-01  7.6526386e-01 */
+    { 0xbff47b6e,0x3e17a1bc }, /* 266: -1.9100168e+00  1.4807791e-01 */
+    { 0xc151907c,0x36098f14 }, /* 267: -1.3097775e+01  2.0497873e-06 */
+    { 0xbd28db63,0x3f75a938 }, /* 268: -4.1224848e-02  9.5961332e-01 */
+    { 0x3f0ed713,0x3fdfa1a9 }, /* 269:  5.5796927e-01  1.7471210e+00 */
+    { 0xb9c41d10,0x3f7fe77e }, /* 270: -3.7405686e-04  9.9962604e-01 */
+    { 0x3eb5b482,0x3fb68814 }, /* 271:  3.5489279e-01  1.4260278e+00 */
+    { 0xbfe73aaa,0x3e282c53 }, /* 272: -1.8064778e+00  1.6423158e-01 */
+    { 0x3e66cd02,0x3fa05c2d }, /* 273:  2.2539142e-01  1.2528130e+00 */
+    { 0xbe019d6a,0x3f61902e }, /* 274: -1.2657705e-01  8.8110626e-01 */
+    { 0x3fe2909c,0x40bbdfdd }, /* 275:  1.7700381e+00  5.8710771e+00 */
+    { 0xcd95d263,0x00000000 }, /* 276: -3.1419914e+08  0.0000000e+00 */
+    { 0x40b0be02,0x437a6f09 }, /* 277:  5.5231943e+00  2.5043373e+02 */
+    { 0xbfdea798,0x3e33d31d }, /* 278: -1.7394896e+00  1.7561002e-01 */
+    { 0x3fbed4cc,0x408e1c4a }, /* 279:  1.4908690e+00  4.4409533e+00 */
+    { 0xbdb85590,0x3f69f6fa }, /* 280: -9.0006948e-02  9.1392481e-01 */
+    { 0x3eb0e909,0x3fb4d485 }, /* 281:  3.4552792e-01  1.4127356e+00 */
+    { 0xbe945cce,0x3f3f9974 }, /* 282: -2.8977054e-01  7.4843526e-01 */
+    { 0xbe9eae56,0x3f3bc6d7 }, /* 283: -3.0992383e-01  7.3350281e-01 */
+    { 0xc07e835d,0x3c99917e }, /* 284: -3.9767678e+00  1.8746134e-02 */
+    { 0xc828318c,0x00000000 }, /* 285: -1.7223019e+05  0.0000000e+00 */
+    { 0xbd10641b,0x3f7721fd }, /* 286: -3.5251718e-02  9.6536237e-01 */
+    { 0xbe3adab1,0x3f554cf6 }, /* 287: -1.8247487e-01  8.3320558e-01 */
+    { 0xc049aedb,0x3d2f4b75 }, /* 288: -3.1512973e+00  4.2796571e-02 */
+    { 0x42097e67,0x5840b94d }, /* 289:  3.4373440e+01  8.4760837e+14 */
+    { 0xbe6ede19,0x3f4abc9c }, /* 290: -2.3326911e-01  7.9194045e-01 */
+    { 0xc0480eac,0x3d33cdfa }, /* 291: -3.1258955e+00  4.3897606e-02 */
+    { 0x3f2ba443,0x3ffa42e3 }, /* 292:  6.7047518e-01  1.9551662e+00 */
+    { 0x3cc642ec,0x3f8322b8 }, /* 293:  2.4201833e-02  1.0244970e+00 */
+    { 0xc011c2e9,0x3dd1ff78 }, /* 294: -2.2775214e+00  1.0253805e-01 */
+    { 0x4096be9b,0x42de4659 }, /* 295:  4.7107673e+00  1.1113740e+02 */
+    { 0x4043a8b9,0x41aa2388 }, /* 296:  3.0571730e+00  2.1267349e+01 */
+    { 0xbbb4118c,0x3f7e98da }, /* 297: -5.4952558e-03  9.9451983e-01 */
+    { 0xbd881d17,0x3f6f89f4 }, /* 298: -6.6461734e-02  9.3569875e-01 */
+    { 0xbe5d0fd4,0x3f4e4af8 }, /* 299: -2.1588069e-01  8.0583143e-01 */
+    { 0xc0d4b220,0x3aaa29cb }, /* 300: -6.6467438e+00  1.2982426e-03 */
+    { 0xadccaf1e,0x3f800000 }, /* 301: -2.3269883e-11  1.0000000e+00 */
+    { 0x3eace1f7,0x3fb369ca }, /* 302:  3.3766147e-01  1.4016659e+00 */
+    { 0xc3b65eb6,0x00000000 }, /* 303: -3.6473993e+02  0.0000000e+00 */
+    { 0xbf3092b8,0x3f006fe1 }, /* 304: -6.8973875e-01  5.0170714e-01 */
+    { 0xbe961555,0x3f3ef4e1 }, /* 305: -2.9313150e-01  7.4592406e-01 */
+    { 0xce0a6616,0x00000000 }, /* 306: -5.8048653e+08  0.0000000e+00 */
+    { 0x3d094375,0x3f845cb7 }, /* 307:  3.3511598e-02  1.0340794e+00 */
+    { 0x3f75fbec,0x40274b81 }, /* 308:  9.6087527e-01  2.6139834e+00 */
+    { 0xbf6b08c5,0x3ecc6de5 }, /* 309: -9.1810256e-01  3.9927593e-01 */
+    { 0x3f0a60f5,0x3fdbc498 }, /* 310:  5.4054195e-01  1.7169371e+00 */
+    { 0xbf79c8d6,0x3ec0fbbc }, /* 311: -9.7572076e-01  3.7692058e-01 */
+    { 0x3fdcee5a,0x40b3c8e0 }, /* 312:  1.7260239e+00  5.6182709e+00 */
+    { 0xc0b33115,0x3b7267e6 }, /* 313: -5.5997415e+00  3.6988198e-03 */
+    { 0x3f77f0f2,0x4028942d }, /* 314:  9.6852028e-01  2.6340439e+00 */
+    { 0x399d22d6,0x3f8009d3 }, /* 315:  2.9971328e-04  1.0002998e+00 */
+    { 0xbfb7d492,0x3e738b3c }, /* 316: -1.4361746e+00  2.3783582e-01 */
+    { 0x3e8c635d,0x3fa86163 }, /* 317:  2.7419558e-01  1.3154720e+00 */
+    { 0x40090c54,0x41082daf }, /* 318:  2.1413774e+00  8.5111532e+00 */
+    { 0xbf6af4e1,0x3ecc7dc8 }, /* 319: -9.1779906e-01  3.9939713e-01 */
+    { 0x41c0cc04,0x50da0844 }, /* 320:  2.4099617e+01  2.9263798e+10 */
+    { 0x3e39c19e,0x3f99757c }, /* 321:  1.8140265e-01  1.1988978e+00 */
+    { 0xc0164d82,0x3dc39cee }, /* 322: -2.3484807e+00  9.5514163e-02 */
+    { 0x405847a4,0x41ead19d }, /* 323:  3.3793726e+00  2.9352350e+01 */
+    { 0xbf24542f,0x3f06bab6 }, /* 324: -6.4190954e-01  5.2628648e-01 */
+    { 0xbced21b9,0x3f78b224 }, /* 325: -2.8946744e-02  9.7146821e-01 */
+    { 0x3c1606c0,0x3f812d6e }, /* 326:  9.1568828e-03  1.0091989e+00 */
+    { 0x3a8e205e,0x3f80238d }, /* 327:  1.0843386e-03  1.0010849e+00 */
+    { 0xc07ee2d3,0x3c98ad19 }, /* 328: -3.9825943e+00  1.8637227e-02 */
+    { 0x3fe0ddf8,0x40b96620 }, /* 329:  1.7567739e+00  5.7937164e+00 */
+    { 0xbfead5bf,0x3e238074 }, /* 330: -1.8346480e+00  1.5966970e-01 */
+    { 0xc409da53,0x00000000 }, /* 331: -5.5141132e+02  0.0000000e+00 */
+    { 0xc001407b,0x3e07e61e }, /* 332: -2.0195606e+00  1.3271376e-01 */
+    { 0xbfde5f77,0x3e34388e }, /* 333: -1.7372884e+00  1.7599699e-01 */
+    { 0xbfdb296f,0x3e38cc99 }, /* 334: -1.7122020e+00  1.8046798e-01 */
+    { 0xb9fe8d1b,0x3f7fe030 }, /* 335: -4.8551787e-04  9.9951458e-01 */
+    { 0x3c5203d9,0x3f81a6bc }, /* 336:  1.2818300e-02  1.0129008e+00 */
+    { 0x3ffce2b3,0x40e6c419 }, /* 337:  1.9756683e+00  7.2114377e+00 */
+    { 0x40475c4f,0x41b444e2 }, /* 338:  3.1150091e+00  2.2533634e+01 */
+    { 0xbf67b110,0x3ecf1db3 }, /* 339: -9.0504551e-01  4.0452346e-01 */
+    { 0x3a602393,0x3f801c08 }, /* 340:  8.5502228e-04  1.0008554e+00 */
+    { 0x3fe16ab3,0x40ba3267 }, /* 341:  1.7610687e+00  5.8186526e+00 */
+    { 0x3e73c70b,0x3fa267b9 }, /* 342:  2.3806398e-01  1.2687904e+00 */
+    { 0xbff636b8,0x3e159824 }, /* 343: -1.9235449e+00  1.4608818e-01 */
+    { 0x3f16ac0d,0x3fe69432 }, /* 344:  5.8856279e-01  1.8013976e+00 */
+    { 0xc1fe6444,0x288b7814 }, /* 345: -3.1798958e+01  1.5484176e-14 */
+    { 0xb435bc99,0x3f7ffffd }, /* 346: -1.6925550e-07  9.9999982e-01 */
+    { 0x3ff72da6,0x40dcb3e3 }, /* 347:  1.9310806e+00  6.8969588e+00 */
+    { 0x3f77c5cc,0x402877c6 }, /* 348:  9.6786189e-01  2.6323104e+00 */
+    { 0xbf729dbf,0x3ec676a7 }, /* 349: -9.4771951e-01  3.8762400e-01 */
+    { 0xbdf88275,0x3f62bf3c }, /* 350: -1.2134258e-01  8.8573050e-01 */
+    { 0xbfeb3d84,0x3e22fc1c }, /* 351: -1.8378148e+00  1.5916485e-01 */
+    { 0x40077ea3,0x4104e9ab }, /* 352:  2.1171043e+00  8.3070478e+00 */
+    { 0xbfb01042,0x3e8163c1 }, /* 353: -1.3754961e+00  2.5271419e-01 */
+    { 0x405891b8,0x41ebe206 }, /* 354:  3.3838940e+00  2.9485363e+01 */
+    { 0xbe80ca8d,0x3f4710ad }, /* 355: -2.5154534e-01  7.7759820e-01 */
+    { 0xbe12490f,0x3f5debba }, /* 356: -1.4285682e-01  8.6687815e-01 */
+    { 0x3f7fcc3a,0x402dd529 }, /* 357:  9.9921000e-01  2.7161353e+00 */
+    { 0x3fe97637,0x40c64674 }, /* 358:  1.8239201e+00  6.1961002e+00 */
+    { 0x3f74f905,0x4026a2a6 }, /* 359:  9.5692474e-01  2.6036773e+00 */
+    { 0xbf400000,0x3ef1da07 }, /* 360: -7.5000000e-01  4.7236654e-01 */
+    { 0x407ad625,0x424976fe }, /* 361:  3.9193203e+00  5.0366203e+01 */
+    { 0xc1f66a7b,0x293cfbd6 }, /* 362: -3.0801992e+01  4.1962819e-14 */
+    { 0xbf71dc3b,0x3ec70ce5 }, /* 363: -9.4476670e-01  3.8877025e-01 */
+    { 0xc0bf609e,0x3b25a396 }, /* 364: -5.9805441e+00  2.5274507e-03 */
+    { 0x3d473c7f,0x3f86614b }, /* 365:  4.8641678e-02  1.0498441e+00 */
+    { 0x3f56a864,0x401406bc }, /* 366:  8.3850694e-01  2.3129110e+00 */
+    { 0xc0f69fdd,0x39ebc09a }, /* 367: -7.7070146e+00  4.4966192e-04 */
+    { 0x3ff5f251,0x40da96ca }, /* 368:  1.9214574e+00  6.8309069e+00 */
+    { 0x3e95156c,0x3fab43b8 }, /* 369:  2.9117906e-01  1.3380041e+00 */
+    { 0x3e4d8cb3,0x3f9c743c }, /* 370:  2.0073204e-01  1.2222972e+00 */
+    { 0x41733db5,0x4a745389 }, /* 371:  1.5202565e+01  4.0030422e+06 */
+    { 0x3f2aa106,0x3ff945f5 }, /* 372:  6.6651952e-01  1.9474474e+00 */
+    { 0xc1a1aff7,0x30e569d1 }, /* 373: -2.0210920e+01  1.6692018e-09 */
+    { 0x3f119e07,0x3fe2121a }, /* 374:  5.6881756e-01  1.7661774e+00 */
+    { 0x3f7e87ea,0x402cf97c }, /* 375:  9.9426138e-01  2.7027273e+00 */
+    { 0x40e6499d,0x44a6d76f }, /* 376:  7.1964860e+00  1.3347323e+03 */
+    { 0x40545246,0x41dcbc2c }, /* 377:  3.3175216e+00  2.7591881e+01 */
+    { 0xbef94991,0x3f1d522a }, /* 378: -4.8688939e-01  6.1453497e-01 */
+    { 0x3fe88f8a,0x40c4e263 }, /* 379:  1.8168805e+00  6.1526351e+00 */
+    { 0x41fa551c,0x560d73db }, /* 380:  3.1291557e+01  3.8882184e+13 */
+    { 0x3ff7c0cc,0x40ddb22d }, /* 381:  1.9355712e+00  6.9280000e+00 */
+    { 0xc0167241,0x3dc32cbf }, /* 382: -2.3507235e+00  9.5300190e-02 */
+    { 0xc08fef48,0x3c3661b3 }, /* 383: -4.4979591e+00  1.1131692e-02 */
+    { 0xbd432f06,0x3f74164d }, /* 384: -4.7652267e-02  9.5346528e-01 */
+    { 0x4028bde7,0x415f72bb }, /* 385:  2.6365907e+00  1.3965510e+01 */
+    { 0xc03a0681,0x3d5fe1cc }, /* 386: -2.9066470e+00  5.4658696e-02 */
+    { 0xbeffd565,0x3f1b5284 }, /* 387: -4.9967495e-01  6.0672784e-01 */
+    { 0x3e3ff20f,0x3f9a63a7 }, /* 388:  1.8744682e-01  1.2061661e+00 */
+    { 0x3e6f9b73,0x3fa1bebf }, /* 389:  2.3399143e-01  1.2636336e+00 */
+    { 0xbdb2cace,0x3f6a9947 }, /* 390: -8.7300882e-02  9.1640133e-01 */
+    { 0x3eefdd3f,0x3fcc7d3c }, /* 391:  4.6848485e-01  1.5975718e+00 */
+    { 0x411ad8bd,0x467964b5 }, /* 392:  9.6779146e+00  1.5961177e+04 */
+    { 0xbf22d608,0x3f07846c }, /* 393: -6.3607836e-01  5.2936435e-01 */
+    { 0x3db4bece,0x3f8bcf60 }, /* 394:  8.8254556e-02  1.0922661e+00 */
+    { 0xbfbec485,0x3e66b219 }, /* 395: -1.4903723e+00  2.2528876e-01 */
+    { 0xc270a72b,0x14135116 }, /* 396: -6.0163250e+01  7.4375948e-27 */
+    { 0xbf745d2d,0x3ec51cf7 }, /* 397: -9.5454675e-01  3.8498661e-01 */
+    { 0x3e596133,0x3f9e45a2 }, /* 398:  2.1228485e-01  1.2365000e+00 */
+    { 0x3f18b175,0x3fe86811 }, /* 399:  5.9645778e-01  1.8156759e+00 */
+    { 0xbe6d2ea8,0x3f4b1219 }, /* 400: -2.3162329e-01  7.9324490e-01 */
+    { 0x3f7e77e6,0x402ceeaa }, /* 401:  9.9401700e-01  2.7020669e+00 */
+    { 0xbff6f163,0x3e14be99 }, /* 402: -1.9292415e+00  1.4525832e-01 */
+    { 0xbf025b24,0x3f19d973 }, /* 403: -5.0920320e-01  6.0097426e-01 */
+    { 0x402b6f1e,0x41690c5e }, /* 404:  2.6786571e+00  1.4565519e+01 */
+    { 0xbf550abb,0x3edec48a }, /* 405: -8.3219498e-01  4.3509322e-01 */
+    { 0xbf02e318,0x3f1987d4 }, /* 406: -5.1127768e-01  5.9972882e-01 */
+    { 0x3f7a2ced,0x402a0e7b }, /* 407:  9.7724801e-01  2.6571338e+00 */
+    { 0x40138144,0x41205960 }, /* 408:  2.3047647e+00  1.0021820e+01 */
+    { 0xc1b8fcd4,0x2ec77433 }, /* 409: -2.3123451e+01  9.0701134e-11 */
+    { 0xbe94ef1d,0x3f3f62bc }, /* 410: -2.9088679e-01  7.4760032e-01 */
+    { 0xc024ceca,0x3d9bf1b0 }, /* 411: -2.5751214e+00  7.6144576e-02 */
+    { 0x3c65c9cd,0x3f81ced1 }, /* 412:  1.4025164e-02  1.0141240e+00 */
+    { 0x3cfd7dee,0x3f8405d2 }, /* 413:  3.0943837e-02  1.0314276e+00 */
+    { 0x426c0877,0x6a0c2906 }, /* 414:  5.9008266e+01  4.2360836e+25 */
+    { 0xfd85b337,0x00000000 }, /* 415: -2.2214733e+37  0.0000000e+00 */
+    { 0x41aa4272,0x4ed08665 }, /* 416:  2.1282444e+01  1.7492343e+09 */
+    { 0x404372be,0x41a99444 }, /* 417:  3.0538783e+00  2.1197395e+01 */
+    { 0xc0af94de,0x3b87ad9a }, /* 418: -5.4869223e+00  4.1405680e-03 */
+    { 0xbf064fb6,0x3f177d99 }, /* 419: -5.2465379e-01  5.9176022e-01 */
+    { 0xbd96d8aa,0x3f6dd267 }, /* 420: -7.3655441e-02  9.2899173e-01 */
+    { 0x4032bd8d,0x41829daa }, /* 421:  2.7928193e+00  1.6326984e+01 */
+    { 0xbffb1577,0x3e10026e }, /* 422: -1.9615926e+00  1.4063427e-01 */
+    { 0xbf8907a2,0x3eaf864c }, /* 423: -1.0705454e+00  3.4282148e-01 */
+    { 0x3e7ece02,0x3fa429dc }, /* 424:  2.4883273e-01  1.2825274e+00 */
+    { 0x3f02b256,0x3fd54564 }, /* 425:  5.1053369e-01  1.6661801e+00 */
+    { 0xbf5970a2,0x3edaf929 }, /* 426: -8.4937489e-01  4.2768219e-01 */
+    { 0xbf06e5de,0x3f1724d7 }, /* 427: -5.2694499e-01  5.9040588e-01 */
+    { 0xbf1f03bd,0x3f098e2e }, /* 428: -6.2115079e-01  5.3732574e-01 */
+    { 0x3e4c8ecd,0x3f9c4d76 }, /* 429:  1.9976349e-01  1.2211139e+00 */
+    { 0xbf75d518,0x3ec3fc58 }, /* 430: -9.6028280e-01  3.8278461e-01 */
+    { 0xbf6cfe13,0x3ecadf1a }, /* 431: -9.2575186e-01  3.9623338e-01 */
+    { 0x3e9aa4e8,0x3fad2279 }, /* 432:  3.0203938e-01  1.3526145e+00 */
+    { 0x3e09609e,0x3f92609a }, /* 433:  1.3415763e-01  1.1435730e+00 */
+    { 0x3f636a19,0x401b96e6 }, /* 434:  8.8833767e-01  2.4310851e+00 */
+    { 0x3e5348cc,0x3f9d552c }, /* 435:  2.0633239e-01  1.2291617e+00 */
+    { 0xb94403ee,0x3f7ff3c0 }, /* 436: -1.8693481e-04  9.9981308e-01 */
+    { 0xbf5a0479,0x3eda7ad9 }, /* 437: -8.5163075e-01  4.2671850e-01 */
+    { 0x3d3f16bd,0x3f861cee }, /* 438:  4.6652544e-02  1.0477579e+00 */
+    { 0xbc21f707,0x3f7d7b55 }, /* 439: -9.8855561e-03  9.9016315e-01 */
+    { 0xc2a9258f,0x027d9acf }, /* 440: -8.4573357e+01  1.8631932e-37 */
+    { 0x404d730b,0x41c64303 }, /* 441:  3.2101467e+00  2.4782721e+01 */
+    { 0xbefe586b,0x3f1bc642 }, /* 442: -4.9676833e-01  6.0849392e-01 */
+    { 0xc46b8207,0x00000000 }, /* 443: -9.4203168e+02  0.0000000e+00 */
+    { 0xc025ce9c,0x3d998731 }, /* 444: -2.5907354e+00  7.4964888e-02 */
+    { 0x3f6d99e6,0x4021e7cd }, /* 445:  9.2812955e-01  2.5297730e+00 */
+    { 0x4017dd11,0x412ba65b }, /* 446:  2.3728678e+00  1.0728114e+01 */
+    { 0xbb5c2072,0x3f7f243e }, /* 447: -3.3588675e-03  9.9664676e-01 */
+    { 0xbf7e53ad,0x3ebd96df }, /* 448: -9.9346429e-01  3.7029168e-01 */
+    { 0xc038069f,0x3d66fcb5 }, /* 449: -2.8754041e+00  5.6393344e-02 */
+    { 0xba4cf659,0x3f7fccc8 }, /* 450: -7.8186911e-04  9.9921846e-01 */
+    { 0x3ea63c66,0x3fb11963 }, /* 451:  3.2467955e-01  1.3835872e+00 */
+    { 0xbb091eae,0x3f7f7706 }, /* 452: -2.0922828e-03  9.9790990e-01 */
+    { 0xbbdb01e1,0x3f7e4b72 }, /* 453: -6.6835736e-03  9.9333870e-01 */
+    { 0xbc2f23dc,0x3f7d472c }, /* 454: -1.0689702e-02  9.8936725e-01 */
+    { 0x3e9bd66c,0x3fad89e7 }, /* 455:  3.0437028e-01  1.3557709e+00 */
+    { 0xc0036ef2,0x3e03583f }, /* 456: -2.0536466e+00  1.2826632e-01 */
+    { 0x3a90db15,0x3f80243c }, /* 457:  1.1051620e-03  1.0011058e+00 */
+    { 0xbf2ae5d9,0x3f0350ef }, /* 458: -6.6756970e-01  5.1295370e-01 */
+    { 0x3e996325,0x3facb5cd }, /* 459:  2.9958454e-01  1.3492981e+00 */
+    { 0x3cb09b05,0x3f82ca18 }, /* 460:  2.1558294e-02  1.0217924e+00 */
+    { 0xbe04a954,0x3f60e4a3 }, /* 461: -1.2955219e-01  8.7848872e-01 */
+    { 0xbc856fea,0x3f7bdd26 }, /* 462: -1.6288716e-02  9.8384321e-01 */
+    { 0xbf5a07ed,0x3eda77e6 }, /* 463: -8.5168344e-01  4.2669600e-01 */
+    { 0xbeb1e588,0x3f34dc28 }, /* 464: -3.4745431e-01  7.0648432e-01 */
+    { 0x429e2c07,0x7888e61d }, /* 465:  7.9085991e+01  2.2213113e+34 */
+    { 0xbed2ba07,0x3f29a083 }, /* 466: -4.1157553e-01  6.6260546e-01 */
+    { 0xbe9e3bae,0x3f3bf0e9 }, /* 467: -3.0904907e-01  7.3414475e-01 */
+    { 0xc12cc893,0x37ab4cd2 }, /* 468: -1.0798968e+01  2.0420561e-05 */
+    { 0x3e63cc9f,0x3f9fe406 }, /* 469:  2.2246026e-01  1.2491462e+00 */
+    { 0xbe0ad830,0x3f5f8a0e }, /* 470: -1.3559031e-01  8.7320030e-01 */
+    { 0xbdf6e97c,0x3f62ec88 }, /* 471: -1.2056252e-01  8.8642168e-01 */
+    { 0x3e4a1751,0x3f9bed30 }, /* 472:  1.9735457e-01  1.2181759e+00 */
+    { 0x412039f0,0x46ae887c }, /* 473:  1.0014145e+01  2.2340242e+04 */
+    { 0xbfeba305,0x3e227b10 }, /* 474: -1.8409125e+00  1.5867257e-01 */
+    { 0xc0350979,0x3d7207c3 }, /* 475: -2.8287032e+00  5.9089433e-02 */
+    { 0x40045030,0x40fcef35 }, /* 476:  2.0673943e+00  7.9042001e+00 */
+    { 0x3ed7cb90,0x3fc3193f }, /* 477:  4.2147493e-01  1.5242079e+00 */
+    { 0x3f6d7514,0x4021d085 }, /* 478:  9.2756772e-01  2.5283520e+00 */
+    { 0x3c7962ee,0x3f81f697 }, /* 479:  1.5221341e-02  1.0153378e+00 */
+    { 0xbf54de8d,0x3edeeaff }, /* 480: -8.3152086e-01  4.3538663e-01 */
+    { 0x3f70793c,0x4023bb7a }, /* 481:  9.3934989e-01  2.5583177e+00 */
+    { 0xbf014b3a,0x3f1a7d33 }, /* 482: -5.0505412e-01  6.0347289e-01 */
+    { 0x3e8d001b,0x3fa894f7 }, /* 483:  2.7539143e-01  1.3170460e+00 */
+    { 0xbef38cbb,0x3f1f1808 }, /* 484: -4.7568306e-01  6.2146044e-01 */
+    { 0xc009ce05,0x3dedcc2a }, /* 485: -2.1531994e+00  1.1611207e-01 */
+    { 0xbf76beca,0x3ec349c1 }, /* 486: -9.6384871e-01  3.8142207e-01 */
+    { 0x3f7839ad,0x4028c419 }, /* 487:  9.6963006e-01  2.6369689e+00 */
+    { 0xbf816f12,0x3eba418f }, /* 488: -1.0112021e+00  3.6378142e-01 */
+    { 0x3c51378d,0x3f81a51e }, /* 489:  1.2769592e-02  1.0128515e+00 */
+    { 0xbe82a10b,0x3f465a14 }, /* 490: -2.5513491e-01  7.7481198e-01 */
+    { 0xbf1d4bec,0x3f0a7b4c }, /* 491: -6.1443973e-01  5.4094386e-01 */
+    { 0xc22d292a,0x203acfe7 }, /* 492: -4.3290199e+01  1.5823602e-19 */
+    { 0x2c2671a7,0x3f800000 }, /* 493:  2.3653109e-12  1.0000000e+00 */
+    { 0x40ea0210,0x44bb6983 }, /* 494:  7.3127518e+00  1.4992972e+03 */
+    { 0x3cb8f33c,0x3f82ec37 }, /* 495:  2.2576921e-02  1.0228337e+00 */
+    { 0xbcbe6b56,0x3f7a1e37 }, /* 496: -2.3244541e-02  9.7702354e-01 */
+    { 0xbe47dc33,0x3f529bce }, /* 497: -1.9517593e-01  8.2268989e-01 */
+    { 0xbfca3b29,0x3e52eee5 }, /* 498: -1.5799304e+00  2.0598944e-01 */
+    { 0xc03420e6,0x3d757d91 }, /* 499: -2.8145080e+00  5.9934203e-02 */
+    { 0xbedc4b9d,0x3f267c7f }, /* 500: -4.3026438e-01  6.5033716e-01 */
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]:  %#lx\n", index - 1, v.lo);
+#endif
+    exit (index ? index : -1);
+}
+
+int main ()
+{
+    union lofl_u x, z;
+    unsigned long v1, z1, r;
+    int i;
+    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	x.lo = pgm_read_dword (& t[i].x);
+	z.lo = pgm_read_dword (& t[i].z);
+	v.fl = exp (x.fl);
+	
+	v1 = (v.lo < 0) ? (unsigned long)~(v.lo) : v.lo + 0x80000000;
+	z1 = (z.lo < 0) ? (unsigned long)~(z.lo) : z.lo + 0x80000000;
+	r = (v1 >= z1) ? v1 - z1 : z1 - v1;
+	
+	if (r > 55) x_exit (i+1);
+    }
+    return 0;
+}
diff --git a/tests/simulate/math/fdim-01.c b/tests/simulate/math/fdim-01.c
new file mode 100644
index 0000000..37aa37b
--- /dev/null
+++ b/tests/simulate/math/fdim-01.c
@@ -0,0 +1,123 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of fdim() function.
+   $Id$
+ */
+#include <math.h>
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+volatile union lofl_u v = { .lo = 1 };
+
+PROGMEM const struct {		/* Table of test cases	*/
+    union lofl_u x, y;		/* args		*/
+    union lofl_u z;		/* result	*/
+} t[] = {
+
+    /* fdim (0,0)	*/
+    { { .fl=  0.0 }, { .fl=  0.0 }, { .fl=  0.0 } },
+    { { .fl=  0.0 }, { .fl= -0.0 }, { .fl=  0.0 } },
+    { { .fl= -0.0 }, { .fl=  0.0 }, { .fl=  0.0 } },
+    { { .fl= -0.0 }, { .fl= -0.0 }, { .fl=  0.0 } },
+
+    /* fdim (Inf,Inf)	*/
+#ifdef	__AVR__
+    /* gcc 3.2.2 with glibc 2.3.1:	fdim(Inf,Inf) --> NaN
+       gcc 3.4.5 with glibc 2.3.6:	fdim(Inf,Inf) --> 0 (?)	*/
+    { { 0x7f800000 }, { 0x7f800000 }, { 0x7fc00000 } },	/* --> NaN */
+    { { 0xff800000 }, { 0xff800000 }, { 0x7fc00000 } },	/* --> NaN */
+#endif
+    { { 0x7f800000 }, { 0xff800000 }, { 0x7f800000 } },
+    { { 0xff800000 }, { 0x7f800000 }, { 0x00000000 } },
+
+    /* x == y	*/
+    { { 0xff7fffff }, { 0xff7fffff }, { 0x00000000 } },
+    { { 0x80000001 }, { 0x80000001 }, { 0x00000000 } },
+    { { 0x00000001 }, { 0x00000001 }, { 0x00000000 } },
+    { { 0x7f7fffff }, { 0x7f7fffff }, { 0x00000000 } },
+    
+    /* x > y	*/
+    { { 0xff7ffffe }, { 0xff7fffff }, { 0x73800000 } },
+    { { 0x00000001 }, { 0x80000001 }, { 0x00000002 } },
+    { { 0x7f7fffff }, { 0xff7fffff }, { 0x7f800000 } },	/* --> +Inf */
+    { { 0x7f7fffff }, { 0x7f7ffffe }, { 0x73800000 } },
+    { { .fl= 10 },    { .fl= 8 },     { .fl= 2 } },
+    { { .fl= 10 },    { .fl= -8 },    { .fl= 18 } },
+    { { .fl= 10 },    { .fl= -12 },   { .fl= 22 } },
+    
+    /* x < y	*/
+    { { 0xff7fffff }, { 0xff7ffffe }, { 0 } },
+    { { 0x7f7ffffe }, { 0x7f7fffff }, { 0 } },
+    { { 0xff7fffff }, { 0x7f7fffff }, { 0 } },
+    
+    /* NaN	*/
+    { { 0x7f800001 }, { 0x7f000000 }, { 0x7f8c0000 } },
+    { { 0x7f800100 }, { 0x7f000000 }, { 0x7f8c0000 } },
+    { { 0x7f810000 }, { 0x7f000000 }, { 0x7f8c0000 } },
+    { { 0x7fc00000 }, { 0x7f000000 }, { 0x7f8c0000 } },
+    { { 0x7fffffff }, { 0x7f000000 }, { 0x7f8c0000 } },
+
+    { { 0xff700000 }, { 0xff800001 }, { 0x7f8c0000 } },
+
+    { { 0x7f800100 }, { 0x7f800200 }, { 0x7f8c0000 } },
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]:  %#lx\n", index - 1, v.lo);
+#endif
+    exit (index ? index : -1);
+}
+
+int main ()
+{
+    union lofl_u x,y,z;
+    int i;
+    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	y.lo = pgm_read_dword (& t[i].y);
+	x.lo = pgm_read_dword (& t[i].x);
+	z.lo = pgm_read_dword (& t[i].z);
+	v.fl = fdim (x.fl, y.fl);
+	
+	if (   v.lo == z.lo
+	    || (isnan(v.fl) && isnan(z.fl))	)
+	  continue;
+	x_exit (i+1);
+    }
+    return 0;
+}
diff --git a/tests/simulate/math/fdim-500.c b/tests/simulate/math/fdim-500.c
new file mode 100644
index 0000000..c96648c
--- /dev/null
+++ b/tests/simulate/math/fdim-500.c
@@ -0,0 +1,576 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of fdim() function. 500 random cases.
+   $Id$
+ */
+#include <math.h>
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+volatile union lofl_u v = { .lo = 1 };
+
+PROGMEM const struct {		/* Table of test cases.	*/
+    long x,y;		/* args		*/
+    long z;		/* result	*/
+} t[] = {
+
+    /* x, y, fdim(x,y)	*/
+    { 0xc01dc55f,0xbf527651,0x00000000 }, /*   1: -2.4651716e+00 -8.2211787e-01  0.0000000e+00 */
+    { 0x4099d8c5,0x3fc22552,0x40529ee1 }, /*   2:  4.8077111e+00  1.5167639e+00  3.2909472e+00 */
+    { 0xc12e12be,0x3fbe11ad,0x00000000 }, /*   3: -1.0879576e+01  1.4849144e+00  0.0000000e+00 */
+    { 0xb002c717,0xc2d0e092,0x42d0e092 }, /*   4: -4.7576648e-10 -1.0443861e+02  1.0443861e+02 */
+    { 0x3e3ebe5b,0x4066d198,0x00000000 }, /*   5:  1.8627302e-01  3.6065426e+00  0.0000000e+00 */
+    { 0xbfc4380a,0xc1ddbd9f,0x41d17a1e }, /*   6: -1.5329602e+00 -2.7717588e+01  2.6184628e+01 */
+    { 0xbf45ec0e,0x42081282,0x00000000 }, /*   7: -7.7313316e-01  3.4018074e+01  0.0000000e+00 */
+    { 0x3f6409f9,0xc04cfc36,0x4082ff5a }, /*   8:  8.9077717e-01 -3.2028937e+00  4.0936708e+00 */
+    { 0x3eb79151,0xbe764b9e,0x3f195b90 }, /*   9:  3.5853055e-01 -2.4052283e-01  5.9905338e-01 */
+    { 0xbda57ab1,0x3f464b25,0x00000000 }, /*  10: -8.0800422e-02  7.7458411e-01  0.0000000e+00 */
+    { 0x3d7fabde,0x4196770a,0x00000000 }, /*  11:  6.2419765e-02  1.8808125e+01  0.0000000e+00 */
+    { 0xbf72040b,0xbf4ba244,0x00000000 }, /*  12: -9.4537419e-01 -7.9544473e-01  0.0000000e+00 */
+    { 0x3ec3c915,0xc06e9bd0,0x40838a79 }, /*  13:  3.8239351e-01 -3.7282600e+00  4.1106534e+00 */
+    { 0x3f5e285c,0x4014b723,0x00000000 }, /*  14:  8.6780334e-01  2.3236778e+00  0.0000000e+00 */
+    { 0x3e6917b7,0xbeef4747,0x3f31e991 }, /*  15:  2.2762953e-01 -4.6734068e-01  6.9497019e-01 */
+    { 0xc1cc62d4,0xc0295158,0x00000000 }, /*  16: -2.5548256e+01 -2.6455898e+00  0.0000000e+00 */
+    { 0x43d9ef65,0x3ea9f4f8,0x43d9c4e8 }, /*  17:  4.3587027e+02  3.3194709e-01  4.3553833e+02 */
+    { 0xbf4d8882,0xc23f432b,0x423c0d09 }, /*  18: -8.0286419e-01 -4.7815594e+01  4.7012730e+01 */
+    { 0x3e0a704a,0x3eeb9ece,0x00000000 }, /*  19:  1.3519397e-01  4.6019596e-01  0.0000000e+00 */
+    { 0x400e70f5,0x402e8482,0x00000000 }, /*  20:  2.2256444e+00  2.7268376e+00  0.0000000e+00 */
+    { 0xbece7c93,0xbebca1f2,0x00000000 }, /*  21: -4.0329418e-01 -3.6842304e-01  0.0000000e+00 */
+    { 0x4012406b,0x3fa52409,0x3f7eb99a }, /*  22:  2.2851818e+00  1.2901622e+00  9.9501956e-01 */
+    { 0xc20ff531,0x3fefc748,0x00000000 }, /*  23: -3.5989445e+01  1.8732691e+00  0.0000000e+00 */
+    { 0x42a222b2,0x3ec20cf4,0x42a160a5 }, /*  24:  8.1067764e+01  3.7900507e-01  8.0688759e+01 */
+    { 0xbfb4634a,0xbff11956,0x3ef2d830 }, /*  25: -1.4092801e+00 -1.8835857e+00  4.7430563e-01 */
+    { 0xbf4ebac3,0xbf4b49f6,0x00000000 }, /*  26: -8.0753726e-01 -7.9409730e-01  0.0000000e+00 */
+    { 0x3f37b0dd,0xc0189be6,0x4046881d }, /*  27:  7.1754247e-01 -2.3845153e+00  3.1020577e+00 */
+    { 0x40dc10c4,0x3fa87761,0x40b1f2ec }, /*  28:  6.8770466e+00  1.3161432e+00  5.5609035e+00 */
+    { 0x3e6c56f1,0x3ecfcbc8,0x00000000 }, /*  29:  2.3080041e-01  4.0585160e-01  0.0000000e+00 */
+    { 0x4089ea38,0x3af7a5f9,0x4089dabe }, /*  30:  4.3098412e+00  1.8894068e-03  4.3079519e+00 */
+    { 0xbf3b61d6,0xbdd279db,0x00000000 }, /*  31: -7.3196161e-01 -1.0277148e-01  0.0000000e+00 */
+    { 0xbf418afe,0x53f40aca,0x00000000 }, /*  32: -7.5602710e-01  2.0963061e+12  0.0000000e+00 */
+    { 0x3fa8792c,0xc91491bb,0x491491d0 }, /*  33:  1.3161979e+00 -6.0853969e+05  6.0854100e+05 */
+    { 0xc0be65d6,0xbf4514e3,0x00000000 }, /*  34: -5.9499311e+00 -7.6984996e-01  0.0000000e+00 */
+    { 0x3fa35321,0x3e1e1802,0x3f8f9021 }, /*  35:  1.2759744e+00  1.5438846e-01  1.1215860e+00 */
+    { 0xbdc7180a,0x3ebcfde7,0x00000000 }, /*  36: -9.7213820e-02  3.6912462e-01  0.0000000e+00 */
+    { 0xc679ebb4,0xbe0ff5ca,0x00000000 }, /*  37: -1.5994926e+04 -1.4058605e-01  0.0000000e+00 */
+    { 0xbfb57d1e,0xc0542876,0x3ff2d3ce }, /*  38: -1.4178808e+00 -3.3149695e+00  1.8970888e+00 */
+    { 0xc8f326c6,0x42104fd0,0x00000000 }, /*  39: -4.9797419e+05  3.6077942e+01  0.0000000e+00 */
+    { 0x4027ad8a,0x402c52a3,0x00000000 }, /*  40:  2.6199670e+00  2.6925437e+00  0.0000000e+00 */
+    { 0x3fa56a2d,0xb3f77d7a,0x3fa56a2e }, /*  41:  1.2923027e+00 -1.1524658e-07  1.2923028e+00 */
+    { 0xbef4fe1b,0x3edd54af,0x00000000 }, /*  42: -4.7850117e-01  4.3228671e-01  0.0000000e+00 */
+    { 0xbd2f433d,0xbf49b2cd,0x3f3ebe99 }, /*  43: -4.2788733e-02 -7.8788453e-01  7.4509579e-01 */
+    { 0xbf5184af,0xbea0627f,0x00000000 }, /*  44: -8.1843084e-01 -3.1325147e-01  0.0000000e+00 */
+    { 0x401d9bcd,0xbe3af736,0x40294b40 }, /*  45:  2.4626343e+00 -1.8258366e-01  2.6452179e+00 */
+    { 0x3f4e4dd7,0x3dc825f9,0x3f354918 }, /*  46:  8.0587524e-01  9.7728677e-02  7.0814657e-01 */
+    { 0x3ff74873,0x3fe37025,0x3e1ec270 }, /*  47:  1.9318985e+00  1.7768599e+00  1.5503860e-01 */
+    { 0xc09dbffd,0x416db622,0x00000000 }, /*  48: -4.9296861e+00  1.4856966e+01  0.0000000e+00 */
+    { 0x3c6dfeae,0xbf090256,0x3f0cba51 }, /*  49:  1.4526052e-02 -5.3519189e-01  5.4971796e-01 */
+    { 0xbd1ec264,0xc0b2735e,0x40b135d9 }, /*  50: -3.8759604e-02 -5.5765829e+00  5.5378232e+00 */
+    { 0x3f92e1dc,0x4088dc83,0x00000000 }, /*  51:  1.1475177e+00  4.2769179e+00  0.0000000e+00 */
+    { 0x40404d78,0xbe8c06f2,0x4051ce56 }, /*  52:  3.0047283e+00 -2.7349049e-01  3.2782187e+00 */
+    { 0x3ea8d5f8,0x3f3d340e,0x00000000 }, /*  53:  3.2975745e-01  7.3907554e-01  0.0000000e+00 */
+    { 0xbfc0a3dd,0x3df8575f,0x00000000 }, /*  54: -1.5050007e+00  1.2126040e-01  0.0000000e+00 */
+    { 0xc05562d2,0x3ddbf37f,0x00000000 }, /*  55: -3.3341565e+00  1.0739803e-01  0.0000000e+00 */
+    { 0x3e2c4c0f,0x3e9e4ec6,0x00000000 }, /*  56:  1.6825889e-01  3.0919474e-01  0.0000000e+00 */
+    { 0xbf68d9ea,0xbeac5e99,0x00000000 }, /*  57: -9.0957510e-01 -3.3665922e-01  0.0000000e+00 */
+    { 0xc2df2291,0xbfb97710,0x00000000 }, /*  58: -1.1156751e+02 -1.4489460e+00  0.0000000e+00 */
+    { 0x4072774f,0xbf451a2c,0x4091deed }, /*  59:  3.7885320e+00 -7.6993060e-01  4.5584626e+00 */
+    { 0xc1d5a29b,0xb58c2e49,0x00000000 }, /*  60: -2.6704397e+01 -1.0444284e-06  0.0000000e+00 */
+    { 0xc5cfb6f0,0x42c576f8,0x00000000 }, /*  61: -6.6468672e+03  9.8732361e+01  0.0000000e+00 */
+    { 0xbee50045,0x4e70c02f,0x00000000 }, /*  62: -4.4726768e-01  1.0097817e+09  0.0000000e+00 */
+    { 0x3f59008d,0xbf55d75c,0x3fd76bf4 }, /*  63:  8.4766465e-01 -8.3531737e-01  1.6829820e+00 */
+    { 0x3c496cdc,0xbf0eb4a0,0x3f11da53 }, /*  64:  1.2294021e-02 -5.5744362e-01  5.6973761e-01 */
+    { 0x44b3331d,0xc2f4cedb,0x44c2800b }, /*  65:  1.4335973e+03 -1.2240401e+02  1.5560013e+03 */
+    { 0x44510d0f,0x3e6b0efb,0x4450fe5e }, /*  66:  8.3620404e+02  2.2954933e-01  8.3597449e+02 */
+    { 0x3a56841a,0x3fc1b65e,0x00000000 }, /*  67:  8.1831368e-04  1.5133779e+00  0.0000000e+00 */
+    { 0x3f55d149,0xba004d19,0x3f55f15c }, /*  68:  8.3522469e-01 -4.8943009e-04  8.3571410e-01 */
+    { 0xc299108b,0x3fc03fe6,0x00000000 }, /*  69: -7.6532310e+01  1.5019500e+00  0.0000000e+00 */
+    { 0x3edbcfa6,0x4032815e,0x00000000 }, /*  70:  4.2931861e-01  2.7891459e+00  0.0000000e+00 */
+    { 0x40f7d1bc,0xc06b1caf,0x4136b00a }, /*  71:  7.7443523e+00 -3.6736257e+00  1.1417978e+01 */
+    { 0xc0220bcf,0x402d0066,0x00000000 }, /*  72: -2.5319707e+00  2.7031493e+00  0.0000000e+00 */
+    { 0xbf504b90,0xbe4dab9a,0x00000000 }, /*  73: -8.1365299e-01 -2.0084992e-01  0.0000000e+00 */
+    { 0xbff7bfa4,0xc0c98707,0x408b971e }, /*  74: -1.9355359e+00 -6.2977328e+00  4.3621969e+00 */
+    { 0xc06c7ccc,0x39ca663e,0x00000000 }, /*  75: -3.6951170e+00  3.8604619e-04  0.0000000e+00 */
+    { 0x40670d68,0x4061a9d1,0x3dac72e0 }, /*  76:  3.6101933e+00  3.5259898e+00  8.4203482e-02 */
+    { 0xbba9bf88,0xc0cd30ba,0x40cd064a }, /*  77: -5.1803030e-03 -6.4121981e+00  6.4070177e+00 */
+    { 0x3fa457d5,0x3d5fd222,0x3f9d5944 }, /*  78:  1.2839304e+00  5.4643758e-02  1.2292867e+00 */
+    { 0xbfa8cc2d,0xbff92540,0x3f20b226 }, /*  79: -1.3187310e+00 -1.9464493e+00  6.2771833e-01 */
+    { 0xbf8fa4e9,0xac43ec47,0x00000000 }, /*  80: -1.1222202e+00 -2.7842327e-12  0.0000000e+00 */
+    { 0xc0100963,0x3ece6952,0x00000000 }, /*  81: -2.2505729e+00  4.0314728e-01  0.0000000e+00 */
+    { 0xbcb96961,0x3f5b7ae8,0x00000000 }, /*  82: -2.2633256e-02  8.5734415e-01  0.0000000e+00 */
+    { 0x41e6928b,0x3f558f0f,0x41dfe613 }, /*  83:  2.8821554e+01  8.3421415e-01  2.7987341e+01 */
+    { 0x3e6d490c,0x3eda047b,0x00000000 }, /*  84:  2.3172396e-01  4.2581543e-01  0.0000000e+00 */
+    { 0xb9035e6c,0xbfaa6abd,0x3faa66a2 }, /*  85: -1.2528308e-04 -1.3313824e+00  1.3312571e+00 */
+    { 0x3fce64ec,0xbfbf0ad6,0x4046b7e1 }, /*  86:  1.6124549e+00 -1.4925182e+00  3.1049731e+00 */
+    { 0xb7ac2b82,0x3e45667a,0x00000000 }, /*  87: -2.0524258e-05  1.9277373e-01  0.0000000e+00 */
+    { 0xbf9ddf9e,0x3f67c299,0x00000000 }, /*  88: -1.2333868e+00  9.0531307e-01  0.0000000e+00 */
+    { 0x3ef1e122,0x3f7b5bb6,0x00000000 }, /*  89:  4.7242075e-01  9.8186815e-01  0.0000000e+00 */
+    { 0xbf586dae,0xbe84af08,0x00000000 }, /*  90: -8.4542358e-01 -2.5914788e-01  0.0000000e+00 */
+    { 0xbfb9bfb7,0x3f3c23a2,0x00000000 }, /*  91: -1.4511632e+00  7.3491871e-01  0.0000000e+00 */
+    { 0xbecd487b,0x3faba2e6,0x00000000 }, /*  92: -4.0094361e-01  1.3409088e+00  0.0000000e+00 */
+    { 0xbee5e210,0x404ec54f,0x00000000 }, /*  93: -4.4899035e-01  3.2307928e+00  0.0000000e+00 */
+    { 0xc11375ec,0xc003ae89,0x00000000 }, /*  94: -9.2162895e+00 -2.0575278e+00  0.0000000e+00 */
+    { 0xbfa1b801,0xbea38f7b,0x00000000 }, /*  95: -1.2634279e+00 -3.1945404e-01  0.0000000e+00 */
+    { 0x3f4713be,0xc011fe95,0x4043c384 }, /*  96:  7.7764499e-01 -2.2811635e+00  3.0588083e+00 */
+    { 0x3d81193d,0x3d327de7,0x3c9f6926 }, /*  97:  6.3036419e-02  4.3577101e-02  1.9459318e-02 */
+    { 0x3d5be341,0xbc601350,0x3d89f40a }, /*  98:  5.3683523e-02 -1.3676479e-02  6.7359999e-02 */
+    { 0x3fa4af81,0xbfa80cc3,0x40265e22 }, /*  99:  1.2866060e+00 -1.3128895e+00  2.5994954e+00 */
+    { 0x42643488,0x403fa89f,0x425839fe }, /* 100:  5.7051300e+01  2.9946668e+00  5.4056633e+01 */
+    { 0xbee2e351,0xc0aa3610,0x409c07db }, /* 101: -4.4314054e-01 -5.3190994e+00  4.8759589e+00 */
+    { 0x3f96f3c9,0xbfb932c2,0x40281346 }, /* 102:  1.1793147e+00 -1.4468615e+00  2.6261764e+00 */
+    { 0x3fafb088,0xbf51977a,0x400c3e22 }, /* 103:  1.3725748e+00 -8.1871760e-01  2.1912923e+00 */
+    { 0x3f5bd3e6,0x3fa61da3,0x00000000 }, /* 104:  8.5870206e-01  1.2977794e+00  0.0000000e+00 */
+    { 0x40ed82e8,0xc059a481,0x412d2a94 }, /* 105:  7.4222298e+00 -3.4006655e+00  1.0822895e+01 */
+    { 0xbfb3e610,0x40582007,0x00000000 }, /* 106: -1.4054585e+00  3.3769548e+00  0.0000000e+00 */
+    { 0x3b46d4c5,0xbee9767a,0x3eeb0424 }, /* 107:  3.0339223e-03 -4.5598203e-01  4.5901597e-01 */
+    { 0xc2e88a16,0x77003235,0x00000000 }, /* 108: -1.1626970e+02  2.6001262e+33  0.0000000e+00 */
+    { 0x3edbe16c,0xbf6df2ab,0x3fadf1b0 }, /* 109:  4.2945421e-01 -9.2948407e-01  1.3589382e+00 */
+    { 0x4013e7a9,0x40899737,0x00000000 }, /* 110:  2.3110144e+00  4.2997088e+00  0.0000000e+00 */
+    { 0xbe1a9c13,0xbf0264be,0x3eb77b72 }, /* 111: -1.5098600e-01 -5.0934970e-01  3.5836369e-01 */
+    { 0xc02194d2,0xbf980b9d,0x00000000 }, /* 112: -2.5247083e+00 -1.1878544e+00  0.0000000e+00 */
+    { 0x3f44a53d,0xbeca856f,0x3f94f3fa }, /* 113:  7.6814634e-01 -3.9554927e-01  1.1636956e+00 */
+    { 0x3eafba32,0x402788ce,0x00000000 }, /* 114:  3.4321743e-01  2.6177249e+00  0.0000000e+00 */
+    { 0x3f4fa170,0xc0582b0f,0x408609b6 }, /* 115:  8.1105709e-01 -3.3776281e+00  4.1886854e+00 */
+    { 0xc01eb4a4,0xc0ea5bf8,0x409b01a6 }, /* 116: -2.4797754e+00 -7.3237267e+00  4.8439512e+00 */
+    { 0xbdfffae4,0x40734089,0x00000000 }, /* 117: -1.2499025e-01  3.8008139e+00  0.0000000e+00 */
+    { 0xbfa7b988,0x3fb7a4ce,0x00000000 }, /* 118: -1.3103495e+00  1.4347169e+00  0.0000000e+00 */
+    { 0xbfb64f8d,0xbf50e799,0x00000000 }, /* 119: -1.4243027e+00 -8.1603390e-01  0.0000000e+00 */
+    { 0x3f470bad,0xbfacb5ce,0x40081dd2 }, /* 120:  7.7752191e-01 -1.3492982e+00  2.1268201e+00 */
+    { 0xbfb6c582,0x404000ed,0x00000000 }, /* 121: -1.4279025e+00  3.0000565e+00  0.0000000e+00 */
+    { 0xc044baa9,0xbf565886,0x00000000 }, /* 122: -3.0738928e+00 -8.3728826e-01  0.0000000e+00 */
+    { 0x3fb7048f,0x3f4db00e,0x3f205910 }, /* 123:  1.4298266e+00  8.0346763e-01  6.2635899e-01 */
+    { 0xc21ed21c,0xbf559825,0x00000000 }, /* 124: -3.9705185e+01 -8.3435279e-01  0.0000000e+00 */
+    { 0x3fb47d3c,0xbe343e11,0x3fcb04fe }, /* 125:  1.4100718e+00 -1.7601801e-01  1.5860898e+00 */
+    { 0x3f9d6936,0x3fa8e541,0x00000000 }, /* 126:  1.2297733e+00  1.3194963e+00  0.0000000e+00 */
+    { 0x32d1587d,0x3edf9b2c,0x00000000 }, /* 127:  2.4371042e-08  4.3673074e-01  0.0000000e+00 */
+    { 0x41298b3e,0xbed3a31c,0x41302857 }, /* 128:  1.0596495e+01 -4.1335380e-01  1.1009849e+01 */
+    { 0x3f3c2e3b,0x3f40c8da,0x00000000 }, /* 129:  7.3508042e-01  7.5306475e-01  0.0000000e+00 */
+    { 0xbd5d6f33,0xc07713d7,0x40739e1a }, /* 130: -5.4061126e-02 -3.8605859e+00  3.8065248e+00 */
+    { 0x40a0cd1c,0x3fb7f461,0x4065a008 }, /* 131:  5.0250378e+00  1.4371454e+00  3.5878925e+00 */
+    { 0xbf4d39a1,0x3dc7ba12,0x00000000 }, /* 132: -8.0166060e-01  9.7522870e-02  0.0000000e+00 */
+    { 0xbc4babd6,0x3f404bd3,0x00000000 }, /* 133: -1.2431106e-02  7.5115699e-01  0.0000000e+00 */
+    { 0xbe3cccba,0x3e24aa3c,0x00000000 }, /* 134: -1.8437472e-01  1.6080564e-01  0.0000000e+00 */
+    { 0xbe33d75f,0xbd980b04,0x00000000 }, /* 135: -1.7562626e-01 -7.4239761e-02  0.0000000e+00 */
+    { 0xbfc357af,0x406d4a0b,0x00000000 }, /* 136: -1.5261134e+00  3.7076442e+00  0.0000000e+00 */
+    { 0x3ef90645,0x40403851,0x00000000 }, /* 137:  4.8637596e-01  3.0034373e+00  0.0000000e+00 */
+    { 0xbf6f1eb1,0x3f62f7a3,0x00000000 }, /* 138: -9.3406206e-01  8.8659114e-01  0.0000000e+00 */
+    { 0x423240eb,0xbfba1ce4,0x423811d2 }, /* 139:  4.4563396e+01 -1.4540067e+00  4.6017403e+01 */
+    { 0x3f397bd9,0xc077335e,0x4092c92a }, /* 140:  7.2454602e-01 -3.8625102e+00  4.5870562e+00 */
+    { 0x3ff32095,0x41dc0dd4,0x00000000 }, /* 141:  1.8994318e+00  2.7506752e+01  0.0000000e+00 */
+    { 0x43322a4f,0xc239a492,0x43609374 }, /* 142:  1.7816527e+02 -4.6410713e+01  2.2457599e+02 */
+    { 0xbfae12b5,0xc07b5f8a,0x40245630 }, /* 143: -1.3599459e+00 -3.9277062e+00  2.5677605e+00 */
+    { 0xbfa03b12,0xc097e3d6,0x405faa23 }, /* 144: -1.2518027e+00 -4.7465620e+00  3.4947593e+00 */
+    { 0x3e54d4a1,0xc0388137,0x4045ce81 }, /* 145:  2.0784236e-01 -2.8828866e+00  3.0907290e+00 */
+    { 0x3fc0fbdb,0xc107c579,0x411fe4f4 }, /* 146:  1.5076860e+00 -8.4857111e+00  9.9933968e+00 */
+    { 0x3e8e76e5,0x3f5da93b,0x00000000 }, /* 147:  2.7825084e-01  8.6586350e-01  0.0000000e+00 */
+    { 0x3fb59141,0x8f78727c,0x3fb59141 }, /* 148:  1.4184953e+00 -1.2249393e-29  1.4184953e+00 */
+    { 0xc0312d02,0xc0510f00,0x3eff0ff0 }, /* 149: -2.7683721e+00 -3.2665405e+00  4.9816847e-01 */
+    { 0xbf4f28aa,0xbce8119d,0x00000000 }, /* 150: -8.0921423e-01 -2.8328711e-02  0.0000000e+00 */
+    { 0xbfb5f033,0x3e59ccac,0x00000000 }, /* 151: -1.4213928e+00  2.1269482e-01  0.0000000e+00 */
+    { 0xc187689b,0xc1d69e46,0x411e6b56 }, /* 152: -1.6926077e+01 -2.6827282e+01  9.9012051e+00 */
+    { 0xbedef611,0x3e973a44,0x00000000 }, /* 153: -4.3547109e-01  2.9536641e-01  0.0000000e+00 */
+    { 0x3f4a4b24,0xc091db56,0x40ab24ba }, /* 154:  7.9020905e-01 -4.5580244e+00  5.3482332e+00 */
+    { 0x3f6e91a9,0x3c3f0809,0x3f6b9589 }, /* 155:  9.3191010e-01  1.1659631e-02  9.2025048e-01 */
+    { 0x4d92957d,0x3e756b49,0x4d92957d }, /* 156:  3.0740880e+08  2.3966707e-01  3.0740880e+08 */
+    { 0x3f9c642b,0xba31369b,0x3f9c7a52 }, /* 157:  1.2218069e+00 -6.7601510e-04  1.2224829e+00 */
+    { 0xbe1346de,0xc0258558,0x401c50ea }, /* 158: -1.4382502e-01 -2.5862637e+00  2.4424386e+00 */
+    { 0x49a2107c,0xc25ce455,0x49a21236 }, /* 159:  1.3276315e+06 -5.5222980e+01  1.3276868e+06 */
+    { 0x3eddd43a,0xc058e13b,0x40749bc2 }, /* 160:  4.3325979e-01 -3.3887470e+00  3.8220067e+00 */
+    { 0x3fad31bd,0x3ec29e27,0x3f791466 }, /* 161:  1.3530804e+00  3.8011286e-01  9.7296751e-01 */
+    { 0xc02c56e7,0x3ea5cf80,0x00000000 }, /* 162: -2.6928041e+00  3.2384872e-01  0.0000000e+00 */
+    { 0xbf0c0f42,0xbb744b3e,0x00000000 }, /* 163: -5.4710782e-01 -3.7276293e-03  0.0000000e+00 */
+    { 0x410b17cf,0xbf63d99b,0x41195569 }, /* 164:  8.6933126e+00 -8.9003915e-01  9.5833521e+00 */
+    { 0x40d3a4bd,0x3f46c1e9,0x40bacc80 }, /* 165:  6.6138597e+00  7.7639633e-01  5.8374634e+00 */
+    { 0x3f5c89e1,0x3f55529a,0x3ce6e8e0 }, /* 166:  8.6147887e-01  8.3329165e-01  2.8187215e-02 */
+    { 0xbf9bce29,0x49ca83e3,0x00000000 }, /* 167: -1.2172290e+00  1.6590044e+06  0.0000000e+00 */
+    { 0x3fb24064,0xbf52ec34,0x400ddb3f }, /* 168:  1.3925900e+00 -8.2391667e-01  2.2165067e+00 */
+    { 0xc22ecf87,0x410e16f8,0x00000000 }, /* 169: -4.3702663e+01  8.8806076e+00  0.0000000e+00 */
+    { 0xbfc7dee0,0x3fb96c8a,0x00000000 }, /* 170: -1.5614891e+00  1.4486248e+00  0.0000000e+00 */
+    { 0x3eb6ba04,0x3f4239db,0x00000000 }, /* 171:  3.5688794e-01  7.5869530e-01  0.0000000e+00 */
+    { 0x4316ae6a,0x3fb7ae02,0x43153f0e }, /* 172:  1.5068130e+02  1.4349978e+00  1.4924631e+02 */
+    { 0xbec1efc0,0x3f517fc6,0x00000000 }, /* 173: -3.7878227e-01  8.1835592e-01  0.0000000e+00 */
+    { 0xc28242f8,0x3ca24258,0x00000000 }, /* 174: -6.5130798e+01  1.9807026e-02  0.0000000e+00 */
+    { 0x3f013259,0xc0ca5482,0x40da7acd }, /* 175:  5.0467449e-01 -6.3228159e+00  6.8274903e+00 */
+    { 0x3f3f726a,0x44ef75a1,0x00000000 }, /* 176:  7.4783957e-01  1.9156759e+03  0.0000000e+00 */
+    { 0xbbb52383,0xbff41e06,0x3ff368e2 }, /* 177: -5.5279150e-03 -1.9071662e+00  1.9016383e+00 */
+    { 0x3c5db2af,0xbe2186e7,0x3e2f6212 }, /* 178:  1.3531371e-02 -1.5774117e-01  1.7127255e-01 */
+    { 0x3e278bea,0x3eb4e7ca,0x00000000 }, /* 179:  1.6361967e-01  3.5333091e-01  0.0000000e+00 */
+    { 0xbfa9c009,0x3fadd211,0x00000000 }, /* 180: -1.3261729e+00  1.3579732e+00  0.0000000e+00 */
+    { 0xbf430600,0xbe34b6ad,0x00000000 }, /* 181: -7.6181030e-01 -1.7647810e-01  0.0000000e+00 */
+    { 0xbec88a49,0x3f425390,0x00000000 }, /* 182: -3.9168003e-01  7.5908756e-01  0.0000000e+00 */
+    { 0x4292d200,0xc166a189,0x42afa631 }, /* 183:  7.3410156e+01 -1.4414437e+01  8.7824593e+01 */
+    { 0x3f45880e,0xc024e814,0x40564a18 }, /* 184:  7.7160728e-01 -2.5766649e+00  3.3482723e+00 */
+    { 0x3fb7e695,0x3fbf4031,0x00000000 }, /* 185:  1.4367243e+00  1.4941465e+00  0.0000000e+00 */
+    { 0xbf4f65b6,0xc0f616aa,0x40dc29f3 }, /* 186: -8.1014574e-01 -7.6902666e+00  6.8801208e+00 */
+    { 0x3f439f52,0xc0cbd678,0x40e44a62 }, /* 187:  7.6414979e-01 -6.3699303e+00  7.1340799e+00 */
+    { 0x401cf799,0xbf4fba93,0x4050e63e }, /* 188:  2.4526122e+00 -8.1144065e-01  3.2640529e+00 */
+    { 0x3f4f4870,0x3e4f32c0,0x3f1b7bc0 }, /* 189:  8.0969906e-01  2.0234203e-01  6.0735703e-01 */
+    { 0xbe1cf98b,0x409770f7,0x00000000 }, /* 190: -1.5329568e-01  4.7325397e+00  0.0000000e+00 */
+    { 0x3edea295,0xbfb0d22f,0x3fe87ad4 }, /* 191:  4.3483415e-01 -1.3814143e+00  1.8162484e+00 */
+    { 0xc4d3adba,0x4152adb9,0x00000000 }, /* 192: -1.6934290e+03  1.3167413e+01  0.0000000e+00 */
+    { 0x40a1f991,0xbd50408c,0x40a39a12 }, /* 193:  5.0617146e+00 -5.0842807e-02  5.1125574e+00 */
+    { 0xbf64e2f2,0xbfaaf1d7,0x3ee20178 }, /* 194: -8.9408791e-01 -1.3355054e+00  4.4141746e-01 */
+    { 0xbfa43e62,0x3e192bda,0x00000000 }, /* 195: -1.2831538e+00  1.4958134e-01  0.0000000e+00 */
+    { 0xbfa7718a,0x3c89a44b,0x00000000 }, /* 196: -1.3081524e+00  1.6801974e-02  0.0000000e+00 */
+    { 0x4044f877,0xbef1ca8e,0x406331c9 }, /* 197:  3.0776651e+00 -4.7224849e-01  3.5499136e+00 */
+    { 0xc0ec55d1,0x399799b6,0x00000000 }, /* 198: -7.3854756e+00  2.8915488e-04  0.0000000e+00 */
+    { 0x40c1366a,0xbfbaf220,0x40eff2f2 }, /* 199:  6.0378923e+00 -1.4605141e+00  7.4984064e+00 */
+    { 0x3e10b5d7,0xbee15b64,0x3f14db28 }, /* 200:  1.4131866e-01 -4.4015038e-01  5.8146906e-01 */
+    { 0x3fb27ff0,0x3fa566f8,0x3dd18f80 }, /* 201:  1.3945293e+00  1.2922049e+00  1.0232449e-01 */
+    { 0x3faea543,0xbe57506c,0x3fc98f50 }, /* 202:  1.3644184e+00 -2.1026772e-01  1.5746861e+00 */
+    { 0x3f355395,0xbf9484eb,0x3fef2eb6 }, /* 203:  7.0830661e-01 -1.1603063e+00  1.8686130e+00 */
+    { 0xc191ed39,0x403318ef,0x00000000 }, /* 204: -1.8240831e+01  2.7983968e+00  0.0000000e+00 */
+    { 0x3f6b5355,0x41655816,0x00000000 }, /* 205:  9.1924030e-01  1.4334005e+01  0.0000000e+00 */
+    { 0xb61b1f7d,0x3fc71512,0x00000000 }, /* 206: -2.3115128e-06  1.5553305e+00  0.0000000e+00 */
+    { 0xbde66394,0x3ed73369,0x00000000 }, /* 207: -1.1249462e-01  4.2031410e-01  0.0000000e+00 */
+    { 0x4068b6f3,0xbfaaebe8,0x409f1674 }, /* 208:  3.6361663e+00 -1.3353243e+00  4.9714909e+00 */
+    { 0x40ff00bd,0xc0afd7d7,0x41576c4a }, /* 209:  7.9688401e+00 -5.4950976e+00  1.3463938e+01 */
+    { 0xbccba4f6,0xbc5f1954,0x00000000 }, /* 210: -2.4858933e-02 -1.3616879e-02  0.0000000e+00 */
+    { 0xbfb32b03,0xbfb44669,0x3c0db300 }, /* 211: -1.3997501e+00 -1.4083987e+00  8.6486340e-03 */
+    { 0xc0ba0266,0x3e21f112,0x00000000 }, /* 212: -5.8127928e+00  1.5814617e-01  0.0000000e+00 */
+    { 0x3e951ec5,0x3e9b96ef,0x00000000 }, /* 213:  2.9125038e-01  3.0388591e-01  0.0000000e+00 */
+    { 0x3f428fca,0x3fa5d472,0x00000000 }, /* 214:  7.6000655e-01  1.2955458e+00  0.0000000e+00 */
+    { 0x3edf11ac,0xbec3e603,0x3f517bd8 }, /* 215:  4.3568170e-01 -3.8261423e-01  8.1829596e-01 */
+    { 0x4053b6bf,0x40e27196,0x00000000 }, /* 216:  3.3080289e+00  7.0763655e+00  0.0000000e+00 */
+    { 0xc1018f18,0x3d0c4b68,0x00000000 }, /* 217: -8.0974350e+00  3.4251601e-02  0.0000000e+00 */
+    { 0xbea63c22,0x3f68016b,0x00000000 }, /* 218: -3.2467753e-01  9.0627164e-01  0.0000000e+00 */
+    { 0xbef93b9e,0x3d4d15de,0x00000000 }, /* 219: -4.8678297e-01  5.0069682e-02  0.0000000e+00 */
+    { 0xbfbfc4d2,0xbf62ac52,0x00000000 }, /* 220: -1.4981940e+00 -8.8544190e-01  0.0000000e+00 */
+    { 0xbe5c6596,0x3f9f54b7,0x00000000 }, /* 221: -2.1523127e-01  1.2447728e+00  0.0000000e+00 */
+    { 0xbf4bc023,0x3fae9aea,0x00000000 }, /* 222: -7.9590052e-01  1.3641026e+00  0.0000000e+00 */
+    { 0xb83ad2b3,0xbf49b289,0x3f49af9e }, /* 223: -4.4542085e-05 -7.8788048e-01  7.8783596e-01 */
+    { 0xbf9c0946,0x3ea9da7b,0x00000000 }, /* 224: -1.2190330e+00  3.3174500e-01  0.0000000e+00 */
+    { 0xbc247485,0xc0262f27,0x40258ab2 }, /* 225: -1.0037546e-02 -2.5966280e+00  2.5865903e+00 */
+    { 0x4076b931,0x3f006af6,0x40569e74 }, /* 226:  3.8550532e+00  5.0163209e-01  3.3534212e+00 */
+    { 0xbf3bbdb5,0x3fbb52bd,0x00000000 }, /* 227: -7.3336345e-01  1.4634625e+00  0.0000000e+00 */
+    { 0x4014f0cb,0xbfa7f887,0x4068ed0e }, /* 228:  2.3271968e+00 -1.3122720e+00  3.6394687e+00 */
+    { 0xb4fde018,0x3e56dfe2,0x00000000 }, /* 229: -4.7287972e-07  2.0983842e-01  0.0000000e+00 */
+    { 0xc022d5e6,0x3fb892d5,0x00000000 }, /* 230: -2.5443053e+00  1.4419810e+00  0.0000000e+00 */
+    { 0xc1294ccb,0x3f51472b,0x00000000 }, /* 231: -1.0581248e+01  8.1749219e-01  0.0000000e+00 */
+    { 0x4e65dde8,0xc184e528,0x4e65dde8 }, /* 232:  9.6413133e+08 -1.6611893e+01  9.6413133e+08 */
+    { 0xbf6623f2,0xbfb15cb1,0x3ef92ae0 }, /* 233: -8.9898598e-01 -1.3856412e+00  4.8665524e-01 */
+    { 0xbed9f314,0x413c2c46,0x00000000 }, /* 234: -4.2568266e-01  1.1760809e+01  0.0000000e+00 */
+    { 0x3d753a67,0xbf47fcd2,0x3f575078 }, /* 235:  5.9870150e-02 -7.8120148e-01  8.4107161e-01 */
+    { 0xbf4a06a2,0xbec334c4,0x00000000 }, /* 236: -7.8916371e-01 -3.8126194e-01  0.0000000e+00 */
+    { 0xbec62c0f,0x408825b4,0x00000000 }, /* 237: -3.8705489e-01  4.2546024e+00  0.0000000e+00 */
+    { 0xbfade1fb,0x3f5947d3,0x00000000 }, /* 238: -1.3584589e+00  8.4875220e-01  0.0000000e+00 */
+    { 0xbe96d050,0x3fadb615,0x00000000 }, /* 239: -2.9455805e-01  1.3571192e+00  0.0000000e+00 */
+    { 0xbfc06d28,0x4016b3e1,0x00000000 }, /* 240: -1.5033312e+00  2.3547289e+00  0.0000000e+00 */
+    { 0xbeaec912,0xbfbacaa6,0x3f8f1862 }, /* 241: -3.4137779e-01 -1.4593093e+00  1.1179316e+00 */
+    { 0xbf5d0361,0xbdcc7dc7,0x00000000 }, /* 242: -8.6333281e-01 -9.9849276e-02  0.0000000e+00 */
+    { 0xc0bdf6f0,0xbfaf3298,0x00000000 }, /* 243: -5.9363937e+00 -1.3687315e+00  0.0000000e+00 */
+    { 0x40073ae8,0x40cbdf1c,0x00000000 }, /* 244:  2.1129704e+00  6.3709850e+00  0.0000000e+00 */
+    { 0x3f63111a,0xbeef59a8,0x3fad5ef7 }, /* 245:  8.8697970e-01 -4.6748090e-01  1.3544606e+00 */
+    { 0xc1f42cb6,0xbeb04e3b,0x00000000 }, /* 246: -3.0521832e+01 -3.4434685e-01  0.0000000e+00 */
+    { 0xd968428e,0x3f630d88,0x00000000 }, /* 247: -4.0859608e+15  8.8692522e-01  0.0000000e+00 */
+    { 0x3c719673,0x3f4c1e80,0x00000000 }, /* 248:  1.4745343e-02  7.9734039e-01  0.0000000e+00 */
+    { 0x408f12dc,0xc5ba3c67,0x45ba602c }, /* 249:  4.4710522e+00 -5.9595503e+03  5.9640215e+03 */
+    { 0xbec90491,0xbfbddd03,0x3f8b9bdf }, /* 250: -3.9261296e-01 -1.4833072e+00  1.0906943e+00 */
+    { 0xbeaeade7,0x40ab5a07,0x00000000 }, /* 251: -3.4117052e-01  5.3547397e+00  0.0000000e+00 */
+    { 0x3e3e502d,0x3e8c3083,0x00000000 }, /* 252:  1.8585272e-01  2.7380762e-01  0.0000000e+00 */
+    { 0x3f9576ce,0xb99b7d13,0x3f958086 }, /* 253:  1.1676881e+00 -2.9657091e-04  1.1679847e+00 */
+    { 0x3e60b1b4,0x3a165700,0x3e601b5d }, /* 254:  2.1942788e-01  5.7350099e-04  2.1885438e-01 */
+    { 0xbf46229b,0x409e774b,0x00000000 }, /* 255: -7.7396554e-01  4.9520621e+00  0.0000000e+00 */
+    { 0x3fa97f20,0x3d85dd7b,0x3fa12148 }, /* 256:  1.3241920e+00  6.5363847e-02  1.2588282e+00 */
+    { 0x40e7c2e2,0x400563c9,0x40a510fe }, /* 257:  7.2425394e+00  2.0842154e+00  5.1583242e+00 */
+    { 0xc06bd32c,0x3d95fc16,0x00000000 }, /* 258: -3.6847639e+00  7.3234722e-02  0.0000000e+00 */
+    { 0x410f17b9,0xc06b4ee9,0x4149eb73 }, /* 259:  8.9432917e+00 -3.6766913e+00  1.2619983e+01 */
+    { 0xbe744cfc,0xbf4fe702,0x3f12d3c3 }, /* 260: -2.3857492e-01 -8.1211865e-01  5.7354373e-01 */
+    { 0x3e9fe398,0xc05a2e3b,0x406e2aae }, /* 261:  3.1228328e-01 -3.4090717e+00  3.7213550e+00 */
+    { 0xbf5f11ba,0x3e9d9b48,0x00000000 }, /* 262: -8.7136424e-01  3.0782533e-01  0.0000000e+00 */
+    { 0xc03cdb06,0xbf49009e,0x00000000 }, /* 263: -2.9508681e+00 -7.8516567e-01  0.0000000e+00 */
+    { 0xd6b46d94,0x3fb434c7,0x00000000 }, /* 264: -9.9191364e+13  1.4078606e+00  0.0000000e+00 */
+    { 0xbef2e4c7,0xbe086244,0x00000000 }, /* 265: -4.7440168e-01 -1.3318735e-01  0.0000000e+00 */
+    { 0xc84e4ee3,0xc001a386,0x00000000 }, /* 266: -2.1125955e+05 -2.0256057e+00  0.0000000e+00 */
+    { 0x4399130f,0x3e885b43,0x4398f0f8 }, /* 267:  3.0614890e+02  2.6632127e-01  3.0588257e+02 */
+    { 0x3fc78794,0xbd84f870,0x3fcfd71b }, /* 268:  1.5588250e+00 -6.4926982e-02  1.6237520e+00 */
+    { 0xc014876f,0xbe9782c0,0x00000000 }, /* 269: -2.3207662e+00 -2.9591942e-01  0.0000000e+00 */
+    { 0xbf4aeb77,0x3e847a63,0x00000000 }, /* 270: -7.9265541e-01  2.5874624e-01  0.0000000e+00 */
+    { 0x3fb7142d,0x3f4b672f,0x3f22c12b }, /* 271:  1.4303032e+00  7.9454321e-01  6.3576001e-01 */
+    { 0xbe042c4d,0x6c526e6f,0x00000000 }, /* 272: -1.2907524e-01  1.0175837e+27  0.0000000e+00 */
+    { 0xbe650e4a,0xbf5a208b,0x3f20dcf8 }, /* 273: -2.2368732e-01 -8.5205907e-01  6.2837172e-01 */
+    { 0xc051d9ab,0xc1674b01,0x4132d496 }, /* 274: -3.2789104e+00 -1.4455812e+01  1.1176901e+01 */
+    { 0xc11deae4,0xbec71e2a,0x00000000 }, /* 275: -9.8698463e+00 -3.8890201e-01  0.0000000e+00 */
+    { 0xd1aae354,0x3c019166,0x00000000 }, /* 276: -9.1744797e+10  7.9082008e-03  0.0000000e+00 */
+    { 0x40590535,0xc0421fad,0x40cd9271 }, /* 277:  3.3909428e+00 -3.0331833e+00  6.4241261e+00 */
+    { 0xbf4d655b,0x3e8989f2,0x00000000 }, /* 278: -8.0232781e-01  2.6863056e-01  0.0000000e+00 */
+    { 0xbebfb0cf,0xbf489838,0x3ed17fa1 }, /* 279: -3.7439582e-01 -7.8357267e-01  4.0917686e-01 */
+    { 0xc06d2967,0x3e75b75b,0x00000000 }, /* 280: -3.7056520e+00  2.3995726e-01  0.0000000e+00 */
+    { 0xbfbd8931,0xbf717bcb,0x00000000 }, /* 281: -1.4807492e+00 -9.4329518e-01  0.0000000e+00 */
+    { 0xbf5fe49e,0xd92e9088,0x592e9088 }, /* 282: -8.7458217e-01 -3.0709725e+15  3.0709725e+15 */
+    { 0xc03a22fc,0xbf91cc4a,0x00000000 }, /* 283: -2.9083853e+00 -1.1390469e+00  0.0000000e+00 */
+    { 0xc094bc4c,0x43b4c720,0x00000000 }, /* 284: -4.6479855e+00  3.6155566e+02  0.0000000e+00 */
+    { 0x3f56201f,0xbada2104,0x3f568d30 }, /* 285:  8.3642763e-01 -1.6641920e-03  8.3809185e-01 */
+    { 0x45f17867,0x3f4dfadb,0x45f171f7 }, /* 286:  7.7270503e+03  8.0460900e-01  7.7262456e+03 */
+    { 0x3ebe6cc8,0x3fb9830d,0x00000000 }, /* 287:  3.7192369e-01  1.4493119e+00  0.0000000e+00 */
+    { 0xbedb7a5f,0x3f3f8276,0x00000000 }, /* 288: -4.2866799e-01  7.4808443e-01  0.0000000e+00 */
+    { 0xc06e6ca5,0x409bdeb9,0x00000000 }, /* 289: -3.7253811e+00  4.8709378e+00  0.0000000e+00 */
+    { 0x3fb66059,0xc0b8069b,0x40e59eb1 }, /* 290:  1.4248153e+00 -5.7508063e+00  7.1756215e+00 */
+    { 0xbfa6826d,0xc18549c9,0x4175c344 }, /* 291: -1.3008553e+00 -1.6661028e+01  1.5360172e+01 */
+    { 0x3da39768,0x4016a041,0x00000000 }, /* 292:  7.9878628e-02  2.3535311e+00  0.0000000e+00 */
+    { 0xbbeb159b,0x3c02ab12,0x00000000 }, /* 293: -7.1742064e-03  7.9753567e-03  0.0000000e+00 */
+    { 0x406347e9,0xc02e1d32,0x40c8b28e }, /* 294:  3.5512640e+00 -2.7205319e+00  6.2717962e+00 */
+    { 0x3f4c021e,0xbe903821,0x3f8a0f17 }, /* 295:  7.9690731e-01 -2.8167823e-01  1.0785855e+00 */
+    { 0xbecf6b9d,0xbfb25725,0x3f7cf87c }, /* 296: -4.0511790e-01 -1.3932844e+00  9.8816657e-01 */
+    { 0xbf4e71c1,0x3fc87d64,0x00000000 }, /* 297: -8.0642325e-01  1.5663266e+00  0.0000000e+00 */
+    { 0x405ad7fc,0x3f4b6f11,0x4027fc38 }, /* 298:  3.4194326e+00  7.9466349e-01  2.6247692e+00 */
+    { 0x27b48156,0x3e770123,0x00000000 }, /* 299:  5.0100262e-15  2.4121527e-01  0.0000000e+00 */
+    { 0xbe9f4b00,0xbe8377f7,0x00000000 }, /* 300: -3.1111908e-01 -2.5677463e-01  0.0000000e+00 */
+    { 0xbfa6daba,0x3e926c8c,0x00000000 }, /* 301: -1.3035500e+00  2.8598440e-01  0.0000000e+00 */
+    { 0x406850ab,0xbfbc5d9d,0x40a33fbd }, /* 302:  3.6299236e+00 -1.4716069e+00  5.1015306e+00 */
+    { 0x3f54141e,0x3fb53817,0x00000000 }, /* 303:  8.2843196e-01  1.4157742e+00  0.0000000e+00 */
+    { 0x3f63b080,0xbfadcd46,0x400fd2c3 }, /* 304:  8.8941193e-01 -1.3578269e+00  2.2472389e+00 */
+    { 0xc040b10f,0xbe1e7cbc,0x00000000 }, /* 305: -3.0108068e+00 -1.5477270e-01  0.0000000e+00 */
+    { 0x3d8d79f7,0x3f454a54,0x00000000 }, /* 306:  6.9080286e-02  7.7066541e-01  0.0000000e+00 */
+    { 0x41592182,0xd221d271,0x5221d271 }, /* 307:  1.3570681e+01 -1.7375509e+11  1.7375509e+11 */
+    { 0xc13fdb34,0x3d0a731d,0x00000000 }, /* 308: -1.1991016e+01  3.3801187e-02  0.0000000e+00 */
+    { 0xc0885074,0x400eb1cd,0x00000000 }, /* 309: -4.2598209e+00  2.2296021e+00  0.0000000e+00 */
+    { 0x3e776099,0x401cf49f,0x00000000 }, /* 310:  2.4157943e-01  2.4524305e+00  0.0000000e+00 */
+    { 0xc05361a7,0x3fbc1927,0x00000000 }, /* 311: -3.3028352e+00  1.4695176e+00  0.0000000e+00 */
+    { 0xbf43e367,0x3daf5f02,0x00000000 }, /* 312: -7.6518863e-01  8.5630432e-02  0.0000000e+00 */
+    { 0x4034f9a3,0xbe55c52d,0x404255f6 }, /* 313:  2.8277366e+00 -2.0875998e-01  3.0364966e+00 */
+    { 0x4063f455,0x4900da4b,0x00000000 }, /* 314:  3.5617878e+00  5.2778069e+05  0.0000000e+00 */
+    { 0xc039e1e9,0x3f471b39,0x00000000 }, /* 315: -2.9044135e+00  7.7775913e-01  0.0000000e+00 */
+    { 0xbf44cbe9,0x4c7e78dc,0x00000000 }, /* 316: -7.6873642e-01  6.6708336e+07  0.0000000e+00 */
+    { 0xc03fbc83,0x3ef572d3,0x00000000 }, /* 317: -2.9958808e+00  4.7939166e-01  0.0000000e+00 */
+    { 0xbec4cdc0,0x3fa52f9a,0x00000000 }, /* 318: -3.8438225e-01  1.2905152e+00  0.0000000e+00 */
+    { 0xbfa058ff,0x40b71cb2,0x00000000 }, /* 319: -1.2527159e+00  5.7222528e+00  0.0000000e+00 */
+    { 0x3eb22648,0x40337d57,0x00000000 }, /* 320:  3.4794831e-01  2.8045251e+00  0.0000000e+00 */
+    { 0x3faf607d,0x39ab472b,0x3faf55c9 }, /* 321:  1.3701321e+00  3.2668686e-04  1.3698055e+00 */
+    { 0xbdf7c144,0xb51b17e4,0x00000000 }, /* 322: -1.2097409e-01 -5.7776765e-07  0.0000000e+00 */
+    { 0xbeba8ed7,0x3ebffa13,0x00000000 }, /* 323: -3.6437103e-01  3.7495479e-01  0.0000000e+00 */
+    { 0xc0156112,0x401e3180,0x00000000 }, /* 324: -2.3340497e+00  2.4717712e+00  0.0000000e+00 */
+    { 0x3e5e9c95,0x3f4a5713,0x00000000 }, /* 325:  2.1739419e-01  7.9039115e-01  0.0000000e+00 */
+    { 0x4110a613,0xc0952210,0x415b371b }, /* 326:  9.0405455e+00 -4.6604080e+00  1.3700953e+01 */
+    { 0x41aafd83,0xbebc1993,0x41adede9 }, /* 327:  2.1373785e+01 -3.6738262e-01  2.1741167e+01 */
+    { 0xc3079fe5,0x4396404b,0x00000000 }, /* 328: -1.3562459e+02  3.0050229e+02  0.0000000e+00 */
+    { 0x3e13b9d2,0xebb82611,0x6bb82611 }, /* 329:  1.4426354e-01 -4.4524423e+26  4.4524423e+26 */
+    { 0x420fb49a,0x404f7b0c,0x4202bce9 }, /* 330:  3.5926369e+01  3.2418852e+00  3.2684483e+01 */
+    { 0x3fb32389,0x40385726,0x00000000 }, /* 331:  1.3995219e+00  2.8803191e+00  0.0000000e+00 */
+    { 0xc1270a07,0xc158dc3f,0x404748e0 }, /* 332: -1.0439948e+01 -1.3553771e+01  3.1138229e+00 */
+    { 0xc1d564bc,0xb97ea63d,0x00000000 }, /* 333: -2.6674187e+01 -2.4285256e-04  0.0000000e+00 */
+    { 0xbf9fa732,0x401da02f,0x00000000 }, /* 334: -1.2472899e+00  2.4629018e+00  0.0000000e+00 */
+    { 0xc016c91e,0x42404291,0x00000000 }, /* 335: -2.3560252e+00  4.8065006e+01  0.0000000e+00 */
+    { 0xbfa64ac8,0x3f56240a,0x00000000 }, /* 336: -1.2991571e+00  8.3648741e-01  0.0000000e+00 */
+    { 0x3e9cea3d,0xbe8d8c71,0x3f153b57 }, /* 337:  3.0647460e-01 -2.7646211e-01  5.8293670e-01 */
+    { 0x50272c69,0x3efe998d,0x50272c69 }, /* 338:  1.1218822e+10  4.9726525e-01  1.1218822e+10 */
+    { 0xbb49673e,0xbf41e62f,0x3f411cc8 }, /* 339: -3.0731703e-03 -7.5741857e-01  7.5434542e-01 */
+    { 0xc3439d88,0x3aab9848,0x00000000 }, /* 340: -1.9561536e+02  1.3091648e-03  0.0000000e+00 */
+    { 0x3f800000,0xc08d538d,0x40ad538d }, /* 341:  1.0000000e+00 -4.4164491e+00  5.4164491e+00 */
+    { 0xbd674573,0xbf48f4d9,0x3f3a8082 }, /* 342: -5.6462716e-02 -7.8498608e-01  7.2852337e-01 */
+    { 0x3de031ae,0xbe9b047a,0x3ed310e6 }, /* 343:  1.0946976e-01 -3.0276853e-01  4.1223830e-01 */
+    { 0xbf491011,0xbf60261b,0x3db8b050 }, /* 344: -7.8540140e-01 -8.7558144e-01  9.0180039e-02 */
+    { 0xbf9af73b,0x305a1b54,0x00000000 }, /* 345: -1.2106699e+00  7.9346774e-10  0.0000000e+00 */
+    { 0xbf4defc9,0x3f507546,0x00000000 }, /* 346: -8.0444008e-01  8.1428945e-01  0.0000000e+00 */
+    { 0x3e9b05e7,0x43816769,0x00000000 }, /* 347:  3.0277941e-01  2.5880789e+02  0.0000000e+00 */
+    { 0xbed3a3f7,0x41e30552,0x00000000 }, /* 348: -4.1336033e-01  2.8377598e+01  0.0000000e+00 */
+    { 0x3824538b,0xbe3d9e48,0x3e3da88d }, /* 349:  3.9178452e-05 -1.8517411e-01  1.8521328e-01 */
+    { 0xc0ae818a,0x341534ec,0x00000000 }, /* 350: -5.4533129e+00  1.3895959e-07  0.0000000e+00 */
+    { 0xbff9a8a9,0xb20350a2,0x00000000 }, /* 351: -1.9504596e+00 -7.6435374e-09  0.0000000e+00 */
+    { 0x3cf9b2c5,0x3e1e9718,0x00000000 }, /* 352:  3.0480752e-02  1.5487325e-01  0.0000000e+00 */
+    { 0xc51beef6,0x41fbaffd,0x00000000 }, /* 353: -2.4949351e+03  3.1460932e+01  0.0000000e+00 */
+    { 0xbef928f7,0x3ec63eb0,0x00000000 }, /* 354: -4.8664066e-01  3.8719702e-01  0.0000000e+00 */
+    { 0xc392cce9,0x3e0d934b,0x00000000 }, /* 355: -2.9360086e+02  1.3825719e-01  0.0000000e+00 */
+    { 0x3df8b087,0x3f407a6e,0x00000000 }, /* 356:  1.2143045e-01  7.5186813e-01  0.0000000e+00 */
+    { 0xc4f4db7e,0xc127cbc5,0x00000000 }, /* 357: -1.9588591e+03 -1.0487248e+01  0.0000000e+00 */
+    { 0xbf55a79a,0xc39ef275,0x439e87a1 }, /* 358: -8.3458865e-01 -3.1789420e+02  3.1705960e+02 */
+    { 0xbcebb48a,0xc002bc36,0x4000e4cd }, /* 359: -2.8772611e-02 -2.0427375e+00  2.0139649e+00 */
+    { 0xc0b2c4e6,0xbfe8aedb,0x00000000 }, /* 360: -5.5865355e+00 -1.8178362e+00  0.0000000e+00 */
+    { 0x414fa14e,0x323dd6ac,0x414fa14e }, /* 361:  1.2976881e+01  1.1050059e-08  1.2976881e+01 */
+    { 0xcc75cd50,0xc1f3795c,0x00000000 }, /* 362: -6.4435520e+07 -3.0434258e+01  0.0000000e+00 */
+    { 0x3feb6a6f,0x40bccf68,0x00000000 }, /* 363:  1.8391856e+00  5.9003181e+00  0.0000000e+00 */
+    { 0xbaca0f3e,0xbfb8bb82,0x3fb888fe }, /* 364: -1.5415919e-03 -1.4432223e+00  1.4416807e+00 */
+    { 0xbe6f4767,0x3fed38df,0x00000000 }, /* 365: -2.3367082e-01  1.8532981e+00  0.0000000e+00 */
+    { 0x3e855d19,0x3fb9763c,0x00000000 }, /* 366:  2.6047590e-01  1.4489207e+00  0.0000000e+00 */
+    { 0xbf74b264,0x3f53769a,0x00000000 }, /* 367: -9.5584702e-01  8.2602847e-01  0.0000000e+00 */
+    { 0xbe98c373,0x3eab442a,0x00000000 }, /* 368: -2.9836616e-01  3.3450443e-01  0.0000000e+00 */
+    { 0xc05ae697,0xbfbfae75,0x00000000 }, /* 369: -3.4203241e+00 -1.4975115e+00  0.0000000e+00 */
+    { 0xbebca1c8,0x3eef7d9a,0x00000000 }, /* 370: -3.6842179e-01  4.6775514e-01  0.0000000e+00 */
+    { 0xc49232e5,0xc59ac614,0x456c72b6 }, /* 371: -1.1695905e+03 -4.9527598e+03  3.7831694e+03 */
+    { 0xbf63b37a,0xbe57148f,0x00000000 }, /* 372: -8.8945735e-01 -2.1003936e-01  0.0000000e+00 */
+    { 0x3e5accbf,0x3ed45909,0x00000000 }, /* 373:  2.1367167e-01  4.1474178e-01  0.0000000e+00 */
+    { 0x3ec5cbf3,0x3ed4aadb,0x00000000 }, /* 374:  3.8632163e-01  4.1536602e-01  0.0000000e+00 */
+    { 0x40569e9d,0x3fc904d9,0x3fe43861 }, /* 375:  3.3534310e+00  1.5704604e+00  1.7829705e+00 */
+    { 0x3f60032a,0xbf55b8b2,0x3fdaddee }, /* 376:  8.7504828e-01 -8.3484948e-01  1.7098978e+00 */
+    { 0xbe9190aa,0xbfb2fe55,0x3f8e9a2a }, /* 377: -2.8430682e-01 -1.3983866e+00  1.1140797e+00 */
+    { 0xc0106c50,0x3e4dbac1,0x00000000 }, /* 378: -2.2566109e+00  2.0090772e-01  0.0000000e+00 */
+    { 0xbe9544c5,0x4057eb30,0x00000000 }, /* 379: -2.9154029e-01  3.3737297e+00  0.0000000e+00 */
+    { 0x3e52ecb6,0x3fbf8eae,0x00000000 }, /* 380:  2.0598111e-01  1.4965417e+00  0.0000000e+00 */
+    { 0xbf53f0dc,0x3ee87338,0x00000000 }, /* 381: -8.2789397e-01  4.5400405e-01  0.0000000e+00 */
+    { 0x3ecd7972,0x4036e963,0x00000000 }, /* 382:  4.0131718e-01  2.8579948e+00  0.0000000e+00 */
+    { 0x40a381ad,0x3fe64de7,0x4053dc66 }, /* 383:  5.1095796e+00  1.7992524e+00  3.3103271e+00 */
+    { 0x409e187e,0x3fa19902,0x406b647b }, /* 384:  4.9404898e+00  1.2624819e+00  3.6780078e+00 */
+    { 0x3bcd0a3a,0xbf41c9bc,0x3f4363d0 }, /* 385:  6.2573226e-03 -7.5698447e-01  7.6324177e-01 */
+    { 0xc079c18f,0x3e88f056,0x00000000 }, /* 386: -3.9024389e+00  2.6745862e-01  0.0000000e+00 */
+    { 0xc048e664,0x409615c1,0x00000000 }, /* 387: -3.1390619e+00  4.6901555e+00  0.0000000e+00 */
+    { 0x4492573f,0x419c2f95,0x448fe681 }, /* 388:  1.1707264e+03  1.9523233e+01  1.1512032e+03 */
+    { 0x3982d550,0x416bdd73,0x00000000 }, /* 389:  2.4954462e-04  1.4741565e+01  0.0000000e+00 */
+    { 0xc004345e,0x9946168e,0x00000000 }, /* 390: -2.0656962e+00 -1.0240915e-23  0.0000000e+00 */
+    { 0x3ed10ae1,0x3ef0031c,0x00000000 }, /* 391:  4.0828612e-01  4.6877372e-01  0.0000000e+00 */
+    { 0xc14cd26a,0x43599bb9,0x00000000 }, /* 392: -1.2801371e+01  2.1760829e+02  0.0000000e+00 */
+    { 0x3ea1ef76,0x3f477a01,0x00000000 }, /* 393:  3.1628007e-01  7.7920538e-01  0.0000000e+00 */
+    { 0x4414122b,0xbf0d7d8a,0x4414358a }, /* 394:  5.9228387e+02 -5.5269682e-01  5.9283655e+02 */
+    { 0x3f4849c9,0xbf634683,0x3fd5c826 }, /* 395:  7.8237587e-01 -8.8779467e-01  1.6701705e+00 */
+    { 0x4093f7cd,0x3e1ecc92,0x408f0168 }, /* 396:  4.6239991e+00  1.5507725e-01  4.4689217e+00 */
+    { 0xc1392e85,0xbf572a26,0x00000000 }, /* 397: -1.1573857e+01 -8.4048688e-01  0.0000000e+00 */
+    { 0x40fb2d9b,0x4685a47c,0x00000000 }, /* 398:  7.8493171e+00  1.7106242e+04  0.0000000e+00 */
+    { 0xbed30caf,0xbee1c370,0x3ceb6c10 }, /* 399: -4.1220614e-01 -4.4094419e-01  2.8738052e-02 */
+    { 0xbfb1f10d,0xc1135d1e,0x40fa3df9 }, /* 400: -1.3901688e+00 -9.2102337e+00  7.8200650e+00 */
+    { 0x3f644879,0xbf0cdd0d,0x3fb892c3 }, /* 401:  8.9173084e-01 -5.5024797e-01  1.4419788e+00 */
+    { 0xbefeda15,0xc0258018,0x4005a4d5 }, /* 402: -4.9775758e-01 -2.5859432e+00  2.0881855e+00 */
+    { 0x403b0db7,0x3ec01c25,0x40230a32 }, /* 403:  2.9227121e+00  3.7521473e-01  2.5474973e+00 */
+    { 0xc1278628,0x3fabde7b,0x00000000 }, /* 404: -1.0470253e+01  1.3427271e+00  0.0000000e+00 */
+    { 0xbed51a7e,0x3e673283,0x00000000 }, /* 405: -4.1621774e-01  2.2577862e-01  0.0000000e+00 */
+    { 0xbefe10ae,0xc04df71c,0x402e3506 }, /* 406: -4.9622101e-01 -3.2182074e+00  2.7219863e+00 */
+    { 0xc048afb1,0xc7119f28,0x47119c05 }, /* 407: -3.1357234e+00 -3.7279156e+04  3.7276020e+04 */
+    { 0xc1ab59a9,0x4027a6e6,0x00000000 }, /* 408: -2.1418779e+01  2.6195617e+00  0.0000000e+00 */
+    { 0x431c1000,0x3f4ef75d,0x431b4109 }, /* 409:  1.5606250e+02  8.0846196e-01  1.5525404e+02 */
+    { 0x3e158c8c,0xbea57b5e,0x3ef041a4 }, /* 410:  1.4604396e-01 -3.2320684e-01  4.6925080e-01 */
+    { 0xbeeb370c,0xbde8acc1,0x00000000 }, /* 411: -4.5940435e-01 -1.1361075e-01  0.0000000e+00 */
+    { 0xc2038198,0xbed0194e,0x00000000 }, /* 412: -3.2876556e+01 -4.0644306e-01  0.0000000e+00 */
+    { 0xc05ad177,0x3e305f84,0x00000000 }, /* 413: -3.4190347e+00  1.7223936e-01  0.0000000e+00 */
+    { 0xc0cddd54,0x40cade2b,0x00000000 }, /* 414: -6.4332676e+00  6.3396201e+00  0.0000000e+00 */
+    { 0xbfc3368f,0xbf9854c5,0x00000000 }, /* 415: -1.5251025e+00 -1.1900870e+00  0.0000000e+00 */
+    { 0x3fa59a81,0xdbbdce97,0x5bbdce97 }, /* 416:  1.2937776e+00 -1.0685184e+17  1.0685184e+17 */
+    { 0xc02ceefa,0xbdba12a4,0x00000000 }, /* 417: -2.7020860e+00 -9.0855867e-02  0.0000000e+00 */
+    { 0xc8db1b8c,0xbfb13381,0x00000000 }, /* 418: -4.4873238e+05 -1.3843843e+00  0.0000000e+00 */
+    { 0x3510f318,0x40ab4966,0x00000000 }, /* 419:  5.3997928e-07  5.3527098e+00  0.0000000e+00 */
+    { 0x3f4ffd13,0x40a1778d,0x00000000 }, /* 420:  8.1245536e-01  5.0458436e+00  0.0000000e+00 */
+    { 0xbe0870e8,0x3e073292,0x00000000 }, /* 421: -1.3324320e-01  1.3202885e-01  0.0000000e+00 */
+    { 0xbef82f7b,0x402dd11f,0x00000000 }, /* 422: -4.8473725e-01  2.7158887e+00  0.0000000e+00 */
+    { 0xbef7f173,0x40b95ae2,0x00000000 }, /* 423: -4.8426399e-01  5.7923441e+00  0.0000000e+00 */
+    { 0xc01945cd,0xbdfe5a2e,0x00000000 }, /* 424: -2.3948853e+00 -1.2419544e-01  0.0000000e+00 */
+    { 0x3fa5f6a0,0xcbefad46,0x4befad47 }, /* 425:  1.2965889e+00 -3.1414924e+07  3.1414926e+07 */
+    { 0xbf6bd88f,0x421ca087,0x00000000 }, /* 426: -9.2127317e-01  3.9156765e+01  0.0000000e+00 */
+    { 0x40980617,0xc11a0ec5,0x416611d0 }, /* 427:  4.7507434e+00 -9.6286058e+00  1.4379349e+01 */
+    { 0xc100de2b,0xc3548fd5,0x434c81f2 }, /* 428: -8.0542402e+00 -2.1256184e+02  2.0450760e+02 */
+    { 0xbe8fef49,0xbfaaf128,0x3f86f556 }, /* 429: -2.8112248e-01 -1.3354845e+00  1.0543621e+00 */
+    { 0x414bc9db,0x3ed3c6bc,0x41452ba5 }, /* 430:  1.2736781e+01  4.1362560e-01  1.2323155e+01 */
+    { 0x3a22ec63,0xbedac27d,0x3edb13f3 }, /* 431:  6.2150339e-04 -4.2726508e-01  4.2788658e-01 */
+    { 0xbf58788a,0x41a8be65,0x00000000 }, /* 432: -8.4558928e-01  2.1092966e+01  0.0000000e+00 */
+    { 0x3ef40800,0xbe947a9f,0x3f444150 }, /* 433:  4.7662354e-01 -2.8999802e-01  7.6662159e-01 */
+    { 0xbfabe8d9,0x3ecf00a5,0x00000000 }, /* 434: -1.3430434e+00  4.0430179e-01  0.0000000e+00 */
+    { 0xc0830551,0xc4df6ec1,0x44deebbc }, /* 435: -4.0943990e+00 -1.7874611e+03  1.7833667e+03 */
+    { 0xc00f25a3,0x406816b0,0x00000000 }, /* 436: -2.2366722e+00  3.6263847e+00  0.0000000e+00 */
+    { 0x4cd51644,0xc06a4633,0x4cd51644 }, /* 437:  1.1171894e+08 -3.6605346e+00  1.1171894e+08 */
+    { 0x466f13b6,0x3f3c13ed,0x466f10c6 }, /* 438:  1.5300928e+04  7.3467904e-01  1.5300193e+04 */
+    { 0xc05a40ff,0xc04808c6,0x00000000 }, /* 439: -3.4102170e+00 -3.1255355e+00  0.0000000e+00 */
+    { 0x4062e39e,0xbfafb430,0x409d5edb }, /* 440:  3.5451427e+00 -1.3726864e+00  4.9178290e+00 */
+    { 0x3e175c8c,0x3ee3fa1a,0x00000000 }, /* 441:  1.4781398e-01  4.4526750e-01  0.0000000e+00 */
+    { 0xbec53e8e,0xbffc1bee,0x3fcacc4a }, /* 442: -3.8524288e-01 -1.9696023e+00  1.5843594e+00 */
+    { 0x406cf643,0xc2187402,0x42274366 }, /* 443:  3.7025306e+00 -3.8113289e+01  4.1815819e+01 */
+    { 0xc4bb63c8,0xbf6515ff,0x00000000 }, /* 444: -1.4991182e+03 -8.9486688e-01  0.0000000e+00 */
+    { 0x40e0ca8e,0xbfbccd37,0x4107feee }, /* 445:  7.0247259e+00 -1.4750127e+00  8.4997387e+00 */
+    { 0x9f24fd45,0xbf0a3492,0x3f0a3492 }, /* 446: -3.4937850e-20 -5.3986466e-01  5.3986466e-01 */
+    { 0xc06c2f6a,0xc0c8eea6,0x4025ade2 }, /* 447: -3.6903939e+00 -6.2791319e+00  2.5887380e+00 */
+    { 0x3eb51ebc,0xbf584d8d,0x3f996e76 }, /* 448:  3.5375011e-01 -8.4493333e-01  1.1986835e+00 */
+    { 0xc054d2be,0x40e7bf24,0x00000000 }, /* 449: -3.3253627e+00  7.2420826e+00  0.0000000e+00 */
+    { 0x412b1f36,0x3f4bace7,0x411e6468 }, /* 450:  1.0695120e+01  7.9560703e-01  9.8995132e+00 */
+    { 0x408a9945,0xc0afe4b8,0x411d3efe }, /* 451:  4.3312097e+00 -5.4966698e+00  9.8278790e+00 */
+    { 0x3fc2bdbd,0x40261715,0x00000000 }, /* 452:  1.5214154e+00  2.5951588e+00  0.0000000e+00 */
+    { 0xc09dbc96,0xb8255f98,0x00000000 }, /* 453: -4.9292707e+00 -3.9428094e-05  0.0000000e+00 */
+    { 0x3fa2abbb,0xc1e70e64,0x41f13920 }, /* 454:  1.2708658e+00 -2.8882027e+01  3.0152893e+01 */
+    { 0x3f3efa06,0xbf66475a,0x3fd2a0b0 }, /* 455:  7.4600255e-01 -8.9952624e-01  1.6455288e+00 */
+    { 0xc0d4d11a,0xbe95a619,0x00000000 }, /* 456: -6.6505251e+00 -2.9228285e-01  0.0000000e+00 */
+    { 0x3d28d7c8,0xc79d94d0,0x479d94d5 }, /* 457:  4.1221410e-02 -8.0681625e+04  8.0681664e+04 */
+    { 0xbf29b02a,0x4216ad62,0x00000000 }, /* 458: -6.6284430e-01  3.7669319e+01  0.0000000e+00 */
+    { 0x3ead7f0e,0xc07f235e,0x408a69a0 }, /* 459:  3.3885998e-01 -3.9865336e+00  4.3253937e+00 */
+    { 0x410fc082,0xc08139bd,0x41505d60 }, /* 460:  8.9844990e+00 -4.0382981e+00  1.3022797e+01 */
+    { 0x3fa5e90d,0x4787915c,0x00000000 }, /* 461:  1.2961746e+00  6.9410719e+04  0.0000000e+00 */
+    { 0x3fbeeb2c,0xbface61c,0x4035e8a4 }, /* 462:  1.4915519e+00 -1.3507724e+00  2.8423243e+00 */
+    { 0x3e845117,0xbf4a1208,0x3f861d4a }, /* 463:  2.5843117e-01 -7.8933764e-01  1.0477688e+00 */
+    { 0x3f93197d,0xbf436e84,0x3ff4d0bf }, /* 464:  1.1492153e+00 -7.6340508e-01  1.9126204e+00 */
+    { 0x3f57d924,0xbf3dda57,0x3fcad9be }, /* 465:  8.4315705e-01 -7.4161285e-01  1.5847700e+00 */
+    { 0x4032edb9,0x3e211fce,0x4028dbbc }, /* 466:  2.7957594e+00  1.5734789e-01  2.6384115e+00 */
+    { 0xbf55a229,0xbf39aa03,0x00000000 }, /* 467: -8.3450562e-01 -7.2525042e-01  0.0000000e+00 */
+    { 0x3cd89437,0xdf31cb87,0x5f31cb87 }, /* 468:  2.6437862e-02 -1.2811482e+19  1.2811482e+19 */
+    { 0x3e9c6dab,0x40194b21,0x00000000 }, /* 469:  3.0552420e-01  2.3952105e+00  0.0000000e+00 */
+    { 0xbdb5cf01,0x3f9416fc,0x00000000 }, /* 470: -8.8773735e-02  1.1569514e+00  0.0000000e+00 */
+    { 0x3fbc61e2,0x3ef2703d,0x3f7f8ba6 }, /* 471:  1.4717371e+00  4.7351256e-01  9.9822462e-01 */
+    { 0xa6d814d6,0x3fa9acaa,0x00000000 }, /* 472: -1.4993658e-15  1.3255818e+00  0.0000000e+00 */
+    { 0x421473b2,0xbfb12c66,0x4219fd15 }, /* 473:  3.7112984e+01 -1.3841674e+00  3.8497150e+01 */
+    { 0x426c5e06,0xbcd77d56,0x426c78f6 }, /* 474:  5.9091820e+01 -2.6304882e-02  5.9118126e+01 */
+    { 0xbf4de2a5,0x3cd08690,0x00000000 }, /* 475: -8.0423957e-01  2.5454789e-02  0.0000000e+00 */
+    { 0xc09eb598,0xbfa14c53,0x00000000 }, /* 476: -4.9596672e+00 -1.2601417e+00  0.0000000e+00 */
+    { 0x2c8cda8c,0x3fb58c7c,0x00000000 }, /* 477:  4.0033029e-12  1.4183497e+00  0.0000000e+00 */
+    { 0xc0e35762,0xbaaf622c,0x00000000 }, /* 478: -7.1044168e+00 -1.3380698e-03  0.0000000e+00 */
+    { 0x3ebcc047,0xbbb5244e,0x3ebf94d8 }, /* 479:  3.6865446e-01 -5.5280095e-03  3.7418246e-01 */
+    { 0x40254a08,0xbef65c0c,0x4044158a }, /* 480:  2.5826435e+00 -4.8117101e-01  3.0638146e+00 */
+    { 0x3f54550b,0x4018bd77,0x00000000 }, /* 481:  8.2942265e-01  2.3865640e+00  0.0000000e+00 */
+    { 0x400c870b,0x401d83b9,0x00000000 }, /* 482:  2.1957424e+00  2.4611647e+00  0.0000000e+00 */
+    { 0x40bf5f4f,0xc01611ea,0x41053422 }, /* 483:  5.9803843e+00 -2.3448434e+00  8.3252277e+00 */
+    { 0x40065316,0x40ade5f6,0x00000000 }, /* 484:  2.0988212e+00  5.4343214e+00  0.0000000e+00 */
+    { 0xb9ea3177,0x3ef86341,0x00000000 }, /* 485: -4.4668812e-04  4.8513225e-01  0.0000000e+00 */
+    { 0x3d7135c6,0x3f402553,0x00000000 }, /* 486:  5.8889173e-02  7.5056952e-01  0.0000000e+00 */
+    { 0xbe3f96c3,0xbee26d22,0x3e82a1c0 }, /* 487: -1.8709855e-01 -4.4223887e-01  2.5514030e-01 */
+    { 0xbd50c226,0x3fc61dd1,0x00000000 }, /* 488: -5.0966404e-02  1.5477849e+00  0.0000000e+00 */
+    { 0x3f48b058,0xbec56241,0x3f95b0bc }, /* 489:  7.8394079e-01 -3.8551524e-01  1.1694560e+00 */
+    { 0xc0fdf0be,0x3eb6da15,0x00000000 }, /* 490: -7.9356375e+00  3.5713258e-01  0.0000000e+00 */
+    { 0x48a94f1a,0xbfc41e8d,0x48a94f4b }, /* 491:  3.4674481e+05 -1.5321823e+00  3.4674634e+05 */
+    { 0xc02c1a58,0x3ee63cc8,0x00000000 }, /* 492: -2.6891079e+00  4.4968247e-01  0.0000000e+00 */
+    { 0x413d3f86,0x40834c08,0x40f73304 }, /* 493:  1.1828009e+01  4.1030312e+00  7.7249775e+00 */
+    { 0x3f058476,0xbfb11e5f,0x3ff3e09a }, /* 494:  5.2155244e-01 -1.3837394e+00  1.9052918e+00 */
+    { 0xc08a9462,0x3faac9eb,0x00000000 }, /* 495: -4.3306131e+00  1.3342870e+00  0.0000000e+00 */
+    { 0xbfc26bfc,0xb8d84d44,0x00000000 }, /* 496: -1.5189204e+00 -1.0314074e-04  0.0000000e+00 */
+    { 0xc53df871,0x3edc2b3b,0x00000000 }, /* 497: -3.0395276e+03  4.3001732e-01  0.0000000e+00 */
+    { 0xbee7e7c9,0x4189899e,0x00000000 }, /* 498: -4.5294026e-01  1.7192196e+01  0.0000000e+00 */
+    { 0x445e86f7,0xbe1b487a,0x445e90ac }, /* 499:  8.9010883e+02 -1.5164366e-01  8.9026050e+02 */
+    { 0x3d496be2,0x3f4f084d,0x00000000 }, /* 500:  4.9175151e-02  8.0872041e-01  0.0000000e+00 */
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]:  %#lx\n", index - 1, v.lo);
+#endif
+    exit (index ? index : -1);
+}
+
+int main ()
+{
+    union lofl_u x, y, z;
+    int i;
+    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	x.lo = pgm_read_dword (& t[i].x);
+	y.lo = pgm_read_dword (& t[i].y);
+	z.lo = pgm_read_dword (& t[i].z);
+	v.fl = fdim (x.fl, y.fl);
+
+	if (v.lo != z.lo)
+	    x_exit (i+1);
+    }
+    return 0;
+}
diff --git a/tests/simulate/math/floor-01.c b/tests/simulate/math/floor-01.c
new file mode 100644
index 0000000..ea33227
--- /dev/null
+++ b/tests/simulate/math/floor-01.c
@@ -0,0 +1,186 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of floor() function.
+   $Id$
+ */
+#include <math.h>
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+volatile union lofl_u v = { .lo = 1 };
+
+PROGMEM const struct {		/* Table of test cases.	*/
+    union lofl_u x;		/* argument	*/
+    union lofl_u z;		/* floor(x)	*/
+} t[] = {
+
+    /* Zero	*/
+    { { .fl= +0.0 },	{ .fl= +0.0 }	},
+    { { .fl= -0.0 },	{ .fl= -0.0 }	},
+
+    /* Normal	*/
+    { { .fl= 0.1 },		{ .fl= 0.0 }	},
+    { { .fl= 1.9 },		{ .fl= 1.0 }	},
+    { { .fl= 1000000.5 },	{ .fl= 1000000.0 } },
+    { { .fl= -0.1 },		{ .fl= -1.0 }	},
+    { { .fl= -1.9 },		{ .fl= -2.0 }	},
+    { { .fl= -1000000.5 },	{ .fl= -1000001.0 } },
+
+    /* Inf	*/
+    { { 0x7f800000 },	{ 0x7f800000 } },
+    { { 0xff800000 },	{ 0xff800000 } },
+    
+    /* Subnormal	*/
+    { { 0x00000001 }, { 0x00000000 } },
+    { { 0x00000100 }, { 0x00000000 } },
+    { { 0x00010000 }, { 0x00000000 } },
+    { { 0x007fffff }, { 0x00000000 } },
+    { { 0x80000001 }, { .fl= -1.0 } },
+    { { 0x80000100 }, { .fl= -1.0 } },
+    { { 0x80010000 }, { .fl= -1.0 } },
+    { { 0x807fffff }, { .fl= -1.0 } },
+    
+    /* Margin values	*/
+    { { 0x3f7fffff }, { .fl= 0.0 } },
+    { { 0x3f800000 }, { .fl= 1.0 } },
+    { { 0x3f800001 }, { .fl= 1.0 } },
+    { { 0x3fffffff }, { .fl= 1.0 } },
+    { { 0x40000000 }, { .fl= 2.0 } },
+    { { 0x40000001 }, { .fl= 2.0 } },
+    { { 0x403fffff }, { .fl= 2.0 } },
+    { { .fl= 0x0.ffffffp+23 }, { .fl= 0x0.fffffep+23 } },
+    { { .fl= 0x1.000000p+23 }, { .fl= 0x1.000000p+23 } },
+    { { 0x7f7fffff }, { 0x7f7fffff } },
+
+    { { 0xbf7fffff }, { .fl= -1.0 } },
+    { { 0xbf800000 }, { .fl= -1.0 } },
+    { { 0xbf800001 }, { .fl= -2.0 } },
+    { { 0xbfffffff }, { .fl= -2.0 } },
+    { { 0xc0000000 }, { .fl= -2.0 } },
+    { { 0xc0000001 }, { .fl= -3.0 } },
+    { { 0xc03fffff }, { .fl= -3.0 } },
+    { { .fl= -0x0.ffffffp+23 }, { .fl= -0x1.000000p+23 } },
+    { { .fl= -0x1.000000p+23 }, { .fl= -0x1.000000p+23 } },
+    { { 0xff7fffff }, { 0xff7fffff } },
+    
+    /* All possible shifts	*/
+    { { .fl= 0x0.ffffffp+00 }, { .fl= 0x0p+00 } },
+    { { .fl= 0x0.ffffffp+01 }, { .fl= 0x1p+00 } },
+    { { .fl= 0x0.ffffffp+02 }, { .fl= 0x3p+00 } },
+    { { .fl= 0x0.ffffffp+03 }, { .fl= 0x7p+00 } },
+    { { .fl= 0x0.ffffffp+04 }, { .fl= 0xfp+00 } },
+    { { .fl= 0x0.ffffffp+05 }, { .fl= 0x1fp+00 } },
+    { { .fl= 0x0.ffffffp+06 }, { .fl= 0x3fp+00 } },
+    { { .fl= 0x0.ffffffp+07 }, { .fl= 0x7fp+00 } },
+    { { .fl= 0x0.ffffffp+08 }, { .fl= 0xffp+00 } },
+    { { .fl= 0x0.ffffffp+09 }, { .fl= 0x1ffp+00 } },
+    { { .fl= 0x0.ffffffp+10 }, { .fl= 0x3ffp+00 } },
+    { { .fl= 0x0.ffffffp+11 }, { .fl= 0x7ffp+00 } },
+    { { .fl= 0x0.ffffffp+12 }, { .fl= 0xfffp+00 } },
+    { { .fl= 0x0.ffffffp+13 }, { .fl= 0x1fffp+00 } },
+    { { .fl= 0x0.ffffffp+14 }, { .fl= 0x3fffp+00 } },
+    { { .fl= 0x0.ffffffp+15 }, { .fl= 0x7fffp+00 } },
+    { { .fl= 0x0.ffffffp+16 }, { .fl= 0xffffp+00 } },
+    { { .fl= 0x0.ffffffp+17 }, { .fl= 0x1ffffp+00 } },
+    { { .fl= 0x0.ffffffp+18 }, { .fl= 0x3ffffp+00 } },
+    { { .fl= 0x0.ffffffp+19 }, { .fl= 0x7ffffp+00 } },
+    { { .fl= 0x0.ffffffp+20 }, { .fl= 0xfffffp+00 } },
+    { { .fl= 0x0.ffffffp+21 }, { .fl= 0x1fffffp+00 } },
+    { { .fl= 0x0.ffffffp+22 }, { .fl= 0x3fffffp+00 } },
+    { { .fl= 0x0.ffffffp+23 }, { .fl= 0x7fffffp+00 } },
+    { { .fl= 0x0.ffffffp+24 }, { .fl= 0xffffffp+00 } },
+    { { .fl= 0x0.ffffffp+25 }, { .fl= 0xffffffp+01 } },
+    { { .fl= 0x0.ffffffp+26 }, { .fl= 0xffffffp+02 } },
+    { { .fl= 0x0.ffffffp+27 }, { .fl= 0xffffffp+03 } },
+    { { .fl= 0x0.ffffffp+28 }, { .fl= 0xffffffp+04 } },
+    { { .fl= 0x0.ffffffp+29 }, { .fl= 0xffffffp+05 } },
+
+    /* All possible shifts with mantissa increment	*/
+    { { .fl= -0x0.ffffffp+00 }, { .fl= -0x1p+00 } },
+    { { .fl= -0x0.ffffffp+01 }, { .fl= -0x1p+01 } },
+    { { .fl= -0x0.ffffffp+02 }, { .fl= -0x1p+02 } },
+    { { .fl= -0x0.ffffffp+03 }, { .fl= -0x1p+03 } },
+    { { .fl= -0x0.ffffffp+04 }, { .fl= -0x1p+04 } },
+    { { .fl= -0x0.ffffffp+05 }, { .fl= -0x1p+05 } },
+    { { .fl= -0x0.ffffffp+06 }, { .fl= -0x1p+06 } },
+    { { .fl= -0x0.ffffffp+07 }, { .fl= -0x1p+07 } },
+    { { .fl= -0x0.ffffffp+08 }, { .fl= -0x1p+08 } },
+    { { .fl= -0x0.ffffffp+09 }, { .fl= -0x1p+09 } },
+    { { .fl= -0x0.ffffffp+10 }, { .fl= -0x1p+10 } },
+    { { .fl= -0x0.ffffffp+11 }, { .fl= -0x1p+11 } },
+    { { .fl= -0x0.ffffffp+12 }, { .fl= -0x1p+12 } },
+    { { .fl= -0x0.ffffffp+13 }, { .fl= -0x1p+13 } },
+    { { .fl= -0x0.ffffffp+14 }, { .fl= -0x1p+14 } },
+    { { .fl= -0x0.ffffffp+15 }, { .fl= -0x1p+15 } },
+    { { .fl= -0x0.ffffffp+16 }, { .fl= -0x1p+16 } },
+    { { .fl= -0x0.ffffffp+17 }, { .fl= -0x1p+17 } },
+    { { .fl= -0x0.ffffffp+18 }, { .fl= -0x1p+18 } },
+    { { .fl= -0x0.ffffffp+19 }, { .fl= -0x1p+19 } },
+    { { .fl= -0x0.ffffffp+20 }, { .fl= -0x1p+20 } },
+    { { .fl= -0x0.ffffffp+21 }, { .fl= -0x1p+21 } },
+    { { .fl= -0x0.ffffffp+22 }, { .fl= -0x1p+22 } },
+    { { .fl= -0x0.ffffffp+23 }, { .fl= -0x1p+23 } },
+    { { .fl= -0x0.ffffffp+24 }, { .fl= -0x1.fffffep+23 } },
+    { { .fl= -0x0.ffffffp+25 }, { .fl= -0x1.fffffep+24 } },
+    { { .fl= -0x0.ffffffp+26 }, { .fl= -0x1.fffffep+25 } },
+    { { .fl= -0x0.ffffffp+27 }, { .fl= -0x1.fffffep+26 } },
+    { { .fl= -0x0.ffffffp+28 }, { .fl= -0x1.fffffep+27 } },
+    { { .fl= -0x0.ffffffp+29 }, { .fl= -0x1.fffffep+28 } },
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]:  %#lx\n", index - 1, v.lo);
+#endif
+    exit (index ? index : -1);
+}
+
+int main ()
+{
+    union lofl_u x, z;
+    int i;
+    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	x.lo = pgm_read_dword (& t[i].x);
+	z.lo = pgm_read_dword (& t[i].z);
+	v.fl = floor (x.fl);
+	/* Comparison is integer to verify the zero sign.	*/
+	if (v.lo != z.lo)
+	    x_exit (i+1);
+    }
+    return 0;
+}
diff --git a/tests/simulate/math/fma-01.c b/tests/simulate/math/fma-01.c
new file mode 100644
index 0000000..b2eb7d4
--- /dev/null
+++ b/tests/simulate/math/fma-01.c
@@ -0,0 +1,92 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of fma().
+   $Id$
+ */
+#include <math.h>
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+volatile union lofl_u v = { .lo = 1 };
+
+PROGMEM const struct {		/* Table of test cases: res=fma(x,y,z)	*/
+    union lofl_u x, y, z, res;
+} t[] = {
+
+    /* 0.0 (and -0.0)	*/
+    { { 0x00000000 }, { 0x00000000 }, { 0x00000000 }, { 0x00000000 } },
+    { { 0x80000000 }, { 0x00000000 }, { 0x00000000 }, { 0x00000000 } },
+    { { 0x00000000 }, { 0x80000000 }, { 0x00000000 }, { 0x00000000 } },
+    { { 0x80000000 }, { 0x80000000 }, { 0x00000000 }, { 0x00000000 } },
+    { { 0x00000000 }, { 0x00000000 }, { 0x80000000 }, { 0x00000000 } },
+    { { 0x80000000 }, { 0x00000000 }, { 0x80000000 }, { 0x80000000 } },
+    { { 0x00000000 }, { 0x80000000 }, { 0x80000000 }, { 0x80000000 } },
+    { { 0x80000000 }, { 0x80000000 }, { 0x80000000 }, { 0x00000000 } },
+    
+    { { .fl =  1 }, { .fl =  2 }, { .fl =  3 }, { .fl =  5 } },
+    { { .fl = -1 }, { .fl =  2 }, { .fl =  3 }, { .fl =  1 } },
+    { { .fl =  1 }, { .fl = -2 }, { .fl =  3 }, { .fl =  1 } },
+    { { .fl = -1 }, { .fl = -2 }, { .fl =  3 }, { .fl =  5 } },
+    { { .fl =  1 }, { .fl =  2 }, { .fl = -3 }, { .fl = -1 } },
+    { { .fl = -1 }, { .fl =  2 }, { .fl = -3 }, { .fl = -5 } },
+    { { .fl =  1 }, { .fl = -2 }, { .fl = -3 }, { .fl = -5 } },
+    { { .fl = -1 }, { .fl = -2 }, { .fl = -3 }, { .fl = -1 } },
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]:  %#lx\n", index - 1, v.lo);
+#endif
+    exit (index ? index : -1);
+}
+
+int main ()
+{
+    union lofl_u x, y, z, res;
+    int i;
+    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	x.lo = pgm_read_dword (& t[i].x);
+	y.lo = pgm_read_dword (& t[i].y);
+	z.lo = pgm_read_dword (& t[i].z);
+	res.lo = pgm_read_dword (& t[i].res);
+	v.fl = fma (x.fl, y.fl, z.fl);
+	if (v.lo != res.lo)
+	    x_exit (i+1);
+    }
+    return 0;
+}
diff --git a/tests/simulate/math/fmax-01.c b/tests/simulate/math/fmax-01.c
new file mode 100644
index 0000000..95cb5f4
--- /dev/null
+++ b/tests/simulate/math/fmax-01.c
@@ -0,0 +1,174 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of fmax() function.
+   $Id$
+ */
+#include <math.h>
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+volatile union lofl_u v = { .lo = 1 };
+
+PROGMEM const struct {		/* Table of test cases	*/
+    union lofl_u x, y;		/* args		*/
+    union lofl_u z;		/* result	*/
+} t[] = {
+
+    /* fmax (0,0)	*/
+    { { .fl=  0.0 }, { .fl=  0.0 }, { .fl=  0.0 } },
+    { { .fl=  0.0 }, { .fl= -0.0 }, { .fl=  0.0 } },
+    { { .fl= -0.0 }, { .fl= -0.0 }, { .fl= -0.0 } },
+#ifdef	__AVR__
+    { { .fl= -0.0 }, { .fl=  0.0 }, { .fl=  0.0 } },	/* Glibc: --> -0.0 */
+#endif
+
+    /* fmax (NaN, finite)	*/
+    { { 0x7f800001 }, { 0x7f7fffff }, { 0x7f7fffff } },
+    { { 0x7f800100 }, { 0xff7fffff }, { 0xff7fffff } },
+    { { 0x7f810000 }, { 0x00000001 }, { 0x00000001 } },
+    { { 0x7fc00000 }, { 0x80000001 }, { 0x80000001 } },
+    { { 0x7ffffffe }, { 0x00000000 }, { 0x00000000 } },
+    { { 0x7fffffff }, { 0x80000000 }, { 0x80000000 } },
+
+    { { 0xff800001 }, { 0x7f7fffff }, { 0x7f7fffff } },
+    { { 0xff800100 }, { 0xff7fffff }, { 0xff7fffff } },
+    { { 0xff810000 }, { 0x00000001 }, { 0x00000001 } },
+    { { 0xffc00000 }, { 0x80000001 }, { 0x80000001 } },
+    { { 0xfffffffe }, { 0x00000000 }, { 0x00000000 } },
+    { { 0xffffffff }, { 0x80000000 }, { 0x80000000 } },
+
+    /* fmax (finite, NaN)	*/
+    { { 0x7f7fffff }, { 0x7f800001 }, { 0x7f7fffff } },
+    { { 0xff7fffff }, { 0x7f800100 }, { 0xff7fffff } },
+    { { 0x00000001 }, { 0x7f810000 }, { 0x00000001 } },
+    { { 0x80000001 }, { 0x7fc00000 }, { 0x80000001 } },
+    { { 0x00000000 }, { 0x7ffffffe }, { 0x00000000 } },
+    { { 0x80000000 }, { 0x7fffffff }, { 0x80000000 } },
+
+    { { 0x7f7fffff }, { 0xff800001 }, { 0x7f7fffff } },
+    { { 0xff7fffff }, { 0xff800100 }, { 0xff7fffff } },
+    { { 0x00000001 }, { 0xff810000 }, { 0x00000001 } },
+    { { 0x80000001 }, { 0xffc00000 }, { 0x80000001 } },
+    { { 0x00000000 }, { 0xfffffffe }, { 0x00000000 } },
+    { { 0x80000000 }, { 0xffffffff }, { 0x80000000 } },
+    
+    /* fmax (NaN, Inf)	*/
+    { { 0x7f800001 }, { 0x7f800000 }, { 0x7f800000 } },
+    { { 0x7f800001 }, { 0xff800000 }, { 0xff800000 } },
+    { { 0xff800001 }, { 0x7f800000 }, { 0x7f800000 } },
+    { { 0xff800001 }, { 0xff800000 }, { 0xff800000 } },
+    { { 0x7fffffff }, { 0x7f800000 }, { 0x7f800000 } },
+    { { 0x7fffffff }, { 0xff800000 }, { 0xff800000 } },
+    { { 0xffffffff }, { 0x7f800000 }, { 0x7f800000 } },
+    { { 0xffffffff }, { 0xff800000 }, { 0xff800000 } },
+
+    /* fmax (Inf, NaN)	*/
+    { { 0x7f800000 }, { 0x7f800001 }, { 0x7f800000 } },
+    { { 0xff800000 }, { 0x7f800001 }, { 0xff800000 } },
+    { { 0x7f800000 }, { 0xff800001 }, { 0x7f800000 } },
+    { { 0xff800000 }, { 0xff800001 }, { 0xff800000 } },
+    { { 0x7f800000 }, { 0x7fffffff }, { 0x7f800000 } },
+    { { 0xff800000 }, { 0x7fffffff }, { 0xff800000 } },
+    { { 0x7f800000 }, { 0xffffffff }, { 0x7f800000 } },
+    { { 0xff800000 }, { 0xffffffff }, { 0xff800000 } },
+
+    /* fmax (NaN, NaN)	*/
+    { { 0x7f800001 }, { 0x7fffffff }, { 0x7fffffff } },
+    { { 0xffffffff }, { 0xff800001 }, { 0xff800001 } },
+    
+    /* fmax (Inf, Inf)	*/
+    { { 0x7f800000 }, { 0x7f800000 }, { 0x7f800000 } },
+    { { 0xff800000 }, { 0x7f800000 }, { 0x7f800000 } },
+    { { 0x7f800000 }, { 0xff800000 }, { 0x7f800000 } },
+    { { 0xff800000 }, { 0xff800000 }, { 0xff800000 } },
+
+    /* fmax (+Inf, finite)	*/
+    { { 0x7f800000 }, { 0x7f7fffff }, { 0x7f800000 } },
+    { { 0x7f800000 }, { 0xff7fffff }, { 0x7f800000 } },
+    
+    /* fmax (-Inf, finite)	*/
+    { { 0xff800000 }, { 0x7f7fffff }, { 0x7f7fffff } },
+    { { 0xff800000 }, { 0xff7fffff }, { 0xff7fffff } },
+
+    /* fmax (finite, +Inf)	*/
+    { { 0x7f7fffff }, { 0x7f800000 }, { 0x7f800000 } },
+    { { 0xff7fffff }, { 0x7f800000 }, { 0x7f800000 } },
+    
+    /* fmax (finite, -Inf)	*/
+    { { 0x7f7fffff }, { 0xff800000 }, { 0x7f7fffff } },
+    { { 0xff7fffff }, { 0xff800000 }, { 0xff7fffff } },
+    
+    /* x == y	*/
+    { { 0x12345678 }, { 0x12345678 }, { 0x12345678 } },
+    
+    /* x < y	*/
+    { { 0xff7fffff }, { 0xff7ffffe }, { 0xff7ffffe } },
+    { { 0x80000002 }, { 0x00000001 }, { 0x00000001 } },
+    { { 0x7f7ffffe }, { 0x7f7fffff }, { 0x7f7fffff } },
+    
+    /* x > y	*/
+    { { 0xff7ffffe }, { 0xff7fffff }, { 0xff7ffffe } },
+    { { 0x00000000 }, { 0x80000001 }, { 0x00000000 } },
+    { { 0x7f7fffff }, { 0x7f7ffffe }, { 0x7f7fffff } },
+    
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]:  %#lx\n", index - 1, v.lo);
+#endif
+    exit (index ? index : -1);
+}
+
+int main ()
+{
+    union lofl_u x,y,z;
+    int i;
+    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	y.lo = pgm_read_dword (& t[i].y);
+	x.lo = pgm_read_dword (& t[i].x);
+	z.lo = pgm_read_dword (& t[i].z);
+	v.fl = fmax (x.fl, y.fl);
+	
+	if (   v.lo == z.lo
+	    || (isnan(v.fl) && isnan(z.fl))	)
+	  continue;
+	x_exit (i+1);
+    }
+    return 0;
+}
diff --git a/tests/simulate/math/fmax-500.c b/tests/simulate/math/fmax-500.c
new file mode 100644
index 0000000..9f9473f
--- /dev/null
+++ b/tests/simulate/math/fmax-500.c
@@ -0,0 +1,578 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of fmax() function. Random cases.
+   $Id$
+ */
+#include <math.h>
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+volatile union lofl_u v = { .lo = 1 };
+
+PROGMEM const struct {		/* Table of test cases	*/
+    long x, y;		/* args		*/
+    long z;		/* result	*/
+} t[] = {
+
+    /* x, y, fmax(x,y)	*/
+    { 0x3d0a9ad5,0xc0258b61,0x3d0a9ad5 }, /*   1:  3.3839066e-02 -2.5866320e+00  3.3839066e-02 */
+    { 0x41a2fb9a,0x435e4b67,0x435e4b67 }, /*   2:  2.0372852e+01  2.2229454e+02  2.2229454e+02 */
+    { 0xbd5c2e0d,0xbba89d2f,0xbba89d2f }, /*   3: -5.3754855e-02 -5.1456909e-03 -5.1456909e-03 */
+    { 0xbf1c236d,0xbaf61c89,0xbaf61c89 }, /*   4: -6.0991555e-01 -1.8776815e-03 -1.8776815e-03 */
+    { 0x436cb8f6,0xe8944c44,0x436cb8f6 }, /*   5:  2.3672250e+02 -5.6025367e+24  2.3672250e+02 */
+    { 0xbed2cd76,0x3d624d94,0x3d624d94 }, /*   6: -4.1172379e-01  5.5249766e-02  5.5249766e-02 */
+    { 0x3b356e3a,0x43983eff,0x43983eff }, /*   7:  2.7684108e-03  3.0449216e+02  3.0449216e+02 */
+    { 0xbe997578,0xc96154df,0xbe997578 }, /*   8: -2.9972434e-01 -9.2295794e+05 -2.9972434e-01 */
+    { 0x43dd9cf0,0xbffd85da,0x43dd9cf0 }, /*   9:  4.4322607e+02 -1.9806473e+00  4.4322607e+02 */
+    { 0x457eca64,0x324efb62,0x457eca64 }, /*  10:  4.0766494e+03  1.2047936e-08  4.0766494e+03 */
+    { 0x442aaeae,0xbbda6fbd,0x442aaeae }, /*  11:  6.8272937e+02 -6.6661523e-03  6.8272937e+02 */
+    { 0x319396a1,0x85c8b561,0x319396a1 }, /*  12:  4.2953876e-09 -1.8874538e-35  4.2953876e-09 */
+    { 0xb68c103e,0xbe966c72,0xb68c103e }, /*  13: -4.1742160e-06 -2.9379612e-01 -4.1742160e-06 */
+    { 0x40c6bc63,0x112e9bc5,0x40c6bc63 }, /*  14:  6.2104964e+00  1.3774180e-28  6.2104964e+00 */
+    { 0xad253623,0xc6b05eef,0xad253623 }, /*  15: -9.3911849e-12 -2.2575467e+04 -9.3911849e-12 */
+    { 0x3ed2a937,0xbd30a704,0x3ed2a937 }, /*  16:  4.1144726e-01 -4.3128029e-02  4.1144726e-01 */
+    { 0x47447b80,0xc6073cf9,0x47447b80 }, /*  17:  5.0299500e+04 -8.6552432e+03  5.0299500e+04 */
+    { 0xbc6269b2,0xbe902628,0xbc6269b2 }, /*  18: -1.3819145e-02 -2.8154111e-01 -1.3819145e-02 */
+    { 0xc44c1efc,0x3e8d6627,0x3e8d6627 }, /*  19: -8.1648413e+02  2.7616999e-01  2.7616999e-01 */
+    { 0x4299d7be,0x4a23fcd5,0x4a23fcd5 }, /*  20:  7.6921371e+01  2.6867732e+06  2.6867732e+06 */
+    { 0xd6643163,0xc5c5eb18,0xc5c5eb18 }, /*  21: -6.2725191e+13 -6.3333867e+03 -6.3333867e+03 */
+    { 0x3ea6960c,0x3c953894,0x3ea6960c }, /*  22:  3.2536352e-01  1.8215455e-02  3.2536352e-01 */
+    { 0x3ffcd143,0x3dc53ebe,0x3ffcd143 }, /*  23:  1.9751362e+00  9.6311077e-02  1.9751362e+00 */
+    { 0xc39601af,0xc19b6f5a,0xc19b6f5a }, /*  24: -3.0001315e+02 -1.9429371e+01 -1.9429371e+01 */
+    { 0xc22fd42e,0xb3cd1170,0xb3cd1170 }, /*  25: -4.3957207e+01 -9.5492283e-08 -9.5492283e-08 */
+    { 0xb44610c8,0x3040a74a,0x3040a74a }, /*  26: -1.8446292e-07  7.0086925e-10  7.0086925e-10 */
+    { 0x402511dd,0x3c51058b,0x402511dd }, /*  27:  2.5792153e+00  1.2757669e-02  2.5792153e+00 */
+    { 0x45dc798e,0x3ee729d6,0x45dc798e }, /*  28:  7.0551943e+03  4.5149106e-01  7.0551943e+03 */
+    { 0x44f140c6,0x478a00a0,0x478a00a0 }, /*  29:  1.9300242e+03  7.0657250e+04  7.0657250e+04 */
+    { 0xbbb97a4b,0xc2c01d77,0xbbb97a4b }, /*  30: -5.6603304e-03 -9.6057549e+01 -5.6603304e-03 */
+    { 0x31c1ccbc,0xc2065b71,0x31c1ccbc }, /*  31:  5.6403149e-09 -3.3589298e+01  5.6403149e-09 */
+    { 0x3e698dfc,0xc0330a57,0x3e698dfc }, /*  32:  2.2808069e-01 -2.7975061e+00  2.2808069e-01 */
+    { 0x3ada9aa2,0xbf37b3b0,0x3ada9aa2 }, /*  33:  1.6678164e-03 -7.1758556e-01  1.6678164e-03 */
+    { 0x4672b7b3,0xbfd88f83,0x4672b7b3 }, /*  34:  1.5533925e+04 -1.6918796e+00  1.5533925e+04 */
+    { 0x3b620c0b,0xc04d34b7,0x3b620c0b }, /*  35:  3.4492041e-03 -3.2063425e+00  3.4492041e-03 */
+    { 0x3bdcbfbc,0xbed59f8b,0x3bdcbfbc }, /*  36:  6.7367237e-03 -4.1723284e-01  6.7367237e-03 */
+    { 0xba7839e8,0xb27d1272,0xb27d1272 }, /*  37: -9.4690779e-04 -1.4730732e-08 -1.4730732e-08 */
+    { 0xc2d8939b,0xc490bce0,0xc2d8939b }, /*  38: -1.0828829e+02 -1.1579023e+03 -1.0828829e+02 */
+    { 0x421ed8b6,0xc05a7984,0x421ed8b6 }, /*  39:  3.9711632e+01 -3.4136667e+00  3.9711632e+01 */
+    { 0xbe919bca,0x3be1ad88,0x3be1ad88 }, /*  40: -2.8439170e-01  6.8871416e-03  6.8871416e-03 */
+    { 0xc6828417,0xbbe50a03,0xbbe50a03 }, /*  41: -1.6706045e+04 -6.9897189e-03 -6.9897189e-03 */
+    { 0xbc1d4ef9,0x4221ce37,0x4221ce37 }, /*  42: -9.6013481e-03  4.0451382e+01  4.0451382e+01 */
+    { 0x46fbd28a,0xc566e53a,0x46fbd28a }, /*  43:  3.2233270e+04 -3.6943267e+03  3.2233270e+04 */
+    { 0xbc6fa5a1,0xc3a3c2f1,0xbc6fa5a1 }, /*  44: -1.4626891e-02 -3.2752298e+02 -1.4626891e-02 */
+    { 0xc0760f37,0xbeba35e6,0xbeba35e6 }, /*  45: -3.8446786e+00 -3.6369246e-01 -3.6369246e-01 */
+    { 0x3987d977,0xc06d7ae3,0x3987d977 }, /*  46:  2.5911230e-04 -3.7106254e+00  2.5911230e-04 */
+    { 0xc09e011b,0x403a6629,0x403a6629 }, /*  47: -4.9376349e+00  2.9124854e+00  2.9124854e+00 */
+    { 0x40813086,0xc056c4e5,0x40813086 }, /*  48:  4.0371733e+00 -3.3557675e+00  4.0371733e+00 */
+    { 0xbb83bf77,0x44c983c3,0x44c983c3 }, /*  49: -4.0206271e-03  1.6121176e+03  1.6121176e+03 */
+    { 0x43dba854,0x3feb97ad,0x43dba854 }, /*  50:  4.3931506e+02  1.8405663e+00  4.3931506e+02 */
+    { 0x3d758258,0x40508148,0x40508148 }, /*  51:  5.9938759e-02  3.2578907e+00  3.2578907e+00 */
+    { 0x3e866005,0xbaf6bbe5,0x3e866005 }, /*  52:  2.6245132e-01 -1.8824307e-03  2.6245132e-01 */
+    { 0xbd7b8b9c,0xc5690c8c,0xbd7b8b9c }, /*  53: -6.1412439e-02 -3.7287842e+03 -6.1412439e-02 */
+    { 0xc01f41c4,0xbecfa93d,0xbecfa93d }, /*  54: -2.4883890e+00 -4.0558806e-01 -4.0558806e-01 */
+    { 0xbd1ce5dc,0xc038c288,0xbd1ce5dc }, /*  55: -3.8305148e-02 -2.8868732e+00 -3.8305148e-02 */
+    { 0x3af15d15,0x42648975,0x42648975 }, /*  56:  1.8414581e-03  5.7134235e+01  5.7134235e+01 */
+    { 0x3c49fd70,0x3eb733d1,0x3eb733d1 }, /*  57:  1.2328491e-02  3.5781720e-01  3.5781720e-01 */
+    { 0x9059e716,0x3cabd226,0x3cabd226 }, /*  58: -4.2973726e-29  2.0974230e-02  2.0974230e-02 */
+    { 0xc014d0a9,0xc1dc4963,0xc014d0a9 }, /*  59: -2.3252356e+00 -2.7535833e+01 -2.3252356e+00 */
+    { 0xb4d808db,0xbfe2f1ed,0xb4d808db }, /*  60: -4.0239578e-07 -1.7730080e+00 -4.0239578e-07 */
+    { 0x3eeb41ae,0x3c47d5f8,0x3eeb41ae }, /*  61:  4.5948547e-01  1.2197010e-02  4.5948547e-01 */
+    { 0x426ea5b9,0xc1b5fea4,0x426ea5b9 }, /*  62:  5.9661839e+01 -2.2749336e+01  5.9661839e+01 */
+    { 0xc205a72e,0xbf282efa,0xbf282efa }, /*  63: -3.3413261e+01 -6.5696681e-01 -6.5696681e-01 */
+    { 0xbd21b872,0x3672f1f0,0x3672f1f0 }, /*  64: -3.9482541e-02  3.6201636e-06  3.6201636e-06 */
+    { 0xc6fe0fd0,0x36a4768c,0x36a4768c }, /*  65: -3.2519906e+04  4.9013815e-06  4.9013815e-06 */
+    { 0x461f91c0,0x30d35a2e,0x461f91c0 }, /*  66:  1.0212438e+04  1.5377901e-09  1.0212438e+04 */
+    { 0x3ebb140e,0x416ff308,0x416ff308 }, /*  67:  3.6538738e-01  1.4996834e+01  1.4996834e+01 */
+    { 0xc2ef722c,0x3b5760a2,0x3b5760a2 }, /*  68: -1.1972299e+02  3.2863994e-03  3.2863994e-03 */
+    { 0xc37a3af0,0x4b4bf56c,0x4b4bf56c }, /*  69: -2.5023022e+02  1.3366636e+07  1.3366636e+07 */
+    { 0x407b6bce,0xb9f5fe1a,0x407b6bce }, /*  70:  3.9284549e+00 -4.6919362e-04  3.9284549e+00 */
+    { 0xc00cd322,0x405f6cc1,0x405f6cc1 }, /*  71: -2.2003865e+00  3.4910128e+00  3.4910128e+00 */
+    { 0xa0232015,0xbe938947,0xa0232015 }, /*  72: -1.3817252e-19 -2.8815672e-01 -1.3817252e-19 */
+    { 0x2b925df6,0xbf800000,0x2b925df6 }, /*  73:  1.0400003e-12 -1.0000000e+00  1.0400003e-12 */
+    { 0x377dfa27,0xbce3ba54,0x377dfa27 }, /*  74:  1.5138218e-05 -2.7798809e-02  1.5138218e-05 */
+    { 0xa4906882,0x42b329ba,0x42b329ba }, /*  75: -6.2627088e-17  8.9581497e+01  8.9581497e+01 */
+    { 0xbcc1a4b7,0xbeafe1bd,0xbcc1a4b7 }, /*  76: -2.3638112e-02 -3.4351912e-01 -2.3638112e-02 */
+    { 0xbc43425e,0xbe7ee9b0,0xbc43425e }, /*  77: -1.1917679e-02 -2.4893832e-01 -1.1917679e-02 */
+    { 0x3ecde7d9,0x4634cb1e,0x4634cb1e }, /*  78:  4.0215948e-01  1.1570779e+04  1.1570779e+04 */
+    { 0xbf800000,0xbc2b31a0,0xbc2b31a0 }, /*  79: -1.0000000e+00 -1.0448843e-02 -1.0448843e-02 */
+    { 0x49847f05,0x3ccfd735,0x49847f05 }, /*  80:  1.0854086e+06  2.5371173e-02  1.0854086e+06 */
+    { 0x3eee2c09,0xbd2282ce,0x3eee2c09 }, /*  81:  4.6517971e-01 -3.9675526e-02  4.6517971e-01 */
+    { 0xbb3f599f,0xbc5e5bb5,0xbb3f599f }, /*  82: -2.9197705e-03 -1.3571669e-02 -2.9197705e-03 */
+    { 0x46cdb053,0x392e01ed,0x46cdb053 }, /*  83:  2.6328162e+04  1.6594651e-04  2.6328162e+04 */
+    { 0x41db5470,0xc4a55da0,0x41db5470 }, /*  84:  2.7416229e+01 -1.3229258e+03  2.7416229e+01 */
+    { 0x3e7195f1,0x3a508241,0x3e7195f1 }, /*  85:  2.3592354e-01  7.9539797e-04  2.3592354e-01 */
+    { 0x40199133,0xb492e6af,0x40199133 }, /*  86:  2.3994873e+00 -2.7362464e-07  2.3994873e+00 */
+    { 0xc04f1f72,0x4590936b,0x4590936b }, /*  87: -3.2362943e+00  4.6264272e+03  4.6264272e+03 */
+    { 0xbd43f5ff,0x429c2c6e,0x429c2c6e }, /*  88: -4.7842022e-02  7.8086777e+01  7.8086777e+01 */
+    { 0xbf48b49c,0xba740e34,0xba740e34 }, /*  89: -7.8400588e-01 -9.3099778e-04 -9.3099778e-04 */
+    { 0xc0ad52de,0x3eded4a5,0x3eded4a5 }, /*  90: -5.4163656e+00  4.3521610e-01  4.3521610e-01 */
+    { 0x38cb8e4b,0x3ea998cd,0x3ea998cd }, /*  91:  9.7062984e-05  3.3124390e-01  3.3124390e-01 */
+    { 0x3fd759cf,0x3ceeb365,0x3fd759cf }, /*  92:  1.6824282e+00  2.9138276e-02  1.6824282e+00 */
+    { 0xbe7267ab,0xc058515f,0xbe7267ab }, /*  93: -2.3672359e-01 -3.3799665e+00 -2.3672359e-01 */
+    { 0xbe997618,0x3d32046b,0x3d32046b }, /*  94: -2.9972911e-01  4.3461245e-02  4.3461245e-02 */
+    { 0x290b975f,0x3c4cbe37,0x3c4cbe37 }, /*  95:  3.0995494e-14  1.2496523e-02  1.2496523e-02 */
+    { 0xcaffdccd,0xbcbfe308,0xbcbfe308 }, /*  96: -8.3841025e+06 -2.3423687e-02 -2.3423687e-02 */
+    { 0x408c9f9e,0xc1e0420a,0x408c9f9e }, /*  97:  4.3944845e+00 -2.8032246e+01  4.3944845e+00 */
+    { 0xd134da83,0x539a483b,0x539a483b }, /*  98: -4.8547508e+10  1.3252736e+12  1.3252736e+12 */
+    { 0x421b09cc,0xbaeb1b62,0x421b09cc }, /*  99:  3.8759567e+01 -1.7937238e-03  3.8759567e+01 */
+    { 0xc222c4a3,0xc3936f35,0xc222c4a3 }, /* 100: -4.0692028e+01 -2.9486880e+02 -4.0692028e+01 */
+    { 0xc2f3a377,0xbeff0597,0xbeff0597 }, /* 101: -1.2181927e+02 -4.9808952e-01 -4.9808952e-01 */
+    { 0x3f0a2fa7,0xc413a550,0x3f0a2fa7 }, /* 102:  5.3978962e-01 -5.9058301e+02  5.3978962e-01 */
+    { 0xbbbb4a57,0x3ab4a655,0x3ab4a655 }, /* 103: -5.7156491e-03  1.3782481e-03  1.3782481e-03 */
+    { 0x44fc1c76,0xc44e9c02,0x44fc1c76 }, /* 104:  2.0168894e+03 -8.2643762e+02  2.0168894e+03 */
+    { 0x3eb88dd5,0x3bc01bae,0x3eb88dd5 }, /* 105:  3.6045709e-01  5.8626747e-03  3.6045709e-01 */
+    { 0x3bd08995,0x3e9306d6,0x3e9306d6 }, /* 106:  6.3640573e-03  2.8716153e-01  2.8716153e-01 */
+    { 0x3b117ad5,0xc189b38b,0x3b117ad5 }, /* 107:  2.2198458e-03 -1.7212667e+01  2.2198458e-03 */
+    { 0x41c40c44,0xbebf41ec,0x41c40c44 }, /* 108:  2.4505989e+01 -3.7354982e-01  2.4505989e+01 */
+    { 0xbb500e09,0xc167d7a4,0xbb500e09 }, /* 109: -3.1746647e-03 -1.4490147e+01 -3.1746647e-03 */
+    { 0x3a1c8e7c,0xbee1532a,0x3a1c8e7c }, /* 110:  5.9721596e-04 -4.4008762e-01  5.9721596e-04 */
+    { 0x407ae25d,0x3aa68293,0x407ae25d }, /* 111:  3.9200661e+00  1.2703709e-03  3.9200661e+00 */
+    { 0xbd007e60,0xc32d5828,0xbd007e60 }, /* 112: -3.1370521e-02 -1.7334436e+02 -3.1370521e-02 */
+    { 0xc0616788,0xc25ea4cd,0xc0616788 }, /* 113: -3.5219440e+00 -5.5660938e+01 -3.5219440e+00 */
+    { 0xc3a9cc49,0x3d396da1,0x3d396da1 }, /* 114: -3.3959598e+02  4.5270566e-02  4.5270566e-02 */
+    { 0x10ab0810,0x46c0f797,0x46c0f797 }, /* 115:  6.7460030e-29  2.4699795e+04  2.4699795e+04 */
+    { 0x3a2a32fb,0x3d4d662e,0x3d4d662e }, /* 116:  6.4925820e-04  5.0146274e-02  5.0146274e-02 */
+    { 0xbd93ec27,0x4299c568,0x4299c568 }, /* 117: -7.2227769e-02  7.6885559e+01  7.6885559e+01 */
+    { 0xbbfc03e7,0xfe05d1d4,0xbbfc03e7 }, /* 118: -7.6908949e-03 -4.4469203e+37 -7.6908949e-03 */
+    { 0x42aff0f5,0xbec4e06e,0x42aff0f5 }, /* 119:  8.7970619e+01 -3.8452476e-01  8.7970619e+01 */
+    { 0xbbeba7ee,0x3f800000,0x3f800000 }, /* 120: -7.1916496e-03  1.0000000e+00  1.0000000e+00 */
+    { 0xc1ffbae4,0xc349ab41,0xc1ffbae4 }, /* 121: -3.1966255e+01 -2.0166896e+02 -3.1966255e+01 */
+    { 0x3f2051c0,0x2525a0d6,0x3f2051c0 }, /* 122:  6.2624741e-01  1.4365962e-16  6.2624741e-01 */
+    { 0x3f800000,0xc1fc47ad,0x3f800000 }, /* 123:  1.0000000e+00 -3.1534998e+01  1.0000000e+00 */
+    { 0x3c61a6b8,0x4248e040,0x4248e040 }, /* 124:  1.3772659e-02  5.0218994e+01  5.0218994e+01 */
+    { 0xcecb8c2d,0x426c1080,0x426c1080 }, /* 125: -1.7074807e+09  5.9016113e+01  5.9016113e+01 */
+    { 0x97983b7c,0xb20ce409,0x97983b7c }, /* 126: -9.8377857e-25 -8.2009217e-09 -9.8377857e-25 */
+    { 0x4471514e,0x43dec821,0x4471514e }, /* 127:  9.6527039e+02  4.4556351e+02  9.6527039e+02 */
+    { 0xc26d62f6,0xbe8fd30a,0xbe8fd30a }, /* 128: -5.9346642e+01 -2.8090698e-01 -2.8090698e-01 */
+    { 0xc42aa9e1,0x44137050,0x44137050 }, /* 129: -6.8265436e+02  5.8975488e+02  5.8975488e+02 */
+    { 0x40688bdb,0xbe5ffc3a,0x40688bdb }, /* 130:  3.6335361e+00 -2.1873561e-01  3.6335361e+00 */
+    { 0xc61c6bb4,0x3b1ac4f8,0x3b1ac4f8 }, /* 131: -1.0010926e+04  2.3615938e-03  2.3615938e-03 */
+    { 0x404683d7,0x6026d7b4,0x6026d7b4 }, /* 132:  3.1017969e+00  4.8089103e+19  4.8089103e+19 */
+    { 0xc3dbabd4,0xbff377f5,0xbff377f5 }, /* 133: -4.3934241e+02 -1.9020983e+00 -1.9020983e+00 */
+    { 0x2cb2a692,0x428c2926,0x428c2926 }, /* 134:  5.0775573e-12  7.0080368e+01  7.0080368e+01 */
+    { 0x7f120c75,0x403037a0,0x7f120c75 }, /* 135:  1.9413197e+38  2.7533951e+00  1.9413197e+38 */
+    { 0xbc367588,0x46bbe589,0x46bbe589 }, /* 136: -1.1136420e-02  2.4050768e+04  2.4050768e+04 */
+    { 0xc2d1635b,0x1ab5e91a,0x1ab5e91a }, /* 137: -1.0469405e+02  7.5236441e-23  7.5236441e-23 */
+    { 0x41aa7df9,0xc29c274e,0x41aa7df9 }, /* 138:  2.1311510e+01 -7.8076767e+01  2.1311510e+01 */
+    { 0x3a7eafe5,0xba307d02,0x3a7eafe5 }, /* 139:  9.7155414e-04 -6.7324948e-04  9.7155414e-04 */
+    { 0xbefdf6a5,0xc02bcb0a,0xbefdf6a5 }, /* 140: -4.9602237e-01 -2.6842675e+00 -4.9602237e-01 */
+    { 0xbabf1eca,0xbef32d8e,0xbabf1eca }, /* 141: -1.4581319e-03 -4.7495693e-01 -1.4581319e-03 */
+    { 0x3d9018b1,0xc28d018b,0x3d9018b1 }, /* 142:  7.0359595e-02 -7.0503014e+01  7.0359595e-02 */
+    { 0xca03e2f2,0x44329e6b,0x44329e6b }, /* 143: -2.1608285e+06  7.1447528e+02  7.1447528e+02 */
+    { 0x567312e2,0x3ebd53fc,0x567312e2 }, /* 144:  6.6815607e+13  3.6978137e-01  6.6815607e+13 */
+    { 0xbb366ff0,0xc3e56b4a,0xbb366ff0 }, /* 145: -2.7837716e-03 -4.5883820e+02 -2.7837716e-03 */
+    { 0x3f0c2edb,0x31f20dfa,0x3f0c2edb }, /* 146:  5.4758996e-01  7.0447159e-09  5.4758996e-01 */
+    { 0x43824cb9,0x86b7ec8e,0x43824cb9 }, /* 147:  2.6059940e+02 -6.9184535e-35  2.6059940e+02 */
+    { 0xbec3641f,0xc2edac8f,0xbec3641f }, /* 148: -3.8162324e-01 -1.1883703e+02 -3.8162324e-01 */
+    { 0x420164d9,0xbf53bfcf,0x420164d9 }, /* 149:  3.2348484e+01 -8.2714552e-01  3.2348484e+01 */
+    { 0xafbe4d4b,0x3d2de790,0x3d2de790 }, /* 150: -3.4615719e-10  4.2457163e-02  4.2457163e-02 */
+    { 0x43710af5,0x3f800000,0x43710af5 }, /* 151:  2.4104280e+02  1.0000000e+00  2.4104280e+02 */
+    { 0x3fee38b2,0xbb857907,0x3fee38b2 }, /* 152:  1.8611052e+00 -4.0732655e-03  1.8611052e+00 */
+    { 0xb7595a08,0x41ed4dfd,0x41ed4dfd }, /* 153: -1.2955170e-05  2.9663080e+01  2.9663080e+01 */
+    { 0xc02e4820,0xb833b54b,0xb833b54b }, /* 154: -2.7231522e+00 -4.2845768e-05 -4.2845768e-05 */
+    { 0x52023008,0x3c130077,0x52023008 }, /* 155:  1.3978789e+11  8.9722788e-03  1.3978789e+11 */
+    { 0x427cf01c,0x4546d177,0x4546d177 }, /* 156:  6.3234482e+01  3.1810916e+03  3.1810916e+03 */
+    { 0xbcdab3a9,0xc1c82b1d,0xbcdab3a9 }, /* 157: -2.6696997e-02 -2.5021051e+01 -2.6696997e-02 */
+    { 0x84f25363,0xbc9c8680,0x84f25363 }, /* 158: -5.6970505e-36 -1.9107103e-02 -5.6970505e-36 */
+    { 0xbd092d5f,0x23575317,0x23575317 }, /* 159: -3.3490535e-02  1.1672768e-17  1.1672768e-17 */
+    { 0x445a8e12,0xc1569aad,0x445a8e12 }, /* 160:  8.7421985e+02 -1.3412763e+01  8.7421985e+02 */
+    { 0xaed4395d,0xb2a7c7b5,0xaed4395d }, /* 161: -9.6508336e-11 -1.9532175e-08 -9.6508336e-11 */
+    { 0x40514656,0x36911e62,0x40514656 }, /* 162:  3.2699180e+00  4.3248738e-06  3.2699180e+00 */
+    { 0xc076560e,0x3b23dd65,0x3b23dd65 }, /* 163: -3.8490024e+00  2.5003788e-03  2.5003788e-03 */
+    { 0xb27ddfed,0x3c1df066,0x3c1df066 }, /* 164: -1.4777453e-08  9.6398350e-03  9.6398350e-03 */
+    { 0xc2d37989,0xbcd5c91e,0xbcd5c91e }, /* 165: -1.0573737e+02 -2.6096877e-02 -2.6096877e-02 */
+    { 0x37f3e10a,0xc3a47a5a,0x37f3e10a }, /* 166:  2.9072649e-05 -3.2895587e+02  2.9072649e-05 */
+    { 0x49323268,0xc05c3b2d,0x49323268 }, /* 167:  7.2989450e+05 -3.4411118e+00  7.2989450e+05 */
+    { 0xe4c15b57,0x3e960504,0x3e960504 }, /* 168: -2.8534427e+22  2.9300702e-01  2.9300702e-01 */
+    { 0x59ee66ae,0xbb7841c5,0x59ee66ae }, /* 169:  8.3879927e+15 -3.7880999e-03  8.3879927e+15 */
+    { 0xc0b84390,0x3b8feeab,0x3b8feeab }, /* 170: -5.7582474e+00  4.3924651e-03  4.3924651e-03 */
+    { 0xb9a606cc,0x56ca68e1,0x56ca68e1 }, /* 171: -3.1667051e-04  1.1127590e+14  1.1127590e+14 */
+    { 0x36b5b7f1,0xbd4f6237,0x36b5b7f1 }, /* 172:  5.4156340e-06 -5.0630774e-02  5.4156340e-06 */
+    { 0x3c8c4f8f,0x465bb6ad,0x465bb6ad }, /* 173:  1.7127780e-02  1.4061669e+04  1.4061669e+04 */
+    { 0xb1e26b03,0x3ead488b,0x3ead488b }, /* 174: -6.5896315e-09  3.3844408e-01  3.3844408e-01 */
+    { 0x3f0e37cf,0xc396524d,0x3f0e37cf }, /* 175:  5.5553907e-01 -3.0064297e+02  5.5553907e-01 */
+    { 0x3f800000,0xc9e92f51,0x3f800000 }, /* 176:  1.0000000e+00 -1.9102501e+06  1.0000000e+00 */
+    { 0x3ecca70f,0x42bb778f,0x42bb778f }, /* 177:  3.9971206e-01  9.3733513e+01  9.3733513e+01 */
+    { 0xbee2a02d,0x3ee7a4b2,0x3ee7a4b2 }, /* 178: -4.4262829e-01  4.5242840e-01  4.5242840e-01 */
+    { 0x304960ce,0x44c1b93a,0x44c1b93a }, /* 179:  7.3260942e-10  1.5497883e+03  1.5497883e+03 */
+    { 0xbeafd9a8,0x402754a2,0x402754a2 }, /* 180: -3.4345746e-01  2.6145406e+00  2.6145406e+00 */
+    { 0xc0571d0f,0xaf9d82aa,0xaf9d82aa }, /* 181: -3.3611486e+00 -2.8650976e-10 -2.8650976e-10 */
+    { 0xc6da0994,0xadec8a50,0xadec8a50 }, /* 182: -2.7908789e+04 -2.6891517e-11 -2.6891517e-11 */
+    { 0x3f0c8236,0x4416d00b,0x4416d00b }, /* 183:  5.4886186e-01  6.0325067e+02  6.0325067e+02 */
+    { 0xc03d6679,0xc03869ac,0xc03869ac }, /* 184: -2.9593794e+00 -2.8814497e+00 -2.8814497e+00 */
+    { 0x3ec4a85a,0x2dac5e34,0x3ec4a85a }, /* 185:  3.8409692e-01  1.9595971e-11  3.8409692e-01 */
+    { 0xb7fce6fa,0xbb75c8a3,0xb7fce6fa }, /* 186: -3.0148298e-05 -3.7503622e-03 -3.0148298e-05 */
+    { 0xc06070ca,0x407c6585,0x407c6585 }, /* 187: -3.5068841e+00  3.9436963e+00  3.9436963e+00 */
+    { 0x3c29143b,0xc69c8267,0x3c29143b }, /* 188:  1.0319765e-02 -2.0033201e+04  1.0319765e-02 */
+    { 0x4010ffaa,0xc20078a0,0x4010ffaa }, /* 189:  2.2656045e+00 -3.2117798e+01  2.2656045e+00 */
+    { 0x424a19f2,0xc0608a04,0x424a19f2 }, /* 190:  5.0525337e+01 -3.5084238e+00  5.0525337e+01 */
+    { 0xcb36561d,0x4009f67f,0x4009f67f }, /* 191: -1.1949597e+07  2.1556699e+00  2.1556699e+00 */
+    { 0xc22a27ce,0x4a194b95,0x4a194b95 }, /* 192: -4.2538872e+01  2.5115892e+06  2.5115892e+06 */
+    { 0xc0009413,0x54757977,0x54757977 }, /* 193: -2.0090377e+00  4.2172193e+12  4.2172193e+12 */
+    { 0xc812465f,0xb7782ded,0xb7782ded }, /* 194: -1.4978548e+05 -1.4792645e-05 -1.4792645e-05 */
+    { 0x3b77c8d0,0x3d0b2d58,0x3d0b2d58 }, /* 195:  3.7808903e-03  3.3978790e-02  3.3978790e-02 */
+    { 0x3b1fcb85,0xc2e21469,0x3b1fcb85 }, /* 196:  2.4382782e-03 -1.1303986e+02  2.4382782e-03 */
+    { 0xbec82a70,0xc89b926a,0xbec82a70 }, /* 197: -3.9094877e-01 -3.1861131e+05 -3.9094877e-01 */
+    { 0x43b54907,0xafc5c48d,0x43b54907 }, /* 198:  3.6257053e+02 -3.5973749e-10  3.6257053e+02 */
+    { 0x3bfc1ac2,0xc17fa62f,0x3bfc1ac2 }, /* 199:  7.6936195e-03 -1.5978072e+01  7.6936195e-03 */
+    { 0x38a7ea4e,0x4046f561,0x4046f561 }, /* 200:  8.0068232e-05  3.1087267e+00  3.1087267e+00 */
+    { 0xc55663ab,0x3eb4e5d5,0x3eb4e5d5 }, /* 201: -3.4302292e+03  3.5331598e-01  3.5331598e-01 */
+    { 0x63e231dd,0xc71d5e37,0x63e231dd }, /* 202:  8.3451144e+21 -4.0286215e+04  8.3451144e+21 */
+    { 0x3e78ed82,0x40a52aed,0x40a52aed }, /* 203:  2.4309352e-01  5.1614900e+00  5.1614900e+00 */
+    { 0x383d356c,0xb8ea3933,0x383d356c }, /* 204:  4.5110864e-05 -1.1168644e-04  4.5110864e-05 */
+    { 0x43b34b36,0x3d9584b7,0x43b34b36 }, /* 205:  3.5858759e+02  7.3007040e-02  3.5858759e+02 */
+    { 0xba5caadc,0x894b8525,0x894b8525 }, /* 206: -8.4177940e-04 -2.4497840e-33 -2.4497840e-33 */
+    { 0xbc77f97e,0x3b6d951b,0x3b6d951b }, /* 207: -1.5135167e-02  3.6252204e-03  3.6252204e-03 */
+    { 0xc01b37d2,0x4293f141,0x4293f141 }, /* 208: -2.4252820e+00  7.3971199e+01  7.3971199e+01 */
+    { 0xbd5b9487,0x3ef0946c,0x3ef0946c }, /* 209: -5.3608444e-02  4.6988237e-01  4.6988237e-01 */
+    { 0x43887509,0xc04baece,0x43887509 }, /* 210:  2.7291434e+02 -3.1825442e+00  2.7291434e+02 */
+    { 0xbff9cc27,0x3fef06e5,0x3fef06e5 }, /* 211: -1.9515427e+00  1.8673979e+00  1.8673979e+00 */
+    { 0x46269945,0xb5081c3e,0x46269945 }, /* 212:  1.0662317e+04 -5.0705046e-07  1.0662317e+04 */
+    { 0x3b42bd34,0x401e9d2a,0x401e9d2a }, /* 213:  2.9714825e-03  2.4783425e+00  2.4783425e+00 */
+    { 0xbf106933,0xbe7ce028,0xbe7ce028 }, /* 214: -5.6410521e-01 -2.4694884e-01 -2.4694884e-01 */
+    { 0xc029a389,0xbd9582f2,0xbd9582f2 }, /* 215: -2.6506064e+00 -7.3003665e-02 -7.3003665e-02 */
+    { 0x3bc4fe25,0x3877611f,0x3bc4fe25 }, /* 216:  6.0117417e-03  5.8979840e-05  6.0117417e-03 */
+    { 0xc1fb3850,0xc1282adb,0xc1282adb }, /* 217: -3.1402496e+01 -1.0510463e+01 -1.0510463e+01 */
+    { 0xbf800000,0xc01711fb,0xbf800000 }, /* 218: -1.0000000e+00 -2.3604724e+00 -1.0000000e+00 */
+    { 0x396f8399,0xca5ba56a,0x396f8399 }, /* 219:  2.2841840e-04 -3.5986825e+06  2.2841840e-04 */
+    { 0xbec36def,0x45f9b008,0x45f9b008 }, /* 220: -3.8169810e-01  7.9900039e+03  7.9900039e+03 */
+    { 0x31b53dc8,0xbb95331d,0x31b53dc8 }, /* 221:  5.2748170e-09 -4.5532123e-03  5.2748170e-09 */
+    { 0x3d4572d3,0xc02302ef,0x3d4572d3 }, /* 222:  4.8205208e-02 -2.5470541e+00  4.8205208e-02 */
+    { 0xbff42dcf,0xc01e9dac,0xbff42dcf }, /* 223: -1.9076480e+00 -2.4783735e+00 -1.9076480e+00 */
+    { 0x3ea49c53,0xc3d34640,0x3ea49c53 }, /* 224:  3.2150516e-01 -4.2254883e+02  3.2150516e-01 */
+    { 0x427cf7c8,0xc003a67d,0x427cf7c8 }, /* 225:  6.3241974e+01 -2.0570366e+00  6.3241974e+01 */
+    { 0xbebdd061,0xbbbcf1e8,0xbbbcf1e8 }, /* 226: -3.7073043e-01 -5.7661422e-03 -5.7661422e-03 */
+    { 0xbd9294e5,0x40676afc,0x40676afc }, /* 227: -7.1573056e-02  3.6159048e+00  3.6159048e+00 */
+    { 0x45733eb0,0xb8481926,0x45733eb0 }, /* 228:  3.8919180e+03 -4.7707137e-05  3.8919180e+03 */
+    { 0x3b73e1ee,0xc93f503b,0x3b73e1ee }, /* 229:  3.7213522e-03 -7.8361969e+05  3.7213522e-03 */
+    { 0xc460a10b,0xc69971c5,0xc460a10b }, /* 230: -8.9851630e+02 -1.9640885e+04 -8.9851630e+02 */
+    { 0x4285ae2c,0x3de14a18,0x4285ae2c }, /* 231:  6.6840179e+01  1.1000460e-01  6.6840179e+01 */
+    { 0x403459cb,0xbe777af0,0x403459cb }, /* 232:  2.8179805e+00 -2.4167991e-01  2.8179805e+00 */
+    { 0xa7590a9b,0x3e6c0180,0x3e6c0180 }, /* 233: -3.0120549e-15  2.3047447e-01  2.3047447e-01 */
+    { 0xeff5e8a7,0xc7312510,0xc7312510 }, /* 234: -1.5221017e+29 -4.5349062e+04 -4.5349062e+04 */
+    { 0xc0c7e9b4,0xc02d1f24,0xc02d1f24 }, /* 235: -6.2472782e+00 -2.7050257e+00 -2.7050257e+00 */
+    { 0xb9d6ce5c,0xc69c2467,0xb9d6ce5c }, /* 236: -4.0971010e-04 -1.9986201e+04 -4.0971010e-04 */
+    { 0xc00cfe09,0xbec1013d,0xbec1013d }, /* 237: -2.2030051e+00 -3.7696257e-01 -3.7696257e-01 */
+    { 0xbd4f2f4c,0xc7bbfda8,0xbd4f2f4c }, /* 238: -5.0582215e-02 -9.6251312e+04 -5.0582215e-02 */
+    { 0xf8958121,0x44449b4f,0x44449b4f }, /* 239: -2.4258477e+34  7.8642670e+02  7.8642670e+02 */
+    { 0xc02311b2,0x41cb0ca3,0x41cb0ca3 }, /* 240: -2.5479550e+00  2.5381170e+01  2.5381170e+01 */
+    { 0xbc7c0b2d,0x3badeaee,0x3badeaee }, /* 241: -1.5383524e-02  5.3075468e-03  5.3075468e-03 */
+    { 0xbf9f9aef,0xbc919442,0xbc919442 }, /* 242: -1.2469157e+00 -1.7770890e-02 -1.7770890e-02 */
+    { 0x401b39d1,0xbc0f10bd,0x401b39d1 }, /* 243:  2.4254038e+00 -8.7320181e-03  2.4254038e+00 */
+    { 0x3cbd3845,0x441fa09f,0x441fa09f }, /* 244:  2.3098120e-02  6.3850970e+02  6.3850970e+02 */
+    { 0x3c29e8c2,0xc0216fa5,0x3c29e8c2 }, /* 245:  1.0370435e-02 -2.5224392e+00  1.0370435e-02 */
+    { 0xb3a20689,0x331e737b,0x331e737b }, /* 246: -7.5449016e-08  3.6892271e-08  3.6892271e-08 */
+    { 0xc302793a,0x4407a788,0x4407a788 }, /* 247: -1.3047354e+02  5.4261768e+02  5.4261768e+02 */
+    { 0x524545c1,0x2b1fa3bf,0x524545c1 }, /* 248:  2.1181971e+11  5.6715391e-13  2.1181971e+11 */
+    { 0xbcc6413a,0xc041a331,0xbcc6413a }, /* 249: -2.4201024e-02 -3.0255854e+00 -2.4201024e-02 */
+    { 0xb504d832,0x3a3d4de6,0x3a3d4de6 }, /* 250: -4.9488438e-07  7.2213856e-04  7.2213856e-04 */
+    { 0xbf038d7c,0xc440708c,0xbf038d7c }, /* 251: -5.1387763e-01 -7.6975854e+02 -5.1387763e-01 */
+    { 0xbd2c17d9,0xbb38c21b,0xbb38c21b }, /* 252: -4.2014930e-02 -2.8191868e-03 -2.8191868e-03 */
+    { 0xbaf50f02,0x3e9555da,0x3e9555da }, /* 253: -1.8696489e-03  2.9167062e-01  2.9167062e-01 */
+    { 0x406188ef,0xbd0a1b65,0x406188ef }, /* 254:  3.5239828e+00 -3.3717532e-02  3.5239828e+00 */
+    { 0xbc9f8ad8,0x3d2c617f,0x3d2c617f }, /* 255: -1.9475386e-02  4.2085167e-02  4.2085167e-02 */
+    { 0x3be806ee,0x382f6151,0x3be806ee }, /* 256:  7.0809042e-03  4.1813884e-05  7.0809042e-03 */
+    { 0x48e7988e,0xbeb5a58b,0x48e7988e }, /* 257:  4.7430844e+05 -3.5477862e-01  4.7430844e+05 */
+    { 0xc1a83669,0x3b271373,0x3b271373 }, /* 258: -2.1026567e+01  2.5493770e-03  2.5493770e-03 */
+    { 0x3e907669,0x4344adb6,0x4344adb6 }, /* 259:  2.8215340e-01  1.9667856e+02  1.9667856e+02 */
+    { 0xbe90739b,0x469b2de7,0x469b2de7 }, /* 260: -2.8213200e-01  1.9862951e+04  1.9862951e+04 */
+    { 0xc079a78f,0xc1da68fb,0xc079a78f }, /* 261: -3.9008520e+00 -2.7301260e+01 -3.9008520e+00 */
+    { 0x25251155,0xbefb9746,0x25251155 }, /* 262:  1.4317341e-16 -4.9138850e-01  1.4317341e-16 */
+    { 0xbd86d428,0x3f800000,0x3f800000 }, /* 263: -6.5834343e-02  1.0000000e+00  1.0000000e+00 */
+    { 0xbd00b2cb,0xc603496b,0xbd00b2cb }, /* 264: -3.1420510e-02 -8.4023545e+03 -3.1420510e-02 */
+    { 0xc2d54c8e,0x414f88d0,0x414f88d0 }, /* 265: -1.0664952e+02  1.2970901e+01  1.2970901e+01 */
+    { 0x3c51734c,0x3dbf32b5,0x3dbf32b5 }, /* 266:  1.2783837e-02  9.3358435e-02  9.3358435e-02 */
+    { 0x3eb0d69b,0xc2597855,0x3eb0d69b }, /* 267:  3.4538731e-01 -5.4367512e+01  3.4538731e-01 */
+    { 0x3cdc982d,0xc0789638,0x3cdc982d }, /* 268:  2.6928032e-02 -3.8841686e+00  2.6928032e-02 */
+    { 0xbff027ac,0x3834c079,0x3834c079 }, /* 269: -1.8762107e+00  4.3094598e-05  4.3094598e-05 */
+    { 0xb961fd98,0x3622cd93,0x3622cd93 }, /* 270: -2.1552143e-04  2.4259541e-06  2.4259541e-06 */
+    { 0xbce49ece,0xc481193d,0xbce49ece }, /* 271: -2.7907755e-02 -1.0327887e+03 -2.7907755e-02 */
+    { 0x317a3c69,0xb638b59d,0x317a3c69 }, /* 272:  3.6414127e-09 -2.7523849e-06  3.6414127e-09 */
+    { 0xc706144d,0x42197c7f,0x42197c7f }, /* 273: -3.4324301e+04  3.8371578e+01  3.8371578e+01 */
+    { 0xc027c13b,0x51616afd,0x51616afd }, /* 274: -2.6211689e+00  6.0510163e+10  6.0510163e+10 */
+    { 0xc07d2c5a,0xf6662106,0xc07d2c5a }, /* 275: -3.9558320e+00 -1.1668926e+33 -3.9558320e+00 */
+    { 0xb9e52cf8,0x3ecb1f3a,0x3ecb1f3a }, /* 276: -4.3711788e-04  3.9672261e-01  3.9672261e-01 */
+    { 0xbf800000,0x45b57517,0x45b57517 }, /* 277: -1.0000000e+00  5.8066362e+03  5.8066362e+03 */
+    { 0xc55d8e82,0xc05b431d,0xc05b431d }, /* 278: -3.5449067e+03 -3.4259713e+00 -3.4259713e+00 */
+    { 0xbd113bd4,0xc05e2962,0xbd113bd4 }, /* 279: -3.5457447e-02 -3.4712758e+00 -3.5457447e-02 */
+    { 0x3e7f405e,0x403a977d,0x403a977d }, /* 280:  2.4926898e-01  2.9154961e+00  2.9154961e+00 */
+    { 0x3d7b52af,0xc43a7980,0x3d7b52af }, /* 281:  6.1358150e-02 -7.4589844e+02  6.1358150e-02 */
+    { 0x338be75f,0x3ac29697,0x3ac29697 }, /* 282:  6.5147781e-08  1.4845905e-03  1.4845905e-03 */
+    { 0xc2276904,0x3e921288,0x3e921288 }, /* 283: -4.1852554e+01  2.8529763e-01  2.8529763e-01 */
+    { 0xca08e8d3,0x432b28d5,0x432b28d5 }, /* 284: -2.2431248e+06  1.7115950e+02  1.7115950e+02 */
+    { 0x3d3876a8,0xb310bee7,0x3d3876a8 }, /* 285:  4.5035034e-02 -3.3701237e-08  4.5035034e-02 */
+    { 0xbf2fa744,0xbc17af19,0xbc17af19 }, /* 286: -6.8614602e-01 -9.2580551e-03 -9.2580551e-03 */
+    { 0x403e3990,0xdc75919c,0x403e3990 }, /* 287:  2.9722633e+00 -2.7648587e+17  2.9722633e+00 */
+    { 0xc255c3fb,0x404320f0,0x404320f0 }, /* 288: -5.3441387e+01  3.0488853e+00  3.0488853e+00 */
+    { 0xbd1397c9,0xb79402fc,0xb79402fc }, /* 289: -3.6033425e-02 -1.7644365e-05 -1.7644365e-05 */
+    { 0xbea82a3f,0xbc707779,0xbc707779 }, /* 290: -3.2844731e-01 -1.4676922e-02 -1.4676922e-02 */
+    { 0xb3a97636,0x3c18b635,0x3c18b635 }, /* 291: -7.8911782e-08  9.3207853e-03  9.3207853e-03 */
+    { 0xc040417a,0xcc0c16ef,0xc040417a }, /* 292: -3.0039964e+00 -3.6723644e+07 -3.0039964e+00 */
+    { 0x3ee14f02,0x50f5149a,0x50f5149a }, /* 293:  4.4005591e-01  3.2894145e+10  3.2894145e+10 */
+    { 0xbee14565,0x43dc33a7,0x43dc33a7 }, /* 294: -4.3998256e-01  4.4040353e+02  4.4040353e+02 */
+    { 0xbfd81151,0xbc1d666b,0xbc1d666b }, /* 295: -1.6880285e+00 -9.6069379e-03 -9.6069379e-03 */
+    { 0x357a49c0,0x46462f81,0x46462f81 }, /* 296:  9.3239578e-07  1.2683876e+04  1.2683876e+04 */
+    { 0x405f1ee2,0xbea922d8,0x405f1ee2 }, /* 297:  3.4862599e+00 -3.3034396e-01  3.4862599e+00 */
+    { 0x41c9cfbe,0xbcb8a745,0x41c9cfbe }, /* 298:  2.5226437e+01 -2.2540698e-02  2.5226437e+01 */
+    { 0x40af3446,0xc069b60f,0x40af3446 }, /* 299:  5.4751310e+00 -3.6517370e+00  5.4751310e+00 */
+    { 0x406586bf,0xbe918c4a,0x406586bf }, /* 300:  3.5863492e+00 -2.8427345e-01  3.5863492e+00 */
+    { 0x3d58a656,0xc9b698c6,0x3d58a656 }, /* 301:  5.2893005e-02 -1.4958328e+06  5.2893005e-02 */
+    { 0xc0033b60,0xc0513a60,0xc0033b60 }, /* 302: -2.0504990e+00 -3.2691879e+00 -2.0504990e+00 */
+    { 0x402c2547,0x439aeade,0x439aeade }, /* 303:  2.6897752e+00  3.0983490e+02  3.0983490e+02 */
+    { 0x3f209eb4,0xb785b8e9,0x3f209eb4 }, /* 304:  6.2742162e-01 -1.5940941e-05  6.2742162e-01 */
+    { 0xc23b95c2,0xc26b24bb,0xc23b95c2 }, /* 305: -4.6896248e+01 -5.8785870e+01 -4.6896248e+01 */
+    { 0x7f050b51,0x407d4c41,0x7f050b51 }, /* 306:  1.7684608e+38  3.9577792e+00  1.7684608e+38 */
+    { 0xc1d09f25,0xc14721c2,0xc14721c2 }, /* 307: -2.6077707e+01 -1.2445742e+01 -1.2445742e+01 */
+    { 0xbcb9ebba,0x3c2f2319,0x3c2f2319 }, /* 308: -2.2695411e-02  1.0689520e-02  1.0689520e-02 */
+    { 0x41cf3573,0xc00e2f86,0x41cf3573 }, /* 309:  2.5901098e+01 -2.2216506e+00  2.5901098e+01 */
+    { 0x40318022,0x44dc8d52,0x44dc8d52 }, /* 310:  2.7734456e+00  1.7644163e+03  1.7644163e+03 */
+    { 0xaaa4e9a4,0x4fce404d,0x4fce404d }, /* 311: -2.9294373e-13  6.9206410e+09  6.9206410e+09 */
+    { 0x445fd484,0x3ae5f463,0x445fd484 }, /* 312:  8.9532056e+02  1.7544146e-03  8.9532056e+02 */
+    { 0x42c14570,0x3a008e6a,0x42c14570 }, /* 313:  9.6635620e+01  4.9040338e-04  9.6635620e+01 */
+    { 0xbec00580,0x3ea19829,0x3ea19829 }, /* 314: -3.7504196e-01  3.1561401e-01  3.1561401e-01 */
+    { 0xbce954d6,0xba3d49ad,0xba3d49ad }, /* 315: -2.8482836e-02 -7.2207564e-04 -7.2207564e-04 */
+    { 0xda579f93,0xc1b5ae7d,0xc1b5ae7d }, /* 316: -1.5173143e+16 -2.2710199e+01 -2.2710199e+01 */
+    { 0xbca8ec4a,0xbed53525,0xbca8ec4a }, /* 317: -2.0620484e-02 -4.1642109e-01 -2.0620484e-02 */
+    { 0xbd573d34,0xc36d68b7,0xbd573d34 }, /* 318: -5.2548602e-02 -2.3740904e+02 -5.2548602e-02 */
+    { 0x405f9cec,0x405fb879,0x405fb879 }, /* 319:  3.4939528e+00  3.4956343e+00  3.4956343e+00 */
+    { 0xc056e8a6,0xa3e431ff,0xa3e431ff }, /* 320: -3.3579497e+00 -2.4740984e-17 -2.4740984e-17 */
+    { 0x3b9ae263,0x434c8839,0x434c8839 }, /* 321:  4.7266944e-03  2.0453212e+02  2.0453212e+02 */
+    { 0x388c931f,0x3ebedcc1,0x3ebedcc1 }, /* 322:  6.7031237e-05  3.7277797e-01  3.7277797e-01 */
+    { 0xc73550b7,0x407217c4,0x407217c4 }, /* 323: -4.6416715e+04  3.7827005e+00  3.7827005e+00 */
+    { 0xd464eccb,0xc20d2f33,0xc20d2f33 }, /* 324: -3.9329011e+12 -3.5296093e+01 -3.5296093e+01 */
+    { 0xc210bb0f,0x400b4171,0x400b4171 }, /* 325: -3.6182674e+01  2.1758692e+00  2.1758692e+00 */
+    { 0x40186766,0xc3309308,0x40186766 }, /* 326:  2.3813109e+00 -1.7657434e+02  2.3813109e+00 */
+    { 0xbcc92b7f,0x3e3aa431,0x3e3aa431 }, /* 327: -2.4556873e-02  1.8226697e-01  1.8226697e-01 */
+    { 0x4124e439,0x1b238f99,0x4124e439 }, /* 328:  1.0305718e+01  1.3529443e-22  1.0305718e+01 */
+    { 0xc574a378,0x3c2ae17f,0x3c2ae17f }, /* 329: -3.9142168e+03  1.0429739e-02  1.0429739e-02 */
+    { 0x4266c6e9,0x42c4eb98,0x42c4eb98 }, /* 330:  5.7694248e+01  9.8460144e+01  9.8460144e+01 */
+    { 0xbaa19f42,0x3c898ca5,0x3c898ca5 }, /* 331: -1.2330788e-03  1.6790697e-02  1.6790697e-02 */
+    { 0xbbb963be,0x3eb5280d,0x3eb5280d }, /* 332: -5.6576421e-03  3.5382119e-01  3.5382119e-01 */
+    { 0x430c4ef6,0xc096e8f7,0x430c4ef6 }, /* 333:  1.4030844e+02 -4.7159381e+00  1.4030844e+02 */
+    { 0xbeaa3b04,0x40373e26,0x40373e26 }, /* 334: -3.3248150e-01  2.8631682e+00  2.8631682e+00 */
+    { 0xc04fb445,0xc9444537,0xc04fb445 }, /* 335: -3.2453778e+00 -8.0392344e+05 -3.2453778e+00 */
+    { 0xc5f13d5d,0x3d5c86ab,0x3d5c86ab }, /* 336: -7.7196704e+03  5.3839367e-02  5.3839367e-02 */
+    { 0xc23efa7d,0xbc02908c,0xbc02908c }, /* 337: -4.7744617e+01 -7.9690330e-03 -7.9690330e-03 */
+    { 0x41dcd14f,0x41acb395,0x41dcd14f }, /* 338:  2.7602201e+01  2.1587687e+01  2.7602201e+01 */
+    { 0xc0102850,0x3680a40d,0x3680a40d }, /* 339: -2.2524605e+00  3.8337953e-06  3.8337953e-06 */
+    { 0x081a5f03,0x3960bbf6,0x3960bbf6 }, /* 340:  4.6454375e-34  2.1432326e-04  2.1432326e-04 */
+    { 0xbfec7e08,0xbb48ce17,0xbb48ce17 }, /* 341: -1.8475962e+00 -3.0640417e-03 -3.0640417e-03 */
+    { 0xbed3c25d,0xae5e04af,0xae5e04af }, /* 342: -4.1359225e-01 -5.0481116e-11 -5.0481116e-11 */
+    { 0xc02d0db4,0xc3c9fe72,0xc02d0db4 }, /* 343: -2.7039614e+00 -4.0398785e+02 -2.7039614e+00 */
+    { 0xc053e57c,0xbd63aff3,0xbd63aff3 }, /* 344: -3.3108816e+00 -5.5587720e-02 -5.5587720e-02 */
+    { 0x4094f2e4,0x42d0a7c3,0x42d0a7c3 }, /* 345:  4.6546497e+00  1.0432766e+02  1.0432766e+02 */
+    { 0x3ce1f839,0xb9e205dc,0x3ce1f839 }, /* 346:  2.7584182e-02 -4.3110445e-04  2.7584182e-02 */
+    { 0x3c7f8448,0x44923ee4,0x44923ee4 }, /* 347:  1.5595503e-02  1.1699653e+03  1.1699653e+03 */
+    { 0x43e6e17b,0x3f6bbe63,0x43e6e17b }, /* 348:  4.6176157e+02  9.2087382e-01  4.6176157e+02 */
+    { 0x3c0f045f,0xc09c213a,0x3c0f045f }, /* 349:  8.7290695e-03 -4.8790560e+00  8.7290695e-03 */
+    { 0x3e81c1d2,0x402e4f04,0x402e4f04 }, /* 350:  2.5343186e-01  2.7235727e+00  2.7235727e+00 */
+    { 0x3a6aed07,0x3e8f1e7c,0x3e8f1e7c }, /* 351:  8.9617114e-04  2.7952945e-01  2.7952945e-01 */
+    { 0xc2a1b138,0xbfdf6e3c,0xbfdf6e3c }, /* 352: -8.0846130e+01 -1.7455516e+00 -1.7455516e+00 */
+    { 0x3eafcf20,0x44c320d2,0x44c320d2 }, /* 353:  3.4337711e-01  1.5610256e+03  1.5610256e+03 */
+    { 0x316091e2,0xb3f65075,0x316091e2 }, /* 354:  3.2679215e-09 -1.1469903e-07  3.2679215e-09 */
+    { 0xbad316e9,0xc27d8958,0xbad316e9 }, /* 355: -1.6104850e-03 -6.3384125e+01 -1.6104850e-03 */
+    { 0x3ee741bc,0xb1f2bae2,0x3ee741bc }, /* 356:  4.5167339e-01 -7.0643731e-09  4.5167339e-01 */
+    { 0x3b0c1598,0x4b21f327,0x4b21f327 }, /* 357:  2.1375176e-03  1.0613543e+07  1.0613543e+07 */
+    { 0xc1970524,0x3ea36bdc,0x3ea36bdc }, /* 358: -1.8877510e+01  3.1918228e-01  3.1918228e-01 */
+    { 0x42cbf2d0,0x103aa224,0x42cbf2d0 }, /* 359:  1.0197424e+02  3.6806941e-29  1.0197424e+02 */
+    { 0xca62dbeb,0x41c9d15f,0x41c9d15f }, /* 360: -3.7168588e+06  2.5227232e+01  2.5227232e+01 */
+    { 0x3f287963,0xbbbdd232,0x3f287963 }, /* 361:  6.5810221e-01 -5.7928795e-03  6.5810221e-01 */
+    { 0x3eac154c,0x46cf8ea0,0x46cf8ea0 }, /* 362:  3.3609998e-01  2.6567312e+04  2.6567312e+04 */
+    { 0x33961689,0xc0883c57,0x33961689 }, /* 363:  6.9890184e-08 -4.2573657e+00  6.9890184e-08 */
+    { 0xc507149b,0xcd94bc04,0xc507149b }, /* 364: -2.1612878e+03 -3.1191872e+08 -2.1612878e+03 */
+    { 0xc04ec96f,0x3e853d5f,0x3e853d5f }, /* 365: -3.2310445e+00  2.6023385e-01  2.6023385e-01 */
+    { 0x4058f73d,0xc7b5a9b1,0x4058f73d }, /* 366:  3.3900902e+00 -9.3011383e+04  3.3900902e+00 */
+    { 0xc1d6c4bd,0xc5e0aefa,0xc1d6c4bd }, /* 367: -2.6846064e+01 -7.1898721e+03 -2.6846064e+01 */
+    { 0x3eb63747,0xc36521cb,0x3eb63747 }, /* 368:  3.5589048e-01 -2.2913200e+02  3.5589048e-01 */
+    { 0xc03ae378,0xbc586a87,0xbc586a87 }, /* 369: -2.9201336e+00 -1.3208992e-02 -1.3208992e-02 */
+    { 0x4266d5aa,0x3ec613b5,0x4266d5aa }, /* 370:  5.7708656e+01  3.8686910e-01  5.7708656e+01 */
+    { 0x3b621979,0xbed73928,0x3b621979 }, /* 371:  3.4500046e-03 -4.2035794e-01  3.4500046e-03 */
+    { 0x3fffab1c,0xc19dc57b,0x3fffab1c }, /* 372:  1.9974093e+00 -1.9721426e+01  1.9974093e+00 */
+    { 0x3d099f67,0x1e86af37,0x3d099f67 }, /* 373:  3.3599284e-02  1.4260269e-20  3.3599284e-02 */
+    { 0xc20c4014,0x3ed95ebf,0x3ed95ebf }, /* 374: -3.5062576e+01  4.2455098e-01  4.2455098e-01 */
+    { 0x3d346fc5,0xc3dfa34f,0x3d346fc5 }, /* 375:  4.4051904e-02 -4.4727585e+02  4.4051904e-02 */
+    { 0x42e181d7,0x3c057101,0x42e181d7 }, /* 376:  1.1275359e+02  8.1446180e-03  1.1275359e+02 */
+    { 0x3a7ef22d,0xbc4b1ba7,0x3a7ef22d }, /* 377:  9.7254181e-04 -1.2396730e-02  9.7254181e-04 */
+    { 0x421005f6,0xc031afb4,0x421005f6 }, /* 378:  3.6005821e+01 -2.7763491e+00  3.6005821e+01 */
+    { 0xc3dbf159,0xbe9e4b9a,0xbe9e4b9a }, /* 379: -4.3988553e+02 -3.0917054e-01 -3.0917054e-01 */
+    { 0x405b03bf,0x34b636fd,0x405b03bf }, /* 380:  3.4221036e+00  3.3940151e-07  3.4221036e+00 */
+    { 0x3f800000,0x4264f1bb,0x4264f1bb }, /* 381:  1.0000000e+00  5.7236065e+01  5.7236065e+01 */
+    { 0xbc6ef7f9,0xba1d2029,0xba1d2029 }, /* 382: -1.4585488e-02 -5.9938669e-04 -5.9938669e-04 */
+    { 0x49b86d6c,0x3c0e1420,0x49b86d6c }, /* 383:  1.5108295e+06  8.6717904e-03  1.5108295e+06 */
+    { 0xc318436c,0x4034be4a,0x4034be4a }, /* 384: -1.5226337e+02  2.8241143e+00  2.8241143e+00 */
+    { 0xc05345e7,0x546f4056,0x546f4056 }, /* 385: -3.3011415e+00  4.1103062e+12  4.1103062e+12 */
+    { 0x3bddc796,0xbc23bbcd,0x3bddc796 }, /* 386:  6.7681773e-03 -9.9935057e-03  6.7681773e-03 */
+    { 0x406cbee9,0xafdef493,0x406cbee9 }, /* 387:  3.6991522e+00 -4.0555345e-10  3.6991522e+00 */
+    { 0xf901bd76,0xc34ac0f2,0xc34ac0f2 }, /* 388: -4.2103064e+34 -2.0275369e+02 -2.0275369e+02 */
+    { 0xbef9b845,0x496606c6,0x496606c6 }, /* 389: -4.8773399e-01  9.4218838e+05  9.4218838e+05 */
+    { 0xba3a4c5a,0xbae51e3d,0xba3a4c5a }, /* 390: -7.1067142e-04 -1.7480325e-03 -7.1067142e-04 */
+    { 0x3abceacb,0xbd0ae218,0x3abceacb }, /* 391:  1.4413235e-03 -3.3907026e-02  1.4413235e-03 */
+    { 0xfc529ebd,0x422e9c0d,0x422e9c0d }, /* 392: -4.3744077e+36  4.3652393e+01  4.3652393e+01 */
+    { 0x2feddfea,0x3bade301,0x3bade301 }, /* 393:  4.3269149e-10  5.3066020e-03  5.3066020e-03 */
+    { 0xba8e1f1f,0x3eb9bfcb,0x3eb9bfcb }, /* 394: -1.0843015e-03  3.6279139e-01  3.6279139e-01 */
+    { 0x3ed5c87f,0xc3fd150d,0x3ed5c87f }, /* 395:  4.1754529e-01 -5.0616446e+02  4.1754529e-01 */
+    { 0x40524679,0x39c8b3be,0x40524679 }, /* 396:  3.2855513e+00  3.8280891e-04  3.2855513e+00 */
+    { 0x919fbe17,0x35e16fcf,0x35e16fcf }, /* 397: -2.5202929e-28  1.6796347e-06  1.6796347e-06 */
+    { 0xa7cc58c2,0x40684c65,0x40684c65 }, /* 398: -5.6717606e-15  3.6296628e+00  3.6296628e+00 */
+    { 0xc930b472,0x426c7d42,0x426c7d42 }, /* 399: -7.2378312e+05  5.9122322e+01  5.9122322e+01 */
+    { 0xb5bcdbfc,0xbd49cd1c,0xb5bcdbfc }, /* 400: -1.4071115e-06 -4.9267873e-02 -1.4071115e-06 */
+    { 0x3c961bca,0xca539441,0x3c961bca }, /* 401:  1.8323798e-02 -3.4665122e+06  1.8323798e-02 */
+    { 0xad1b7b09,0xc32c6eee,0xad1b7b09 }, /* 402: -8.8380492e-12 -1.7243332e+02 -8.8380492e-12 */
+    { 0x3b8cf4ed,0xbd659d09,0x3b8cf4ed }, /* 403:  4.3016584e-03 -5.6057964e-02  4.3016584e-03 */
+    { 0x3a04fb6f,0x36fcf7be,0x3a04fb6f }, /* 404:  5.0728669e-04  7.5390262e-06  5.0728669e-04 */
+    { 0xc1ca1e11,0xb832452d,0xb832452d }, /* 405: -2.5264681e+01 -4.2502932e-05 -4.2502932e-05 */
+    { 0xc32a8a77,0x0e2af623,0x0e2af623 }, /* 406: -1.7054088e+02  2.1072628e-30  2.1072628e-30 */
+    { 0xbb17966f,0xc38c99b7,0xbb17966f }, /* 407: -2.3130437e-03 -2.8120090e+02 -2.3130437e-03 */
+    { 0xc0531f3a,0xc0267488,0xc0267488 }, /* 408: -3.2987809e+00 -2.6008625e+00 -2.6008625e+00 */
+    { 0xc58e2ac1,0x43528540,0x43528540 }, /* 409: -4.5493442e+03  2.1052051e+02  2.1052051e+02 */
+    { 0x403ef9a5,0x3ea2b183,0x403ef9a5 }, /* 410:  2.9839871e+00  3.1776056e-01  2.9839871e+00 */
+    { 0x4212ba7a,0xceaf6d3a,0x4212ba7a }, /* 411:  3.6682106e+01 -1.4715855e+09  3.6682106e+01 */
+    { 0xc1d1946f,0xbd8d8942,0xbd8d8942 }, /* 412: -2.6197477e+01 -6.9109455e-02 -6.9109455e-02 */
+    { 0x4718e041,0x475f3c04,0x475f3c04 }, /* 413:  3.9136254e+04  5.7148016e+04  5.7148016e+04 */
+    { 0xc6826ee8,0x2eddf417,0x2eddf417 }, /* 414: -1.6695453e+04  1.0093276e-10  1.0093276e-10 */
+    { 0x3b4acdf1,0x3a5c080e,0x3b4acdf1 }, /* 415:  3.0945505e-03  8.3935342e-04  3.0945505e-03 */
+    { 0x3bf10a24,0xb757a63f,0x3bf10a24 }, /* 416:  7.3559452e-03 -1.2853706e-05  7.3559452e-03 */
+    { 0xbe55411c,0x3e94d66c,0x3e94d66c }, /* 417: -2.0825619e-01  2.9069841e-01  2.9069841e-01 */
+    { 0x3c8749f8,0x47cc21d5,0x47cc21d5 }, /* 418:  1.6514763e-02  1.0451566e+05  1.0451566e+05 */
+    { 0x427cc545,0x3bab4615,0x427cc545 }, /* 419:  6.3192646e+01  5.2268603e-03  6.3192646e+01 */
+    { 0xc6c227fc,0xc2fdec9e,0xc2fdec9e }, /* 420: -2.4851992e+04 -1.2696214e+02 -1.2696214e+02 */
+    { 0xbe9c544b,0x3e6b6ef9,0x3e6b6ef9 }, /* 421: -3.0533060e-01  2.2991551e-01  2.2991551e-01 */
+    { 0x3175ee59,0xbefb3e86,0x3175ee59 }, /* 422:  3.5787677e-09 -4.9071139e-01  3.5787677e-09 */
+    { 0xb68e99f9,0x403ad153,0x403ad153 }, /* 423: -4.2498546e-06  2.9190261e+00  2.9190261e+00 */
+    { 0xbecbd270,0x43518f4b,0x43518f4b }, /* 424: -3.9808989e-01  2.0955974e+02  2.0955974e+02 */
+    { 0x436ae517,0x12b4dab5,0x436ae517 }, /* 425:  2.3489488e+02  1.1413512e-27  2.3489488e+02 */
+    { 0xad48dacc,0x4025a4d2,0x4025a4d2 }, /* 426: -1.1417266e-11  2.5881848e+00  2.5881848e+00 */
+    { 0xba5034e8,0x5b350148,0x5b350148 }, /* 427: -7.9424540e-04  5.0948380e+16  5.0948380e+16 */
+    { 0x9437733b,0x41f99329,0x41f99329 }, /* 428: -9.2618641e-27  3.1196856e+01  3.1196856e+01 */
+    { 0xa1e3d629,0x4063a3e5,0x4063a3e5 }, /* 429: -1.5438806e-18  3.5568783e+00  3.5568783e+00 */
+    { 0x41b09714,0xbd0a22be,0x41b09714 }, /* 430:  2.2073769e+01 -3.3724539e-02  2.2073769e+01 */
+    { 0xbb82cb35,0x3c82d9c6,0x3c82d9c6 }, /* 431: -3.9915093e-03  1.5972983e-02  1.5972983e-02 */
+    { 0x42ad5bc8,0x4270869a,0x42ad5bc8 }, /* 432:  8.6679260e+01  6.0131447e+01  8.6679260e+01 */
+    { 0xbec88070,0xc427a3d1,0xbec88070 }, /* 433: -3.9160490e-01 -6.7055963e+02 -3.9160490e-01 */
+    { 0xc0213cbe,0xc015d282,0xc015d282 }, /* 434: -2.5193324e+00 -2.3409734e+00 -2.3409734e+00 */
+    { 0xbc42c81f,0x426f280b,0x426f280b }, /* 435: -1.1888533e-02  5.9789104e+01  5.9789104e+01 */
+    { 0x41c6aa1b,0x4551109e,0x4551109e }, /* 436:  2.4833059e+01  3.3450386e+03  3.3450386e+03 */
+    { 0x3ce109b9,0xc1c4e8d3,0x3ce109b9 }, /* 437:  2.7470456e-02 -2.4613684e+01  2.7470456e-02 */
+    { 0x9c565733,0x3e8ca0e6,0x3e8ca0e6 }, /* 438: -7.0919363e-22  2.7466506e-01  2.7466506e-01 */
+    { 0xc4c28d46,0x6230f480,0x6230f480 }, /* 439: -1.5564148e+03  8.1606126e+20  8.1606126e+20 */
+    { 0xc1a9c1b8,0x3a58c904,0x3a58c904 }, /* 440: -2.1219589e+01  8.2696998e-04  8.2696998e-04 */
+    { 0xbb99ef38,0x9d8ee0c0,0x9d8ee0c0 }, /* 441: -4.6977066e-03 -3.7819473e-21 -3.7819473e-21 */
+    { 0xc44ffed6,0xbc40caa3,0xbc40caa3 }, /* 442: -8.3198181e+02 -1.1767062e-02 -1.1767062e-02 */
+    { 0xc3aeb3b3,0xbeccc229,0xbeccc229 }, /* 443: -3.4940390e+02 -3.9991882e-01 -3.9991882e-01 */
+    { 0x3604d6fa,0x931484d0,0x3604d6fa }, /* 444:  1.9794666e-06 -1.8745708e-27  1.9794666e-06 */
+    { 0x3e766505,0xc27f31ba,0x3e766505 }, /* 445:  2.4061973e-01 -6.3798561e+01  2.4061973e-01 */
+    { 0xc1fa68fe,0x434c5f12,0x434c5f12 }, /* 446: -3.1301266e+01  2.0437137e+02  2.0437137e+02 */
+    { 0xb993e894,0xb896d8a8,0xb896d8a8 }, /* 447: -2.8211309e-04 -7.1929127e-05 -7.1929127e-05 */
+    { 0xbc2844ba,0xc3071977,0xbc2844ba }, /* 448: -1.0270292e-02 -1.3509947e+02 -1.0270292e-02 */
+    { 0xb9d44dde,0x3eb1a6b5,0x3eb1a6b5 }, /* 449: -4.0493807e-04  3.4697500e-01  3.4697500e-01 */
+    { 0x49334a9e,0x46a26922,0x49334a9e }, /* 450:  7.3437788e+05  2.0788566e+04  7.3437788e+05 */
+    { 0xb6b6c8f3,0x3ffbe7db,0x3ffbe7db }, /* 451: -5.4474162e-06  1.9680132e+00  1.9680132e+00 */
+    { 0x6d5a209f,0x3ee1067f,0x6d5a209f }, /* 452:  4.2191980e+27  4.3950269e-01  4.2191980e+27 */
+    { 0x3c18b642,0xc01ad372,0x3c18b642 }, /* 453:  9.3207974e-03 -2.4191556e+00  9.3207974e-03 */
+    { 0xc1ff689b,0x4201d152,0x4201d152 }, /* 454: -3.1926077e+01  3.2454414e+01  3.2454414e+01 */
+    { 0xc141e594,0xbb83c4a8,0xbb83c4a8 }, /* 455: -1.2118549e+01 -4.0212460e-03 -4.0212460e-03 */
+    { 0x6f8a89f5,0xc905c888,0x6f8a89f5 }, /* 456:  8.5751422e+28 -5.4797650e+05  8.5751422e+28 */
+    { 0x3e639bd7,0x4039aa68,0x4039aa68 }, /* 457:  2.2227417e-01  2.9010258e+00  2.9010258e+00 */
+    { 0x3ec79188,0xac902191,0x3ec79188 }, /* 458:  3.8978219e-01 -4.0964528e-12  3.8978219e-01 */
+    { 0x3d473d6e,0x38446a2e,0x3d473d6e }, /* 459:  4.8642568e-02  4.6828929e-05  4.8642568e-02 */
+    { 0x45e0cd4c,0xc0551f9e,0x45e0cd4c }, /* 460:  7.1936621e+03 -3.3300548e+00  7.1936621e+03 */
+    { 0xc0348c43,0x4b40a34b,0x4b40a34b }, /* 461: -2.8210609e+00  1.2624715e+07  1.2624715e+07 */
+    { 0x43d9421a,0x3d484d82,0x43d9421a }, /* 462:  4.3451642e+02  4.8902042e-02  4.3451642e+02 */
+    { 0x3f5d84b2,0xbc984e29,0x3f5d84b2 }, /* 463:  8.6530602e-01 -1.8591957e-02  8.6530602e-01 */
+    { 0x5227fe94,0x4060e059,0x5227fe94 }, /* 464:  1.8038266e+11  3.5136931e+00  1.8038266e+11 */
+    { 0xc1eb12c6,0x334cce04,0x334cce04 }, /* 465: -2.9384167e+01  4.7684821e-08  4.7684821e-08 */
+    { 0xc477cd98,0x42559156,0x42559156 }, /* 466: -9.9121240e+02  5.3391930e+01  5.3391930e+01 */
+    { 0xbc9a3267,0xc2e7e925,0xbc9a3267 }, /* 467: -1.8822862e-02 -1.1595536e+02 -1.8822862e-02 */
+    { 0xaf585235,0x429dd9ab,0x429dd9ab }, /* 468: -1.9674291e-10  7.8925133e+01  7.8925133e+01 */
+    { 0xc085535c,0xd5e1e696,0xc085535c }, /* 469: -4.1664257e+00 -3.1047559e+13 -4.1664257e+00 */
+    { 0x41265a2d,0x3bfbd53d,0x41265a2d }, /* 470:  1.0397016e+01  7.6853321e-03  1.0397016e+01 */
+    { 0xbeb600ad,0xc24c557a,0xbeb600ad }, /* 471: -3.5547391e-01 -5.1083473e+01 -3.5547391e-01 */
+    { 0xd9a76e14,0xbb921041,0xbb921041 }, /* 472: -5.8909192e+15 -4.4575040e-03 -4.4575040e-03 */
+    { 0xbb5bbd25,0x409216a7,0x409216a7 }, /* 473: -3.3529487e-03  4.5652652e+00  4.5652652e+00 */
+    { 0x41b6b033,0xc21e54ba,0x41b6b033 }, /* 474:  2.2836035e+01 -3.9582741e+01  2.2836035e+01 */
+    { 0xc29d4857,0x4211b05d,0x4211b05d }, /* 475: -7.8641289e+01  3.6422230e+01  3.6422230e+01 */
+    { 0x4577e8a8,0xb61878b3,0x4577e8a8 }, /* 476:  3.9665410e+03 -2.2720021e-06  3.9665410e+03 */
+    { 0x46dbab6b,0x40a79815,0x46dbab6b }, /* 477:  2.8117709e+04  5.2373147e+00  2.8117709e+04 */
+    { 0x3832d9f6,0xbc33ad2f,0x3832d9f6 }, /* 478:  4.2641499e-05 -1.0966583e-02  4.2641499e-05 */
+    { 0x4ba5eda5,0xbc86063b,0x4ba5eda5 }, /* 479:  2.1748554e+07 -1.6360393e-02  2.1748554e+07 */
+    { 0xcc305d96,0xbc13c964,0xbc13c964 }, /* 480: -4.6233176e+07 -9.0201832e-03 -9.0201832e-03 */
+    { 0x3f238086,0xc3cdb7f6,0x3f238086 }, /* 481:  6.3867986e-01 -4.1143719e+02  6.3867986e-01 */
+    { 0xbffc7aa1,0x3f800000,0x3f800000 }, /* 482: -1.9724923e+00  1.0000000e+00  1.0000000e+00 */
+    { 0xc8ae7693,0xb9f88a72,0xb9f88a72 }, /* 483: -3.5730059e+05 -4.7405396e-04 -4.7405396e-04 */
+    { 0xbe89777e,0x3fe581cf,0x3fe581cf }, /* 484: -2.6848978e-01  1.7930239e+00  1.7930239e+00 */
+    { 0xbe61638c,0xc1d98eee,0xbe61638c }, /* 485: -2.2010630e-01 -2.7194790e+01 -2.2010630e-01 */
+    { 0x3ee700a0,0xc025150d,0x3ee700a0 }, /* 486:  4.5117664e-01 -2.5794098e+00  4.5117664e-01 */
+    { 0xc202fc5a,0xb6520a55,0xb6520a55 }, /* 487: -3.2746437e+01 -3.1298453e-06 -3.1298453e-06 */
+    { 0xbc6d6eff,0xb8465bb6,0xb8465bb6 }, /* 488: -1.4491796e-02 -4.7292291e-05 -4.7292291e-05 */
+    { 0xa5926639,0xc4a2d664,0xa5926639 }, /* 489: -2.5396232e-16 -1.3026997e+03 -2.5396232e-16 */
+    { 0xc2dc2bf4,0x416c06d3,0x416c06d3 }, /* 490: -1.1008585e+02  1.4751666e+01  1.4751666e+01 */
+    { 0xbb3096e8,0x41cd5ccf,0x41cd5ccf }, /* 491: -2.6945416e-03  2.5670317e+01  2.5670317e+01 */
+    { 0x3c08ea12,0xbfeae5a3,0x3c08ea12 }, /* 492:  8.3565880e-03 -1.8351330e+00  8.3565880e-03 */
+    { 0x3c21ffeb,0xc87d341b,0x3c21ffeb }, /* 493:  9.8876758e-03 -2.5928042e+05  9.8876758e-03 */
+    { 0xbcefd239,0xbd441336,0xbcefd239 }, /* 494: -2.9275047e-02 -4.7869883e-02 -2.9275047e-02 */
+    { 0xc2069901,0x430d15e0,0x430d15e0 }, /* 495: -3.3649418e+01  1.4108545e+02  1.4108545e+02 */
+    { 0x37e58841,0x3f09fb24,0x3f09fb24 }, /* 496:  2.7362375e-05  5.3898835e-01  5.3898835e-01 */
+    { 0x61fcf9b9,0xc325bbc9,0x61fcf9b9 }, /* 497:  5.8332174e+20 -1.6573354e+02  5.8332174e+20 */
+    { 0xbc9a6cb1,0xb0a5d8d9,0xb0a5d8d9 }, /* 498: -1.8850656e-02 -1.2066962e-09 -1.2066962e-09 */
+    { 0xbc2f868c,0x609b6f76,0x609b6f76 }, /* 499: -1.0713231e-02  8.9602404e+19  8.9602404e+19 */
+    { 0xc206ba8a,0x4031e3bc,0x4031e3bc }, /* 500: -3.3682167e+01  2.7795248e+00  2.7795248e+00 */
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]:  %#lx\n", index - 1, v.lo);
+#endif
+    exit (index ? index : -1);
+}
+
+int main ()
+{
+    union lofl_u x,y,z;
+    int i;
+    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	y.lo = pgm_read_dword (& t[i].y);
+	x.lo = pgm_read_dword (& t[i].x);
+	z.lo = pgm_read_dword (& t[i].z);
+	v.fl = fmax (x.fl, y.fl);
+	
+	if (   v.lo == z.lo
+	    || (isnan(v.fl) && isnan(z.fl))	)
+	  continue;
+	x_exit (i+1);
+    }
+    return 0;
+}
diff --git a/tests/simulate/math/fmin-01.c b/tests/simulate/math/fmin-01.c
new file mode 100644
index 0000000..420f25d
--- /dev/null
+++ b/tests/simulate/math/fmin-01.c
@@ -0,0 +1,208 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of fmin() function.
+   $Id$
+ */
+#include <math.h>
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+volatile union lofl_u v = { .lo = 1 };
+
+PROGMEM const struct {		/* Table of test cases	*/
+    union lofl_u x, y;		/* args		*/
+    union lofl_u z;		/* result	*/
+} t[] = {
+
+    /* fmin (0,0)	*/
+    { { .fl=  0.0 }, { .fl=  0.0 }, { .fl=  0.0 } },
+    { { .fl= -0.0 }, { .fl=  0.0 }, { .fl= -0.0 } },
+    { { .fl= -0.0 }, { .fl= -0.0 }, { .fl= -0.0 } },
+#ifdef	__AVR__
+    { { .fl=  0.0 }, { .fl= -0.0 }, { .fl= -0.0 } },	/* Glibc: --> +0.0 */
+#endif
+
+    /* fmin (NaN, finite)	*/
+    { { 0x7f800001 }, { 0x7f7fffff }, { 0x7f7fffff } },
+    { { 0x7f800100 }, { 0xff7fffff }, { 0xff7fffff } },
+    { { 0x7f810000 }, { 0x00000001 }, { 0x00000001 } },
+    { { 0x7fc00000 }, { 0x80000001 }, { 0x80000001 } },
+    { { 0x7ffffffe }, { 0x00000000 }, { 0x00000000 } },
+    { { 0x7fffffff }, { 0x80000000 }, { 0x80000000 } },
+
+    { { 0xff800001 }, { 0x7f7fffff }, { 0x7f7fffff } },
+    { { 0xff800100 }, { 0xff7fffff }, { 0xff7fffff } },
+    { { 0xff810000 }, { 0x00000001 }, { 0x00000001 } },
+    { { 0xffc00000 }, { 0x80000001 }, { 0x80000001 } },
+    { { 0xfffffffe }, { 0x00000000 }, { 0x00000000 } },
+    { { 0xffffffff }, { 0x80000000 }, { 0x80000000 } },
+
+    /* fmin (finite, NaN)	*/
+    { { 0x7f7fffff }, { 0x7f800001 }, { 0x7f7fffff } },
+    { { 0xff7fffff }, { 0x7f800100 }, { 0xff7fffff } },
+    { { 0x00000001 }, { 0x7f810000 }, { 0x00000001 } },
+    { { 0x80000001 }, { 0x7fc00000 }, { 0x80000001 } },
+    { { 0x00000000 }, { 0x7ffffffe }, { 0x00000000 } },
+    { { 0x80000000 }, { 0x7fffffff }, { 0x80000000 } },
+
+    { { 0x7f7fffff }, { 0xff800001 }, { 0x7f7fffff } },
+    { { 0xff7fffff }, { 0xff800100 }, { 0xff7fffff } },
+    { { 0x00000001 }, { 0xff810000 }, { 0x00000001 } },
+    { { 0x80000001 }, { 0xffc00000 }, { 0x80000001 } },
+    { { 0x00000000 }, { 0xfffffffe }, { 0x00000000 } },
+    { { 0x80000000 }, { 0xffffffff }, { 0x80000000 } },
+    
+    /* fmin (NaN, Inf)	*/
+    { { 0x7f800001 }, { 0x7f800000 }, { 0x7f800000 } },
+    { { 0x7f800001 }, { 0xff800000 }, { 0xff800000 } },
+    { { 0xff800001 }, { 0x7f800000 }, { 0x7f800000 } },
+    { { 0xff800001 }, { 0xff800000 }, { 0xff800000 } },
+    { { 0x7fffffff }, { 0x7f800000 }, { 0x7f800000 } },
+    { { 0x7fffffff }, { 0xff800000 }, { 0xff800000 } },
+    { { 0xffffffff }, { 0x7f800000 }, { 0x7f800000 } },
+    { { 0xffffffff }, { 0xff800000 }, { 0xff800000 } },
+
+    /* fmin (Inf, NaN)	*/
+    { { 0x7f800000 }, { 0x7f800001 }, { 0x7f800000 } },
+    { { 0xff800000 }, { 0x7f800001 }, { 0xff800000 } },
+    { { 0x7f800000 }, { 0xff800001 }, { 0x7f800000 } },
+    { { 0xff800000 }, { 0xff800001 }, { 0xff800000 } },
+    { { 0x7f800000 }, { 0x7fffffff }, { 0x7f800000 } },
+    { { 0xff800000 }, { 0x7fffffff }, { 0xff800000 } },
+    { { 0x7f800000 }, { 0xffffffff }, { 0x7f800000 } },
+    { { 0xff800000 }, { 0xffffffff }, { 0xff800000 } },
+
+    /* fmin (NaN, NaN)	*/
+    { { 0x7f800001 }, { 0x7fffffff }, { 0x7fffffff } },
+    { { 0xffffffff }, { 0xff800001 }, { 0xff800001 } },
+    
+    /* fmin (Inf, Inf)	*/
+    { { 0x7f800000 }, { 0x7f800000 }, { 0x7f800000 } },
+    { { 0xff800000 }, { 0x7f800000 }, { 0xff800000 } },
+    { { 0x7f800000 }, { 0xff800000 }, { 0xff800000 } },
+    { { 0xff800000 }, { 0xff800000 }, { 0xff800000 } },
+
+    /* fmin (+Inf, finite)	*/
+    { { 0x7f800000 }, { 0x7f7fffff }, { 0x7f7fffff } },
+    { { 0x7f800000 }, { 0xff7fffff }, { 0xff7fffff } },
+    
+    /* fmin (-Inf, finite)	*/
+    { { 0xff800000 }, { 0x7f7fffff }, { 0xff800000 } },
+    { { 0xff800000 }, { 0xff7fffff }, { 0xff800000 } },
+
+    /* fmin (finite, +Inf)	*/
+    { { 0x7f7fffff }, { 0x7f800000 }, { 0x7f7fffff } },
+    { { 0x00000000 }, { 0x7f800000 }, { 0x00000000 } },
+    { { 0x80000000 }, { 0x7f800000 }, { 0x80000000 } },
+    { { 0xff7fffff }, { 0x7f800000 }, { 0xff7fffff } },
+    
+    /* fmin (finite, -Inf)	*/
+    { { 0x7f7fffff }, { 0xff800000 }, { 0xff800000 } },
+    { { 0xff7fffff }, { 0xff800000 }, { 0xff800000 } },
+    
+    /* x == y	*/
+    { { 0x12345678 }, { 0x12345678 }, { 0x12345678 } },
+    
+    /* x < y	*/
+    { { 0xff7fffff }, { 0xff7ffffe }, { 0xff7fffff } },
+    { { 0xff7fffff }, { 0x80000001 }, { 0xff7fffff } },
+    { { 0xff7fffff }, { 0x80000000 }, { 0xff7fffff } },
+    { { 0xff7fffff }, { 0x00000000 }, { 0xff7fffff } },
+    { { 0xff7fffff }, { 0x00000001 }, { 0xff7fffff } },
+    { { 0xff7fffff }, { 0x7f7fffff }, { 0xff7fffff } },
+    
+    { { 0x80000001 }, { 0x80000000 }, { 0x80000001 } },
+    { { 0x80000001 }, { 0x00000000 }, { 0x80000001 } },
+    { { 0x80000001 }, { 0x00000001 }, { 0x80000001 } },
+    { { 0x80000001 }, { 0x7f7fffff }, { 0x80000001 } },
+    
+    { { 0x00000000 }, { 0x00000001 }, { 0x00000000 } },
+    { { 0x00000080 }, { 0x00000100 }, { 0x00000080 } },
+    { { 0x00008000 }, { 0x00010000 }, { 0x00008000 } },
+    { { 0x00800000 }, { 0x01000000 }, { 0x00800000 } },
+    { { 0x01000000 }, { 0x02000000 }, { 0x01000000 } },
+    
+    { { 0x7f7ffffe }, { 0x7f7fffff }, { 0x7f7ffffe } },
+    
+    /* x > y	*/
+    { { 0xff7ffffe }, { 0xff7fffff }, { 0xff7fffff } },
+    { { 0x80000001 }, { 0xff7fffff }, { 0xff7fffff } },
+    { { 0x80000000 }, { 0xff7fffff }, { 0xff7fffff } },
+    { { 0x00000000 }, { 0xff7fffff }, { 0xff7fffff } },
+    { { 0x00000001 }, { 0xff7fffff }, { 0xff7fffff } },
+    { { 0x7f7fffff }, { 0xff7fffff }, { 0xff7fffff } },
+                      
+    { { 0x80000000 }, { 0x80000001 }, { 0x80000001 } },
+    { { 0x00000000 }, { 0x80000001 }, { 0x80000001 } },
+    { { 0x00000001 }, { 0x80000001 }, { 0x80000001 } },
+    { { 0x7f7fffff }, { 0x80000001 }, { 0x80000001 } },
+                      
+    { { 0x00000001 }, { 0x00000000 }, { 0x00000000 } },
+    { { 0x00000100 }, { 0x00000080 }, { 0x00000080 } },
+    { { 0x00010000 }, { 0x00008000 }, { 0x00008000 } },
+    { { 0x01000000 }, { 0x00800000 }, { 0x00800000 } },
+    { { 0x02000000 }, { 0x01000000 }, { 0x01000000 } },
+                      
+    { { 0x7f7fffff }, { 0x7f7ffffe }, { 0x7f7ffffe } },
+    
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]:  %#lx\n", index - 1, v.lo);
+#endif
+    exit (index ? index : -1);
+}
+
+int main ()
+{
+    union lofl_u x,y,z;
+    int i;
+    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	y.lo = pgm_read_dword (& t[i].y);
+	x.lo = pgm_read_dword (& t[i].x);
+	z.lo = pgm_read_dword (& t[i].z);
+	v.fl = fmin (x.fl, y.fl);
+	
+	if (   v.lo == z.lo
+	    || (isnan(v.fl) && isnan(z.fl))	)
+	  continue;
+	x_exit (i+1);
+    }
+    return 0;
+}
diff --git a/tests/simulate/math/fmin-500.c b/tests/simulate/math/fmin-500.c
new file mode 100644
index 0000000..3a19161
--- /dev/null
+++ b/tests/simulate/math/fmin-500.c
@@ -0,0 +1,578 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of fmin() function. Random cases.
+   $Id$
+ */
+#include <math.h>
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+volatile union lofl_u v = { .lo = 1 };
+
+PROGMEM const struct {		/* Table of test cases	*/
+    long x, y;		/* args		*/
+    long z;		/* result	*/
+} t[] = {
+
+    /* x, y, fmin(x,y)	*/
+    { 0x4518c494,0x40530a34,0x40530a34 }, /*   1:  2.4442861e+03  3.2974977e+00  3.2974977e+00 */
+    { 0xbb0dcdbf,0x427a1a9b,0xbb0dcdbf }, /*   2: -2.1637527e-03  6.2525982e+01 -2.1637527e-03 */
+    { 0x42e2ba64,0x3a001e6b,0x3a001e6b }, /*   3:  1.1336404e+02  4.8873451e-04  4.8873451e-04 */
+    { 0x3ea4f261,0x3a3c9c16,0x3a3c9c16 }, /*   4:  3.2216170e-01  7.1948895e-04  7.1948895e-04 */
+    { 0xc58923d2,0x45104b86,0xc58923d2 }, /*   5: -4.3884775e+03  2.3087202e+03 -4.3884775e+03 */
+    { 0xc01cd648,0xbe992443,0xc01cd648 }, /*   6: -2.4505787e+00 -2.9910478e-01 -2.4505787e+00 */
+    { 0x408e5ebd,0xc2a923b1,0xc2a923b1 }, /*   7:  4.4490647e+00 -8.4569710e+01 -8.4569710e+01 */
+    { 0xbfccc835,0x343e8836,0xbfccc835 }, /*   8: -1.5998598e+00  1.7744682e-07 -1.5998598e+00 */
+    { 0xc3c42264,0xbea361b1,0xc3c42264 }, /*   9: -3.9226868e+02 -3.1910470e-01 -3.9226868e+02 */
+    { 0xc0812abc,0xc30aace3,0xc30aace3 }, /*  10: -4.0364666e+00 -1.3867534e+02 -1.3867534e+02 */
+    { 0xbea787dd,0xbc541bc2,0xbea787dd }, /*  11: -3.2720843e-01 -1.2946071e-02 -3.2720843e-01 */
+    { 0xbed8a2c4,0xba56becf,0xbed8a2c4 }, /*  12: -4.2311680e-01 -8.1918848e-04 -4.2311680e-01 */
+    { 0xbaae1884,0x46195989,0xbaae1884 }, /*  13: -1.3282453e-03  9.8143838e+03 -1.3282453e-03 */
+    { 0x3996f442,0x39ae824f,0x3996f442 }, /*  14:  2.8792216e-04  3.3284954e-04  2.8792216e-04 */
+    { 0x3e854f80,0x3cedebcb,0x3cedebcb }, /*  15:  2.6037216e-01  2.9043099e-02  2.9043099e-02 */
+    { 0xbeb1960c,0x3b8d17dc,0xbeb1960c }, /*  16: -3.4684789e-01  4.3058228e-03 -3.4684789e-01 */
+    { 0xc3e76055,0xcaba474c,0xcaba474c }, /*  17: -4.6275259e+02 -6.1039740e+06 -6.1039740e+06 */
+    { 0xc6044be4,0xcba87443,0xcba87443 }, /*  18: -8.4669727e+03 -2.2079622e+07 -2.2079622e+07 */
+    { 0xb22b4785,0xc36227c3,0xc36227c3 }, /*  19: -9.9697717e-09 -2.2615532e+02 -2.2615532e+02 */
+    { 0x3e86f5d5,0x4070a35c,0x3e86f5d5 }, /*  20:  2.6359430e-01  3.7599707e+00  2.6359430e-01 */
+    { 0xc053185c,0xbd1f36b2,0xc053185c }, /*  21: -3.2983618e+00 -3.8870521e-02 -3.2983618e+00 */
+    { 0xbee62f4e,0x438894ad,0xbee62f4e }, /*  22: -4.4957966e-01  2.7316153e+02 -4.4957966e-01 */
+    { 0xbec490be,0x41e8de27,0xbec490be }, /*  23: -3.8391680e-01  2.9108473e+01 -3.8391680e-01 */
+    { 0xcb019c16,0xbff98b3f,0xcb019c16 }, /*  24: -8.4941020e+06 -1.9495620e+00 -8.4941020e+06 */
+    { 0x3ee9efbb,0x39c27263,0x39c27263 }, /*  25:  4.5690712e-01  3.7087788e-04  3.7087788e-04 */
+    { 0x4044201c,0xbe9aeca7,0xbe9aeca7 }, /*  26:  3.0644598e+00 -3.0258676e-01 -3.0258676e-01 */
+    { 0xc035a943,0xbad2253c,0xc035a943 }, /*  27: -2.8384559e+00 -1.6032825e-03 -2.8384559e+00 */
+    { 0xc9801739,0xbb36d40e,0xc9801739 }, /*  28: -1.0493191e+06 -2.7897391e-03 -1.0493191e+06 */
+    { 0x3d100802,0xbebf08fa,0xbebf08fa }, /*  29:  3.5163887e-02 -3.7311536e-01 -3.7311536e-01 */
+    { 0xbac456ab,0xbbcba744,0xbbcba744 }, /*  30: -1.4979442e-03 -6.2150080e-03 -6.2150080e-03 */
+    { 0x38632878,0x38cc7b8e,0x38632878 }, /*  31:  5.4158707e-05  9.7504919e-05  5.4158707e-05 */
+    { 0xc1d378c0,0xbd9ef81d,0xc1d378c0 }, /*  32: -2.6433960e+01 -7.7621676e-02 -2.6433960e+01 */
+    { 0x422d1b82,0x4034fb06,0x4034fb06 }, /*  33:  4.3276863e+01  2.8278213e+00  2.8278213e+00 */
+    { 0xbde755fc,0xbd789cc2,0xbde755fc }, /*  34: -1.1295697e-01 -6.0696371e-02 -1.1295697e-01 */
+    { 0x433b9b57,0x367c2e59,0x367c2e59 }, /*  35:  1.8760680e+02  3.7577904e-06  3.7577904e-06 */
+    { 0xc13f5289,0x4cbbf1ce,0xc13f5289 }, /*  36: -1.1957650e+01  9.8537072e+07 -1.1957650e+01 */
+    { 0x41fce669,0xcf95ffb4,0xcf95ffb4 }, /*  37:  3.1612505e+01 -5.0331259e+09 -5.0331259e+09 */
+    { 0xc2ad564d,0x4f4d8fab,0xc2ad564d }, /*  38: -8.6668556e+01  3.4487447e+09 -8.6668556e+01 */
+    { 0xc24343fd,0x2db4ae15,0xc24343fd }, /*  39: -4.8816395e+01  2.0540939e-11 -4.8816395e+01 */
+    { 0xbcef60b9,0xc1eba0bf,0xc1eba0bf }, /*  40: -2.9220926e-02 -2.9453489e+01 -2.9453489e+01 */
+    { 0xc0521199,0xc26e6eb7,0xc26e6eb7 }, /*  41: -3.2823241e+00 -5.9608120e+01 -5.9608120e+01 */
+    { 0xcd7fca86,0x430c5eef,0xcd7fca86 }, /*  42: -2.6821642e+08  1.4037083e+02 -2.6821642e+08 */
+    { 0xc5493e50,0x42a96fcc,0xc5493e50 }, /*  43: -3.2198945e+03  8.4718353e+01 -3.2198945e+03 */
+    { 0xbfe9f909,0x3c6075dd,0xbfe9f909 }, /*  44: -1.8279124e+00  1.3699976e-02 -1.8279124e+00 */
+    { 0x3ccf58f6,0xc3ece48f,0xc3ece48f }, /*  45:  2.5310975e-02 -4.7378561e+02 -4.7378561e+02 */
+    { 0x3bdb3255,0xc085ac6e,0xc085ac6e }, /*  46:  6.6893497e-03 -4.1772985e+00 -4.1772985e+00 */
+    { 0xbc696efc,0xbc210bbd,0xbc696efc }, /*  47: -1.4247652e-02 -9.8294588e-03 -1.4247652e-02 */
+    { 0x405df69c,0xb7a4ef58,0xb7a4ef58 }, /*  48:  3.4681768e+00 -1.9661777e-05 -1.9661777e-05 */
+    { 0xc24c5795,0xb473daca,0xc24c5795 }, /*  49: -5.1085529e+01 -2.2710734e-07 -5.1085529e+01 */
+    { 0xc17117fd,0x3c4ac774,0xc17117fd }, /*  50: -1.5068357e+01  1.2376655e-02 -1.5068357e+01 */
+    { 0xc18f30da,0x420610ba,0xc18f30da }, /*  51: -1.7898853e+01  3.3516335e+01 -1.7898853e+01 */
+    { 0xba10eeac,0xc1808d74,0xc1808d74 }, /*  52: -5.5287289e-04 -1.6069069e+01 -1.6069069e+01 */
+    { 0xc29280fe,0xbbb6c3be,0xc29280fe }, /*  53: -7.3251938e+01 -5.5775335e-03 -7.3251938e+01 */
+    { 0x43a36815,0xc4122ecf,0xc4122ecf }, /*  54:  3.2681314e+02 -5.8473138e+02 -5.8473138e+02 */
+    { 0xd85e8b30,0x3eaf78b7,0xd85e8b30 }, /*  55: -9.7875755e+14  3.4271786e-01 -9.7875755e+14 */
+    { 0x3e018c91,0xc50e0d32,0xc50e0d32 }, /*  56:  1.2651278e-01 -2.2728247e+03 -2.2728247e+03 */
+    { 0xc30d24eb,0xc8e1d4dc,0xc8e1d4dc }, /*  57: -1.4114421e+02 -4.6250288e+05 -4.6250288e+05 */
+    { 0x3c494462,0x3886a59d,0x3886a59d }, /*  58:  1.2284370e-02  6.4204658e-05  6.4204658e-05 */
+    { 0xb86437ad,0x441ee159,0xb86437ad }, /*  59: -5.4411288e-05  6.3552106e+02 -5.4411288e-05 */
+    { 0xb9349d1c,0xc230818f,0xc230818f }, /*  60: -1.7224665e-04 -4.4126522e+01 -4.4126522e+01 */
+    { 0x37ba97ba,0xc07502e9,0xc07502e9 }, /*  61:  2.2243581e-05 -3.8283026e+00 -3.8283026e+00 */
+    { 0xc4da3862,0xc202c4f9,0xc4da3862 }, /*  62: -1.7457620e+03 -3.2692356e+01 -1.7457620e+03 */
+    { 0xd56719ad,0xc5ea7a26,0xd56719ad }, /*  63: -1.5881091e+13 -7.5032686e+03 -1.5881091e+13 */
+    { 0xaaa8ba26,0xbc75ba15,0xbc75ba15 }, /*  64: -2.9971961e-13 -1.4997979e-02 -1.4997979e-02 */
+    { 0xc6432bae,0x400f9ee8,0xc6432bae }, /*  65: -1.2490920e+04  2.2440739e+00 -1.2490920e+04 */
+    { 0xc3eef7d9,0xc4c13830,0xc4c13830 }, /*  66: -4.7793631e+02 -1.5457559e+03 -1.5457559e+03 */
+    { 0xc1c7e7ea,0x3c12f2a0,0xc1c7e7ea }, /*  67: -2.4988239e+01  8.9689791e-03 -2.4988239e+01 */
+    { 0x3f800000,0xbae8db3c,0xbae8db3c }, /*  68:  1.0000000e+00 -1.7765532e-03 -1.7765532e-03 */
+    { 0xc05b119d,0xc711808b,0xc711808b }, /*  69: -3.4229500e+00 -3.7248543e+04 -3.7248543e+04 */
+    { 0x3d3c0583,0x29a3a59c,0x29a3a59c }, /*  70:  4.5903694e-02  7.2673828e-14  7.2673828e-14 */
+    { 0x41d0aaa5,0xbc3fcf87,0xbc3fcf87 }, /*  71:  2.6083323e+01 -1.1707193e-02 -1.1707193e-02 */
+    { 0xbb550bc8,0x4acd5217,0xbb550bc8 }, /*  72: -3.2508243e-03  6.7279475e+06 -3.2508243e-03 */
+    { 0x3a41c14b,0x3da1026f,0x3a41c14b }, /*  73:  7.3911686e-04  7.8617923e-02  7.3911686e-04 */
+    { 0xbc859c02,0x390611e3,0xbc859c02 }, /*  74: -1.6309742e-02  1.2785899e-04 -1.6309742e-02 */
+    { 0xbee76a3b,0x417f818d,0xbee76a3b }, /*  75: -4.5198235e-01  1.5969129e+01 -4.5198235e-01 */
+    { 0xc07a6d9b,0x3eab08af,0xc07a6d9b }, /*  76: -3.9129398e+00  3.3405063e-01 -3.9129398e+00 */
+    { 0xde5fed80,0xc3876d55,0xde5fed80 }, /*  77: -4.0339234e+18 -2.7085416e+02 -4.0339234e+18 */
+    { 0x495afb40,0xbab9e074,0xbab9e074 }, /*  78:  8.9694800e+05 -1.4181272e-03 -1.4181272e-03 */
+    { 0x39d0fde0,0x3e9743b5,0x39d0fde0 }, /*  79:  3.9862003e-04  2.9543844e-01  3.9862003e-04 */
+    { 0x402384b5,0x5cb96862,0x402384b5 }, /*  80:  2.5549748e+00  4.1750113e+17  2.5549748e+00 */
+    { 0x393d5de6,0xc44788e2,0xc44788e2 }, /*  81:  1.8059424e-04 -7.9813879e+02 -7.9813879e+02 */
+    { 0x363bc978,0xc06ab9db,0xc06ab9db }, /*  82:  2.7982442e-06 -3.6675937e+00 -3.6675937e+00 */
+    { 0xc663961c,0x3bef5d2a,0xc663961c }, /*  83: -1.4565527e+04  7.3048072e-03 -1.4565527e+04 */
+    { 0xbbcbaa7c,0xc0208ee1,0xc0208ee1 }, /*  84: -6.2153917e-03 -2.5087206e+00 -2.5087206e+00 */
+    { 0x4671defd,0xb8376c3e,0xb8376c3e }, /*  85:  1.5479747e+04 -4.3731408e-05 -4.3731408e-05 */
+    { 0xaf824851,0xc29220e7,0xc29220e7 }, /*  86: -2.3698246e-10 -7.3064262e+01 -7.3064262e+01 */
+    { 0xc013ae50,0xc06b36b3,0xc06b36b3 }, /*  87: -2.3075142e+00 -3.6752136e+00 -3.6752136e+00 */
+    { 0x3ad0233e,0xc03ac88d,0xc03ac88d }, /*  88:  1.5879644e-03 -2.9184906e+00 -2.9184906e+00 */
+    { 0xc4aa5f6c,0x3e922cdc,0xc4aa5f6c }, /*  89: -1.3629819e+03  2.8549850e-01 -1.3629819e+03 */
+    { 0x4897f950,0xc2a8f004,0xc2a8f004 }, /*  90:  3.1124250e+05 -8.4468781e+01 -8.4468781e+01 */
+    { 0xccfdc76e,0xba5d0592,0xccfdc76e }, /*  91: -1.3305330e+08 -8.4313110e-04 -1.3305330e+08 */
+    { 0x3880fe9f,0x43f14231,0x3880fe9f }, /*  92:  6.1509425e-05  4.8251712e+02  6.1509425e-05 */
+    { 0x45deb2cc,0xbbbc0441,0xbbbc0441 }, /*  93:  7.1263496e+03 -5.7378118e-03 -5.7378118e-03 */
+    { 0xbf054744,0x3b223088,0xbf054744 }, /*  94: -5.2061868e-01  2.4748165e-03 -5.2061868e-01 */
+    { 0x3cb6cb79,0xbc460029,0xbc460029 }, /*  95:  2.2313820e-02 -1.2084999e-02 -1.2084999e-02 */
+    { 0x35f94c04,0xbd1270de,0xbd1270de }, /*  96:  1.8574069e-06 -3.5752170e-02 -3.5752170e-02 */
+    { 0xbcf3d916,0x531a6a54,0xbcf3d916 }, /*  97: -2.9766601e-02  6.6320885e+11 -2.9766601e-02 */
+    { 0x4030b43e,0xbebd9a21,0xbebd9a21 }, /*  98:  2.7610011e+00 -3.7031654e-01 -3.7031654e-01 */
+    { 0xc2b45b5b,0x400ec39f,0xc2b45b5b }, /*  99: -9.0178429e+01  2.2306898e+00 -9.0178429e+01 */
+    { 0xc00f60d6,0xc4cd2361,0xc4cd2361 }, /* 100: -2.2402854e+00 -1.6411056e+03 -1.6411056e+03 */
+    { 0xc78ff5fb,0x4311545a,0xc78ff5fb }, /* 101: -7.3707961e+04  1.4532950e+02 -7.3707961e+04 */
+    { 0xc083cbd2,0x3f127669,0xc083cbd2 }, /* 102: -4.1186304e+00  5.7211930e-01 -4.1186304e+00 */
+    { 0x35f49a15,0x2ddc4fff,0x2ddc4fff }, /* 103:  1.8224260e-06  2.5046630e-11  2.5046630e-11 */
+    { 0xc2fc15f3,0x401a8b10,0xc2fc15f3 }, /* 104: -1.2604287e+02  2.4147377e+00 -1.2604287e+02 */
+    { 0xbee5079e,0xbb085c14,0xbee5079e }, /* 105: -4.4732374e-01 -2.0806836e-03 -4.4732374e-01 */
+    { 0x3ea5e672,0xc1a9fc22,0xc1a9fc22 }, /* 106:  3.2402378e-01 -2.1248112e+01 -2.1248112e+01 */
+    { 0xc316f449,0x49cde072,0xc316f449 }, /* 107: -1.5095424e+02  1.6865422e+06 -1.5095424e+02 */
+    { 0xc2f850dc,0xc35b698d,0xc35b698d }, /* 108: -1.2415793e+02 -2.1941231e+02 -2.1941231e+02 */
+    { 0x3d8188cc,0xb655e55d,0xb655e55d }, /* 109:  6.3249201e-02 -3.1872980e-06 -3.1872980e-06 */
+    { 0x34cd5450,0xb41fd5bb,0xb41fd5bb }, /* 110:  3.8245571e-07 -1.4885784e-07 -1.4885784e-07 */
+    { 0x3acdee53,0x448961f4,0x3acdee53 }, /* 111:  1.5711285e-03  1.0990610e+03  1.5711285e-03 */
+    { 0xc02ecbc7,0x43d892b0,0xc02ecbc7 }, /* 112: -2.7311876e+00  4.3314600e+02 -2.7311876e+00 */
+    { 0xc26fd93b,0x49a7c488,0xc26fd93b }, /* 113: -5.9962139e+01  1.3743530e+06 -5.9962139e+01 */
+    { 0xf56397bb,0xb94eec8f,0xf56397bb }, /* 114: -2.8850802e+32 -1.9733816e-04 -2.8850802e+32 */
+    { 0x8a8e60ab,0x400eb702,0x8a8e60ab }, /* 115: -1.3710465e-32  2.2299199e+00 -1.3710465e-32 */
+    { 0x1ca6eb4d,0x3b59d821,0x1ca6eb4d }, /* 116:  1.1045782e-21  3.3240395e-03  1.1045782e-21 */
+    { 0x35dd5377,0xbec2565d,0xbec2565d }, /* 117:  1.6490075e-06 -3.7956515e-01 -3.7956515e-01 */
+    { 0x3ec21583,0x449744c3,0x3ec21583 }, /* 118:  3.7907037e-01  1.2101488e+03  3.7907037e-01 */
+    { 0xc07be7aa,0x3d91b89f,0xc07be7aa }, /* 119: -3.9360147e+00  7.1152918e-02 -3.9360147e+00 */
+    { 0xc3f07969,0x3d5e30a5,0xc3f07969 }, /* 120: -4.8094852e+02  5.4245610e-02 -4.8094852e+02 */
+    { 0xbac2bf6d,0x3e8ce6d0,0xbac2bf6d }, /* 121: -1.4858075e-03  2.7519846e-01 -1.4858075e-03 */
+    { 0x3f1b2fb9,0x436ae011,0x3f1b2fb9 }, /* 122:  6.0619694e-01  2.3487526e+02  6.0619694e-01 */
+    { 0x2a913294,0xc04babf0,0xc04babf0 }, /* 123:  2.5792270e-13 -3.1823692e+00 -3.1823692e+00 */
+    { 0x38f79c02,0xbf55b73f,0xbf55b73f }, /* 124:  1.1806937e-04 -8.3482736e-01 -8.3482736e-01 */
+    { 0xc25c41e0,0xe79fcac5,0xe79fcac5 }, /* 125: -5.5064331e+01 -1.5091934e+24 -1.5091934e+24 */
+    { 0xbe9f06be,0x3b331ea6,0xbe9f06be }, /* 126: -3.1059831e-01  2.7331500e-03 -3.1059831e-01 */
+    { 0xbea8ce27,0xb9bf8128,0xbea8ce27 }, /* 127: -3.2969782e-01 -3.6526588e-04 -3.2969782e-01 */
+    { 0xbfcc63b9,0xc1cf1f15,0xc1cf1f15 }, /* 128: -1.5967933e+00 -2.5890177e+01 -2.5890177e+01 */
+    { 0x3eaa7293,0x401f4fcd,0x3eaa7293 }, /* 129:  3.3290538e-01  2.4892457e+00  3.3290538e-01 */
+    { 0x3e807c12,0x3edafd9c,0x3e807c12 }, /* 130:  2.5094658e-01  4.2771614e-01  2.5094658e-01 */
+    { 0xc0661023,0xc4603d0f,0xc4603d0f }, /* 131: -3.5947349e+00 -8.9695404e+02 -8.9695404e+02 */
+    { 0x2e36d6ff,0x45c7bad4,0x2e36d6ff }, /* 132:  4.1572964e-11  6.3913535e+03  4.1572964e-11 */
+    { 0x3cd098db,0x5deebc51,0x3cd098db }, /* 133:  2.5463512e-02  2.1503392e+18  2.5463512e-02 */
+    { 0x28d9fa81,0x40163b6e,0x28d9fa81 }, /* 134:  2.4200478e-14  2.3473773e+00  2.4200478e-14 */
+    { 0xb1d64bd6,0x27600712,0xb1d64bd6 }, /* 135: -6.2368413e-09  3.1090078e-15 -6.2368413e-09 */
+    { 0x48ce7c09,0xd322e6db,0xd322e6db }, /* 136:  4.2288028e+05 -6.9965781e+11 -6.9965781e+11 */
+    { 0x446538dc,0x3f0fc664,0x3f0fc664 }, /* 137:  9.1688843e+02  5.6162095e-01  5.6162095e-01 */
+    { 0xc2f2a485,0xb62f8a31,0xc2f2a485 }, /* 138: -1.2132133e+02 -2.6157470e-06 -1.2132133e+02 */
+    { 0x407ad4fe,0xbb6ef3dc,0xbb6ef3dc }, /* 139:  3.9192500e+00 -3.6461269e-03 -3.6461269e-03 */
+    { 0x8cd90ea0,0x4191ed17,0x8cd90ea0 }, /* 140: -3.3442946e-31  1.8240767e+01 -3.3442946e-31 */
+    { 0x43916b9a,0x3d64f653,0x3d64f653 }, /* 141:  2.9084064e+02  5.5898976e-02  5.5898976e-02 */
+    { 0xc4ee3bc4,0x3ec4c27c,0xc4ee3bc4 }, /* 142: -1.9058677e+03  3.8429630e-01 -1.9058677e+03 */
+    { 0xc1f92846,0x47074927,0xc1f92846 }, /* 143: -3.1144665e+01  3.4633152e+04 -3.1144665e+01 */
+    { 0xc199b255,0x4a44e364,0xc199b255 }, /* 144: -1.9212076e+01  3.2258170e+06 -1.9212076e+01 */
+    { 0x3cabd00a,0xbeccb24c,0xbeccb24c }, /* 145:  2.0973224e-02 -3.9979780e-01 -3.9979780e-01 */
+    { 0xc365cb38,0xc20f76ab,0xc365cb38 }, /* 146: -2.2979382e+02 -3.5865887e+01 -2.2979382e+02 */
+    { 0x3cae2d52,0xbcfd4bb7,0xbcfd4bb7 }, /* 147:  2.1261845e-02 -3.0919893e-02 -3.0919893e-02 */
+    { 0xbcb1ce37,0xbfb8a692,0xbfb8a692 }, /* 148: -2.1704776e-02 -1.4425833e+00 -1.4425833e+00 */
+    { 0xd4233d70,0xbeaa81e9,0xd4233d70 }, /* 149: -2.8044417e+12 -3.3302239e-01 -2.8044417e+12 */
+    { 0x3d08e417,0x3b08b5fc,0x3b08b5fc }, /* 150:  3.3420648e-02  2.0860424e-03  2.0860424e-03 */
+    { 0x3fca79d5,0x3fd956de,0x3fca79d5 }, /* 151:  1.5818430e+00  1.6979635e+00  1.5818430e+00 */
+    { 0x3ea409e0,0xc2476fa0,0xc2476fa0 }, /* 152:  3.2038784e-01 -4.9859009e+01 -4.9859009e+01 */
+    { 0xbfdae2a3,0xc029f79b,0xc029f79b }, /* 153: -1.7100414e+00 -2.6557376e+00 -2.6557376e+00 */
+    { 0x3bc79d02,0x3e8a71f4,0x3bc79d02 }, /* 154:  6.0917148e-03  2.7040064e-01  6.0917148e-03 */
+    { 0xbbe656b3,0xbeecb714,0xbeecb714 }, /* 155: -7.0293783e-03 -4.6233428e-01 -4.6233428e-01 */
+    { 0x3a9c55a8,0x40226b21,0x3a9c55a8 }, /* 156:  1.1927383e-03  2.5377886e+00  1.1927383e-03 */
+    { 0x3b31ac3d,0x3af785ef,0x3af785ef }, /* 157:  2.7110719e-03  1.8884520e-03  1.8884520e-03 */
+    { 0xbe976f4c,0x4527f0e2,0xbe976f4c }, /* 158: -2.9577100e-01  2.6870552e+03 -2.9577100e-01 */
+    { 0xbc3a6ba0,0xc042ffca,0xc042ffca }, /* 159: -1.1378199e-02 -3.0468621e+00 -3.0468621e+00 */
+    { 0x4074ba58,0xbd1e5bde,0xbd1e5bde }, /* 160:  3.8238735e+00 -3.8661830e-02 -3.8661830e-02 */
+    { 0x3fe60be9,0x3a0aeaba,0x3a0aeaba }, /* 161:  1.7972385e+00  5.2992592e-04  5.2992592e-04 */
+    { 0x461335c9,0x3b27cb0e,0x3b27cb0e }, /* 162:  9.4214463e+03  2.5603208e-03  2.5603208e-03 */
+    { 0xc715a710,0xbb7f641d,0xc715a710 }, /* 163: -3.8311062e+04 -3.8969584e-03 -3.8311062e+04 */
+    { 0xb7d70094,0x4a3ccdfe,0xb7d70094 }, /* 164: -2.5630266e-05  3.0933755e+06 -2.5630266e-05 */
+    { 0xbce2a592,0x43caa370,0xbce2a592 }, /* 165: -2.7666841e-02  4.0527686e+02 -2.7666841e-02 */
+    { 0xc23cac80,0xbe81b006,0xc23cac80 }, /* 166: -4.7168457e+01 -2.5329608e-01 -4.7168457e+01 */
+    { 0xaf23bce1,0x439db3dd,0xaf23bce1 }, /* 167: -1.4891867e-10  3.1540518e+02 -1.4891867e-10 */
+    { 0xbd4d638c,0xc253f062,0xc253f062 }, /* 168: -5.0143763e-02 -5.2984749e+01 -5.2984749e+01 */
+    { 0xb7ea97fb,0xab5ff9eb,0xb7ea97fb }, /* 169: -2.7965745e-05 -7.9572346e-13 -2.7965745e-05 */
+    { 0xbfd445af,0xc737c1a4,0xc737c1a4 }, /* 170: -1.6583766e+00 -4.7041641e+04 -4.7041641e+04 */
+    { 0xb95199b9,0xc06f9d1b,0xc06f9d1b }, /* 171: -1.9989059e-04 -3.7439640e+00 -3.7439640e+00 */
+    { 0xdf149341,0x3ea339c5,0xdf149341 }, /* 172: -1.0705972e+19  3.1880012e-01 -1.0705972e+19 */
+    { 0x3ea614f6,0xbd282632,0xbd282632 }, /* 173:  3.2437867e-01 -4.1052051e-02 -4.1052051e-02 */
+    { 0xb6d25a5c,0x3c870037,0xb6d25a5c }, /* 174: -6.2690069e-06  1.6479595e-02 -6.2690069e-06 */
+    { 0xbc1b49f5,0xbec71748,0xbec71748 }, /* 175: -9.4780819e-03 -3.8884950e-01 -3.8884950e-01 */
+    { 0x403f9dbb,0x44fd2bc8,0x403f9dbb }, /* 176:  2.9940021e+00  2.0253682e+03  2.9940021e+00 */
+    { 0x43074ae0,0x402873bb,0x402873bb }, /* 177:  1.3529248e+02  2.6320636e+00  2.6320636e+00 */
+    { 0x39cc97eb,0xc3bcd9d6,0xc3bcd9d6 }, /* 178:  3.9023100e-04 -3.7770184e+02 -3.7770184e+02 */
+    { 0x40371266,0x643cbb44,0x40371266 }, /* 179:  2.8604980e+00  1.3925927e+22  2.8604980e+00 */
+    { 0xc0877ac5,0x4277707b,0xc0877ac5 }, /* 180: -4.2337365e+00  6.1859844e+01 -4.2337365e+00 */
+    { 0xc1a8374a,0xbd13a476,0xc1a8374a }, /* 181: -2.1026997e+01 -3.6045514e-02 -2.1026997e+01 */
+    { 0xbda30d35,0xa5f67248,0xbda30d35 }, /* 182: -7.9615034e-02 -4.2751637e-16 -7.9615034e-02 */
+    { 0xc8274934,0x3f38a7c5,0xc8274934 }, /* 183: -1.7130081e+05  7.2130996e-01 -1.7130081e+05 */
+    { 0xbef20775,0xbff01f26,0xbff01f26 }, /* 184: -4.7271314e-01 -1.8759506e+00 -1.8759506e+00 */
+    { 0xc33db90b,0x46a4e4e2,0xc33db90b }, /* 185: -1.8972282e+02  2.1106441e+04 -1.8972282e+02 */
+    { 0xc204e756,0x3b17e74b,0xc204e756 }, /* 186: -3.3225914e+01  2.3178633e-03 -3.3225914e+01 */
+    { 0x405eb09c,0x3a58aaec,0x3a58aaec }, /* 187:  3.4795294e+00  8.2652154e-04  8.2652154e-04 */
+    { 0x40236218,0x3da978ad,0x3da978ad }, /* 188:  2.5528622e+00  8.2749702e-02  8.2749702e-02 */
+    { 0xbec4798e,0xb8358277,0xbec4798e }, /* 189: -3.8373989e-01 -4.3275268e-05 -3.8373989e-01 */
+    { 0x4082d466,0x3bcbe57f,0x3bcbe57f }, /* 190:  4.0884275e+00  6.2224264e-03  6.2224264e-03 */
+    { 0xbda7b2e0,0xb84a5f69,0xbda7b2e0 }, /* 191: -8.1884146e-02 -4.8249411e-05 -8.1884146e-02 */
+    { 0x3c046062,0x3b2306f0,0x3b2306f0 }, /* 192:  8.0796201e-03  2.4875961e-03  2.4875961e-03 */
+    { 0xc01af753,0xc3bfd748,0xc3bfd748 }, /* 193: -2.4213455e+00 -3.8368188e+02 -3.8368188e+02 */
+    { 0xbe92507e,0xc581015d,0xc581015d }, /* 194: -2.8577036e-01 -4.1281704e+03 -4.1281704e+03 */
+    { 0x3ed0f3df,0xc026df00,0xc026df00 }, /* 195:  4.0811059e-01 -2.6073608e+00 -2.6073608e+00 */
+    { 0x4044535d,0xbc531e79,0xbc531e79 }, /* 196:  3.0675881e+00 -1.2885683e-02 -1.2885683e-02 */
+    { 0x3522d96a,0xc2c63595,0xc2c63595 }, /* 197:  6.0666082e-07 -9.9104652e+01 -9.9104652e+01 */
+    { 0x4087a492,0x34f3e780,0x34f3e780 }, /* 198:  4.2388391e+00  4.5430716e-07  4.5430716e-07 */
+    { 0xc0403d18,0xbeeccdd1,0xc0403d18 }, /* 199: -3.0037289e+00 -4.6250775e-01 -3.0037289e+00 */
+    { 0xbbaaca93,0xc213ae0d,0xc213ae0d }, /* 200: -5.2121370e-03 -3.6919971e+01 -3.6919971e+01 */
+    { 0xad2523c3,0xb1fd19e9,0xb1fd19e9 }, /* 201: -9.3871048e-12 -7.3662147e-09 -7.3662147e-09 */
+    { 0xc289862a,0x3ed78b08,0xc289862a }, /* 202: -6.8762039e+01  4.2098260e-01 -6.8762039e+01 */
+    { 0x403ba199,0xc03b2e5c,0xc03b2e5c }, /* 203:  2.9317381e+00 -2.9247046e+00 -2.9247046e+00 */
+    { 0xbe94e768,0xb412dfb2,0xbe94e768 }, /* 204: -2.9082799e-01 -1.3678689e-07 -2.9082799e-01 */
+    { 0x3cd4b896,0x41d3b3d3,0x3cd4b896 }, /* 205:  2.5966924e-02  2.6462805e+01  2.5966924e-02 */
+    { 0x3ca84342,0x3b913ef6,0x3b913ef6 }, /* 206:  2.0539884e-02  4.4325544e-03  4.4325544e-03 */
+    { 0xc8add801,0xc225c0ab,0xc8add801 }, /* 207: -3.5603203e+05 -4.1438152e+01 -3.5603203e+05 */
+    { 0x4078248a,0xb90a5b6a,0xb90a5b6a }, /* 208:  3.8772302e+00 -1.3194760e-04 -1.3194760e-04 */
+    { 0xc2203baa,0xc4aef245,0xc4aef245 }, /* 209: -4.0058266e+01 -1.3995709e+03 -1.3995709e+03 */
+    { 0x404dc053,0x41f6bc8e,0x404dc053 }, /* 210:  3.2148635e+00  3.0842068e+01  3.2148635e+00 */
+    { 0xca2e8bc1,0xc19a42f8,0xca2e8bc1 }, /* 211: -2.8597602e+06 -1.9282700e+01 -2.8597602e+06 */
+    { 0xba763a05,0x90cb1a47,0xba763a05 }, /* 212: -9.3928009e-04 -8.0109869e-29 -9.3928009e-04 */
+    { 0x418af596,0x51ff6d73,0x418af596 }, /* 213:  1.7369915e+01  1.3713161e+11  1.7369915e+01 */
+    { 0x43e49617,0xca02d0b9,0xca02d0b9 }, /* 214:  4.5717258e+02 -2.1432782e+06 -2.1432782e+06 */
+    { 0xcac201c5,0xc04b03ce,0xcac201c5 }, /* 215: -6.3572185e+06 -3.1721072e+00 -6.3572185e+06 */
+    { 0x38de101b,0x40870383,0x38de101b }, /* 216:  1.0588785e-04  4.2191787e+00  1.0588785e-04 */
+    { 0xbf45eaf7,0x3b84409f,0xbf45eaf7 }, /* 217: -7.7311653e-01  4.0360237e-03 -7.7311653e-01 */
+    { 0xc05d451d,0xbea7c0c8,0xc05d451d }, /* 218: -3.4573433e+00 -3.2764268e-01 -3.4573433e+00 */
+    { 0xbece0e1f,0x404b6e54,0xbece0e1f }, /* 219: -4.0245149e-01  3.1786089e+00 -4.0245149e-01 */
+    { 0xb9089597,0x3a433eca,0xb9089597 }, /* 220: -1.3025697e-04  7.4480160e-04 -1.3025697e-04 */
+    { 0x97f0d2a5,0xb9d7b688,0xb9d7b688 }, /* 221: -1.5562811e-24 -4.1143992e-04 -4.1143992e-04 */
+    { 0x412833bd,0x3e87c929,0x3e87c929 }, /* 222:  1.0512631e+01  2.6520661e-01  2.6520661e-01 */
+    { 0x3563d0b1,0x3eb4d76a,0x3563d0b1 }, /* 223:  8.4867776e-07  3.5320598e-01  8.4867776e-07 */
+    { 0x3e952b8d,0x42cd31c1,0x3e952b8d }, /* 224:  2.9134789e-01  1.0259718e+02  2.9134789e-01 */
+    { 0xbed0e640,0x40635d0e,0xbed0e640 }, /* 225: -4.0800667e-01  3.5525546e+00 -4.0800667e-01 */
+    { 0x3e93bc08,0xbee39932,0xbee39932 }, /* 226:  2.8854394e-01 -4.4452816e-01 -4.4452816e-01 */
+    { 0x400b3051,0x8c312728,0x8c312728 }, /* 227:  2.1748240e+00 -1.3647367e-31 -1.3647367e-31 */
+    { 0xaa6332bd,0xebac6843,0xebac6843 }, /* 228: -2.0179254e-13 -4.1685521e+26 -4.1685521e+26 */
+    { 0xba6af107,0xbdd9508f,0xbdd9508f }, /* 229: -8.9623075e-04 -1.0611068e-01 -1.0611068e-01 */
+    { 0xb984143d,0xbea209e2,0xbea209e2 }, /* 230: -2.5192081e-04 -3.1648165e-01 -3.1648165e-01 */
+    { 0x4256b132,0xbcef47fe,0xbcef47fe }, /* 231:  5.3673042e+01 -2.9209133e-02 -2.9209133e-02 */
+    { 0xdd301ea5,0xbe738fc5,0xdd301ea5 }, /* 232: -7.9317264e+17 -2.3785312e-01 -7.9317264e+17 */
+    { 0x40621625,0xb90f8476,0xb90f8476 }, /* 233:  3.5326016e+00 -1.3686888e-04 -1.3686888e-04 */
+    { 0x40447740,0xbc62d01d,0xbc62d01d }, /* 234:  3.0697784e+00 -1.3843563e-02 -1.3843563e-02 */
+    { 0xbbde1612,0xbe9d96b4,0xbe9d96b4 }, /* 235: -6.7775333e-03 -3.0779040e-01 -3.0779040e-01 */
+    { 0xc8120ecf,0x4821fbf1,0xc8120ecf }, /* 236: -1.4956323e+05  1.6587177e+05 -1.4956323e+05 */
+    { 0x3b04aeac,0xb7cc6da9,0xb7cc6da9 }, /* 237:  2.0245714e-03 -2.4369760e-05 -2.4369760e-05 */
+    { 0xb7b3848b,0xb87c9455,0xb87c9455 }, /* 238: -2.1400183e-05 -6.0219627e-05 -6.0219627e-05 */
+    { 0xb496485d,0xc3f5ffbf,0xc3f5ffbf }, /* 239: -2.7992328e-07 -4.9199802e+02 -4.9199802e+02 */
+    { 0xba544c8a,0x3ecdb759,0xba544c8a }, /* 240: -8.0985634e-04  4.0178946e-01 -8.0985634e-04 */
+    { 0xbaf2ab01,0xc75bd453,0xc75bd453 }, /* 241: -1.8514098e-03 -5.6276324e+04 -5.6276324e+04 */
+    { 0x4209977d,0x2e55d74b,0x2e55d74b }, /* 242:  3.4397938e+01  4.8621811e-11  4.8621811e-11 */
+    { 0x441836fd,0x3e7697b8,0x3e7697b8 }, /* 243:  6.0885919e+02  2.4081314e-01  2.4081314e-01 */
+    { 0xbed645d6,0x3ff2d586,0xbed645d6 }, /* 244: -4.1850156e-01  1.8971412e+00 -4.1850156e-01 */
+    { 0xbba53035,0xb56f3beb,0xbba53035 }, /* 245: -5.0411471e-03 -8.9121630e-07 -5.0411471e-03 */
+    { 0x34f8cfd2,0xc66ae629,0xc66ae629 }, /* 246:  4.6344809e-07 -1.5033540e+04 -1.5033540e+04 */
+    { 0xc093da94,0x2f61f615,0xc093da94 }, /* 247: -4.6204319e+00  2.0551057e-10 -4.6204319e+00 */
+    { 0x3f36d50b,0x3ed5cbad,0x3ed5cbad }, /* 248:  7.1418828e-01  4.1756955e-01  4.1756955e-01 */
+    { 0xbeb0c473,0x3edf4ca0,0xbeb0c473 }, /* 249: -3.4524879e-01  4.3613148e-01 -3.4524879e-01 */
+    { 0xa1310b48,0x425fc54f,0xa1310b48 }, /* 250: -5.9984863e-19  5.5942684e+01 -5.9984863e-19 */
+    { 0x6af3e1dc,0x452e246f,0x452e246f }, /* 251:  1.4741778e+26  2.7862771e+03  2.7862771e+03 */
+    { 0xbec9869b,0xbe7d9441,0xbec9869b }, /* 252: -3.9360508e-01 -2.4763586e-01 -3.9360508e-01 */
+    { 0x435e57be,0x3f800000,0x3f800000 }, /* 253:  2.2234274e+02  1.0000000e+00  1.0000000e+00 */
+    { 0x3edfed37,0x3c0fcc66,0x3c0fcc66 }, /* 254:  4.3735668e-01  8.7767597e-03  8.7767597e-03 */
+    { 0x3d222f24,0x3f45a82e,0x3d222f24 }, /* 255:  3.9595738e-02  7.7209747e-01  3.9595738e-02 */
+    { 0x4381432b,0x44e20072,0x4381432b }, /* 256:  2.5852475e+02  1.8080139e+03  2.5852475e+02 */
+    { 0xc7ee1c79,0xb7c422f6,0xc7ee1c79 }, /* 257: -1.2191295e+05 -2.3381301e-05 -1.2191295e+05 */
+    { 0x449a10e5,0x44d180cf,0x449a10e5 }, /* 258:  1.2325280e+03  1.6760253e+03  1.2325280e+03 */
+    { 0x3d2c8a8f,0xac882284,0xac882284 }, /* 259:  4.2124327e-02 -3.8691845e-12 -3.8691845e-12 */
+    { 0xbc4eb0c1,0xb9e97952,0xbc4eb0c1 }, /* 260: -1.2615384e-02 -4.4531614e-04 -1.2615384e-02 */
+    { 0xc02a9d2c,0xc355e77b,0xc355e77b }, /* 261: -2.6658430e+00 -2.1390422e+02 -2.1390422e+02 */
+    { 0x3eba54d3,0xbe958074,0xbe958074 }, /* 262:  3.6392841e-01 -2.9199564e-01 -2.9199564e-01 */
+    { 0x4180b910,0x3a880d7c,0x3a880d7c }, /* 263:  1.6090363e+01  1.0379995e-03  1.0379995e-03 */
+    { 0x3c126f9d,0xbec7a2ec,0xbec7a2ec }, /* 264:  8.9377435e-03 -3.8991487e-01 -3.8991487e-01 */
+    { 0xc6a7c107,0x35b8d06b,0xc6a7c107 }, /* 265: -2.1472514e+04  1.3769726e-06 -2.1472514e+04 */
+    { 0x403b5b4d,0xbebbdc1c,0xbebbdc1c }, /* 266:  2.9274476e+00 -3.6691368e-01 -3.6691368e-01 */
+    { 0xc08a7e64,0x37b76d54,0xc08a7e64 }, /* 267: -4.3279285e+00  2.1866210e-05 -4.3279285e+00 */
+    { 0xde169bf0,0xc03f2941,0xde169bf0 }, /* 268: -2.7131329e+18 -2.9868929e+00 -2.7131329e+18 */
+    { 0xc01286e4,0x436d4e60,0xc01286e4 }, /* 269: -2.2894831e+00  2.3730615e+02 -2.2894831e+00 */
+    { 0x0ac7c540,0x3e9dc05c,0x0ac7c540 }, /* 270:  1.9237200e-32  3.0810821e-01  1.9237200e-32 */
+    { 0x3ea5d7fc,0xbd70e7c6,0xbd70e7c6 }, /* 271:  3.2391346e-01 -5.8814786e-02 -5.8814786e-02 */
+    { 0x3ec3ebf0,0x4542ea5e,0x3ec3ebf0 }, /* 272:  3.8265944e-01  3.1186479e+03  3.8265944e-01 */
+    { 0x3b9560c2,0x3fdd76f0,0x3b9560c2 }, /* 273:  4.5586536e-03  1.7301922e+00  4.5586536e-03 */
+    { 0x3ecf4ca5,0x4a13fcd4,0x3ecf4ca5 }, /* 274:  4.0488163e-01  2.4246290e+06  4.0488163e-01 */
+    { 0xbc04a2d9,0x39bdb76e,0xbc04a2d9 }, /* 275: -8.0954665e-03  3.6185555e-04 -8.0954665e-03 */
+    { 0x44ae68f9,0xbefff215,0xbefff215 }, /* 276:  1.3952804e+03 -4.9989381e-01 -4.9989381e-01 */
+    { 0xbe9930f8,0x3b77925c,0xbe9930f8 }, /* 277: -2.9920173e-01  3.7776446e-03 -2.9920173e-01 */
+    { 0x3b7c69e5,0xbbf36770,0xbbf36770 }, /* 278:  3.8515266e-03 -7.4281022e-03 -7.4281022e-03 */
+    { 0x39aa657a,0x3cd69eb9,0x39aa657a }, /* 279:  3.2500533e-04  2.6198732e-02  3.2500533e-04 */
+    { 0x3a6569a8,0xbd79af76,0xbd79af76 }, /* 280:  8.7514007e-04 -6.0958348e-02 -6.0958348e-02 */
+    { 0xcb76cb42,0x05a587b1,0xcb76cb42 }, /* 281: -1.6173890e+07  1.5566371e-35 -1.6173890e+07 */
+    { 0x42a95a64,0x3fd34246,0x3fd34246 }, /* 282:  8.4676544e+01  1.6504600e+00  1.6504600e+00 */
+    { 0x02d3ab20,0xbd4a487d,0xbd4a487d }, /* 283:  3.1101884e-37 -4.9385536e-02 -4.9385536e-02 */
+    { 0x3ea3d934,0xc296873f,0xc296873f }, /* 284:  3.2001650e-01 -7.5264153e+01 -7.5264153e+01 */
+    { 0xbebf9279,0x30505dc6,0xbebf9279 }, /* 285: -3.7416437e-01  7.5803219e-10 -3.7416437e-01 */
+    { 0x4ae3e159,0x3ec11824,0x3ec11824 }, /* 286:  7.4671805e+06  3.7713730e-01  3.7713730e-01 */
+    { 0x44e5f5de,0xbee3fe05,0xbee3fe05 }, /* 287:  1.8396833e+03 -4.4529739e-01 -4.4529739e-01 */
+    { 0x3cd88aa7,0xc3e6d3f6,0xc3e6d3f6 }, /* 288:  2.6433302e-02 -4.6165594e+02 -4.6165594e+02 */
+    { 0x3a5c968e,0x3d4ed8a7,0x3a5c968e }, /* 289:  8.4147684e-04  5.0499585e-02  8.4147684e-04 */
+    { 0x4eca345c,0x48b1b1ed,0x48b1b1ed }, /* 290:  1.6962145e+09  3.6391941e+05  3.6391941e+05 */
+    { 0xbd7a7c57,0x3e7bbff8,0xbd7a7c57 }, /* 291: -6.1153736e-02  2.4584949e-01 -6.1153736e-02 */
+    { 0x3ed44aa7,0xbdcfc4b8,0xbdcfc4b8 }, /* 292:  4.1463205e-01 -1.0144943e-01 -1.0144943e-01 */
+    { 0xc5d83b0b,0xc8cef710,0xc8cef710 }, /* 293: -6.9193804e+03 -4.2386450e+05 -4.2386450e+05 */
+    { 0x39339114,0xc2955566,0xc2955566 }, /* 294:  1.7124816e-04 -7.4666794e+01 -7.4666794e+01 */
+    { 0x3d96f096,0x44d26432,0x3d96f096 }, /* 295:  7.3701069e-02  1.6831311e+03  7.3701069e-02 */
+    { 0x43074c8d,0x403b5c6b,0x403b5c6b }, /* 296:  1.3529903e+02  2.9275157e+00  2.9275157e+00 */
+    { 0xbe6ba8e6,0x3b8e171c,0xbe6ba8e6 }, /* 297: -2.3013648e-01  4.3362509e-03 -2.3013648e-01 */
+    { 0xc1baf00f,0xbbdd3eae,0xc1baf00f }, /* 298: -2.3367216e+01 -6.7518568e-03 -2.3367216e+01 */
+    { 0xc1d1c8bc,0x4198c9b8,0xc1d1c8bc }, /* 299: -2.6223015e+01  1.9098495e+01 -2.6223015e+01 */
+    { 0xbf1b8214,0x41eb414e,0xbf1b8214 }, /* 300: -6.0745358e-01  2.9406887e+01 -6.0745358e-01 */
+    { 0xbc3a11fc,0x490817ac,0xbc3a11fc }, /* 301: -1.1356827e-02  5.5743475e+05 -1.1356827e-02 */
+    { 0x27b02efc,0x3fffcb95,0x27b02efc }, /* 302:  4.8900754e-15  1.9984003e+00  4.8900754e-15 */
+    { 0x316b261c,0xbe7f3b38,0xbe7f3b38 }, /* 303:  3.4218663e-09 -2.4924934e-01 -2.4924934e-01 */
+    { 0xb8f8d8a8,0xbaea94cf,0xbaea94cf }, /* 304: -1.1865917e-04 -1.7897132e-03 -1.7897132e-03 */
+    { 0x44d1b827,0x43573605,0x43573605 }, /* 305:  1.6777548e+03  2.1521101e+02  2.1521101e+02 */
+    { 0x3cff69c7,0x42e08187,0x3cff69c7 }, /* 306:  3.1178368e-02  1.1225298e+02  3.1178368e-02 */
+    { 0xbed53b2a,0x38f1ded7,0xbed53b2a }, /* 307: -4.1646701e-01  1.1533283e-04 -4.1646701e-01 */
+    { 0x40064945,0xc1b18318,0xc1b18318 }, /* 308:  2.0982220e+00 -2.2189011e+01 -2.2189011e+01 */
+    { 0xc009d46b,0x3eb5edf8,0xc009d46b }, /* 309: -2.1535900e+00  3.5533118e-01 -2.1535900e+00 */
+    { 0x3a89d55a,0x418496f2,0x3a89d55a }, /* 310:  1.0515854e-03  1.6573704e+01  1.0515854e-03 */
+    { 0x48868aec,0x1c8d2a5b,0x1c8d2a5b }, /* 311:  2.7554338e+05  9.3415459e-22  9.3415459e-22 */
+    { 0x3e8c72c1,0x43affebb,0x3e8c72c1 }, /* 312:  2.7431300e-01  3.5199008e+02  2.7431300e-01 */
+    { 0xc1375a88,0xb011a96c,0xc1375a88 }, /* 313: -1.1459602e+01 -5.2991456e-10 -1.1459602e+01 */
+    { 0x1c75d7f6,0xbc3fede1,0xbc3fede1 }, /* 314:  8.1342823e-22 -1.1714430e-02 -1.1714430e-02 */
+    { 0x3e71193d,0x47628c59,0x3e71193d }, /* 315:  2.3544784e-01  5.7996348e+04  2.3544784e-01 */
+    { 0xbddb72d5,0xc2a46415,0xc2a46415 }, /* 316: -1.0715262e-01 -8.2195473e+01 -8.2195473e+01 */
+    { 0xbe8a49ee,0x41cc0de5,0xbe8a49ee }, /* 317: -2.7009529e-01  2.5506784e+01 -2.7009529e-01 */
+    { 0x3ed70f50,0xc068ab34,0xc068ab34 }, /* 318:  4.2003870e-01 -3.6354494e+00 -3.6354494e+00 */
+    { 0x3c3d4be3,0xcf26e32c,0xcf26e32c }, /* 319:  1.1553737e-02 -2.7999058e+09 -2.7999058e+09 */
+    { 0xbeab9f98,0xbbbf6a39,0xbeab9f98 }, /* 320: -3.3520198e-01 -5.8415201e-03 -3.3520198e-01 */
+    { 0x4140ca0c,0xba42cef3,0xba42cef3 }, /* 321:  1.2049328e+01 -7.4313505e-04 -7.4313505e-04 */
+    { 0x41cf2709,0xbec3a340,0xbec3a340 }, /* 322:  2.5894060e+01 -3.8210487e-01 -3.8210487e-01 */
+    { 0xbd056978,0x4043e8ce,0xbd056978 }, /* 323: -3.2571286e-02  3.0610843e+00 -3.2571286e-02 */
+    { 0xc247cad1,0xc1521374,0xc247cad1 }, /* 324: -4.9948063e+01 -1.3129749e+01 -4.9948063e+01 */
+    { 0x4312af85,0xbfc7cfa2,0xbfc7cfa2 }, /* 325:  1.4668562e+02 -1.5610240e+00 -1.5610240e+00 */
+    { 0x3fd0d1c0,0x3e994699,0x3e994699 }, /* 326:  1.6314011e+00  2.9936674e-01  2.9936674e-01 */
+    { 0x3c5641b8,0xbe4719ee,0xbe4719ee }, /* 327:  1.3077192e-02 -1.9443485e-01 -1.9443485e-01 */
+    { 0x3d5fe20e,0xbc06820d,0xbc06820d }, /* 328:  5.4658942e-02 -8.2097175e-03 -8.2097175e-03 */
+    { 0xc0294ecc,0x49168152,0xc0294ecc }, /* 329: -2.6454344e+00  6.1646912e+05 -2.6454344e+00 */
+    { 0xc3886f5f,0xc7099751,0xc7099751 }, /* 330: -2.7287009e+02 -3.5223316e+04 -3.5223316e+04 */
+    { 0xb608c2fe,0x3fc25a1f,0xb608c2fe }, /* 331: -2.0379080e-06  1.5183753e+00 -2.0379080e-06 */
+    { 0x3eb4ef9d,0xc1ce6ddf,0xc1ce6ddf }, /* 332:  3.5339060e-01 -2.5803648e+01 -2.5803648e+01 */
+    { 0xc069d07c,0xbef102ee,0xc069d07c }, /* 333: -3.6533499e+00 -4.7072548e-01 -3.6533499e+00 */
+    { 0x4dc85629,0xb751194d,0xb751194d }, /* 334:  4.2013622e+08 -1.2463262e-05 -1.2463262e-05 */
+    { 0x41554136,0xba1daeb1,0xba1daeb1 }, /* 335:  1.3328421e+01 -6.0151058e-04 -6.0151058e-04 */
+    { 0xc6773279,0xc87068b3,0xc87068b3 }, /* 336: -1.5820618e+04 -2.4617880e+05 -2.4617880e+05 */
+    { 0x4049d95b,0xb9b0c1da,0xb9b0c1da }, /* 337:  3.1538913e+00 -3.3713767e-04 -3.3713767e-04 */
+    { 0x48cdb7e0,0xf4e0eac7,0xf4e0eac7 }, /* 338:  4.2131100e+05 -1.4255815e+32 -1.4255815e+32 */
+    { 0xbc23701c,0x931ef39a,0xbc23701c }, /* 339: -9.9754594e-03 -2.0062509e-27 -9.9754594e-03 */
+    { 0xbc6221d3,0xc1deb201,0xc1deb201 }, /* 340: -1.3802010e-02 -2.7836916e+01 -2.7836916e+01 */
+    { 0xb8dd8457,0xb318f67c,0xb8dd8457 }, /* 341: -1.0562751e-04 -3.5614434e-08 -1.0562751e-04 */
+    { 0x440ef901,0x418be7e8,0x418be7e8 }, /* 342:  5.7189069e+02  1.7488235e+01  1.7488235e+01 */
+    { 0xbf800000,0xb7182c41,0xbf800000 }, /* 343: -1.0000000e+00 -9.0702097e-06 -1.0000000e+00 */
+    { 0x061dd740,0xbb181ed8,0xbb181ed8 }, /* 344:  2.9686559e-35 -2.3211744e-03 -2.3211744e-03 */
+    { 0xc4330efb,0x3ec2a0e3,0xc4330efb }, /* 345: -7.1623407e+02  3.8013372e-01 -7.1623407e+02 */
+    { 0xc0586c55,0x3ea12b29,0xc0586c55 }, /* 346: -3.3816121e+00  3.1478241e-01 -3.3816121e+00 */
+    { 0xba79c069,0xbec9d78b,0xbec9d78b }, /* 347: -9.5272675e-04 -3.9422259e-01 -3.9422259e-01 */
+    { 0xc39c9f92,0xb9fea3e1,0xc39c9f92 }, /* 348: -3.1324664e+02 -4.8568755e-04 -3.1324664e+02 */
+    { 0xbebc4a6a,0xb8fb97c9,0xbebc4a6a }, /* 349: -3.6775523e-01 -1.1996885e-04 -3.6775523e-01 */
+    { 0x4214a310,0x3b7bd00b,0x3b7bd00b }, /* 350:  3.7159241e+01  3.8423564e-03  3.8423564e-03 */
+    { 0xc2a22761,0xc06d8cf2,0xc2a22761 }, /* 351: -8.1076912e+01 -3.7117276e+00 -8.1076912e+01 */
+    { 0x320bb573,0xc553cb63,0xc553cb63 }, /* 352:  8.1321216e-09 -3.3887117e+03 -3.3887117e+03 */
+    { 0x3ea85371,0xbc4eb077,0xbc4eb077 }, /* 353:  3.2876161e-01 -1.2615315e-02 -1.2615315e-02 */
+    { 0xcadeb5db,0xc05a931d,0xcadeb5db }, /* 354: -7.2977735e+06 -3.4152291e+00 -7.2977735e+06 */
+    { 0xbea1ea4a,0x3b9e4270,0xbea1ea4a }, /* 355: -3.1624061e-01  4.8296973e-03 -3.1624061e-01 */
+    { 0xada017e6,0x34ac3a35,0xada017e6 }, /* 356: -1.8200507e-11  3.2079848e-07 -1.8200507e-11 */
+    { 0xd246fbf5,0xb3ede3d5,0xd246fbf5 }, /* 357: -2.1365767e+11 -1.1077615e-07 -2.1365767e+11 */
+    { 0x40576c1d,0xb74d7bcc,0xb74d7bcc }, /* 358:  3.3659737e+00 -1.2247776e-05 -1.2247776e-05 */
+    { 0xb4c87240,0xc02196bd,0xc02196bd }, /* 359: -3.7336031e-07 -2.5248253e+00 -2.5248253e+00 */
+    { 0xc074dd80,0xbb38cc5b,0xc074dd80 }, /* 360: -3.8260193e+00 -2.8197977e-03 -3.8260193e+00 */
+    { 0xb8d57892,0xc78de954,0xc78de954 }, /* 361: -1.0179089e-04 -7.2658656e+04 -7.2658656e+04 */
+    { 0xc1e32988,0x3edac842,0xc1e32988 }, /* 362: -2.8395279e+01  4.2730910e-01 -2.8395279e+01 */
+    { 0xc3a71568,0x44166399,0xc3a71568 }, /* 363: -3.3416724e+02  6.0155621e+02 -3.3416724e+02 */
+    { 0xc02aae63,0x0ef7f5b6,0xc02aae63 }, /* 364: -2.6668937e+00  6.1126812e-30 -2.6668937e+00 */
+    { 0xc28f6500,0xbc91b300,0xc28f6500 }, /* 365: -7.1697266e+01 -1.7785549e-02 -7.1697266e+01 */
+    { 0x3a4a28de,0xf0aec186,0xf0aec186 }, /* 366:  7.7117782e-04 -4.3267478e+29 -4.3267478e+29 */
+    { 0xb08b4425,0xbec9e1f6,0xbec9e1f6 }, /* 367: -1.0132949e-09 -3.9430207e-01 -3.9430207e-01 */
+    { 0x3ed9a7b7,0x3f420879,0x3ed9a7b7 }, /* 368:  4.2510769e-01  7.5794178e-01  4.2510769e-01 */
+    { 0xb886a6cd,0x3a53f125,0xb886a6cd }, /* 369: -6.4206870e-05  8.0849446e-04 -6.4206870e-05 */
+    { 0x41daa2fc,0x2edec493,0x2edec493 }, /* 370:  2.7329582e+01  1.0130310e-10  1.0130310e-10 */
+    { 0x3ecb0366,0xc206ba99,0xc206ba99 }, /* 371:  3.9651030e-01 -3.3682224e+01 -3.3682224e+01 */
+    { 0xbf2c67f9,0x4253c203,0xbf2c67f9 }, /* 372: -6.7346150e-01  5.2939465e+01 -6.7346150e-01 */
+    { 0x3350bb5b,0x425b93cd,0x3350bb5b }, /* 373:  4.8599173e-08  5.4894337e+01  4.8599173e-08 */
+    { 0x3c74d01a,0x424a04c3,0x3c74d01a }, /* 374:  1.4942193e-02  5.0504650e+01  1.4942193e-02 */
+    { 0xba5d1e20,0xbefd3605,0xbefd3605 }, /* 375: -8.4349699e-04 -4.9455276e-01 -4.9455276e-01 */
+    { 0xbd3abc92,0xbb2fdd38,0xbd3abc92 }, /* 376: -4.5589991e-02 -2.6834738e-03 -4.5589991e-02 */
+    { 0x46c4a444,0xc00cee01,0xc00cee01 }, /* 377:  2.5170133e+04 -2.2020266e+00 -2.2020266e+00 */
+    { 0x3b84ad7a,0x3be7d6dd,0x3b84ad7a }, /* 378:  4.0490003e-03  7.0751742e-03  4.0490003e-03 */
+    { 0x43d97fa4,0x41dd0c56,0x41dd0c56 }, /* 379:  4.3499719e+02  2.7631023e+01  2.7631023e+01 */
+    { 0x440faa5c,0x3f800000,0x3f800000 }, /* 380:  5.7466187e+02  1.0000000e+00  1.0000000e+00 */
+    { 0x45f921a2,0xd343ca6b,0xd343ca6b }, /* 381:  7.9722041e+03 -8.4091463e+11 -8.4091463e+11 */
+    { 0x57daeb08,0xb109436a,0xb109436a }, /* 382:  4.8140597e+14 -1.9974444e-09 -1.9974444e-09 */
+    { 0xb496b00a,0x41949033,0xb496b00a }, /* 383: -2.8067763e-07  1.8570410e+01 -2.8067763e-07 */
+    { 0xc458abeb,0xc06dfe58,0xc458abeb }, /* 384: -8.6668622e+02 -3.7186489e+00 -8.6668622e+02 */
+    { 0x45243da2,0xc4ad8081,0xc4ad8081 }, /* 385:  2.6278521e+03 -1.3880157e+03 -1.3880157e+03 */
+    { 0xbb7228fc,0xc9b2501b,0xc9b2501b }, /* 386: -3.6950698e-03 -1.4607394e+06 -1.4607394e+06 */
+    { 0xc03e402c,0x9e180161,0xc03e402c }, /* 387: -2.9726667e+00 -8.0470982e-21 -2.9726667e+00 */
+    { 0xc0365bc9,0xc0380f84,0xc0380f84 }, /* 388: -2.8493521e+00 -2.8759470e+00 -2.8759470e+00 */
+    { 0xba24cc65,0xbbf6e063,0xbbf6e063 }, /* 389: -6.2865607e-04 -7.5340732e-03 -7.5340732e-03 */
+    { 0x433a7230,0x060a17be,0x060a17be }, /* 390:  1.8644604e+02  2.5972358e-35  2.5972358e-35 */
+    { 0x4392f2ee,0xbf323c0f,0xbf323c0f }, /* 391:  2.9389789e+02 -6.9622892e-01 -6.9622892e-01 */
+    { 0xe7ded62d,0x2deaf026,0xe7ded62d }, /* 392: -2.1046324e+24  2.6709367e-11 -2.1046324e+24 */
+    { 0xbc9d1b80,0xc09457cd,0xc09457cd }, /* 393: -1.9178152e-02 -4.6357179e+00 -4.6357179e+00 */
+    { 0xc4b04b5d,0xc09742c5,0xc4b04b5d }, /* 394: -1.4103551e+03 -4.7269006e+00 -1.4103551e+03 */
+    { 0xc55d9aaa,0x4085cfe6,0xc55d9aaa }, /* 395: -3.5456665e+03  4.1816282e+00 -3.5456665e+03 */
+    { 0x42509e38,0x4072c128,0x4072c128 }, /* 396:  5.2154510e+01  3.7930393e+00  3.7930393e+00 */
+    { 0x40a8cebd,0x46d97772,0x40a8cebd }, /* 397:  5.2752366e+00  2.7835723e+04  5.2752366e+00 */
+    { 0xcac2fea8,0xc5e991e7,0xcac2fea8 }, /* 398: -6.3895880e+06 -7.4742378e+03 -6.3895880e+06 */
+    { 0xb6bd23dd,0xbec0d524,0xbec0d524 }, /* 399: -5.6368140e-06 -3.7662613e-01 -3.7662613e-01 */
+    { 0xbec68659,0xc45d036b,0xc45d036b }, /* 400: -3.8774374e-01 -8.8405341e+02 -8.8405341e+02 */
+    { 0xbf800000,0xbf800000,0xbf800000 }, /* 401: -1.0000000e+00 -1.0000000e+00 -1.0000000e+00 */
+    { 0x40313f26,0x4047085b,0x40313f26 }, /* 402:  2.7694793e+00  3.1098850e+00  2.7694793e+00 */
+    { 0x43d61adf,0xc8fe25c2,0xc8fe25c2 }, /* 403:  4.2820993e+02 -5.2049406e+05 -5.2049406e+05 */
+    { 0x4037afb3,0x427bd8bd,0x4037afb3 }, /* 404:  2.8700988e+00  6.2961658e+01  2.8700988e+00 */
+    { 0xc3436a29,0xb226f99e,0xc3436a29 }, /* 405: -1.9541469e+02 -9.7192281e-09 -1.9541469e+02 */
+    { 0xc0565177,0x12233b7b,0xc0565177 }, /* 406: -3.3487222e+00  5.1507046e-28 -3.3487222e+00 */
+    { 0x3f1e02bd,0x43dcb019,0x3f1e02bd }, /* 407:  6.1722928e-01  4.4137576e+02  6.1722928e-01 */
+    { 0x3c5eceb3,0xbb6930e5,0xbb6930e5 }, /* 408:  1.3599086e-02 -3.5582122e-03 -3.5582122e-03 */
+    { 0xcb8658c6,0xbcc2d314,0xcb8658c6 }, /* 409: -1.7609100e+07 -2.3782291e-02 -1.7609100e+07 */
+    { 0xbc49c83e,0xc1d64b87,0xc1d64b87 }, /* 410: -1.2315808e-02 -2.6786879e+01 -2.6786879e+01 */
+    { 0x43b18cea,0x45bd23ad,0x43b18cea }, /* 411:  3.5510089e+02  6.0524595e+03  3.5510089e+02 */
+    { 0x44c9a710,0xbb53fc48,0xbb53fc48 }, /* 412:  1.6132207e+03 -3.2346416e-03 -3.2346416e-03 */
+    { 0x3b638297,0xc2cb08d9,0xc2cb08d9 }, /* 413:  3.4715289e-03 -1.0151728e+02 -1.0151728e+02 */
+    { 0xc229fde8,0x41d81622,0xc229fde8 }, /* 414: -4.2497955e+01  2.7010807e+01 -4.2497955e+01 */
+    { 0x3e9009fc,0xc050c5ed,0xc050c5ed }, /* 415:  2.8132617e-01 -3.2620804e+00 -3.2620804e+00 */
+    { 0x416eeaae,0x3a6242e5,0x3a6242e5 }, /* 416:  1.4932295e+01  8.6311839e-04  8.6311839e-04 */
+    { 0xb81067fb,0xd009480a,0xd009480a }, /* 417: -3.4429115e-05 -9.2127990e+09 -9.2127990e+09 */
+    { 0x3eb23694,0xb6e3ed33,0xb6e3ed33 }, /* 418:  3.4807265e-01 -6.7927408e-06 -6.7927408e-06 */
+    { 0xbc196fd0,0xc05ecf66,0xc05ecf66 }, /* 419: -9.3650371e-03 -3.4814086e+00 -3.4814086e+00 */
+    { 0xbf800000,0xc6479a40,0xc6479a40 }, /* 420: -1.0000000e+00 -1.2774562e+04 -1.2774562e+04 */
+    { 0x367643a2,0xc26b69a1,0xc26b69a1 }, /* 421:  3.6696224e-06 -5.8853153e+01 -5.8853153e+01 */
+    { 0x408946c6,0xc63bb1e8,0xc63bb1e8 }, /* 422:  4.2898893e+00 -1.2012477e+04 -1.2012477e+04 */
+    { 0xbef7256b,0xc21c0df2,0xc21c0df2 }, /* 423: -4.8270735e-01 -3.9013618e+01 -3.9013618e+01 */
+    { 0xbd250235,0x3c810a95,0xbd250235 }, /* 424: -4.0285308e-02  1.5752116e-02 -4.0285308e-02 */
+    { 0xc576fe25,0xb7e7a525,0xc576fe25 }, /* 425: -3.9518840e+03 -2.7614247e-05 -3.9518840e+03 */
+    { 0x3ed43ce4,0x07f6552a,0x07f6552a }, /* 426:  4.1452706e-01  3.7064021e-34  3.7064021e-34 */
+    { 0xe0152a1f,0xbe722627,0xe0152a1f }, /* 427: -4.2993750e+19 -2.3647366e-01 -4.2993750e+19 */
+    { 0x41f28086,0xc2e3b68d,0xc2e3b68d }, /* 428:  3.0312756e+01 -1.1385654e+02 -1.1385654e+02 */
+    { 0x466ffcf9,0xc638c0ea,0xc638c0ea }, /* 429:  1.5359243e+04 -1.1824229e+04 -1.1824229e+04 */
+    { 0x406b4bbd,0x39007e14,0x39007e14 }, /* 430:  3.6764977e+00  1.2253999e-04  1.2253999e-04 */
+    { 0x3d4f5360,0xc83dd354,0xc83dd354 }, /* 431:  5.0616622e-02 -1.9438131e+05 -1.9438131e+05 */
+    { 0xbb5b3ba3,0x3f3cf7c1,0xbb5b3ba3 }, /* 432: -3.3452294e-03  7.3815542e-01 -3.3452294e-03 */
+    { 0xc819f96a,0x46cf232f,0xc819f96a }, /* 433: -1.5766966e+05  2.6513592e+04 -1.5766966e+05 */
+    { 0x435429d7,0xbc8f8c87,0xbc8f8c87 }, /* 434:  2.1216344e+02 -1.7523063e-02 -1.7523063e-02 */
+    { 0xc2eb08f9,0x3c131e33,0xc2eb08f9 }, /* 435: -1.1751752e+02  8.9793680e-03 -1.1751752e+02 */
+    { 0xb7c2fb2a,0xc405c4a7,0xc405c4a7 }, /* 436: -2.3243560e-05 -5.3507269e+02 -5.3507269e+02 */
+    { 0x36e974fa,0xbe9a124a,0xbe9a124a }, /* 437:  6.9575590e-06 -3.0092078e-01 -3.0092078e-01 */
+    { 0x3c152017,0xbed28fe6,0xbed28fe6 }, /* 438:  9.1018891e-03 -4.1125411e-01 -4.1125411e-01 */
+    { 0xbb05cb3a,0x41c8a859,0xbb05cb3a }, /* 439: -2.0415322e-03  2.5082201e+01 -2.0415322e-03 */
+    { 0xc07019b0,0x3f05a549,0xc07019b0 }, /* 440: -3.7515678e+00  5.2205330e-01 -3.7515678e+00 */
+    { 0xc0433e5b,0xc15997d9,0xc15997d9 }, /* 441: -3.0506809e+00 -1.3599572e+01 -1.3599572e+01 */
+    { 0xc1ffa78a,0x3d693dbe,0xc1ffa78a }, /* 442: -3.1956806e+01  5.6943648e-02 -3.1956806e+01 */
+    { 0x3eb1ec6e,0x4efb00dc,0x3eb1ec6e }, /* 443:  3.4750694e-01  2.1055688e+09  3.4750694e-01 */
+    { 0x3e83444c,0xc259bdfa,0xc259bdfa }, /* 444:  2.5638044e-01 -5.4435524e+01 -5.4435524e+01 */
+    { 0x43e465bd,0x43bc5d87,0x43bc5d87 }, /* 445:  4.5679483e+02  3.7673068e+02  3.7673068e+02 */
+    { 0xc49b8328,0x9b4e7db3,0xc49b8328 }, /* 446: -1.2440986e+03 -1.7080536e-22 -1.2440986e+03 */
+    { 0xa9e16829,0xbeae68e4,0xbeae68e4 }, /* 447: -1.0010076e-13 -3.4064400e-01 -3.4064400e-01 */
+    { 0xbbee5a7d,0xc2ca5e17,0xc2ca5e17 }, /* 448: -7.2739706e-03 -1.0118377e+02 -1.0118377e+02 */
+    { 0x3ffb3ba0,0x3ae1d0bf,0x3ae1d0bf }, /* 449:  1.9627571e+00  1.7228349e-03  1.7228349e-03 */
+    { 0xbf233234,0xbeb6d2e3,0xbf233234 }, /* 450: -6.3748479e-01 -3.5707769e-01 -6.3748479e-01 */
+    { 0x9c095bac,0xbd694379,0xbd694379 }, /* 451: -4.5447981e-22 -5.6949113e-02 -5.6949113e-02 */
+    { 0x4297f6b8,0xb88ff947,0xb88ff947 }, /* 452:  7.5981873e+01 -6.8652029e-05 -6.8652029e-05 */
+    { 0x42c86244,0x423f27f8,0x423f27f8 }, /* 453:  1.0019193e+02  4.7789032e+01  4.7789032e+01 */
+    { 0x3eb60922,0x44e54896,0x3eb60922 }, /* 454:  3.5553843e-01  1.8342683e+03  3.5553843e-01 */
+    { 0x3d9638ae,0x583af23a,0x3d9638ae }, /* 455:  7.3350295e-02  8.2219807e+14  7.3350295e-02 */
+    { 0x3b313151,0x3bc34e46,0x3b313151 }, /* 456:  2.7037452e-03  5.9602587e-03  2.7037452e-03 */
+    { 0x3a38ca57,0xeafcc922,0xeafcc922 }, /* 457:  7.0491940e-04 -1.5279956e+26 -1.5279956e+26 */
+    { 0xc04fd506,0xbd343a22,0xc04fd506 }, /* 458: -3.2473769e+00 -4.4000752e-02 -3.2473769e+00 */
+    { 0x3a264a4c,0xc1193cf2,0xc1193cf2 }, /* 459:  6.3434686e-04 -9.5773792e+00 -9.5773792e+00 */
+    { 0xc93b45bb,0x3e2f89df,0xc93b45bb }, /* 460: -7.6706769e+05  1.7142437e-01 -7.6706769e+05 */
+    { 0x3cf3c3f3,0xc70e93f8,0xc70e93f8 }, /* 461:  2.9756522e-02 -3.6499969e+04 -3.6499969e+04 */
+    { 0x38366b51,0xc4034ed8,0xc4034ed8 }, /* 462:  4.3492128e-05 -5.2523193e+02 -5.2523193e+02 */
+    { 0xba8020e1,0x404857f1,0xba8020e1 }, /* 463: -9.7754237e-04  3.1303675e+00 -9.7754237e-04 */
+    { 0xc394ab24,0x3d82a6cb,0xc394ab24 }, /* 464: -2.9733704e+02  6.3794695e-02 -2.9733704e+02 */
+    { 0x3a0f2f0c,0xc056e862,0xc056e862 }, /* 465:  5.4620276e-04 -3.3579335e+00 -3.3579335e+00 */
+    { 0xc0430df8,0xc3a017c1,0xc3a017c1 }, /* 466: -3.0477276e+00 -3.2018558e+02 -3.2018558e+02 */
+    { 0x4626e978,0xbf2d989c,0xbf2d989c }, /* 467:  1.0682367e+04 -6.7810988e-01 -6.7810988e-01 */
+    { 0xd5ff89d2,0xbea6610f,0xd5ff89d2 }, /* 468: -3.5120925e+13 -3.2495925e-01 -3.5120925e+13 */
+    { 0xbebaaeeb,0x2ec6d07d,0xbebaaeeb }, /* 469: -3.6461577e-01  9.0410325e-11 -3.6461577e-01 */
+    { 0xc375b9e6,0x383896cf,0xc375b9e6 }, /* 470: -2.4572617e+02  4.4009470e-05 -2.4572617e+02 */
+    { 0xc1d53397,0x25c7e128,0xc1d53397 }, /* 471: -2.6650190e+01  3.4673569e-16 -2.6650190e+01 */
+    { 0xe17f99ca,0xbc88e7ef,0xe17f99ca }, /* 472: -2.9468759e+20 -1.6712157e-02 -2.9468759e+20 */
+    { 0xc06c9854,0xbe938d9c,0xc06c9854 }, /* 473: -3.6967974e+00 -2.8818977e-01 -3.6967974e+00 */
+    { 0xcc4abd81,0xc4035fa5,0xcc4abd81 }, /* 474: -5.3147140e+07 -5.2549445e+02 -5.3147140e+07 */
+    { 0x3af7d67a,0x427424bf,0x3af7d67a }, /* 475:  1.8908523e-03  6.1035885e+01  1.8908523e-03 */
+    { 0x3f800000,0x3cbe4905,0x3cbe4905 }, /* 476:  1.0000000e+00  2.3228178e-02  2.3228178e-02 */
+    { 0x3901dd6c,0xb9700341,0xb9700341 }, /* 477:  1.2384885e-04 -2.2889396e-04 -2.2889396e-04 */
+    { 0xccd832c0,0x3b0a5114,0xccd832c0 }, /* 478: -1.1335014e+08  2.1105455e-03 -1.1335014e+08 */
+    { 0xbc1c369c,0x3accd9e8,0xbc1c369c }, /* 479: -9.5345043e-03  1.5628906e-03 -9.5345043e-03 */
+    { 0x426d83e4,0xbd404486,0xbd404486 }, /* 480:  5.9378799e+01 -4.6940349e-02 -4.6940349e-02 */
+    { 0xc22cfecd,0x4167d348,0xc22cfecd }, /* 481: -4.3248829e+01  1.4489082e+01 -4.3248829e+01 */
+    { 0xc00cbdbf,0xc673e988,0xc673e988 }, /* 482: -2.1990812e+00 -1.5610383e+04 -1.5610383e+04 */
+    { 0x9b758e9f,0xc047fcbd,0xc047fcbd }, /* 483: -2.0312008e-22 -3.1248009e+00 -3.1248009e+00 */
+    { 0x47e07292,0xbb90f2f4,0xbb90f2f4 }, /* 484:  1.1491714e+05 -4.4234935e-03 -4.4234935e-03 */
+    { 0x5395511c,0xb17cfa95,0xb17cfa95 }, /* 485:  1.2826218e+12 -3.6813266e-09 -3.6813266e-09 */
+    { 0x3cef0efd,0x32fc7dcc,0x32fc7dcc }, /* 486:  2.9181952e-02  2.9393867e-08  2.9393867e-08 */
+    { 0xc233fec1,0xc033267a,0xc233fec1 }, /* 487: -4.4998783e+01 -2.7992234e+00 -4.4998783e+01 */
+    { 0x4006fa6f,0x40291931,0x4006fa6f }, /* 488:  2.1090353e+00  2.6421626e+00  2.1090353e+00 */
+    { 0xbcd0298f,0xbc5dc8a0,0xbcd0298f }, /* 489: -2.5410442e-02 -1.3536602e-02 -2.5410442e-02 */
+    { 0x401c3f57,0xc4466fcb,0xc4466fcb }, /* 490:  2.4413660e+00 -7.9374677e+02 -7.9374677e+02 */
+    { 0xc0815925,0xc27c9c04,0xc27c9c04 }, /* 491: -4.0421319e+00 -6.3152359e+01 -6.3152359e+01 */
+    { 0xc412bb26,0xc1fa1b5c,0xc412bb26 }, /* 492: -5.8692419e+02 -3.1263359e+01 -5.8692419e+02 */
+    { 0xc3aa15b4,0x5082c5fa,0xc3aa15b4 }, /* 493: -3.4016956e+02  1.7552101e+10 -3.4016956e+02 */
+    { 0x2a042ace,0x37b6ae77,0x2a042ace }, /* 494:  1.1738806e-13  2.1777332e-05  1.1738806e-13 */
+    { 0xbd06a1f7,0xbb461c7b,0xbd06a1f7 }, /* 495: -3.2869305e-02 -3.0229378e-03 -3.2869305e-02 */
+    { 0xb9d3ae0d,0x421d738a,0xb9d3ae0d }, /* 496: -4.0374734e-04  3.9362831e+01 -4.0374734e-04 */
+    { 0x3d2e9ed6,0x3c3ecb28,0x3c3ecb28 }, /* 497:  4.2631947e-02  1.1645116e-02  1.1645116e-02 */
+    { 0xc5c89158,0x400279a2,0xc5c89158 }, /* 498: -6.4181680e+03  2.0386739e+00 -6.4181680e+03 */
+    { 0x3ebff735,0xbbcd4770,0xbbcd4770 }, /* 499:  3.7493291e-01 -6.2646195e-03 -6.2646195e-03 */
+    { 0x425b4c5a,0x43330344,0x425b4c5a }, /* 500:  5.4824562e+01  1.7901276e+02  5.4824562e+01 */
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]:  %#lx\n", index - 1, v.lo);
+#endif
+    exit (index ? index : -1);
+}
+
+int main ()
+{
+    union lofl_u x,y,z;
+    int i;
+    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	y.lo = pgm_read_dword (& t[i].y);
+	x.lo = pgm_read_dword (& t[i].x);
+	z.lo = pgm_read_dword (& t[i].z);
+	v.fl = fmin (x.fl, y.fl);
+	
+	if (   v.lo == z.lo
+	    || (isnan(v.fl) && isnan(z.fl))	)
+	  continue;
+	x_exit (i+1);
+    }
+    return 0;
+}
diff --git a/tests/simulate/math/fmod-01.c b/tests/simulate/math/fmod-01.c
new file mode 100644
index 0000000..1973e26
--- /dev/null
+++ b/tests/simulate/math/fmod-01.c
@@ -0,0 +1,162 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of fmod() function.
+   $Id$
+ */
+#include <math.h>
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+volatile union lofl_u v = { .lo = 1 };
+
+PROGMEM const struct {		/* Table of test cases	*/
+    union lofl_u x, y;		/* args		*/
+    union lofl_u z;		/* fmod(x,y)	*/
+} t[] = {
+
+    /* fmod(0,y) --> 0	*/
+    { { .fl=  0.0 }, { .fl=  1.0 }, { .fl=  0.0 } },
+    { { .fl=  0.0 }, { .fl= -1.0 }, { .fl=  0.0 } },
+    { { .fl= -0.0 }, { .fl=  1.0 }, { .fl= -0.0 } },
+    { { .fl= -0.0 }, { .fl= -1.0 }, { .fl= -0.0 } },
+    
+    { { .fl= 0.0 }, { 0x00000001 }, { .fl= 0.0 } },
+    { { .fl= 0.0 }, { 0x00000100 }, { .fl= 0.0 } },
+    { { .fl= 0.0 }, { 0x00010000 }, { .fl= 0.0 } },
+    { { .fl= 0.0 }, { 0x007fffff }, { .fl= 0.0 } },
+    { { .fl= 0.0 }, { 0x00800000 }, { .fl= 0.0 } },
+    { { .fl= 0.0 }, { 0x7f7fffff }, { .fl= 0.0 } },
+
+    /* fmod(x,+Inf) --> x	*/
+    { { 0x00000000 }, { 0x7f800000 }, { 0x00000000 } },
+    { { 0x00000001 }, { 0x7f800000 }, { 0x00000001 } },
+    { { 0x00000100 }, { 0x7f800000 }, { 0x00000100 } },
+    { { 0x00010000 }, { 0x7f800000 }, { 0x00010000 } },
+    { { 0x007fffff }, { 0x7f800000 }, { 0x007fffff } },
+    { { 0x00800000 }, { 0x7f800000 }, { 0x00800000 } },
+    { { 0x7f7fffff }, { 0x7f800000 }, { 0x7f7fffff } },
+
+    { { 0x80000000 }, { 0x7f800000 }, { 0x80000000 } },
+    { { 0x80000001 }, { 0x7f800000 }, { 0x80000001 } },
+    { { 0x80000100 }, { 0x7f800000 }, { 0x80000100 } },
+    { { 0x80010000 }, { 0x7f800000 }, { 0x80010000 } },
+    { { 0x807fffff }, { 0x7f800000 }, { 0x807fffff } },
+    { { 0x80800000 }, { 0x7f800000 }, { 0x80800000 } },
+    { { 0xff7fffff }, { 0x7f800000 }, { 0xff7fffff } },
+
+    /* fmod(x,-Inf) --> x	*/
+    { { 0x00000000 }, { 0xff800000 }, { 0x00000000 } },
+    { { 0x00000001 }, { 0xff800000 }, { 0x00000001 } },
+    { { 0x00000100 }, { 0xff800000 }, { 0x00000100 } },
+    { { 0x00010000 }, { 0xff800000 }, { 0x00010000 } },
+    { { 0x007fffff }, { 0xff800000 }, { 0x007fffff } },
+    { { 0x00800000 }, { 0xff800000 }, { 0x00800000 } },
+    { { 0x7f7fffff }, { 0xff800000 }, { 0x7f7fffff } },
+
+    { { 0x80000000 }, { 0xff800000 }, { 0x80000000 } },
+    { { 0x80000001 }, { 0xff800000 }, { 0x80000001 } },
+    { { 0x80000100 }, { 0xff800000 }, { 0x80000100 } },
+    { { 0x80010000 }, { 0xff800000 }, { 0x80010000 } },
+    { { 0x807fffff }, { 0xff800000 }, { 0x807fffff } },
+    { { 0x80800000 }, { 0xff800000 }, { 0x80800000 } },
+    { { 0xff7fffff }, { 0xff800000 }, { 0xff7fffff } },
+    
+    /* signs	*/
+    { { .fl=  5 }, { .fl=  3 }, { .fl=  2 } },
+    { { .fl=  5 }, { .fl= -3 }, { .fl=  2 } },
+    { { .fl= -5 }, { .fl=  3 }, { .fl= -2 } },
+    { { .fl= -5 }, { .fl= -3 }, { .fl= -2 } },
+
+    /* The smallest y	*/
+    { { 0x00000001 }, { 0x00000001 }, { .fl=  0.0 } },
+    { { 0x007fffff }, { 0x00000001 }, { .fl=  0.0 } },
+    { { 0x00800000 }, { 0x00000001 }, { .fl=  0.0 } },
+    { { 0x7f7fffff }, { 0x00000001 }, { .fl=  0.0 } },
+    
+    /* Subnormals, all shift values	*/
+    { { 0x00000001 }, { 0x00000001 }, { 0x00000000 } },
+    { { 0x00000002 }, { 0x00000001 }, { 0x00000000 } },
+    { { 0x00000004 }, { 0x00000003 }, { 0x00000001 } },
+    { { 0x00000008 }, { 0x00000007 }, { 0x00000001 } },
+    { { 0x00000010 }, { 0x0000000f }, { 0x00000001 } },
+    { { 0x00000020 }, { 0x0000001f }, { 0x00000001 } },
+    { { 0x00000040 }, { 0x0000003f }, { 0x00000001 } },
+    { { 0x00000080 }, { 0x0000007f }, { 0x00000001 } },
+    { { 0x00000100 }, { 0x000000ff }, { 0x00000001 } },
+    { { 0x00000200 }, { 0x000001ff }, { 0x00000001 } },
+    { { 0x00000400 }, { 0x000003ff }, { 0x00000001 } },
+    { { 0x00000800 }, { 0x000007ff }, { 0x00000001 } },
+    { { 0x00001000 }, { 0x00000fff }, { 0x00000001 } },
+    { { 0x00002000 }, { 0x00001fff }, { 0x00000001 } },
+    { { 0x00004000 }, { 0x00003fff }, { 0x00000001 } },
+    { { 0x00008000 }, { 0x00007fff }, { 0x00000001 } },
+    { { 0x00010000 }, { 0x0000ffff }, { 0x00000001 } },
+    { { 0x00020000 }, { 0x0001ffff }, { 0x00000001 } },
+    { { 0x00040000 }, { 0x0003ffff }, { 0x00000001 } },
+    { { 0x00080000 }, { 0x0007ffff }, { 0x00000001 } },
+    { { 0x00100000 }, { 0x000fffff }, { 0x00000001 } },
+    { { 0x00200000 }, { 0x001fffff }, { 0x00000001 } },
+    { { 0x00400000 }, { 0x003fffff }, { 0x00000001 } },
+
+    { { 0x00800000 }, { 0x007fffff }, { 0x00000001 } },
+    { { 0x00800001 }, { 0x007fffff }, { 0x00000002 } },
+    { { 0x00800001 }, { 0x00800000 }, { 0x00000001 } },
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]:  %#lx\n", index - 1, v.lo);
+#endif
+    exit (index ? index : -1);
+}
+
+int main ()
+{
+    union lofl_u x,y,z;
+    int i;
+    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	x.lo = pgm_read_dword (& t[i].x);
+	y.lo = pgm_read_dword (& t[i].y);
+	z.lo = pgm_read_dword (& t[i].z);
+	v.fl = fmod (x.fl, y.fl);
+	/* Comparison is integer to verify the zero sign.	*/
+	if (v.lo != z.lo)
+	    x_exit (i+1);
+    }
+    return 0;
+}
diff --git a/tests/simulate/math/fmod-500.c b/tests/simulate/math/fmod-500.c
new file mode 100644
index 0000000..d2ad741
--- /dev/null
+++ b/tests/simulate/math/fmod-500.c
@@ -0,0 +1,576 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of fmod() function.  500 random cases.
+   $Id$
+ */
+#include <math.h>
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+volatile union lofl_u v = { .lo = 1 };
+
+PROGMEM const struct {		/* Table of test cases.	*/
+    long x, y;		/* arguments	*/
+    long z;		/* fmod(x,y)	*/
+} t[] = {
+
+    /* x, y, fmod(x,y)	*/
+    { 0x3f121bbd,0xbe602a03,0x3e081aee }, /*   1:  5.7073575e-01 -2.1891026e-01  1.3291523e-01 */
+    { 0x41cc1dbe,0xbd3caec5,0x3d25f473 }, /*   2:  2.5514523e+01 -4.6065111e-02  4.0516328e-02 */
+    { 0xc09e49ce,0x3f05cdf4,0xbe784370 }, /*   3: -4.9465094e+00  5.2267385e-01 -2.4244475e-01 */
+    { 0xbfd4d3fc,0x3dde0690,0xbd15baa0 }, /*   4: -1.6627192e+00  1.0841095e-01 -3.6554933e-02 */
+    { 0xd8fe1f0b,0x41c8bfe0,0xc1986420 }, /*   5: -2.2352743e+15  2.5093689e+01 -1.9048889e+01 */
+    { 0xc2362c3d,0xc0c7c4f1,0xbfebfd44 }, /*   6: -4.5543201e+01 -6.2427907e+00 -1.8436666e+00 */
+    { 0xbf22d346,0xbc58bd69,0xba8a6e80 }, /*   7: -6.3603628e-01 -1.3228753e-02 -1.0561496e-03 */
+    { 0xbf279d43,0x3d635978,0xbd34fc08 }, /*   8: -6.5474337e-01  5.5505246e-02 -4.4185668e-02 */
+    { 0xc09ad097,0x3a2d16d3,0xb894f798 }, /*   9: -4.8379626e+00  6.6028273e-04 -7.1033079e-05 */
+    { 0x3fd5905a,0xad4a0c92,0x2d3c2b8a }, /*  10:  1.6684678e+00 -1.1485162e-11  1.0696230e-11 */
+    { 0x3fd1699c,0xbf3cb83e,0x3e258af0 }, /*  11:  1.6360354e+00 -7.3718631e-01  1.6166282e-01 */
+    { 0x3fdd6459,0xbbd4221e,0x3a930ed8 }, /*  12:  1.7296249e+00 -6.4737936e-03  1.1219634e-03 */
+    { 0x3e2dc9fe,0x08159f0f,0x0767793c }, /*  13:  1.6971585e-01  4.5025029e-34  1.7414136e-34 */
+    { 0xbdd8ca97,0xbc84c5ca,0xbc0d0f40 }, /*  14: -1.0585516e-01 -1.6207594e-02 -8.6095929e-03 */
+    { 0x3f4e03bc,0xb989d4b5,0x380c3e38 }, /*  15:  8.0474448e-01 -2.6289155e-04  3.3436547e-05 */
+    { 0xbda3300c,0xbd52d7b8,0xbce710c0 }, /*  16: -7.9681486e-02 -5.1475257e-02 -2.8206229e-02 */
+    { 0x416c9388,0x40fadfb3,0x40de475d }, /*  17:  1.4786018e+01  7.8398070e+00  6.9462113e+00 */
+    { 0xbf5303bd,0xbdc97c24,0xbd187990 }, /*  18: -8.2427579e-01 -9.8381311e-02 -3.7225306e-02 */
+    { 0x44be4583,0xa8e7dbbd,0x2895b92c }, /*  19:  1.5221722e+03 -2.5741448e-14  1.6622629e-14 */
+    { 0xc1558c1a,0x3f0b2184,0xbe9b3a80 }, /*  20: -1.3346704e+01  5.4348016e-01 -3.0318069e-01 */
+    { 0x4093961a,0x3fcb1416,0x3fb8303c }, /*  21:  4.6120729e+00  1.5865505e+00  1.4389720e+00 */
+    { 0xc8705ec0,0x41bf43ab,0xc0b6f90c }, /*  22: -2.4613900e+05  2.3908041e+01 -5.7179012e+00 */
+    { 0x3946ce1a,0xb4c59e96,0x32e2c3e0 }, /*  23:  1.8959530e-04 -3.6809496e-07  2.6398936e-08 */
+    { 0xbfbc45c2,0xbe5475a5,0xbc97b468 }, /*  24: -1.4708788e+00 -2.0748003e-01 -1.8518642e-02 */
+    { 0xbcf0bcfc,0x38a31bce,0xb88909a2 }, /*  25: -2.9386990e-02  7.7776247e-05 -6.5344633e-05 */
+    { 0xbda4c4d6,0xbd24a2b8,0xb8887800 }, /*  26: -8.0453560e-02 -4.0194243e-02 -6.5073371e-05 */
+    { 0xbfb65187,0x3ef5b706,0xbeedd810 }, /*  27: -1.4243630e+00  4.7991198e-01 -4.6453905e-01 */
+    { 0x421af559,0xbf0b5a9d,0x3db9a5a8 }, /*  28:  3.8739597e+01 -5.4435140e-01  9.0647995e-02 */
+    { 0xc182ed3a,0xbfb5f01e,0xbf3b04ac }, /*  29: -1.6365833e+01 -1.4213903e+00 -7.3054004e-01 */
+    { 0xbd5b5aa7,0x352de54b,0xb51d2e27 }, /*  30: -5.3553250e-02  6.4781187e-07 -5.8554218e-07 */
+    { 0xc6f3223f,0x41095eb5,0xc0da8b70 }, /*  31: -3.1121123e+04  8.5856218e+00 -6.8295212e+00 */
+    { 0xbf0c2cf1,0xbdc449bc,0xbd8bf6dc }, /*  32: -5.4756075e-01 -9.5843762e-02 -6.8341941e-02 */
+    { 0xc1cfd309,0xc0f3f1ec,0xc046ecc0 }, /*  33: -2.5978045e+01 -7.6232815e+00 -3.1082001e+00 */
+    { 0xc1267339,0x36963c59,0xb5fb921c }, /*  34: -1.0403131e+01  4.4773737e-06 -1.8743481e-06 */
+    { 0x43a7e315,0x3f10fba1,0x3f0045b0 }, /*  35:  3.3577408e+02  5.6633955e-01  5.0106335e-01 */
+    { 0xbf25eec7,0x3b077ee2,0xba89495c }, /*  36: -6.4817470e-01  2.0674993e-03 -1.0474133e-03 */
+    { 0x41b791d9,0xbfcd6af6,0x3ef51070 }, /*  37:  2.2946215e+01 -1.6048267e+00  4.7864103e-01 */
+    { 0xbf3d2e76,0xbe5bae53,0xbdc35dbe }, /*  38: -7.3899019e-01 -2.1453218e-01 -9.5393643e-02 */
+    { 0x57222944,0x41fb84fc,0x41cb5cd0 }, /*  39:  1.7829812e+14  3.1439934e+01  2.5420319e+01 */
+    { 0xc1b012e9,0x3fe834c4,0xbe75ab00 }, /*  40: -2.2009233e+01  1.8141103e+00 -2.3991013e-01 */
+    { 0x4441eef0,0xbfeaa80d,0x3e88ca14 }, /*  41:  7.7573340e+02 -1.8332535e+00  2.6716673e-01 */
+    { 0xc12f43ba,0x40c5ffe4,0xc0988790 }, /*  42: -1.0954035e+01  6.1874866e+00 -4.7665482e+00 */
+    { 0x3f28f7cf,0x3f276eae,0x3bc49080 }, /*  43:  6.6003126e-01  6.5403259e-01  5.9986711e-03 */
+    { 0x67c04928,0xbe549dce,0x3dd337cc }, /*  44:  1.8160877e+24 -2.0763323e-01  1.0313377e-01 */
+    { 0xc340f9d6,0xbfe91c28,0xbfe05e98 }, /*  45: -1.9297592e+02 -1.8211718e+00 -1.7528868e+00 */
+    { 0x49ee85ca,0x40b8d8dd,0x40910f08 }, /*  46:  1.9539772e+06  5.7764726e+00  4.5330849e+00 */
+    { 0xc32b2d6e,0xc093192c,0xbf8c2990 }, /*  47: -1.7117746e+02 -4.5968227e+00 -1.0950184e+00 */
+    { 0xc7a5920b,0xbdf1400e,0xbda984be }, /*  48: -8.4772086e+04 -1.1779796e-01 -8.2772717e-02 */
+    { 0x3ff852dc,0x3d18bdc8,0x3a73b800 }, /*  49:  1.9400287e+00  3.7290365e-02  9.2971325e-04 */
+    { 0x3b0a327c,0x38fbb571,0x388f42ff }, /*  50:  2.1087220e-03  1.2002409e-04  6.8312504e-05 */
+    { 0x40f6158f,0x3b5cfca6,0x3b025190 }, /*  51:  7.6901317e+00  3.3719926e-03  1.9885041e-03 */
+    { 0x3fcf46d6,0xbc2fa530,0x3a0fbb00 }, /*  52:  1.6193492e+00 -1.0720536e-02  5.4828823e-04 */
+    { 0xc0cfa00b,0x3e91fe92,0xbe5c4048 }, /*  53: -6.4882865e+00  2.8514534e-01 -2.1508896e-01 */
+    { 0xc19add8f,0x3fc232bd,0xbf937814 }, /*  54: -1.9358183e+01  1.5171734e+00 -1.1521020e+00 */
+    { 0xbf39ee75,0x310a97ff,0xb0c03a1e }, /*  55: -7.2629482e-01  2.0168043e-09 -1.3986357e-09 */
+    { 0x3f158f83,0xbeaf68a9,0x3e776cba }, /*  56:  5.8422107e-01 -3.4259537e-01  2.4162570e-01 */
+    { 0x3eecb52d,0xbe4def78,0x3d762da8 }, /*  57:  4.6231976e-01 -2.0110881e-01  6.0102135e-02 */
+    { 0xbcfd986d,0x372e0fdb,0xb708a723 }, /*  58: -3.0956471e-02  1.0374900e-05 -8.1451462e-06 */
+    { 0x49b6ea65,0x3efaacdc,0x3e088320 }, /*  59:  1.4984446e+06  4.8960006e-01  1.3331270e-01 */
+    { 0x3e54696f,0x3b8036f2,0x3866e300 }, /*  60:  2.0743345e-01  3.9128000e-03  5.5047683e-05 */
+    { 0x4a618aaa,0xb8192bc8,0x37978520 }, /*  61:  3.6952745e+06 -3.6518817e-05  1.8062594e-05 */
+    { 0x3f16804e,0x3dff9785,0x3db5a45c }, /*  62:  5.8789527e-01  1.2480072e-01  8.8692397e-02 */
+    { 0x41a931c3,0xc0e7d6ef,0x40d5192e }, /*  63:  2.1149298e+01 -7.2449870e+00  6.6593237e+00 */
+    { 0x4430bfa7,0x3f0c4feb,0x3f0035bd }, /*  64:  7.0699457e+02  5.4809445e-01  5.0081998e-01 */
+    { 0x3a975fcd,0xb8d597ba,0x3810efa4 }, /*  65:  1.1548937e-03 -1.0184893e-04  3.4555458e-05 */
+    { 0x42ef1f01,0x37cae19e,0x37c34492 }, /*  66:  1.1956055e+02  2.4185338e-05  2.3277742e-05 */
+    { 0xbf9c9d81,0xbf09569f,0xbe1a3710 }, /*  67: -1.2235566e+00 -5.3647798e-01 -1.5060067e-01 */
+    { 0x41788778,0xc0a80cb5,0x40a0f586 }, /*  68:  1.5533073e+01 -5.2515512e+00  5.0299711e+00 */
+    { 0x47d34e44,0x3ef8cabd,0x3ef5175f }, /*  69:  1.0818853e+05  4.8592177e-01  4.7869393e-01 */
+    { 0x3e775824,0xa9a78f02,0x2992ae02 }, /*  70:  2.4154717e-01 -7.4410977e-14  6.5138880e-14 */
+    { 0xc21edbe2,0x3fc043ee,0xbf292c28 }, /*  71: -3.9714729e+01  1.5020730e+00 -6.6083002e-01 */
+    { 0x4195ac16,0x3fb82265,0x3c011f80 }, /*  72:  1.8709026e+01  1.4385496e+00  7.8810453e-03 */
+    { 0x400710cc,0x3f1e4588,0x3e82e530 }, /*  73:  2.1104002e+00  6.1824846e-01  2.5565481e-01 */
+    { 0x3f1b5b0b,0xbcceb6f1,0x3aa3ac80 }, /*  74:  6.0685796e-01 -2.5233718e-02  1.2487322e-03 */
+    { 0x3fd53aa1,0x3eef61da,0x3e86c4f6 }, /*  75:  1.6658517e+00  4.6754342e-01  2.6322144e-01 */
+    { 0x3f1ac8da,0xbf111c39,0x3d1aca10 }, /*  76:  6.0462725e-01 -5.6683689e-01  3.7790358e-02 */
+    { 0x41c346ae,0x3f277078,0x3e5651a0 }, /*  77:  2.4409512e+01  6.5405989e-01  2.0929575e-01 */
+    { 0x4190291f,0x40c50d89,0x40b6896a }, /*  78:  1.8020079e+01  6.1579022e+00  5.7042742e+00 */
+    { 0xc006db37,0x3f1d1b3a,0xbe88365c }, /*  79: -2.1071298e+00  6.1369669e-01 -2.6603973e-01 */
+    { 0x3f44eb4e,0x3dc7be93,0x3db1246b }, /*  80:  7.6921546e-01  9.7531460e-02  8.6495243e-02 */
+    { 0xc0c2be7e,0xbf113c64,0xbed33010 }, /*  81: -6.0857534e+00 -5.6732774e-01 -4.1247606e-01 */
+    { 0xc0014cba,0x3d75c710,0xbd248570 }, /*  82: -2.0203080e+00  6.0004294e-02 -4.0166318e-02 */
+    { 0xc13640eb,0xbffe30e3,0xbfbb12e9 }, /*  83: -1.1390849e+01 -1.9858669e+00 -1.4615146e+00 */
+    { 0x40e5dbd1,0xc0743189,0x40578619 }, /*  84:  7.1830831e+00 -3.8155234e+00  3.3675597e+00 */
+    { 0x3fe3e016,0xbe361e9b,0x3ae75100 }, /*  85:  1.7802761e+00 -1.7785113e-01  1.7648041e-03 */
+    { 0xbfe57dcd,0x3ce3acea,0xbc687180 }, /*  86: -1.7929016e+00  2.7792413e-02 -1.4187217e-02 */
+    { 0xc12247a5,0x3e08f6ce,0xbde335cc }, /*  87: -1.0142491e+01  1.3375399e-01 -1.1094245e-01 */
+    { 0xbe3ae7f9,0xbb920bf5,0xbb8b20d8 }, /*  88: -1.8252553e-01 -4.4569918e-03 -4.2458586e-03 */
+    { 0xc299c267,0xbdd041af,0xbb746680 }, /*  89: -7.6879692e+01 -1.0168778e-01 -3.7292540e-03 */
+    { 0xbd62fd07,0x3942bf85,0xb8942c5c }, /*  90: -5.5417087e-02  1.8572628e-04 -7.0654525e-05 */
+    { 0x4a8073db,0x3dc72e1d,0x3d63eeb4 }, /*  91:  4.2091335e+06  9.7255923e-02  5.5647567e-02 */
+    { 0xc08639a9,0x39ffc0e5,0xb9b1b4d2 }, /*  92: -4.1945386e+00  4.8781108e-04 -3.3894792e-04 */
+    { 0x3fcfc3ef,0xbcf90092,0x3c47bb0c }, /*  93:  1.6231669e+00 -3.0395780e-02  1.2190592e-02 */
+    { 0xc088bd27,0x3ff4a469,0xbee6af28 }, /*  94: -4.2730899e+00  1.9112674e+00 -4.5055509e-01 */
+    { 0x3ffd2161,0x3fcedb13,0x3eb91938 }, /*  95:  1.9775811e+00  1.6160606e+00  3.6152053e-01 */
+    { 0x44022ad5,0x3d385bca,0x39c41000 }, /*  96:  5.2066925e+02  4.5009412e-02  3.7395954e-04 */
+    { 0x3fe6f5e3,0xbde828c3,0x3dd4fac3 }, /*  97:  1.8043789e+00 -1.1335900e-01  1.0399392e-01 */
+    { 0xc19025ec,0x3fe506de,0xbe00d0a0 }, /*  98: -1.8018517e+01  1.7892721e+00 -1.2579584e-01 */
+    { 0xc0e3b295,0xbff2e5f1,0xbfb61881 }, /*  99: -7.1155496e+00 -1.8976423e+00 -1.4226228e+00 */
+    { 0xc1384bc9,0x40fadda3,0xc06b73de }, /* 100: -1.1518502e+01  7.8395553e+00 -3.6789470e+00 */
+    { 0x44075ae8,0xc38d825e,0x43813372 }, /* 101:  5.4142041e+02 -2.8301849e+02  2.5840192e+02 */
+    { 0xbff4863f,0x3f1f299b,0xbd38fad0 }, /* 102: -1.9103469e+00  6.2172860e-01 -4.5161068e-02 */
+    { 0x3e61c8bc,0xbd21abad,0x3cbd911e }, /* 103:  2.2049230e-01 -3.9470363e-02  2.3140486e-02 */
+    { 0x3ff08494,0x3df13bcf,0x3de5c81f }, /* 104:  1.8790460e+00  1.1778986e-01  1.1219811e-01 */
+    { 0x3f78994c,0xbb4dd2a3,0x3a283504 }, /* 105:  9.7108912e-01 -3.1406067e-03  6.4165913e-04 */
+    { 0x64c835dd,0xbfd06b6c,0x3e9ea9f0 }, /* 106:  2.9545841e+22 -1.6282783e+00  3.0989027e-01 */
+    { 0xc0b78ce8,0x3fddc5b3,0xbf09c50e }, /* 107: -5.7359505e+00  1.7325958e+00 -5.3816307e-01 */
+    { 0xc2a16fd3,0xbe737ac6,0xbde8239c }, /* 108: -8.0718407e+01 -2.3777303e-01 -1.1334917e-01 */
+    { 0x40027b79,0xbddf31c1,0x3d9def8e }, /* 109:  2.0387862e+00 -1.0898162e-01  7.7117071e-02 */
+    { 0xbfa85bbb,0xbdd15422,0xbdb5ca18 }, /* 110: -1.3152994e+00 -1.0221125e-01 -8.8764369e-02 */
+    { 0x3ff19483,0x3cf98b2c,0x3ceef744 }, /* 111:  1.8873447e+00  3.0461870e-02  2.9170640e-02 */
+    { 0xbfe2a473,0x3fdad60f,0xbd79cc80 }, /* 112: -1.7706436e+00  1.7096575e+00 -6.0986042e-02 */
+    { 0x4121c613,0x406dfe6b,0x402b1b76 }, /* 113:  1.0110858e+01  3.7186534e+00  2.6735511e+00 */
+    { 0x41de7694,0x3e2f0ffd,0x3de657cc }, /* 114:  2.7807899e+01  1.7095943e-01  1.1247215e-01 */
+    { 0x3ff0a2e4,0x3f3a302d,0x3ed9cadc }, /* 115:  1.8799710e+00  7.2729760e-01  4.2537582e-01 */
+    { 0x59ba30b1,0x3ceda091,0x3ca725c7 }, /* 116:  6.5509853e+15  2.9007228e-02  2.0403756e-02 */
+    { 0x3dcda3e7,0xa458c0dc,0x22a73b20 }, /* 117:  1.0041028e-01 -4.7000892e-17  4.5328042e-18 */
+    { 0xc18c9429,0xbdf7f4a2,0xbc8a64f8 }, /* 118: -1.7572344e+01 -1.2107207e-01 -1.6893849e-02 */
+    { 0x40aadacb,0x3a319a29,0x3a0821f8 }, /* 119:  5.3392081e+00  6.7749858e-04  5.1930500e-04 */
+    { 0xc6503685,0x390d392d,0xb73710d0 }, /* 120: -1.3325630e+04  1.3468107e-04 -1.0911564e-05 */
+    { 0x3d2c68fb,0xb0399aeb,0x301891f6 }, /* 121:  4.2092305e-02 -6.7522760e-10  5.5504701e-10 */
+    { 0xbfeee8d8,0xbda047ac,0xbd881d0c }, /* 122: -1.8664808e+00 -7.8261703e-02 -6.6461653e-02 */
+    { 0x3fc1eca0,0x34482799,0x33fae8ce }, /* 123:  1.5150337e+00  1.8640857e-07  1.1683879e-07 */
+    { 0xbff6dae2,0xbf58516b,0xbe744bb8 }, /* 124: -1.9285548e+00 -8.4499234e-01 -2.3857009e-01 */
+    { 0x468a37a7,0x3bff9520,0x3bc6e880 }, /* 125:  1.7691826e+04  7.7997595e-03  6.0701966e-03 */
+    { 0x430a8583,0x414d0bc3,0x4125e292 }, /* 126:  1.3852153e+02  1.2815372e+01  1.0367815e+01 */
+    { 0x410b86f4,0x3b2e50b3,0x3ac3d7ec }, /* 127:  8.7204475e+00  2.6598393e-03  1.4941669e-03 */
+    { 0xc544009b,0x3dfbe3a0,0xbdbb9560 }, /* 128: -3.1360378e+03  1.2299275e-01 -9.1593504e-02 */
+    { 0xc3f19c06,0xbe4030f3,0xbde8096c }, /* 129: -4.8321893e+02 -1.8768673e-01 -1.1329922e-01 */
+    { 0xbf389c95,0xb984a2d4,0xb90fd7b0 }, /* 130: -7.2113925e-01 -2.5298318e-04 -1.3717893e-04 */
+    { 0xc0abe465,0xbf3115fb,0xbf07894b }, /* 131: -5.3716302e+00 -6.9174165e-01 -5.2943867e-01 */
+    { 0x3f4bf1c8,0xbd901dfa,0x3cb91208 }, /* 132:  7.9665804e-01 -7.0369676e-02  2.2591606e-02 */
+    { 0x4208c25e,0xbfd23ac4,0x3fabb470 }, /* 133:  3.4189812e+01 -1.6424184e+00  1.3414440e+00 */
+    { 0xc689ad34,0xbff4b72f,0xbf95acd1 }, /* 134: -1.7622602e+04 -1.9118403e+00 -1.1693364e+00 */
+    { 0x43ee47ab,0xbf22d7e8,0x3ded21c0 }, /* 135:  4.7655991e+02 -6.3610697e-01  1.1578703e-01 */
+    { 0xc27306a6,0xc00cda11,0xbfaad52a }, /* 136: -6.0756493e+01 -2.2008097e+00 -1.3346303e+00 */
+    { 0xcd15e01f,0xbf13d66c,0xbea04088 }, /* 137: -1.5715582e+08 -5.7749057e-01 -3.1299233e-01 */
+    { 0xc11fd65a,0x38d68689,0xb7f7f6d8 }, /* 138: -9.9898319e+00  1.0229374e-04 -2.9559640e-05 */
+    { 0xc2f0cf31,0x42b7c13c,0xc1e437d4 }, /* 139: -1.2040467e+02  9.1877411e+01 -2.8527260e+01 */
+    { 0xc36c5061,0x3e68d81f,0xbd7178bc }, /* 140: -2.3631398e+02  2.2738694e-01 -5.8953032e-02 */
+    { 0xbfe5caf4,0xbf26d78f,0xbefbcd94 }, /* 141: -1.7952561e+00 -6.5172666e-01 -4.9180281e-01 */
+    { 0xc44c25b9,0x3d1aa6f8,0xbcad4db0 }, /* 142: -8.1658942e+02  3.7756890e-02 -2.1155208e-02 */
+    { 0xbfbb733b,0xbf35fd3d,0xbd2ebfc0 }, /* 143: -1.4644541e+00 -7.1089536e-01 -4.2663336e-02 */
+    { 0x3dbefe5d,0xbbc66515,0x3b1ff32a }, /* 144:  9.3258597e-02 -6.0545304e-03  2.4406412e-03 */
+    { 0x3fd6dc07,0xbfd51922,0x3c617280 }, /* 145:  1.6785897e+00 -1.6648295e+00  1.3760209e-02 */
+    { 0x585fd24f,0x411ea4d0,0x3e09f000 }, /* 146:  9.8437745e+14  9.9152374e+00  1.3470459e-01 */
+    { 0xc14ca4e6,0x3f4bf63c,0xbd2eaa00 }, /* 147: -1.2790258e+01  7.9672599e-01 -4.2642593e-02 */
+    { 0xbfd2ca0f,0x3f96a895,0xbef085e8 }, /* 148: -1.6467913e+00  1.1770197e+00 -4.6977162e-01 */
+    { 0xbfc13d24,0xbeeed355,0xbde1ea44 }, /* 149: -1.5096784e+00 -4.6645609e-01 -1.1031011e-01 */
+    { 0x58edd2d1,0x3d4836ba,0x3c681d38 }, /* 150:  2.0919176e+15  4.8880316e-02  1.4167123e-02 */
+    { 0xc955dd17,0xaa7f69bc,0xaa135c28 }, /* 151: -8.7598544e+05 -2.2685234e-13 -1.3088196e-13 */
+    { 0x43dbddb1,0x40c46b70,0x407b4060 }, /* 152:  4.3973196e+02  6.1381149e+00  3.9258041e+00 */
+    { 0xc1b6f125,0x3c3716c9,0xbb821b24 }, /* 153: -2.2867746e+01  1.1174866e-02 -3.9705206e-03 */
+    { 0x43122972,0x41a1d065,0x40926334 }, /* 154:  1.4616190e+02  2.0226755e+01  4.5746098e+00 */
+    { 0x41977b66,0x407b6a42,0x404e3228 }, /* 155:  1.8935253e+01  3.9283605e+00  3.2218113e+00 */
+    { 0xbf146e3a,0xbb755acf,0xbb55997a }, /* 156: -5.7980692e-01 -3.7438159e-03 -3.2592700e-03 */
+    { 0xc2197455,0xbf1f8918,0xbeb2d510 }, /* 157: -3.8363605e+01 -6.2318563e-01 -3.4928179e-01 */
+    { 0xc3a622db,0x3bf0f455,0xbb847cd6 }, /* 158: -3.3227231e+02  7.3533454e-03 -4.0432019e-03 */
+    { 0xc41e8f41,0xbf1d7c92,0xbf19d094 }, /* 159: -6.3423834e+02 -6.1518204e-01 -6.0083890e-01 */
+    { 0xc181a72b,0xbb00bb8f,0xba920334 }, /* 160: -1.6206625e+01 -1.9643044e-03 -1.1139871e-03 */
+    { 0xc0f1853b,0xbd6f419c,0xbc4a3790 }, /* 161: -7.5475135e+00 -5.8412179e-02 -1.2342349e-02 */
+    { 0xcb6ea1c4,0xbd9a279c,0xbcbf0390 }, /* 162: -1.5638980e+07 -7.5270861e-02 -2.3317128e-02 */
+    { 0x73668a55,0x3ff49a22,0x3fa2a122 }, /* 163:  1.8265289e+31  1.9109538e+00  1.2705424e+00 */
+    { 0xc22bcab4,0xb3abdc53,0xb2ca4b40 }, /* 164: -4.2947952e+01 -8.0028848e-08 -2.3550115e-08 */
+    { 0x40ad9f54,0xbe8fdd73,0x3db216dc }, /* 165:  5.4256992e+00 -2.8098640e-01  8.6957663e-02 */
+    { 0x425466dd,0xc1f136a1,0x41b79719 }, /* 166:  5.3100452e+01 -3.0151674e+01  2.2948778e+01 */
+    { 0xbfd59655,0x3d2bd46a,0xbd056e7a }, /* 167: -1.6686503e+00  4.1950621e-02 -3.2576062e-02 */
+    { 0xc7b158bc,0x3a50642a,0xb9a72a68 }, /* 168: -9.0801469e+04  7.9494959e-04 -3.1884317e-04 */
+    { 0x4fa65978,0x3dcb65e5,0x3d8c0374 }, /* 169:  5.5817626e+09  9.9315442e-02  6.8365961e-02 */
+    { 0xc377d76c,0x3be5da80,0xbb2b2c00 }, /* 170: -2.4784149e+02  7.0145726e-03 -2.6118755e-03 */
+    { 0xc1482822,0xbfd252e5,0xbf80fccd }, /* 171: -1.2509798e+01 -1.6431547e+00 -1.0077149e+00 */
+    { 0x40e6adfc,0xbdff25a1,0x3ddc1e27 }, /* 172:  7.2087383e+00 -1.2458349e-01  1.0747939e-01 */
+    { 0xc1e07c1f,0x40ebf639,0xc0be0dd1 }, /* 173: -2.8060606e+01  7.3738065e+00 -5.9391866e+00 */
+    { 0xc10ada6a,0xbdc0ad78,0xbcbb7780 }, /* 174: -8.6783237e+00 -9.4080865e-02 -2.2884130e-02 */
+    { 0x413a966e,0x3f0eac92,0x3f03eb78 }, /* 175:  1.1661726e+01  5.5732071e-01  5.1531172e-01 */
+    { 0x42efff8d,0x3f423599,0x3e0ac848 }, /* 176:  1.1999912e+02  7.5863034e-01  1.3552964e-01 */
+    { 0xbfe0de7a,0xbf316c55,0xbebdc894 }, /* 177: -1.7567894e+00 -6.9305927e-01 -3.7067091e-01 */
+    { 0xbf244d25,0xbd112d4c,0xbb7a2f80 }, /* 178: -6.4180213e-01 -3.5443589e-02 -3.8175285e-03 */
+    { 0x496616f2,0x3fbb0939,0x3eb4ceec }, /* 179:  9.4244712e+05  1.4612190e+00  3.5314119e-01 */
+    { 0x3fe4db61,0x3ce804e8,0x3b6d1940 }, /* 180:  1.7879449e+00  2.8322652e-02  3.6178380e-03 */
+    { 0xc3e2a350,0xbd974410,0xbd8da080 }, /* 181: -4.5327588e+02 -7.3860288e-02 -6.9153786e-02 */
+    { 0x4681cd4c,0xbff64728,0x3f01bb90 }, /* 182:  1.6614648e+04 -1.9240465e+00  5.0676823e-01 */
+    { 0xbe643b2a,0xba851734,0xba057708 }, /* 183: -2.2288194e-01 -1.0154010e-03 -5.0912844e-04 */
+    { 0xc1bc8de6,0xc0ceb10b,0xc0862477 }, /* 184: -2.3569286e+01 -6.4591117e+00 -4.1919513e+00 */
+    { 0x3f0cb344,0xb9ee3171,0x39b2a157 }, /* 185:  5.4961038e-01 -4.5431734e-04  3.4071013e-04 */
+    { 0xbfdbac54,0xbe0ada1c,0xbdb652a0 }, /* 186: -1.7161965e+00 -1.3559765e-01 -8.9024782e-02 */
+    { 0x4afd7338,0xbf99f55d,0x3eb2d844 }, /* 187:  8.3050520e+06 -1.2028004e+00  3.4930623e-01 */
+    { 0x3f0fea10,0xbf09b98f,0x3cc61020 }, /* 188:  5.6216526e-01 -5.3798765e-01  2.4177611e-02 */
+    { 0xc29efcaa,0xbf121351,0xbe376014 }, /* 189: -7.9493484e+01 -5.7060724e-01 -1.7907745e-01 */
+    { 0xcf8400f0,0xbcb6b503,0xb8181c00 }, /* 190: -4.4293079e+09 -2.2303110e-02 -3.6265701e-05 */
+    { 0xc3401bb7,0xbfe3bee4,0xbfdd1234 }, /* 191: -1.9210826e+02 -1.7792630e+00 -1.7271180e+00 */
+    { 0x423a2a6f,0xbf21949b,0x3eee771a }, /* 192:  4.6541439e+01 -6.3117379e-01  4.6575242e-01 */
+    { 0xc795f03c,0x3ff91f45,0xbfef2be1 }, /* 193: -7.6768469e+04  1.9462668e+00 -1.8685266e+00 */
+    { 0xbf479377,0xbd125972,0xbcefc22c }, /* 194: -7.7959388e-01 -3.5729833e-02 -2.9267393e-02 */
+    { 0x4170d466,0x3f13e8c1,0x3cf458c0 }, /* 195:  1.5051855e+01  5.7777029e-01  2.9827476e-02 */
+    { 0xd0a9bcda,0x389f9c15,0xb7f9edec }, /* 196: -2.2781809e+10  7.6107834e-05 -2.9793904e-05 */
+    { 0x3f033f51,0xbe913ce6,0x3e6a8378 }, /* 197:  5.1268488e-01 -2.8366774e-01  2.2901714e-01 */
+    { 0x40b5a93d,0x3b58f1f1,0x3b46086e }, /* 198:  5.6769090e+00  3.3103193e-03  3.0217427e-03 */
+    { 0x45bc42a1,0xbe41acc4,0x3e2e5a14 }, /* 199:  6.0243286e+03 -1.8913561e-01  1.7026550e-01 */
+    { 0x40d31fd3,0xbf9fd286,0x3eb58ab8 }, /* 200:  6.5976348e+00 -1.2486122e+00  3.5457397e-01 */
+    { 0xc0726140,0x3fa4e813,0xbf9af25a }, /* 201: -3.7871857e+00  1.2883323e+00 -1.2105210e+00 */
+    { 0x3cd5577c,0x3a013427,0x39d8af28 }, /* 202:  2.6042692e-02  4.9287308e-04  4.1329232e-04 */
+    { 0xbfd2907f,0xbd5b1eb3,0xbd2476e6 }, /* 203: -1.6450347e+00 -5.3496074e-02 -4.0152453e-02 */
+    { 0xc13f2b13,0x3fdf120a,0xbfbeec5c }, /* 204: -1.1948016e+01  1.7427380e+00 -1.4915881e+00 */
+    { 0xc1cb0cd6,0x40b87c67,0xc0148378 }, /* 205: -2.5381268e+01  5.7651858e+00 -2.3205242e+00 */
+    { 0x43317186,0x40a94dce,0x40365264 }, /* 206:  1.7744345e+02  5.2907476e+00  2.8487787e+00 */
+    { 0x3d37280d,0x3d275e6b,0x3b7c9a20 }, /* 207:  4.4715930e-02  4.0861528e-02  3.8544014e-03 */
+    { 0xc2e708f5,0x3bf88996,0xbacfd8b0 }, /* 208: -1.1551749e+02  7.5847609e-03 -1.5857425e-03 */
+    { 0x40aa1213,0x348cb092,0x3357ce20 }, /* 209:  5.3147063e+00  2.6205504e-07  5.0246058e-08 */
+    { 0xbf2fd349,0x3e3a232e,0xbe10e39a }, /* 210: -6.8681771e-01  1.8177482e-01 -1.4149323e-01 */
+    { 0xcc29266f,0x41d7ee1c,0xc1313a00 }, /* 211: -4.4341692e+07  2.6991264e+01 -1.1076660e+01 */
+    { 0x4251f5c2,0x301411e1,0x2f54e59c }, /* 212:  5.2489998e+01  5.3867494e-10  1.9362861e-10 */
+    { 0x3fb21ac1,0x3f03537f,0x3ebb1d08 }, /* 213:  1.3914415e+00  5.1299280e-01  3.6545587e-01 */
+    { 0xd0c8eacb,0x3faa29c3,0xbf0e1cd4 }, /* 214: -2.6966645e+10  1.3293995e+00 -5.5512738e-01 */
+    { 0x41faeb6a,0x3e84b733,0x3a06ca00 }, /* 215:  3.1364948e+01  2.5921020e-01  5.1417947e-04 */
+    { 0x3fec798f,0xbbfe2f23,0x3aa6f1d8 }, /* 216:  1.8474597e+00 -7.7570840e-03  1.2736870e-03 */
+    { 0x42b293c8,0xc1140785,0x40c0b526 }, /* 217:  8.9288635e+01 -9.2518358e+00  6.0221128e+00 */
+    { 0x44ca29d5,0x3c8c2d63,0x3c78848e }, /* 218:  1.6173073e+03  1.7111486e-02  1.5168322e-02 */
+    { 0x40b71497,0xbf44b1cd,0x3eaf903a }, /* 219:  5.7212634e+00 -7.6833802e-01  3.4289724e-01 */
+    { 0xc1708ab9,0x3efbb502,0xbe9220e4 }, /* 220: -1.5033868e+01  4.9161536e-01 -2.8540719e-01 */
+    { 0x421dcb7f,0xc0c80f68,0x3ff7fe20 }, /* 221:  3.9448727e+01 -6.2518806e+00  1.9374428e+00 */
+    { 0xc7b3aeb5,0xbe864639,0xbddaa618 }, /* 222: -9.1997414e+04 -2.6225451e-01 -1.0676211e-01 */
+    { 0x41da233b,0x409d75d7,0x402a7f72 }, /* 223:  2.7267202e+01  4.9206347e+00  2.6640286e+00 */
+    { 0xc15ad0fa,0xc0c6fca8,0xbf9ea290 }, /* 224: -1.3676020e+01 -6.2183418e+00 -1.2393360e+00 */
+    { 0x418055c6,0xbfef1003,0x3f8cdc48 }, /* 225:  1.6041882e+01 -1.8676761e+00  1.1004725e+00 */
+    { 0xc01e0299,0xbf1cc39a,0xbc9f7f80 }, /* 226: -2.4689085e+00 -6.1235964e-01 -1.9469976e-02 */
+    { 0xc117ed5f,0x3578c51b,0xb55f132c }, /* 227: -9.4954519e+00  9.2674026e-07 -8.3101872e-07 */
+    { 0x408cb1c9,0x3e4c1870,0x3c41f800 }, /* 228:  4.3967023e+00  1.9931197e-01  1.1838913e-02 */
+    { 0x3fe796c7,0x3ddd6902,0x3da2dc50 }, /* 229:  1.8092889e+00  1.0811044e-01  7.9521775e-02 */
+    { 0xc228972e,0x41f4b424,0xc138f470 }, /* 230: -4.2147636e+01  3.0587959e+01 -1.1559677e+01 */
+    { 0x3f5d208b,0xbe12317a,0x3beb2a00 }, /* 231:  8.6377782e-01 -1.4276686e-01  7.1766376e-03 */
+    { 0x40082a87,0x3d9c1136,0x3d8f802e }, /* 232:  2.1275957e+00  7.6204702e-02  7.0068702e-02 */
+    { 0xca338a7a,0xbdfbd3a0,0xbdbec620 }, /* 233: -2.9415985e+06 -1.2296224e-01 -9.3151331e-02 */
+    { 0xc0bc856f,0x3ff25e2a,0xbe57d9f0 }, /* 234: -5.8912883e+00  1.8934987e+00 -2.1079230e-01 */
+    { 0xd3cec742,0xd045586a,0xcebacc20 }, /* 235: -1.7762125e+12 -1.3243623e+10 -1.5669699e+09 */
+    { 0xc126d8b0,0xbd363d1b,0xbc89aaa4 }, /* 236: -1.0427902e+01 -4.4491868e-02 -1.6805001e-02 */
+    { 0xc3443fab,0x3c3e4dc4,0xbc1c85c4 }, /* 237: -1.9624870e+02  1.1615220e-02 -9.5533766e-03 */
+    { 0xc0843c86,0x3ff2f20f,0xbeac37e8 }, /* 238: -4.1323881e+00  1.8980120e+00 -3.3636403e-01 */
+    { 0xd19474ca,0x3e991cab,0xbca1bae0 }, /* 239: -7.9701819e+10  2.9904684e-01 -1.9742429e-02 */
+    { 0xc8227b14,0xc00f4355,0xbeeea0e8 }, /* 240: -1.6638031e+05 -2.2384846e+00 -4.6607137e-01 */
+    { 0xc4dcaa20,0x3d184997,0xbcfec470 }, /* 241: -1.7653164e+03  3.7179556e-02 -3.1099528e-02 */
+    { 0xc1a26a8c,0xbe425c68,0xbe3b02f0 }, /* 242: -2.0302025e+01 -1.8980563e-01 -1.8262839e-01 */
+    { 0xbfe811d9,0x33402f3d,0xb1142f20 }, /* 243: -1.8130447e+00  4.4746447e-08 -2.1563622e-09 */
+    { 0x556d56da,0x41f0bff3,0x413113e2 }, /* 244:  1.6309830e+13  3.0093725e+01  1.1067354e+01 */
+    { 0x3e5b8235,0xbdec1c85,0x3dcae7e5 }, /* 245:  2.1436389e-01 -1.1528877e-01  9.9075116e-02 */
+    { 0x4075eff2,0xbf150e59,0x3eb2d364 }, /* 246:  3.8427701e+00 -5.8225018e-01  3.4926903e-01 */
+    { 0x3f61456d,0x3e6785db,0x3e4e8423 }, /* 247:  8.7996560e-01  2.2609656e-01  2.0167594e-01 */
+    { 0x4491438c,0xbda31e7a,0x3d4025e8 }, /* 248:  1.1621108e+03 -7.9647973e-02  4.6911150e-02 */
+    { 0x40cf51ac,0xbf101212,0x3e938d34 }, /* 249:  6.4787197e+00 -5.6277573e-01  2.8818667e-01 */
+    { 0xc51e127e,0xbc87fe3b,0xbb48bd00 }, /* 250: -2.5291558e+03 -1.6600719e-02 -3.0630231e-03 */
+    { 0xbf48bc61,0x3be7ddc2,0xbbbce724 }, /* 251: -7.8412443e-01  7.0759961e-03 -5.7648588e-03 */
+    { 0xcd1f9a53,0xc2f2541a,0xc2d242ee }, /* 252: -1.6735570e+08 -1.2116426e+02 -1.0513072e+02 */
+    { 0x41246f20,0xbc517c06,0x3c24792e }, /* 253:  1.0277130e+01 -1.2785917e-02  1.0038657e-02 */
+    { 0x3f0fa7a6,0x36e60287,0x35ff4a58 }, /* 254:  5.6115186e-01  6.8548284e-06  1.9020617e-06 */
+    { 0xbf4e92d9,0xb2a90fc7,0xb19fcbe0 }, /* 255: -8.0692822e-01 -1.9681364e-08 -4.6506869e-09 */
+    { 0x4118142f,0xbfde9c64,0x3f4f2708 }, /* 256:  9.5049276e+00 -1.7391477e+00  8.0918932e-01 */
+    { 0x3ff87a86,0xbe3f0ed5,0x3d9a7fbc }, /* 257:  1.9412391e+00 -1.8658002e-01  7.5438946e-02 */
+    { 0xbffb2e80,0xbe520da4,0xbdedf278 }, /* 258: -1.9623566e+00 -2.0513016e-01 -1.1618513e-01 */
+    { 0x409dbd0f,0xbea8d441,0x3ea03562 }, /* 259:  4.9293284e+00 -3.2974437e-01  3.1290728e-01 */
+    { 0xbfc1c2e9,0xbfb533e0,0xbdc8f090 }, /* 260: -1.5137607e+00 -1.4156456e+00 -9.8115087e-02 */
+    { 0xc1c68d41,0xb6af46ed,0xb6a7095b }, /* 261: -2.4818972e+01 -5.2236633e-06 -4.9780770e-06 */
+    { 0x3e6feaf4,0x3d709eef,0x3d6dcf03 }, /* 262:  2.3429471e-01  5.8745321e-02  5.8058750e-02 */
+    { 0xbf2124e3,0x3dd0cf6c,0xbc912a40 }, /* 263: -6.2946910e-01  1.0195813e-01 -1.7720342e-02 */
+    { 0x3f19a785,0xbd60fee2,0x3d50837c }, /* 264:  6.0021240e-01 -5.4930575e-02  5.0906643e-02 */
+    { 0xbde4c0c9,0x847a7f08,0x841e62e8 }, /* 265: -1.1169583e-01 -2.9445689e-36 -1.8618226e-36 */
+    { 0xd8d2c143,0xc0e7c4a6,0xbfa15e60 }, /* 266: -1.8538200e+15 -7.2427549e+00 -1.2606926e+00 */
+    { 0xbe4c1d2e,0x17c67e50,0x97754a40 }, /* 267: -1.9933006e-01  1.2827336e-24 -7.9257486e-25 */
+    { 0x5002583b,0x3291b195,0x311645a0 }, /* 268:  8.7472814e+09  1.6960977e-08  2.1867450e-09 */
+    { 0x410f37f3,0xbd4c0850,0x3d0e2310 }, /* 269:  8.9511595e+00 -4.9812615e-02  3.4701407e-02 */
+    { 0xbef399a4,0x3e75f87c,0xbe713acc }, /* 270: -4.7578156e-01  2.4020571e-01 -2.3557585e-01 */
+    { 0x462477e0,0xbcdddb2a,0x3c8fbafe }, /* 271:  1.0525969e+04 -2.7082045e-02  1.7545220e-02 */
+    { 0xbfebc9f5,0x3e020d6a,0xbd8327b8 }, /* 272: -1.8421007e+00  1.2700430e-01 -6.4040601e-02 */
+    { 0x4499616e,0xbefc47e2,0x3e076798 }, /* 273:  1.2270447e+03 -4.9273592e-01  1.3223112e-01 */
+    { 0x3dd95e4b,0x398f0322,0x37e88560 }, /* 274:  1.0613688e-01  2.7277420e-04  2.7718663e-05 */
+    { 0xc5e457df,0x41076f1d,0xc000acf4 }, /* 275: -7.3069839e+03  8.4646273e+00 -2.0105562e+00 */
+    { 0x3fa7b18d,0x3dbdf529,0x3c3d8490 }, /* 276:  1.3101059e+00  9.2752762e-02  1.1567250e-02 */
+    { 0x3f480dd8,0x3dc0ed48,0x3ce41200 }, /* 277:  7.8146124e-01  9.4202578e-02  2.7840614e-02 */
+    { 0x4e087535,0x448f811a,0x448e47ba }, /* 278:  5.7234566e+08  1.1480344e+03  1.1382415e+03 */
+    { 0xc2074c68,0x3cbb868a,0xbc680b9c }, /* 279: -3.3824615e+01  2.2891302e-02 -1.4162924e-02 */
+    { 0x3fce78f3,0x3f08d8cd,0x3c19dfc0 }, /* 280:  1.6130661e+00  5.3455812e-01  9.3917251e-03 */
+    { 0xbde17f7c,0x3dc9f23f,0xbc3c69e8 }, /* 281: -1.1010644e-01  9.8606579e-02 -1.1499859e-02 */
+    { 0xc38c89f8,0xbf200016,0xbee792d4 }, /* 282: -2.8107788e+02 -6.2500131e-01 -4.5229208e-01 */
+    { 0xc0a35757,0xbb5683fb,0xbab9f4e6 }, /* 283: -5.1044116e+00 -3.2732475e-03 -1.4187365e-03 */
+    { 0xc123fed3,0x38855a95,0xb78a13dc }, /* 284: -1.0249713e+01  6.3588064e-05 -1.6460130e-05 */
+    { 0x3fc52028,0x3d0e4f0f,0x3c39b9b0 }, /* 285:  1.5400438e+00  3.4743365e-02  1.1335775e-02 */
+    { 0xc39be297,0x3e3c1020,0xbddba7c0 }, /* 286: -3.1177023e+02  1.8365526e-01 -1.0725355e-01 */
+    { 0xc26083aa,0xb4baccb0,0xb42dd7c0 }, /* 287: -5.6128578e+01 -3.4794130e-07 -1.6190370e-07 */
+    { 0x4440cd1b,0xbfebd9f3,0x3f80573a }, /* 288:  7.7120477e+02 -1.8425888e+00  1.0026619e+00 */
+    { 0x407be3de,0xbc81f248,0x3af39400 }, /* 289:  3.9357829e+00 -1.5862599e-02  1.8583536e-03 */
+    { 0xbfeeb458,0x3e51d7b5,0xbca86b18 }, /* 290: -1.8648787e+00  2.0492442e-01 -2.0558879e-02 */
+    { 0xcdf6275f,0xc1a5e23b,0xc188dd44 }, /* 291: -5.1622192e+08 -2.0735464e+01 -1.7108040e+01 */
+    { 0x51c0a1fa,0xb93a25af,0x37cd3500 }, /* 292:  1.0341890e+11 -1.7752381e-04  2.4462584e-05 */
+    { 0xc00b0928,0xbfec24ed,0xbea7b58c }, /* 293: -2.1724339e+00 -1.8448769e+00 -3.2755697e-01 */
+    { 0x407a3a1c,0xb545d25c,0x3534659c }, /* 294:  3.9097967e+00 -7.3694332e-07  6.7203086e-07 */
+    { 0xc0aead33,0x3f26d478,0xbe7b1760 }, /* 295: -5.4586425e+00  6.5167952e-01 -2.4520636e-01 */
+    { 0xbf1b16e4,0x3f04e6d8,0xbdb18060 }, /* 296: -6.0581803e-01  5.1914740e-01 -8.6670637e-02 */
+    { 0xc73c81c1,0x3f4d5546,0xbeee2744 }, /* 297: -4.8257754e+04  8.0208242e-01 -4.6514332e-01 */
+    { 0xbf0cfdad,0xbef0a5ce,0xbda55630 }, /* 298: -5.5074579e-01 -4.7001499e-01 -8.0730796e-02 */
+    { 0xc0ff9ffd,0x3fc4d4f8,0xbe995c70 }, /* 299: -7.9882798e+00  1.5377493e+00 -2.9953337e-01 */
+    { 0x58da9823,0xbf070104,0x3f0667bc }, /* 300:  1.9227757e+15 -5.2735925e-01  5.2502036e-01 */
+    { 0x3feaa3a2,0xbdfe268d,0x3dc41e6a }, /* 301:  1.8331187e+00 -1.2409697e-01  9.5761135e-02 */
+    { 0xc0fa3d79,0xbe40e898,0xbdc4dd90 }, /* 302: -7.8200040e+00 -1.8838727e-01 -9.6125722e-02 */
+    { 0xc1953315,0x3dd3ab2b,0xbd3d7588 }, /* 303: -1.8649942e+01  1.0335382e-01 -4.6254665e-02 */
+    { 0x3b42969c,0x229f3897,0x21216000 }, /* 304:  2.9691821e-03  4.3156953e-18  5.4675977e-19 */
+    { 0xe15b2e96,0xc1a0bc53,0xc0fed3fc }, /* 305: -2.5269961e+20 -2.0091955e+01 -7.9633770e+00 */
+    { 0x41b03f49,0xb3dd5521,0x32de1224 }, /* 306:  2.2030901e+01 -1.0306599e-07  2.5852451e-08 */
+    { 0xc1ae0d74,0x40bc1144,0xc0840204 }, /* 307: -2.1756569e+01  5.8771076e+00 -4.1252460e+00 */
+    { 0x3f350d16,0xbf22b655,0x3d92b608 }, /* 308:  7.0723093e-01 -6.3559467e-01  7.1636260e-02 */
+    { 0xbfc9d87b,0x30845c87,0xae64edc0 }, /* 309: -1.5769190e+00  9.6305619e-10 -5.2052362e-11 */
+    { 0xc1a4c559,0xbd8c3426,0xbd7078f0 }, /* 310: -2.0596361e+01 -6.8458840e-02 -5.8709085e-02 */
+    { 0xbce11098,0x36ee2912,0xb6b8a1e4 }, /* 311: -2.7473733e-02  7.0977339e-06 -5.5024739e-06 */
+    { 0x59fa2a70,0x46be8297,0x4692f6c3 }, /* 312:  8.8019256e+15  2.4385295e+04  1.8811381e+04 */
+    { 0xc155417c,0x3f6c47eb,0xbed051cc }, /* 313: -1.3328487e+01  9.2297238e-01 -4.0687406e-01 */
+    { 0x41157105,0x3b692dbe,0x39923610 }, /* 314:  9.3400927e+00  3.5580243e-03  2.7887570e-04 */
+    { 0x3feedabb,0xbfaaf934,0x3f07c30e }, /* 315:  1.8660501e+00 -1.3357301e+00  5.3032005e-01 */
+    { 0xbf295e79,0xae7cda80,0xaddf4000 }, /* 316: -6.6159779e-01 -5.7492233e-11 -2.5380587e-11 */
+    { 0x43237260,0xbd1d50e0,0x3cc589c0 }, /* 317:  1.6344678e+02 -3.8407207e-02  2.4113536e-02 */
+    { 0x3facc5ec,0x3de0f647,0x3d01a6d8 }, /* 318:  1.3497901e+00  1.0984474e-01  3.1653255e-02 */
+    { 0x3fe318b3,0x3e7a2466,0x3d838d9c }, /* 319:  1.7741913e+00  2.4427947e-01  6.4234942e-02 */
+    { 0xc1cfd078,0x3cf5e922,0xbc32483c }, /* 320: -2.5976791e+01  3.0018393e-02 -1.0881480e-02 */
+    { 0xbfee72c0,0x3dc219ed,0xbd7e7ed2 }, /* 321: -1.8628769e+00  9.4776012e-02 -6.2132664e-02 */
+    { 0x4ff430e3,0xc5446080,0x4406d000 }, /* 322:  8.1936891e+09 -3.1420312e+03  5.3925000e+02 */
+    { 0x3fb83abe,0x3cbccec0,0x3c293a00 }, /* 323:  1.4392927e+00  2.3047805e-02  1.0328770e-02 */
+    { 0xbf52507c,0x398d55ae,0xb91a2bfc }, /* 324: -8.2154059e-01  2.6957452e-04 -1.4702970e-04 */
+    { 0xc4ab6153,0xbf1077a4,0xbe96d1d8 }, /* 325: -1.3710414e+03 -5.6432557e-01 -2.9456973e-01 */
+    { 0xc16deca3,0x409ab8ee,0xbebae7c0 }, /* 326: -1.4870273e+01  4.8350744e+00 -3.6504936e-01 */
+    { 0x44afb7a4,0xbfd875af,0x3ee233bc }, /* 327:  1.4057388e+03 -1.6910914e+00  4.4180095e-01 */
+    { 0xc0c05db7,0x394a74de,0xb92a70fc }, /* 328: -6.0114398e+00  1.9307758e-04 -1.6254553e-04 */
+    { 0xc1623a95,0x40c4ec53,0xbfea7210 }, /* 329: -1.4139302e+01  6.1538482e+00 -1.8316059e+00 */
+    { 0x3f0e7a22,0x2e25f406,0x2c201880 }, /* 330:  5.5655110e-01  3.7733393e-11  2.2750968e-12 */
+    { 0xbfd2517d,0x3f2b2eba,0xbe9c8b0c }, /* 331: -1.6431118e+00  6.6868174e-01 -3.0574834e-01 */
+    { 0xc1ca70e2,0x3e16087f,0xbdd57758 }, /* 332: -2.5305119e+01  1.4651679e-01 -1.0423154e-01 */
+    { 0x43be1c0b,0x3c390f22,0x3b469d10 }, /* 333:  3.8021909e+02  1.1295112e-02  3.0306019e-03 */
+    { 0xc0c16763,0x3e722653,0xbe072e45 }, /* 334: -6.0438704e+00  2.3647432e-01 -1.3201244e-01 */
+    { 0xc28a2433,0x3efc85e9,0xbcaf7940 }, /* 335: -6.9070702e+01  4.9320915e-01 -2.1420121e-02 */
+    { 0xbd3a46ab,0xa9a8153e,0xa78718a0 }, /* 336: -4.5477550e-02 -7.4643837e-14 -3.7496726e-15 */
+    { 0xbe281299,0x315aff95,0xb13622d3 }, /* 337: -1.6413344e-01  3.1868457e-09 -2.6504281e-09 */
+    { 0xc2b10767,0xbf356e47,0xbf22491c }, /* 338: -8.8514458e+01 -7.0871395e-01 -6.3392806e-01 */
+    { 0xbefdb86b,0x3d097f1d,0xbcd19f84 }, /* 339: -4.9554762e-01  3.3568490e-02 -2.5588758e-02 */
+    { 0x40e76f52,0x3e193ab6,0x3d4ba080 }, /* 340:  7.2323389e+00  1.4963803e-01  4.9713612e-02 */
+    { 0xc80accdd,0xc00390e3,0xbf93aa4e }, /* 341: -1.4213145e+05 -2.0557182e+00 -1.1536348e+00 */
+    { 0x4235ec47,0xbba34b29,0x3b3f10d4 }, /* 342:  4.5480740e+01 -4.9833250e-03  2.9154317e-03 */
+    { 0xc08c5dc0,0xbde863a8,0xbd98a510 }, /* 343: -4.3864441e+00 -1.1347133e-01 -7.4533582e-02 */
+    { 0x3f066df3,0x3ea717bb,0x3e4b8856 }, /* 344:  5.2511519e-01  3.2635292e-01  1.9876227e-01 */
+    { 0x3f191d43,0xbca2c618,0x3b038c80 }, /* 345:  5.9810275e-01 -1.9869849e-02  2.0072758e-03 */
+    { 0x40ca7898,0x3f4a51aa,0x3b9bb800 }, /* 346:  6.3272209e+00  7.9030859e-01  4.7521591e-03 */
+    { 0x3f2801a5,0xbb2a5385,0x3aaedc28 }, /* 347:  6.5627509e-01 -2.5989723e-03  1.3340758e-03 */
+    { 0xbfff7736,0xbf09f90d,0xbec2068a }, /* 348: -1.9958255e+00 -5.3895646e-01 -3.7895614e-01 */
+    { 0xbff5f6e9,0xbf1ccfeb,0xbdabf088 }, /* 349: -1.9215976e+00 -6.1254758e-01 -8.3954871e-02 */
+    { 0xbe2cdad9,0x3da20d43,0xbc2cd960 }, /* 350: -1.6880359e-01  7.9126857e-02 -1.0549873e-02 */
+    { 0x43666c27,0xbdaec642,0x3be37e80 }, /* 351:  2.3042247e+02 -8.5339084e-02  6.9425702e-03 */
+    { 0xbf3f0d48,0xbe3fff39,0xbe3c3775 }, /* 352: -7.4629641e-01 -1.8749703e-01 -1.8380530e-01 */
+    { 0x3e36bf70,0x3d2ec13c,0x3bffc680 }, /* 353:  1.7846465e-01  4.2664751e-02  7.8056455e-03 */
+    { 0x39fb5fe2,0x34dd705c,0x343f0cd0 }, /* 354:  4.7945889e-04  4.1246210e-07  1.7792922e-07 */
+    { 0x41a4f2d8,0x80ff3ad5,0x00339cc1 }, /* 355:  2.0618576e+01 -2.3439156e-38  4.7398430e-39 */
+    { 0xc1f67be4,0x3d73d9c3,0xbd010131 }, /* 356: -3.0810493e+01  5.9533846e-02 -3.1495277e-02 */
+    { 0x444e07f6,0xbc9834fd,0x3c2c5192 }, /* 357:  8.2412439e+02 -1.8579954e-02  1.0517495e-02 */
+    { 0x3f61ab63,0x92b17c83,0x11fee89c }, /* 358:  8.8152140e-01 -1.1200965e-27  4.0217491e-28 */
+    { 0x3fea6e26,0x21b7665d,0x20e63374 }, /* 359:  1.8314865e+00  1.2427658e-18  3.8997564e-19 */
+    { 0xc17466aa,0x3f12708b,0xbecdf904 }, /* 360: -1.5275064e+01  5.7202977e-01 -4.0229046e-01 */
+    { 0xc0bc2c2a,0x3d4b2c7c,0xbcdf27b0 }, /* 361: -5.8803911e+00  4.9602970e-02 -2.7240604e-02 */
+    { 0xc2f87a5c,0xc0f2df13,0xc0336920 }, /* 362: -1.2423898e+02 -7.5897307e+00 -2.8032913e+00 */
+    { 0xbf06d297,0xa71c0578,0xa67b7860 }, /* 363: -5.2665085e-01 -2.1652314e-15 -8.7246257e-16 */
+    { 0x59ab9ab4,0x40d58510,0x4055a760 }, /* 364:  6.0377899e+15  6.6724930e+00  3.3383408e+00 */
+    { 0xbe2b6055,0x3ddc6da6,0xbd74a608 }, /* 365: -1.6735967e-01  1.0763101e-01 -5.9728652e-02 */
+    { 0xbd18f97d,0xbcf9c670,0xbbe0b228 }, /* 366: -3.7347306e-02 -3.0490130e-02 -6.8571754e-03 */
+    { 0x3f1b0f4a,0x367fbd1f,0x35b65bfe }, /* 367:  6.0570204e-01  3.8108044e-06  1.3586830e-06 */
+    { 0x3f0de97b,0x3dfb8e13,0x3d81138c }, /* 368:  5.5434388e-01  1.2282958e-01  6.3025564e-02 */
+    { 0xbfda315d,0xbf354c96,0xbe93931c }, /* 369: -1.7046314e+00 -7.0819986e-01 -2.8823173e-01 */
+    { 0x40c7b0d8,0x3b3cc648,0x3aa235a0 }, /* 370:  6.2403374e+00  2.8804708e-03  1.2375601e-03 */
+    { 0x43de02f7,0x3de7613e,0x3c9278d0 }, /* 371:  4.4402316e+02  1.1297844e-01  1.7879874e-02 */
+    { 0xbfd702f5,0xbef6360a,0xbe72d36c }, /* 372: -1.6797777e+00 -4.8088104e-01 -2.3713464e-01 */
+    { 0xc12ec53f,0x338795e2,0xb2da7b20 }, /* 373: -1.0923156e+01  6.3136909e-08 -2.5434531e-08 */
+    { 0xbfdea308,0x3eff3664,0xbe79d1e8 }, /* 374: -1.7393503e+00  4.9846184e-01 -2.4396479e-01 */
+    { 0x41f9ae8a,0x3ff78325,0x3e8ad940 }, /* 375:  3.1210224e+01  1.9336897e+00  2.7118874e-01 */
+    { 0xbe5285f8,0x2f76c477,0xae8c5098 }, /* 376: -2.0558918e-01  2.2443368e-10 -6.3807792e-11 */
+    { 0x3c7430bf,0x9009af0a,0x0fc352a8 }, /* 377:  1.4904200e-02 -2.7153331e-29  1.9260323e-29 */
+    { 0xbf32521c,0x3f2a596f,0xbcff15a0 }, /* 378: -6.9656539e-01  6.6542715e-01 -3.1138241e-02 */
+    { 0xbd6c7900,0x3a370a9c,0xb9f9b410 }, /* 379: -5.7732582e-02  6.9824769e-04 -4.7627138e-04 */
+    { 0x3f2ab516,0xbe6edb8e,0x3e4d1d3c }, /* 380:  6.6682565e-01 -2.3325941e-01  2.0030683e-01 */
+    { 0xbf153e8f,0xbe23d601,0xbdd2f072 }, /* 381: -5.8298582e-01 -1.5999605e-01 -1.0299768e-01 */
+    { 0xbf07f53b,0x3cb0da56,0xbc545ea0 }, /* 382: -5.3108567e-01  2.1588486e-02 -1.2962013e-02 */
+    { 0x41563dcb,0xbeeb24f5,0x3d92267c }, /* 383:  1.3390086e+01 -4.5926633e-01  7.1362466e-02 */
+    { 0x414bbb7f,0x406eeabe,0x3fc45b84 }, /* 384:  1.2733275e+01  3.7330775e+00  1.5340428e+00 */
+    { 0x3f1e58ae,0xbc84a85a,0x3b50c320 }, /* 385:  6.1854064e-01 -1.6193558e-02  3.1854585e-03 */
+    { 0x3e27096f,0xbb36b942,0x3ab8c598 }, /* 386:  1.6312192e-01 -2.7881418e-03  1.4096973e-03 */
+    { 0xc4e8e123,0x414a12a7,0xc0cfb736 }, /* 387: -1.8630355e+03  1.2629554e+01 -6.4911146e+00 */
+    { 0x3f033162,0x3e4565b5,0x3e01fa1e }, /* 388:  5.1247227e-01  1.9277079e-01  1.2693068e-01 */
+    { 0x3dc8a1d1,0xbce09f4c,0x3c80a960 }, /* 389:  9.7964890e-02 -2.7419709e-02  1.5705764e-02 */
+    { 0x3f286715,0x3f0035f9,0x3e20c470 }, /* 390:  6.5782291e-01  5.0082356e-01  1.5699935e-01 */
+    { 0xbf5d4742,0xb5fa661d,0xb45748c8 }, /* 391: -8.6436856e-01 -1.8656170e-06 -2.0049913e-07 */
+    { 0xd6105825,0xc136c04f,0xc0befaaa }, /* 392: -3.9677063e+13 -1.1421950e+01 -5.9680986e+00 */
+    { 0xbf0d61e2,0xbe1bf7c5,0xbdc34072 }, /* 393: -5.5227482e-01 -1.5231235e-01 -9.5337763e-02 */
+    { 0x4b91dc20,0x3ff5c772,0x3f8425ae }, /* 394:  1.9118144e+07  1.9201491e+00  1.0323999e+00 */
+    { 0x3e90b09d,0x3d831a05,0x3cd96980 }, /* 395:  2.8259745e-01  6.4014472e-02  2.6539564e-02 */
+    { 0xbfc8524b,0x3efda60d,0xbda15c14 }, /* 396: -1.5650114e+00  4.9540749e-01 -7.8788906e-02 */
+    { 0xc00acddc,0xbd3b8bfe,0xbc8986bc }, /* 397: -2.1688147e+00 -4.5787804e-02 -1.6787879e-02 */
+    { 0x48e79456,0xbcf20e84,0x3c0c7878 }, /* 398:  4.7427469e+05 -2.9547937e-02  8.5736439e-03 */
+    { 0xc140ae75,0xb883c5a9,0xb8456ede }, /* 399: -1.2042592e+01 -6.2833838e-05 -4.7071713e-05 */
+    { 0x40038934,0x8bf0af41,0x09d46f20 }, /* 400:  2.0552492e+00 -9.2708330e-32  5.1141645e-33 */
+    { 0x473f432e,0x413b0430,0x413a5ec0 }, /* 401:  4.8963180e+04  1.1688522e+01  1.1648132e+01 */
+    { 0xc0743d95,0xbdbfb958,0xbd92bce0 }, /* 402: -3.8162587e+00 -9.3615234e-02 -7.1649313e-02 */
+    { 0xc7d76a5e,0xbf4d24fb,0xbeb02c54 }, /* 403: -1.1029273e+05 -8.0134553e-01 -3.4408820e-01 */
+    { 0xc1d9863f,0xbfee49ef,0xbf9058de }, /* 404: -2.7190550e+01 -1.8616313e+00 -1.1277120e+00 */
+    { 0x4bba6685,0xc0f2d6c8,0x40442b40 }, /* 405:  2.4431882e+07 -7.5887184e+00  3.0651398e+00 */
+    { 0xc1e532b6,0xc15185b5,0xc01d6808 }, /* 406: -2.8649761e+01 -1.3095143e+01 -2.4594746e+00 */
+    { 0xc24865fd,0x4152c35e,0xc1294dda }, /* 407: -5.0099598e+01  1.3172697e+01 -1.0581507e+01 */
+    { 0x4129a95c,0x3f43d291,0x3f28e463 }, /* 408:  1.0603848e+01  7.6493174e-01  6.5973490e-01 */
+    { 0x3c7fdbd9,0xbc692f50,0x3ab56448 }, /* 409:  1.5616381e-02 -1.4232472e-02  1.3839090e-03 */
+    { 0xc4496c06,0xc1cb9193,0xc186dff3 }, /* 410: -8.0568787e+02 -2.5446081e+01 -1.6859350e+01 */
+    { 0x739dbe84,0x3e1aa64b,0x3d164234 }, /* 411:  2.4995566e+31  1.5102498e-01  3.6684230e-02 */
+    { 0xc76a94f9,0xc3940b52,0xc3731b98 }, /* 412: -6.0052973e+04 -2.9608844e+02 -2.4310779e+02 */
+    { 0xc256672b,0xc2195739,0xc1743fc8 }, /* 413: -5.3600750e+01 -3.8335178e+01 -1.5265572e+01 */
+    { 0xc1038c6f,0x2ffe6dbf,0xafdf868b }, /* 414: -8.2217855e+00  4.6280310e-10 -4.0659062e-10 */
+    { 0x41b74569,0xbfdf89a9,0x3e52c7d8 }, /* 415:  2.2908892e+01 -1.7463886e+00  2.0584047e-01 */
+    { 0xbdfcb291,0x34fad283,0xb4d7178b }, /* 416: -1.2338746e-01  4.6719296e-07 -4.0064000e-07 */
+    { 0x42e1ac15,0xc0b02c12,0x402e9fd0 }, /* 417:  1.1283610e+02 -5.5053797e+00  2.7285042e+00 */
+    { 0x44f76ff0,0xc0fa4063,0x3f727148 }, /* 418:  1.9794980e+03 -7.8203597e+00  9.4704103e-01 */
+    { 0x3f08add9,0xbdd8bb31,0x3b9c6d30 }, /* 419:  5.3390270e-01 -1.0582579e-01  4.7737584e-03 */
+    { 0xbf216dea,0x3d4358b6,0xbc2d7588 }, /* 420: -6.3058341e-01  4.7692023e-02 -1.0587104e-02 */
+    { 0xc36dddb6,0x374f8669,0xb68a791c }, /* 421: -2.3786606e+02  1.2369456e-05 -4.1268195e-06 */
+    { 0x42dd825e,0xbfbcb037,0x3e47bb18 }, /* 422:  1.1075462e+02 -1.4741277e+00  1.9504964e-01 */
+    { 0xee38da74,0xbc989c94,0xbc3574e0 }, /* 423: -1.4302334e+28 -1.8629350e-02 -1.1075228e-02 */
+    { 0xbf64721c,0x3efda701,0xbecb3d37 }, /* 424: -8.9236617e-01  4.9541476e-01 -3.9695141e-01 */
+    { 0xbf659742,0xb8ee9b1c,0xb86927d0 }, /* 425: -8.9683926e-01 -1.1377616e-04 -5.5588607e-05 */
+    { 0xbfecc40f,0x3f72e00f,0xbf66a80f }, /* 426: -1.8497332e+00  9.4873136e-01 -9.0100187e-01 */
+    { 0x3f39ef7e,0xbefc245d,0x3e6f753e }, /* 427:  7.2631061e-01 -4.9246493e-01  2.3384568e-01 */
+    { 0xc055efbd,0xbfef286a,0xbfbcb710 }, /* 428: -3.3427575e+00 -1.8684208e+00 -1.4743366e+00 */
+    { 0xc40da397,0xc0ccbb3b,0xc062de70 }, /* 429: -5.6655609e+02 -6.3978553e+00 -3.5448265e+00 */
+    { 0x41021b62,0xbf1a9216,0x3e909604 }, /* 430:  8.1316853e+00 -6.0379159e-01  2.8239453e-01 */
+    { 0xbdfadaba,0x3d19d204,0xbc20fda0 }, /* 431: -1.2248750e-01  3.7553802e-02 -9.8260939e-03 */
+    { 0xd82b6b8e,0x3faa7551,0xbf83fc9b }, /* 432: -7.5391373e+14  1.3317052e+00 -1.0311464e+00 */
+    { 0x3f3cc3c3,0x3c40b1d6,0x3c05deec }, /* 433:  7.3736209e-01  1.1761149e-02  8.1708245e-03 */
+    { 0x3eff16c9,0xbd7ae87c,0x3c05c9a0 }, /* 434:  4.9822071e-01 -6.1256871e-02  8.1657469e-03 */
+    { 0xbf318c69,0x3f2626cd,0xbd3659c0 }, /* 435: -6.9354874e-01  6.4902955e-01 -4.4519186e-02 */
+    { 0xbfb7cc86,0xb919d021,0xb6a84460 }, /* 436: -1.4359291e+00 -1.4668751e-04 -5.0147501e-06 */
+    { 0x43444486,0x3ffcd4eb,0x3f37d83e }, /* 437:  1.9626767e+02  1.9752477e+00  7.1814334e-01 */
+    { 0xc23c3a67,0x24c625d9,0xa47bc432 }, /* 438: -4.7057034e+01  8.5932928e-17 -5.4593133e-17 */
+    { 0x3f271c57,0x3f2019f1,0x3ce04cc0 }, /* 439:  6.5277618e-01  6.2539583e-01  2.7380347e-02 */
+    { 0x3e5fc994,0x3e1593f3,0x3d946b42 }, /* 440:  2.1854240e-01  1.4607219e-01  7.2470203e-02 */
+    { 0xbff7db32,0x3f3888d2,0xbefd4980 }, /* 441: -1.9363768e+00  7.2083771e-01 -4.9470139e-01 */
+    { 0xbf08f539,0xbb900a29,0xbb4b9e3e }, /* 442: -5.3499180e-01 -4.3957424e-03 -3.1069661e-03 */
+    { 0xbe852ffb,0x19880f78,0x991b4690 }, /* 443: -2.6013169e-01  1.4068318e-23 -8.0275622e-24 */
+    { 0x42e46242,0x3d9838ca,0x3cd13000 }, /* 444:  1.1419191e+02  7.4327067e-02  2.5535583e-02 */
+    { 0xbfd755a6,0xbef0c04f,0xbe8b15ab }, /* 445: -1.6823013e+00 -4.7021720e-01 -2.7164969e-01 */
+    { 0x406d9f3d,0xb9c91960,0x39a13b60 }, /* 446:  3.7128441e+00 -3.8356613e-04  3.0752551e-04 */
+    { 0x410184d4,0xbe2ad3c5,0x3db30020 }, /* 447:  8.0949287e+00 -1.6682346e-01  8.7402582e-02 */
+    { 0xc089f6e4,0x3ddb0b3d,0xbd07eef0 }, /* 448: -4.3113880e+00  1.0695503e-01 -3.3186853e-02 */
+    { 0xbeb509c2,0x3b851c14,0xb93cb680 }, /* 449: -3.5359007e-01  4.0621851e-03 -1.7997064e-04 */
+    { 0x3f1ff2f6,0x363843b9,0x35d693b2 }, /* 450:  6.2480104e-01  2.7457556e-06  1.5987227e-06 */
+    { 0x3fdb4ae2,0xbf06d52b,0x3e08590c }, /* 451:  1.7132227e+00 -5.2669019e-01  1.3315219e-01 */
+    { 0xc0cb5ebd,0x3cb929c5,0xbb7f1e18 }, /* 452: -6.3553147e+00  2.2602925e-02 -3.8927849e-03 */
+    { 0xbdccfe4f,0xbce7e011,0xbc78b212 }, /* 453: -1.0009443e-01 -2.8305085e-02 -1.5179174e-02 */
+    { 0xbb40d853,0xba9ff20c,0xba03991c }, /* 454: -2.9425814e-03 -1.2202873e-03 -5.0200685e-04 */
+    { 0xbe15c0a3,0xbc38b8bb,0xbc33616c }, /* 455: -1.4624266e-01 -1.1274512e-02 -1.0948520e-02 */
+    { 0xbe62cbd4,0x39f9d162,0xb9cc2660 }, /* 456: -2.2148067e-01  4.7648983e-04 -3.8938504e-04 */
+    { 0x41d6ed97,0x40f2e4f8,0x40830774 }, /* 457:  2.6866011e+01  7.5904503e+00  4.0946598e+00 */
+    { 0xbef50211,0x3e74a580,0xba392200 }, /* 458: -4.7853139e-01  2.3891258e-01 -7.0622563e-04 */
+    { 0xbf234990,0x3e19d72a,0xbd172660 }, /* 459: -6.3784122e-01  1.5023485e-01 -3.6901832e-02 */
+    { 0x41362667,0xbeab9200,0x3ea6fae0 }, /* 460:  1.1384376e+01 -3.3509827e-01  3.2613277e-01 */
+    { 0x40a2d07a,0x3ff9e784,0x3f9772e0 }, /* 461:  5.0879488e+00  1.9523778e+00  1.1831932e+00 */
+    { 0xbfd94dcd,0x3fd587c7,0xbcf18180 }, /* 462: -1.6976868e+00  1.6682061e+00 -2.9480696e-02 */
+    { 0xc297f3c0,0x4174b7fc,0xc16cbe10 }, /* 463: -7.5976074e+01  1.5294918e+01 -1.4796402e+01 */
+    { 0x40de8a9c,0x3feaa3a6,0x3fba3f7e }, /* 464:  6.9544201e+00  1.8331192e+00  1.4550626e+00 */
+    { 0xc0f650d8,0xc09e5c9c,0xc02fe878 }, /* 465: -7.6973686e+00 -4.9488049e+00 -2.7485638e+00 */
+    { 0x501adfd3,0x3b806f52,0x3ad5f300 }, /* 466:  1.0393439e+10  3.9195204e-03  1.6323030e-03 */
+    { 0xc0bbcd68,0xb5b1f2d7,0xb5471a80 }, /* 467: -5.8688240e+00 -1.3258203e-06 -7.4171840e-07 */
+    { 0xc1945c5a,0x3fe53c42,0xbf22d618 }, /* 468: -1.8545094e+01  1.7909014e+00 -6.3607931e-01 */
+    { 0x40d63ae9,0xbef3a978,0x3d035000 }, /* 469:  6.6946912e+00 -4.7590232e-01  3.2058716e-02 */
+    { 0xc1b10247,0x3d2097a1,0xbc59fd30 }, /* 470: -2.2126112e+01  3.9207105e-02 -1.3304994e-02 */
+    { 0xc3499e0c,0xbc95a451,0xbbd11f4c }, /* 471: -2.0161737e+02 -1.8266829e-02 -6.3819047e-03 */
+    { 0xc9f4e7a5,0xb8e91ff8,0xb7a0f680 }, /* 472: -2.0062606e+06 -1.1116260e-04 -1.9188272e-05 */
+    { 0xbf8d3596,0x84be9efd,0x8424b58a }, /* 473: -1.1031978e+00 -4.4814793e-36 -1.9361466e-36 */
+    { 0x4321c19f,0xb371b007,0x328cbf88 }, /* 474:  1.6175633e+02 -5.6272281e-08  1.6385243e-08 */
+    { 0xc1395012,0xbd1b3681,0xbcc8449e }, /* 475: -1.1582048e+01 -3.7893776e-02 -2.4446782e-02 */
+    { 0xc1bf7a2f,0xbfd889ba,0xbe806b10 }, /* 476: -2.3934660e+01 -1.6917031e+00 -2.5081682e-01 */
+    { 0xbf0ed8d1,0x3b095e87,0xb9e4c5d0 }, /* 477: -5.5799586e-01  2.0960884e-03 -4.3634931e-04 */
+    { 0x41282d3f,0xbf3d77a6,0x3e192370 }, /* 478:  1.0511046e+01 -7.4010694e-01  1.4954925e-01 */
+    { 0xcaa95ca0,0xbb4187d3,0xba2f98dc }, /* 479: -5.5496480e+06 -2.9530420e-03 -6.6984980e-04 */
+    { 0x4117e87d,0x3f427976,0x3ec1ac90 }, /* 480:  9.4942598e+00  7.5966585e-01  3.7826967e-01 */
+    { 0x3db463de,0x365a795e,0x364e7abe }, /* 481:  8.8081107e-02  3.2555176e-06  3.0767837e-06 */
+    { 0x3fab7ea4,0xb5feae21,0x356ab33c }, /* 482:  1.3398023e+00 -1.8975153e-06  8.7432613e-07 */
+    { 0x4635f075,0x40b40438,0x409d8f68 }, /* 483:  1.1644114e+04  5.6255150e+00  4.9237556e+00 */
+    { 0x411f2601,0xbee4ac18,0x3df7d840 }, /* 484:  9.9467783e+00 -4.4662547e-01  1.2101793e-01 */
+    { 0x425df0fa,0x3cca0457,0x3cc7afb1 }, /* 485:  5.5485329e+01  2.4660273e-02  2.4375768e-02 */
+    { 0x418d6236,0x3de5d93f,0x3d57f4ba }, /* 486:  1.7672955e+01  1.1223077e-01  5.2723624e-02 */
+    { 0xc3128d52,0x411b46ee,0xbf7ad2e0 }, /* 487: -1.4655203e+02  9.7048168e+00 -9.7978020e-01 */
+    { 0xbf0557a8,0x3dc8a633,0xbcfdf904 }, /* 488: -5.2086878e-01  9.7973250e-02 -3.1002529e-02 */
+    { 0x43af4e3a,0x3fbc155f,0x3f64b75c }, /* 489:  3.5061115e+02  1.4694022e+00  8.9342284e-01 */
+    { 0xc235ae0e,0xbdcaa587,0xbb2a5e60 }, /* 490: -4.5419975e+01 -9.8948531e-02 -2.5996193e-03 */
+    { 0xbf4eecda,0xbe8cdd85,0xbe841eaa }, /* 491: -8.0830157e-01 -2.7512756e-01 -2.5804645e-01 */
+    { 0xc00a6dfa,0x3f2f3e96,0xbddfe130 }, /* 492: -2.1629624e+00  6.8454874e-01 -1.0931623e-01 */
+    { 0x3fc96efc,0xbf219802,0x3e9f5be8 }, /* 493:  1.5736995e+00 -6.3122571e-01  3.1124806e-01 */
+    { 0xc885476d,0x3f2c2fff,0xbf13b138 }, /* 494: -2.7295541e+05  6.7260736e-01 -5.7692289e-01 */
+    { 0xc13cdccb,0xbb5965c5,0xbaa08004 }, /* 495: -1.1803905e+01 -3.3172232e-03 -1.2245183e-03 */
+    { 0xbdfd485b,0xbda068bb,0xbd39bf40 }, /* 496: -1.2367316e-01 -7.8324758e-02 -4.5348406e-02 */
+    { 0x410b4754,0xbcd73895,0x3c10feb2 }, /* 497:  8.7049141e+00 -2.6272098e-02  8.8497866e-03 */
+    { 0x3f523e80,0xbc4c7a05,0x3c24a4bb }, /* 498:  8.2126617e-01 -1.2480264e-02  1.0049040e-02 */
+    { 0x3fc7d2cf,0x389f574e,0x382dbbc8 }, /* 499:  1.5611209e+00  7.5979726e-05  4.1421299e-05 */
+    { 0x40981d30,0x3f309db8,0x3f1d3730 }, /* 500:  4.7535629e+00  6.8990660e-01  6.1412334e-01 */
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]:  %#lx\n", index - 1, v.lo);
+#endif
+    exit (index ? index : -1);
+}
+
+int main ()
+{
+    union lofl_u x, y, z;
+    int i;
+    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	x.lo = pgm_read_dword (& t[i].x);
+	y.lo = pgm_read_dword (& t[i].y);
+	z.lo = pgm_read_dword (& t[i].z);
+	v.fl = fmod (x.fl, y.fl);
+	/* Comparison is integer to verify the zero sign.	*/
+	if (v.lo != z.lo)
+	    x_exit (i+1);
+    }
+    return 0;
+}
diff --git a/tests/simulate/math/fmod-nan.c b/tests/simulate/math/fmod-nan.c
new file mode 100644
index 0000000..69ce281
--- /dev/null
+++ b/tests/simulate/math/fmod-nan.c
@@ -0,0 +1,116 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of fmod() function. NaNs.
+   $Id$
+ */
+#include <math.h>
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+volatile union lofl_u v = { .lo = 1 };
+
+PROGMEM const struct {		/* Table of test cases.	*/
+    union lofl_u x, y;		/* args.	*/
+} t[] = {
+
+    /* fmod (finite, 0) --> NaN	*/
+    { { 0x00000001 }, { 0x00000000 } },
+    { { 0x007fffff }, { 0x00000000 } },
+    { { 0x00800000 }, { 0x00000000 } },
+    { { 0x7f7fffff }, { 0x00000000 } },
+    { { 0x3f800000 }, { 0x80000000 } },
+    { { 0xbf800000 }, { 0x00000000 } },
+    { { 0xbf800000 }, { 0x80000000 } },
+    
+    /* fmod (Inf, 0) --> NaN	*/
+    { { 0x7f800000 }, { 0x00000000 } },
+    { { 0x7f800000 }, { 0x80000000 } },
+    { { 0xff800000 }, { 0x00000000 } },
+    { { 0xff800000 }, { 0x80000000 } },
+    
+    /* fmod (Inf, Inf) --> NaN	*/
+    { { 0x7f800000 }, { 0x7f800000 } },
+    { { 0x7f800000 }, { 0xff800000 } },
+    { { 0xff800000 }, { 0x7f800000 } },
+    { { 0xff800000 }, { 0xff800000 } },
+
+    /* fmod (NaN, 1) --> NaN	*/
+    { { 0x7f800001 }, { 0x3f800000 } },
+    { { 0x7f800100 }, { 0x3f800000 } },
+    { { 0x7f810000 }, { 0x3f800000 } },
+    { { 0x7fc00000 }, { 0x3f800000 } },
+    { { 0x7fffffff }, { 0x3f800000 } },
+    { { 0xff800001 }, { 0x3f800000 } },
+    { { 0xff800100 }, { 0x3f800000 } },
+    { { 0xff810000 }, { 0x3f800000 } },
+    { { 0xffc00000 }, { 0x3f800000 } },
+    { { 0xffffffff }, { 0x3f800000 } },
+
+    /* fmod (1, NaN) --> NaN	*/
+    { { 0x3f800000 }, { 0x7f800001 } },
+    { { 0x3f800000 }, { 0x7f800100 } },
+    { { 0x3f800000 }, { 0x7f810000 } },
+    { { 0x3f800000 }, { 0x7fc00000 } },
+    { { 0x3f800000 }, { 0x7fffffff } },
+    { { 0x3f800000 }, { 0xff800001 } },
+    { { 0x3f800000 }, { 0xff800100 } },
+    { { 0x3f800000 }, { 0xff810000 } },
+    { { 0x3f800000 }, { 0xffc00000 } },
+    { { 0x3f800000 }, { 0xffffffff } },
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]:  %#lx\n", index - 1, v.lo);
+#endif
+    exit (index ? index : -1);
+}
+
+int main ()
+{
+    union lofl_u x, y;
+    int i;
+    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	x.lo = pgm_read_dword (& t[i].x);
+	y.lo = pgm_read_dword (& t[i].y);
+	v.fl = fmod (x.fl, y.fl);
+	if (!isnan(v.fl))
+	    x_exit (i+1);
+    }
+    return 0;
+}
diff --git a/tests/simulate/math/fp_mpack-01.c b/tests/simulate/math/fp_mpack-01.c
new file mode 100644
index 0000000..523601f
--- /dev/null
+++ b/tests/simulate/math/fp_mpack-01.c
@@ -0,0 +1,144 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of __fp_mpack() function. This is an internal function of Avr-libc.
+   $Id$
+ */
+#include <math.h>
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+#ifndef	__AVR__
+# define PRINTFLN(fmt, ...)	\
+    printf ("\nLine %d: " fmt "\n", __LINE__, ##__VA_ARGS__)
+# define EXIT(code)	exit ((code) < 255 ? (code) : 100 + (code) % 100)
+#else
+# define PRINTFLN(args...)
+# define EXIT	exit
+#endif
+
+/* Result is placed into SRAM variable, allocated at the start of
+   memory. This is convinient to debug: read a core dump.	*/
+volatile unsigned long v = 1;
+
+PROGMEM const struct {		/* Table of test cases.	*/
+    unsigned long x;		/* argument		*/
+    unsigned long z;			/* __fp_mpack(x)	*/
+} t[] = {
+
+    /* zero	*/
+    { 0x00000000, 0x00000000 },
+    
+    /* subnormal, where shift to right is needed	*/
+    { 0x00000001, 0x00000000 },
+    { 0x00000002, 0x00000001 },
+    { 0x00000080, 0x00000040 },
+    { 0x00000100, 0x00000080 },
+    { 0x00008000, 0x00004000 },
+    { 0x00010000, 0x00008000 },
+    { 0x007fffff, 0x003fffff },
+    { 0x00800000, 0x00400000 },
+    { 0x00ff0000, 0x007f8000 },
+    { 0x00fffffe, 0x007fffff },
+    { 0x00ffffff, 0x007fffff },
+
+    /* "common" subnormal	*/
+    { 0x01000000, 0x00000000 },
+    { 0x01000001, 0x00000001 },
+    { 0x01000100, 0x00000100 },
+    { 0x01010000, 0x00010000 },
+    { 0x01234567, 0x00234567 },
+    { 0x017fffff, 0x007fffff },
+
+    /* normal, exp == 1	*/
+    { 0x01800000, 0x00800000 },
+    { 0x01800001, 0x00800001 },
+    { 0x01800100, 0x00800100 },
+    { 0x01810000, 0x00810000 },
+    { 0x01ffffff, 0x00ffffff },
+
+    /* normal, exp > 1	*/
+    { 0x02800000, 0x01000000 },
+    { 0x02800001, 0x01000001 },
+    { 0x02800100, 0x01000100 },
+    { 0x02810000, 0x01010000 },
+    { 0xfeffffff, 0x7f7fffff },
+
+    /* Inf	*/
+    { 0xff000000, 0x7f800000 },
+    
+    /* NaN	*/
+    { 0xff000001, 0x7f800001 },
+    { 0xff000100, 0x7f800100 },
+    { 0xff400000, 0x7fc00000 },
+    { 0xff7fffff, 0x7fffffff },
+};
+
+#ifdef	__AVR__
+extern unsigned long __fp_mpack (unsigned long);
+unsigned long fp_mpack (unsigned long x)
+{
+    asm volatile ("clt");
+    return __fp_mpack (x);
+}
+#else
+unsigned long fp_mpack (unsigned long x)
+{
+    int exp = x >> 24;
+    unsigned long mnt = x & 0xffffff;
+    
+    if (exp == 0) {
+	return mnt >> 1;
+    } else if (exp == 1 && mnt < 0x800000) {
+	return mnt;
+    } else if (exp < 255) {
+	return (exp << 23) | (mnt & 0x7fffff);
+    } else {
+	return 0x7f800000 | mnt;
+    }
+}
+#endif
+
+int main ()
+{
+    int i;
+    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	unsigned long tx = pgm_read_dword (& t[i].x);
+	unsigned long tz = pgm_read_dword (& t[i].z);
+	v = fp_mpack (tx);
+	if (v != tz) {
+	    PRINTFLN ("t[%d]= {0x%08lx,0x%08lx} --> 0x%08lx\n", i, tx, tz, v);
+	    EXIT (i + 1);
+	}
+    }
+
+    return 0;
+}
diff --git a/tests/simulate/math/frexp-01.c b/tests/simulate/math/frexp-01.c
new file mode 100644
index 0000000..3c30ffa
--- /dev/null
+++ b/tests/simulate/math/frexp-01.c
@@ -0,0 +1,192 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of frexp() function.
+   $Id$
+ */
+#include <math.h>
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+#ifndef	__AVR__
+# define PRINTFLN(fmt, ...)	\
+    printf ("\nLine %d: " fmt "\n", __LINE__, ##__VA_ARGS__)
+# define EXIT(code)	exit ((code) < 255 ? (code) : 100 + (code) % 100)
+#else
+# if defined(__AVR_ATmega128__)
+  /* ATmega128 has enough RAM for sprintf(), print to 0x2000 in XRAM. */
+#  define PRINTFLN(fmt, ...)	\
+    sprintf ((char *)0x2000, "\nLine %d: " fmt "\n", __LINE__, ##__VA_ARGS__)
+# else
+   /* small AVR */
+#  define PRINTFLN(args...)
+# endif
+# define EXIT	exit
+#endif
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+volatile union lofl_u vf = { 1 };
+int ve = { 1 };
+
+PROGMEM const struct {		/* Table of test cases.	*/
+    union lofl_u x;	/* argument			*/
+    union lofl_u f;	/* fraction part: frexp(x,*pe)	*/
+    int e;		/* exponent: *pe		*/
+} t[] = {
+
+    /* zero	*/
+    { { 0x00000000 }, { 0x00000000 }, 0 },
+    { { 0x80000000 }, { 0x80000000 }, 0 },
+
+    /* subnormal	*/
+    { { 0x00000001 }, { .fl = 0.5 },	-148 },
+    { { 0x00000003 }, { .fl = 0.75 },	-147 },
+    { { 0x00000100 }, { .fl = 0.5 },    -140 },
+    { { 0x00010000 }, { .fl = 0.5 },    -132 },
+    { { 0x007fffff }, { .fl = 0x0.fffffep+00 }, -126 },
+
+    { { 0x80000001 }, { .fl = -0.5 },	-148 },
+    { { 0x80000003 }, { .fl = -0.75 },	-147 },
+    { { 0x80000100 }, { .fl = -0.5 },   -140 },
+    { { 0x80010000 }, { .fl = -0.5 },   -132 },
+    { { 0x807fffff }, { .fl = -0x0.fffffep+00 }, -126 },
+    
+    /* integral normal	*/
+    { { .fl = 0x000001 }, { .fl = 0.5 }, 1 },
+    { { .fl = 0x400000 }, { .fl = 0.5 }, 23 },
+    { { .fl = 0x7fffff }, { .fl = 0x0.fffffep+00 }, 23 },
+
+    { { .fl = -0x000001 }, { .fl = -0.5 }, 1 },
+    { { .fl = -0x400000 }, { .fl = -0.5 }, 23 },
+    { { .fl = -0x7fffff }, { .fl = -0x0.fffffep+00 }, 23 },
+    
+    /* very big	*/
+    { { 0x7f000000 }, { .fl = 0.5 }, 128 },
+    { { 0x7f7fffff }, { .fl = 0x0.ffffffp+00 }, 128 },
+
+    { { 0xff000000 }, { .fl = -0.5 }, 128 },
+    { { 0xff7fffff }, { .fl = -0x0.ffffffp+00 }, 128 },
+};
+
+int main ()
+{
+    union lofl_u x, zf;
+    int ze;
+    int i;
+    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	x.lo =  pgm_read_dword (& t[i].x);
+	zf.lo = pgm_read_dword (& t[i].f);
+	ze =    pgm_read_word (& t[i].e);
+	vf.fl = frexp (x.fl, & ve);
+	if (vf.lo != zf.lo || ve != ze) {
+	    PRINTFLN ("t[%d]: %#lx %d", i, vf.lo, ve);
+	    EXIT (i + 1);
+	}
+    }
+
+    /* Check all normal values with fractional 0.5	*/
+    for (i = 1; i < 255; i++) {
+	/* Positive.	*/
+	x.lo = (long)i << 23;
+	vf.fl = frexp (x.fl, & ve);
+	if (vf.lo != 0x3f000000 || ve != i - 126) {
+	    PRINTFLN ("t[%d]: %#lx %d", i, vf.lo, ve);
+	    EXIT (i + 100);
+	}
+
+	/* Negative.	*/
+	x.lo |= 0x80000000;
+	vf.fl = frexp (x.fl, & ve);
+	if ((unsigned long)vf.lo != 0xbf000000 || ve != i - 126) {
+	    PRINTFLN ("t[%d]: %#lx %d", i, vf.lo, ve);
+	    EXIT (i + 100);
+	}
+    }
+    
+    /* X is not a finite value.	*/
+    {
+	static PROGMEM const long tnf[] = {
+	    0x7f800000,		/* +Inf	*/
+	    0xff800000,		/* -Inf	*/
+	    0x7f800001,		/* NaN	*/
+	    0x7f800100,
+	    0x7f810000,
+	    0x7fc00000,
+	    0x7fffffff,
+	    0xff800001,
+	    0xff800100,
+	    0xff810000,
+	    0xffc00000,
+	    0xffffffff,
+	};
+	for (i = 0; i < (int) (sizeof(tnf) / sizeof(tnf[0])); i++) {
+	    x.lo = pgm_read_dword (& tnf[i]);
+	    ve = 1;
+	    vf.fl = frexp (x.fl, & ve);
+#ifdef	__AVR__
+	    if (vf.lo != x.lo || ve) {
+		PRINTFLN ("tnf[%d]: %#lx %d", i, vf.lo, ve);
+		EXIT (i + 200);
+	    }
+#else
+	    if (isinf (x.fl)) {
+		if (vf.lo != x.lo || ve) {
+		    PRINTFLN ("tnf[%d]: %#lx %d", i, vf.lo, ve);
+		    EXIT (i + 200);
+		}
+	    } else {
+		if (!isnan (vf.fl) || ve) {
+		    PRINTFLN ("tnf[%d]: %#lx %d", i, vf.lo, ve);
+		    EXIT (i + 200);
+		}
+	    }
+#endif
+	}
+    }
+
+#ifdef	__AVR__
+    /* NULL is a legal address for Avr-libc realization: skip writing.	*/
+    {
+	unsigned char r1 = 1;
+        vf.fl = frexp (48, (int *)0);
+	/* Check __zero_reg__, as it is allocated by 0x0001 address. */
+	asm ("mov %0,r1 \n\t clr r1" : "=r"(r1));
+	if (r1) EXIT (300);
+	if (vf.fl != 0.75) EXIT (301);
+    }
+#endif
+
+    return 0;
+}
diff --git a/tests/simulate/math/hypot-01.c b/tests/simulate/math/hypot-01.c
new file mode 100644
index 0000000..83f9be2
--- /dev/null
+++ b/tests/simulate/math/hypot-01.c
@@ -0,0 +1,186 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of hypot() function.
+   $Id$
+ */
+#include <math.h>
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+volatile union lofl_u v = { .lo = 1 };
+
+PROGMEM const struct {		/* Table of test cases	*/
+    union lofl_u x, y;		/* args		*/
+    union lofl_u z;		/* result	*/
+} t[] = {
+
+    /* NaN and NaN --> NaN	*/
+    { { 0x7f800001 }, { 0x7f800100 }, { 0x7fc00000 } },
+    { { 0x7f810001 }, { 0x7fc00000 }, { 0x7fc00000 } },
+    { { 0x7fffffff }, { 0xff800001 }, { 0x7fc00000 } },
+    { { 0xff800100 }, { 0x7f800100 }, { 0x7fc00000 } },
+
+    /* NaN and finite --> NaN	*/
+    { { 0x7f800001 }, { 0x3f800000 }, { 0x7fc00000 } },
+    { { 0x3f800000 }, { 0x7f800001 }, { 0x7fc00000 } },
+
+    /* Inf & NaN --> Inf	*/
+    { { 0x7f800000 }, { 0x7f800001 }, { 0x7f800000 } },
+    { { 0x7f800000 }, { 0x7f800100 }, { 0x7f800000 } },
+    { { 0x7f800000 }, { 0x7f810000 }, { 0x7f800000 } },
+    { { 0x7f800000 }, { 0x7fc00000 }, { 0x7f800000 } },
+    { { 0x7f800000 }, { 0x7fffffff }, { 0x7f800000 } },
+    { { 0x7f800000 }, { 0xffffffff }, { 0x7f800000 } },
+    
+    { { 0xff800000 }, { 0x7fc00000 }, { 0x7f800000 } },
+    { { 0x7fc00000 }, { 0x7f800000 }, { 0x7f800000 } },
+    { { 0x7fc00000 }, { 0xff800000 }, { 0x7f800000 } },
+    
+    /* 0 and 0	*/
+    { { 0x00000000 }, { 0x00000000 }, { 0x00000000 } },
+    { { 0x80000000 }, { 0x00000000 }, { 0x00000000 } },
+    { { 0x00000000 }, { 0x80000000 }, { 0x00000000 } },
+    { { 0x80000000 }, { 0x80000000 }, { 0x00000000 } },
+
+    /* hypot(0,*)	*/
+    { { 0 }, { 0x00000001 }, { 0x00000001 } },
+    { { 0 }, { 0x007fffff }, { 0x007fffff } },
+    { { 0 }, { 0x00800000 }, { 0x00800000 } },
+    { { 0 }, { 0x3f800000 }, { 0x3f800000 } },
+    { { 0 }, { 0x7f7fffff }, { 0x7f7fffff } },
+    { { 0 }, { 0x7f800000 }, { 0x7f800000 } },	/* Inf	*/
+
+    /* hypot(*,0)	*/
+    { { 0x00000001 }, { 0 }, { 0x00000001 } },
+    { { 0x007fffff }, { 0 }, { 0x007fffff } },
+    { { 0x00800000 }, { 0 }, { 0x00800000 } },
+    { { 0x3f800000 }, { 0 }, { 0x3f800000 } },
+    { { 0x7f7fffff }, { 0 }, { 0x7f7fffff } },
+    { { 0x7f800000 }, { 0 }, { 0x7f800000 } },	/* Inf	*/
+    
+    /* overflow	*/
+    { { 0x7f7fffff }, { 0x7f7fffff }, { 0x7f800000 } },
+    { { 0xff7fffff }, { 0xff7fffff }, { 0x7f800000 } },
+/*  { { .fl= 2.4061596e+38 }, { .fl= 2.4061596e+38 }, { 0x7f800000 } }, */
+    { { .fl= 2.4061598e+38 }, { .fl= 2.4061598e+38 }, { 0x7f800000 } },
+    
+    { { .fl=  3 }, { .fl=  4 }, { .fl= 5 } },
+    { { .fl= -3 }, { .fl=  4 }, { .fl= 5 } },
+    { { .fl=  3 }, { .fl= -4 }, { .fl= 5 } },
+    { { .fl= -3 }, { .fl= -4 }, { .fl= 5 } },
+
+    /* very small args	*/    
+    { { 0x00000001 }, { 0x00000001 }, { 0x00000001 } },		/* 1.4	*/
+    { { 0x00000001 }, { 0x00000002 }, { 0x00000002 } },		/* 2.2	*/
+    { { 0x00000002 }, { 0x00000001 }, { 0x00000002 } },		/* 2.2	*/
+    { { 0x00000002 }, { 0x00000002 }, { 0x00000003 } },		/* 2.8	*/
+    
+    /* very big args	*/
+    { { .fl= 2.4061596e+38 }, { .fl= 2.4061595e+38 }, { 0x7f7fffff } },
+    { { .fl= 2.4061595e+38 }, { .fl= 2.4061596e+38 }, { 0x7f7fffff } },
+    
+    /* x >> y	*/
+    { { .fl= 1 }, { .fl= 0x0.8p-9 },  { 0x3f800004 } },
+    { { .fl= 1 }, { .fl= 0x0.8p-10 }, { 0x3f800001 } },
+    { { .fl= 1 }, { .fl= 0x0.8p-11 }, { 0x3f800000 } },
+    { { .fl= 1 }, { .fl= 0x0.8p-12 }, { 0x3f800000 } },
+    { { .fl= 1 }, { .fl= 0x0.8p-13 }, { 0x3f800000 } },
+    
+    { { .fl= 0x0.800001p0 }, { .fl= 0x0.ffffffp-10 }, { 0x3f000011 } },
+    { { .fl= 0x0.800001p0 }, { .fl= 0x0.ffffffp-11 }, { 0x3f000005 } },
+    { { .fl= 0x0.800001p0 }, { .fl= 0x0.ffffffp-12 }, { 0x3f000002 } },
+    { { .fl= 0x0.800001p0 }, { .fl= 0x0.ffffffp-13 }, { 0x3f000001 } },
+    { { .fl= 0x0.800001p0 }, { .fl= 0x0.ffffffp-14 }, { 0x3f000001 } },
+    { { .fl= 0x0.800001p0 }, { .fl= 0x0.ffffffp-15 }, { 0x3f000001 } },
+
+    /* x << y	*/
+    { { .fl= 0x0.8p-9 },  { .fl= 1 }, { 0x3f800004 } },
+    { { .fl= 0x0.8p-10 }, { .fl= 1 }, { 0x3f800001 } },
+    { { .fl= 0x0.8p-11 }, { .fl= 1 }, { 0x3f800000 } },
+    { { .fl= 0x0.8p-12 }, { .fl= 1 }, { 0x3f800000 } },
+    { { .fl= 0x0.8p-13 }, { .fl= 1 }, { 0x3f800000 } },
+    
+    { { .fl= 0x0.ffffffp-10 }, { .fl= 0x0.800001p0 }, { 0x3f000011 } },
+    { { .fl= 0x0.ffffffp-11 }, { .fl= 0x0.800001p0 }, { 0x3f000005 } },
+    { { .fl= 0x0.ffffffp-12 }, { .fl= 0x0.800001p0 }, { 0x3f000002 } },
+    { { .fl= 0x0.ffffffp-13 }, { .fl= 0x0.800001p0 }, { 0x3f000001 } },
+    { { .fl= 0x0.ffffffp-14 }, { .fl= 0x0.800001p0 }, { 0x3f000001 } },
+    { { .fl= 0x0.ffffffp-15 }, { .fl= 0x0.800001p0 }, { 0x3f000001 } },
+
+    /* a set of scales	*/    
+    { { 0x00000003 }, { 0x00000004 }, { 0x00000005 } },
+    { { .fl= 0x0.3p-140 }, { .fl= 0x0.4p-140 }, { .fl= 0x0.5p-140 } },
+    { { .fl= 0x0.3p-120 }, { .fl= 0x0.4p-120 }, { .fl= 0x0.5p-120 } },
+    { { .fl= 0x0.3p-100 }, { .fl= 0x0.4p-100 }, { .fl= 0x0.5p-100 } },
+    { { .fl= 0x0.3p-80 },  { .fl= 0x0.4p-80 },  { .fl= 0x0.5p-80 }  },
+    { { .fl= 0x0.3p-60 },  { .fl= 0x0.4p-60 },  { .fl= 0x0.5p-60 }  },
+    { { .fl= 0x0.3p-40 },  { .fl= 0x0.4p-40 },  { .fl= 0x0.5p-40 }  },
+    { { .fl= 0x0.3p-20 },  { .fl= 0x0.4p-20 },  { .fl= 0x0.5p-20 }  },
+    { { .fl= 0x0.3p+0 },   { .fl= 0x0.4p+0 },   { .fl= 0x0.5p+0 }   },
+    { { .fl= 0x0.3p+20 },  { .fl= 0x0.4p+20 },  { .fl= 0x0.5p+20 }  },
+    { { .fl= 0x0.3p+40 },  { .fl= 0x0.4p+40 },  { .fl= 0x0.5p+40 }  },
+    { { .fl= 0x0.3p+60 },  { .fl= 0x0.4p+60 },  { .fl= 0x0.5p+60 }  },
+    { { .fl= 0x0.3p+80 },  { .fl= 0x0.4p+80 },  { .fl= 0x0.5p+80 }  },
+    { { .fl= 0x0.3p+100 }, { .fl= 0x0.4p+100 }, { .fl= 0x0.5p+100 } },
+    { { .fl= 0x0.3p+120 }, { .fl= 0x0.4p+120 }, { .fl= 0x0.5p+120 } },
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]:  %#lx\n", index - 1, v.lo);
+#endif
+    exit (index ? index : -1);
+}
+
+int main ()
+{
+    union lofl_u x,y,z;
+    int i;
+    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	y.lo = pgm_read_dword (& t[i].y);
+	x.lo = pgm_read_dword (& t[i].x);
+	z.lo = pgm_read_dword (& t[i].z);
+	v.fl = hypot (x.fl, y.fl);
+	
+	if (   v.lo == z.lo
+	    || (isnan(v.fl) && isnan(z.fl))	)
+	  continue;
+	x_exit (i+1);
+    }
+    return 0;
+}
diff --git a/tests/simulate/math/hypot-500.c b/tests/simulate/math/hypot-500.c
new file mode 100644
index 0000000..325c63b
--- /dev/null
+++ b/tests/simulate/math/hypot-500.c
@@ -0,0 +1,580 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of hypot() function. 500 random cases.
+   $Id$
+ */
+#include <math.h>
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+volatile union lofl_u v = { .lo = 1 };
+
+PROGMEM const struct {		/* Table of test cases.	*/
+    long x,y;		/* args		*/
+    long z;		/* result	*/
+} t[] = {
+
+    /* x, y, hypot(x,y)	*/
+    { 0xc99712ee,0xc8f76d53,0x49a33f3e }, /*   1: -1.2375978e+06 -5.0673059e+05  1.3373198e+06 */
+    { 0xc2df61be,0x430b4265,0x43328424 }, /*   2: -1.1169090e+02  1.3925935e+02  1.7851617e+02 */
+    { 0x69aec6c4,0x67ec9a48,0x69af66a1 }, /*   3:  2.6411467e+25  2.2346490e+24  2.6505834e+25 */
+    { 0xa31312c3,0xa4440e8b,0x2447798a }, /*   4: -7.9728589e-18 -4.2513044e-17  4.3254194e-17 */
+    { 0x3a4fcb37,0xb98219ab,0x3a59bce6 }, /*   5:  7.9267047e-04 -2.4814656e-04  8.3060411e-04 */
+    { 0x53e625e7,0xd2c23ef8,0x53eb372d }, /*   6:  1.9769567e+12 -4.1714005e+11  2.0204860e+12 */
+    { 0xf4d979da,0x7f05f5fa,0x7f05f5fa }, /*   7: -1.3784178e+32  1.7806451e+38  1.7806451e+38 */
+    { 0x26d276c8,0x258eccc4,0x26d57867 }, /*   8:  1.4603873e-15  2.4771828e-16  1.4812479e-15 */
+    { 0x000078ef,0x8001deb6,0x0001edc0 }, /*   9:  4.3382799e-41 -1.7172913e-40  1.7712413e-40 */
+    { 0xd2dfdf6b,0x52e477a7,0x531fef44 }, /*  10: -4.8076302e+11  4.9062999e+11  6.8691401e+11 */
+    { 0xa04f79f9,0xa04f2068,0x20929599 }, /*  11: -1.7573939e-19 -1.7544304e-19  2.4832357e-19 */
+    { 0x0bbd83db,0x8c1547cf,0x0c30d0b9 }, /*  12:  7.2998546e-32 -1.1500152e-31  1.3621357e-31 */
+    { 0x5a0e0325,0xdaaf2ec1,0x5abd06a8 }, /*  13:  9.9932260e+15 -2.4654764e+16  2.6603045e+16 */
+    { 0xdb63a0f3,0x5bc3be33,0x5be26d37 }, /*  14: -6.4071785e+16  1.1019349e+17  1.2746686e+17 */
+    { 0xe0e34ed7,0xe0ebd584,0x6123c5ef }, /*  15: -1.3103412e+20 -1.3594907e+20  1.8881762e+20 */
+    { 0x69f70e5d,0x68d9ced3,0x69fcfc53 }, /*  16:  3.7334063e+25  8.2285501e+24  3.8230109e+25 */
+    { 0x51b35c38,0xd0a8ead9,0x51b843b7 }, /*  17:  9.6293290e+10 -2.2671706e+10  9.8926256e+10 */
+    { 0x24537697,0x8f8f0043,0x24537697 }, /*  18:  4.5853781e-17 -1.4100989e-29  4.5853781e-17 */
+    { 0x706dab1f,0xf10165e3,0x710e633b }, /*  19:  2.9421928e+29 -6.4074784e+29  7.0506934e+29 */
+    { 0x92d4de8f,0x915aaecd,0x12d69e08 }, /*  20: -1.3433946e-27 -1.7251032e-28  1.3544256e-27 */
+    { 0xfe122c56,0xfdf911cf,0x7e4007ad }, /*  21: -4.8574373e+37 -4.1383780e+37  6.3812908e+37 */
+    { 0xcd65e265,0xcd976738,0x4dbe1753 }, /*  22: -2.4105122e+08 -3.1751552e+08  3.9864995e+08 */
+    { 0x8cf47a5e,0x0d0b5328,0x0d395905 }, /*  23: -3.7667800e-31  4.2932778e-31  5.7114680e-31 */
+    { 0x09172f57,0x07ea1089,0x0919fd70 }, /*  24:  1.8198223e-33  3.5218125e-34  1.8535871e-33 */
+    { 0xb6720253,0x369d96e3,0x36c6afde }, /*  25: -3.6062163e-06  4.6965301e-06  5.9213335e-06 */
+    { 0xeea152ca,0x6e46e102,0x6ebd8229 }, /*  26: -2.4963586e+28  1.5387512e+28  2.9325010e+28 */
+    { 0x1d15ab4d,0x9d0f757e,0x1d4f51c3 }, /*  27:  1.9808546e-21 -1.8986634e-21  2.7438492e-21 */
+    { 0xdb031044,0x5c193062,0x5c1ca76c }, /*  28: -3.6891106e+16  1.7247548e+17  1.7637671e+17 */
+    { 0xa08c3581,0xa14c758d,0x215824d9 }, /*  29: -2.3752328e-19 -6.9273466e-19  7.3232414e-19 */
+    { 0x40fcbe06,0xc0fb32c2,0x41322bb5 }, /*  30:  7.8981962e+00 -7.8499460e+00  1.1135671e+01 */
+    { 0x8bca1ec2,0x0e6fb990,0x0e6fcedc }, /*  31: -7.7853849e-32  2.9548370e-30  2.9558624e-30 */
+    { 0x2f852df4,0x30b5cec5,0x30b8d4cc }, /*  32:  2.4225211e-10  1.3228251e-09  1.3448243e-09 */
+    { 0x77138186,0xf69a08e5,0x772666f4 }, /*  33:  2.9917761e+33 -1.5620979e+33  3.3750368e+33 */
+    { 0x450cf831,0xc4da7ebc,0x453258ab }, /*  34:  2.2555120e+03 -1.7479604e+03  2.8535417e+03 */
+    { 0x0e8c9a86,0x0ee8cdef,0x0f07fc11 }, /*  35:  3.4661465e-30  5.7390722e-30  6.7045601e-30 */
+    { 0xf8bfd62b,0x788ecf17,0x78ef27fb }, /*  36: -3.1127267e+34  2.3172076e+34  3.8805308e+34 */
+    { 0x887e3416,0x89591ace,0x09623701 }, /*  37: -7.6496571e-34 -2.6133028e-33  2.7229623e-33 */
+    { 0x8d8abbbe,0x0d39d5b4,0x0da6f98d }, /*  38: -8.5501039e-31  5.7264762e-31  1.0290617e-30 */
+    { 0x3aeb3a9f,0xb96aad16,0x3aed0d10 }, /*  39:  1.7946548e-03 -2.2380459e-04  1.8085558e-03 */
+    { 0xea04b39d,0x6a4d3124,0x6a745d06 }, /*  40: -4.0106602e+25  6.2015463e+25  7.3854298e+25 */
+    { 0x8001b623,0x80025ea8,0x0002ec54 }, /*  41: -1.5717384e-40 -2.1762726e-40  2.6844955e-40 */
+    { 0xc6b6a609,0xc59fa5f0,0x46baf55f }, /*  42: -2.3379018e+04 -5.1087422e+03  2.3930686e+04 */
+    { 0xaf6402ff,0xae354fdd,0x2f68793c }, /*  43: -2.0737544e-10 -4.1225568e-11  2.1143348e-10 */
+    { 0xf744cb83,0x7343007b,0x7744cbe4 }, /*  44: -3.9914761e+33  1.5449640e+31  3.9915062e+33 */
+    { 0xef194ecb,0x6e0a1d4c,0x6f1d25e5 }, /*  45: -4.7446461e+28  1.0686087e+28  4.8634958e+28 */
+    { 0xe4d692d6,0x62cd00a8,0x64d6f4ae }, /*  46: -3.1665471e+22  1.8908149e+21  3.1721874e+22 */
+    { 0xa1157540,0x2193c626,0x21a5983a }, /*  47: -5.0638343e-19  1.0013557e-18  1.1221129e-18 */
+    { 0x3b10bdcf,0xbae78b5a,0x3b3958ac }, /*  48:  2.2085791e-03 -1.7665431e-03  2.8281612e-03 */
+    { 0x0b0f3314,0x8a627b50,0x0b19fca8 }, /*  49:  2.7579225e-32 -1.0904697e-32  2.9656806e-32 */
+    { 0x9bb8ab98,0x1ce1de15,0x1ce6899f }, /*  50: -3.0551136e-22  1.4946658e-21  1.5255697e-21 */
+    { 0x0810f627,0x8798f811,0x0823e6cd }, /*  51:  4.3622774e-34 -2.3016218e-34  4.9322333e-34 */
+    { 0xb935cd9d,0xb903968b,0x39606d81 }, /*  52: -1.7338102e-04 -1.2549215e-04  2.1403098e-04 */
+    { 0x3df104b0,0x3daf9e97,0x3e151b7d }, /*  53:  1.1768472e-01  8.5751705e-02  1.4561267e-01 */
+    { 0xc94c3ac0,0xc9937b2a,0x49b361ef }, /*  54: -8.3652400e+05 -1.2081652e+06  1.4695019e+06 */
+    { 0x000003ce,0x800004d0,0x00000623 }, /*  55:  1.3648647e-42 -1.7263997e-42  2.2014399e-42 */
+    { 0xfd8875c6,0x7968ed84,0x7d8875f8 }, /*  56: -2.2673315e+37  7.5589391e+34  2.2673442e+37 */
+    { 0xe7e6d86b,0xe80be3b4,0x68355c2b }, /*  57: -2.1802730e+24 -2.6424373e+24  3.4257941e+24 */
+    { 0x000003b2,0x0000046a,0x000005c2 }, /*  58:  1.3256283e-42  1.5834673e-42  2.0655139e-42 */
+    { 0x80000051,0x00000007,0x00000051 }, /*  59: -1.1350518e-43  9.8090893e-45  1.1350518e-43 */
+    { 0x7e32c714,0xfe27d3e5,0x7e753593 }, /*  60:  5.9409064e+37 -5.5770324e+37  8.1484758e+37 */
+    { 0x2e76e735,0x2ef88e11,0x2f0ac323 }, /*  61:  5.6139277e-11  1.1302970e-10  1.2620353e-10 */
+    { 0x5ac5dae9,0xdb8ed0f1,0x5b9723b1 }, /*  62:  2.7845632e+16 -8.0398360e+16  8.5083929e+16 */
+    { 0x3f21715f,0xb79c0c2a,0x3f21715f }, /*  63:  6.3063616e-01 -1.8602314e-05  6.3063616e-01 */
+    { 0x1bb5cb8b,0x1c376895,0x1c4cb28d }, /*  64:  3.0075475e-22  6.0684790e-22  6.7728709e-22 */
+    { 0xbde563ed,0xbde7c578,0x3e230c26 }, /*  65: -1.1200700e-01 -1.1316961e-01  1.5922603e-01 */
+    { 0x6a476f49,0x6aa2e85e,0x6abf00fb }, /*  66:  6.0275442e+25  9.8471653e+25  1.1545473e+26 */
+    { 0x8030c227,0x989af1cc,0x189af1cc }, /*  67: -4.4777526e-39 -4.0052219e-24  4.0052219e-24 */
+    { 0x978da9e7,0x97c0d804,0x17ef48f9 }, /*  68: -9.1548008e-25 -1.2462239e-24  1.5463434e-24 */
+    { 0x09b3371d,0x89a6184f,0x09f458ef }, /*  69:  4.3144511e-33 -3.9985906e-33  5.8824496e-33 */
+    { 0xb347b8b5,0x32e4f850,0x3366351f }, /*  70: -4.6501288e-08  2.6655613e-08  5.3599361e-08 */
+    { 0xc392a198,0x4330982f,0x43ab29fc }, /*  71: -2.9326245e+02  1.7659447e+02  3.4232800e+02 */
+    { 0x40012e46,0x40919c42,0x409f4b0a }, /*  72:  2.0184493e+00  4.5503244e+00  4.9779100e+00 */
+    { 0xa259c100,0xa1b63bb2,0x226c0c79 }, /*  73: -2.9511157e-18 -1.2348601e-18  3.1990567e-18 */
+    { 0xf6abd86f,0x7805e02f,0x7807968c }, /*  74: -1.7427198e+33  1.0861289e+34  1.1000211e+34 */
+    { 0x51466efa,0x52e8f6f5,0x52ea480c }, /*  75:  5.3266588e+10  5.0028783e+11  5.0311555e+11 */
+    { 0x63723220,0x6203a9f0,0x63746c1d }, /*  76:  4.4677240e+21  6.0719219e+20  4.5087959e+21 */
+    { 0xcf41671d,0xcdfbb5c5,0x4f43f207 }, /*  77: -3.2447603e+09 -5.2787421e+08  3.2874186e+09 */
+    { 0xfd3fe384,0xf5720614,0x7d3fe384 }, /*  78: -1.5941492e+37 -3.0680154e+32  1.5941492e+37 */
+    { 0x90daa2bc,0x9216ce01,0x121942d6 }, /*  79: -8.6236571e-29 -4.7585574e-28  4.8360669e-28 */
+    { 0x3eb7f23e,0x4000aa3d,0x4002b410 }, /*  80:  3.5927004e-01  2.0103905e+00  2.0422401e+00 */
+    { 0xa14ccdf1,0x20ed313e,0x216caa06 }, /*  81: -6.9390450e-19  4.0181947e-19  8.0184934e-19 */
+    { 0xfcb52ee1,0x7cf27bc0,0x7d17593a }, /*  82: -7.5260524e+36  1.0072366e+37  1.2573545e+37 */
+    { 0xdf61be94,0x5f9c6537,0x5fc0df43 }, /*  83: -1.6266602e+19  2.2538948e+19  2.7795801e+19 */
+    { 0x0002ee0f,0x00007ac3,0x0002f80a }, /*  84:  2.6907032e-40  4.4038607e-41  2.7265064e-40 */
+    { 0x7995dddd,0x7944d4f5,0x79b34ad1 }, /*  85:  9.7269019e+34  6.3875592e+34  1.1636732e+35 */
+    { 0xc14b1d89,0x3e5436b2,0x414b2477 }, /*  86: -1.2694711e+01  2.0723990e-01  1.2696403e+01 */
+    { 0x9bcb0f15,0x19f6bad8,0x1bcba4c3 }, /*  87: -3.3593279e-22  2.5511269e-23  3.3690008e-22 */
+    { 0x6637cde8,0x66677b34,0x6693ca41 }, /*  88:  2.1699784e+23  2.7328484e+23  3.4895940e+23 */
+    { 0xcf11ee2e,0x4f66650a,0x4f885c70 }, /*  89: -2.4483057e+09  3.8653814e+09  4.5755187e+09 */
+    { 0xa30f10fa,0xa31f9df5,0x23565963 }, /*  90: -7.7556405e-18 -8.6528560e-18  1.1619892e-17 */
+    { 0x0bea3b30,0x0b85cbc1,0x0c06e021 }, /*  91:  9.0222577e-32  5.1536311e-32  1.0390431e-31 */
+    { 0xc296c595,0xc261ed02,0x42bc652c }, /*  92: -7.5385902e+01 -5.6481453e+01  9.4197601e+01 */
+    { 0xde9eb809,0x5ecb3920,0x5f00edf8 }, /*  93: -5.7184506e+18  7.3218854e+18  9.2903543e+18 */
+    { 0x8000039d,0x00000363,0x000004f4 }, /*  94: -1.2962011e-42  1.2149258e-42  1.7768465e-42 */
+    { 0x8079687c,0x825cd094,0x025d55ed }, /*  95: -1.1149577e-38 -1.6222906e-37  1.6261175e-37 */
+    { 0x52774ad2,0x5262a7b7,0x52a7b978 }, /*  96:  2.6552805e+11  2.4336910e+11  3.6018559e+11 */
+    { 0xafa3393b,0xb2178662,0x32179c5b }, /*  97: -2.9690192e-10 -8.8199119e-09  8.8249079e-09 */
+    { 0xef17c611,0x6ee18f15,0x6f3d16a8 }, /*  98: -4.6971684e+28  3.4903551e+28  5.8520057e+28 */
+    { 0x581ec241,0xd81ab7d3,0x585dae17 }, /*  99:  6.9822861e+14 -6.8045724e+14  9.7495912e+14 */
+    { 0x8f70444a,0x0f562517,0x0fa0ec8c }, /* 100: -1.1846066e-29  1.0558158e-29  1.5868333e-29 */
+    { 0x17a9058c,0x98114dda,0x182817e4 }, /* 101:  1.0922769e-24 -1.8780116e-24  2.1725553e-24 */
+    { 0xa8a9fa02,0xa5d5fda9,0x28aa026d }, /* 102: -1.8871193e-14 -3.7121497e-16  1.8874843e-14 */
+    { 0x730408f1,0xf374e494,0x738b1c04 }, /* 103:  1.0460885e+31 -1.9402413e+31  2.2042770e+31 */
+    { 0xe215d44e,0xe08f299e,0x6216e4ec }, /* 104: -6.9096576e+20 -8.2527601e+19  6.9587679e+20 */
+    { 0xc00964c2,0xc01b42a3,0x404f52a5 }, /* 105: -2.1467748e+00 -2.4259422e+00  3.2394192e+00 */
+    { 0x34d91056,0x3491216a,0x35028e5c }, /* 106:  4.0431286e-07  2.7032667e-07  4.8635934e-07 */
+    { 0xd67b2fe9,0xd54bcff6,0x568026c7 }, /* 107: -6.9045798e+13 -1.4005878e+13  7.0452018e+13 */
+    { 0x8000d125,0x80008891,0x0000f9c9 }, /* 108: -7.5026921e-41 -4.8990796e-41  8.9606030e-41 */
+    { 0xd07ce7ba,0xd5bfb6a2,0x55bfb6a5 }, /* 109: -1.6972179e+10 -2.6348890e+13  2.6348897e+13 */
+    { 0xa4a12c20,0xa513ac4d,0x25283afa }, /* 110: -6.9897371e-17 -1.2808595e-16  1.4591659e-16 */
+    { 0xcb692cac,0x4cc1059a,0x4cc335c9 }, /* 111: -1.5281324e+07  1.0119906e+08  1.0234631e+08 */
+    { 0xefb7233d,0x686ef940,0x6fb7233d }, /* 112: -1.1335671e+29  4.5140843e+24  1.1335671e+29 */
+    { 0x03610854,0x036bdefc,0x03a2ffc3 }, /* 113:  6.6131117e-37  6.9316267e-37  9.5802243e-37 */
+    { 0xb32cc9da,0xb3d5f7fd,0x33e6c08f }, /* 114: -4.0230454e-08 -9.9636942e-08  1.0745236e-07 */
+    { 0x4f6cb0f7,0xd081052b,0x50845e7a }, /* 115:  3.9710205e+09 -1.7316796e+10  1.7766273e+10 */
+    { 0x56430775,0x55c0fc6b,0x56599821 }, /* 116:  5.3609199e+13  2.6523795e+13  5.9811853e+13 */
+    { 0xc6117dfa,0xc5b0786d,0x462a2831 }, /* 117: -9.3114941e+03 -5.6470532e+03  1.0890048e+04 */
+    { 0xba7fade7,0xb98d0474,0x3a849c94 }, /* 118: -9.7533915e-04 -2.6896934e-04  1.0117465e-03 */
+    { 0x0eb9b114,0x16f7b329,0x16f7b329 }, /* 119:  4.5776541e-30  4.0018068e-25  4.0018068e-25 */
+    { 0x92c98dc5,0x91a82dd4,0x12cde476 }, /* 120: -1.2719832e-27 -2.6533970e-28  1.2993639e-27 */
+    { 0x5401ef12,0x542ea203,0x5459ab0f }, /* 121:  2.2322469e+12  3.0001697e+12  3.7395112e+12 */
+    { 0x6feab8aa,0xf0a39878,0x70adcd23 }, /* 122:  1.4528547e+29 -4.0504304e+29  4.3031121e+29 */
+    { 0xad26265f,0x2e14ec1e,0x2e1a9b4f }, /* 123: -9.4445276e-12  3.3861018e-11  3.5153488e-11 */
+    { 0x499e5f41,0xca1fe151,0x4a326a5e }, /* 124:  1.2973841e+06 -2.6194762e+06  2.9231595e+06 */
+    { 0x8c92d767,0x8c6e422e,0x0cbd1677 }, /* 125: -2.2624502e-31 -1.8354768e-31  2.9133581e-31 */
+    { 0x8000016c,0x800000a1,0x0000018e }, /* 126: -5.1007264e-43 -2.2560905e-43  5.5771679e-43 */
+    { 0xb28dc9f9,0xb2fd00ce,0x3311033e }, /* 127: -1.6506407e-08 -2.9453442e-08  3.3763392e-08 */
+    { 0x9690ce91,0x1707e41b,0x1719f9e0 }, /* 128: -2.3394816e-25  4.3908762e-25  4.9752353e-25 */
+    { 0x78255d60,0x77d36039,0x784440e6 }, /* 129:  1.3415982e+34  8.5744239e+33  1.5921976e+34 */
+    { 0x3ebb245e,0x41451181,0x414527b7 }, /* 130:  3.6551183e-01  1.2316773e+01  1.2322196e+01 */
+    { 0x38c04b60,0x3890e8d8,0x38f0c82b }, /* 131:  9.1693131e-05  6.9098256e-05  1.1481376e-04 */
+    { 0xcb66f420,0x4c3a2d44,0x4c42eca7 }, /* 132: -1.5135776e+07  4.8805136e+07  5.1098268e+07 */
+    { 0x90f4f418,0x90993cbc,0x111077c7 }, /* 133: -9.6617116e-29 -6.0441435e-29  1.1396506e-28 */
+    { 0x8000f702,0x8001ccaa,0x00020ab5 }, /* 134: -8.8609707e-41 -1.6525513e-40  1.8751195e-40 */
+    { 0xc753734e,0xc7e6fcbc,0x47fe0887 }, /* 135: -5.4131305e+04 -1.1826547e+05  1.3006505e+05 */
+    { 0xc39178fc,0xc2eeae3a,0x439d3c20 }, /* 136: -2.9094519e+02 -1.1934029e+02  3.1446973e+02 */
+    { 0x5f930232,0xdf8b0ec4,0x5fca5b85 }, /* 137:  2.1186168e+19 -2.0040323e+19  2.9162789e+19 */
+    { 0x9a88c083,0x1950d81e,0x1a8b38b0 }, /* 138: -5.6559301e-23  1.0796992e-23  5.7580636e-23 */
+    { 0xf3eab349,0x7725898f,0x77258c29 }, /* 139: -3.7189752e+31  3.3574961e+33  3.3577022e+33 */
+    { 0xd0e0f398,0xe7f435d2,0x67f435d2 }, /* 140: -3.0192484e+10 -2.3065005e+24  2.3065005e+24 */
+    { 0x47e7eab0,0x48cc340e,0x48d44659 }, /* 141:  1.1874138e+05  4.1820844e+05  4.3473878e+05 */
+    { 0x800001fc,0x0000012c,0x0000024e }, /* 142: -7.1185962e-43  4.2038954e-43  8.2676609e-43 */
+    { 0xd97110f8,0xd9992449,0x59c2e2de }, /* 143: -4.2408829e+15 -5.3881959e+15  6.8569486e+15 */
+    { 0x59140597,0x5921debf,0x595b586b }, /* 144:  2.6040277e+15  2.8476489e+15  3.8587648e+15 */
+    { 0x6b2c1574,0xec8ed575,0x6c9071c8 }, /* 145:  2.0803655e+26 -1.3814039e+27  1.3969811e+27 */
+    { 0x5aede2c2,0xdcbcca94,0x5cbd6038 }, /* 146:  3.3479446e+16 -4.2512026e+17  4.2643651e+17 */
+    { 0xc32c4305,0xbe5feceb,0x432c430e }, /* 147: -1.7226180e+02 -2.1867721e-01  1.7226193e+02 */
+    { 0xba7444fb,0xb7aa6746,0x3a7453d7 }, /* 148: -9.3181402e-04 -2.0313670e-05  9.3203544e-04 */
+    { 0xb41ca315,0x45329ae4,0x45329ae4 }, /* 149: -1.4587961e-07  2.8576807e+03  2.8576807e+03 */
+    { 0x9de82835,0x9d2a42ae,0x1df745f3 }, /* 150: -6.1451462e-21 -2.2533785e-21  6.5452681e-21 */
+    { 0x00000007,0x8000000e,0x00000010 }, /* 151:  9.8090893e-45 -1.9618179e-44  2.2420775e-44 */
+    { 0xb6502728,0xb52c8ff1,0x36549394 }, /* 152: -3.1017207e-06 -6.4284455e-07  3.1676364e-06 */
+    { 0xbf025a8e,0xc166e4b9,0x41670982 }, /* 153: -5.0919425e-01 -1.4430840e+01  1.4439821e+01 */
+    { 0x88f409d4,0x8b84562f,0x0b84643e }, /* 154: -1.4687526e-33 -5.0974225e-32  5.0995378e-32 */
+    { 0x57b249a4,0xd575606d,0x57b273d6 }, /* 155:  3.9205871e+14 -1.6862156e+13  3.9242116e+14 */
+    { 0x6a109bd8,0xe8208764,0x6a10f4d6 }, /* 156:  4.3705317e+25 -3.0323046e+24  4.3810381e+25 */
+    { 0xac5739de,0x2de62d9e,0x2de7bebe }, /* 157: -3.0585460e-12  2.6168231e-11  2.6346366e-11 */
+    { 0xe6bd1097,0xe44e390b,0x66bd2cb3 }, /* 158: -4.4641665e+23 -1.5216559e+22  4.4667591e+23 */
+    { 0x5d497e5b,0x5ca5cd96,0x5d59e1a7 }, /* 159:  9.0744639e+17  3.7335532e+17  9.8125084e+17 */
+    { 0x2aef5d0e,0x13e9da4a,0x2aef5d0e }, /* 160:  4.2519498e-13  5.9032719e-27  4.2519498e-13 */
+    { 0x26e58221,0xa7164788,0x273d1546 }, /* 161:  1.5925339e-15 -2.0855459e-15  2.6240551e-15 */
+    { 0x91e27d9f,0x9175be53,0x1200d62d }, /* 162: -3.5733933e-28 -1.9385740e-28  4.0653670e-28 */
+    { 0x71957c2f,0xf17f69da,0x71c49bb6 }, /* 163:  1.4804286e+30 -1.2647463e+30  1.9471138e+30 */
+    { 0x466616e7,0x43f18d3f,0x46663698 }, /* 164:  1.4725726e+04  4.8310349e+02  1.4733648e+04 */
+    { 0x879d283e,0x05ae27c4,0x079d889f }, /* 165: -2.3646387e-34  1.6377489e-35  2.3703033e-34 */
+    { 0x8e3c9ed0,0x8ed8ed5a,0x0eec8a95 }, /* 166: -2.3249255e-30 -5.3476672e-30  5.8311941e-30 */
+    { 0x5396b3a2,0xd3f4c400,0x540fb833 }, /* 167:  1.2945177e+12 -2.1025207e+12  2.4690827e+12 */
+    { 0xae4a2117,0x2e8febac,0x2eafdc7e }, /* 168: -4.5958872e-11  6.5447509e-11  7.9972459e-11 */
+    { 0x74f0033f,0x72e523f9,0x74f07088 }, /* 169:  1.5212611e+32  9.0771911e+30  1.5239669e+32 */
+    { 0x5f6da58f,0x5f606d8e,0x5fa36f56 }, /* 170:  1.7124250e+19  1.6171738e+19  2.3553452e+19 */
+    { 0xb2e43eef,0x3a4c33b3,0x3a4c33b3 }, /* 171: -2.6571312e-08  7.7896862e-04  7.7896862e-04 */
+    { 0x6211bc0e,0xe1f16afd,0x623d3bb6 }, /* 172:  6.7208216e+20 -5.5667183e+20  8.7268431e+20 */
+    { 0xa475bbe2,0xa3f7e787,0x24899ceb }, /* 173: -5.3285049e-17 -2.6877849e-17  5.9680108e-17 */
+    { 0x4981506b,0xc2b97642,0x4981506b }, /* 174:  1.0593414e+06 -9.2730972e+01  1.0593414e+06 */
+    { 0x16f5de97,0x9c0ef02b,0x1c0ef02e }, /* 175:  3.9722359e-25 -4.7294269e-22  4.7294284e-22 */
+    { 0x80000003,0x00000007,0x00000008 }, /* 176: -4.2038954e-45  9.8090893e-45  1.1210388e-44 */
+    { 0x679666c4,0x6b5ff2ab,0x6b5ff375 }, /* 177:  1.4205013e+24  2.7073642e+26  2.7074015e+26 */
+    { 0x04b5fa3f,0x044f2fda,0x04d165d4 }, /* 178:  4.2782710e-36  2.4354705e-36  4.9229178e-36 */
+    { 0xe46d9370,0xdc27d0e2,0x646d9370 }, /* 179: -1.7530009e+22 -1.8894396e+17  1.7530009e+22 */
+    { 0xd818c4d3,0x581e3343,0x585bec01 }, /* 180: -6.7188448e+14  6.9577202e+14  9.6722670e+14 */
+    { 0x4200ede5,0xc2f010ad,0x42f891e0 }, /* 181:  3.2232319e+01 -1.2003257e+02  1.2428491e+02 */
+    { 0x9c6d6212,0x1d1cf310,0x1d27cb70 }, /* 182: -7.8543475e-22  2.0772088e-21  2.2207441e-21 */
+    { 0xc9606e75,0xca510413,0x4a586a6a }, /* 183: -9.1927131e+05 -3.4245168e+06  3.5457545e+06 */
+    { 0xfa5de91b,0x776fbfcb,0x7a5df133 }, /* 184: -2.8805639e+35  4.8626913e+33  2.8809743e+35 */
+    { 0x2cf1866d,0xad3ccf83,0x2d602095 }, /* 185:  6.8645562e-12 -1.0732640e-11  1.2740160e-11 */
+    { 0xdf4a5c1c,0xdf6900f4,0x5f9a4e19 }, /* 186: -1.4581560e+19 -1.6789688e+19  2.2237704e+19 */
+    { 0x98eb6acd,0x02541cbb,0x18eb6acd }, /* 187: -6.0853917e-24  1.5583545e-37  6.0853917e-24 */
+    { 0x678073cb,0xe81aa5cf,0x68277446 }, /* 188:  1.2131978e+24 -2.9212123e+24  3.1631203e+24 */
+    { 0x94a5204c,0x95525680,0x1561f632 }, /* 189: -1.6673481e-26 -4.2477399e-26  4.5632602e-26 */
+    { 0x28d5ca31,0xa8d582ec,0x291712e6 }, /* 190:  2.3735437e-14 -2.3704529e-14  3.3545127e-14 */
+    { 0xec3db6cc,0x6ca96e42,0x6cc22d40 }, /* 191: -9.1740085e+26  1.6386331e+27  1.8779624e+27 */
+    { 0x5cd2498a,0xdba5b79e,0x5cd65458 }, /* 192:  4.7352482e+17 -9.3290521e+16  4.8262706e+17 */
+    { 0xc6873d0f,0x45e7bfee,0x46932061 }, /* 193: -1.7310529e+04  7.4159912e+03  1.8832189e+04 */
+    { 0xb7a3063d,0x38f81e4c,0x38fb7181 }, /* 194: -1.9434019e-05  1.1831205e-04  1.1989754e-04 */
+    { 0x7688abaa,0x75febab2,0x7696c767 }, /* 195:  1.3860042e+33  6.4581545e+32  1.5290799e+33 */
+    { 0x2213e3ce,0xa0c22860,0x2215de38 }, /* 196:  2.0042814e-18 -3.2891596e-19  2.0310907e-18 */
+    { 0x896d1790,0x89eb63ca,0x0a03c71c }, /* 197: -2.8538916e-33 -5.6668033e-33  6.3448689e-33 */
+    { 0x145e031b,0x109eaaad,0x145e03fe }, /* 198:  1.1208748e-26  6.2582979e-29  1.1208923e-26 */
+    { 0x057463c8,0x0790fdea,0x0791315f }, /* 199:  1.1491152e-35  2.1815949e-34  2.1846193e-34 */
+    { 0x543a3438,0x539b425b,0x5449bcf7 }, /* 200:  3.1989600e+12  1.3336664e+12  3.4658349e+12 */
+    { 0x1c8526b6,0x1ca3441e,0x1cd2ad79 }, /* 201:  8.8112083e-22  1.0804043e-21  1.3941476e-21 */
+    { 0xf5e2d1a5,0x7696ebd9,0x76a138ef }, /* 202: -5.7505429e+32  1.5305236e+33  1.6349893e+33 */
+    { 0xe79cc24a,0x68ee7532,0x68f1a81d }, /* 203: -1.4805463e+24  9.0086808e+24  9.1295317e+24 */
+    { 0x706a8230,0xf0bda0d7,0x70def3a1 }, /* 204:  2.9030752e+29 -4.6949688e+29  5.5200161e+29 */
+    { 0x4e60ffa6,0xce1e2348,0x4e89819e }, /* 205:  9.4371264e+08 -6.6327808e+08  1.1534866e+09 */
+    { 0x0516076a,0x86476597,0x064ae4d0 }, /* 206:  7.0543279e-36 -3.7502377e-35  3.8160082e-35 */
+    { 0xe8a65557,0x65218085,0x68a65691 }, /* 207: -6.2838966e+24  4.7666986e+22  6.2840776e+24 */
+    { 0xc2997700,0xc308ae1a,0x431cbefa }, /* 208: -7.6732422e+01 -1.3668008e+02  1.5674600e+02 */
+    { 0x851f024e,0x845c439c,0x05284623 }, /* 209: -7.4765674e-36 -2.5891920e-36  7.9122041e-36 */
+    { 0xdcce6cba,0x5c52a647,0x5ce7be04 }, /* 210: -4.6482713e+17  2.3717028e+17  5.2183715e+17 */
+    { 0x8abdf06a,0x8ae06165,0x0b12fd45 }, /* 211: -1.8290472e-32 -2.1607051e-32  2.8309116e-32 */
+    { 0x755e0dd9,0x75939498,0x75b8ae48 }, /* 212:  2.8148700e+32  3.7416088e+32  4.6822142e+32 */
+    { 0x10e85eea,0x90f5a683,0x1129123b }, /* 213:  9.1654103e-29 -9.6892013e-29  1.3337367e-28 */
+    { 0xedb65085,0xeebf4f2a,0x6ec4a9ec }, /* 214: -7.0529517e+27 -2.9603670e+28  3.0432242e+28 */
+    { 0x6c411376,0xe9e42c7a,0x6c413528 }, /* 215:  9.3365834e+26 -3.4480640e+25  9.3429483e+26 */
+    { 0x3d21a28c,0xb8b7bc22,0x3d21a2a6 }, /* 216:  3.9461657e-02 -8.7611625e-05  3.9461754e-02 */
+    { 0x00044ab0,0x8002768a,0x0004f2c4 }, /* 217:  3.9413481e-40 -2.2619480e-40  4.5442988e-40 */
+    { 0x2fa003af,0xaed553f5,0x2fa8ab04 }, /* 218:  2.9106448e-10 -9.7010323e-11  3.0680536e-10 */
+    { 0x3e132963,0x3e791f22,0x3e90aba1 }, /* 219:  1.4371257e-01  2.4328282e-01  2.8255942e-01 */
+    { 0x4e48e3a2,0xc586b480,0x4e48e3a2 }, /* 220:  8.4259034e+08 -4.3105625e+03  8.4259034e+08 */
+    { 0x889d75dc,0x88924530,0x08d6ea6c }, /* 221: -9.4768024e-34 -8.8033213e-34  1.2934769e-33 */
+    { 0x6294f629,0x60ebd50e,0x6295b063 }, /* 222:  1.3739279e+21  1.3594803e+20  1.3806374e+21 */
+    { 0x35e4f0a1,0x371d1a74,0x371fb042 }, /* 223:  1.7057356e-06  9.3640883e-06  9.5181767e-06 */
+    { 0x3e000000,0xc14a3d22,0x414a3faa }, /* 224:  1.2500000e-01 -1.2639925e+01  1.2640543e+01 */
+    { 0xf6cea7a9,0xfe51100b,0x7e51100b }, /* 225: -2.0957299e+33 -6.9472988e+37  6.9472988e+37 */
+    { 0x352b6bec,0x362c1905,0x36315a76 }, /* 226:  6.3859511e-07  2.5644561e-06  2.6427711e-06 */
+    { 0x1db686d4,0x9d725e19,0x1ddb17aa }, /* 227:  4.8314408e-21 -3.2077081e-21  5.7993285e-21 */
+    { 0x101c5d47,0x0f5cc352,0x1025d195 }, /* 228:  3.0837434e-29  1.0884455e-29  3.2701968e-29 */
+    { 0x58b71858,0x608d6d36,0x608d6d36 }, /* 229:  1.6105215e+15  8.1526887e+19  8.1526887e+19 */
+    { 0xa8804e2c,0xad27a6cb,0x2d27a6d7 }, /* 230: -1.4244756e-14 -9.5298864e-12  9.5298968e-12 */
+    { 0x2df083a0,0xae711407,0x2e86b42e }, /* 231:  2.7343294e-11 -5.4814844e-11  6.1256208e-11 */
+    { 0x95e504b2,0x15e64ea0,0x1622658f }, /* 232: -9.2499771e-26  9.3020309e-26  1.3118302e-25 */
+    { 0x2cee7acc,0xad178a9a,0x2d40d42b }, /* 233:  6.7780000e-12 -8.6141320e-12  1.0961047e-11 */
+    { 0x9c5aeda5,0x1c186042,0x1c855e32 }, /* 234: -7.2437298e-22  5.0416992e-22  8.8255506e-22 */
+    { 0x5f3d19de,0xdf0554f5,0x5f676138 }, /* 235:  1.3626166e+19 -9.6075733e+18  1.6672669e+19 */
+    { 0x35b996dc,0x398f8adb,0x398f8b53 }, /* 236:  1.3827480e-06  2.7378541e-04  2.7378890e-04 */
+    { 0x03e58159,0x031f7f4d,0x03f2f750 }, /* 237:  1.3489107e-36  4.6872035e-37  1.4280262e-36 */
+    { 0xbf9f504e,0xbf687acb,0x3fc53642 }, /* 238: -1.2446382e+00 -9.0812367e-01  1.5407183e+00 */
+    { 0x8000134f,0x8000098c,0x0000158a }, /* 239: -6.9266183e-42 -3.4247734e-42  7.7267597e-42 */
+    { 0x21feb342,0xa191826b,0x2212aad5 }, /* 240:  1.7259159e-18 -9.8601035e-19  1.9877127e-18 */
+    { 0x53a19a8e,0x528870e8,0x53a52a15 }, /* 241:  1.3881655e+12  2.9300490e+11  1.4187512e+12 */
+    { 0x4965ef11,0x491d8ab7,0x498b5d1e }, /* 242:  9.4180906e+05  6.4529144e+05  1.1416678e+06 */
+    { 0x6aded78b,0x6a0ce0b6,0x6ae9b5a9 }, /* 243:  1.3469970e+26  4.2577696e+25  1.4126879e+26 */
+    { 0x4fa17621,0xd0c28202,0x50c6a6f1 }, /* 244:  5.4177469e+09 -2.6106401e+10  2.6662636e+10 */
+    { 0xaf5a20da,0x3f0d5f28,0x3f0d5f28 }, /* 245: -1.9838656e-10  5.5223322e-01  5.5223322e-01 */
+    { 0x5216f68c,0xd2d0653b,0x52dda4e5 }, /* 246:  1.6209537e+11 -4.4752578e+11  4.7597712e+11 */
+    { 0x55d7ac7e,0x57bb44a9,0x57bbc0b2 }, /* 247:  2.9641981e+13  4.1180714e+14  4.1287259e+14 */
+    { 0x75e9d4c8,0x75a38d81,0x760ead3a }, /* 248:  5.9283246e+32  4.1465548e+32  7.2345665e+32 */
+    { 0xc87709a1,0x49d2edc1,0x49d52d58 }, /* 249: -2.5296652e+05  1.7279281e+06  1.7463470e+06 */
+    { 0xb6704759,0x369601f5,0x36c02fd1 }, /* 250: -3.5804317e-06  4.4705762e-06  5.7276125e-06 */
+    { 0x800013a6,0x80000e23,0x00001835 }, /* 251: -7.0485313e-42 -5.0712991e-42  8.6838466e-42 */
+    { 0x7118a7a6,0xf13a584a,0x7170e3ce }, /* 252:  7.5591034e+29 -9.2273515e+29  1.1928288e+30 */
+    { 0x0317df03,0x85eccaad,0x05ecd6da }, /* 253:  4.4630917e-37 -2.2267785e-35  2.2272257e-35 */
+    { 0xcf021f21,0x4f679ec1,0x4f84d583 }, /* 254: -2.1830781e+09  3.8859410e+09  4.4571704e+09 */
+    { 0x0b1c20de,0x8b3134ce,0x0b6c2c88 }, /* 255:  3.0069234e-32 -3.4128686e-32  4.5485448e-32 */
+    { 0x27d4f7ae,0xa6ad888b,0x27d95764 }, /* 256:  5.9110355e-15 -1.2041296e-15  6.0324348e-15 */
+    { 0x38988e76,0x391165ab,0x392430e8 }, /* 257:  7.2744602e-05  1.3866152e-04  1.5658478e-04 */
+    { 0x8c8850b1,0x0c19b671,0x0c9c7d1f }, /* 258: -2.1002682e-31  1.1841593e-31  2.4110910e-31 */
+    { 0x01d9935f,0x02f98d76,0x02ff696c }, /* 259:  7.9924678e-38  3.6668456e-37  3.7529392e-37 */
+    { 0x9b6c6832,0x1dcaf027,0x1dcb1291 }, /* 260: -1.9555130e-22  5.3717266e-21  5.3752850e-21 */
+    { 0xb2adea18,0xb562df6f,0x3562f019 }, /* 261: -2.0246304e-08 -8.4516699e-07  8.4540949e-07 */
+    { 0xc4c5ca5a,0x46013de9,0x460395dd }, /* 262: -1.5823235e+03  8.2714775e+03  8.4214658e+03 */
+    { 0x4ce21e00,0x4e04fc91,0x4e07f502 }, /* 263:  1.1855053e+08  5.5778618e+08  5.7024525e+08 */
+    { 0x4094f25f,0xc08a2e3e,0x40cb2c23 }, /* 264:  4.6545863e+00 -4.3181448e+00  6.3491378e+00 */
+    { 0x80000edc,0x800004b4,0x00000f96 }, /* 265: -5.3305394e-42 -1.6871634e-42  5.5911809e-42 */
+    { 0x41bc6f11,0x41c1fc44,0x4207384a }, /* 266:  2.3554232e+01  2.4248177e+01  3.3804970e+01 */
+    { 0xd672c031,0x55d6e2bb,0x5684bb93 }, /* 267: -6.6726817e+13  2.9533661e+13  7.2970580e+13 */
+    { 0xfae73c81,0x7e15d0fd,0x7e15d3c7 }, /* 268: -6.0032387e+35  4.9785025e+37  4.9788646e+37 */
+    { 0x8f6c0b1d,0x0f095154,0x0f888a3b }, /* 269: -1.1637839e-29  6.7702847e-30  1.3463880e-29 */
+    { 0x14992e2f,0x150b25b7,0x151ed557 }, /* 270:  1.5467268e-26  2.8100578e-26  3.2076141e-26 */
+    { 0x0000025c,0x80000160,0x000002bb }, /* 271:  8.4638427e-43 -4.9325706e-43  9.7950763e-43 */
+    { 0x00000033,0x80000026,0x00000040 }, /* 272:  7.1466222e-44 -5.3249342e-44  8.9683102e-44 */
+    { 0xa0100151,0xa132a856,0x21363fb0 }, /* 273: -1.2197710e-19 -6.0531537e-19  6.1748288e-19 */
+    { 0x5a9dfdef,0x5901dae4,0x5a9ed2d5 }, /* 274:  2.2235387e+16  2.2844340e+15  2.2352429e+16 */
+    { 0x0000000d,0x80000070,0x00000071 }, /* 275:  1.8216880e-44 -1.5694543e-43  1.5834673e-43 */
+    { 0x14e110fc,0x14b8a8f7,0x15119017 }, /* 276:  2.2725893e-26  1.8645897e-26  2.9396184e-26 */
+    { 0x800001f8,0x00003894,0x0000389d }, /* 277: -7.0625443e-43  2.0296407e-41  2.0309019e-41 */
+    { 0x3f3dc3c5,0xc69fdd71,0x469fdd71 }, /* 278:  7.4126846e-01 -2.0462721e+04  2.0462721e+04 */
+    { 0x00026b0f,0x8028ba18,0x0028cc75 }, /* 279:  2.2207638e-40 -3.7401777e-39  3.7467652e-39 */
+    { 0xbf188933,0xbe01263f,0x3f1bea67 }, /* 280: -5.9584349e-01 -1.2612246e-01  6.0904545e-01 */
+    { 0xbb7569ac,0xbb400485,0x3b9bcd8d }, /* 281: -3.7447019e-03 -2.9299569e-03  4.7547282e-03 */
+    { 0x0fdaabff,0x974b659b,0x174b659b }, /* 282:  2.1562710e-29 -6.5721082e-25  6.5721082e-25 */
+    { 0x10310a1a,0x10f26dd4,0x11010ace }, /* 283:  3.4914877e-29  9.5621387e-29  1.0179635e-28 */
+    { 0x3521891f,0xb4eb5034,0x3547d791 }, /* 284:  6.0176711e-07 -4.3830516e-07  7.4446967e-07 */
+    { 0xa2b5b289,0xa224d78b,0x22c78470 }, /* 285: -4.9249180e-18 -2.2340252e-18  5.4079282e-18 */
+    { 0x14e736ea,0x942fe336,0x14f75fee }, /* 286:  2.3346699e-26 -8.8800516e-27  2.4978464e-26 */
+    { 0x84ec815c,0x061481ae,0x06176ba8 }, /* 287: -5.5602131e-36  2.7930980e-35  2.8479037e-35 */
+    { 0x00000098,0x000005b3,0x000005bb }, /* 288:  2.1299737e-43  2.0444945e-42  2.0557048e-42 */
+    { 0x3a6aa94f,0xba495947,0x3a9a9a25 }, /* 289:  8.9516205e-04 -7.6808449e-04  1.1795206e-03 */
+    { 0x00000004,0x00000008,0x00000009 }, /* 290:  5.6051939e-45  1.1210388e-44  1.2611686e-44 */
+    { 0x33209a1b,0x33180d44,0x335d298b }, /* 291:  3.7393061e-08  3.5402323e-08  5.1493355e-08 */
+    { 0x87610803,0x091e9602,0x091f355a }, /* 292: -1.6929473e-34  1.9089092e-33  1.9164015e-33 */
+    { 0xc095d977,0xc0d6cf7b,0x4102f4dc }, /* 293: -4.6827960e+00 -6.7128272e+00  8.1847801e+00 */
+    { 0x090e25b1,0x88ef027b,0x0939b519 }, /* 294:  1.7110351e-33 -1.4384872e-33  2.2353717e-33 */
+    { 0x000000dc,0x00000078,0x000000fb }, /* 295:  3.0828566e-43  1.6815582e-43  3.5172591e-43 */
+    { 0x74a4baaf,0x747b63a1,0x74cf350f }, /* 296:  1.0440956e+32  7.9668410e+31  1.3133320e+32 */
+    { 0x0018e91c,0x800ba516,0x001b7f7d }, /* 297:  2.2876758e-39 -1.0694121e-39  2.5252926e-39 */
+    { 0xbb68376d,0x3b819c98,0x3bae032d }, /* 298: -3.5433427e-03  3.9554350e-03  5.3104372e-03 */
+    { 0xc1e3adee,0x4277a504,0x4288474c }, /* 299: -2.8459927e+01  6.1911148e+01  6.8139252e+01 */
+    { 0x05992239,0x055d7768,0x05bcf9c0 }, /* 300:  1.4400622e-35  1.0413302e-35  1.7771179e-35 */
+    { 0xa367365b,0xa274baca,0x236f2b98 }, /* 301: -1.2534045e-17 -3.3167052e-18  1.2965447e-17 */
+    { 0x0b5949b9,0x8b6e34c6,0x0ba13613 }, /* 302:  4.1848143e-32 -4.5876835e-32  6.2096306e-32 */
+    { 0x800a165f,0x8004fe91,0x000b418f }, /* 303: -9.2638020e-40 -4.5866320e-40  1.0337084e-39 */
+    { 0xf932bfe7,0x7a9d6b4c,0x7a9eff37 }, /* 304: -5.8007568e+34  4.0868342e+35  4.1277964e+35 */
+    { 0x8dd67f35,0x0e317865,0x0e4f5c04 }, /* 305: -1.3219392e-30  2.1874902e-30  2.5559024e-30 */
+    { 0x80000003,0x8000000a,0x0000000a }, /* 306: -4.2038954e-45 -1.4012985e-44  1.4012985e-44 */
+    { 0x00000045,0x800001a5,0x000001ab }, /* 307:  9.6689594e-44 -5.8994665e-43  5.9835444e-43 */
+    { 0x02a8658a,0x84fb5ca8,0x04fb950a }, /* 308:  2.4743662e-37 -5.9094908e-36  5.9146687e-36 */
+    { 0xdc15c257,0xdc3d067c,0x5c712915 }, /* 309: -1.6861380e+17 -2.1282360e+17  2.7152256e+17 */
+    { 0xb3589934,0x3551ecc1,0x35525c61 }, /* 310: -5.0430756e-08  7.8203090e-07  7.8365525e-07 */
+    { 0x38b6699f,0x396dd5eb,0x397eb95f }, /* 311:  8.6981097e-05  2.2681772e-04  2.4292384e-04 */
+    { 0xe96acd6d,0x69b48c76,0x69d75cb8 }, /* 312: -1.7741171e+25  2.7283744e+25  3.2544613e+25 */
+    { 0xb060ac65,0xb005c42e,0x3082bd63 }, /* 313: -8.1735713e-10 -4.8663906e-10  9.5125718e-10 */
+    { 0x66197e49,0x7868468a,0x7868468a }, /* 314:  1.8121291e+23  1.8844431e+34  1.8844431e+34 */
+    { 0xa983a5da,0x2a233844,0x2a2ffe2c }, /* 315: -5.8463393e-14  1.4496829e-13  1.5631306e-13 */
+    { 0xf7a271f6,0xe1658137,0x77a271f6 }, /* 316: -6.5895585e+33 -2.6460096e+20  6.5895585e+33 */
+    { 0x800001c4,0x00000049,0x000001ca }, /* 317: -6.3338691e-43  1.0229479e-43  6.4179470e-43 */
+    { 0x80000074,0x000ebe92,0x000ebe92 }, /* 318: -1.6255062e-43  1.3540607e-39  1.3540607e-39 */
+    { 0xa76117a8,0xa91f1bd6,0x291fbabf }, /* 319: -3.1237847e-15 -3.5329236e-14  3.5467069e-14 */
+    { 0x800a4bf1,0x00782cf6,0x00789dae }, /* 320: -9.4559761e-40  1.1036388e-38  1.1076824e-38 */
+    { 0x082c4fdc,0x856c8fa5,0x082c5a02 }, /* 321:  5.1853241e-34 -1.1123050e-35  5.1865171e-34 */
+    { 0x521c9fbd,0x4f666690,0x521caa54 }, /* 322:  1.6817372e+11  3.8654812e+09  1.6821813e+11 */
+    { 0x466fe8ec,0xc73a7d6d,0x4743e5bd }, /* 323:  1.5354230e+04 -4.7741426e+04  5.0149738e+04 */
+    { 0x4466df97,0x449ad7a5,0x44c122ff }, /* 324:  9.2349359e+02  1.2387389e+03  1.5450936e+03 */
+    { 0xc29ddf1f,0xc25b49bd,0x42c03622 }, /* 325: -7.8935783e+01 -5.4822010e+01  9.6105728e+01 */
+    { 0x800046b2,0x00007a9a,0x00008d86 }, /* 326: -2.5360700e-41  4.3981154e-41  5.0769043e-41 */
+    { 0x739844f0,0x72e1094b,0x73a25479 }, /* 327:  2.4128032e+31  8.9146063e+30  2.5722211e+31 */
+    { 0x3dff3430,0xc26742c0,0x426742e3 }, /* 328:  1.2461126e-01 -5.7815186e+01  5.7815319e+01 */
+    { 0x2e9de7fd,0xaf6959b8,0x2f765869 }, /* 329:  7.1807428e-11 -2.1223101e-10  2.2404979e-10 */
+    { 0x10e0c123,0x10926ce8,0x11061f43 }, /* 330:  8.8649996e-29  5.7754643e-29  1.0580369e-28 */
+    { 0xdb90119e,0x5b6be3af,0x5bba30ae }, /* 331: -8.1103534e+16  6.6396960e+16  1.0481574e+17 */
+    { 0xc318c85d,0xc2024dd0,0x431c378b }, /* 332: -1.5278267e+02 -3.2575989e+01  1.5621696e+02 */
+    { 0x4497e9b0,0x421aa7a5,0x4497fd5d }, /* 333:  1.2153027e+03  3.8663715e+01  1.2159176e+03 */
+    { 0x80000ae6,0x80003352,0x00003477 }, /* 334: -3.9096227e-42 -1.8410259e-41  1.8820840e-41 */
+    { 0x3b20ab8c,0x39e6758d,0x3b233b71 }, /* 335:  2.4516312e-03  4.3956601e-04  2.4907256e-03 */
+    { 0x97e567e9,0x16d4d489,0x17eb7ed6 }, /* 336: -1.4825009e-24  3.4384576e-25  1.5218537e-24 */
+    { 0x804b231b,0x80d2561f,0x00df5a9d }, /* 337: -6.9002557e-39 -1.9316349e-38  2.0511822e-38 */
+    { 0x210ffee4,0x28bee27a,0x28bee27a }, /* 338:  4.8787630e-19  2.1192456e-14  2.1192456e-14 */
+    { 0x6ef1812e,0x6f44d9aa,0x6f66ef74 }, /* 339:  3.7371028e+28  6.0922202e+28  7.1471033e+28 */
+    { 0xb6689785,0xb61a832a,0x368b9e47 }, /* 340: -3.4658890e-06 -2.3024136e-06  4.1609487e-06 */
+    { 0x0a50b6e0,0x0958a53d,0x0a57a097 }, /* 341:  1.0049231e-32  2.6077749e-33  1.0382077e-32 */
+    { 0xbaa6daca,0x3bbd2a43,0x3bc1b5b1 }, /* 342: -1.2729999e-03  5.7728603e-03  5.9115519e-03 */
+    { 0x496b6702,0x49ddae76,0x49fafd94 }, /* 343:  9.6420812e+05  1.8160148e+06  2.0561145e+06 */
+    { 0x8e9a0433,0x0e2eb4e3,0x0eb11061 }, /* 344: -3.7967975e-30  2.1534250e-30  4.3649641e-30 */
+    { 0xe3f28814,0xe5603916,0x65624361 }, /* 345: -8.9478351e+21 -6.6178946e+22  6.6781109e+22 */
+    { 0x9c0f1597,0x9a7417cc,0x1c0fe535 }, /* 346: -4.7342635e-22 -5.0477240e-23  4.7610974e-22 */
+    { 0x0d7dbde7,0x8d5bb09d,0x0da7d0d7 }, /* 347:  7.8190231e-31 -6.7697176e-31  1.0342446e-30 */
+    { 0x358c9bc0,0x3693e7cf,0x3698067d }, /* 348:  1.0476142e-06  4.4079275e-06  4.5307083e-06 */
+    { 0xdeaa5a33,0xcfe29d2f,0x5eaa5a33 }, /* 349: -6.1375899e+18 -7.6039040e+09  6.1375899e+18 */
+    { 0x061f5fe8,0x0612ff84,0x0658d0a0 }, /* 350:  2.9975037e-35  2.7647271e-35  4.0778358e-35 */
+    { 0xbbce11b2,0x3e4b3b69,0x3e4b5586 }, /* 351: -6.2887305e-03  1.9846882e-01  1.9856843e-01 */
+    { 0xcaecd99a,0x49374350,0x4aedf48b }, /* 352: -7.7611010e+06  7.5064500e+05  7.7973175e+06 */
+    { 0x24d248d1,0x2465fae7,0x24efabd0 }, /* 353:  9.1196338e-17  4.9868982e-17  1.0394079e-16 */
+    { 0x3ed34bd6,0xbe608a21,0x3eef455f }, /* 354:  4.1268796e-01 -2.1927692e-01  4.6732613e-01 */
+    { 0x3910a54d,0xb90a4bd1,0x39481ed8 }, /* 355:  1.3794489e-04 -1.3188949e-04  1.9084977e-04 */
+    { 0x6e686801,0xeee72546,0x6f015b07 }, /* 356:  1.7981564e+28 -3.5768049e+28  4.0033612e+28 */
+    { 0x2193564e,0xa2ddbdac,0x22e0c789 }, /* 357:  9.9839521e-19 -6.0102993e-18  6.0926588e-18 */
+    { 0x09fbcabf,0x898fae35,0x0a10f37b }, /* 358:  6.0616714e-33 -3.4589821e-33  6.9791414e-33 */
+    { 0x16b013b9,0x17ff3e60,0x1801817d }, /* 359:  2.8446780e-25  1.6494734e-24  1.6738234e-24 */
+    { 0x39087b62,0xb784f812,0x39097d86 }, /* 360:  1.3015934e-04 -1.5851143e-05  1.3112099e-04 */
+    { 0xee1b94cb,0xee1548cc,0x6e579e56 }, /* 361: -1.2037514e+28 -1.1550318e+28  1.6682673e+28 */
+    { 0x1eee3574,0x9e64d7b2,0x1f0421d7 }, /* 362:  2.5221338e-20 -1.2114824e-20  2.7980079e-20 */
+    { 0x9fa97389,0x1fdbf866,0x200ad5c6 }, /* 363: -7.1765421e-20  9.3161048e-20  1.1759786e-19 */
+    { 0xb79d54b7,0x35fe4697,0x379e21ac }, /* 364: -1.8755307e-05  1.8945019e-06  1.8850747e-05 */
+    { 0x42032321,0x4267e4ea,0x428533e7 }, /* 365:  3.2784306e+01  5.7973549e+01  6.6601372e+01 */
+    { 0x0000ef2a,0x80015a8e,0x0001a512 }, /* 366:  8.5795900e-41 -1.2432040e-40  1.5105157e-40 */
+    { 0x029c619c,0x023a09d7,0x02b5f486 }, /* 367:  2.2978165e-37  1.3667946e-37  2.6735909e-37 */
+    { 0x9c1f9eba,0x9c630d34,0x1c8ac5b3 }, /* 368: -5.2813836e-22 -7.5125064e-22  9.1831780e-22 */
+    { 0xd76712ef,0x5707c169,0x5786002d }, /* 369: -2.5406851e+14  1.4926476e+14  2.9467063e+14 */
+    { 0x6ff15d33,0xf0671b80,0x70825c21 }, /* 370:  1.4939712e+29 -2.8609713e+29  3.2275543e+29 */
+    { 0x6930a9ce,0xe53ca15f,0x6930aa33 }, /* 371:  1.3348302e+25 -5.5673854e+22  1.3348418e+25 */
+    { 0x1168872f,0x12978f96,0x129a52a5 }, /* 372:  1.8343230e-28  9.5648364e-28  9.7391398e-28 */
+    { 0x0000042a,0x80024863,0x00024867 }, /* 373:  1.4937842e-42 -2.0963845e-40  2.0964406e-40 */
+    { 0x304c3404,0x2fe5bb68,0x306a4af9 }, /* 374:  7.4288686e-10  4.1788017e-10  8.5235247e-10 */
+    { 0x00000010,0x8000001c,0x00000020 }, /* 375:  2.2420775e-44 -3.9236357e-44  4.4841551e-44 */
+    { 0x82b30c6a,0x830b2dfe,0x03257c61 }, /* 376: -2.6308811e-37 -4.0901225e-37  4.8631922e-37 */
+    { 0x8000019e,0x80000007,0x0000019e }, /* 377: -5.8013756e-43 -9.8090893e-45  5.8013756e-43 */
+    { 0x925edde8,0x22a325e2,0x22a325e2 }, /* 378: -7.0324369e-28  4.4221349e-18  4.4221349e-18 */
+    { 0xc6f3726d,0xc6e8045e,0x47282686 }, /* 379: -3.1161213e+04 -2.9698184e+04  4.3046523e+04 */
+    { 0x86acb4c9,0x88959412,0x0895f7a5 }, /* 380: -6.4964849e-35 -9.0024225e-34  9.0258323e-34 */
+    { 0x803ca9d6,0x800efe16,0x003e7d16 }, /* 381: -5.5710554e-39 -1.3768458e-39  5.7386731e-39 */
+    { 0x17ef055c,0x186e5210,0x18854dbb }, /* 382:  1.5446366e-24  3.0802210e-24  3.4458182e-24 */
+    { 0x7c745462,0xfcd5f1c1,0x7cf65dcf }, /* 383:  5.0745277e+36 -8.8869007e+36  1.0233662e+37 */
+    { 0x8c497e3c,0x8e5d4181,0x0e5d9d2d }, /* 384: -1.5522464e-31 -2.7271892e-30  2.7316031e-30 */
+    { 0x5e175a52,0xddad583c,0x5e2e69a2 }, /* 385:  2.7265299e+18 -1.5613499e+18  3.1419386e+18 */
+    { 0x301b4ea2,0x2fadafa5,0x3031f033 }, /* 386:  5.6500415e-10  3.1593320e-10  6.4733569e-10 */
+    { 0x8c190d9f,0x0dc850fb,0x0dc93a55 }, /* 387: -1.1790790e-31  1.2345447e-30  1.2401624e-30 */
+    { 0xcd7486e4,0xcdc5ff1f,0x4de8b423 }, /* 388: -2.5640506e+08 -4.1522890e+08  4.8801494e+08 */
+    { 0x5190eeee,0xcd75addf,0x5190ef22 }, /* 389:  7.7810483e+10 -2.5761330e+08  7.7810909e+10 */
+    { 0x0000000f,0x0000000f,0x00000015 }, /* 390:  2.1019477e-44  2.1019477e-44  2.9427268e-44 */
+    { 0x5c3b5232,0xdc094276,0x5c683a1e }, /* 391:  2.1090478e+17 -1.5454059e+17  2.6146438e+17 */
+    { 0xb9e62a3a,0x38f87edd,0x39ee66c9 }, /* 392: -4.3900480e-04  1.1849192e-04  4.5471478e-04 */
+    { 0x00000054,0x80000025,0x0000005c }, /* 393:  1.1770907e-43 -5.1848043e-44  1.2891946e-43 */
+    { 0xaafc7776,0x2edb5269,0x2edb52fa }, /* 394: -4.4847085e-13  9.9736060e-11  9.9737066e-11 */
+    { 0x0f62627f,0x0f940226,0x0fba5492 }, /* 395:  1.1161630e-29  1.4594754e-29  1.8373591e-29 */
+    { 0xb80be18c,0x39899012,0x398aab68 }, /* 396: -3.3350239e-05  2.6238017e-04  2.6449119e-04 */
+    { 0xe0ed47c0,0xe2cfb6c2,0x62d03e1d }, /* 397: -1.3678276e+20 -1.9158226e+21  1.9206993e+21 */
+    { 0x7b9c1afa,0x7adcfc07,0x7ba597cb }, /* 398:  1.6210909e+36  5.7370852e+35  1.7196154e+36 */
+    { 0xc5e06735,0x460f7c08,0x46362542 }, /* 399: -7.1809009e+03  9.1830078e+03  1.1657314e+04 */
+    { 0xc61ac950,0x459e0f00,0x462dcb56 }, /* 400: -9.9063281e+03  5.0578750e+03  1.1122834e+04 */
+    { 0x01873e22,0x81e52d48,0x02050d9f }, /* 401:  4.9680324e-38 -8.4186290e-38  9.7752059e-38 */
+    { 0x51145447,0x5053f0d2,0x511d8239 }, /* 402:  3.9816819e+10  1.4223100e+10  4.2280915e+10 */
+    { 0xca42863a,0x49a4efe6,0x4a53489c }, /* 403: -3.1870865e+06  1.3511648e+06  3.4616710e+06 */
+    { 0x09deadba,0x88e8c636,0x09e62833 }, /* 404:  5.3607928e-33 -1.4009591e-33  5.5408289e-33 */
+    { 0x37641a99,0x389b3328,0x389dcc1a }, /* 405:  1.3596052e-05  7.4005045e-05  7.5243603e-05 */
+    { 0x1511f570,0x1516dc36,0x1551e94b }, /* 406:  2.9476133e-26  3.0465975e-26  4.2391250e-26 */
+    { 0xff2c0d9a,0xff313673,0x7f76fec4 }, /* 407: -2.2869784e+38 -2.3555607e+38  3.2831291e+38 */
+    { 0x1608415d,0x90f840b3,0x16084161 }, /* 408:  1.1006618e-25 -9.7918437e-29  1.1006622e-25 */
+    { 0xab942ebe,0x2bf229b4,0x2c0df398 }, /* 409: -1.0529006e-12  1.7206709e-12  2.0172527e-12 */
+    { 0x92e2a03f,0x13000000,0x132af326 }, /* 410: -1.4302109e-27  1.6155871e-27  2.1576898e-27 */
+    { 0x40d89f54,0xc03d4ab9,0x40ec6566 }, /* 411:  6.7694492e+00 -2.9576857e+00  7.3873777e+00 */
+    { 0x8f49a7f6,0x110e8007,0x110f0e6f }, /* 412: -9.9424132e-30  1.1241276e-28  1.1285159e-28 */
+    { 0xc2e33d7f,0x3452095f,0x42e33d7f }, /* 413: -1.1362011e+02  1.9561183e-07  1.1362011e+02 */
+    { 0x57598ad9,0x5711c991,0x5782f008 }, /* 414:  2.3919037e+14  1.6029491e+14  2.8793488e+14 */
+    { 0x279d756e,0x263ee230,0x279f419c }, /* 415:  4.3703571e-15  6.6226033e-16  4.4202499e-15 */
+    { 0xc56f8f90,0x4597e8ef,0x45c173e6 }, /* 416: -3.8329727e+03  4.8611167e+03  6.1904873e+03 */
+    { 0x408b9364,0x41655f37,0x416fc0f2 }, /* 417:  4.3617420e+00  1.4335746e+01  1.4984606e+01 */
+    { 0x39c254db,0xb9e91f1a,0x3a17bf99 }, /* 418:  3.7065786e-04 -4.4464396e-04  5.7887431e-04 */
+    { 0x42dc9b7f,0xc23ebf6d,0x42f0574d }, /* 419:  1.1030370e+02 -4.7686939e+01  1.2017051e+02 */
+    { 0x71683455,0xf38d9c24,0x738dcbb4 }, /* 420:  1.1498206e+30 -2.2438988e+31  2.2468428e+31 */
+    { 0xc86f6de0,0xc835541d,0x48962c01 }, /* 421: -2.4517550e+05 -1.8568045e+05  3.0755203e+05 */
+    { 0x66edeee7,0x680c282b,0x680f471d }, /* 422:  5.6180391e+23  2.6474891e+24  2.7064409e+24 */
+    { 0xae3a28ec,0xae1055a1,0x2e6b8f0c }, /* 423: -4.2327850e-11 -3.2817863e-11  5.3559865e-11 */
+    { 0xf9e8c8e5,0x78d5f75a,0x79eeda02 }, /* 424: -1.5108594e+35  3.4718004e+34  1.5502355e+35 */
+    { 0x00000b78,0x00001559,0x0000183c }, /* 425:  4.1142123e-42  7.6580961e-42  8.6936557e-42 */
+    { 0x1c3040b5,0x1bb94f0c,0x1c471f6d }, /* 426:  5.8317147e-22  3.0656766e-22  6.5884194e-22 */
+    { 0x7902c39b,0xf8999084,0x7917a3e6 }, /* 427:  4.2435371e+34 -2.4917267e+34  4.9210068e+34 */
+    { 0xb3a949be,0x368d870d,0x368d8d61 }, /* 428: -7.8830894e-08  4.2178494e-06  4.2185861e-06 */
+    { 0x2633864b,0x2496d0f5,0x263482ff }, /* 429:  6.2285101e-16  6.5406117e-17  6.2627578e-16 */
+    { 0x4f1660eb,0xce55ba2f,0x4f1f96cf }, /* 430:  2.5229340e+09 -8.9643718e+08  2.6774607e+09 */
+    { 0x9aed5958,0x1b80bb13,0x1b8dbf82 }, /* 431: -9.8165245e-23  2.1296718e-22  2.3450252e-22 */
+    { 0xec587252,0x6eb1afca,0x6eb1d0bc }, /* 432: -1.0466714e+27  2.7495681e+28  2.7515596e+28 */
+    { 0x6bbbe215,0xeb64350b,0x6bdbd143 }, /* 433:  4.5427354e+26 -2.7588558e+26  5.3148593e+26 */
+    { 0x3b17ddfd,0xbab1fce2,0x3b30057d }, /* 434:  2.3173087e-03 -1.3579393e-03  2.6858740e-03 */
+    { 0xeab17e32,0xe9ed4642,0x6abb2492 }, /* 435: -1.0728791e+26 -3.5855900e+25  1.1312091e+26 */
+    { 0xf78c5032,0xf3bcb57d,0x778c50b1 }, /* 436: -5.6917821e+33 -2.9902125e+31  5.6918608e+33 */
+    { 0x28437dd3,0x265b0492,0x2843f85d }, /* 437:  1.0851958e-14  7.5987082e-16  1.0878530e-14 */
+    { 0x8f9a0f29,0x8e0f2be1,0x0f9b1860 }, /* 438: -1.5191412e-29 -1.7647238e-30  1.5293569e-29 */
+    { 0x76526d0a,0xf61a8a88,0x76828a10 }, /* 439:  1.0669862e+33 -7.8361666e+32  1.3238258e+33 */
+    { 0x44638eee,0xc3a6053f,0x447239e3 }, /* 440:  9.1023328e+02 -3.3204099e+02  9.6890448e+02 */
+    { 0xfc0367b5,0xfd3d1771,0x7d3fec8c }, /* 441: -2.7291773e+36 -1.5709113e+37  1.5944423e+37 */
+    { 0x815eeec3,0x0a8c20a2,0x0a8c20a2 }, /* 442: -4.0946263e-38  1.3493785e-32  1.3493785e-32 */
+    { 0x86f76f7e,0x86bfa088,0x071c7b26 }, /* 443: -9.3074897e-35 -7.2082094e-35  1.1772326e-34 */
+    { 0x89ef9871,0x0f6c14f6,0x0f6c14f8 }, /* 444: -5.7680512e-33  1.1639735e-29  1.1639737e-29 */
+    { 0x6f3150f9,0xef694328,0x6f9280bd }, /* 445:  5.4876737e+28 -7.2191194e+28  9.0680893e+28 */
+    { 0x1ae28446,0x9adedfa6,0x1b1ee381 }, /* 446:  9.3685108e-23 -9.2178372e-23  1.3142964e-22 */
+    { 0x0c10186e,0x0cee3696,0x0cf8deca }, /* 447:  1.1100708e-31  3.6702559e-31  3.8344536e-31 */
+    { 0x92dabeaa,0x119271de,0x12ddc994 }, /* 448: -1.3804737e-27  2.3104915e-28  1.3996754e-27 */
+    { 0x0d13c8aa,0x8c30ec62,0x0d1a42cc }, /* 449:  4.5539413e-31 -1.3629681e-31  4.7535318e-31 */
+    { 0x24e7e9f1,0x25d40d85,0x25dbd608 }, /* 450:  1.0057659e-16  3.6785299e-16  3.8135477e-16 */
+    { 0x00740a99,0x0099b5ab,0x00c097f0 }, /* 451:  1.0656719e-38  1.4116001e-38  1.7686920e-38 */
+    { 0x9e28a70e,0x1d9b2838,0x1e39a3c7 }, /* 452: -8.9283920e-21  4.1069744e-21  9.8276868e-21 */
+    { 0xf9e259ea,0x7a40d543,0x7a5f9782 }, /* 453: -1.4691035e+35  2.5031161e+35  2.9023879e+35 */
+    { 0x3113c1d5,0x3190eb77,0x31a2aa26 }, /* 454:  2.1501496e-09  4.2177208e-09  4.7341642e-09 */
+    { 0x487e521a,0xc7de7f3c,0x488acb4d }, /* 455:  2.6042441e+05 -1.1391847e+05  2.8425041e+05 */
+    { 0xf9af58df,0x7aacae60,0x7ab22892 }, /* 456: -1.1380681e+35  4.4830590e+35  4.6252585e+35 */
+    { 0xc7685853,0x4a8afe18,0x4a8b0121 }, /* 457: -5.9480324e+04  4.5545080e+06  4.5548965e+06 */
+    { 0xa64a11f8,0xa869b4aa,0x286a0bf5 }, /* 458: -7.0107181e-16 -1.2973274e-14  1.2992202e-14 */
+    { 0x589a66d5,0xda1c5352,0x5a1d832c }, /* 459:  1.3581316e+15 -1.1000427e+16  1.1083949e+16 */
+    { 0x02df6746,0x84176237,0x0419f012 }, /* 460:  3.2826181e-37 -1.7795063e-36  1.8095298e-36 */
+    { 0x83c7dc70,0x03e7f5fc,0x041917e6 }, /* 461: -1.1746779e-36  1.3633435e-36  1.7996037e-36 */
+    { 0xf407dd38,0xf3bec66d,0x7426016d }, /* 462: -4.3057063e+31 -3.0229521e+31  5.2609265e+31 */
+    { 0xe9955270,0xe9782702,0x69c224ea }, /* 463: -2.2564906e+25 -1.8749863e+25  2.9338241e+25 */
+    { 0x726704ba,0xf320f69c,0x732b02d5 }, /* 464:  4.5757921e+30 -1.2752828e+31  1.3548892e+31 */
+    { 0x0ceae0ea,0x8cf3f8db,0x0d29546e }, /* 465:  3.6188774e-31 -3.7589853e-31  5.2178774e-31 */
+    { 0xa2cf1fae,0xa9d3f1ad,0x29d3f1ad }, /* 466: -5.6141005e-18 -9.4122064e-14  9.4122064e-14 */
+    { 0x042d9bb3,0x8c19d45b,0x0c19d45b }, /* 467:  2.0407546e-36 -1.1850595e-31  1.1850595e-31 */
+    { 0xde213cda,0x5dde9bd8,0x5e43ec93 }, /* 468: -2.9046002e+18  2.0050815e+18  3.5294551e+18 */
+    { 0x6a3f6d86,0x68d8d550,0x6a41564e }, /* 469:  5.7855510e+25  8.1917287e+24  5.8432561e+25 */
+    { 0x3de61d0f,0xbeb1d559,0x3ebae831 }, /* 470:  1.1236011e-01 -3.4733084e-01  3.6505273e-01 */
+    { 0x5ddc46dd,0x5e8b0a62,0x5e958c89 }, /* 471:  1.9840771e+18  5.0094640e+18  5.3880693e+18 */
+    { 0x8000077f,0x0000098c,0x00000c23 }, /* 472: -2.6890918e-42  3.4247734e-42  4.3538343e-42 */
+    { 0x274d36ec,0x2798492b,0x27b7a0c1 }, /* 473:  2.8479238e-15  4.2267804e-15  5.0966993e-15 */
+    { 0xfeabbf5b,0xff2237a8,0x7f378b89 }, /* 474: -1.1414578e+38 -2.1562392e+38  2.4397323e+38 */
+    { 0x9a5273b7,0x15234652,0x1a5273bb }, /* 475: -4.3520456e-23  3.2973061e-26  4.3520468e-23 */
+    { 0xc348f553,0x19de5239,0x4348f553 }, /* 476: -2.0095830e+02  2.2987471e-23  2.0095830e+02 */
+    { 0xf86a0e7e,0x747d0736,0x786a0f07 }, /* 477: -1.8988928e+34  8.0187827e+31  1.8989098e+34 */
+    { 0xe1352ad9,0xe15d33f4,0x618ef63c }, /* 478: -2.0887176e+20 -2.5502963e+20  3.2964759e+20 */
+    { 0x0c7da3a4,0xa260dfa2,0x2260dfa2 }, /* 479:  1.9539655e-31 -3.0476051e-18  3.0476051e-18 */
+    { 0xc9f1ca44,0xcb597684,0x4b5b8d9f }, /* 480: -1.9807445e+06 -1.4251652e+07  1.4388639e+07 */
+    { 0x199c9025,0x1932990a,0x19b43d52 }, /* 481:  1.6188241e-23  9.2332903e-24  1.8636331e-23 */
+    { 0xbbabbb44,0x432d949d,0x432d949d }, /* 482: -5.2408297e-03  1.7358052e+02  1.7358052e+02 */
+    { 0xd9a092f1,0x593b3b79,0x59b9def3 }, /* 483: -5.6496950e+15  3.2938257e+15  6.5397507e+15 */
+    { 0x00000038,0x00000028,0x00000045 }, /* 484:  7.8472714e-44  5.6051939e-44  9.6689594e-44 */
+    { 0xb670633d,0xb43feee4,0x3670afd0 }, /* 485: -3.5820551e-06 -1.7875169e-07  3.5865123e-06 */
+    { 0x4140dca6,0xcbf95305,0x4bf95305 }, /* 486:  1.2053869e+01 -3.2679434e+07  3.2679434e+07 */
+    { 0xb54d4ec0,0x34ed5a96,0x356d23de }, /* 487: -7.6483047e-07  4.4210600e-07  8.8341574e-07 */
+    { 0x64afaca1,0xe4b65b2d,0x64fd35ba }, /* 488:  2.5924955e+22 -2.6911019e+22  3.7367181e+22 */
+    { 0x2e86a734,0xae17219c,0x2e9a6849 }, /* 489:  6.1233157e-11 -3.4363276e-11  7.0216340e-11 */
+    { 0xb01e0fcf,0x2febdd19,0x30453588 }, /* 490: -5.7502531e-10  4.2903350e-10  7.1744255e-10 */
+    { 0x3b42ee43,0xbbb6431c,0x3bceaf8b }, /* 491:  2.9744066e-03 -5.5621993e-03  6.3075474e-03 */
+    { 0xfcd25875,0xfa5b887a,0x7cd27517 }, /* 492: -8.7374117e+36 -2.8497027e+35  8.7420576e+36 */
+    { 0xe13d1905,0xe2117638,0x6218f374 }, /* 493: -2.1801484e+20 -6.7082411e+20  7.0536194e+20 */
+    { 0xb872e347,0xb9a07342,0x39a34c27 }, /* 494: -5.7908965e-05 -3.0603452e-04  3.1146521e-04 */
+    { 0xc09af9a5,0x4442e732,0x4442e828 }, /* 495: -4.8429742e+00  7.7961243e+02  7.7962744e+02 */
+    { 0xd1f21248,0x52116abf,0x523d3297 }, /* 496: -1.2996110e+11  1.5614029e+11  2.0314939e+11 */
+    { 0xfb127bee,0x7b89d86b,0x7b9c1867 }, /* 497: -7.6058893e+35  1.4314683e+36  1.6209865e+36 */
+    { 0x8000000e,0x0000000c,0x00000012 }, /* 498: -1.9618179e-44  1.6815582e-44  2.5223372e-44 */
+    { 0xfce696f6,0x7d6b2228,0x7d82f084 }, /* 499: -9.5783210e+36  1.9534121e+37  2.1756058e+37 */
+    { 0xae54492e,0xae609b8e,0x2e9a86cf }, /* 500: -4.8268216e-11 -5.1069864e-11  7.0270560e-11 */
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]:  %#lx\n", index - 1, v.lo);
+#endif
+    exit (index ? index : -1);
+}
+
+int main ()
+{
+    union lofl_u x, y, z;
+    unsigned long v1, z1, r;
+    int i;
+    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	x.lo = pgm_read_dword (& t[i].x);
+	y.lo = pgm_read_dword (& t[i].y);
+	z.lo = pgm_read_dword (& t[i].z);
+	v.fl = hypot (x.fl, y.fl);
+	
+	v1 = (v.lo < 0) ? (unsigned long)~(v.lo) : v.lo + 0x80000000;
+	z1 = (z.lo < 0) ? (unsigned long)~(z.lo) : z.lo + 0x80000000;
+	r = (v1 >= z1) ? v1 - z1 : z1 - v1;
+	
+	if (r > 1) x_exit (i+1);
+    }
+    return 0;
+}
diff --git a/tests/simulate/math/isfinite-01.c b/tests/simulate/math/isfinite-01.c
new file mode 100644
index 0000000..edc3334
--- /dev/null
+++ b/tests/simulate/math/isfinite-01.c
@@ -0,0 +1,135 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of isfinite().  Both realizations are tested: inline and library.
+   $Id$
+ */
+#include <math.h>
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+PROGMEM const union lofl_u t0[] = {	/* is finite	*/
+
+    /* positive finite	*/
+    { 0x00000000 },
+    { 0x00000001 },
+    { 0x00000100 },
+    { 0x00010000 },
+    { 0x007fffff },
+    { 0x00800000 },
+    { 0x01000000 },
+    { 0x3f800000 },
+    { 0x7effffff },
+    { 0x7f7fffff },
+
+    /* negative finite	*/
+    { 0x80000000 },
+    { 0x80000001 },
+    { 0x80000100 },
+    { 0x80010000 },
+    { 0x807fffff },
+    { 0x80800000 },
+    { 0x81000000 },
+    { 0xbf800000 },
+    { 0xfeffffff },
+    { 0xff7fffff },
+};
+
+PROGMEM const union lofl_u t1[] = {	/* is't finite	*/
+
+    /* Inf	*/
+    { 0x7f800000 },
+    { 0xff800000 },
+
+    /* NaN	*/
+    { 0x7f800001 },
+    { 0x7f800100 },
+    { 0x7f810000 },
+    { 0x7fc00000 },
+    { 0x7fffffff },
+
+    { 0xff800001 },
+    { 0xff800100 },
+    { 0xff810000 },
+    { 0xffc00000 },
+    { 0xffffffff },
+
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]\n", index - 1);
+#endif
+    exit (index ? index : -1);
+}
+
+int main ()
+{
+    union lofl_u x;
+    int i;
+    int (* volatile vp) (double);
+    
+    /* inline     */
+    for (i = 0; i < (int) (sizeof(t0) / sizeof(t0[0])); i++) {
+	x.lo = pgm_read_dword (& t0[i]);
+	if (!isfinite(x.fl))
+	    x_exit (i + 1);
+    }
+    for (i = 0; i < (int) (sizeof(t1) / sizeof(t1[0])); i++) {
+	x.lo = pgm_read_dword (& t1[i]);
+	if (isfinite(x.fl))
+	    x_exit (i + 0x101);
+    }
+
+#ifdef	__AVR__
+    /* library function     */
+    vp = isfinite;
+    for (i = 0; i < (int) (sizeof(t0) / sizeof(t0[0])); i++) {
+	x.lo = pgm_read_dword (& t0[i]);
+	if (! vp(x.fl))
+	    x_exit (i + 0x201);
+    }
+    for (i = 0; i < (int) (sizeof(t1) / sizeof(t1[0])); i++) {
+	x.lo = pgm_read_dword (& t1[i]);
+	if (vp(x.fl))
+	    x_exit (i + 0x301);
+    }
+#else
+    (void)vp;
+#endif
+    
+    return 0;
+}
diff --git a/tests/simulate/math/isinf-01.c b/tests/simulate/math/isinf-01.c
new file mode 100644
index 0000000..acc8eaa
--- /dev/null
+++ b/tests/simulate/math/isinf-01.c
@@ -0,0 +1,142 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of isinf() function.
+   $Id$
+ */
+#include <math.h>
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+#ifndef	__AVR__
+# define PRINTFLN(fmt, ...)	\
+    printf ("\nLine %d: " fmt "\n", __LINE__, ##__VA_ARGS__)
+# define EXIT(code)	exit ((code) < 255 ? (code) : 100 + (code) % 100)
+#else
+# if defined(__AVR_ATmega128__)
+  /* ATmega128 has enough RAM for sprintf(), print to 0x2000 in XRAM. */
+#  define PRINTFLN(fmt, ...)	\
+    sprintf ((char *)0x2000, "\nLine %d: " fmt "\n", __LINE__, ##__VA_ARGS__)
+# else
+   /* small AVR */
+#  define PRINTFLN(args...)
+# endif
+# define EXIT	exit
+#endif
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+/* Result is placed into SRAM variable, allocated at the start of
+   memory. This is convinient to debug: read a core dump.	*/
+volatile int v = 1;
+
+PROGMEM const struct {		/* Table of test cases.	*/
+    union lofl_u x;		/* argument	*/
+    int z;			/* result	*/
+} t[] = {
+
+    /* Zero	*/
+    { { .fl= +0.0 },	0 },
+    { { .fl= -0.0 },	0 },
+    
+    /* A few of normal values	*/
+    { { 0x00800000 },	0 },
+    { { 0x00800001 },	0 },
+    { { 0x00ffffff },	0 },
+    { { 0x3f800000 },	0 },
+    { { 0x7f7fffff },	0 },
+    { { 0x80800000 },	0 },
+    { { 0x80800001 },	0 },
+    { { 0x80ffffff },	0 },
+    { { 0xdf800000 },	0 },
+    { { 0xff7fffff },	0 },
+    
+    /* Subnormal	*/
+    { { 0x00000001 }, 0 },
+    { { 0x00000100 }, 0 },
+    { { 0x00010000 }, 0 },
+    { { 0x007fffff }, 0 },
+    { { 0x80000001 }, 0 },
+    { { 0x80000100 }, 0 },
+    { { 0x80010000 }, 0 },
+    { { 0x807fffff }, 0 },
+
+    /* Inf	*/
+    { { 0x7f800000 },	1 },
+    { { 0xff800000 },  -1 },    
+
+    /* NaN	*/
+    { { 0x7f800001 },	0 },
+    { { 0x7fc00000 },	0 },
+    { { 0x7fffffff },	0 },
+    { { 0xff800001 },	0 },
+    { { 0xffc00000 },	0 },
+    { { 0xffffffff },	0 },
+};
+
+int main ()
+{
+    union lofl_u x;
+    int z;
+    int i;
+
+    /* Default implementation.	*/    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	x.lo = pgm_read_dword (& t[i].x);
+	z = pgm_read_word (& t[i].z);
+	v = isinf (x.fl);
+	if (v != z) {
+	    PRINTFLN ("i= %d  v= %d", i, v);
+	    EXIT (i + 1);
+	}
+    }
+
+#ifdef	__AVR__
+    {
+	int (* volatile vp)(double);
+	/* Force to use the library implementation.	*/
+	vp = & isinf;
+	for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	    x.lo = pgm_read_dword (& t[i].x);
+	    z = pgm_read_word (& t[i].z);
+	    v = vp (x.fl);
+	    if (v != z) {
+		PRINTFLN ("i= %d  v= %d", i, v);
+		EXIT (i + 101);
+	    }
+	}
+    }
+#endif
+
+    return 0;
+}
diff --git a/tests/simulate/math/isnan-01.c b/tests/simulate/math/isnan-01.c
new file mode 100644
index 0000000..0b568cb
--- /dev/null
+++ b/tests/simulate/math/isnan-01.c
@@ -0,0 +1,110 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of isnan().
+   $Id$
+ */
+#include <math.h>
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+PROGMEM const union lofl_u t0[] = {	/* No NaNs	*/
+
+    /* positive finite	*/
+    { 0x00000000 },
+    { 0x00000001 },
+    { 0x00000100 },
+    { 0x00010000 },
+    { 0x007fffff },
+    { 0x00800000 },
+    { 0x3f800000 },
+    { 0x7f7fffff },
+
+    /* negative finite	*/
+    { 0x80000000 },
+    { 0x80000001 },
+    { 0x80000100 },
+    { 0x80010000 },
+    { 0x807fffff },
+    { 0x80800000 },
+    { 0xbf800000 },
+    { 0xff7fffff },
+
+    /* Inf	*/
+    { 0x7f800000 },
+    { 0xff800000 },
+};
+
+PROGMEM const union lofl_u t1[] = {	/* NaNs	*/
+
+    { 0x7f800001 },
+    { 0x7f800100 },
+    { 0x7f810000 },
+    { 0x7fc00000 },
+    { 0x7fffffff },
+
+    { 0xff800001 },
+    { 0xff800100 },
+    { 0xff810000 },
+    { 0xffc00000 },
+    { 0xffffffff },
+
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]\n", index - 1);
+#endif
+    exit (index ? index : -1);
+}
+
+int main ()
+{
+    union lofl_u x;
+    int i;
+    
+    for (i = 0; i < (int) (sizeof(t0) / sizeof(t0[0])); i++) {
+	x.lo = pgm_read_dword (& t0[i]);
+	if (isnan(x.fl))
+	    x_exit (i + 1);
+    }
+    for (i = 0; i < (int) (sizeof(t1) / sizeof(t1[0])); i++) {
+	x.lo = pgm_read_dword (& t1[i]);
+	if (!isnan(x.fl))
+	    x_exit (i + 101);
+    }
+    return 0;
+}
diff --git a/tests/simulate/math/ldexp-01.c b/tests/simulate/math/ldexp-01.c
new file mode 100644
index 0000000..69599f2
--- /dev/null
+++ b/tests/simulate/math/ldexp-01.c
@@ -0,0 +1,164 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of ldexp function.  Without NaNs.
+   $Id$
+ */
+#include <math.h>
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+volatile union lofl_u v = { .lo = 1 };
+
+PROGMEM const struct {		/* Table of test cases.	*/
+    union lofl_u x;
+    int y;
+    union lofl_u z;		/* z = ldexp(x,y)	*/
+} t[] = {
+
+    /* x == 0	*/
+    { { 0 },	0,	{ 0 }	},
+    { { 0 },	1,	{ 0 }	},
+    { { 0 },	-1,	{ 0 }	},
+    { { 0 },	32767,	{ 0 }	},
+    { { 0 },	-32768,	{ 0 }	},
+    { { 0x80000000 }, 0,  { 0x80000000 }	},
+    { { 0x80000000 }, -1, { 0x80000000 }	},
+    
+    /* normal --> normal	*/
+    { { .fl = 1. }, 0,	  { .fl = 1. }		},
+    { { .fl = 1. }, 1,	  { .fl = 2. }		},
+    { { .fl = 1. }, -1,   { .fl = .5 }		},
+    { { .fl = 1. }, 127,  { 0x7f000000 }	},
+    { { .fl = 1. }, -126, { 0x00800000 }	},
+    { { .fl = -1. },	0,	{ .fl = -1. }	},
+    { { .fl = -1. },	1,	{ .fl = -2. }	},
+    { { .fl = -1. },	-1,	{ .fl = -.5 }	},
+    { { .fl = -1. },	127,	{ 0xff000000 }	},
+    { { .fl = -1. },	-126,	{ 0x80800000 }	},
+
+    /* normal --> subnormal	*/
+    { { .fl = 1. },	-127,	{ 0x00400000 }	},
+    { { .fl = 1. },	-149,	{ 0x00000001 }	},
+    { { .fl = -1. },	-127,	{ 0x80400000 }	},
+    { { .fl = -1. },	-149,	{ 0x80000001 }	},
+    
+    /* subnormal <<= N	*/
+    { { 0x00000001 },	0,	{ 0x00000001 }	},
+    { { 0x00000001 },	1,	{ 0x00000002 }	},
+    { { 0x00000001 },	2,	{ 0x00000004 }	},
+    { { 0x00000001 },	22,	{ 0x00400000 }	},
+    { { 0x00000001 },	23,	{ 0x00800000 }	},
+    { { 0x00000001 },	24,	{ 0x01000000 }	},
+    { { 0x00000001 },	25,	{ 0x01800000 }	},
+    { { 0x00000001 },	149,	{ 0x3f800000 }	},
+    { { 0x00000001 },	276,	{ 0x7f000000 }	},
+    { { 0x00000001 },	277,	{ 0x7f800000 }	},	/* overflow	*/
+    
+    /* subnormal >>= N	*/
+    { { 0x00400000 },	0,	{ 0x00400000 }	},
+    { { 0x00400000 },	-1,	{ 0x00200000 }	},
+    { { 0x00400000 },	-2,	{ 0x00100000 }	},
+    { { 0x00400000 },	-22,	{ 0x00000001 }	},
+    { { 0x00400000 },	-23,	{ 0x00000000 }	},	/* round to 0	*/
+    { { 0x00400000 },	-2000,	{ 0x00000000 }	},	/* underflow	*/
+    
+    /* underflow	*/
+    { { .fl = 1. },	-151,	{ 0 }	},
+    { { .fl = -1. },	-151,	{ 0x80000000 }	},
+    
+    /* overflow	*/
+    { { .fl = 1. },	128,	{ 0x7f800000 }	},
+    { { .fl = -1. },	128,	{ 0xff800000 }	},
+    { { .fl = 1. },	32767-127,	{ 0x7f800000 }	},
+    { { .fl = -1. },	32767-127,	{ 0xff800000 }	},
+    
+    /* Infinity	*/
+    { { 0x7f800000 },	0,	{ 0x7f800000 } },
+    { { 0x7f800000 },	1,	{ 0x7f800000 } },
+    { { 0x7f800000 },	-1,	{ 0x7f800000 } },
+    { { 0x7f800000 },	32767,	{ 0x7f800000 } },
+    { { 0x7f800000 },	-32768,	{ 0x7f800000 } },
+    { { 0xff800000 },	0,	{ 0xff800000 } },
+    { { 0xff800000 },	1,	{ 0xff800000 } },
+    { { 0xff800000 },	-1,	{ 0xff800000 } },
+    { { 0xff800000 },	32767,	{ 0xff800000 } },
+    { { 0xff800000 },	-32768,	{ 0xff800000 } },
+
+    /* Rounding	*/
+    { { 0x00000001 },	-1,	{ 0x00000000 } },
+    { { 0x00000003 },	-1,	{ 0x00000002 } },
+    { { 0x00000005 },	-1,	{ 0x00000002 } },
+    { { 0x00000007 },	-1,	{ 0x00000004 } },
+    { { 0x00000009 },	-1,	{ 0x00000004 } },
+    { { 0x0000000b },	-1,	{ 0x00000006 } },
+    { { 0x0000000d },	-1,	{ 0x00000006 } },    
+    { { 0x0000000f },	-1,	{ 0x00000008 } },
+    { { 0x00000011 },	-1,	{ 0x00000008 } },
+    
+    { { 0x00000100 },	-9,	{ 0x00000000 } },
+    { { 0x00000101 },	-9,	{ 0x00000001 } },
+    { { 0x00010001 },	-17,	{ 0x00000001 } },
+    { { 0x00800001 },	-24,	{ 0x00000001 } },
+    { { 0x01800001 },	-26,	{ 0x00000001 } },
+
+    { { 0x00000101 },	-10,	{ 0x00000000 } },
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]: %e (%#lx)\n", index - 1, v.fl, v.lo);
+#endif
+    exit (index ? index : -1);
+}
+
+int main ()
+{
+    union lofl_u x, z;
+    int y;
+    int i;
+
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	x.lo = pgm_read_dword (& t[i].x);
+	y    = pgm_read_word  (& t[i].y);
+	z.lo = pgm_read_dword (& t[i].z);
+	v.fl = ldexp (x.fl, y);
+	/* Comparison is integer to verify zero sign.	*/
+	if (v.lo != z.lo)
+	    x_exit (i+1);
+    }
+    return 0;
+}
diff --git a/tests/simulate/math/ldexp-nan.c b/tests/simulate/math/ldexp-nan.c
new file mode 100644
index 0000000..ed2bb0e
--- /dev/null
+++ b/tests/simulate/math/ldexp-nan.c
@@ -0,0 +1,88 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of ldexp function.  NaNs.
+   $Id$
+ */
+#include <math.h>
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+volatile union lofl_u v = { .lo = 1 };
+
+PROGMEM const struct {		/* Table of test cases.	*/
+    union lofl_u x;
+    int y;
+} t[] = {
+
+    { { 0x7f800001 }, 1 },
+    { { 0x7f800100 }, 1 },
+    { { 0x7f810000 }, 1 },
+    { { 0x7fffffff }, 1 },
+    { { 0xff800001 }, 1 },
+    { { 0xff800100 }, 1 },
+    { { 0xff810000 }, 1 },
+    { { 0xffffffff }, 1 },
+    
+    { { 0x7fc00000 }, 0 },
+    { { 0xffc00000 }, 0 },
+
+    { { 0x7fc00000 },  32767 },
+    { { 0x7fc00000 }, -32768 },
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]: %e (%#lx)\n", index - 1, v.fl, v.lo);
+#endif
+    exit (index ? index : -1);
+}
+
+int main ()
+{
+    union lofl_u x;
+    int y;
+    int i;
+
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	x.lo = pgm_read_dword (& t[i].x);
+	y    = pgm_read_word  (& t[i].y);
+	v.fl = ldexp (x.fl, y);
+	if (!isnan(v.fl))
+	    x_exit (i+1);
+    }
+    return 0;
+}
diff --git a/tests/simulate/math/log-01.c b/tests/simulate/math/log-01.c
new file mode 100644
index 0000000..de67918
--- /dev/null
+++ b/tests/simulate/math/log-01.c
@@ -0,0 +1,83 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of log() function.
+   $Id$
+ */
+#include <math.h>
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+volatile union lofl_u v = { .lo = 1 };
+
+PROGMEM const struct {		/* Table of test cases:  x, log(x)	*/
+    union lofl_u x, z;
+} t[] = {
+
+    /* log(0)	*/
+    { { 0x00000000 }, { 0xff800000 } },
+    { { 0x80000000 }, { 0xff800000 } },		/* -0.0 is legal arg.	*/
+    
+    /* log(+Inf)	*/
+    { { 0x7f800000 }, { 0x7f800000 } },
+
+    { { .fl = 1 / 2.7182818 },	{ .fl = -1 }	},
+    { { .fl = 1 },		{ .fl = 0 }	},
+//    { { .fl = 2.7182819 },	{ .fl = 1 }	},
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]:  %#lx\n", index - 1, v.lo);
+#endif
+    exit (index ? index : -1);
+}
+
+int main ()
+{
+    union lofl_u x, z;
+    int i;
+    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	x.lo = pgm_read_dword (& t[i].x);
+	z.lo = pgm_read_dword (& t[i].z);
+	v.fl = log (x.fl);
+	/* Comparison is integer to verify the zero sign.	*/
+	if (v.lo != z.lo)
+	    x_exit (i+1);
+    }
+    return 0;
+}
diff --git a/tests/simulate/math/log-02.c b/tests/simulate/math/log-02.c
new file mode 100644
index 0000000..1897ece
--- /dev/null
+++ b/tests/simulate/math/log-02.c
@@ -0,0 +1,129 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of log() function. Check some values and the monotone.
+   $Id$
+ */
+#define	ULPMAX	6	/* Max possible error, "units at last place".	*/
+
+#include <math.h>
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+volatile union lofl_u v = { .lo = 1 };
+
+PROGMEM const struct {		/* Table of test cases:  x, log(x)	*/
+    union lofl_u x, z;
+} t[] = {
+
+    { { 0x00000001 }, { 0xc2ce8ed0 } },
+    { { 0x00000002 }, { 0xc2cd2bec } },
+    { { 0x00000003 }, { 0xc2cc5c53 } },
+
+    { { 0x000000ff }, { 0xc2c379af } },
+    { { 0x00000100 }, { 0xc2c377ae } },
+    { { 0x00000101 }, { 0xc2c375af } },
+
+    { { 0x0000ffff }, { 0xc2b8608f } },
+    { { 0x00010000 }, { 0xc2b8608d } },
+    { { 0x00010001 }, { 0xc2b8608b } },
+
+    { { 0x007fffff }, { 0xc2aeac50 } },
+    { { 0x00800000 }, { 0xc2aeac50 } },
+    { { 0x00800001 }, { 0xc2aeac50 } },
+    
+    /* 0.5	*/
+    { { 0x3effffff }, { 0xbf317219 } },
+    { { 0x3f000000 }, { 0xbf317218 } },
+    { { 0x3f000001 }, { 0xbf317216 } },
+    
+    /* 1.0	*/
+    { { 0x3f7ffffe }, { 0xb4000001 } },
+    { { 0x3f7fffff }, { 0xb3800000 } },
+    { { 0x3f800000 }, { 0x00000000 } },
+    { { 0x3f800001 }, { 0x33ffffff } },
+    { { 0x3f800002 }, { 0x347ffffe } },
+
+    /* fraction 0x0.98  --  switch between tables	*/
+    { { 0x3f97fffe }, { 0x3e2ff976 } },
+    { { 0x3f97ffff }, { 0x3e2ff97d } },
+    { { 0x3f980000 }, { 0x3e2ff984 } },
+    { { 0x3f980001 }, { 0x3e2ff98a } },
+
+    /* fraction 0x0.E0  --  switch between tables	*/
+    { { 0x3fdffffe }, { 0x3f0f42f9 } },
+    { { 0x3fdfffff }, { 0x3f0f42fa } },
+    { { 0x3fe00000 }, { 0x3f0f42fb } },
+    { { 0x3fe00001 }, { 0x3f0f42fc } },
+
+    /* 2.0	*/
+    { { 0x3fffffff }, { 0x3f317217 } },
+    { { 0x40000000 }, { 0x3f317218 } },
+    { { 0x40000001 }, { 0x3f31721a } },
+    
+    { { 0x7f7ffffd }, { 0x42b17218 } },
+    { { 0x7f7ffffe }, { 0x42b17218 } },
+    { { 0x7f7fffff }, { 0x42b17218 } },
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]:  %#lx\n", index - 1, v.lo);
+#endif
+    exit (index ? index : -1);
+}
+
+int main ()
+{
+    union lofl_u x, z, v1;
+    int i;
+    
+    v.fl = -INFINITY;
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	x.lo = pgm_read_dword (& t[i].x);
+	z.lo = pgm_read_dword (& t[i].z);
+	v1.fl = log (x.fl);
+	if (   ((v1.lo ^ z.lo) & 0x80000000)	/* signbit(v1) != signbit(z) */
+	    || labs (v1.lo - z.lo) > ULPMAX
+	    || v1.fl < v.fl)
+	{
+	    v = v1;
+	    x_exit (i+1);
+	}
+	v = v1;
+    }
+    return 0;
+}
diff --git a/tests/simulate/math/log-500.c b/tests/simulate/math/log-500.c
new file mode 100644
index 0000000..a7e9dbb
--- /dev/null
+++ b/tests/simulate/math/log-500.c
@@ -0,0 +1,579 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of log() function. 500 random cases.
+   $Id$
+ */
+#include <math.h>
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+volatile union lofl_u v = { .lo = 1 };
+
+PROGMEM const struct {		/* Table of test cases.	*/
+    long x;		/* argument	*/
+    long z;		/* log(x)	*/
+} t[] = {
+
+    /* x, log(x)	*/
+    { 0x462341c0,0x4114113c }, /*   1:  1.0448438e+04  9.2542076e+00 */
+    { 0x48ee277a,0x41518f83 }, /*   2:  4.8773981e+05  1.3097537e+01 */
+    { 0x40cabff2,0x3fec517c }, /*   3:  6.3359308e+00  1.8462367e+00 */
+    { 0x6eb68c29,0x4283058a }, /*   4:  2.8247858e+28  6.5510818e+01 */
+    { 0x101b381b,0xc2834ff6 }, /*   5:  3.0611582e-29 -6.5656174e+01 */
+    { 0x4101d5e8,0x4005fedb }, /*   6:  8.1147232e+00  2.0936801e+00 */
+    { 0x3af6c210,0xc0c8cd91 }, /*   7:  1.8826146e-03 -6.2750936e+00 */
+    { 0x3e4ecf10,0xbfccc237 }, /*   8:  2.0196176e-01 -1.5996770e+00 */
+    { 0x31da4c42,0xc196fe8c }, /*   9:  6.3533045e-09 -1.8874290e+01 */
+    { 0x3ead94df,0xbf8a7466 }, /*  10:  3.3902642e-01 -1.0816772e+00 */
+    { 0x4423fc70,0x40cf8def }, /*  11:  6.5594434e+02  6.4860759e+00 */
+    { 0x39432d5e,0xc1096cb1 }, /*  12:  1.8613550e-04 -8.5890360e+00 */
+    { 0x3d5be772,0xc03b2c3b }, /*  13:  5.3687520e-02 -2.9245746e+00 */
+    { 0x41218172,0x4013f703 }, /*  14:  1.0094103e+01  2.3119514e+00 */
+    { 0x49144637,0x415511bc }, /*  15:  6.0733144e+05  1.3316830e+01 */
+    { 0x40cb2189,0x3fec8f0a }, /*  16:  6.3478436e+00  1.8481152e+00 */
+    { 0x41e1fa25,0x4055d2d1 }, /*  17:  2.8247141e+01  3.3409922e+00 */
+    { 0x3f800000,0x00000000 }, /*  18:  1.0000000e+00  0.0000000e+00 */
+    { 0x41591c09,0x4026e669 }, /*  19:  1.3569345e+01  2.6078131e+00 */
+    { 0x174916d1,0xc25ec5d7 }, /*  20:  6.4975401e-25 -5.5693203e+01 */
+    { 0x58109e9b,0x4208585c }, /*  21:  6.3604352e+14  3.4086288e+01 */
+    { 0x3e19785b,0xbff2f08b }, /*  22:  1.4987318e-01 -1.8979658e+00 */
+    { 0x3db4ec9e,0xc01b4c70 }, /*  23:  8.8341936e-02 -2.4265404e+00 */
+    { 0x3bb62c8a,0xc0a626e0 }, /*  24:  5.5595087e-03 -5.1922455e+00 */
+    { 0x2a248b83,0xc1ec6ef3 }, /*  25:  1.4614529e-13 -2.9554174e+01 */
+    { 0x4509b547,0x40f653c3 }, /*  26:  2.2033298e+03  7.6977248e+00 */
+    { 0x406de7a0,0x3fa80ff9 }, /*  27:  3.7172623e+00  1.3129874e+00 */
+    { 0x444c143c,0x40d68dbc }, /*  28:  8.1631616e+02  6.7048016e+00 */
+    { 0x3ea2b445,0xbf92bcf0 }, /*  29:  3.1778160e-01 -1.1463909e+00 */
+    { 0x39e416a0,0xc0f7ae99 }, /*  30:  4.3504406e-04 -7.7400632e+00 */
+    { 0x6ecf3c4a,0x4283467b }, /*  31:  3.2068141e+28  6.5637657e+01 */
+    { 0x3d7d2c81,0xc03227f9 }, /*  32:  6.1810020e-02 -2.7836897e+00 */
+    { 0x4067be19,0x3fa4b407 }, /*  33:  3.6209776e+00  1.2867440e+00 */
+    { 0x4a50ac73,0x4170b7a2 }, /*  34:  3.4189088e+06  1.5044832e+01 */
+    { 0x45357d01,0x40ff2934 }, /*  35:  2.9038127e+03  7.9737797e+00 */
+    { 0x48f23354,0x4151d485 }, /*  36:  4.9602662e+05  1.3114385e+01 */
+    { 0x45c51417,0x410bfd4a }, /*  37:  6.3065112e+03  8.7493382e+00 */
+    { 0x4732ddf9,0x412bb589 }, /*  38:  4.5789973e+04  1.0731820e+01 */
+    { 0x5016149e,0x41b84395 }, /*  39:  1.0071734e+10  2.3032999e+01 */
+    { 0x47e707a5,0x413ae4da }, /*  40:  1.1828729e+05  1.1680872e+01 */
+    { 0x3380fe17,0xc18505c0 }, /*  41:  6.0066832e-08 -1.6627808e+01 */
+    { 0x2d47facc,0xc1c99a22 }, /*  42:  1.1367528e-11 -2.5200260e+01 */
+    { 0x36c55b34,0xc140b2de }, /*  43:  5.8816750e-06 -1.2043669e+01 */
+    { 0x7e5323de,0x42ae49ac }, /*  44:  7.0163335e+37  8.7143890e+01 */
+    { 0x39d2456a,0xc0fa48e6 }, /*  45:  4.0106039e-04 -7.8213987e+00 */
+    { 0x44eaed1c,0x40f13d23 }, /*  46:  1.8794097e+03  7.5387130e+00 */
+    { 0x3af0411b,0xc0c9a861 }, /*  47:  1.8329950e-03 -6.3018041e+00 */
+    { 0x468d8e4e,0x411ce027 }, /*  48:  1.8119152e+04  9.8047247e+00 */
+    { 0x35b0cf95,0xc158a367 }, /*  49:  1.3173436e-06 -1.3539893e+01 */
+    { 0x4fd66f5e,0x41b592d0 }, /*  50:  7.1952456e+09  2.2696686e+01 */
+    { 0x39ea958b,0xc0f6c88f }, /*  51:  4.4743376e-04 -7.7119823e+00 */
+    { 0x470a4c83,0x412797f0 }, /*  52:  3.5404512e+04  1.0474594e+01 */
+    { 0x3b494cfb,0xc0b92344 }, /*  53:  3.0716050e-03 -5.7855549e+00 */
+    { 0x2ed29bf4,0xc1b88d60 }, /*  54:  9.5773972e-11 -2.3069031e+01 */
+    { 0x40fb5820,0x4003e8dc }, /*  55:  7.8545074e+00  2.0610876e+00 */
+    { 0x4a9a67e4,0x4176fd1a }, /*  56:  5.0595700e+06  1.5436792e+01 */
+    { 0x3f800000,0x00000000 }, /*  57:  1.0000000e+00  0.0000000e+00 */
+    { 0x48eb02b9,0x41515916 }, /*  58:  4.8130178e+05  1.3084249e+01 */
+    { 0x38f54051,0xc110dc65 }, /*  59:  1.1694490e-04 -9.0538073e+00 */
+    { 0x4b6c7973,0x41847316 }, /*  60:  1.5497587e+07  1.6556194e+01 */
+    { 0x49514a33,0x415a9573 }, /*  61:  8.5725119e+05  1.3661487e+01 */
+    { 0x3d65ad1a,0xc03863e0 }, /*  62:  5.6073286e-02 -2.8810959e+00 */
+    { 0x38160449,0xc123d0dc }, /*  63:  3.5766778e-05 -1.0238491e+01 */
+    { 0x42916753,0x408929e9 }, /*  64:  7.2701805e+01  4.2863660e+00 */
+    { 0x3f800000,0x00000000 }, /*  65:  1.0000000e+00  0.0000000e+00 */
+    { 0x41512d28,0x40248488 }, /*  66:  1.3073524e+01  2.5705891e+00 */
+    { 0x3b413ec8,0xc0ba71d4 }, /*  67:  2.9486883e-03 -5.8263950e+00 */
+    { 0x484c2395,0x4144011e }, /*  68:  2.0903833e+05  1.2250273e+01 */
+    { 0x36b12452,0xc1426d7b }, /*  69:  5.2792393e-06 -1.2151729e+01 */
+    { 0x3e446b6f,0xbfd35b1f }, /*  70:  1.9181608e-01 -1.6512183e+00 */
+    { 0x404accff,0x3f93a0ad }, /*  71:  3.1687620e+00  1.1533409e+00 */
+    { 0x4ba7b839,0x41873f12 }, /*  72:  2.1983346e+07  1.6905796e+01 */
+    { 0x49626796,0x415bd769 }, /*  73:  9.2735338e+05  1.3740090e+01 */
+    { 0x41592d4a,0x4026eb7f }, /*  74:  1.3573557e+01  2.6081235e+00 */
+    { 0x410dadfd,0x400b952c }, /*  75:  8.8549776e+00  2.1809797e+00 */
+    { 0x40939648,0x3fc3abdc }, /*  76:  4.6120949e+00  1.5286822e+00 */
+    { 0x41352a6c,0x401b5113 }, /*  77:  1.1322857e+01  2.4268234e+00 */
+    { 0x3f800000,0x00000000 }, /*  78:  1.0000000e+00  0.0000000e+00 */
+    { 0x39fb9556,0xc0f48b72 }, /*  79:  4.7985715e-04 -7.6420221e+00 */
+    { 0x444c907c,0x40d6a132 }, /*  80:  8.1825757e+02  6.7071772e+00 */
+    { 0x41345657,0x401b05fb }, /*  81:  1.1271079e+01  2.4222400e+00 */
+    { 0x3e350e74,0xbfddc7e6 }, /*  82:  1.7681295e-01 -1.7326629e+00 */
+    { 0x73589f59,0x428fd730 }, /*  83:  1.7162599e+31  7.1920288e+01 */
+    { 0x3f800000,0x00000000 }, /*  84:  1.0000000e+00  0.0000000e+00 */
+    { 0x45734693,0x410444bf }, /*  85:  3.8924109e+03  8.2667837e+00 */
+    { 0x362b541f,0xc14e0d49 }, /*  86:  2.5529951e-06 -1.2878243e+01 */
+    { 0x35dbf460,0xc1552515 }, /*  87:  1.6387894e-06 -1.3321553e+01 */
+    { 0x6143178b,0x423b72ff }, /*  88:  2.2492572e+20  4.6862301e+01 */
+    { 0x3b48fe58,0xc0b92fc7 }, /*  89:  3.0669179e-03 -5.7870822e+00 */
+    { 0x388a744d,0xc11a0241 }, /*  90:  6.6020155e-05 -9.6255503e+00 */
+    { 0x405a084b,0x3f9ce5b9 }, /*  91:  3.4067562e+00  1.2257606e+00 */
+    { 0x4045781b,0x3f9037af }, /*  92:  3.0854557e+00  1.1266993e+00 */
+    { 0x44de6e9e,0x40ef7d73 }, /*  93:  1.7794568e+03  7.4840636e+00 */
+    { 0x3de3b298,0xc00c951a }, /*  94:  1.1118048e-01 -2.1966004e+00 */
+    { 0x3f800000,0x00000000 }, /*  95:  1.0000000e+00  0.0000000e+00 */
+    { 0x355b625d,0xc16046d9 }, /*  96:  8.1726995e-07 -1.4017297e+01 */
+    { 0x537d3985,0x41ddb84b }, /*  97:  1.0875917e+12  2.7714987e+01 */
+    { 0x74af532a,0x42939390 }, /*  98:  1.1112533e+32  7.3788208e+01 */
+    { 0x3dd5d297,0xc0109b31 }, /*  99:  1.0440557e-01 -2.2594721e+00 */
+    { 0x41147f00,0x400e970f }, /* 100:  9.2810059e+00  2.2279699e+00 */
+    { 0x38d5ab9b,0xc1131106 }, /* 101:  1.0188595e-04 -9.1916561e+00 */
+    { 0x3e7a55f6,0xbfb44f41 }, /* 102:  2.4446854e-01 -1.4086686e+00 */
+    { 0x0f46a724,0xc285976c }, /* 103:  9.7943438e-30 -6.6795746e+01 */
+    { 0x3dce684b,0xc012dd77 }, /* 104:  1.0078486e-01 -2.2947671e+00 */
+    { 0x3add7219,0xc0cc4432 }, /* 105:  1.6894966e-03 -6.3833246e+00 */
+    { 0x4133faa7,0x401ae569 }, /* 106:  1.1248694e+01  2.4202521e+00 */
+    { 0x4085f764,0x3fb746f5 }, /* 107:  4.1864491e+00  1.4318529e+00 */
+    { 0x33b1097d,0xc1827d58 }, /* 108:  8.2439307e-08 -1.6311203e+01 */
+    { 0x38cdec36,0xc113a84e }, /* 109:  9.8191595e-05 -9.2285900e+00 */
+    { 0x31abc217,0xc198e99a }, /* 110:  4.9988205e-09 -1.9114063e+01 */
+    { 0x3dffe2c5,0xc0051ce1 }, /* 111:  1.2494425e-01 -2.0798876e+00 */
+    { 0x60238f01,0x423532e7 }, /* 112:  4.7142559e+19  4.5299709e+01 */
+    { 0x41a83d0b,0x4042f0b2 }, /* 113:  2.1029806e+01  3.0459409e+00 */
+    { 0x3e4dd9b7,0xbfcd5a6b }, /* 114:  2.0102583e-01 -1.6043218e+00 */
+    { 0x3e218755,0xbfec6398 }, /* 115:  1.5774281e-01 -1.8467894e+00 */
+    { 0x40f99b04,0x40037720 }, /* 116:  7.8001728e+00  2.0541458e+00 */
+    { 0x3c39319a,0xc08f71ef }, /* 117:  1.1303330e-02 -4.4826579e+00 */
+    { 0x3ad7bd61,0xc0cd1a0b }, /* 118:  1.6459638e-03 -6.4094291e+00 */
+    { 0x3fca2b20,0x3eea0537 }, /* 119:  1.5794411e+00  4.5707104e-01 */
+    { 0x40295ce5,0x3f79210c }, /* 120:  2.6462948e+00  9.7316051e-01 */
+    { 0x360173d8,0xc1528944 }, /* 121:  1.9289928e-06 -1.3158512e+01 */
+    { 0x3ad43de7,0xc0cd9ff5 }, /* 122:  1.6192765e-03 -6.4257760e+00 */
+    { 0x40d37690,0x3ff1b44c }, /* 123:  6.6082230e+00  1.8883147e+00 */
+    { 0x3a96ab8f,0xc0d896cf }, /* 124:  1.1495220e-03 -6.7684093e+00 */
+    { 0x542a9cd7,0x41e5a6b5 }, /* 125:  2.9311031e+12  2.8706400e+01 */
+    { 0x3de14fa6,0xc00d41bb }, /* 126:  1.1001520e-01 -2.2071369e+00 */
+    { 0x13f5cd19,0xc27160ba }, /* 127:  6.2048937e-27 -6.0344460e+01 */
+    { 0x3b45e85a,0xc0b9ae87 }, /* 128:  3.0198307e-03 -5.8025546e+00 */
+    { 0x211577d4,0xc22881f9 }, /* 129:  5.0641755e-19 -4.2126926e+01 */
+    { 0x3dd1aed9,0xc011db80 }, /* 130:  1.0238428e-01 -2.2790222e+00 */
+    { 0x1fe0630f,0xc22f3348 }, /* 131:  9.5031569e-20 -4.3800079e+01 */
+    { 0x38ec0c14,0xc1117913 }, /* 132:  1.1255607e-04 -9.0920591e+00 */
+    { 0x69c3b7d9,0x426a9896 }, /* 133:  2.9576091e+25  5.8649010e+01 */
+    { 0x547273a4,0x41e87663 }, /* 134:  4.1652889e+12  2.9057806e+01 */
+    { 0x411a8a00,0x40112497 }, /* 135:  9.6586914e+00  2.2678583e+00 */
+    { 0x4af8eeae,0x417ea156 }, /* 136:  8.1570150e+06  1.5914389e+01 */
+    { 0x449e15e5,0x40e48fff }, /* 137:  1.2646842e+03  7.1425776e+00 */
+    { 0x1c3fafbd,0xc2433d0d }, /* 138:  6.3423735e-22 -4.8809620e+01 */
+    { 0x3d79a7e4,0xc0330d3d }, /* 139:  6.0951129e-02 -2.7976830e+00 */
+    { 0x3e86f6f0,0xbfaaa9f9 }, /* 140:  2.6360273e-01 -1.3333122e+00 */
+    { 0x378ca63a,0xc12ff017 }, /* 141:  1.6766706e-05 -1.0996116e+01 */
+    { 0x48b943ad,0x414d8ade }, /* 142:  3.7942141e+05  1.2846403e+01 */
+    { 0x3b6c55a6,0xc0b400df }, /* 143:  3.6061793e-03 -5.6251063e+00 */
+    { 0x2fbc73cf,0xc1ae59e5 }, /* 144:  3.4279288e-10 -2.1793894e+01 */
+    { 0x2e75c3c7,0xc1bcdcca }, /* 145:  5.5880436e-11 -2.3607807e+01 */
+    { 0x3003d847,0xc1aba9eb }, /* 146:  4.7964871e-10 -2.1457968e+01 */
+    { 0x78120e5b,0x429cea49 }, /* 147:  1.1849477e+34  7.8457588e+01 */
+    { 0x45affc19,0x410a2d9a }, /* 148:  5.6315122e+03  8.6361332e+00 */
+    { 0x3f800000,0x00000000 }, /* 149:  1.0000000e+00  0.0000000e+00 */
+    { 0x39bd679e,0xc0fda10e }, /* 150:  3.6126090e-04 -7.9259100e+00 */
+    { 0x3b68d18f,0xc0b47ba9 }, /* 151:  3.5525297e-03 -5.6400952e+00 */
+    { 0x43d8efb5,0x40c253fa }, /* 152:  4.3387271e+02  6.0727510e+00 */
+    { 0x2d51a990,0xc1c9394c }, /* 153:  1.1917925e-11 -2.5152977e+01 */
+    { 0x45189d5a,0x40f99dbc }, /* 154:  2.4418345e+03  7.8005047e+00 */
+    { 0x3dd38d92,0xc0114a07 }, /* 155:  1.0329737e-01 -2.2701433e+00 */
+    { 0x2b5f3a21,0xc1dee72b }, /* 156:  7.9306185e-13 -2.7862875e+01 */
+    { 0x2ffbb151,0xc1ac0948 }, /* 157:  4.5782625e-10 -2.1504532e+01 */
+    { 0x44e6524b,0x40f09af9 }, /* 158:  1.8425717e+03  7.5189176e+00 */
+    { 0x6a82ba8a,0x426e86ea }, /* 159:  7.9020631e+25  5.9631752e+01 */
+    { 0x40a6085b,0x3fd2bed3 }, /* 160:  5.1885200e+00  1.6464485e+00 */
+    { 0x2f2f9071,0xc1b4768b }, /* 161:  1.5967473e-10 -2.2557882e+01 */
+    { 0x43078fe8,0x409d1a0d }, /* 162:  1.3556213e+02  4.9094300e+00 */
+    { 0x3d9822bd,0xc02663e1 }, /* 163:  7.4285008e-02 -2.5998461e+00 */
+    { 0x2f3cc05c,0xc1b3e237 }, /* 164:  1.7166840e-10 -2.2485456e+01 */
+    { 0x3e0c5d71,0xbffe5d69 }, /* 165:  1.3707520e-01 -1.9872257e+00 */
+    { 0x4061f702,0x3fa178b7 }, /* 166:  3.5307012e+00  1.2614964e+00 */
+    { 0x4bd362ce,0x418918f6 }, /* 167:  2.7706780e+07  1.7137188e+01 */
+    { 0x4911475b,0x4154be23 }, /* 168:  5.9506169e+05  1.3296420e+01 */
+    { 0x360d5dba,0xc15120a9 }, /* 169:  2.1065193e-06 -1.3070474e+01 */
+    { 0x417eecc5,0x40312d24 }, /* 170:  1.5932805e+01  2.7683802e+00 */
+    { 0x396de93f,0xc10641ba }, /* 171:  2.2688972e-04 -8.3910465e+00 */
+    { 0x3eb2f957,0xbf8689ed }, /* 172:  3.4955856e-01 -1.0510842e+00 */
+    { 0x3525f790,0xc164bdc6 }, /* 173:  6.1827541e-07 -1.4296331e+01 */
+    { 0x44dfbc68,0x40efad54 }, /* 174:  1.7898877e+03  7.4899082e+00 */
+    { 0x40d36483,0x3ff1a95f }, /* 175:  6.6060195e+00  1.8879813e+00 */
+    { 0x48a560c2,0x414bb9c4 }, /* 176:  3.3869406e+05  1.2732853e+01 */
+    { 0x4116cb41,0x400f92a6 }, /* 177:  9.4246225e+00  2.2433257e+00 */
+    { 0x3db06371,0xc01cec6d }, /* 178:  8.6127169e-02 -2.4519303e+00 */
+    { 0x369826a9,0xc144dc64 }, /* 179:  4.5344536e-06 -1.2303806e+01 */
+    { 0x3d4df18b,0xc03f5eda }, /* 180:  5.0279181e-02 -2.9901643e+00 */
+    { 0x43ccc8d2,0x40c07bbe }, /* 181:  4.0956891e+02  6.0151052e+00 */
+    { 0x0a9d4530,0xc292890b }, /* 182:  1.5144576e-32 -7.3267662e+01 */
+    { 0x3a421e7d,0xc0e6a964 }, /* 183:  7.4050558e-04 -7.2081776e+00 */
+    { 0x3def9535,0xc0095379 }, /* 184:  1.1698381e-01 -2.1457198e+00 */
+    { 0x3855f49a,0xc11e22b1 }, /* 185:  5.1010960e-05 -9.8834696e+00 */
+    { 0x3f800000,0x00000000 }, /* 186:  1.0000000e+00  0.0000000e+00 */
+    { 0x3e26d1dd,0xbfe8436e }, /* 187:  1.6290994e-01 -1.8145578e+00 */
+    { 0x444ab04b,0x40d655bc }, /* 188:  8.1075458e+02  6.6979656e+00 */
+    { 0x7af9248e,0x42a4ea2c }, /* 189:  6.4681167e+35  8.2457367e+01 */
+    { 0x40409e4e,0x3f8d08b2 }, /* 190:  3.0096622e+00  1.1018279e+00 */
+    { 0x409acb76,0x3fc9c64e }, /* 191:  4.8373365e+00  1.5763643e+00 */
+    { 0x38b19394,0xc11606eb }, /* 192:  8.4675063e-05 -9.3766890e+00 */
+    { 0x3f800000,0x00000000 }, /* 193:  1.0000000e+00  0.0000000e+00 */
+    { 0x571563d7,0x4202ee07 }, /* 194:  1.6425604e+14  3.2732449e+01 */
+    { 0x3de0d505,0xc00d6499 }, /* 195:  1.0978130e-01 -2.2092650e+00 */
+    { 0x48898538,0x4148c636 }, /* 196:  2.8164175e+05  1.2548391e+01 */
+    { 0x411f76d8,0x40132699 }, /* 197:  9.9665146e+00  2.2992308e+00 */
+    { 0x37570744,0xc1343c77 }, /* 198:  1.2816690e-05 -1.1264762e+01 */
+    { 0x6569757a,0x4252591a }, /* 199:  6.8904903e+22  5.2587013e+01 */
+    { 0x47b015b5,0x41368c74 }, /* 200:  9.0155414e+04  1.1409290e+01 */
+    { 0x3a83e659,0xc0dcd8c2 }, /* 201:  1.0063156e-03 -6.9014597e+00 */
+    { 0x38cb8c93,0xc113d7cb }, /* 202:  9.7059783e-05 -9.2401838e+00 */
+    { 0x463526f3,0x4115bb45 }, /* 203:  1.1593737e+04  9.3582201e+00 */
+    { 0x3a536f57,0xc0e3ed6c }, /* 204:  8.0656022e-04 -7.1227322e+00 */
+    { 0x35be062c,0xc1577c34 }, /* 205:  1.4157899e-06 -1.3467823e+01 */
+    { 0x0bcc9e98,0xc28f3c83 }, /* 206:  7.8816567e-32 -7.1618187e+01 */
+    { 0x3bed9d09,0xc09da667 }, /* 207:  7.2513861e-03 -4.9265628e+00 */
+    { 0x45a80c4c,0x41097095 }, /* 208:  5.3775371e+03  8.5899858e+00 */
+    { 0x3dbf0104,0xc017d42b }, /* 209:  9.3263656e-02 -2.3723247e+00 */
+    { 0x4502376e,0x40f48986 }, /* 210:  2.0834644e+03  7.6417875e+00 */
+    { 0x39300c8c,0xc10b132d }, /* 211:  1.6789342e-04 -8.6921816e+00 */
+    { 0x34787d5c,0xc17476d7 }, /* 212:  2.3142405e-07 -1.5279014e+01 */
+    { 0x488c7a31,0x41491d59 }, /* 213:  2.8769753e+05  1.2569665e+01 */
+    { 0x3d823767,0xc03058d2 }, /* 214:  6.3582234e-02 -2.7554212e+00 */
+    { 0x4ab02048,0x41791833 }, /* 215:  5.7713000e+06  1.5568408e+01 */
+    { 0x467dd64d,0x411b2114 }, /* 216:  1.6245575e+04  9.6955757e+00 */
+    { 0x446ac4c8,0x40db0961 }, /* 217:  9.3907471e+02  6.8448949e+00 */
+    { 0x3d9c5585,0xc024a5df }, /* 218:  7.6334991e-02 -2.5726240e+00 */
+    { 0x40b4b619,0x3fdd96d0 }, /* 219:  5.6472287e+00  1.7311649e+00 */
+    { 0x4c0e74ef,0x418b7c4a }, /* 220:  3.7344188e+07  1.7435688e+01 */
+    { 0x34f43cec,0xc169a667 }, /* 221:  4.5492868e-07 -1.4603126e+01 */
+    { 0x4090e4e2,0x3fc1506e }, /* 222:  4.5279398e+00  1.5102670e+00 */
+    { 0x4c9b0445,0x4191b4e6 }, /* 223:  8.1273384e+07  1.8213329e+01 */
+    { 0x2348ce42,0xc21c3c80 }, /* 224:  1.0885699e-17 -3.9059082e+01 */
+    { 0x38d767a7,0xc112efe8 }, /* 225:  1.0271306e-04 -9.1835709e+00 */
+    { 0x495df9f3,0x415b8680 }, /* 226:  9.0921519e+05  1.3720337e+01 */
+    { 0x46c2be87,0x4121fabf }, /* 227:  2.4927264e+04  1.0123717e+01 */
+    { 0x3e514aa6,0xbfcb3b2c }, /* 228:  2.0438632e-01 -1.5877433e+00 */
+    { 0x3529ced5,0xc1646010 }, /* 229:  6.3258386e-07 -1.4273453e+01 */
+    { 0x4ed8fae0,0x41aa93d8 }, /* 230:  1.8201600e+09  2.1322189e+01 */
+    { 0x3c09c87e,0xc098e87c }, /* 231:  8.4096175e-03 -4.7783794e+00 */
+    { 0x41a2b274,0x4040cbf5 }, /* 232:  2.0337135e+01  3.0124485e+00 */
+    { 0x33b548d8,0xc1824cca }, /* 233:  8.4417195e-08 -1.6287495e+01 */
+    { 0x3f800000,0x00000000 }, /* 234:  1.0000000e+00  0.0000000e+00 */
+    { 0x3a99fcc7,0xc0d7e467 }, /* 235:  1.1748307e-03 -6.7466311e+00 */
+    { 0x41119446,0x400d5207 }, /* 236:  9.0986996e+00  2.2081316e+00 */
+    { 0x410a318b,0x4009fcfe }, /* 237:  8.6370955e+00  2.1560664e+00 */
+    { 0x47b31659,0x4136d1b5 }, /* 238:  9.1692695e+04  1.1426198e+01 */
+    { 0x3eb2738c,0xbf86e9c1 }, /* 239:  3.4853780e-01 -1.0540086e+00 */
+    { 0x41019f6a,0x4005e3f9 }, /* 240:  8.1014194e+00  2.0920393e+00 */
+    { 0x47c27b1e,0x41382377 }, /* 241:  9.9574234e+04  1.1508658e+01 */
+    { 0x34bc5d46,0xc16dce66 }, /* 242:  3.5085594e-07 -1.4862890e+01 */
+    { 0x1a8bbc2c,0xc24cd219 }, /* 243:  5.7793061e-23 -5.1205173e+01 */
+    { 0x4316f119,0x40a08a66 }, /* 244:  1.5094179e+02  5.0168943e+00 */
+    { 0x359afb90,0xc15abf1f }, /* 245:  1.1547108e-06 -1.3671660e+01 */
+    { 0x4dcfb187,0x419f2322 }, /* 246:  4.3556477e+08  1.9892155e+01 */
+    { 0x34385a07,0xc1793dba }, /* 247:  1.7169087e-07 -1.5577570e+01 */
+    { 0x1e670688,0xc23766c6 }, /* 248:  1.2230389e-20 -4.5850365e+01 */
+    { 0x3a386505,0xc0e84e68 }, /* 249:  7.0340961e-04 -7.2595711e+00 */
+    { 0x44817194,0x40de2a7f }, /* 250:  1.0355493e+03  6.9426875e+00 */
+    { 0x3e732a80,0xbfb80774 }, /* 251:  2.3746681e-01 -1.4377275e+00 */
+    { 0x6bf8db16,0x4276a5ae }, /* 252:  6.0169641e+26  6.1661797e+01 */
+    { 0x3c04022c,0xc09a4739 }, /* 253:  8.0571584e-03 -4.8211942e+00 */
+    { 0x4140e8b5,0x401f5619 }, /* 254:  1.2056813e+01  2.4896300e+00 */
+    { 0x45cb00af,0x410c769a }, /* 255:  6.4960854e+03  8.7789555e+00 */
+    { 0x40ab9beb,0x3fd6f94d }, /* 256:  5.3627830e+00  1.6794831e+00 */
+    { 0x45c0faa5,0x410ba730 }, /* 257:  6.1753306e+03  8.7283173e+00 */
+    { 0x30244232,0xc1a9e7bc }, /* 258:  5.9756922e-10 -2.1238152e+01 */
+    { 0x1443dcf6,0xc26f8380 }, /* 259:  9.8885610e-27 -5.9878418e+01 */
+    { 0x3553639e,0xc160dee8 }, /* 260:  7.8748587e-07 -1.4054420e+01 */
+    { 0x4faba390,0x41b3cae7 }, /* 261:  5.7592463e+09  2.2474073e+01 */
+    { 0x3f800000,0x00000000 }, /* 262:  1.0000000e+00  0.0000000e+00 */
+    { 0x43abad85,0x40bad72d }, /* 263:  3.4335562e+02  5.8387666e+00 */
+    { 0x32804e6c,0xc19027ce }, /* 264:  1.4936823e-08 -1.8019436e+01 */
+    { 0x3dc19daf,0xc016f5a3 }, /* 265:  9.4539039e-02 -2.3587425e+00 */
+    { 0x49adadb7,0x4162b09e }, /* 266:  1.4227749e+06  1.4168119e+01 */
+    { 0x3d32c57e,0xc0486d16 }, /* 267:  4.3645374e-02 -3.1316581e+00 */
+    { 0x3de70740,0xc00ba72d }, /* 268:  1.1280680e-01 -2.1820786e+00 */
+    { 0x3d5cdf4b,0xc03ae442 }, /* 269:  5.3923886e-02 -2.9201818e+00 */
+    { 0x3dc72e19,0xc015256f }, /* 270:  9.7255893e-02 -2.3304098e+00 */
+    { 0x3da648c3,0xc020b2ec }, /* 271:  8.1193469e-02 -2.5109205e+00 */
+    { 0x4045cf8c,0x3f907051 }, /* 272:  3.0907927e+00  1.1284276e+00 */
+    { 0x42803015,0x40852195 }, /* 273:  6.4093910e+01  4.1603494e+00 */
+    { 0x3711a616,0xc13a7827 }, /* 274:  8.6813434e-06 -1.1654334e+01 */
+    { 0x49cf0628,0x41657ffe }, /* 275:  1.6959410e+06  1.4343748e+01 */
+    { 0x39644f32,0xc106ea77 }, /* 276:  2.1773277e-04 -8.4322424e+00 */
+    { 0x3f800000,0x00000000 }, /* 277:  1.0000000e+00  0.0000000e+00 */
+    { 0x60eb307f,0x42396c9f }, /* 278:  1.3557748e+20  4.6356075e+01 */
+    { 0x396aba39,0xc10678e9 }, /* 279:  2.2385352e-04 -8.4045191e+00 */
+    { 0x46bf66f4,0x4121b3d8 }, /* 280:  2.4499477e+04  1.0106407e+01 */
+    { 0x41ef8981,0x40598d97 }, /* 281:  2.9942141e+01  3.3992670e+00 */
+    { 0x4008baf6,0x3f42562c }, /* 282:  2.1364112e+00  7.5912738e-01 */
+    { 0x44dc2880,0x40ef2945 }, /* 283:  1.7612656e+03  7.4737878e+00 */
+    { 0x49476bba,0x4159cf99 }, /* 284:  8.1682762e+05  1.3613183e+01 */
+    { 0x4721294f,0x412a0a95 }, /* 285:  4.1257309e+04  1.0627584e+01 */
+    { 0x3b005a47,0xc0c789d1 }, /* 286:  1.9585059e-03 -6.2355733e+00 */
+    { 0x45ab27f7,0x4109bba5 }, /* 287:  5.4769956e+03  8.6083117e+00 */
+    { 0x39131a5a,0xc10df2f0 }, /* 288:  1.4028829e-04 -8.8718109e+00 */
+    { 0x4819eae9,0x413f7c7a }, /* 289:  1.5761164e+05  1.1967890e+01 */
+    { 0x3de77c4b,0xc00b86c9 }, /* 290:  1.1303004e-01 -2.1801016e+00 */
+    { 0x4153161f,0x40251975 }, /* 291:  1.3192901e+01  2.5796788e+00 */
+    { 0x34c63711,0xc16cfd9b }, /* 292:  3.6920440e-07 -1.4811915e+01 */
+    { 0x3692c415,0xc1456ffc }, /* 293:  4.3739660e-06 -1.2339840e+01 */
+    { 0x40e719b6,0x3ffd1227 }, /* 294:  7.2218885e+00  1.9771165e+00 */
+    { 0x62368ea9,0x4240ba90 }, /* 295:  8.4189679e+20  4.8182190e+01 */
+    { 0x4a37fc21,0x416eb3df }, /* 296:  3.0144082e+06  1.4918914e+01 */
+    { 0x6abac6a3,0x426ff443 }, /* 297:  1.1289912e+26  5.9988537e+01 */
+    { 0x40c026a9,0x3fe57223 }, /* 298:  6.0047193e+00  1.7925457e+00 */
+    { 0x409821fc,0x3fc78de4 }, /* 299:  4.7541485e+00  1.5590177e+00 */
+    { 0x38848342,0xc11ab5e9 }, /* 300:  6.3186992e-05 -9.6694117e+00 */
+    { 0x3b713d69,0xc0b35895 }, /* 301:  3.6810285e-03 -5.6045632e+00 */
+    { 0x39ace78e,0xc10045de }, /* 302:  3.2978918e-04 -8.0170574e+00 */
+    { 0x39dbc2bf,0xc0f8df4a }, /* 303:  4.1916032e-04 -7.7772570e+00 */
+    { 0x456fb027,0x410407e5 }, /* 304:  3.8350095e+03  8.2519274e+00 */
+    { 0x3b488ae1,0xc0b9422e }, /* 305:  3.0600356e-03 -5.7893286e+00 */
+    { 0x4b0dd6c6,0x41805c42 }, /* 306:  9.2955580e+06  1.6045048e+01 */
+    { 0x2bbfe8df,0xc1da9130 }, /* 307:  1.3636001e-12 -2.7320892e+01 */
+    { 0x49af63b1,0x4162d8c5 }, /* 308:  1.4367901e+06  1.4177922e+01 */
+    { 0x3d4787b1,0xc0416531 }, /* 309:  4.8713390e-02 -3.0218012e+00 */
+    { 0x4364ed84,0x40adde78 }, /* 310:  2.2892780e+02  5.4334068e+00 */
+    { 0x412e0d7a,0x4018c0d3 }, /* 311:  1.0878290e+01  2.3867691e+00 */
+    { 0x4072c6d9,0x3faaa83d }, /* 312:  3.7933867e+00  1.3332592e+00 */
+    { 0x40fd5aa9,0x40046b5b }, /* 313:  7.9173169e+00  2.0690525e+00 */
+    { 0x396f5a82,0xc10628f8 }, /* 314:  2.2826533e-04 -8.3850021e+00 */
+    { 0x3d4ac6ac,0xc0405ccc }, /* 315:  4.9505875e-02 -3.0056639e+00 */
+    { 0x40c87ee7,0x3feae325 }, /* 316:  6.2654910e+00  1.8350569e+00 */
+    { 0x331f05c3,0xc188e4b0 }, /* 317:  3.7025313e-08 -1.7111664e+01 */
+    { 0x464cd210,0x4117b23f }, /* 318:  1.3108516e+04  9.4810171e+00 */
+    { 0x3ddf9926,0xc00dbec3 }, /* 319:  1.0917883e-01 -2.2147682e+00 */
+    { 0x3dd88d23,0xc00fcb6e }, /* 320:  1.0573795e-01 -2.2467914e+00 */
+    { 0x40d27910,0x3ff11a7e }, /* 321:  6.5772781e+00  1.8836210e+00 */
+    { 0x0bab27c3,0xc28f97f2 }, /* 322:  6.5926631e-32 -7.1796768e+01 */
+    { 0x3dcfaae9,0xc01279bc }, /* 323:  1.0140020e-01 -2.2886801e+00 */
+    { 0x459f6454,0x410897f8 }, /* 324:  5.1005410e+03  8.5371017e+00 */
+    { 0x42d8aadf,0x4095ed4b }, /* 325:  1.0833373e+02  4.6852164e+00 */
+    { 0x5eba88a9,0x422d6826 }, /* 326:  6.7205895e+18  4.3351707e+01 */
+    { 0x40a52a29,0x3fd21314 }, /* 327:  5.1613965e+00  1.6412072e+00 */
+    { 0x3dd99ddf,0xc00f7b06 }, /* 328:  1.0625815e-01 -2.2418838e+00 */
+    { 0x5ac29611,0x4217652a }, /* 329:  2.7385573e+16  3.7848793e+01 */
+    { 0x2a10de63,0xc1ed73c7 }, /* 330:  1.2866925e-13 -2.9681532e+01 */
+    { 0x3db61a6b,0xc01ae206 }, /* 331:  8.8917576e-02 -2.4200454e+00 */
+    { 0x3de00b94,0xc00d9e0a }, /* 332:  1.0939708e-01 -2.2127709e+00 */
+    { 0x4158cbf7,0x4026ceca }, /* 333:  1.3549796e+01  2.6063714e+00 */
+    { 0x3d41323a,0xc04375b8 }, /* 334:  4.7167040e-02 -3.0540600e+00 */
+    { 0x48f2695d,0x4151d817 }, /* 335:  4.9645891e+05  1.3115256e+01 */
+    { 0x52652d17,0x41d1d4cd }, /* 336:  2.4607600e+11  2.6228907e+01 */
+    { 0x3dc4fa03,0xc015dbb1 }, /* 337:  9.6179985e-02 -2.3415339e+00 */
+    { 0x43915257,0x40b581d1 }, /* 338:  2.9064328e+02  5.6720967e+00 */
+    { 0x44b5ddb2,0x40e90bf9 }, /* 339:  1.4549280e+03  7.2827115e+00 */
+    { 0x38f68800,0xc110c713 }, /* 340:  1.1755526e-04 -9.0486021e+00 */
+    { 0x24c3f499,0xc2140430 }, /* 341:  8.4982134e-17 -3.7004089e+01 */
+    { 0x3bc6b819,0xc0a35ebe }, /* 342:  6.0644266e-03 -5.1053152e+00 */
+    { 0x712b59a9,0x4289d396 }, /* 343:  8.4848527e+29  6.8913254e+01 */
+    { 0x3edaf8e1,0xbf5970f6 }, /* 344:  4.2768005e-01 -8.4937990e-01 */
+    { 0x40ecd3dd,0x40001a28 }, /* 345:  7.4008622e+00  2.0015965e+00 */
+    { 0x4113bc80,0x400e4304 }, /* 346:  9.2335205e+00  2.2228403e+00 */
+    { 0x445767a9,0x40d84834 }, /* 347:  8.6161969e+02  6.7588139e+00 */
+    { 0x44e98413,0x40f10bd0 }, /* 348:  1.8681273e+03  7.5326920e+00 */
+    { 0x40d09290,0x3feff148 }, /* 349:  6.5178909e+00  1.8745508e+00 */
+    { 0x475afe8c,0x412ef294 }, /* 350:  5.6062547e+04  1.0934223e+01 */
+    { 0x334abd91,0xc186f344 }, /* 351:  4.7204200e-08 -1.6868782e+01 */
+    { 0x3eeee60c,0xbf432522 }, /* 352:  4.6659887e-01 -7.6228535e-01 */
+    { 0x474e6d4e,0x412e0082 }, /* 353:  5.2845305e+04  1.0875124e+01 */
+    { 0x3dab6f37,0xc01ebf2c }, /* 354:  8.3708219e-02 -2.4804182e+00 */
+    { 0x39df341e,0xc0f85ff2 }, /* 355:  4.2572705e-04 -7.7617121e+00 */
+    { 0x216ca45a,0xc226ab7b }, /* 356:  8.0177428e-19 -4.1667461e+01 */
+    { 0x43e6f657,0x40c45536 }, /* 357:  4.6192453e+02  6.1354017e+00 */
+    { 0x3682f809,0xc1474270 }, /* 358:  3.9031770e-06 -1.2453720e+01 */
+    { 0x3593e9a6,0xc15b7e5e }, /* 359:  1.1020354e-06 -1.3718351e+01 */
+    { 0x418dd1f9,0x403801f1 }, /* 360:  1.7727526e+01  2.8751185e+00 */
+    { 0x3a97e714,0xc0d85411 }, /* 361:  1.1589252e-03 -6.7602620e+00 */
+    { 0x57fc9b09,0x4207cdaf }, /* 362:  5.5548560e+14  3.3950863e+01 */
+    { 0x36c6a602,0xc1409823 }, /* 363:  5.9201857e-06 -1.2037143e+01 */
+    { 0x43cc5832,0x40c06a20 }, /* 364:  4.0868903e+02  6.0129547e+00 */
+    { 0x600cb873,0x423498e5 }, /* 365:  4.0559924e+19  4.5149311e+01 */
+    { 0x48ce4e17,0x414f437b }, /* 366:  4.2251272e+05  1.2953975e+01 */
+    { 0x333ca0a9,0xc1878709 }, /* 367:  4.3918281e-08 -1.6940935e+01 */
+    { 0x379d3940,0xc12e27cc }, /* 368:  1.8742518e-05 -1.0884716e+01 */
+    { 0x48e2b3ed,0x4150c5ab }, /* 369:  4.6428741e+05  1.3048259e+01 */
+    { 0x48001811,0x413c8c3b }, /* 370:  1.3116827e+05  1.1784236e+01 */
+    { 0x3da42be9,0xc021846b }, /* 371:  8.0161877e-02 -2.5237072e+00 */
+    { 0x3957c9ce,0xc107d17e }, /* 372:  2.0579176e-04 -8.4886456e+00 */
+    { 0x39f48509,0xc0f574be }, /* 373:  4.6638426e-04 -7.6705008e+00 */
+    { 0x5089f81b,0x41bd22d3 }, /* 374:  1.8517907e+10  2.3642004e+01 */
+    { 0x349c037f,0xc170d23a }, /* 375:  2.9059808e-07 -1.5051325e+01 */
+    { 0x37944295,0xc12f183d }, /* 376:  1.7673980e-05 -1.0943418e+01 */
+    { 0x41b5e0c3,0x4047ede3 }, /* 377:  2.2734747e+01  3.1238945e+00 */
+    { 0x414bad9e,0x4022d01e }, /* 378:  1.2729887e+01  2.5439525e+00 */
+    { 0x3a042066,0xc0f2f8f2 }, /* 379:  5.0402281e-04 -7.5928888e+00 */
+    { 0x5431e5d8,0x41e5fc57 }, /* 380:  3.0562614e+12  2.8748213e+01 */
+    { 0x355dac17,0xc1601c59 }, /* 381:  8.2579339e-07 -1.4006921e+01 */
+    { 0x3e54a4a7,0xbfc93296 }, /* 382:  2.0765935e-01 -1.5718563e+00 */
+    { 0x41140d54,0x400e65ff }, /* 383:  9.2532539e+00  2.2249753e+00 */
+    { 0x41826cda,0x4032a59d }, /* 384:  1.6303150e+01  2.7913582e+00 */
+    { 0x464ecfb1,0x4117d9de }, /* 385:  1.3235923e+04  9.4906902e+00 */
+    { 0x44a55326,0x40e5fecd }, /* 386:  1.3225984e+03  7.1873536e+00 */
+    { 0x23205f35,0xc21d22bd }, /* 387:  8.6937783e-18 -3.9283924e+01 */
+    { 0x47b6efcc,0x413728d1 }, /* 388:  9.3663594e+04  1.1447465e+01 */
+    { 0x47b2b187,0x4136c8b1 }, /* 389:  9.1491055e+04  1.1423997e+01 */
+    { 0x415dba38,0x40283f3e }, /* 390:  1.3857964e+01  2.6288600e+00 */
+    { 0x3af9b6b3,0xc0c86c07 }, /* 391:  1.9051641e-03 -6.2631869e+00 */
+    { 0x576850ea,0x4204b229 }, /* 392:  2.5543422e+14  3.3173985e+01 */
+    { 0x3dec2e54,0xc00a3dc7 }, /* 393:  1.1532274e-01 -2.1600206e+00 */
+    { 0x3dd09a96,0xc012300a }, /* 394:  1.0185735e-01 -2.2841821e+00 */
+    { 0x55b6a016,0x41f6d4c0 }, /* 395:  2.5099835e+13  3.0853882e+01 */
+    { 0x0df9b52e,0xc2894afc }, /* 396:  1.5389427e-30 -6.8646454e+01 */
+    { 0x1fc295c3,0xc22fc534 }, /* 397:  8.2409956e-20 -4.3942581e+01 */
+    { 0x3e10443e,0xbffadb06 }, /* 398:  1.4088532e-01 -1.9598091e+00 */
+    { 0x4193f904,0x403ab9bc }, /* 399:  1.8496590e+01  2.9175863e+00 */
+    { 0x3a771445,0xc0def12d }, /* 400:  9.4253226e-04 -6.9669404e+00 */
+    { 0x2d822e6c,0xc1c77dbf }, /* 401:  1.4799904e-11 -2.4936399e+01 */
+    { 0x5540353b,0x41f1b1ec }, /* 402:  1.3208428e+13  3.0211876e+01 */
+    { 0x327e62e3,0xc19039a7 }, /* 403:  1.4807230e-08 -1.8028151e+01 */
+    { 0x52c4eead,0x41d629d3 }, /* 404:  4.2290895e+11  2.6770422e+01 */
+    { 0x412d4dc6,0x40187a2f }, /* 405:  1.0831488e+01  2.3824575e+00 */
+    { 0x38ab92d4,0xc11693c7 }, /* 406:  8.1812643e-05 -9.4110785e+00 */
+    { 0x3d678572,0xc037e0c7 }, /* 407:  5.6523748e-02 -2.8730943e+00 */
+    { 0x4c7d2c3e,0x419015f5 }, /* 408:  6.6367736e+07  1.8010721e+01 */
+    { 0x2f9c1407,0xc1afdbeb }, /* 409:  2.8390465e-10 -2.1982382e+01 */
+    { 0x45ce2fc6,0x410cb658 }, /* 410:  6.5979717e+03  8.7945175e+00 */
+    { 0x05c545e9,0xc29ff1ed }, /* 411:  1.8551472e-35 -7.9972511e+01 */
+    { 0x3f800000,0x00000000 }, /* 412:  1.0000000e+00  0.0000000e+00 */
+    { 0x3e7edc4e,0xbfb20444 }, /* 413:  2.4888727e-01 -1.3907552e+00 */
+    { 0x2e652d46,0xc1bd6be7 }, /* 414:  5.2108783e-11 -2.3677687e+01 */
+    { 0x2e87a3ec,0xc1bc127d }, /* 415:  6.1682076e-11 -2.3509027e+01 */
+    { 0x388f407a,0xc11976ba }, /* 416:  6.8307811e-05 -9.5914860e+00 */
+    { 0x4385388e,0x40b2b999 }, /* 417:  2.6644183e+02  5.5851560e+00 */
+    { 0x3268866a,0xc190f1ad }, /* 418:  1.3534740e-08 -1.8118006e+01 */
+    { 0x3a687859,0xc0e0e475 }, /* 419:  8.8680309e-04 -7.0278878e+00 */
+    { 0x38522fe0,0xc11e6b7b }, /* 420:  5.0112489e-05 -9.9012403e+00 */
+    { 0x23f9f9d4,0xc218966f }, /* 421:  2.7102440e-17 -3.8146908e+01 */
+    { 0x2886d219,0xc1fea9b0 }, /* 422:  1.4968104e-14 -3.1832855e+01 */
+    { 0x39bab525,0xc0fe168d }, /* 423:  3.5611648e-04 -7.9402528e+00 */
+    { 0x40f5efa2,0x4002847a }, /* 424:  7.6855021e+00  2.0393357e+00 */
+    { 0x45d1046d,0x410cee32 }, /* 425:  6.6885532e+03  8.8081532e+00 */
+    { 0x414d27c8,0x40234684 }, /* 426:  1.2822212e+01  2.5511789e+00 */
+    { 0x3f800000,0x00000000 }, /* 427:  1.0000000e+00  0.0000000e+00 */
+    { 0x40d393ef,0x3ff1c613 }, /* 428:  6.6118083e+00  1.8888572e+00 */
+    { 0x4514917f,0x40f8c19c }, /* 429:  2.3770935e+03  7.7736340e+00 */
+    { 0x2a494b4c,0xc1ead21c }, /* 430:  1.7878510e-13 -2.9352592e+01 */
+    { 0x3f800000,0x00000000 }, /* 431:  1.0000000e+00  0.0000000e+00 */
+    { 0x2da8ad70,0xc1c56b31 }, /* 432:  1.9176410e-11 -2.4677340e+01 */
+    { 0x3e050eb6,0xc0029aad }, /* 433:  1.2993893e-01 -2.0406907e+00 */
+    { 0x362d6243,0xc14ddc71 }, /* 434:  2.5836205e-06 -1.2866319e+01 */
+    { 0x40d0eca9,0x3ff02887 }, /* 435:  6.5288892e+00  1.8762368e+00 */
+    { 0x46454b9e,0x411718ed }, /* 436:  1.2626904e+04  9.4435854e+00 */
+    { 0x3a418f5b,0xc0e6c105 }, /* 437:  7.3837274e-04 -7.2110620e+00 */
+    { 0x3802988a,0xc12608ba }, /* 438:  3.1136478e-05 -1.0377131e+01 */
+    { 0x4f95ad30,0x41b2b27f }, /* 439:  5.0223104e+09  2.2337156e+01 */
+    { 0x3da34d1a,0xc021db82 }, /* 440:  7.9736903e-02 -2.5290227e+00 */
+    { 0x45214bad,0x40fb62f0 }, /* 441:  2.5807297e+03  7.8558273e+00 */
+    { 0x4654d5d4,0x41184f78 }, /* 442:  1.3621457e+04  9.5194016e+00 */
+    { 0x3a7b0cd2,0xc0de6e91 }, /* 443:  9.5768005e-04 -6.9509969e+00 */
+    { 0x3dc8ac9f,0xc014aafb }, /* 444:  9.7985499e-02 -2.3229358e+00 */
+    { 0x3a2aa667,0xc0eac8fd }, /* 445:  6.5097812e-04 -7.3370347e+00 */
+    { 0x532c6226,0x41daa4b9 }, /* 446:  7.4038103e+11  2.7330431e+01 */
+    { 0x3e840365,0xbfad7e7a }, /* 447:  2.5783840e-01 -1.3554223e+00 */
+    { 0x4375e6e1,0x40b02868 }, /* 448:  2.4590187e+02  5.5049324e+00 */
+    { 0x460d0cdd,0x4111ba5d }, /* 449:  9.0272158e+03  9.1079988e+00 */
+    { 0x469c3aee,0x411e742a }, /* 450:  1.9997465e+04  9.9033604e+00 */
+    { 0x3915c305,0xc10da991 }, /* 451:  1.4282398e-04 -8.8538980e+00 */
+    { 0x448e18b7,0x40e1267d }, /* 452:  1.1367723e+03  7.0359483e+00 */
+    { 0x43ad355a,0x40bb1fe4 }, /* 453:  3.4641681e+02  5.8476429e+00 */
+    { 0x47a2b866,0x41354925 }, /* 454:  8.3312797e+04  1.1330358e+01 */
+    { 0x44cc5b71,0x40ecc728 }, /* 455:  1.6348575e+03  7.3993111e+00 */
+    { 0x30c316d1,0xc1a2fbe2 }, /* 456:  1.4194602e-09 -2.0372990e+01 */
+    { 0x3e3371a1,0xbfdeed0e }, /* 457:  1.7523815e-01 -1.7416093e+00 */
+    { 0x2fce400a,0xc1ada113 }, /* 458:  3.7516684e-10 -2.1703650e+01 */
+    { 0x469a2896,0x411e3d7d }, /* 459:  1.9732293e+04  9.8900118e+00 */
+    { 0x3e7081ca,0xbfb96fbe }, /* 460:  2.3487011e-01 -1.4487226e+00 */
+    { 0x43c83086,0x40bfc1d6 }, /* 461:  4.0037909e+02  5.9924116e+00 */
+    { 0x3db8c93d,0xc019f267 }, /* 462:  9.0227582e-02 -2.4054201e+00 */
+    { 0x4344b4d7,0x40a903c9 }, /* 463:  1.9670641e+02  5.2817121e+00 */
+    { 0x3de4f044,0xc00c3c0e }, /* 464:  1.1178640e-01 -2.1911654e+00 */
+    { 0x39a73504,0xc100cf1b }, /* 465:  3.1892222e-04 -8.0505629e+00 */
+    { 0x3de2a918,0xc00cdfe6 }, /* 466:  1.1067408e-01 -2.2011657e+00 */
+    { 0x33b1d34e,0xc182743f }, /* 467:  8.2806409e-08 -1.6306761e+01 */
+    { 0x3a7b9b6b,0xc0de5c69 }, /* 468:  9.5980492e-04 -6.9487805e+00 */
+    { 0x3a02a697,0xc0f354f7 }, /* 469:  4.9839303e-04 -7.6041217e+00 */
+    { 0x3024d832,0xc1a9e071 }, /* 470:  5.9970084e-10 -2.1234591e+01 */
+    { 0x5dfdadac,0x4229176b }, /* 471:  2.2849319e+18  4.2272869e+01 */
+    { 0x43525054,0x40ab27bc }, /* 472:  2.1031378e+02  5.3486004e+00 */
+    { 0x406600ef,0x3fa3bd39 }, /* 473:  3.5938070e+00  1.2792121e+00 */
+    { 0x2d539775,0xc1c9268a }, /* 474:  1.2027592e-11 -2.5143818e+01 */
+    { 0x3ac65f6a,0xc0cfc98f }, /* 475:  1.5134637e-03 -6.4933543e+00 */
+    { 0x31450e8e,0xc19d5bc3 }, /* 476:  2.8675546e-09 -1.9669806e+01 */
+    { 0x3de61508,0xc00bea6a }, /* 477:  1.1234480e-01 -2.1861825e+00 */
+    { 0x43fef70b,0x40c77f2b }, /* 478:  5.0993002e+02  6.2342734e+00 */
+    { 0x411ec45a,0x4012dece }, /* 479:  9.9229374e+00  2.2948489e+00 */
+    { 0x540e78c1,0x41e4358d }, /* 480:  2.4476451e+12  2.8526148e+01 */
+    { 0x40e1ae49,0x3ffa088b }, /* 481:  7.0525250e+00  1.9533857e+00 */
+    { 0x45608c33,0x4102fca1 }, /* 482:  3.5927625e+03  8.1866770e+00 */
+    { 0x3efb1a03,0xbf36643c }, /* 483:  4.9043283e-01 -7.1246696e-01 */
+    { 0x398073b0,0xc1050722 }, /* 484:  2.4500256e-04 -8.3142414e+00 */
+    { 0x3da6cf9b,0xc0207f1b }, /* 485:  8.1450664e-02 -2.5077579e+00 */
+    { 0x3e0e0811,0xbffcdaa8 }, /* 486:  1.3870265e-01 -1.9754229e+00 */
+    { 0x40a38852,0x3fd0cda6 }, /* 487:  5.1103907e+00  1.6312759e+00 */
+    { 0x56cfc818,0x42017a17 }, /* 488:  1.1422915e+14  3.2369228e+01 */
+    { 0x2e9fccee,0xc1bac2c8 }, /* 489:  7.2668857e-11 -2.3345108e+01 */
+    { 0x31a9a95c,0xc19902c2 }, /* 490:  4.9378013e-09 -1.9126347e+01 */
+    { 0x3a1a8105,0xc0edf73b }, /* 491:  5.8938592e-04 -7.4364295e+00 */
+    { 0x3da8a0dc,0xc01fcd91 }, /* 492:  8.2338065e-02 -2.4969218e+00 */
+    { 0x3de261f9,0xc00cf3fe }, /* 493:  1.1053843e-01 -2.2023921e+00 */
+    { 0x417021ca,0x402d59b4 }, /* 494:  1.5008249e+01  2.7086000e+00 */
+    { 0x41fd6bc1,0x405d28b8 }, /* 495:  3.1677614e+01  3.4556103e+00 */
+    { 0x2e819aba,0xc1bc6fb7 }, /* 496:  5.8937258e-11 -2.3554548e+01 */
+    { 0x3ad3a3f3,0xc0cdb733 }, /* 497:  1.6146883e-03 -6.4286132e+00 */
+    { 0x39c121fd,0xc0fd0162 }, /* 498:  3.6837152e-04 -7.9064188e+00 */
+    { 0x4677501b,0x411ab66d }, /* 499:  1.5828026e+04  9.6695375e+00 */
+    { 0x0d3b30cf,0xc28b416b }, /* 500:  5.7682575e-31 -6.9627769e+01 */
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]:  %#lx\n", index - 1, v.lo);
+#endif
+    exit (index ? index : -1);
+}
+
+int main ()
+{
+    union lofl_u x, z;
+    unsigned long v1, z1, r;
+    int i;
+    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	x.lo = pgm_read_dword (& t[i].x);
+	z.lo = pgm_read_dword (& t[i].z);
+	v.fl = log (x.fl);
+	
+	v1 = (v.lo < 0) ? (unsigned long)~(v.lo) : v.lo + 0x80000000;
+	z1 = (z.lo < 0) ? (unsigned long)~(z.lo) : z.lo + 0x80000000;
+	r = (v1 >= z1) ? v1 - z1 : z1 - v1;
+	
+	if (r > 1) x_exit (i+1);
+    }
+    return 0;
+}
diff --git a/tests/simulate/math/log-nan.c b/tests/simulate/math/log-nan.c
new file mode 100644
index 0000000..b8e1b7b
--- /dev/null
+++ b/tests/simulate/math/log-nan.c
@@ -0,0 +1,94 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of log() function. NaNs.
+   $Id$
+ */
+#include <math.h>
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+volatile union lofl_u v = { .lo = 1 };
+
+PROGMEM const struct {		/* Table of test cases:  log(x) --> NaN	*/
+    union lofl_u x;
+} t[] = {
+
+    /* x is NaN	*/
+    { { 0x7f800001 } },
+    { { 0x7f800100 } },
+    { { 0x7f810000 } },
+    { { 0x7fc00000 } },
+    { { 0x7fffffff } },
+    { { 0xff800001 } },
+    { { 0xff800100 } },
+    { { 0xff810000 } },
+    { { 0xffc00000 } },
+    { { 0xffffffff } },
+    
+    /* x < 0	*/
+    { { 0x80000001 } },
+    { { 0x80000100 } },
+    { { 0x80010000 } },
+    { { 0x807fffff } },
+    { { 0x80800000 } },
+    { { 0xbf800000 } },
+    { { 0xff7fffff } },
+
+    /* x = -Inf	*/
+    { { 0xff800000 } },
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]:  %#lx\n", index - 1, v.lo);
+#endif
+    exit (index ? index : -1);
+}
+
+int main ()
+{
+    union lofl_u x;
+    int i;
+    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	x.lo = pgm_read_dword (& t[i].x);
+	v.fl = log (x.fl);
+	if (!isnan(v.fl))
+	    x_exit (i+1);
+    }
+    return 0;
+}
diff --git a/tests/simulate/math/log10-01.c b/tests/simulate/math/log10-01.c
new file mode 100644
index 0000000..a487f77
--- /dev/null
+++ b/tests/simulate/math/log10-01.c
@@ -0,0 +1,85 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of log10() function.
+   $Id$
+ */
+#include <math.h>
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+volatile union lofl_u v = { .lo = 1 };
+
+PROGMEM const struct {		/* Table of test cases:  x, log10(x)	*/
+    union lofl_u x, z;
+} t[] = {
+
+    /* log10(0)	*/
+    { { 0x00000000 }, { 0xff800000 } },
+    { { 0x80000000 }, { 0xff800000 } },		/* -0.0 is legal arg.	*/
+    
+    /* log(+Inf)	*/
+    { { 0x7f800000 }, { 0x7f800000 } },
+
+    { { .fl = 0.01 },	{ .fl = -2 }	},
+    { { .fl = 0.1 },	{ .fl = -1 }	},
+    { { .fl = 1 },	{ .fl = 0 }	},
+    { { .fl = 10 },	{ .fl = 1 }	},
+    { { .fl = 100 },	{ .fl = 2 }	},
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]:  %#lx\n", index - 1, v.lo);
+#endif
+    exit (index ? index : -1);
+}
+
+int main ()
+{
+    union lofl_u x, z;
+    int i;
+    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	x.lo = pgm_read_dword (& t[i].x);
+	z.lo = pgm_read_dword (& t[i].z);
+	v.fl = log10 (x.fl);
+	/* Comparison is integer to verify the zero sign.	*/
+	if (v.lo != z.lo)
+	    x_exit (i+1);
+    }
+    return 0;
+}
diff --git a/tests/simulate/math/lrint-01.c b/tests/simulate/math/lrint-01.c
new file mode 100644
index 0000000..1afff16
--- /dev/null
+++ b/tests/simulate/math/lrint-01.c
@@ -0,0 +1,321 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of lrint() function.
+   $Id$
+ */
+#include <math.h>
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+#ifndef	__AVR__
+# define PRINTFLN(line, fmt, ...)	\
+    printf ("\nLine %d: " fmt "\n", line, ##__VA_ARGS__)
+# define EXIT(code)	exit ((code) < 255 ? (code) : 100 + (code) % 100)
+#else
+# if defined(__AVR_ATmega128__)
+  /* ATmega128 has enough RAM for sprintf(), print to 0x2000 in XRAM. */
+#  define PRINTFLN(line, fmt, ...)	\
+    sprintf ((char *)0x2000, "\nLine %d: " fmt "\n", line, ##__VA_ARGS__)
+# else
+   /* small AVR */
+#  define PRINTFLN(args...)
+# endif
+# define EXIT	exit
+#endif
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+/* Result is placed into SRAM variable, allocated at the start of
+   memory. This is convinient to debug: read a core dump.	*/
+volatile long v = 1;
+
+PROGMEM const struct {		/* Table of test cases.	*/
+    union lofl_u x;		/* argument	*/
+    long z;			/* result	*/
+} t[] = {
+
+    /* Zero	*/
+    { { .fl= +0.0 },	0 },
+    { { .fl= -0.0 },	0 },
+    
+    /* A few of normal values	*/
+    { { .fl= 0.1 },		0 },
+    { { .fl= 0.5 },		0 },
+    { { .fl= 0.9 },		1 },
+    { { .fl= 1.49999 },		1 },
+    { { .fl= 1.5 },		2 },
+    { { .fl= 1.9 },		2 },
+    { { .fl= 2.5 },		2 },
+    { { .fl= 1000000.5 },	1000000 },
+    { { .fl= 1000001.5 },	1000002 },
+    { { .fl= -0.1 },		0 },
+    { { .fl= -0.5 },		0 },
+    { { .fl= -0.9 },		-1 },
+    { { .fl= -1.49999 },	-1 },
+    { { .fl= -1.5 },		-2 },
+    { { .fl= -1.9 },		-2 },
+    { { .fl= -2.5 },		-2 },
+    { { .fl= -1000000.5 },	-1000000 },
+    { { .fl= -1000001.5 },	-1000002 },
+
+    /* Subnormal	*/
+    { { 0x00000001 }, 0 },
+    { { 0x00000100 }, 0 },
+    { { 0x00010000 }, 0 },
+    { { 0x007fffff }, 0 },
+    { { 0x80000001 }, 0 },
+    { { 0x80000100 }, 0 },
+    { { 0x80010000 }, 0 },
+    { { 0x807fffff }, 0 },
+    
+    /* Margin values (positive).	*/
+    { { 0x00800000 }, 0 },		/* the smallest nonzero normal	*/
+
+    { { 0x3effffff }, 0 },
+    { { 0x3f000000 }, 0 },		/* 0.5	*/
+    { { 0x3f000001 }, 1 },
+    { { 0x3f000080 }, 1 },
+    { { 0x3f000100 }, 1 },
+    { { 0x3f008000 }, 1 },
+    { { 0x3f010000 }, 1 },
+
+    { { 0x3f7fffff }, 1 },
+    { { 0x3f800000 }, 1 },		/* 1.0	*/
+    { { 0x3f800001 }, 1 },
+
+    { { 0x3fbfffff }, 1 },
+    { { 0x3fc00000 }, 2 },		/* 1.5	*/
+    { { 0x3fc00001 }, 2 },
+
+    { { 0x401fffff }, 2 },
+    { { 0x40200000 }, 2 },		/* 2.5	*/
+    { { 0x40200001 }, 3 },
+
+    { { .fl= 0x0.fffffcp+23 }, 0x7ffffe },
+    { { .fl= 0x0.fffffdp+23 }, 0x7ffffe },
+    { { .fl= 0x0.fffffep+23 }, 0x7fffff },
+    { { .fl= 0x0.ffffffp+23 }, 0x800000 },
+    { { .fl= 0x1.000000p+23 }, 0x800000 },
+
+    { { .fl= 0x0.ffffffp+31 }, 0x7fffff80 },	/* near overflow */
+
+    /* Margin values (negative).	*/
+    { { 0x80800000 }, 0 },		/* the smallest nonzero normal	*/
+
+    { { 0xbeffffff }, 0 },
+    { { 0xbf000000 }, 0 },		/* -0.5	*/
+    { { 0xbf000001 }, -1 },
+    { { 0xbf000080 }, -1 },
+    { { 0xbf000100 }, -1 },
+    { { 0xbf008000 }, -1 },
+    { { 0xbf010000 }, -1 },
+
+    { { 0xbf7fffff }, -1 },
+    { { 0xbf800000 }, -1 },		/* -1.0	*/
+    { { 0xbf800001 }, -1 },
+
+    { { 0xbfbfffff }, -1 },
+    { { 0xbfc00000 }, -2 },		/* -1.5	*/
+    { { 0xbfc00001 }, -2 },
+
+    { { 0xc01fffff }, -2 },
+    { { 0xc0200000 }, -2 },		/* -2.5	*/
+    { { 0xc0200001 }, -3 },
+
+    { { .fl= -0x0.fffffcp+23 }, -0x7ffffe },
+    { { .fl= -0x0.fffffdp+23 }, -0x7ffffe },
+    { { .fl= -0x0.fffffep+23 }, -0x7fffff },
+    { { .fl= -0x0.fffffep+23 }, -0x7fffffL },
+    { { .fl= -0x0.ffffffp+23 }, -0x800000L },
+    { { .fl= -0x1.000000p+23 }, -0x800000L },
+
+    { { .fl= -0x0.ffffffp+31 }, -0x7fffff80L },	/* near overflow */
+    { { .fl= -0x1.000000p+31 }, 0x80000000L },
+
+    /* In addition to main(): shift 0xffffff to left .	*/
+    { { .fl= 0x0.ffffffp+24 }, 0x00ffffff },
+    { { .fl= 0x0.ffffffp+25 }, 0x01fffffe },
+    { { .fl= 0x0.ffffffp+26 }, 0x03fffffc },
+    { { .fl= 0x0.ffffffp+27 }, 0x07fffff8 },
+    { { .fl= 0x0.ffffffp+28 }, 0x0ffffff0 },
+    { { .fl= 0x0.ffffffp+29 }, 0x1fffffe0 },
+    { { .fl= 0x0.ffffffp+30 }, 0x3fffffc0 },
+    { { .fl= 0x0.ffffffp+31 }, 0x7fffff80 },
+    { { .fl= -0x0.ffffffp+24 }, -0x00ffffffL },
+    { { .fl= -0x0.ffffffp+25 }, -0x01fffffeL },
+    { { .fl= -0x0.ffffffp+26 }, -0x03fffffcL },
+    { { .fl= -0x0.ffffffp+27 }, -0x07fffff8L },
+    { { .fl= -0x0.ffffffp+28 }, -0x0ffffff0L },
+    { { .fl= -0x0.ffffffp+29 }, -0x1fffffe0L },
+    { { .fl= -0x0.ffffffp+30 }, -0x3fffffc0L },
+    { { .fl= -0x0.ffffffp+31 }, -0x7fffff80L },
+
+    /* Positive overflow	*/
+    { { .fl= 0x0.800000p+32 }, 0x80000000 },
+    { { .fl= 0x0.800001p+32 }, 0x80000000 },
+    { { .fl= 0x0.ffffffp+32 }, 0x80000000 },
+    { { .fl= 0x0.800000p+33 }, 0x80000000 },
+    { { .fl= 0x0.ffffffp+33 }, 0x80000000 },
+    { { .lo= 0x7f000000 },     0x80000000 },
+    { { .lo= 0x7f7fffff },     0x80000000 },
+    { { .lo= 0x7f800000 },     0x80000000 },	/* +Inf	*/
+
+    /* Negative overflow	*/
+    { { .fl= -0x0.800000p+32 }, 0x80000000 },
+    { { .fl= -0x0.800001p+32 }, 0x80000000 },
+    { { .fl= -0x0.ffffffp+32 }, 0x80000000 },
+    { { .fl= -0x0.800000p+33 }, 0x80000000 },
+    { { .fl= -0x0.ffffffp+33 }, 0x80000000 },
+    { { .lo= 0xff000000 },      0x80000000 },
+    { { .lo= 0xff7fffff },      0x80000000 },
+    { { .lo= 0xff800000 },      0x80000000 },	/* -Inf	*/
+
+    /* NaN	*/
+    { { 0x7f800001 },	0x80000000 },
+    { { 0x7fc00000 },	0x80000000 },
+    { { 0x7fffffff },	0x80000000 },
+    { { 0xff800001 },	0x80000000 },
+    { { 0xffc00000 },	0x80000000 },
+    { { 0xffffffff },	0x80000000 },
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]:  %#lx\n", index - 1, v);
+#endif
+    exit (index ? index : -1);
+}
+
+int main ()
+{
+    union lofl_u x;
+    long z;
+    int i;
+
+    /* Table.	*/    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	x.lo = pgm_read_dword (& t[i].x);
+	z = pgm_read_dword (& t[i].z);
+	v = lrint (x.fl);
+	if (v != z)
+	    x_exit (i+1);
+    }
+
+    /* Check all possible shifts. Rounding is not needed. Both signs.
+       0x0.800000p+01 --> 1
+       0x0.800000p+02 --> 2
+       ...
+       0x0.800000p+31 --> 0x40000000	*/
+    for (x.fl = 1.0, i = 0; i < 31; i++) {
+	v = lrint (x.fl);
+	if (v != (1L << i)) {
+	    PRINTFLN (__LINE__, "i= %d  v= %#lx", i, v);
+	    EXIT (100 + i);
+	}
+
+	/* Change sign to minus.	*/
+	x.lo |= 0x80000000;
+	v = lrint (x.fl);
+	if (v != -(1L << i)) {
+	    PRINTFLN (__LINE__, "i= %d  v= %#lx", i, v);
+	    EXIT (200 + i);
+	}
+
+	/* Change sign again and increment exponent.	*/
+	x.lo += 0x80800000;
+    }
+
+    /* Check all possible shits with fraction 0.5, round in zero direction
+       0x0.a00000p+02 --> 2	2.5
+       0x0.900000p+03 --> 4	4.5
+       ...
+       0x0.800001p+23 --> 0x400000	*/
+    for (i = 2; i < 24; i++) {
+	x.fl = 1.0;
+	x.lo += (0x800000 * (i-1));	/* exponent	*/
+	x.lo |= (0x800000 >> i);	/* += 0.5	*/
+	v = lrint (x.fl);
+	if (v != (1L << (i-1))) {
+	    PRINTFLN (__LINE__, "i= %d  v= %#lx", i, v);
+	    EXIT (300 + i);
+	}
+    }
+
+    /* Rounding with carry. All possible shifts to right. Both signs.
+       0x0.ffffffp+00 --> 1
+       0x0.ffffffp+01 --> 2
+       ...
+       0x0.ffffffp+23 --> 0x800000	*/
+    for (x.fl = 0x0.ffffffp+00, i = 0; i < 24; i++) {
+	v = lrint (x.fl);
+	if (v != (1L << i)) {
+	    PRINTFLN (__LINE__, "i= %d  v= %#lx", i, v);
+	    EXIT (400 + i);
+	}
+
+	/* Change sign to minus.	*/
+	x.lo |= 0x80000000;
+	v = lrint (x.fl);
+	if (v != -(1L << i)) {
+	    PRINTFLN (__LINE__, "i= %d  v= %#lx", i, v);
+	    EXIT (500 + i);
+	}
+
+	/* Change sign again and increment exponent.	*/
+	x.lo += 0x80800000;
+    }
+    
+    /* Rounding to up. Check a few values between 0.5 to 1.0 (as lrint(0.5)
+       is 0, but lrint(0.5+delta) is 1).	*/
+    for (i = 0; i < 22; i++) {
+	x.fl = 0.5;
+	x.lo += 1L<<i;
+	v = lrint (x.fl);
+	if (v != 1) {
+	    PRINTFLN (__LINE__, "i= %d  v= %#lx", i, v);
+	    EXIT (600 + i);
+	}
+
+	x.fl = 0.5;
+	x.lo += ~(1L<<i) & 0x3fffff;
+	v = lrint (x.fl);
+	if (v != 1) {
+	    PRINTFLN (__LINE__, "i= %d  v= %#lx", i, v);
+	    EXIT (700 + i);
+	}
+    }
+
+    return 0;
+}
diff --git a/tests/simulate/math/lround-01.c b/tests/simulate/math/lround-01.c
new file mode 100644
index 0000000..77f1994
--- /dev/null
+++ b/tests/simulate/math/lround-01.c
@@ -0,0 +1,287 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of lround() function.
+   $Id$
+ */
+#include <math.h>
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+#ifndef	__AVR__
+# define PRINTFLN(line, fmt, ...)	\
+    printf ("\nLine %d: " fmt "\n", line, ##__VA_ARGS__)
+# define EXIT(code)	exit ((code) < 255 ? (code) : 100 + (code) % 100)
+#else
+# if defined(__AVR_ATmega128__)
+  /* ATmega128 has enough RAM for sprintf(), print to 0x2000 in XRAM. */
+#  define PRINTFLN(line, fmt, ...)	\
+    sprintf ((char *)0x2000, "\nLine %d: " fmt "\n", line, ##__VA_ARGS__)
+# else
+   /* small AVR */
+#  define PRINTFLN(args...)
+# endif
+# define EXIT	exit
+#endif
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+/* Result is placed into SRAM variable, allocated at the start of
+   memory. This is convinient to debug: read a core dump.	*/
+volatile long v = 1;
+
+PROGMEM const struct {		/* Table of test cases.	*/
+    union lofl_u x;		/* argument	*/
+    long z;			/* result	*/
+} t[] = {
+
+    /* Zero	*/
+    { { .fl= +0.0 },	0 },
+    { { .fl= -0.0 },	0 },
+    
+    /* A few of normal values	*/
+    { { .fl= 0.1 },		0 },
+    { { .fl= 0.5 },		1 },
+    { { .fl= 0.9 },		1 },
+    { { .fl= 1.49999 },		1 },
+    { { .fl= 1.5 },		2 },
+    { { .fl= 1.9 },		2 },
+    { { .fl= 2.5 },		3 },
+    { { .fl= 1000000.5 },	1000001 },
+    { { .fl= -0.1 },		0 },
+    { { .fl= -0.5 },		-1 },
+    { { .fl= -0.9 },		-1 },
+    { { .fl= -1.49999 },	-1 },
+    { { .fl= -1.5 },		-2 },
+    { { .fl= -1.9 },		-2 },
+    { { .fl= -2.5 },		-3 },
+    { { .fl= -1000000.5 },	-1000001 },
+
+    /* Subnormal	*/
+    { { 0x00000001 }, 0 },
+    { { 0x00000100 }, 0 },
+    { { 0x00010000 }, 0 },
+    { { 0x007fffff }, 0 },
+    { { 0x80000001 }, 0 },
+    { { 0x80000100 }, 0 },
+    { { 0x80010000 }, 0 },
+    { { 0x807fffff }, 0 },
+    
+    /* Margin values (positive).	*/
+    { { 0x00800000 }, 0 },		/* the smallest nonzero normal	*/
+
+    { { 0x3effffff }, 0 },
+    { { 0x3f000000 }, 1 },		/* 0.5	*/
+    { { 0x3f000001 }, 1 },
+
+    { { 0x3f7fffff }, 1 },
+    { { 0x3f800000 }, 1 },		/* 1.0	*/
+    { { 0x3f800001 }, 1 },
+
+    { { 0x3fbfffff }, 1 },
+    { { 0x3fc00000 }, 2 },		/* 1.5	*/
+    { { 0x3fc00001 }, 2 },
+
+    { { 0x401fffff }, 2 },
+    { { 0x40200000 }, 3 },		/* 2.5	*/
+    { { 0x40200001 }, 3 },
+
+    { { .fl= 0x0.fffffep+23 }, 0x7fffff },
+    { { .fl= 0x0.ffffffp+23 }, 0x800000 },
+    { { .fl= 0x1.000000p+23 }, 0x800000 },
+
+    { { .fl= 0x0.ffffffp+31 }, 0x7fffff80 },	/* near overflow */
+
+    /* Margin values (negative).	*/
+    { { 0x80800000 }, 0 },		/* the smallest nonzero normal	*/
+
+    { { 0xbeffffff }, 0 },
+    { { 0xbf000000 }, -1 },		/* -0.5	*/
+    { { 0xbf000001 }, -1 },
+
+    { { 0xbf7fffff }, -1 },
+    { { 0xbf800000 }, -1 },		/* -1.0	*/
+    { { 0xbf800001 }, -1 },
+
+    { { 0xbfbfffff }, -1 },
+    { { 0xbfc00000 }, -2 },		/* -1.5	*/
+    { { 0xbfc00001 }, -2 },
+
+    { { 0xc01fffff }, -2 },
+    { { 0xc0200000 }, -3 },		/* -2.5	*/
+    { { 0xc0200001 }, -3 },
+
+    { { .fl= -0x0.fffffep+23 }, -0x7fffffL },
+    { { .fl= -0x0.ffffffp+23 }, -0x800000L },
+    { { .fl= -0x1.000000p+23 }, -0x800000L },
+
+    { { .fl= -0x0.ffffffp+31 }, -0x7fffff80L },	/* near overflow */
+    { { .fl= -0x1.000000p+31 }, 0x80000000L },
+
+    /* In addition to main(): shift 0xffffff to left .	*/
+    { { .fl= 0x0.ffffffp+24 }, 0x00ffffff },
+    { { .fl= 0x0.ffffffp+25 }, 0x01fffffe },
+    { { .fl= 0x0.ffffffp+26 }, 0x03fffffc },
+    { { .fl= 0x0.ffffffp+27 }, 0x07fffff8 },
+    { { .fl= 0x0.ffffffp+28 }, 0x0ffffff0 },
+    { { .fl= 0x0.ffffffp+29 }, 0x1fffffe0 },
+    { { .fl= 0x0.ffffffp+30 }, 0x3fffffc0 },
+    { { .fl= 0x0.ffffffp+31 }, 0x7fffff80 },
+    { { .fl= -0x0.ffffffp+24 }, -0x00ffffffL },
+    { { .fl= -0x0.ffffffp+25 }, -0x01fffffeL },
+    { { .fl= -0x0.ffffffp+26 }, -0x03fffffcL },
+    { { .fl= -0x0.ffffffp+27 }, -0x07fffff8L },
+    { { .fl= -0x0.ffffffp+28 }, -0x0ffffff0L },
+    { { .fl= -0x0.ffffffp+29 }, -0x1fffffe0L },
+    { { .fl= -0x0.ffffffp+30 }, -0x3fffffc0L },
+    { { .fl= -0x0.ffffffp+31 }, -0x7fffff80L },
+
+    /* Positive overflow	*/
+    { { .fl= 0x0.800000p+32 }, 0x80000000 },
+    { { .fl= 0x0.800001p+32 }, 0x80000000 },
+    { { .fl= 0x0.ffffffp+32 }, 0x80000000 },
+    { { .fl= 0x0.800000p+33 }, 0x80000000 },
+    { { .fl= 0x0.ffffffp+33 }, 0x80000000 },
+    { { .lo= 0x7f000000 },     0x80000000 },
+    { { .lo= 0x7f7fffff },     0x80000000 },
+    { { .lo= 0x7f800000 },     0x80000000 },	/* +Inf	*/
+
+    /* Negative overflow	*/
+    { { .fl= -0x0.800000p+32 }, 0x80000000 },	/* no overflow	*/
+    { { .fl= -0x0.800001p+32 }, 0x80000000 },
+    { { .fl= -0x0.ffffffp+32 }, 0x80000000 },
+    { { .fl= -0x0.800000p+33 }, 0x80000000 },
+    { { .fl= -0x0.ffffffp+33 }, 0x80000000 },
+    { { .lo= 0xff000000 },      0x80000000 },
+    { { .lo= 0xff7fffff },      0x80000000 },
+    { { .lo= 0xff800000 },      0x80000000 },	/* -Inf	*/
+
+    /* NaN	*/
+    { { 0x7f800001 },	0x80000000 },
+    { { 0x7fc00000 },	0x80000000 },
+    { { 0x7fffffff },	0x80000000 },
+    { { 0xff800001 },	0x80000000 },
+    { { 0xffc00000 },	0x80000000 },
+    { { 0xffffffff },	0x80000000 },
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]:  %#lx\n", index - 1, v);
+#endif
+    exit (index ? index : -1);
+}
+
+int main ()
+{
+    union lofl_u x;
+    long z;
+    int i;
+
+    /* Table.	*/    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	x.lo = pgm_read_dword (& t[i].x);
+	z = pgm_read_dword (& t[i].z);
+	v = lround (x.fl);
+	if (v != z)
+	    x_exit (i+1);
+    }
+
+    /* Check all possible shifts. Rounding is not needed. Both signs.
+       0x0.800000p+01 --> 1
+       0x0.800000p+02 --> 2
+       ...
+       0x0.800000p+31 --> 0x40000000	*/
+    for (x.fl = 1.0, i = 0; i < 31; i++) {
+	v = lround (x.fl);
+	if (v != (1L << i)) {
+	    PRINTFLN (__LINE__, "i= %d  v= %#lx", i, v);
+	    EXIT (100 + i);
+	}
+
+	/* Change sign to minus.	*/
+	x.lo |= 0x80000000;
+	v = lround (x.fl);
+	if (v != -(1L << i)) {
+	    PRINTFLN (__LINE__, "i= %d  v= %#lx", i, v);
+	    EXIT (200 + i);
+	}
+
+	/* Change sign again and increment exponent.	*/
+	x.lo += 0x80800000;
+    }
+
+    /* Check all possible shits with rounding.
+       0x0.c00000p+01 --> 2	1.5
+       0x0.a00000p+02 --> 3	2.5
+       0x0.900000p+03 --> 5	4.5
+       ...
+       0x0.800001p+23 --> 0x400001	*/
+    for (i = 1; i < 24; i++) {
+	x.fl = 1.0;
+	x.lo += (0x800000 * (i-1));	/* exponent	*/
+	x.lo |= (0x800000 >> i);	/* += 0.5	*/
+	v = lround (x.fl);
+	if (v != (1L << (i-1)) + 1) {
+	    PRINTFLN (__LINE__, "i= %d  v= %#lx", i, v);
+	    EXIT (300 + i);
+	}
+    }
+
+    /* Rounding with carry. All possible shifts to right. Both signs.
+       0x0.ffffffp+00 --> 1
+       0x0.ffffffp+01 --> 2
+       ...
+       0x0.ffffffp+23 --> 0x800000	*/
+    for (x.fl = 0x0.ffffffp+00, i = 0; i < 24; i++) {
+	v = lround (x.fl);
+	if (v != (1L << i)) {
+	    PRINTFLN (__LINE__, "i= %d  v= %#lx", i, v);
+	    EXIT (400 + i);
+	}
+
+	/* Change sign to minus.	*/
+	x.lo |= 0x80000000;
+	v = lround (x.fl);
+	if (v != -(1L << i)) {
+	    PRINTFLN (__LINE__, "i= %d  v= %#lx", i, v);
+	    EXIT (500 + i);
+	}
+
+	/* Change sign again and increment exponent.	*/
+	x.lo += 0x80800000;
+    }
+
+    return 0;
+}
diff --git a/tests/simulate/math/modf-01.c b/tests/simulate/math/modf-01.c
new file mode 100644
index 0000000..a7f53b5
--- /dev/null
+++ b/tests/simulate/math/modf-01.c
@@ -0,0 +1,184 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of modf() function.
+   $Id$
+ */
+#include <math.h>
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+volatile union lofl_u vf = { 1 };
+double vn = { 1 };
+
+PROGMEM const struct {		/* Table of test cases.	*/
+    union lofl_u x;	/* argument			*/
+    union lofl_u f;	/* fraction part: modf(x,*pn)	*/
+    union lofl_u n;	/* integral part: *pn		*/
+} t[] = {
+
+    /* zero	*/
+    { { 0x00000000 }, { 0x00000000 }, { .fl = 0 } },
+    { { 0x80000000 }, { 0x80000000 }, { .fl = -0.0 } },
+
+    /* subnormal	*/
+    { { 0x00000001 }, { 0x00000001 }, { .fl = 0 } },
+    { { 0x00000100 }, { 0x00000100 }, { .fl = 0 } },
+    { { 0x00010000 }, { 0x00010000 }, { .fl = 0 } },
+    { { 0x007fffff }, { 0x007fffff }, { .fl = 0 } },
+
+    { { 0x80000001 }, { 0x80000001 }, { .fl = -0.0 } },
+    { { 0x80000100 }, { 0x80000100 }, { .fl = -0.0 } },
+    { { 0x80010000 }, { 0x80010000 }, { .fl = -0.0 } },
+    { { 0x807fffff }, { 0x807fffff }, { .fl = -0.0 } },
+    
+    /* integral normal	*/
+    { { .fl = 0x000001 }, { .fl = 0 }, { .fl = 0x000001 } },
+    { { .fl = 0x000002 }, { .fl = 0 }, { .fl = 0x000002 } },
+    { { .fl = 0x000004 }, { .fl = 0 }, { .fl = 0x000004 } },
+    { { .fl = 0x000008 }, { .fl = 0 }, { .fl = 0x000008 } },
+    { { .fl = 0x000010 }, { .fl = 0 }, { .fl = 0x000010 } },
+    { { .fl = 0x000020 }, { .fl = 0 }, { .fl = 0x000020 } },
+    { { .fl = 0x000040 }, { .fl = 0 }, { .fl = 0x000040 } },
+    { { .fl = 0x000080 }, { .fl = 0 }, { .fl = 0x000080 } },
+    { { .fl = 0x000100 }, { .fl = 0 }, { .fl = 0x000100 } },
+    { { .fl = 0x000200 }, { .fl = 0 }, { .fl = 0x000200 } },
+    { { .fl = 0x000400 }, { .fl = 0 }, { .fl = 0x000400 } },
+    { { .fl = 0x000800 }, { .fl = 0 }, { .fl = 0x000800 } },
+    { { .fl = 0x001000 }, { .fl = 0 }, { .fl = 0x001000 } },
+    { { .fl = 0x002000 }, { .fl = 0 }, { .fl = 0x002000 } },
+    { { .fl = 0x004000 }, { .fl = 0 }, { .fl = 0x004000 } },
+    { { .fl = 0x008000 }, { .fl = 0 }, { .fl = 0x008000 } },
+    { { .fl = 0x010000 }, { .fl = 0 }, { .fl = 0x010000 } },
+    { { .fl = 0x020000 }, { .fl = 0 }, { .fl = 0x020000 } },
+    { { .fl = 0x040000 }, { .fl = 0 }, { .fl = 0x040000 } },
+    { { .fl = 0x080000 }, { .fl = 0 }, { .fl = 0x080000 } },
+    { { .fl = 0x100000 }, { .fl = 0 }, { .fl = 0x100000 } },
+    { { .fl = 0x200000 }, { .fl = 0 }, { .fl = 0x200000 } },
+    { { .fl = 0x400000 }, { .fl = 0 }, { .fl = 0x400000 } },
+    { { .fl = 0x7fffff }, { .fl = 0 }, { .fl = 0x7fffff } },
+
+    { { .fl = -0x000001L }, { .fl = -0.0 }, { .fl = -0x000001L } },
+    { { .fl = -0x000002L }, { .fl = -0.0 }, { .fl = -0x000002L } },
+    { { .fl = -0x000080L }, { .fl = -0.0 }, { .fl = -0x000080L } },
+    { { .fl = -0x000100L }, { .fl = -0.0 }, { .fl = -0x000100L } },
+    { { .fl = -0x008000L }, { .fl = -0.0 }, { .fl = -0x008000L } },
+    { { .fl = -0x010000L }, { .fl = -0.0 }, { .fl = -0x010000L } },
+    { { .fl = -0x400000L }, { .fl = -0.0 }, { .fl = -0x400000L } },
+    { { .fl = -0x7fffffL }, { .fl = -0.0 }, { .fl = -0x7fffffL } },
+    
+    /* normal too big	*/
+    { { .fl = 0x800000 }, { .fl = 0 }, { .fl = 0x800000 } },
+    { { .fl = 0x800001 }, { .fl = 0 }, { .fl = 0x800001 } },
+    { { 0x7e000000 }, { .fl = 0 }, { 0x7e000000 } },
+    { { 0x7f000000 }, { .fl = 0 }, { 0x7f000000 } },
+    { { 0x7f7fffff }, { .fl = 0 }, { 0x7f7fffff } },
+
+    { { .fl = -0x800000L }, { .fl = -0.0 }, { .fl = -0x800000L } },
+    { { .fl = -0x800001L }, { .fl = -0.0 }, { .fl = -0x800001L } },
+    { { 0xfe000000 }, { .fl = -0.0 }, { 0xfe000000 } },
+    { { 0xff000000 }, { .fl = -0.0 }, { 0xff000000 } },
+    { { 0xff7fffff }, { .fl = -0.0 }, { 0xff7fffff } },
+    
+    /* Inf	*/
+    { { 0x7f800000 },	{ .fl = 0 },	{ 0x7f800000 } },
+    { { 0xff800000 },	{ .fl = -0.0 },	{ 0xff800000 } },
+    
+    /* integral and fraction	*/
+    { { .fl= 0x1.000002p+0 }, { .fl= 0x0.000002p+0 }, { .fl= 1 } },
+    { { .fl= 0x1.000004p+0 }, { .fl= 0x0.000004p+0 }, { .fl= 1 } },
+    { { .fl= 0x1.000008p+0 }, { .fl= 0x0.000008p+0 }, { .fl= 1 } },
+    { { .fl= 0x1.000010p+0 }, { .fl= 0x0.000010p+0 }, { .fl= 1 } },
+    { { .fl= 0x1.000020p+0 }, { .fl= 0x0.000020p+0 }, { .fl= 1 } },
+    { { .fl= 0x1.000040p+0 }, { .fl= 0x0.000040p+0 }, { .fl= 1 } },
+    { { .fl= 0x1.000080p+0 }, { .fl= 0x0.000080p+0 }, { .fl= 1 } },
+    { { .fl= 0x1.000100p+0 }, { .fl= 0x0.000100p+0 }, { .fl= 1 } },
+    { { .fl= 0x1.000200p+0 }, { .fl= 0x0.000200p+0 }, { .fl= 1 } },
+    { { .fl= 0x1.000400p+0 }, { .fl= 0x0.000400p+0 }, { .fl= 1 } },
+    { { .fl= 0x1.000800p+0 }, { .fl= 0x0.000800p+0 }, { .fl= 1 } },
+    { { .fl= 0x1.001000p+0 }, { .fl= 0x0.001000p+0 }, { .fl= 1 } },
+    { { .fl= 0x1.002000p+0 }, { .fl= 0x0.002000p+0 }, { .fl= 1 } },
+    { { .fl= 0x1.004000p+0 }, { .fl= 0x0.004000p+0 }, { .fl= 1 } },
+    { { .fl= 0x1.008000p+0 }, { .fl= 0x0.008000p+0 }, { .fl= 1 } },
+    { { .fl= 0x1.010000p+0 }, { .fl= 0x0.010000p+0 }, { .fl= 1 } },
+    { { .fl= 0x1.020000p+0 }, { .fl= 0x0.020000p+0 }, { .fl= 1 } },
+    { { .fl= 0x1.040000p+0 }, { .fl= 0x0.040000p+0 }, { .fl= 1 } },
+    { { .fl= 0x1.080000p+0 }, { .fl= 0x0.080000p+0 }, { .fl= 1 } },
+    { { .fl= 0x1.100000p+0 }, { .fl= 0x0.100000p+0 }, { .fl= 1 } },
+    { { .fl= 0x1.200000p+0 }, { .fl= 0x0.200000p+0 }, { .fl= 1 } },
+    { { .fl= 0x1.400000p+0 }, { .fl= 0x0.400000p+0 }, { .fl= 1 } },
+    { { .fl= 0x1.800000p+0 }, { .fl= 0x0.800000p+0 }, { .fl= 1 } },
+    { { .fl= 0x1.fffffep+0 }, { .fl= 0x0.fffffep+0 }, { .fl= 1 } },
+
+    { { .fl= 0x2.000004p+0 }, { .fl= 0x0.000004p+0 }, { .fl= 2 } },
+    { { .fl= 0x2.000400p+0 }, { .fl= 0x0.000400p+0 }, { .fl= 2 } },
+    { { .fl= 0x2.800000p+0 }, { .fl= 0x0.800000p+0 }, { .fl= 2 } },
+    { { .fl= 0x2.fffffcp+0 }, { .fl= 0x0.fffffcp+0 }, { .fl= 2 } },
+    { { .fl= 0x7fffff.8p+0 }, { .fl= 0x0.8p+0 }, { .fl= 0x7fffffp+0 } },
+
+    { { .fl= -0x1.000002p+0 }, { .fl= -0x0.000002p+0 }, { .fl= -1 } },
+    { { .fl= -0x1.800000p+0 }, { .fl= -0x0.800000p+0 }, { .fl= -1 } },
+    { { .fl= -0x1.fffffep+0 }, { .fl= -0x0.fffffep+0 }, { .fl= -1 } },
+    { { .fl= -0x2.000004p+0 }, { .fl= -0x0.000004p+0 }, { .fl= -2 } },
+    { { .fl= -0x2.000400p+0 }, { .fl= -0x0.000400p+0 }, { .fl= -2 } },
+    { { .fl= -0x2.800000p+0 }, { .fl= -0x0.800000p+0 }, { .fl= -2 } },
+    { { .fl= -0x2.fffffcp+0 }, { .fl= -0x0.fffffcp+0 }, { .fl= -2 } },
+    { { .fl= -0x7fffff.8p+0 }, { .fl= -0x0.8p+0 }, { .fl= -0x7fffffp+0 } },
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]:  %#lx\n", index - 1, vf.lo);
+#endif
+    exit (index ? index : -1);
+}
+
+int main ()
+{
+    union lofl_u x, zf, zn, vn1;
+    int i;
+    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	x.lo = pgm_read_dword (& t[i].x);
+	zf.lo = pgm_read_dword (& t[i].f);
+	zn.lo = pgm_read_dword (& t[i].n);
+	vf.fl = modf (x.fl, & vn);
+	vn1.fl = vn;
+	if ((vf.lo != zf.lo) || (vn1.lo != zn.lo))
+	    x_exit (i+1);
+    }
+    return 0;
+}
diff --git a/tests/simulate/math/modf-nan.c b/tests/simulate/math/modf-nan.c
new file mode 100644
index 0000000..cfada16
--- /dev/null
+++ b/tests/simulate/math/modf-nan.c
@@ -0,0 +1,83 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of modf() function. NaNs
+   $Id$
+ */
+#include <math.h>
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+volatile union lofl_u vf = { 1 };
+double vn = { 1 };
+
+PROGMEM const struct {		/* Table of test cases.	*/
+    union lofl_u x;	/* argument			*/
+} t[] = {
+
+    { { 0x7f800001 } },
+    { { 0x7f800100 } },
+    { { 0x7f810000 } },
+    { { 0x7fffffff } },
+
+    { { 0xff800001 } },
+    { { 0xff800100 } },
+    { { 0xff810000 } },
+    { { 0xffffffff } },
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]:  %#lx\n", index - 1, vf.lo);
+#endif
+    exit (index ? index : -1);
+}
+
+int main ()
+{
+    union lofl_u x;
+    int i;
+    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	x.lo = pgm_read_dword (& t[i].x);
+	vn = 0;
+	vf.fl = modf (x.fl, & vn);
+	if (!isnan (vf.fl) || !isnan (vn)) {
+	    x_exit (i+1);
+	}
+    }
+    return 0;
+}
diff --git a/tests/simulate/math/modf-np.c b/tests/simulate/math/modf-np.c
new file mode 100644
index 0000000..73f3f02
--- /dev/null
+++ b/tests/simulate/math/modf-np.c
@@ -0,0 +1,58 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of modf() function. NULL pointer.
+   $Id$
+ */
+#include <math.h>
+#include <stdlib.h>
+
+int main ()
+{
+    double z;
+
+    {
+#ifdef	__AVR__
+	/* Address of R1 is 0x0001	*/
+	unsigned char r1;
+	z = modf (257.5, 0);		/* 257 == 0x0101	*/
+	asm ("mov %0,r1 \n\t clr r1" : "=r"(r1));
+	if (r1)
+	    exit (__LINE__);
+#else
+	/* Skip NULL pointer testing.	*/
+	double v;
+	z = modf (257.5, & v);
+#endif
+    }
+    if (z != 0.5)
+	exit (__LINE__);
+
+    return 0;
+}
diff --git a/tests/simulate/math/pow-01.c b/tests/simulate/math/pow-01.c
new file mode 100644
index 0000000..7483249
--- /dev/null
+++ b/tests/simulate/math/pow-01.c
@@ -0,0 +1,321 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of pow() function.
+   $Id$
+ */
+#include <math.h>
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+volatile union lofl_u v = { .lo = 1 };
+
+PROGMEM const struct {		/* Table of test cases	*/
+    union lofl_u x, y;		/* args		*/
+    union lofl_u z;		/* pow(x,y)	*/
+} t[] = {
+
+    { { 0x00000000 },{ 0x00000000 },{ 0x3f800000 } }, /*    0    0      1 */
+    { { 0x00000000 },{ 0x3f000000 },{ 0x00000000 } }, /*    0  0.5      0 */
+    { { 0x00000000 },{ 0x3f800000 },{ 0x00000000 } }, /*    0    1      0 */
+    { { 0x00000000 },{ 0x3fc00000 },{ 0x00000000 } }, /*    0  1.5      0 */
+    { { 0x00000000 },{ 0x40000000 },{ 0x00000000 } }, /*    0    2      0 */
+    { { 0x00000000 },{ 0x40400000 },{ 0x00000000 } }, /*    0    3      0 */
+    { { 0x00000000 },{ 0x7f800000 },{ 0x00000000 } }, /*    0  inf      0 */
+    { { 0x00000000 },{ 0x7fc00000 },{ 0x7fc00000 } }, /*    0  nan    nan */
+    { { 0x00000000 },{ 0x80000000 },{ 0x3f800000 } }, /*    0   -0      1 */
+    { { 0x00000000 },{ 0xbf000000 },{ 0x7f800000 } }, /*    0 -0.5    inf */
+    { { 0x00000000 },{ 0xbf800000 },{ 0x7f800000 } }, /*    0   -1    inf */
+    { { 0x00000000 },{ 0xbfc00000 },{ 0x7f800000 } }, /*    0 -1.5    inf */
+    { { 0x00000000 },{ 0xc0000000 },{ 0x7f800000 } }, /*    0   -2    inf */
+    { { 0x00000000 },{ 0xc0400000 },{ 0x7f800000 } }, /*    0   -3    inf */
+    { { 0x00000000 },{ 0xff800000 },{ 0x7f800000 } }, /*    0 -inf    inf */
+
+    { { 0x80000000 },{ 0x00000000 },{ 0x3f800000 } }, /*   -0    0      1 */
+    { { 0x80000000 },{ 0x3f000000 },{ 0x00000000 } }, /*   -0  0.5      0 */
+    { { 0x80000000 },{ 0x3f800000 },{ 0x80000000 } }, /*   -0    1     -0 */
+    { { 0x80000000 },{ 0x3fc00000 },{ 0x00000000 } }, /*   -0  1.5      0 */
+    { { 0x80000000 },{ 0x40000000 },{ 0x00000000 } }, /*   -0    2      0 */
+    { { 0x80000000 },{ 0x40400000 },{ 0x80000000 } }, /*   -0    3     -0 */
+    { { 0x80000000 },{ 0x7f800000 },{ 0x00000000 } }, /*   -0  inf      0 */
+    { { 0x80000000 },{ 0x7fc00000 },{ 0x7fc00000 } }, /*   -0  nan    nan */
+    { { 0x80000000 },{ 0x80000000 },{ 0x3f800000 } }, /*   -0   -0      1 */
+    { { 0x80000000 },{ 0xbf000000 },{ 0x7f800000 } }, /*   -0 -0.5    inf */
+    { { 0x80000000 },{ 0xbf800000 },{ 0xff800000 } }, /*   -0   -1   -inf */
+    { { 0x80000000 },{ 0xbfc00000 },{ 0x7f800000 } }, /*   -0 -1.5    inf */
+    { { 0x80000000 },{ 0xc0000000 },{ 0x7f800000 } }, /*   -0   -2    inf */
+    { { 0x80000000 },{ 0xc0400000 },{ 0xff800000 } }, /*   -0   -3   -inf */
+    { { 0x80000000 },{ 0xff800000 },{ 0x7f800000 } }, /*   -0 -inf    inf */
+
+    { { 0x3f000000 },{ 0x00000000 },{ 0x3f800000 } }, /*  0.5    0      1 */
+    { { 0x3f000000 },{ 0x3f000000 },{ 0x3f3504f3 } }, /*  0.5  0.5  0.707 */
+    { { 0x3f000000 },{ 0x3f800000 },{ 0x3f000000 } }, /*  0.5    1    0.5 */
+    { { 0x3f000000 },{ 0x3fc00000 },{ 0x3eb504f3 } }, /*  0.5  1.5  0.354 */
+    { { 0x3f000000 },{ 0x40000000 },{ 0x3e800000 } }, /*  0.5    2   0.25 */
+    { { 0x3f000000 },{ 0x40400000 },{ 0x3e000000 } }, /*  0.5    3  0.125 */
+    { { 0x3f000000 },{ 0x7f800000 },{ 0x00000000 } }, /*  0.5  inf      0 */
+    { { 0x3f000000 },{ 0x7fc00000 },{ 0x7fc00000 } }, /*  0.5  nan    nan */
+    { { 0x3f000000 },{ 0x80000000 },{ 0x3f800000 } }, /*  0.5   -0      1 */
+    { { 0x3f000000 },{ 0xbf000000 },{ 0x3fb504f3 } }, /*  0.5 -0.5   1.41 */
+    { { 0x3f000000 },{ 0xbf800000 },{ 0x40000000 } }, /*  0.5   -1      2 */
+    { { 0x3f000000 },{ 0xbfc00000 },{ 0x403504f3 } }, /*  0.5 -1.5   2.83 */
+    { { 0x3f000000 },{ 0xc0000000 },{ 0x40800000 } }, /*  0.5   -2      4 */
+    { { 0x3f000000 },{ 0xc0400000 },{ 0x41000000 } }, /*  0.5   -3      8 */
+    { { 0x3f000000 },{ 0xff800000 },{ 0x7f800000 } }, /*  0.5 -inf    inf */
+
+    { { 0xbf000000 },{ 0x00000000 },{ 0x3f800000 } }, /* -0.5    0      1 */
+    { { 0xbf000000 },{ 0x3f000000 },{ 0xffc00000 } }, /* -0.5  0.5    nan */
+    { { 0xbf000000 },{ 0x3f800000 },{ 0xbf000000 } }, /* -0.5    1   -0.5 */
+    { { 0xbf000000 },{ 0x3fc00000 },{ 0xffc00000 } }, /* -0.5  1.5    nan */
+    { { 0xbf000000 },{ 0x40000000 },{ 0x3e800000 } }, /* -0.5    2   0.25 */
+    { { 0xbf000000 },{ 0x40400000 },{ 0xbe000000 } }, /* -0.5    3 -0.125 */
+    { { 0xbf000000 },{ 0x7f800000 },{ 0x00000000 } }, /* -0.5  inf      0 */
+    { { 0xbf000000 },{ 0x7fc00000 },{ 0x7fc00000 } }, /* -0.5  nan    nan */
+    { { 0xbf000000 },{ 0x80000000 },{ 0x3f800000 } }, /* -0.5   -0      1 */
+    { { 0xbf000000 },{ 0xbf000000 },{ 0xffc00000 } }, /* -0.5 -0.5    nan */
+    { { 0xbf000000 },{ 0xbf800000 },{ 0xc0000000 } }, /* -0.5   -1     -2 */
+    { { 0xbf000000 },{ 0xbfc00000 },{ 0xffc00000 } }, /* -0.5 -1.5    nan */
+    { { 0xbf000000 },{ 0xc0000000 },{ 0x40800000 } }, /* -0.5   -2      4 */
+    { { 0xbf000000 },{ 0xc0400000 },{ 0xc1000000 } }, /* -0.5   -3     -8 */
+    { { 0xbf000000 },{ 0xff800000 },{ 0x7f800000 } }, /* -0.5 -inf    inf */
+
+    { { 0x3f800000 },{ 0x00000000 },{ 0x3f800000 } }, /*    1    0      1 */
+    { { 0x3f800000 },{ 0x3f000000 },{ 0x3f800000 } }, /*    1  0.5      1 */
+    { { 0x3f800000 },{ 0x3f800000 },{ 0x3f800000 } }, /*    1    1      1 */
+    { { 0x3f800000 },{ 0x3fc00000 },{ 0x3f800000 } }, /*    1  1.5      1 */
+    { { 0x3f800000 },{ 0x40000000 },{ 0x3f800000 } }, /*    1    2      1 */
+    { { 0x3f800000 },{ 0x40400000 },{ 0x3f800000 } }, /*    1    3      1 */
+    { { 0x3f800000 },{ 0x7f800000 },{ 0x3f800000 } }, /*    1  inf      1 */
+    { { 0x3f800000 },{ 0x7fc00000 },{ 0x3f800000 } }, /*    1  nan      1 */
+    { { 0x3f800000 },{ 0x80000000 },{ 0x3f800000 } }, /*    1   -0      1 */
+    { { 0x3f800000 },{ 0xbf000000 },{ 0x3f800000 } }, /*    1 -0.5      1 */
+    { { 0x3f800000 },{ 0xbf800000 },{ 0x3f800000 } }, /*    1   -1      1 */
+    { { 0x3f800000 },{ 0xbfc00000 },{ 0x3f800000 } }, /*    1 -1.5      1 */
+    { { 0x3f800000 },{ 0xc0000000 },{ 0x3f800000 } }, /*    1   -2      1 */
+    { { 0x3f800000 },{ 0xc0400000 },{ 0x3f800000 } }, /*    1   -3      1 */
+    { { 0x3f800000 },{ 0xff800000 },{ 0x3f800000 } }, /*    1 -inf      1 */
+
+    { { 0xbf800000 },{ 0x00000000 },{ 0x3f800000 } }, /*   -1    0      1 */
+    { { 0xbf800000 },{ 0x3f000000 },{ 0xffc00000 } }, /*   -1  0.5    nan */
+    { { 0xbf800000 },{ 0x3f800000 },{ 0xbf800000 } }, /*   -1    1     -1 */
+    { { 0xbf800000 },{ 0x3fc00000 },{ 0xffc00000 } }, /*   -1  1.5    nan */
+    { { 0xbf800000 },{ 0x40000000 },{ 0x3f800000 } }, /*   -1    2      1 */
+    { { 0xbf800000 },{ 0x40400000 },{ 0xbf800000 } }, /*   -1    3     -1 */
+    { { 0xbf800000 },{ 0x7f800000 },{ 0x3f800000 } }, /*   -1  inf      1 */
+    { { 0xbf800000 },{ 0x7fc00000 },{ 0x7fc00000 } }, /*   -1  nan    nan */
+    { { 0xbf800000 },{ 0x80000000 },{ 0x3f800000 } }, /*   -1   -0      1 */
+    { { 0xbf800000 },{ 0xbf000000 },{ 0xffc00000 } }, /*   -1 -0.5    nan */
+    { { 0xbf800000 },{ 0xbf800000 },{ 0xbf800000 } }, /*   -1   -1     -1 */
+    { { 0xbf800000 },{ 0xbfc00000 },{ 0xffc00000 } }, /*   -1 -1.5    nan */
+    { { 0xbf800000 },{ 0xc0000000 },{ 0x3f800000 } }, /*   -1   -2      1 */
+    { { 0xbf800000 },{ 0xc0400000 },{ 0xbf800000 } }, /*   -1   -3     -1 */
+    { { 0xbf800000 },{ 0xff800000 },{ 0x3f800000 } }, /*   -1 -inf      1 */
+
+    { { 0x3fc00000 },{ 0x00000000 },{ 0x3f800000 } }, /*  1.5    0      1 */
+    { { 0x3fc00000 },{ 0x3f000000 },{ 0x3f9cc471 } }, /*  1.5  0.5   1.22 */
+    { { 0x3fc00000 },{ 0x3f800000 },{ 0x3fc00000 } }, /*  1.5    1    1.5 */
+    { { 0x3fc00000 },{ 0x3fc00000 },{ 0x3feb26a9 } }, /*  1.5  1.5   1.84 */
+    { { 0x3fc00000 },{ 0x40000000 },{ 0x40100000 } }, /*  1.5    2   2.25 */
+    { { 0x3fc00000 },{ 0x40400000 },{ 0x40580000 } }, /*  1.5    3   3.38 */
+    { { 0x3fc00000 },{ 0x7f800000 },{ 0x7f800000 } }, /*  1.5  inf    inf */
+    { { 0x3fc00000 },{ 0x7fc00000 },{ 0x7fc00000 } }, /*  1.5  nan    nan */
+    { { 0x3fc00000 },{ 0x80000000 },{ 0x3f800000 } }, /*  1.5   -0      1 */
+    { { 0x3fc00000 },{ 0xbf000000 },{ 0x3f5105ec } }, /*  1.5 -0.5  0.816 */
+    { { 0x3fc00000 },{ 0xbf800000 },{ 0x3f2aaaab } }, /*  1.5   -1  0.667 */
+    { { 0x3fc00000 },{ 0xbfc00000 },{ 0x3f0b5948 } }, /*  1.5 -1.5  0.544 */
+    { { 0x3fc00000 },{ 0xc0000000 },{ 0x3ee38e39 } }, /*  1.5   -2  0.444 */
+    { { 0x3fc00000 },{ 0xc0400000 },{ 0x3e97b426 } }, /*  1.5   -3  0.296 */
+    { { 0x3fc00000 },{ 0xff800000 },{ 0x00000000 } }, /*  1.5 -inf      0 */
+
+    { { 0xbfc00000 },{ 0x00000000 },{ 0x3f800000 } }, /* -1.5    0      1 */
+    { { 0xbfc00000 },{ 0x3f000000 },{ 0xffc00000 } }, /* -1.5  0.5    nan */
+    { { 0xbfc00000 },{ 0x3f800000 },{ 0xbfc00000 } }, /* -1.5    1   -1.5 */
+    { { 0xbfc00000 },{ 0x3fc00000 },{ 0xffc00000 } }, /* -1.5  1.5    nan */
+    { { 0xbfc00000 },{ 0x40000000 },{ 0x40100000 } }, /* -1.5    2   2.25 */
+    { { 0xbfc00000 },{ 0x40400000 },{ 0xc0580000 } }, /* -1.5    3  -3.38 */
+    { { 0xbfc00000 },{ 0x7f800000 },{ 0x7f800000 } }, /* -1.5  inf    inf */
+    { { 0xbfc00000 },{ 0x7fc00000 },{ 0x7fc00000 } }, /* -1.5  nan    nan */
+    { { 0xbfc00000 },{ 0x80000000 },{ 0x3f800000 } }, /* -1.5   -0      1 */
+    { { 0xbfc00000 },{ 0xbf000000 },{ 0xffc00000 } }, /* -1.5 -0.5    nan */
+    { { 0xbfc00000 },{ 0xbf800000 },{ 0xbf2aaaab } }, /* -1.5   -1 -0.667 */
+    { { 0xbfc00000 },{ 0xbfc00000 },{ 0xffc00000 } }, /* -1.5 -1.5    nan */
+    { { 0xbfc00000 },{ 0xc0000000 },{ 0x3ee38e39 } }, /* -1.5   -2  0.444 */
+    { { 0xbfc00000 },{ 0xc0400000 },{ 0xbe97b426 } }, /* -1.5   -3 -0.296 */
+    { { 0xbfc00000 },{ 0xff800000 },{ 0x00000000 } }, /* -1.5 -inf      0 */
+
+    { { 0x40000000 },{ 0x00000000 },{ 0x3f800000 } }, /*    2    0      1 */
+    { { 0x40000000 },{ 0x3f000000 },{ 0x3fb504f3 } }, /*    2  0.5   1.41 */
+    { { 0x40000000 },{ 0x3f800000 },{ 0x40000000 } }, /*    2    1      2 */
+    { { 0x40000000 },{ 0x3fc00000 },{ 0x403504f3 } }, /*    2  1.5   2.83 */
+    { { 0x40000000 },{ 0x40000000 },{ 0x40800000 } }, /*    2    2      4 */
+    { { 0x40000000 },{ 0x40400000 },{ 0x41000000 } }, /*    2    3      8 */
+    { { 0x40000000 },{ 0x7f800000 },{ 0x7f800000 } }, /*    2  inf    inf */
+    { { 0x40000000 },{ 0x7fc00000 },{ 0x7fc00000 } }, /*    2  nan    nan */
+    { { 0x40000000 },{ 0x80000000 },{ 0x3f800000 } }, /*    2   -0      1 */
+    { { 0x40000000 },{ 0xbf000000 },{ 0x3f3504f3 } }, /*    2 -0.5  0.707 */
+    { { 0x40000000 },{ 0xbf800000 },{ 0x3f000000 } }, /*    2   -1    0.5 */
+    { { 0x40000000 },{ 0xbfc00000 },{ 0x3eb504f3 } }, /*    2 -1.5  0.354 */
+    { { 0x40000000 },{ 0xc0000000 },{ 0x3e800000 } }, /*    2   -2   0.25 */
+    { { 0x40000000 },{ 0xc0400000 },{ 0x3e000000 } }, /*    2   -3  0.125 */
+    { { 0x40000000 },{ 0xff800000 },{ 0x00000000 } }, /*    2 -inf      0 */
+
+    { { 0xc0000000 },{ 0x00000000 },{ 0x3f800000 } }, /*   -2    0      1 */
+    { { 0xc0000000 },{ 0x3f000000 },{ 0xffc00000 } }, /*   -2  0.5    nan */
+    { { 0xc0000000 },{ 0x3f800000 },{ 0xc0000000 } }, /*   -2    1     -2 */
+    { { 0xc0000000 },{ 0x3fc00000 },{ 0xffc00000 } }, /*   -2  1.5    nan */
+    { { 0xc0000000 },{ 0x40000000 },{ 0x40800000 } }, /*   -2    2      4 */
+    { { 0xc0000000 },{ 0x40400000 },{ 0xc1000000 } }, /*   -2    3     -8 */
+    { { 0xc0000000 },{ 0x7f800000 },{ 0x7f800000 } }, /*   -2  inf    inf */
+    { { 0xc0000000 },{ 0x7fc00000 },{ 0x7fc00000 } }, /*   -2  nan    nan */
+    { { 0xc0000000 },{ 0x80000000 },{ 0x3f800000 } }, /*   -2   -0      1 */
+    { { 0xc0000000 },{ 0xbf000000 },{ 0xffc00000 } }, /*   -2 -0.5    nan */
+    { { 0xc0000000 },{ 0xbf800000 },{ 0xbf000000 } }, /*   -2   -1   -0.5 */
+    { { 0xc0000000 },{ 0xbfc00000 },{ 0xffc00000 } }, /*   -2 -1.5    nan */
+    { { 0xc0000000 },{ 0xc0000000 },{ 0x3e800000 } }, /*   -2   -2   0.25 */
+    { { 0xc0000000 },{ 0xc0400000 },{ 0xbe000000 } }, /*   -2   -3 -0.125 */
+    { { 0xc0000000 },{ 0xff800000 },{ 0x00000000 } }, /*   -2 -inf      0 */
+
+    { { 0x40400000 },{ 0x00000000 },{ 0x3f800000 } }, /*    3    0      1 */
+    { { 0x40400000 },{ 0x3f000000 },{ 0x3fddb3d7 } }, /*    3  0.5   1.73 */
+    { { 0x40400000 },{ 0x3f800000 },{ 0x40400000 } }, /*    3    1      3 */
+    { { 0x40400000 },{ 0x3fc00000 },{ 0x40a646e1 } }, /*    3  1.5    5.2 */
+    { { 0x40400000 },{ 0x40000000 },{ 0x41100000 } }, /*    3    2      9 */
+    { { 0x40400000 },{ 0x40400000 },{ 0x41d80000 } }, /*    3    3     27 */
+    { { 0x40400000 },{ 0x7f800000 },{ 0x7f800000 } }, /*    3  inf    inf */
+    { { 0x40400000 },{ 0x7fc00000 },{ 0x7fc00000 } }, /*    3  nan    nan */
+    { { 0x40400000 },{ 0x80000000 },{ 0x3f800000 } }, /*    3   -0      1 */
+    { { 0x40400000 },{ 0xbf000000 },{ 0x3f13cd3a } }, /*    3 -0.5  0.577 */
+    { { 0x40400000 },{ 0xbf800000 },{ 0x3eaaaaab } }, /*    3   -1  0.333 */
+    { { 0x40400000 },{ 0xbfc00000 },{ 0x3e4511a3 } }, /*    3 -1.5  0.192 */
+    { { 0x40400000 },{ 0xc0000000 },{ 0x3de38e39 } }, /*    3   -2  0.111 */
+    { { 0x40400000 },{ 0xc0400000 },{ 0x3d17b426 } }, /*    3   -3  0.037 */
+    { { 0x40400000 },{ 0xff800000 },{ 0x00000000 } }, /*    3 -inf      0 */
+
+    { { 0xc0400000 },{ 0x00000000 },{ 0x3f800000 } }, /*   -3    0      1 */
+    { { 0xc0400000 },{ 0x3f000000 },{ 0xffc00000 } }, /*   -3  0.5    nan */
+    { { 0xc0400000 },{ 0x3f800000 },{ 0xc0400000 } }, /*   -3    1     -3 */
+    { { 0xc0400000 },{ 0x3fc00000 },{ 0xffc00000 } }, /*   -3  1.5    nan */
+    { { 0xc0400000 },{ 0x40000000 },{ 0x41100000 } }, /*   -3    2      9 */
+    { { 0xc0400000 },{ 0x40400000 },{ 0xc1d80000 } }, /*   -3    3    -27 */
+    { { 0xc0400000 },{ 0x7f800000 },{ 0x7f800000 } }, /*   -3  inf    inf */
+    { { 0xc0400000 },{ 0x7fc00000 },{ 0x7fc00000 } }, /*   -3  nan    nan */
+    { { 0xc0400000 },{ 0x80000000 },{ 0x3f800000 } }, /*   -3   -0      1 */
+    { { 0xc0400000 },{ 0xbf000000 },{ 0xffc00000 } }, /*   -3 -0.5    nan */
+    { { 0xc0400000 },{ 0xbf800000 },{ 0xbeaaaaab } }, /*   -3   -1 -0.333 */
+    { { 0xc0400000 },{ 0xbfc00000 },{ 0xffc00000 } }, /*   -3 -1.5    nan */
+    { { 0xc0400000 },{ 0xc0000000 },{ 0x3de38e39 } }, /*   -3   -2  0.111 */
+    { { 0xc0400000 },{ 0xc0400000 },{ 0xbd17b426 } }, /*   -3   -3 -0.037 */
+    { { 0xc0400000 },{ 0xff800000 },{ 0x00000000 } }, /*   -3 -inf      0 */
+
+    { { 0x7f800000 },{ 0x00000000 },{ 0x3f800000 } }, /*  inf    0      1 */
+    { { 0x7f800000 },{ 0x3f000000 },{ 0x7f800000 } }, /*  inf  0.5    inf */
+    { { 0x7f800000 },{ 0x3f800000 },{ 0x7f800000 } }, /*  inf    1    inf */
+    { { 0x7f800000 },{ 0x3fc00000 },{ 0x7f800000 } }, /*  inf  1.5    inf */
+    { { 0x7f800000 },{ 0x40000000 },{ 0x7f800000 } }, /*  inf    2    inf */
+    { { 0x7f800000 },{ 0x40400000 },{ 0x7f800000 } }, /*  inf    3    inf */
+    { { 0x7f800000 },{ 0x7f800000 },{ 0x7f800000 } }, /*  inf  inf    inf */
+    { { 0x7f800000 },{ 0x7fc00000 },{ 0x7fc00000 } }, /*  inf  nan    nan */
+    { { 0x7f800000 },{ 0x80000000 },{ 0x3f800000 } }, /*  inf   -0      1 */
+    { { 0x7f800000 },{ 0xbf000000 },{ 0x00000000 } }, /*  inf -0.5      0 */
+    { { 0x7f800000 },{ 0xbf800000 },{ 0x00000000 } }, /*  inf   -1      0 */
+    { { 0x7f800000 },{ 0xbfc00000 },{ 0x00000000 } }, /*  inf -1.5      0 */
+    { { 0x7f800000 },{ 0xc0000000 },{ 0x00000000 } }, /*  inf   -2      0 */
+    { { 0x7f800000 },{ 0xc0400000 },{ 0x00000000 } }, /*  inf   -3      0 */
+    { { 0x7f800000 },{ 0xff800000 },{ 0x00000000 } }, /*  inf -inf      0 */
+
+    { { 0xff800000 },{ 0x00000000 },{ 0x3f800000 } }, /* -inf    0      1 */
+    { { 0xff800000 },{ 0x3f000000 },{ 0x7f800000 } }, /* -inf  0.5    inf */
+    { { 0xff800000 },{ 0x3f800000 },{ 0xff800000 } }, /* -inf    1   -inf */
+    { { 0xff800000 },{ 0x3fc00000 },{ 0x7f800000 } }, /* -inf  1.5    inf */
+    { { 0xff800000 },{ 0x40000000 },{ 0x7f800000 } }, /* -inf    2    inf */
+    { { 0xff800000 },{ 0x40400000 },{ 0xff800000 } }, /* -inf    3   -inf */
+    { { 0xff800000 },{ 0x7f800000 },{ 0x7f800000 } }, /* -inf  inf    inf */
+    { { 0xff800000 },{ 0x7fc00000 },{ 0x7fc00000 } }, /* -inf  nan    nan */
+    { { 0xff800000 },{ 0x80000000 },{ 0x3f800000 } }, /* -inf   -0      1 */
+    { { 0xff800000 },{ 0xbf000000 },{ 0x00000000 } }, /* -inf -0.5      0 */
+    { { 0xff800000 },{ 0xbf800000 },{ 0x80000000 } }, /* -inf   -1     -0 */
+    { { 0xff800000 },{ 0xbfc00000 },{ 0x00000000 } }, /* -inf -1.5      0 */
+    { { 0xff800000 },{ 0xc0000000 },{ 0x00000000 } }, /* -inf   -2      0 */
+    { { 0xff800000 },{ 0xc0400000 },{ 0x80000000 } }, /* -inf   -3     -0 */
+    { { 0xff800000 },{ 0xff800000 },{ 0x00000000 } }, /* -inf -inf      0 */
+
+    { { 0x7fc00000 },{ 0x00000000 },{ 0x3f800000 } }, /*  nan    0      1 */
+    { { 0x7fc00000 },{ 0x3f000000 },{ 0x7fc00000 } }, /*  nan  0.5    nan */
+    { { 0x7fc00000 },{ 0x3f800000 },{ 0x7fc00000 } }, /*  nan    1    nan */
+    { { 0x7fc00000 },{ 0x3fc00000 },{ 0x7fc00000 } }, /*  nan  1.5    nan */
+    { { 0x7fc00000 },{ 0x40000000 },{ 0x7fc00000 } }, /*  nan    2    nan */
+    { { 0x7fc00000 },{ 0x40400000 },{ 0x7fc00000 } }, /*  nan    3    nan */
+    { { 0x7fc00000 },{ 0x7f800000 },{ 0x7fc00000 } }, /*  nan  inf    nan */
+    { { 0x7fc00000 },{ 0x7fc00000 },{ 0x7fc00000 } }, /*  nan  nan    nan */
+    { { 0x7fc00000 },{ 0x80000000 },{ 0x3f800000 } }, /*  nan   -0      1 */
+    { { 0x7fc00000 },{ 0xbf000000 },{ 0x7fc00000 } }, /*  nan -0.5    nan */
+    { { 0x7fc00000 },{ 0xbf800000 },{ 0x7fc00000 } }, /*  nan   -1    nan */
+    { { 0x7fc00000 },{ 0xbfc00000 },{ 0x7fc00000 } }, /*  nan -1.5    nan */
+    { { 0x7fc00000 },{ 0xc0000000 },{ 0x7fc00000 } }, /*  nan   -2    nan */
+    { { 0x7fc00000 },{ 0xc0400000 },{ 0x7fc00000 } }, /*  nan   -3    nan */
+    { { 0x7fc00000 },{ 0xff800000 },{ 0x7fc00000 } }, /*  nan -inf    nan */
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]:  %#lx\n", index - 1, v.lo);
+#endif
+    exit (index ? index : -1);
+}
+
+int main ()
+{
+    union lofl_u x,y,z;
+    int i;
+    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	y.lo = pgm_read_dword (& t[i].y);
+	x.lo = pgm_read_dword (& t[i].x);
+	z.lo = pgm_read_dword (& t[i].z);
+	v.fl = pow (x.fl, y.fl);
+	/* Comparison is integer to verify the zero sign.	*/
+	if (   (v.lo == z.lo)
+	    || (isnan(v.fl) && isnan(z.fl)) )
+	  continue;
+	if (   isfinite(v.fl)
+	    && isfinite(z.fl)
+	    && !((v.lo ^ z.lo) & 0x80000000)	/* signbit(v) == signbit(z) */
+	    && labs(v.lo - z.lo) <= 4 )
+	  continue;
+	x_exit (i+1);
+    }
+    return 0;
+}
diff --git a/tests/simulate/math/pow-02.c b/tests/simulate/math/pow-02.c
new file mode 100644
index 0000000..de4557d
--- /dev/null
+++ b/tests/simulate/math/pow-02.c
@@ -0,0 +1,119 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of pow() function.
+   $Id$
+ */
+#include <math.h>
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+volatile union lofl_u v = { .lo = 1 };
+
+PROGMEM const struct {		/* Table of test cases	*/
+    union lofl_u x, y;		/* args		*/
+    union lofl_u z;		/* pow(x,y)	*/
+} t[] = {
+
+    /* pow (0,0)	*/
+    { { .fl=  0.0 }, { .fl=  0.0 }, { .fl= 1 } },
+    { { .fl= -0.0 }, { .fl=  0.0 }, { .fl= 1 } },
+    { { .fl=  0.0 }, { .fl= -0.0 }, { .fl= 1 } },
+    { { .fl= -0.0 }, { .fl= -0.0 }, { .fl= 1 } },
+    
+    /* pow (0, positive)	*/
+    { { .fl=  0.0 }, { 0x00000001 }, { .fl= 0.0 } },
+    { { .fl=  0.0 }, { 0x007fffff }, { .fl= 0.0 } },
+    { { .fl=  0.0 }, { 0x00800000 }, { .fl= 0.0 } },
+    { { .fl=  0.0 }, { 0x7f7fffff }, { .fl= 0.0 } },
+
+    /* pow (0, negative)	*/
+    { { .fl=  0.0 }, { 0x80000001 }, { 0x7f800000 } },
+    { { .fl=  0.0 }, { 0x807fffff }, { 0x7f800000 } },
+    { { .fl=  0.0 }, { 0x80800000 }, { 0x7f800000 } },
+    { { .fl=  0.0 }, { 0xff7fffff }, { 0x7f800000 } },
+    
+    /* pow (-0, +even)	*/
+    { { .fl= -0.0 }, { .fl=  1 }, { .fl= -0.0 } },
+    
+    /* pow (-0, +odd)	*/
+    { { .fl= -0.0 }, { .fl=  2 }, { .fl= 0.0 } },
+
+    /* pow (-0, +nonintegral)	*/
+    { { .fl= -0.0 }, { 0x00000001 }, { .fl= 0.0 } },
+    { { .fl= -0.0 }, { 0x007fffff }, { .fl= 0.0 } },
+    { { .fl= -0.0 }, { 0x00800000 }, { .fl= 0.0 } },
+    { { .fl= -0.0 }, { 0x7f7fffff }, { .fl= 0.0 } },
+    
+    /* pow (-0, +Inf)	*/
+    { { .fl= -0.0 }, { 0x7f800000 }, { .fl= 0.0 } },
+    
+    /* pow (-0, -even)	*/
+    { { .fl= -0.0 }, { .fl= -1 }, { 0xff800000 } },
+
+    /* pow (-0, -odd)	*/
+    { { .fl= -0.0 }, { .fl= -2 }, { 0x7f800000 } },
+    
+    /* pow (-0, -nonintegral)	*/
+    { { .fl= -0.0 }, { 0x80000001 }, { 0x7f800000 } },
+    { { .fl= -0.0 }, { 0x807fffff }, { 0x7f800000 } },
+    { { .fl= -0.0 }, { 0x80800000 }, { 0x7f800000 } },
+    { { .fl= -0.0 }, { 0xff7fffff }, { 0x7f800000 } },
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]:  %#lx\n", index - 1, v.lo);
+#endif
+    exit (index ? index : -1);
+}
+
+int main ()
+{
+    union lofl_u x,y,z;
+    int i;
+    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	y.lo = pgm_read_dword (& t[i].y);
+	x.lo = pgm_read_dword (& t[i].x);
+	z.lo = pgm_read_dword (& t[i].z);
+	v.fl = pow (x.fl, y.fl);
+	/* Comparison is integer to verify the zero sign.	*/
+	if (v.lo != z.lo)
+	    x_exit (i+1);
+    }
+    return 0;
+}
diff --git a/tests/simulate/math/pow-500.c b/tests/simulate/math/pow-500.c
new file mode 100644
index 0000000..a1924dc
--- /dev/null
+++ b/tests/simulate/math/pow-500.c
@@ -0,0 +1,583 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of pow() function. 500 random cases.
+   $Id$
+ */
+#include <math.h>
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+volatile union lofl_u v = { .lo = 1 };
+
+PROGMEM const struct {		/* Table of test cases.	*/
+    long x;		/* first argument	*/
+    long y;		/* second argument	*/
+    long z;		/* pow(x,y)		*/
+} t[] = {
+
+    /* x, y, pow(x,y)	*/
+    { 0x3dc0d6a6,0x400e129c,0x3baccce2 }, /*   1:  9.4159409e-02  2.2198858e+00  5.2734474e-03 */
+    { 0x3f2f30db,0x3f4222d7,0x3f400204 }, /*   2:  6.8433923e-01  7.5834411e-01  7.5003076e-01 */
+    { 0x402b78b9,0x401df40e,0x41362a07 }, /*   3:  2.6792433e+00  2.4680209e+00  1.1385261e+01 */
+    { 0x3f99b9f9,0xbff0aed5,0x3f356b09 }, /*   4:  1.2009879e+00 -1.8803355e+00  7.0866448e-01 */
+    { 0x3f4c871b,0x3ff46ddb,0x3f26c11d }, /*   5:  7.9893655e-01  1.9096025e+00  6.5138417e-01 */
+    { 0x3f2ee4c8,0xbfc530b0,0x3fe634f0 }, /*   6:  6.8317842e-01 -1.5405483e+00  1.7984905e+00 */
+    { 0x3c76c248,0x42dbf9d3,0x00000000 }, /*   7:  1.5060969e-02  1.0998794e+02  0.0000000e+00 */
+    { 0x3f284bcd,0xc04629bb,0x406a8aa2 }, /*   8:  6.5740663e-01 -3.0962970e+00  3.6647115e+00 */
+    { 0xbc789220,0x40000000,0x39715b71 }, /*   9: -1.5171558e-02  2.0000000e+00  2.3017616e-04 */
+    { 0x3ee5a8c9,0xbfbee616,0x40539310 }, /*  10:  4.4855335e-01 -1.4913967e+00  3.3058510e+00 */
+    { 0xbfaa8a28,0xc0400000,0xbed87b9f }, /*  11: -1.3323412e+00 -3.0000000e+00 -4.2281815e-01 */
+    { 0x3ed042be,0x3fcdf5eb,0x3e70d2a0 }, /*  12:  4.0675920e-01  1.6090673e+00  2.3517847e-01 */
+    { 0x41c6cedb,0x3ff0f021,0x43d3934d }, /*  13:  2.4851004e+01  1.8823282e+00  4.2315079e+02 */
+    { 0xbf465f60,0xc1600000,0x420e2090 }, /*  14: -7.7489281e-01 -1.4000000e+01  3.5531799e+01 */
+    { 0x3a00a69c,0x3ff3a646,0x3506dbac }, /*  15:  4.9076392e-04  1.9035118e+00  5.0238555e-07 */
+    { 0x40f25dab,0xbfce9ba8,0x3d1bf6d5 }, /*  16:  7.5739341e+00 -1.6141253e+00  3.8077194e-02 */
+    { 0x3f6eabb4,0x4030681e,0x3f530671 }, /*  17:  9.3230748e-01  2.7563548e+00  8.2431704e-01 */
+    { 0x3f92743b,0xbfc572d0,0x3f4ff9da }, /*  18:  1.1441721e+00 -1.5425663e+00  8.1240618e-01 */
+    { 0x408faf8d,0x3fd14d9f,0x413a8129 }, /*  19:  4.4901795e+00  1.6351813e+00  1.1656533e+01 */
+    { 0x3fded439,0x3f6ed954,0x3fd6b467 }, /*  20:  1.7408515e+00  9.3300366e-01  1.6773804e+00 */
+    { 0x3f0895d8,0xc00cf7ff,0x407f59f8 }, /*  21:  5.3353643e-01 -2.2026365e+00  3.9898663e+00 */
+    { 0x3f6791f8,0x3fee6837,0x3f546116 }, /*  22:  9.0457106e-01  1.8625554e+00  8.2960641e-01 */
+    { 0xbf6231ee,0xc1000000,0x402c47b4 }, /*  23: -8.8357437e-01 -8.0000000e+00  2.6918764e+00 */
+    { 0x3fd3a7cc,0x3e89d931,0x3f928f6c }, /*  24:  1.6535583e+00  2.6923516e-01  1.1450019e+00 */
+    { 0x3dce9a60,0xc07e9c49,0x460f898a }, /*  25:  1.0088038e-01 -3.9782889e+00  9.1863848e+03 */
+    { 0x3f220be1,0x3fdf3ff4,0x3ee69ccf }, /*  26:  6.3299376e-01  1.7441392e+00  4.5041510e-01 */
+    { 0x3fc2d68e,0xbff8abed,0x3ee25ab4 }, /*  27:  1.5221727e+00 -1.9427468e+00  4.4209826e-01 */
+    { 0xbfa7effe,0x41600000,0x4233233d }, /*  28: -1.3120115e+00  1.4000000e+01  4.4784412e+01 */
+    { 0x3f183582,0x4010e8f5,0x3e9dc3cf }, /*  29:  5.9456646e-01  2.2642186e+00  3.0813453e-01 */
+    { 0x40018c30,0x400f24e0,0x409aec3c }, /*  30:  2.0241814e+00  2.2366257e+00  4.8413372e+00 */
+    { 0x3e74214c,0xc04548be,0x42a62428 }, /*  31:  2.3840827e-01 -3.0825648e+00  8.3070618e+01 */
+    { 0x3f5fac71,0x402722e3,0x3f33f1ef }, /*  32:  8.7372500e-01  2.6115043e+00  7.0291036e-01 */
+    { 0x3f2176ef,0xc05e87a5,0x409ee62c }, /*  33:  6.3072103e-01 -3.4770291e+00  4.9655972e+00 */
+    { 0x413e6931,0x4158c299,0x57a977fc }, /*  34:  1.1900681e+01  1.3547509e+01  3.7266559e+14 */
+    { 0x3f03ac66,0xc0416ae0,0x40eea7ad }, /*  35:  5.1434934e-01 -3.0221481e+00  7.4579682e+00 */
+    { 0x3cdbc7a8,0x4055c5e2,0x36bd3645 }, /*  36:  2.6828602e-02  3.3402028e+00  5.6389567e-06 */
+    { 0xbfac4be1,0xc1500000,0xbcac000a }, /*  37: -1.3460656e+00 -1.3000000e+01 -2.0996112e-02 */
+    { 0xbe0cf95f,0xbf800000,0xc0e8709a }, /*  38: -1.3767003e-01 -1.0000000e+00 -7.2637453e+00 */
+    { 0x4001939d,0x3fad427a,0x40264879 }, /*  39:  2.0246346e+00  1.3535912e+00  2.5981734e+00 */
+    { 0xbf915839,0x00000000,0x3f800000 }, /*  40: -1.1355048e+00  0.0000000e+00  1.0000000e+00 */
+    { 0x3f6ab467,0x401386f0,0x3f518dc0 }, /*  41:  9.1681522e-01  2.3051109e+00  8.1856918e-01 */
+    { 0x3f1e76cf,0xc0384741,0x407eab08 }, /*  42:  6.1900038e-01 -2.8793490e+00  3.9791889e+00 */
+    { 0xbf731f99,0x40400000,0xbf5b47df }, /*  43: -9.4970089e-01  3.0000000e+00 -8.5656542e-01 */
+    { 0x3fe29f29,0xc0fe945a,0x3c2e0f82 }, /*  44:  1.7704822e+00 -7.9556093e+00  1.0623815e-02 */
+    { 0x3f250a6c,0x3ff1e3ac,0x3edf5a08 }, /*  45:  6.4469028e-01  1.8897605e+00  4.3623376e-01 */
+    { 0x3f6aa004,0xbff51bbe,0x3f97421d }, /*  46:  9.1650414e-01 -1.9149091e+00  1.1817051e+00 */
+    { 0x3fdd9bd4,0xc00c6476,0x3e9996ae }, /*  47:  1.7313180e+00 -2.1936316e+00  2.9997772e-01 */
+    { 0x404eefbc,0xc01b88e0,0x3d6c7863 }, /*  48:  3.2333822e+00 -2.4302292e+00  5.7731997e-02 */
+    { 0x3fe1f8d4,0x3fa5aa04,0x40058dfb }, /*  49:  1.7654061e+00  1.2942510e+00  2.0867908e+00 */
+    { 0x3f693d17,0x40899989,0x3f2b88bc }, /*  50:  9.1108841e-01  4.2999921e+00  6.7005515e-01 */
+    { 0x3ee4691f,0xbfbadbe6,0x404fefbf }, /*  51:  4.4611451e-01 -1.4598358e+00  3.2490079e+00 */
+    { 0x3d08dcf2,0x400dba8b,0x3a0d2ce6 }, /*  52:  3.3413835e-02  2.2145107e+00  5.3854135e-04 */
+    { 0x3e356a32,0xbfca3a47,0x41766329 }, /*  53:  1.7716292e-01 -1.5799035e+00  1.5399209e+01 */
+    { 0x3ec22770,0xbfda7f1c,0x40a77f7a }, /*  54:  3.7920713e-01 -1.7070041e+00  5.2343111e+00 */
+    { 0x3eb36ffa,0xc00c1793,0x411ece7d }, /*  55:  3.5046369e-01 -2.1889389e+00  9.9254122e+00 */
+    { 0xbf8d4571,0xc1500000,0xbe8e00fc }, /*  56: -1.1036817e+00 -1.3000000e+01 -2.7735126e-01 */
+    { 0x4737124b,0xbff636b6,0x308e65a4 }, /*  57:  4.6866293e+04 -1.9235446e+00  1.0360748e-09 */
+    { 0x3f9f79a7,0xbfee66ad,0x3f29fb45 }, /*  58:  1.2459000e+00 -1.8625084e+00  6.6399032e-01 */
+    { 0x3ee961f7,0xbfb57501,0x4042ee0a }, /*  59:  4.5582554e-01 -1.4176332e+00  3.0457788e+00 */
+    { 0x3fcdd691,0xbff5818f,0x3ecdd9d2 }, /*  60:  1.6081105e+00 -1.9180163e+00  4.0205246e-01 */
+    { 0x3f7256ad,0xc0074a35,0x3f8fbbc0 }, /*  61:  9.4663507e-01 -2.1139042e+00  1.1229172e+00 */
+    { 0xbf53e1d8,0xc0a00000,0xc024c7f6 }, /*  62: -8.2766485e-01 -5.0000000e+00 -2.5747046e+00 */
+    { 0x3f9da7d4,0xbc740dee,0x3f7f34e4 }, /*  63:  1.2316842e+00 -1.4895899e-02  9.9690080e-01 */
+    { 0x3f9d7f91,0xbfdb1b20,0x3f338067 }, /*  64:  1.2304555e+00 -1.7117653e+00  7.0117801e-01 */
+    { 0x3f92b244,0xc02d2341,0x3f31094b }, /*  65:  1.1460652e+00 -2.7052767e+00  6.9154805e-01 */
+    { 0x3fb9f638,0x401b6015,0x401e7c95 }, /*  66:  1.4528265e+00  2.4277394e+00  2.4763539e+00 */
+    { 0xc354a4fe,0x41600000,0x7598734f }, /*  67: -2.1264450e+02  1.4000000e+01  3.8650774e+32 */
+    { 0x4110e99e,0x3fa79e51,0x418f4fc5 }, /*  68:  9.0570354e+00  1.3095189e+00  1.7913950e+01 */
+    { 0x3f3c930d,0x40a62eda,0x3e515857 }, /*  69:  7.3661882e-01  5.1932192e+00  2.0443855e-01 */
+    { 0x3e873ddb,0xc007d910,0x4186fdb8 }, /*  70:  2.6414379e-01 -2.1226234e+00  1.6873886e+01 */
+    { 0x3f677eb7,0x403def3b,0x3f3de9c6 }, /*  71:  9.0427727e-01  2.9677265e+00  7.4184835e-01 */
+    { 0x4045cd05,0x400c39cf,0x413d989c }, /*  72:  3.0906384e+00  2.1910284e+00  1.1849758e+01 */
+    { 0x40afa4f0,0x3fd3e30a,0x41860810 }, /*  73:  5.4888840e+00  1.6553662e+00  1.6753937e+01 */
+    { 0x3f767fed,0xbfe10364,0x3f88cc68 }, /*  74:  9.6288949e-01 -1.7579160e+00  1.0687380e+00 */
+    { 0x40e74061,0xbf924fdc,0x3dd58eab }, /*  75:  7.2266088e+00 -1.1430621e+00  1.0427602e-01 */
+    { 0x4060c242,0xc02a1c56,0x3d1152b1 }, /*  76:  3.5118566e+00 -2.6579795e+00  3.5479251e-02 */
+    { 0x3f959bd9,0x3fac1f53,0x3f9ddfae }, /*  77:  1.1688186e+00  1.3447059e+00  1.2333887e+00 */
+    { 0x3ff19161,0x40284294,0x40a9f357 }, /*  78:  1.8872491e+00  2.6290636e+00  5.3109546e+00 */
+    { 0x3ee49aae,0xc02ec4a6,0x4110ac8c }, /*  79:  4.4649261e-01 -2.7307525e+00  9.0421257e+00 */
+    { 0x50e9cfc7,0xc207d414,0x00000000 }, /*  80:  3.1381666e+10 -3.3957108e+01  0.0000000e+00 */
+    { 0x3f6668a3,0x3f5cbdd3,0x3f69c680 }, /*  81:  9.0003413e-01  8.6227149e-01  9.1318512e-01 */
+    { 0x3fd78959,0x3f9fd561,0x3ff55c3a }, /*  82:  1.6838790e+00  1.2486993e+00  1.9168770e+00 */
+    { 0x3ff74c1e,0x400c9f08,0x408802a4 }, /*  83:  1.9320104e+00  2.1972065e+00  4.2503223e+00 */
+    { 0xbf8f43c6,0x41500000,0xc08a6e2f }, /*  84: -1.1192558e+00  1.3000000e+01 -4.3259501e+00 */
+    { 0x3e97c664,0x4039cdca,0x3cf00d51 }, /*  85:  2.9643548e-01  2.9031854e+00  2.9303225e-02 */
+    { 0x41c9db2a,0xbf0d432d,0x3e2c7657 }, /*  86:  2.5232014e+01 -5.5180627e-01  1.6842018e-01 */
+    { 0x3ff92792,0x400de851,0x408c20c6 }, /*  87:  1.9465201e+00  2.2173045e+00  4.3790007e+00 */
+    { 0x404fcd89,0xbfbb171d,0x3e371c11 }, /*  88:  3.2469199e+00 -1.4616429e+00  1.7881800e-01 */
+    { 0x3f658b46,0xbff8120e,0x3f9e221a }, /*  89:  8.9665639e-01 -1.9380510e+00  1.2354157e+00 */
+    { 0x3f45356e,0x3fcddfac,0x3f284331 }, /*  90:  7.7034652e-01  1.6083884e+00  6.5727526e-01 */
+    { 0xbf1ce580,0x41500000,0xbae19caa }, /*  91: -6.1287689e-01  1.3000000e+01 -1.7212827e-03 */
+    { 0x3f96f924,0xc00dea8b,0x3f3187b1 }, /*  92:  1.1794782e+00 -2.2174404e+00  6.9347674e-01 */
+    { 0x3f86ad02,0xbfd1a286,0x3f6b8c2b }, /*  93:  1.0521548e+00 -1.6377723e+00  9.2010754e-01 */
+    { 0x42d06773,0xc06590ef,0x33784102 }, /*  94:  1.0420205e+02 -3.5869710e+00  5.7801124e-08 */
+    { 0x3f02cc97,0x40358da5,0x3e1867a0 }, /*  95:  5.1093429e-01  2.8367703e+00  1.4883280e-01 */
+    { 0x3f41877c,0x3fd9e365,0x3f1f02db }, /*  96:  7.5597358e-01  1.7022520e+00  6.2113732e-01 */
+    { 0x40aafd3f,0xbeab184b,0x3f1239e3 }, /*  97:  5.3434138e+00 -3.3416972e-01  5.7119578e-01 */
+    { 0x29c31614,0x4038b919,0x00d86b79 }, /*  98:  8.6635695e-14  2.8862975e+00  1.9875021e-38 */
+    { 0xbf76905a,0xc1700000,0xbfe0d646 }, /*  99: -9.6314013e-01 -1.5000000e+01 -1.7565391e+00 */
+    { 0x4078a28e,0xbf6fb8a8,0x3e8fab7d }, /* 100:  3.8849216e+00 -9.3641138e-01  2.8060523e-01 */
+    { 0x3f990903,0xc0556647,0x3f0d1bf1 }, /* 101:  1.1955875e+00 -3.3343675e+00  5.5120760e-01 */
+    { 0x3ee43734,0xc01133dc,0x40c822b2 }, /* 102:  4.4573367e-01 -2.2687902e+00  6.2542353e+00 */
+    { 0x3f680ad2,0xc033c727,0x3fa8afa5 }, /* 103:  9.0641510e-01 -2.8090303e+00  1.3178602e+00 */
+    { 0x3f6b363f,0x3fb4f225,0x3f631d60 }, /* 104:  9.1879648e-01  1.4136397e+00  8.8716698e-01 */
+    { 0x3f3a56cb,0x40b16c88,0x3e300012 }, /* 105:  7.2788686e-01  5.5444984e+00  1.7187527e-01 */
+    { 0x3eabfffd,0x3ff0f5cd,0x3e035d86 }, /* 106:  3.3593741e-01  1.8825012e+00  1.2828645e-01 */
+    { 0x3f9d09a7,0x400a0ee3,0x3fc6f438 }, /* 107:  1.2268571e+00  2.1571586e+00  1.5543280e+00 */
+    { 0x3f0144ec,0x409a6582,0x3d17909b }, /* 108:  5.0495791e-01  4.8248911e+00  3.7003141e-02 */
+    { 0x3f875f80,0xc02a0328,0x3f5c9cb3 }, /* 109:  1.0576019e+00 -2.6564426e+00  8.6176604e-01 */
+    { 0x40b59c4e,0xc06e8dec,0x3acacd8b }, /* 110:  5.6753302e+00 -3.7274122e+00  1.5472634e-03 */
+    { 0x402bdec9,0xc18b20eb,0x331488f2 }, /* 111:  2.6854727e+00 -1.7391073e+01  3.4583486e-08 */
+    { 0x404d3be8,0xc02893fd,0x3d3e439b }, /* 112:  3.2067814e+00 -2.6340325e+00  4.6451192e-02 */
+    { 0x3edd0e11,0xbfc11405,0x4063330c }, /* 113:  4.3174794e-01 -1.5084234e+00  3.5499907e+00 */
+    { 0x3fde0826,0xbfb994bf,0x3ee6630b }, /* 114:  1.7346237e+00 -1.4498519e+00  4.4997439e-01 */
+    { 0xc036b350,0x40000000,0x41026373 }, /* 115: -2.8546944e+00  2.0000000e+00  8.1492796e+00 */
+    { 0x3fe1fcc3,0x40297c7e,0x40903006 }, /* 116:  1.7655262e+00  2.6482234e+00  4.5058622e+00 */
+    { 0xbf4fc480,0xc0000000,0x3fc253d9 }, /* 117: -8.1159210e-01 -2.0000000e+00  1.5181838e+00 */
+    { 0x3e685d7f,0x400cd152,0x3d1cb5f4 }, /* 118:  2.2691916e-01  2.2002759e+00  3.8259462e-02 */
+    { 0x3f1f3217,0xc008e970,0x4030d14e }, /* 119:  6.2185806e-01 -2.1392479e+00  2.7627749e+00 */
+    { 0x401c6f9b,0x3ff2a523,0x40ae2aa2 }, /* 120:  2.4443119e+00  1.8956646e+00  5.4427042e+00 */
+    { 0x3fe34b4e,0x4044fa7c,0x40bb5ce8 }, /* 121:  1.7757356e+00  3.0777884e+00  5.8550911e+00 */
+    { 0x3f2d2939,0xc02bd816,0x4036d79b }, /* 122:  6.7641026e-01 -2.6850638e+00  2.8569095e+00 */
+    { 0x3f27ecfa,0xc0085376,0x401d2054 }, /* 123:  6.5595973e-01 -2.1300941e+00  2.4550982e+00 */
+    { 0x1b421ec7,0x3ff3c5be,0x000008ae }, /* 124:  1.6057249e-22  1.9044721e+00  3.1136852e-42 */
+    { 0x3f6973fa,0xbff15010,0x3f984c7d }, /* 125:  9.1192591e-01 -1.8852558e+00  1.1898342e+00 */
+    { 0x3c8f9940,0xc03c4d94,0x480f89f9 }, /* 126:  1.7529130e-02 -2.9422350e+00  1.4698389e+05 */
+    { 0x3f3e0a62,0x4021c733,0x3ef118b1 }, /* 127:  7.4234593e-01  2.5277832e+00  4.7089151e-01 */
+    { 0x40076b3f,0xbf720dd0,0x3efc0f2d }, /* 128:  2.1159208e+00 -9.4552326e-01  4.9230328e-01 */
+    { 0x406d9f0b,0xbfd1e066,0x3dee5865 }, /* 129:  3.7128322e+00 -1.6396606e+00  1.1637954e-01 */
+    { 0x3f8bb824,0x40df0112,0x3febb202 }, /* 130:  1.0915570e+00  6.9688807e+00  1.8413699e+00 */
+    { 0x3ed0ad89,0xbfd5a69b,0x408f24d3 }, /* 131:  4.0757397e-01 -1.6691469e+00  4.4732451e+00 */
+    { 0x3f686269,0xc028cb31,0x3fa538d3 }, /* 132:  9.0775162e-01 -2.6374018e+00  1.2907966e+00 */
+    { 0x3f96a962,0x400b9685,0x3fb6a5b8 }, /* 133:  1.1770442e+00  2.1810620e+00  1.4269323e+00 */
+    { 0x402cf531,0x405b4cc3,0x41f14aa0 }, /* 134:  2.7024653e+00  3.4265602e+00  3.0161438e+01 */
+    { 0xbfab83ac,0xc1500000,0xbcb67ab8 }, /* 135: -1.3399558e+00 -1.3000000e+01 -2.2275314e-02 */
+    { 0xc03cd833,0x41700000,0xcb2ac29a }, /* 136: -2.9506958e+00  1.5000000e+01 -1.1190938e+07 */
+    { 0x3fa6e76a,0x405a39b3,0x401e30a1 }, /* 137:  1.3039372e+00  3.4097717e+00  2.4717181e+00 */
+    { 0x3f95a44f,0xc0026735,0x3f3a3623 }, /* 138:  1.1690768e+00 -2.0375493e+00  7.2738856e-01 */
+    { 0x3a4904a0,0x3fd91bcb,0x36ae7566 }, /* 139:  7.6682307e-04  1.6961607e+00  5.1992711e-06 */
+    { 0x3d77f95d,0x3ff34b9d,0x3b9ea582 }, /* 140:  6.0540546e-02  1.9007450e+00  4.8415074e-03 */
+    { 0x4065dc2f,0xc0262213,0x3d143b12 }, /* 141:  3.5915639e+00 -2.5958297e+00  3.6189146e-02 */
+    { 0x3fc44a2b,0xbfcf81cb,0x3f000037 }, /* 142:  1.5335134e+00 -1.6211485e+00  5.0000328e-01 */
+    { 0x3f709de5,0x3ee9977f,0x3f78dd01 }, /* 143:  9.3990928e-01  4.5623395e-01  9.7212225e-01 */
+    { 0x3f2df08a,0x410075eb,0x3d37fda7 }, /* 144:  6.7945158e-01  8.0287886e+00  4.4919636e-02 */
+    { 0x40131e9c,0x3fece3ea,0x409555d3 }, /* 145:  2.2987432e+00  1.8507054e+00  4.6667266e+00 */
+    { 0xbf242456,0x40800000,0x3e2d1191 }, /* 146: -6.4117944e-01  4.0000000e+00  1.6901232e-01 */
+    { 0x3fcabc6d,0x3fe03aaf,0x400f3c2e }, /* 147:  1.5838753e+00  1.7517909e+00  2.2380481e+00 */
+    { 0x3f9059d3,0x3faf8cfd,0x3f96f190 }, /* 148:  1.1277412e+00  1.3714901e+00  1.1792469e+00 */
+    { 0x3fc4131f,0x3fd2c493,0x40012aec }, /* 149:  1.5318335e+00  1.6466240e+00  2.0182447e+00 */
+    { 0xbf5bd2a4,0x40400000,0xbf221555 }, /* 150: -8.5868287e-01  3.0000000e+00 -6.3313800e-01 */
+    { 0x3fda54f0,0x40906551,0x41320fb4 }, /* 151:  1.7057171e+00  4.5123677e+00  1.1128834e+01 */
+    { 0x3f63a3f7,0xbf9e340c,0x3f93fd6f }, /* 152:  8.8922065e-01 -1.2359633e+00  1.1561717e+00 */
+    { 0x3fcbb21f,0x3ca9fe7b,0x3f813d71 }, /* 153:  1.5913733e+00  2.0751229e-02  1.0096875e+00 */
+    { 0x42554bf5,0x40412a03,0x481f2da5 }, /* 154:  5.3324177e+01  3.0181892e+00  1.6299858e+05 */
+    { 0x3f2fa3be,0xc043525b,0x404a149c }, /* 155:  6.8609226e-01 -3.0519016e+00  3.1575079e+00 */
+    { 0x3f641234,0x3f324d9d,0x3f6c3593 }, /* 156:  8.9090276e-01  6.9649678e-01  9.2269248e-01 */
+    { 0xbf36b9d5,0x4d09d536,0x00000000 }, /* 157: -7.1377307e-01  1.4452822e+08  0.0000000e+00 */
+    { 0x3ed48da6,0xc00bcc2e,0x40da5730 }, /* 158:  4.1514319e-01 -2.1843371e+00  6.8231430e+00 */
+    { 0x3f7c3a43,0x3fcac148,0x3f7a0cd8 }, /* 159:  9.8526400e-01  1.5840235e+00  9.7675848e-01 */
+    { 0xbf8edf9f,0xc1700000,0xbe44de00 }, /* 160: -1.1161994e+00 -1.5000000e+01 -1.9225311e-01 */
+    { 0x3fe8d8bd,0xbf86a8d5,0x3f086a15 }, /* 161:  1.8191143e+00 -1.0520273e+00  5.3286868e-01 */
+    { 0xbfea35c3,0x40e00000,0xc2895725 }, /* 162: -1.8297657e+00  7.0000000e+00 -6.8670204e+01 */
+    { 0x3f018af7,0xbcd19f20,0x3f824028 }, /* 163:  5.0602669e-01 -2.5588572e-02  1.0175829e+00 */
+    { 0x3f3cef5b,0x4005c4a7,0x3f07ac5f }, /* 164:  7.3802727e-01  2.0901277e+00  5.2997392e-01 */
+    { 0x3f9a6b65,0x400bebb9,0x3fc0eb12 }, /* 165:  1.2064024e+00  2.1862624e+00  1.5071738e+00 */
+    { 0x3e92e533,0xbff35c0b,0x412bd3f3 }, /* 166:  2.8690490e-01 -1.9012464e+00  1.0739245e+01 */
+    { 0x3f6a017a,0xc00ba59e,0x3f9bb79a }, /* 167:  9.1408503e-01 -2.1819835e+00  1.2165406e+00 */
+    { 0x400660b9,0xc04529c9,0x3dd06666 }, /* 168:  2.0996535e+00 -3.0806754e+00  1.0175781e-01 */
+    { 0xbf9b969b,0x00000000,0x3f800000 }, /* 169: -1.2155336e+00  0.0000000e+00  1.0000000e+00 */
+    { 0x3f923139,0xbf7d7d38,0x3f606f7e }, /* 170:  1.1421272e+00 -9.9019194e-01  8.7670124e-01 */
+    { 0x3f95fc50,0x405bc301,0x3fdc978d }, /* 171:  1.1717625e+00  3.4337771e+00  1.7233750e+00 */
+    { 0x3f98aae6,0x40883378,0x4007803f }, /* 172:  1.1927154e+00  4.2562828e+00  2.1172025e+00 */
+    { 0x3f9b21fd,0xc0909b96,0x3ed6c3cc }, /* 173:  1.2119747e+00 -4.5189924e+00  4.1946256e-01 */
+    { 0xc0741224,0x41200000,0x491edac4 }, /* 174: -3.8136072e+00  1.0000000e+01  6.5066825e+05 */
+    { 0x3f707f11,0xbf87d361,0x3f88c5e0 }, /* 175:  9.3943888e-01 -1.0611383e+00  1.0685387e+00 */
+    { 0x3dda6c9c,0x3fbaf784,0x3d1bca16 }, /* 176:  1.0665247e-01  1.4606786e+00  3.8034521e-02 */
+    { 0x3f2f51bb,0x441b731f,0x00000000 }, /* 177:  6.8484086e-01  6.2179877e+02  0.0000000e+00 */
+    { 0x3fa08a44,0xbff2ae52,0x3f269eea }, /* 178:  1.2542195e+00 -1.8959448e+00  6.5086234e-01 */
+    { 0xbef112a4,0xc1600000,0x4714690c }, /* 179: -4.7084534e-01 -1.4000000e+01  3.7993047e+04 */
+    { 0x3fc38450,0xc02e7334,0x3ea15c37 }, /* 180:  1.5274754e+00 -2.7257814e+00  3.1515667e-01 */
+    { 0xbf5ee7a4,0xc1700000,0xc0ff3ea7 }, /* 181: -8.7072206e-01 -1.5000000e+01 -7.9763980e+00 */
+    { 0x3f42f9dd,0x402bd7c1,0x3ef674d6 }, /* 182:  7.6162511e-01  2.6850436e+00  4.8136014e-01 */
+    { 0x3f2f3788,0x400995e7,0x3ee29c3e }, /* 183:  6.8444109e-01  2.1497743e+00  4.4259828e-01 */
+    { 0x7d430b01,0xc05be69c,0x00000000 }, /* 184:  1.6203537e+37 -3.4359503e+00  0.0000000e+00 */
+    { 0xbf51dda2,0xc1000000,0x409cde76 }, /* 185: -8.1978810e-01 -8.0000000e+00  4.9021559e+00 */
+    { 0xbf0d977a,0xc1600000,0x45794b05 }, /* 186: -5.5309260e-01 -1.4000000e+01  3.9886887e+03 */
+    { 0xbefab240,0xc0e00000,0xc31433be }, /* 187: -4.8964119e-01 -7.0000000e+00 -1.4820212e+02 */
+    { 0x3e05280a,0xbfc1f967,0x41b00f6b }, /* 188:  1.3003555e-01 -1.5154237e+00  2.2007528e+01 */
+    { 0x3f4681ff,0x3ff9c34c,0x3f1bd8c4 }, /* 189:  7.7542108e-01  1.9512725e+00  6.0877633e-01 */
+    { 0xbf8d1157,0x41300000,0xc03a7493 }, /* 190: -1.1020917e+00  1.1000000e+01 -2.9133651e+00 */
+    { 0x3f6d8c91,0x405a722b,0x3f4650b4 }, /* 191:  9.2792612e-01  3.4132183e+00  7.7466893e-01 */
+    { 0x3ffcfe87,0xbfdaae6b,0x3e9fdc18 }, /* 192:  1.9765176e+00 -1.7084478e+00  3.1222606e-01 */
+    { 0x40447f34,0xc00cc16c,0x3dadbb97 }, /* 193:  3.0702639e+00 -2.1993055e+00  8.4830455e-02 */
+    { 0xc02c04ec,0xbf800000,0xbebe7d87 }, /* 194: -2.6878004e+00 -1.0000000e+00 -3.7205145e-01 */
+    { 0x3f6d52e2,0x41204cb2,0x3eefb2fc }, /* 195:  9.2704594e-01  1.0018724e+01  4.6816242e-01 */
+    { 0x497de5fd,0x3f6ded54,0x48bef16e }, /* 196:  1.0399678e+06  9.2940259e-01  3.9105144e+05 */
+    { 0x40164f6e,0x40c30613,0x4335ec96 }, /* 197:  2.3485980e+00  6.0944915e+00  1.8192416e+02 */
+    { 0x3f667126,0x3fd498b8,0x3f56f79e }, /* 198:  9.0016401e-01  1.6609106e+00  8.3971584e-01 */
+    { 0xbf722672,0x40a00000,0xbf41d968 }, /* 199: -9.4589913e-01  5.0000000e+00 -7.5722361e-01 */
+    { 0x42eab1d2,0x3ff6730b,0x4616c89d }, /* 200:  1.1734731e+02  1.9253858e+00  9.6501533e+03 */
+    { 0x3efd5f60,0xbe3517db,0x3f90f4fc }, /* 201:  4.9486828e-01 -1.7684881e-01  1.1324763e+00 */
+    { 0x3ef0e1f3,0x3fbb49a5,0x3ea9dfef }, /* 202:  4.7047386e-01  1.4631850e+00  3.3178660e-01 */
+    { 0x3ff0cc80,0x404ff6a8,0x40f96c79 }, /* 203:  1.8812408e+00  3.2494297e+00  7.7944913e+00 */
+    { 0x3f2227b8,0xbfd92c54,0x400ae1a9 }, /* 204:  6.3341856e-01 -1.6966653e+00  2.1700232e+00 */
+    { 0x3fa1f235,0xc00d4214,0x3f1851c9 }, /* 205:  1.2652041e+00 -2.2071581e+00  5.9499794e-01 */
+    { 0x3f9b2831,0xbfbe1eda,0x3f405d4d }, /* 206:  1.2121640e+00 -1.4853165e+00  7.5142366e-01 */
+    { 0x3f9b3cd1,0x3ff3de3a,0x3fb8dc17 }, /* 207:  1.2127935e+00  1.9052193e+00  1.4442166e+00 */
+    { 0x3ee562f0,0xc01fde5d,0x40edc9aa }, /* 208:  4.4802046e-01 -2.4979470e+00  7.4308672e+00 */
+    { 0x3f5efaf2,0xc024df9b,0x3fb6b034 }, /* 209:  8.7101662e-01 -2.5761478e+00  1.4272523e+00 */
+    { 0x3ff38d4e,0x3f1d9bb3,0x3fbe3382 }, /* 210:  1.9027498e+00  6.1565703e-01  1.4859469e+00 */
+    { 0x3d8cc168,0xc00a3dae,0x43a27874 }, /* 211:  6.8728268e-02 -2.1600146e+00  3.2494104e+02 */
+    { 0x3f93649c,0xc0444e13,0x3f26148e }, /* 212:  1.1515079e+00 -3.0672653e+00  6.4875114e-01 */
+    { 0x3fbcab12,0x4003d066,0x400e4c47 }, /* 213:  1.4739707e+00  2.0595946e+00  2.2234056e+00 */
+    { 0x400af11a,0xc01d6f54,0x3e181c6b }, /* 214:  2.1709657e+00 -2.4599199e+00  1.4854591e-01 */
+    { 0x3f9b96ad,0x402a438d,0x3fd7242c }, /* 215:  1.2155358e+00  2.6603730e+00  1.6807914e+00 */
+    { 0x41ed3f98,0xc0329a3e,0x38a37a0b }, /* 216:  2.9656052e+01 -2.7906642e+00  7.7951780e-05 */
+    { 0x3fd0341a,0xc1c83a3a,0x36ace5f2 }, /* 217:  1.6265900e+00 -2.5028431e+01  5.1527686e-06 */
+    { 0x3ee8e67f,0xc022e470,0x40ed9b7a }, /* 218:  4.5488355e-01 -2.5451927e+00  7.4252291e+00 */
+    { 0x3f9b91b8,0xc3cbbb50,0x06216950 }, /* 219:  1.2153845e+00 -4.0746338e+02  3.0358106e-35 */
+    { 0x40103f2e,0xbff231c7,0x3e5c0bae }, /* 220:  2.2538562e+00 -1.8921441e+00  2.1488830e-01 */
+    { 0x3f658243,0xc171689e,0x40a650ff }, /* 221:  8.9651889e-01 -1.5088041e+01  5.1973872e+00 */
+    { 0x3ff8dfe5,0x40597d52,0x411943b5 }, /* 222:  1.9443327e+00  3.3982739e+00  9.5790300e+00 */
+    { 0x3fe7138c,0xc1732a2d,0x3904559f }, /* 223:  1.8052840e+00 -1.5197797e+01  1.2620397e-04 */
+    { 0x3e6a7d09,0x3db5a3ce,0x3f60a079 }, /* 224:  2.2899260e-01  8.8691339e-02  8.7744862e-01 */
+    { 0x3f9a920d,0x3f8ff427,0x3f9e3f56 }, /* 225:  1.2075821e+00  1.1246384e+00  1.2363079e+00 */
+    { 0x3be2bdaf,0xbfcc1094,0x452d84ae }, /* 226:  6.9195847e-03 -1.5942559e+00  2.7762925e+03 */
+    { 0x3f30577a,0x3fd359de,0x3f0a564f }, /* 227:  6.8883479e-01  1.6511800e+00  5.4037946e-01 */
+    { 0x402ab454,0xbfafdb5d,0x3e85045d }, /* 228:  2.6672564e+00 -1.3738819e+00  2.5979891e-01 */
+    { 0x3f03bb39,0x3fddd27c,0x3ea1e365 }, /* 229:  5.1457554e-01  1.7329860e+00  3.1618801e-01 */
+    { 0x3f9de7bf,0x3fc75b0a,0x3fb18350 }, /* 230:  1.2336348e+00  1.5574658e+00  1.3868198e+00 */
+    { 0x41120bf1,0x3de4d864,0x3fa3e0f8 }, /* 231:  9.1279154e+00  1.1174086e-01  1.2803030e+00 */
+    { 0x3e26d317,0x3ffa9fb4,0x3ceaa4c3 }, /* 232:  1.6291462e-01  1.9579988e+00  2.8643018e-02 */
+    { 0x40280b65,0x41012e3e,0x45179ffe }, /* 233:  2.6256955e+00  8.0737896e+00  2.4259995e+03 */
+    { 0xbf8b045f,0x40000000,0x3f96fb7e }, /* 234: -1.0860709e+00  2.0000000e+00  1.1795499e+00 */
+    { 0x3f398c07,0xc1c69ad8,0x45389129 }, /* 235:  7.2479290e-01 -2.4825607e+01  2.9530725e+03 */
+    { 0x3c6e4b4d,0xc02a33f0,0x47964791 }, /* 236:  1.4544320e-02 -2.6594200e+00  7.6943133e+04 */
+    { 0x3f95db26,0xbfad5f6d,0x3f4ec778 }, /* 237:  1.1707504e+00 -1.3544747e+00  8.0773115e-01 */
+    { 0x3f9a62e2,0xbff9032b,0x3f31c807 }, /* 238:  1.2061427e+00 -1.9454092e+00  6.9445843e-01 */
+    { 0x4024f735,0x3fd71c82,0x409d1d79 }, /* 239:  2.5775883e+00  1.6805575e+00  4.9098477e+00 */
+    { 0x3fd7863f,0x3ff0cc33,0x402a8f5e }, /* 240:  1.6837844e+00  1.8812317e+00  2.6650004e+00 */
+    { 0x3ebfe59f,0xbff1848e,0x40cbdc31 }, /* 241:  3.7479874e-01 -1.8868577e+00  6.3706288e+00 */
+    { 0x3f1ede71,0x4074ab5e,0x3e2543a2 }, /* 242:  6.2058169e-01  3.8229594e+00  1.6139081e-01 */
+    { 0x3d73081d,0x3f1b96e6,0x3e37f882 }, /* 243:  5.9333909e-02  6.0777128e-01  1.7965892e-01 */
+    { 0x3db8e47f,0x400903fc,0x3bbe5432 }, /* 244:  9.0279572e-02  2.1408682e+00  5.8083767e-03 */
+    { 0x3e0ca09b,0x3fc8af00,0x3d363037 }, /* 245:  1.3733141e-01  1.5678406e+00  4.4479575e-02 */
+    { 0x3f97e899,0x3fb26f68,0x3fa28336 }, /* 246:  1.1867858e+00  1.3940248e+00  1.2696292e+00 */
+    { 0x3fd86f58,0xc05e9dbb,0x3e24bfa2 }, /* 247:  1.6908979e+00 -3.4783771e+00  1.6088727e-01 */
+    { 0x3e7c858d,0xbf9d0691,0x40b23f5b }, /* 248:  2.4660321e-01 -1.2267629e+00  5.5702338e+00 */
+    { 0x3f68a7f0,0x3ff048bb,0x3f55f006 }, /* 249:  9.0881252e-01  1.8772196e+00  8.3569372e-01 */
+    { 0x3f43d198,0xc1ec1f03,0x452a3974 }, /* 250:  7.6491690e-01 -2.9515142e+01  2.7235908e+03 */
+    { 0x3f44bbdf,0xc03eddaf,0x400c5b8e }, /* 251:  7.6849169e-01 -2.9822805e+00  2.1930881e+00 */
+    { 0x3fa44eb0,0x3f477c5e,0x3f9b7eb8 }, /* 252:  1.2836514e+00  7.7924144e-01  1.2148046e+00 */
+    { 0x3f1ccaad,0xc02b780b,0x406e0710 }, /* 253:  6.1246759e-01 -2.6792018e+00  3.7191811e+00 */
+    { 0x3f1c7efb,0x406d7a59,0x3e24e563 }, /* 254:  6.1131257e-01  3.7105925e+00  1.6103129e-01 */
+    { 0x4a2d5831,0x3ff0379e,0x53964ca3 }, /* 255:  2.8400762e+06  1.8766973e+00  1.2910617e+12 */
+    { 0x3f9bcadb,0xc00d40bb,0x3f25eb47 }, /* 256:  1.2171282e+00 -2.2070758e+00  6.4812130e-01 */
+    { 0xbf888045,0x41300000,0xc001d3d0 }, /* 257: -1.0664145e+00  1.1000000e+01 -2.0285530e+00 */
+    { 0xbf596dec,0xc1100000,0xc08b2350 }, /* 258: -8.4933352e-01 -9.0000000e+00 -4.3480606e+00 */
+    { 0x3f603cc4,0x3f85fecb,0x3f5ed9b0 }, /* 259:  8.7592721e-01  1.0468382e+00  8.7050915e-01 */
+    { 0x3f708918,0xc00c1941,0x3f92b4aa }, /* 260:  9.3959188e-01 -2.1890414e+00  1.1461384e+00 */
+    { 0x440ab448,0xc0486eda,0x312f00c8 }, /* 261:  5.5481689e+02 -3.1317658e+00  2.5466296e-09 */
+    { 0x3ea4baa4,0xbfe0bd57,0x40ea5a55 }, /* 262:  3.2173645e-01 -1.7557782e+00  7.3235269e+00 */
+    { 0x3f645130,0xc01031a5,0x3fa5a625 }, /* 263:  8.9186382e-01 -2.2530301e+00  1.2941328e+00 */
+    { 0x3f6d7b3e,0xbf88774f,0x3f8aab16 }, /* 264:  9.2766178e-01 -1.0661410e+00  1.0833461e+00 */
+    { 0x4001f41f,0x400564ac,0x408c0d42 }, /* 265:  2.0305250e+00  2.0842695e+00  4.3766184e+00 */
+    { 0x3f5cd413,0x40000000,0x3f3e7d30 }, /* 266:  8.6261100e-01  2.0000000e+00  7.4409771e-01 */
+    { 0x3f12f0d0,0x4034f4f5,0x3e551c9a }, /* 267:  5.7398701e-01  2.8274510e+00  2.0811692e-01 */
+    { 0x409024d2,0x400d1e8f,0x41dcfd82 }, /* 268:  4.5044947e+00  2.2049901e+00  2.7623783e+01 */
+    { 0x4005bfee,0x403352d6,0x40fc65a5 }, /* 269:  2.0898395e+00  2.8019309e+00  7.8874078e+00 */
+    { 0x406401a2,0xbfd65821,0x3df3fbc8 }, /* 270:  3.5625997e+00 -1.6745645e+00  1.1913258e-01 */
+    { 0x3f1105b8,0xbf4b42f2,0x3fc8fd01 }, /* 271:  5.6649351e-01 -7.9399025e-01  1.5702211e+00 */
+    { 0x3f1547be,0xbfeed65b,0x402f15a6 }, /* 272:  5.8312595e-01 -1.8659166e+00  2.7356963e+00 */
+    { 0xbf1168e7,0xc1300000,0xc3fbd067 }, /* 273: -5.6800693e-01 -1.1000000e+01 -5.0362814e+02 */
+    { 0x400d77ab,0xbfa2aeb4,0x3ebad56e }, /* 274:  2.2104290e+00 -1.2709565e+00  3.6490959e-01 */
+    { 0xbfb79a25,0x40000000,0x4003adbe }, /* 275: -1.4343916e+00  2.0000000e+00  2.0574794e+00 */
+    { 0x3f6cb26a,0x40108435,0x3f567754 }, /* 276:  9.2459738e-01  2.2580693e+00  8.3775830e-01 */
+    { 0x3f11fdd1,0xc03154c8,0x4097b2ef }, /* 277:  5.7027918e-01 -2.7707996e+00  4.7405925e+00 */
+    { 0x3f98cf3c,0xbff1779f,0x3f37457b }, /* 278:  1.1938243e+00 -1.8864630e+00  7.1590394e-01 */
+    { 0x3f3adf5b,0xc009381c,0x3ffb5b3f }, /* 279:  7.2997063e-01 -2.1440496e+00  1.9637221e+00 */
+    { 0x4022d200,0x40296eba,0x413d8b37 }, /* 280:  2.5440674e+00  2.6473832e+00  1.1846488e+01 */
+    { 0x3e214655,0xbfba6479,0x416c13b4 }, /* 281:  1.5749486e-01 -1.4561912e+00  1.4754810e+01 */
+    { 0x3f68c8e2,0xc00ec3bf,0x3f9e3c70 }, /* 282:  9.0931523e-01 -2.2306974e+00  1.2362194e+00 */
+    { 0x3e63037d,0x410129b4,0x36af7978 }, /* 283:  2.2169299e-01  8.0726814e+00  5.2295472e-06 */
+    { 0x3fa92170,0x3f601b79,0x3fa35c3a }, /* 284:  1.3213329e+00  8.7541920e-01  1.2762520e+00 */
+    { 0x3f72c3f1,0xc04fe7dc,0x3f9816e1 }, /* 285:  9.4830233e-01 -3.2485266e+00  1.1881982e+00 */
+    { 0x407122fd,0x40fb51b9,0x4702aa52 }, /* 286:  3.7677605e+00  7.8537259e+00  3.3450320e+04 */
+    { 0x400006a3,0x40558d9f,0x4121c37f }, /* 287:  2.0004051e+00  3.3367689e+00  1.0110229e+01 */
+    { 0x4012ef0a,0x4009e8d2,0x40bfd4d4 }, /* 288:  2.2958398e+00  2.1548352e+00  5.9947300e+00 */
+    { 0xbf9160b5,0x40c00000,0x40096007 }, /* 289: -1.1357638e+00  6.0000000e+00  2.1464860e+00 */
+    { 0x3f89e70e,0x3c949b4e,0x3f802c53 }, /* 290:  1.0773637e+00  1.8140461e-02  1.0013527e+00 */
+    { 0x40bf4fa5,0xc0511f55,0x3b3e1526 }, /* 291:  5.9784722e+00 -3.2675374e+00  2.9004305e-03 */
+    { 0x405b925c,0x404dd308,0x4252d02c }, /* 292:  3.4308081e+00  3.2160053e+00  5.2703293e+01 */
+    { 0x3c0df549,0x3fc05606,0x3a50cd8d }, /* 293:  8.6644376e-03  1.5026252e+00  7.9651998e-04 */
+    { 0x3f213331,0x3cae3095,0x3f7d7e9d }, /* 294:  6.2968737e-01  2.1263400e-02  9.9021322e-01 */
+    { 0x43e398ed,0xbff5c161,0x3704272b }, /* 295:  4.5519473e+02 -1.9199640e+00  7.8769326e-06 */
+    { 0x3d839f9d,0xc01e9c3e,0x4460ee41 }, /* 296:  6.4269282e-02 -2.4782863e+00  8.9972272e+02 */
+    { 0x3f0dbf1f,0x3fcd0233,0x3ec6a64d }, /* 297:  5.5369753e-01  1.6016296e+00  3.8798752e-01 */
+    { 0x3f930f02,0xbfa929c3,0x3f55186a }, /* 298:  1.1488955e+00 -1.3215870e+00  8.3240378e-01 */
+    { 0x3ec3b365,0x40acb971,0x3bb66171 }, /* 299:  3.8222805e-01  5.3976369e+00  5.5658151e-03 */
+    { 0x3fa157cb,0xbff1b86c,0x3f2556de }, /* 300:  1.2604917e+00 -1.8884406e+00  6.4585674e-01 */
+    { 0x3fe281b4,0xbfd182e5,0x3ec92a4e }, /* 301:  1.7695832e+00 -1.6368071e+00  3.9290088e-01 */
+    { 0xbf8f6d26,0xc1800000,0x3e25cde7 }, /* 302: -1.1205184e+00 -1.6000000e+01  1.6191827e-01 */
+    { 0x3cca158d,0xbf4a1858,0x4194b9e6 }, /* 303:  2.4668479e-02 -7.8943396e-01  1.8590771e+01 */
+    { 0x3f4700d7,0xbe460315,0x3f86635b }, /* 304:  7.7735656e-01 -1.9337113e-01  1.0499071e+00 */
+    { 0x3fe6822e,0x3ff36847,0x4043e26f }, /* 305:  1.8008478e+00  1.9016198e+00  3.0606954e+00 */
+    { 0x3d2e0681,0x40330159,0x3918b703 }, /* 306:  4.2486671e-02  2.7969573e+00  1.4564027e-04 */
+    { 0x3fe34d65,0x3fb04d68,0x400d26cd }, /* 307:  1.7757994e+00  1.3773623e+00  2.2054932e+00 */
+    { 0x3f68f03a,0xc0118971,0x3f9ea696 }, /* 308:  9.0991557e-01 -2.2740138e+00  1.2394588e+00 */
+    { 0x3f633e60,0x3fe1574d,0x3f4f8eb9 }, /* 309:  8.8767052e-01  1.7604767e+00  8.1077152e-01 */
+    { 0x3fd0a1af,0x3f4e95f6,0x3fbddb55 }, /* 310:  1.6299342e+00  8.0697572e-01  1.4832560e+00 */
+    { 0x3f9d6f0d,0x402df632,0x3fe0aabc }, /* 311:  1.2299515e+00  2.7181516e+00  1.7552104e+00 */
+    { 0x4000ebce,0xbfb15784,0x3ec20958 }, /* 312:  2.0143924e+00 -1.3854833e+00  3.7897754e-01 */
+    { 0x3f1ac18a,0x3f4f7416,0x3f2a4152 }, /* 313:  6.0451567e-01  8.1036508e-01  6.6505921e-01 */
+    { 0x3e9b024e,0xc04bb365,0x4233562f }, /* 314:  3.0275196e-01 -3.1828244e+00  4.4834164e+01 */
+    { 0x41d3ce5a,0x3fae6856,0x42adad96 }, /* 315:  2.6475758e+01  1.3625591e+00  8.6839035e+01 */
+    { 0x3ffdab83,0x3fdbf33d,0x404f511c }, /* 316:  1.9817966e+00  1.7183605e+00  3.2393255e+00 */
+    { 0x3f6d9a6a,0xbefab6b7,0x3f84c2bb }, /* 317:  9.2813742e-01 -4.8967525e-01  1.0371927e+00 */
+    { 0x3b0860a8,0x4059f2e1,0x304a9761 }, /* 318:  2.0809565e-03  3.4054492e+00  7.3702294e-10 */
+    { 0xbf70e3db,0xc0c00000,0x3fb863be }, /* 319: -9.4097680e-01 -6.0000000e+00  1.4405439e+00 */
+    { 0x3fca2c39,0x3fdd2496,0x400cf9ee }, /* 320:  1.5794746e+00  1.7276790e+00  2.2027545e+00 */
+    { 0x3f3e1d3a,0xbff36de5,0x3fe16885 }, /* 321:  7.4263346e-01 -1.9017912e+00  1.7610022e+00 */
+    { 0x40155b1e,0x3e6ee057,0x3f9bfa9e }, /* 322:  2.3336864e+00  2.3327766e-01  1.2185857e+00 */
+    { 0x40005f95,0xbbca2350,0x3f7ee734 }, /* 323:  2.0058339e+00 -6.1687604e-03  9.9571538e-01 */
+    { 0xc00b2e56,0xc0400000,0xbdc7207f }, /* 324: -2.1747031e+00 -3.0000000e+00 -9.7229950e-02 */
+    { 0xbf8d62c2,0x40400000,0xbfac80d3 }, /* 325: -1.1045763e+00  3.0000000e+00 -1.3476814e+00 */
+    { 0x3f9d412a,0xc05f80c9,0x3ef98286 }, /* 326:  1.2285511e+00 -3.4922354e+00  4.8732394e-01 */
+    { 0xc085e61b,0x41700000,0xcefb99f7 }, /* 327: -4.1843390e+00  1.5000000e+01 -2.1105857e+09 */
+    { 0x3f9743ff,0x3ee5af42,0x3f89f547 }, /* 328:  1.1817626e+00  4.4860274e-01  1.0777978e+00 */
+    { 0xbf48aa41,0xc1000000,0x40e08a81 }, /* 329: -7.8384787e-01 -8.0000000e+00  7.0169072e+00 */
+    { 0x3e769f8a,0x41614447,0x3107a570 }, /* 330:  2.4084297e-01  1.4079169e+01  1.9739126e-09 */
+    { 0xc1ff06ae,0x40c00000,0x4e7a363c }, /* 331: -3.1878262e+01  6.0000000e+00  1.0494646e+09 */
+    { 0x3f366bec,0xbff29d68,0x3ff34db4 }, /* 332:  7.1258426e-01 -1.8954287e+00  1.9008088e+00 */
+    { 0x3f9522bf,0x413cd8d6,0x40c25382 }, /* 333:  1.1651229e+00  1.1802938e+01  6.0726938e+00 */
+    { 0x3f66dc4b,0x3ff143ee,0x3f52ae86 }, /* 334:  9.0179890e-01  1.8848855e+00  8.2297552e-01 */
+    { 0x3fec655f,0x40577787,0x40fc6ccd }, /* 335:  1.8468436e+00  3.3666704e+00  7.8882813e+00 */
+    { 0x3f92f34f,0xc00d2561,0x3f3cccc9 }, /* 336:  1.1480502e+00 -2.2054064e+00  7.3749977e-01 */
+    { 0x3990e609,0xc03603d9,0x5044967e }, /* 337:  2.7637210e-04 -2.8439848e+00  1.3192788e+10 */
+    { 0x3f105a30,0xbff7493e,0x404195ff }, /* 338:  5.6387615e-01 -1.9319227e+00  3.0247800e+00 */
+    { 0x3f3e0d0e,0x4008df50,0x3f07622e }, /* 339:  7.4238670e-01  2.1386299e+00  5.2884185e-01 */
+    { 0xbfa18f65,0x41400000,0x4182caba }, /* 340: -1.2621886e+00  1.2000000e+01  1.6348988e+01 */
+    { 0x3fe3d6c4,0x3fd58fa2,0x40277d6e }, /* 341:  1.7799916e+00  1.6684458e+00  2.6170306e+00 */
+    { 0x3ff60b5e,0xbff3476b,0x3e93ddaf }, /* 342:  1.9222219e+00 -1.9006170e+00  2.8880069e-01 */
+    { 0x5d3a9471,0xbff31c43,0x06f04f27 }, /* 343:  8.4028094e+17 -1.8993000e+00  9.0394270e-35 */
+    { 0x3e2c320c,0xc0502e3a,0x43a50744 }, /* 344:  1.6815966e-01 -3.2528214e+00  3.3005676e+02 */
+    { 0xbfd11257,0x41000000,0x424aa5c2 }, /* 345: -1.6333722e+00  8.0000000e+00  5.0661873e+01 */
+    { 0x3f09266b,0x41071b57,0x3ba88ab3 }, /* 346:  5.3574246e-01  8.4441748e+00  5.1434874e-03 */
+    { 0x3f038422,0x40cd62cc,0x3c63f51b }, /* 347:  5.1373494e-01  6.4183102e+00  1.3913418e-02 */
+    { 0xbf8f043f,0x40000000,0x3f9fcb7d }, /* 348: -1.1173171e+00  2.0000000e+00  1.2483975e+00 */
+    { 0x3df09b66,0x3fc1e3b4,0x3d1fcee5 }, /* 349:  1.1748390e-01  1.5147614e+00  3.9015669e-02 */
+    { 0x3cd93671,0xc00f9544,0x455726f1 }, /* 350:  2.6515217e-02 -2.2434855e+00  3.4424338e+03 */
+    { 0xc0249705,0x41100000,0xc599c402 }, /* 351: -2.5717175e+00  9.0000000e+00 -4.9205010e+03 */
+    { 0x3f994f45,0x402410bc,0x3fcb46ad }, /* 352:  1.1977316e+00  2.5635214e+00  1.5880944e+00 */
+    { 0xbf8bd5a3,0x41400000,0x4038f0e1 }, /* 353: -1.0924572e+00  1.2000000e+01  2.8897021e+00 */
+    { 0x3f03d4bc,0x402e3e26,0x3e281cfd }, /* 354:  5.1496482e-01  2.7225432e+00  1.6417308e-01 */
+    { 0x402c7613,0x4020d0ba,0x4141251a }, /* 355:  2.6947067e+00  2.5127397e+00  1.2071558e+01 */
+    { 0x3f8c8bd9,0xc03fe90e,0x3f4167cb }, /* 356:  1.0980178e+00 -2.9985995e+00  7.5549001e-01 */
+    { 0xbfb112e7,0xc1300000,0xbce6ace5 }, /* 357: -1.3833894e+00 -1.1000000e+01 -2.8158614e-02 */
+    { 0x3f640580,0x406860da,0x3f282a31 }, /* 358:  8.9070892e-01  3.6309114e+00  6.5689379e-01 */
+    { 0x3df59cbe,0x400ab596,0x3c253f2d }, /* 359:  1.1992787e-01  2.1673331e+00  1.0085863e-02 */
+    { 0x3fa20763,0xbff2eae9,0x3f23a8a5 }, /* 360:  1.2658504e+00 -1.8977939e+00  6.3929206e-01 */
+    { 0xbf54a315,0x41400000,0x3ddcdc33 }, /* 361: -8.3061343e-01  1.2000000e+01  1.0784187e-01 */
+    { 0x3e2dd723,0x3fd6b68f,0x3d51289f }, /* 362:  1.6976599e-01  1.6774462e+00  5.1064130e-02 */
+    { 0x3f6b43ec,0xc047b47f,0x3fa69957 }, /* 363:  9.1900516e-01 -3.1203916e+00  1.3015546e+00 */
+    { 0x4007afb5,0x40409fe2,0x411997fb }, /* 364:  2.1200993e+00  3.0097585e+00  9.5996046e+00 */
+    { 0xbfb889a6,0x41400000,0x42a14300 }, /* 365: -1.4417007e+00  1.2000000e+01  8.0630859e+01 */
+    { 0x3f4037e3,0x3fbf73ea,0x3f26c3c4 }, /* 366:  7.5085276e-01  1.4957249e+00  6.5142465e-01 */
+    { 0x3f18b2b2,0xc00c8fc6,0x404715c1 }, /* 367:  5.9647667e-01 -2.1962752e+00  3.1107028e+00 */
+    { 0x40fcf1de,0xc25c776d,0x00000000 }, /* 368:  7.9045248e+00 -5.5116627e+01  0.0000000e+00 */
+    { 0xbf4d2bcf,0xc0000000,0x3fc746f1 }, /* 369: -8.0144972e-01 -2.0000000e+00  1.5568525e+00 */
+    { 0x3f304bd5,0xc30a7929,0x64b75566 }, /* 370:  6.8865710e-01 -1.3847328e+02  2.7055262e+22 */
+    { 0x3f98bb4e,0x42b2cb21,0x4adc4940 }, /* 371:  1.1932161e+00  8.9396736e+01  7.2183360e+06 */
+    { 0x3fe4a1f0,0xc0580c01,0x3e107f28 }, /* 372:  1.7861919e+00 -3.3757327e+00  1.4111006e-01 */
+    { 0x3fa0651f,0xbfc6a70e,0x3f345fff }, /* 373:  1.2530860e+00 -1.5519731e+00  7.0458978e-01 */
+    { 0x3d78767f,0x41a5703a,0x15a7a407 }, /* 374:  6.0659882e-02  2.0679798e+01  6.7709552e-26 */
+    { 0x40522c68,0xc04f6168,0x3cadd179 }, /* 375:  3.2839603e+00 -3.2403202e+00  2.1218048e-02 */
+    { 0x3f8f0989,0x40273fff,0x3fab1bde }, /* 376:  1.1174785e+00  2.6132810e+00  1.3367879e+00 */
+    { 0x3f918cac,0x4029a975,0x3fb3f184 }, /* 377:  1.1371055e+00  2.6509678e+00  1.4058080e+00 */
+    { 0xbf8d9d42,0x40c00000,0x3feabe33 }, /* 378: -1.1063616e+00  6.0000000e+00  1.8339294e+00 */
+    { 0x18354a93,0xbcdca068,0x408a88cd }, /* 379:  2.3431352e-24 -2.6931956e-02  4.3291993e+00 */
+    { 0x40816fa3,0xc009484f,0x3d4c6bac }, /* 380:  4.0448775e+00 -2.1450384e+00  4.9907371e-02 */
+    { 0x3ecd7481,0xc00e09c5,0x40f2cb58 }, /* 381:  4.0127948e-01 -2.2193463e+00  7.5873222e+00 */
+    { 0x3f954070,0xc121375d,0x3e59d6c5 }, /* 382:  1.1660290e+00 -1.0076016e+01  2.1273334e-01 */
+    { 0x40a8f73e,0xbfdc78d9,0x3d692755 }, /* 383:  5.2801809e+00 -1.7224380e+00  5.6922276e-02 */
+    { 0x3ffade69,0x3ff12b62,0x406366d6 }, /* 384:  1.9599124e+00  1.8841364e+00  3.5531516e+00 */
+    { 0x4102f9cb,0x400cfd71,0x42cd59da }, /* 385:  8.1859846e+00  2.2029688e+00  1.0267549e+02 */
+    { 0x4008c695,0x3ff9c99c,0x408cdd2a }, /* 386:  2.1371205e+00  1.9514651e+00  4.4019976e+00 */
+    { 0x414712da,0xbfcf9a5e,0x3c8945c1 }, /* 387:  1.2442102e+01 -1.6218984e+00  1.6756894e-02 */
+    { 0xbf5c2645,0xc1800000,0x4132d849 }, /* 388: -8.5995895e-01 -1.6000000e+01  1.1177804e+01 */
+    { 0x3f9b60ec,0xc02b9843,0x3f183e14 }, /* 389:  1.2138953e+00 -2.6811683e+00  5.9469724e-01 */
+    { 0x4070366e,0xbfc2b7a0,0x3e08ecbe }, /* 390:  3.7533221e+00 -1.5212288e+00  1.3371560e-01 */
+    { 0xbf449c44,0xc1500000,0xc1f75b7c }, /* 391: -7.6800942e-01 -1.3000000e+01 -3.0919670e+01 */
+    { 0x4105b843,0x3fc892cc,0x41ded335 }, /* 392:  8.3574858e+00  1.5669799e+00  2.7853128e+01 */
+    { 0xbf3e4bda,0x41300000,0xbd1cd6c7 }, /* 393: -7.4334490e-01  1.1000000e+01 -3.8290765e-02 */
+    { 0x3f92e5af,0x3ffa6f87,0x3fa79400 }, /* 394:  1.1476344e+00  1.9565285e+00  1.3092041e+00 */
+    { 0x3f6698ab,0x3feb4d73,0x3f5340e9 }, /* 395:  9.0076703e-01  1.8383011e+00  8.2520920e-01 */
+    { 0x3f5f2578,0xc0f2b40c,0x403561e9 }, /* 396:  8.7166548e-01 -7.5844784e+00  2.8341010e+00 */
+    { 0xbf1478d2,0xc0a00000,0xc173d5ff }, /* 397: -5.7996857e-01 -5.0000000e+00 -1.5239745e+01 */
+    { 0x3f92134e,0xc05a034a,0x3f233cf6 }, /* 398:  1.1412141e+00 -3.4064507e+00  6.3764894e-01 */
+    { 0x3e7478ea,0xbf6f2690,0x4073f414 }, /* 399:  2.3874250e-01 -9.3418217e-01  3.8117723e+00 */
+    { 0x3f69d4a6,0xc05761d5,0x3fad9e82 }, /* 400:  9.1340101e-01 -3.3653462e+00  1.3563998e+00 */
+    { 0x3eff4711,0x3fd71cbc,0x3e9ef792 }, /* 401:  4.9858907e-01  1.6805644e+00  3.1048256e-01 */
+    { 0xbfae475d,0x40e00000,0xc10aca82 }, /* 402: -1.3615528e+00  7.0000000e+00 -8.6744404e+00 */
+    { 0x3f6848fc,0x3fc9199b,0x3f5bbda0 }, /* 403:  9.0736365e-01  1.5710939e+00  8.5836220e-01 */
+    { 0x40cb2869,0xc0233a19,0x3c12f931 }, /* 404:  6.3486829e+00 -2.5504210e+00  8.9705447e-03 */
+    { 0x3ef65181,0xbff4aa8b,0x40819614 }, /* 405:  4.8109058e-01 -1.9114546e+00  4.0495701e+00 */
+    { 0x3ed32d9c,0x40518c7f,0x3d617109 }, /* 406:  4.1245735e-01  3.2742002e+00  5.5039439e-02 */
+    { 0x3f63992b,0xbfd15a04,0x3f9b2547 }, /* 407:  8.8905591e-01 -1.6355596e+00  1.2120751e+00 */
+    { 0x3e91bc86,0xc04be9c1,0x425b26b1 }, /* 408:  2.8464144e-01 -3.1861422e+00  5.4787785e+01 */
+    { 0x3f28f9aa,0x3fd80cf4,0x3efdf2bf }, /* 409:  6.6005957e-01  1.6878953e+00  4.9599263e-01 */
+    { 0x400c924c,0x3f887192,0x40140f75 }, /* 410:  2.1964293e+00  1.0659659e+00  2.3134434e+00 */
+    { 0x3fdc26d2,0x3f4f8004,0x3fc6a826 }, /* 411:  1.7199347e+00  8.1054711e-01  1.5520065e+00 */
+    { 0x3f722be3,0x403c577a,0x3f596767 }, /* 412:  9.4598216e-01  2.9428391e+00  8.4923404e-01 */
+    { 0x401c0a41,0x3fd2ced3,0x408ade99 }, /* 413:  2.4381258e+00  1.6469368e+00  4.3396726e+00 */
+    { 0x3f380aac,0xc0082699,0x40012559 }, /* 414:  7.1891284e-01 -2.1273558e+00  2.0179045e+00 */
+    { 0xbf8fdcdf,0x41200000,0x404ddb47 }, /* 415: -1.1239280e+00  1.0000000e+01  3.2165086e+00 */
+    { 0x3f5f5be5,0xbf4e0132,0x3f8ed969 }, /* 416:  8.7249595e-01 -8.0470574e-01  1.1160098e+00 */
+    { 0x3f6bf12d,0xbff69b30,0x3f95c9dd }, /* 417:  9.2164880e-01 -1.9266109e+00  1.1702229e+00 */
+    { 0xbe678780,0xc0a00000,0xc4d388af }, /* 418: -2.2610283e-01 -5.0000000e+00 -1.6922714e+03 */
+    { 0x3f668cd9,0xbfb9a5ab,0x3f94fe1c }, /* 419:  9.0058666e-01 -1.4503683e+00  1.1640048e+00 */
+    { 0x4006c14a,0x4028ba6a,0x40e3db64 }, /* 420:  2.1055474e+00  2.6363778e+00  7.1205311e+00 */
+    { 0x3fdea740,0xbff4f451,0x3eb17de7 }, /* 421:  1.7394791e+00 -1.9137059e+00  3.4666368e-01 */
+    { 0x3fe294fe,0xbfa95928,0x3ef08325 }, /* 422:  1.7701719e+00 -1.3230333e+00  4.6975055e-01 */
+    { 0x3f89970f,0xbed4c716,0x3f786d85 }, /* 423:  1.0749224e+00 -4.1558141e-01  9.7042114e-01 */
+    { 0x3f9d0885,0x4105a3b0,0x40b07af1 }, /* 424:  1.2268225e+00  8.3524628e+00  5.5150075e+00 */
+    { 0x3f9ed63f,0xbfc9a5c2,0x3f3634b6 }, /* 425:  1.2409133e+00 -1.5753710e+00  7.1174181e-01 */
+    { 0x3ed61be7,0xc038759b,0x41456e23 }, /* 426:  4.1818163e-01 -2.8821781e+00  1.2339389e+01 */
+    { 0x3f630155,0x4041351b,0x3f32175d }, /* 427:  8.8673908e-01  3.0188663e+00  6.9566900e-01 */
+    { 0x3eaf6be0,0xbf8d6641,0x4050f5f1 }, /* 428:  3.4261990e-01 -1.1046830e+00  3.2650111e+00 */
+    { 0x3f65c70a,0x400e963d,0x3f493928 }, /* 429:  8.9756835e-01  2.2279198e+00  7.8602839e-01 */
+    { 0xbfe7cee2,0xc1800000,0x389ca66c }, /* 430: -1.8110011e+00 -1.6000000e+01  7.4696582e-05 */
+    { 0xc0799109,0xc0800000,0x3b8db7c1 }, /* 431: -3.8994772e+00 -4.0000000e+00  4.3248837e-03 */
+    { 0x3f9dbcf8,0x407981bf,0x4010813d }, /* 432:  1.2323294e+00  3.8985441e+00  2.2578881e+00 */
+    { 0x3ce91caa,0xbfd10165,0x43a723ae }, /* 433:  2.8456051e-02 -1.6328551e+00  3.3427875e+02 */
+    { 0x4005f838,0xbf692d82,0x3f029f24 }, /* 434:  2.0932751e+00 -9.1085064e-01  5.1024079e-01 */
+    { 0xbf795c25,0xbf800000,0xbf83688f }, /* 435: -9.7406226e-01 -1.0000000e+00 -1.0266284e+00 */
+    { 0xbf32c6b0,0xc0e00000,0xc14587b0 }, /* 436: -6.9834423e-01 -7.0000000e+00 -1.2345627e+01 */
+    { 0x3fd91846,0x4033d729,0x408d36b1 }, /* 437:  1.6960533e+00  2.8100073e+00  4.4129262e+00 */
+    { 0x3f380dd4,0xc00e7f1a,0x40056bf8 }, /* 438:  7.1896100e-01 -2.2265077e+00  2.0847149e+00 */
+    { 0x405c2404,0x3ff55c49,0x412ad483 }, /* 439:  3.4396982e+00  1.9168788e+00  1.0676883e+01 */
+    { 0x40186c1e,0x400d0106,0x40d8808d }, /* 440:  2.3815989e+00  2.2031875e+00  6.7656922e+00 */
+    { 0x403954a0,0x4010b7ba,0x41311f65 }, /* 441:  2.8957901e+00  2.2612138e+00  1.1070165e+01 */
+    { 0xbf3c3b42,0xc1100000,0xc17eb647 }, /* 442: -7.3527920e-01 -9.0000000e+00 -1.5919501e+01 */
+    { 0x3fda815d,0x40566e62,0x40c000b6 }, /* 443:  1.7070729e+00  3.3504872e+00  6.0000868e+00 */
+    { 0x3fa0dfd2,0xbf6f2d79,0x3f4ec50e }, /* 444:  1.2568305e+00 -9.3428761e-01  8.0769432e-01 */
+    { 0xc1265d78,0x40800000,0x4636a31c }, /* 445: -1.0397820e+01  4.0000000e+00  1.1688777e+04 */
+    { 0x3f645ef5,0x40505af3,0x3f30825c }, /* 446:  8.9207393e-01  3.2555511e+00  6.8948913e-01 */
+    { 0x3d7c7db8,0xbfd0f72a,0x42bd0e98 }, /* 447:  6.1643332e-02 -1.6325428e+00  9.4528503e+01 */
+    { 0x3d9077c7,0xc008046a,0x438c11b2 }, /* 448:  7.0540957e-02 -2.1252694e+00  2.8013824e+02 */
+    { 0x412417d4,0x3f73e0bd,0x4112f776 }, /* 449:  1.0255817e+01  9.5264798e-01  9.1854153e+00 */
+    { 0x6464354c,0xbfd354f0,0x0288f40b }, /* 450:  1.6838792e+22 -1.6510296e+00  2.0123478e-37 */
+#if 0	/* 8kB is too small	*/
+    { 0x3eb8ca23,0x3f95a778,0x3e9b86a1 }, /* 451:  3.6091718e-01  1.1691732e+00  3.0376151e-01 */
+    { 0x40188091,0x40074b47,0x40c89849 }, /* 452:  2.3828471e+00  2.1139696e+00  6.2685895e+00 */
+    { 0x3fc0edb8,0xbf775d9b,0x3f2c3641 }, /* 453:  1.5072546e+00 -9.6627206e-01  6.7270285e-01 */
+    { 0x3eef43db,0xbfb64b6e,0x403d1c30 }, /* 454:  4.6731457e-01 -1.4241769e+00  2.9548454e+00 */
+    { 0x40599c39,0xbfd70c88,0x3e03059b }, /* 455:  3.4001601e+00 -1.6800699e+00  1.2795107e-01 */
+    { 0x3f8228b5,0xbfd7c3c1,0x3f78e1fe }, /* 456:  1.0168673e+00 -1.6856614e+00  9.7219837e-01 */
+    { 0x3f8fa396,0x3ffb1ab5,0x3fa07acd }, /* 457:  1.1221797e+00  1.9617525e+00  1.2537476e+00 */
+    { 0x404dd60a,0x3fdd618d,0x40f15553 }, /* 458:  3.2161889e+00  1.7295395e+00  7.5416656e+00 */
+    { 0x40a03874,0xbfdee0ee,0x3d77e1b4 }, /* 459:  5.0068913e+00 -1.7412393e+00  6.0517982e-02 */
+    { 0xbfcc4d01,0x00000000,0x3f800000 }, /* 460: -1.5961000e+00  0.0000000e+00  1.0000000e+00 */
+    { 0x3e771481,0x402a3e78,0x3cba9882 }, /* 461:  2.4128915e-01  2.6600628e+00  2.2777800e-02 */
+    { 0x3e86cd49,0xbff73fa6,0x4152b073 }, /* 462:  2.6328495e-01 -1.9316299e+00  1.3168078e+01 */
+    { 0x3f49d267,0x44f05c52,0x00000000 }, /* 463:  7.8836673e-01  1.9228850e+03  0.0000000e+00 */
+    { 0x3f776739,0x40472b48,0x3f662f00 }, /* 464:  9.6641880e-01  3.1120167e+00  8.9915466e-01 */
+    { 0x3fddabb8,0xc009c44d,0x3e9cfddf }, /* 465:  1.7318029e+00 -2.1526062e+00  3.0662438e-01 */
+    { 0x3f05cca7,0x4009e6fe,0x3e7d015a }, /* 466:  5.2265400e-01  2.1547236e+00  2.4707547e-01 */
+    { 0xc0bb8283,0xc1700000,0xac556fd9 }, /* 467: -5.8596816e+00 -1.5000000e+01 -3.0331208e-12 */
+    { 0x3f0b3dbb,0x3fd1369d,0x3ebd3b79 }, /* 468:  5.4391068e-01  1.6344792e+00  3.6959437e-01 */
+    { 0xbf21cb7d,0xc1200000,0x42c4b09c }, /* 469: -6.3201123e-01 -1.0000000e+01  9.8344940e+01 */
+    { 0x3f943aac,0x3ff18326,0x3fa8d403 }, /* 470:  1.1580405e+00  1.8868148e+00  1.3189701e+00 */
+    { 0x3f6496d7,0x40244723,0x3f3f6c08 }, /* 471:  8.9292663e-01  2.5668418e+00  7.4774218e-01 */
+    { 0x3f9b1367,0xbfefe547,0x3f32ac0b }, /* 472:  1.2115296e+00 -1.8741845e+00  6.9793767e-01 */
+    { 0x3f9b509b,0x4288c275,0x4907710b }, /* 473:  1.2133974e+00  6.8379799e+01  5.5476869e+05 */
+    { 0x3ff928f0,0xbf697ee8,0x3f0b71b9 }, /* 474:  1.9465618e+00 -9.1209269e-01  5.4470402e-01 */
+    { 0xbfe421c3,0xc1300000,0xbae3642a }, /* 475: -1.7822803e+00 -1.1000000e+01 -1.7348577e-03 */
+    { 0xbf644a55,0xc0400000,0xbfb47eee }, /* 476: -8.9175922e-01 -3.0000000e+00 -1.4101236e+00 */
+    { 0x41bca9a4,0x409fcabd,0x4ada132e }, /* 477:  2.3582832e+01  4.9934983e+00  7.1458790e+06 */
+    { 0x3f0d30fe,0xbfef9b96,0x4042f601 }, /* 478:  5.5152881e-01 -1.8719356e+00  3.0462649e+00 */
+    { 0x3e8603de,0xbfda9928,0x411ddacc }, /* 479:  2.6174825e-01 -1.7077990e+00  9.8659172e+00 */
+    { 0x3f7061d2,0xc025c978,0x3f96ab7e }, /* 480:  9.3899262e-01 -2.5904217e+00  1.1771085e+00 */
+    { 0xbf715298,0x41600000,0x3ee004a5 }, /* 481: -9.4266653e-01  1.4000000e+01  4.3753543e-01 */
+    { 0x3f110192,0x400d666a,0x3e91d71f }, /* 482:  5.6643021e-01  2.2093759e+00  2.8484437e-01 */
+    { 0xbf42ece9,0xc1600000,0x4235a916 }, /* 483: -7.6142746e-01 -1.4000000e+01  4.5415123e+01 */
+    { 0x40f55ac2,0xc04aff8a,0x3acce7e5 }, /* 484:  7.6673288e+00 -3.1718469e+00  1.5633075e-03 */
+    { 0x407d40c6,0x3ff27b33,0x4158a8cb }, /* 485:  3.9570785e+00  1.8943847e+00  1.3541209e+01 */
+    { 0x3fc86c96,0x3fd08fdf,0x4004e37a }, /* 486:  1.5658138e+00  1.6293906e+00  2.0763841e+00 */
+    { 0x3ffe19eb,0xbfc75de5,0x3eaff803 }, /* 487:  1.9851660e+00 -1.5575529e+00  3.4368905e-01 */
+    { 0x3ea4490d,0x3faaacc5,0x3e60ed1e }, /* 488:  3.2086983e-01  1.3333975e+00  2.1965453e-01 */
+    { 0x4200b0a5,0x3fcf8c0a,0x438b1739 }, /* 489:  3.2172504e+01  1.6214612e+00  2.7818143e+02 */
+    { 0x3f0ed916,0xbf9f8b22,0x40046ddd }, /* 490:  5.5799997e-01 -1.2464335e+00  2.0692055e+00 */
+    { 0x3ff42cd6,0xbfd125d8,0x3eb23847 }, /* 491:  1.9076183e+00 -1.6339674e+00  3.4808561e-01 */
+    { 0x3efc3034,0x400e3336,0x3e544fb2 }, /* 492:  4.9255526e-01  2.2218757e+00  2.0733526e-01 */
+    { 0x4015c044,0xc03fdae8,0x3da02cf0 }, /* 493:  2.3398600e+00 -2.9977360e+00  7.8210711e-02 */
+    { 0x3f447be0,0xbff60d6c,0x3fd4dd99 }, /* 494:  7.6751518e-01 -1.9222846e+00  1.6630126e+00 */
+    { 0xbf716605,0x00000000,0x3f800000 }, /* 495: -9.4296294e-01  0.0000000e+00  1.0000000e+00 */
+    { 0xbf4c2254,0x41200000,0x3dd4db1e }, /* 496: -7.9739881e-01  1.0000000e+01  1.0393356e-01 */
+    { 0x40468aa3,0x402c18e5,0x41a7f594 }, /* 497:  3.1022117e+00  2.6890194e+00  2.0994911e+01 */
+    { 0x3f8f8ad2,0x40337225,0x3fb0813f }, /* 498:  1.1214240e+00  2.8038418e+00  1.3789443e+00 */
+    { 0x3fba6171,0xc03d3244,0x3ea8987f }, /* 499:  1.4560987e+00 -2.9561930e+00  3.2928845e-01 */
+    { 0x3f68da1a,0xc007928d,0x3f9c7578 }, /* 500:  9.0957797e-01 -2.1183197e+00  1.2223349e+00 */
+#endif
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]:  %#lx\n", index - 1, v.lo);
+#endif
+    exit (index ? index : -1);
+}
+
+int main ()
+{
+    union lofl_u x, y, z;
+    unsigned long v1, z1, r;
+    int i;
+    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	x.lo = pgm_read_dword (& t[i].x);
+	y.lo = pgm_read_dword (& t[i].y);
+	z.lo = pgm_read_dword (& t[i].z);
+	v.fl = pow (x.fl, y.fl);
+	
+	v1 = (v.lo < 0) ? (unsigned long)~(v.lo) : v.lo + 0x80000000;
+	z1 = (z.lo < 0) ? (unsigned long)~(z.lo) : z.lo + 0x80000000;
+	r = (v1 >= z1) ? v1 - z1 : z1 - v1;
+	
+	if (r > 260) x_exit (i+1);
+    }
+    return 0;
+}
diff --git a/tests/simulate/math/pow-nan.c b/tests/simulate/math/pow-nan.c
new file mode 100644
index 0000000..5e9cc56
--- /dev/null
+++ b/tests/simulate/math/pow-nan.c
@@ -0,0 +1,181 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of pow() function. Invalid args.
+   $Id$
+ */
+#include <math.h>
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+volatile union lofl_u v = { 1 };
+
+PROGMEM const struct {		/* Table of test cases.	*/
+    union lofl_u x, y;		/* args.	*/
+} t[] = {
+
+    /* pow (NaN, finite) --> NaN	*/
+    { { 0x7f800001 }, { 0x3f800000 } },
+    { { 0x7f800100 }, { 0x3f800000 } },
+    { { 0x7f810000 }, { 0x3f800000 } },
+    { { 0x7fc00000 }, { 0x3f800000 } },
+    { { 0x7fffffff }, { 0x3f800000 } },
+
+    { { 0xff800001 }, { 0x3f800000 } },
+    { { 0xff800100 }, { 0x3f800000 } },
+    { { 0xff810000 }, { 0x3f800000 } },
+    { { 0xffc00000 }, { 0x3f800000 } },
+    { { 0xffffffff }, { 0x3f800000 } },
+
+/*  { { 0x7fc00000 }, { 0x00000000 } },	    Glibc: pow(NaN,0) --> 1	*/
+    { { 0x7fc00000 }, { 0x00000001 } },
+    { { 0x7fc00000 }, { 0x00800000 } },
+    { { 0x7fc00000 }, { 0x7f7fffff } },
+
+/*  { { 0x7fc00000 }, { 0x80000000 } },	    Glibc: pow(NaN,-0) --> 1	*/
+    { { 0x7fc00000 }, { 0x80000001 } },
+    { { 0x7fc00000 }, { 0x80800000 } },
+    { { 0x7fc00000 }, { 0xff7fffff } },
+
+    /* pow (finite, NaN) --> NaN	*/
+    { { 0x3f800001 }, { 0x7f800001 } },
+    { { 0x3f800001 }, { 0x7f800100 } },
+    { { 0x3f800001 }, { 0x7f810000 } },
+    { { 0x3f800001 }, { 0x7fc00000 } },
+    { { 0x3f800001 }, { 0x7fffffff } },
+
+    { { 0x3f800001 }, { 0xff800001 } },
+    { { 0x3f800001 }, { 0xff800100 } },
+    { { 0x3f800001 }, { 0xff810000 } },
+    { { 0x3f800001 }, { 0xffc00000 } },
+    { { 0x3f800001 }, { 0xffffffff } },
+    
+    { { 0x00000001 }, { 0x7fc00000 } },
+    { { 0x00800000 }, { 0x7fc00000 } },
+    { { 0x7f7fffff }, { 0x7fc00000 } },
+
+    { { 0x80000001 }, { 0x7fc00000 } },
+    { { 0x80800000 }, { 0x7fc00000 } },
+    { { 0xff7fffff }, { 0x7fc00000 } },
+    
+/*  { { 0x3f800000 }, { 0x7fc00000 } },	    Glibc: pow(1,NaN) --> 1	*/
+    
+    /* pow (-1, NaN) --> NaN	*/
+    { { 0xbf800000 }, { 0x7fc00000 } },
+
+    /* pow (0, NaN) --> NaN	*/
+    { { 0x00000000 }, { 0x7fc00000 } },
+    { { 0x80000000 }, { 0x7fc00000 } },
+
+    /* pow (NaN, NaN) --> NaN	*/
+    { { 0x7fc00000 }, { 0x7fc00000 } },
+    
+    /* pow (negative, nonintegral)  -->  NaN	*/
+    { { 0x80000001 }, { .fl= 1.1 } },
+    { { 0x807fffff }, { .fl= 1.1 } },
+    { { 0x80800000 }, { .fl= 1.1 } },
+    { { 0xbf800000 }, { .fl= 1.1 } },
+    { { 0xff7fffff }, { .fl= 1.1 } },
+
+#if 0
+    /* fmod (finite, 0) --> NaN	*/
+    { { 0x00000001 }, { 0x00000000 } },
+    { { 0x007fffff }, { 0x00000000 } },
+    { { 0x00800000 }, { 0x00000000 } },
+    { { 0x7f7fffff }, { 0x00000000 } },
+    { { 0x3f800000 }, { 0x80000000 } },
+    { { 0xbf800000 }, { 0x00000000 } },
+    { { 0xbf800000 }, { 0x80000000 } },
+    
+    /* fmod (Inf, 0) --> NaN	*/
+    { { 0x7f800000 }, { 0x00000000 } },
+    { { 0x7f800000 }, { 0x80000000 } },
+    { { 0xff800000 }, { 0x00000000 } },
+    { { 0xff800000 }, { 0x80000000 } },
+    
+    /* fmod (Inf, Inf) --> NaN	*/
+    { { 0x7f800000 }, { 0x7f800000 } },
+    { { 0x7f800000 }, { 0xff800000 } },
+    { { 0xff800000 }, { 0x7f800000 } },
+    { { 0xff800000 }, { 0xff800000 } },
+
+    /* fmod (NaN, 1) --> NaN	*/
+    { { 0x7f800001 }, { 0x3f800000 } },
+    { { 0x7f800100 }, { 0x3f800000 } },
+    { { 0x7f810000 }, { 0x3f800000 } },
+    { { 0x7fc00000 }, { 0x3f800000 } },
+    { { 0x7fffffff }, { 0x3f800000 } },
+    { { 0xff800001 }, { 0x3f800000 } },
+    { { 0xff800100 }, { 0x3f800000 } },
+    { { 0xff810000 }, { 0x3f800000 } },
+    { { 0xffc00000 }, { 0x3f800000 } },
+    { { 0xffffffff }, { 0x3f800000 } },
+
+    /* fmod (1, NaN) --> NaN	*/
+    { { 0x3f800000 }, { 0x7f800001 } },
+    { { 0x3f800000 }, { 0x7f800100 } },
+    { { 0x3f800000 }, { 0x7f810000 } },
+    { { 0x3f800000 }, { 0x7fc00000 } },
+    { { 0x3f800000 }, { 0x7fffffff } },
+    { { 0x3f800000 }, { 0xff800001 } },
+    { { 0x3f800000 }, { 0xff800100 } },
+    { { 0x3f800000 }, { 0xff810000 } },
+    { { 0x3f800000 }, { 0xffc00000 } },
+    { { 0x3f800000 }, { 0xffffffff } },
+#endif
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]:  %#lx\n", index - 1, v.lo);
+#endif
+    exit (index ? index : -1);
+}
+
+int main ()
+{
+    union lofl_u x, y;
+    int i;
+    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	x.lo = pgm_read_dword (& t[i].x);
+	y.lo = pgm_read_dword (& t[i].y);
+	v.fl = pow (x.fl, y.fl);
+	if (!isnan(v.fl))
+	    x_exit (i+1);
+    }
+    return 0;
+}
diff --git a/tests/simulate/math/round-01.c b/tests/simulate/math/round-01.c
new file mode 100644
index 0000000..50f3d16
--- /dev/null
+++ b/tests/simulate/math/round-01.c
@@ -0,0 +1,210 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of round() function.
+   NaN-argument is tested at another place: xxx-nan.c
+   $Id$
+ */
+#include <math.h>
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+volatile union lofl_u v = { .lo = 1 };
+
+PROGMEM const struct {		/* Table of test cases.	*/
+    union lofl_u x;		/* argument	*/
+    union lofl_u z;		/* round(x)	*/
+} t[] = {
+
+    /* Zero	*/
+    { { .fl= +0.0 },	{ .fl= +0.0 } },
+    { { .fl= -0.0 },	{ .fl= -0.0 } },
+
+    /* Normal	*/
+    { { .fl= 0.1 },		{ .fl= 0.0 } },
+    { { .fl= 0.5 },		{ .fl= 1.0 } },
+    { { .fl= 0.9 },		{ .fl= 1.0 } },
+    { { .fl= 1.49999 },		{ .fl= 1.0 } },
+    { { .fl= 1.5 },		{ .fl= 2.0 } },
+    { { .fl= 1.9 },		{ .fl= 2.0 } },
+    { { .fl= 2.5 },		{ .fl= 3.0 } },
+    { { .fl= 1000000.5 },	{ .fl= 1000001.0 } },
+    { { .fl= -0.1 },		{ .fl= -0.0 } },
+    { { .fl= -0.5 },		{ .fl= -1.0 } },
+    { { .fl= -0.9 },		{ .fl= -1.0 } },
+    { { .fl= -1.49999 },	{ .fl= -1.0 } },
+    { { .fl= -1.5 },		{ .fl= -2.0 } },
+    { { .fl= -1.9 },		{ .fl= -2.0 } },
+    { { .fl= -2.5 },		{ .fl= -3.0 } },
+    { { .fl= -1000000.5 },	{ .fl= -1000001.0 } },
+
+    /* Inf	*/
+    { { 0x7f800000 },	{ 0x7f800000 } },
+    { { 0xff800000 },	{ 0xff800000 } },
+    
+    /* Subnormal	*/
+    { { 0x00000001 }, { 0x00000000 } },
+    { { 0x00000100 }, { 0x00000000 } },
+    { { 0x00010000 }, { 0x00000000 } },
+    { { 0x007fffff }, { 0x00000000 } },
+    { { 0x80000001 }, { .fl= -0.0 } },
+    { { 0x80000100 }, { .fl= -0.0 } },
+    { { 0x80010000 }, { .fl= -0.0 } },
+    { { 0x807fffff }, { .fl= -0.0 } },
+    
+    /* Margin values (positive).	*/
+    { { 0x00800000 }, { .fl= 0.0 } },		/* near 0.0	*/
+
+    { { 0x3effffff }, { .fl= 0.0 } },
+    { { 0x3f000000 }, { .fl= 1.0 } },		/* 0.5	*/
+    { { 0x3f000001 }, { .fl= 1.0 } },
+
+    { { 0x3f7fffff }, { .fl= 1.0 } },
+    { { 0x3f800000 }, { .fl= 1.0 } },		/* 1.0	*/
+    { { 0x3f800001 }, { .fl= 1.0 } },
+
+    { { 0x3fbfffff }, { .fl= 1.0 } },
+    { { 0x3fc00000 }, { .fl= 2.0 } },		/* 1.5	*/
+    { { 0x3fc00001 }, { .fl= 2.0 } },
+
+    { { 0x401fffff }, { .fl= 2.0 } },
+    { { 0x40200000 }, { .fl= 3.0 } },		/* 2.5	*/
+    { { 0x40200001 }, { .fl= 3.0 } },
+
+    { { .fl= 0x0.fffffep+23 }, { .fl= 0x0.fffffep+23 } },
+    { { .fl= 0x0.ffffffp+23 }, { .fl= 0x1.000000p+23 } },
+    { { .fl= 0x1.000000p+23 }, { .fl= 0x1.000000p+23 } },
+
+    { { 0x7f7fffff }, { 0x7f7fffff } },		/* the biggest normal */
+
+    /* Margin values (negative).	*/
+    { { 0x80800000 }, { .fl= -0.0 } },		/* near 0.0	*/
+
+    { { 0xbeffffff }, { .fl= -0.0 } },
+    { { 0xbf000000 }, { .fl= -1.0 } },		/* -0.5	*/
+    { { 0xbf000001 }, { .fl= -1.0 } },
+
+    { { 0xbf7fffff }, { .fl= -1.0 } },
+    { { 0xbf800000 }, { .fl= -1.0 } },		/* -1.0	*/
+    { { 0xbf800001 }, { .fl= -1.0 } },
+
+    { { 0xbfbfffff }, { .fl= -1.0 } },
+    { { 0xbfc00000 }, { .fl= -2.0 } },		/* -1.5	*/
+    { { 0xbfc00001 }, { .fl= -2.0 } },
+
+    { { 0xc01fffff }, { .fl= -2.0 } },
+    { { 0xc0200000 }, { .fl= -3.0 } },		/* -2.5	*/
+    { { 0xc0200001 }, { .fl= -3.0 } },
+
+    { { .fl= -0x0.fffffep+23 }, { .fl= -0x0.fffffep+23 } },
+    { { .fl= -0x0.ffffffp+23 }, { .fl= -0x1.000000p+23 } },
+    { { .fl= -0x1.000000p+23 }, { .fl= -0x1.000000p+23 } },
+
+    { { 0xff7fffff }, { 0xff7fffff } },		/* the smallest normal	*/
+
+    /* All possible shifts	*/
+    { { .fl= 0x0.ffffffp-01 }, { .fl= 0.0 } },
+    { { .fl= 0x0.ffffffp+00 }, { .fl= 0x1p+00 } },
+    { { .fl= 0x0.ffffffp+01 }, { .fl= 0x2p+00 } },
+    { { .fl= 0x0.ffffffp+02 }, { .fl= 0x4p+00 } },
+    { { .fl= 0x0.ffffffp+03 }, { .fl= 0x8p+00 } },
+    { { .fl= 0x0.ffffffp+04 }, { .fl= 0x10p+00 } },
+    { { .fl= 0x0.ffffffp+05 }, { .fl= 0x20p+00 } },
+    { { .fl= 0x0.ffffffp+06 }, { .fl= 0x40p+00 } },
+    { { .fl= 0x0.ffffffp+07 }, { .fl= 0x80p+00 } },
+    { { .fl= 0x0.ffffffp+08 }, { .fl= 0x100p+00 } },
+    { { .fl= 0x0.ffffffp+09 }, { .fl= 0x200p+00 } },
+    { { .fl= 0x0.ffffffp+10 }, { .fl= 0x400p+00 } },
+    { { .fl= 0x0.ffffffp+11 }, { .fl= 0x800p+00 } },
+    { { .fl= 0x0.ffffffp+12 }, { .fl= 0x1000p+00 } },
+    { { .fl= 0x0.ffffffp+13 }, { .fl= 0x2000p+00 } },
+    { { .fl= 0x0.ffffffp+14 }, { .fl= 0x4000p+00 } },
+    { { .fl= 0x0.ffffffp+15 }, { .fl= 0x8000p+00 } },
+    { { .fl= 0x0.ffffffp+16 }, { .fl= 0x10000p+00 } },
+    { { .fl= 0x0.ffffffp+17 }, { .fl= 0x20000p+00 } },
+    { { .fl= 0x0.ffffffp+18 }, { .fl= 0x40000p+00 } },
+    { { .fl= 0x0.ffffffp+19 }, { .fl= 0x80000p+00 } },
+    { { .fl= 0x0.ffffffp+20 }, { .fl= 0x100000p+00 } },
+    { { .fl= 0x0.ffffffp+21 }, { .fl= 0x200000p+00 } },
+    { { .fl= 0x0.ffffffp+22 }, { .fl= 0x400000p+00 } },
+    { { .fl= 0x0.ffffffp+23 }, { .fl= 0x800000p+00 } },
+    { { .fl= 0x0.ffffffp+24 }, { .fl= 0xffffffp+00 } },
+    { { .fl= 0x0.ffffffp+25 }, { .fl= 0xffffffp+01 } },
+    { { .fl= 0x0.ffffffp+26 }, { .fl= 0xffffffp+02 } },
+    { { .fl= 0x0.ffffffp+27 }, { .fl= 0xffffffp+03 } },
+    { { .fl= 0x0.ffffffp+28 }, { .fl= 0xffffffp+04 } },
+    { { .fl= 0x0.ffffffp+29 }, { .fl= 0xffffffp+05 } },
+
+    /* '1' in mantissa, shift by 1.	*/
+    { { .fl= 0x0.800001p+23 }, { .fl= 0x800002p-01 } },
+    { { .fl= 0x0.800002p+23 }, { .fl= 0x800002p-01 } },
+    { { .fl= 0x0.800080p+23 }, { .fl= 0x800080p-01 } },
+    { { .fl= 0x0.800100p+23 }, { .fl= 0x800100p-01 } },
+    { { .fl= 0x0.808000p+23 }, { .fl= 0x808000p-01 } },
+    { { .fl= 0x0.810000p+23 }, { .fl= 0x810000p-01 } },
+    { { .fl= 0x0.c00000p+23 }, { .fl= 0xc00000p-01 } },
+    
+    /* '0' in mantissa, shift by 1, negative.	*/
+    { { .fl= -0x0.fffffep+23 }, { .fl= -0x7fffffp+00 } },
+    { { .fl= -0x0.ffff7ep+23 }, { .fl= -0x7fffbfp+00 } },
+    { { .fl= -0x0.fffefep+23 }, { .fl= -0x7fff7fp+00 } },
+    { { .fl= -0x0.ff7ffep+23 }, { .fl= -0x7fbfffp+00 } },
+    { { .fl= -0x0.fefffep+23 }, { .fl= -0x7f7fffp+00 } },
+    { { .fl= -0x0.bffffep+23 }, { .fl= -0x5fffffp+00 } },
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]:  %#lx\n", index - 1, v.lo);
+#endif
+    exit (index ? index : -1);
+}
+
+int main ()
+{
+    union lofl_u x, z;
+    int i;
+    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	x.lo = pgm_read_dword (& t[i].x);
+	z.lo = pgm_read_dword (& t[i].z);
+	v.fl = round (x.fl);
+	/* Comparison is integer to verify the zero sign.	*/
+	if (v.lo != z.lo)
+	    x_exit (i+1);
+    }
+    return 0;
+}
diff --git a/tests/simulate/math/signbit-01.c b/tests/simulate/math/signbit-01.c
new file mode 100644
index 0000000..10e5f14
--- /dev/null
+++ b/tests/simulate/math/signbit-01.c
@@ -0,0 +1,142 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of signbit() function.
+   $Id$
+ */
+#include <math.h>
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+#ifndef	__AVR__
+# define PRINTFLN(fmt, ...)	\
+    printf ("\nLine %d: " fmt "\n", __LINE__, ##__VA_ARGS__)
+# define EXIT(code)	exit ((code) < 255 ? (code) : 100 + (code) % 100)
+#else
+# if defined(__AVR_ATmega128__)
+  /* ATmega128 has enough RAM for sprintf(), print to 0x2000 in XRAM. */
+#  define PRINTFLN(fmt, ...)	\
+    sprintf ((char *)0x2000, "\nLine %d: " fmt "\n", __LINE__, ##__VA_ARGS__)
+# else
+   /* small AVR */
+#  define PRINTFLN(args...)
+# endif
+# define EXIT	exit
+#endif
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+/* Result is placed into SRAM variable, allocated at the start of
+   memory. This is convinient to debug: read a core dump.	*/
+volatile int v = 1;
+
+PROGMEM const struct {		/* Table of test cases.	*/
+    union lofl_u x;		/* argument	*/
+    int z;			/* result	*/
+} t[] = {
+
+    /* Zero	*/
+    { { .fl= +0.0 },	0 },
+    { { .fl= -0.0 },	1 },
+    
+    /* A few of normal values	*/
+    { { 0x00800000 },	0 },
+    { { 0x00800001 },	0 },
+    { { 0x00ffffff },	0 },
+    { { 0x3f800000 },	0 },
+    { { 0x7f7fffff },	0 },
+    { { 0x80800000 },	1 },
+    { { 0x80800001 },	1 },
+    { { 0x80ffffff },	1 },
+    { { 0xdf800000 },	1 },
+    { { 0xff7fffff },	1 },
+    
+    /* Subnormal	*/
+    { { 0x00000001 }, 0 },
+    { { 0x00000100 }, 0 },
+    { { 0x00010000 }, 0 },
+    { { 0x007fffff }, 0 },
+    { { 0x80000001 }, 1 },
+    { { 0x80000100 }, 1 },
+    { { 0x80010000 }, 1 },
+    { { 0x807fffff }, 1 },
+
+    /* Inf	*/
+    { { 0x7f800000 },	0 },
+    { { 0xff800000 },	1 },    
+
+    /* NaN	*/
+    { { 0x7f800001 },	0 },
+    { { 0x7fc00000 },	0 },
+    { { 0x7fffffff },	0 },
+    { { 0xff800001 },	1 },
+    { { 0xffc00000 },	1 },
+    { { 0xffffffff },	1 },
+};
+
+int main ()
+{
+    union lofl_u x;
+    int z;
+    int i;
+    int (* volatile vp)(double);
+
+    /* Default implementation.	*/    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	x.lo = pgm_read_dword (& t[i].x);
+	z = pgm_read_word (& t[i].z);
+	v = signbit (x.fl);
+	if (v != z) {
+	    PRINTFLN ("i= %d  v= %d", i, v);
+	    EXIT (i + 1);
+	}
+    }
+
+#ifdef	__AVR__
+    /* Force to use the library implementation.	*/
+    vp = & signbit;
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	x.lo = pgm_read_dword (& t[i].x);
+	z = pgm_read_word (& t[i].z);
+	v = vp (x.fl);
+	if (v != z) {
+	    PRINTFLN ("i= %d  v= %d", i, v);
+	    EXIT (i + 101);
+	}
+    }
+#else
+    (void)vp;
+#endif
+
+    return 0;
+}
diff --git a/tests/simulate/math/sin-01.c b/tests/simulate/math/sin-01.c
new file mode 100644
index 0000000..bc35482
--- /dev/null
+++ b/tests/simulate/math/sin-01.c
@@ -0,0 +1,104 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of sin() function.
+   $Id$
+ */
+#include <math.h>
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+volatile union lofl_u v = { .lo = 1 };
+
+PROGMEM const struct {		/* Table of test cases.	*/
+    union lofl_u x;		/* argument	*/
+    union lofl_u z;		/* sin(x)	*/
+} t[] = {
+
+    /* Zero	*/
+    { { .fl= +0.0 },	{ .fl= +0.0 }	},
+    { { .fl= -0.0 },	{ .fl= -0.0 }	},
+    
+    /* Subnormal	*/
+    { { 0x00000001 },	{ 0x00000001 }	},
+    { { 0x00000100 },	{ 0x00000100 }	},
+    { { 0x00010000 },	{ 0x00010000 }	},
+    { { 0x007fffff },	{ 0x007fffff }	},
+    { { 0x80000001 },	{ 0x80000001 }	},
+    { { 0x80000100 },	{ 0x80000100 }	},
+    { { 0x80010000 },	{ 0x80010000 }	},
+    { { 0x807fffff },	{ 0x807fffff }	},
+    
+    /* Arg. too small	*/
+    { { 0x00800000 },	{ 0x00800000 }	},
+    { { 0x01000000 },	{ 0x01000000 }	},
+    { { 0x38000000 },	{ 0x38000000 }	},
+//    { { 0x38ffffff },	{ 0x38ffffff }	},
+    { { 0x80800000 },	{ 0x80800000 }	},
+    { { 0x81000000 },	{ 0x81000000 }	},
+    { { 0xb8000000 },	{ 0xb8000000 }	},
+//    { { 0xb8ffffff },	{ 0xb8ffffff }	},
+
+    /* Some values	*/
+    { { .fl=  1.5707963 },  { .fl=  1.0 } },
+    { { .fl=  4.7123890 },  { .fl= -1.0 } },
+    { { .fl= -1.5707963 },  { .fl= -1.0 } },
+    { { .fl= -4.7123890 },  { .fl=  1.0 } },
+
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]:  %#lx\n", index - 1, v.lo);
+#endif
+    exit (index ? index : -1);
+}
+
+int main ()
+{
+    union lofl_u x, z;
+    int i;
+    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	x.lo = pgm_read_dword (& t[i].x);
+	z.lo = pgm_read_dword (& t[i].z);
+	v.fl = sin (x.fl);
+	/* Comparison is integer to verify the zero sign.	*/
+	if (v.lo != z.lo)
+	    x_exit (i+1);
+    }
+    return 0;
+}
diff --git a/tests/simulate/math/sin-500.c b/tests/simulate/math/sin-500.c
new file mode 100644
index 0000000..8518118
--- /dev/null
+++ b/tests/simulate/math/sin-500.c
@@ -0,0 +1,579 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of sin() function. 500 random cases for fabs(x) < 10.
+   $Id$
+ */
+#include <math.h>
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+volatile union lofl_u v = { .lo = 1 };
+
+PROGMEM const struct {		/* Table of test cases.	*/
+    long x;		/* argument	*/
+    long z;		/* sin(x)	*/
+} t[] = {
+
+    /* x, sin(x)	*/
+    { 0xbe463583,0xbe44f940 }, /*   1: -1.9356351e-01 -1.9235706e-01 */
+    { 0x3f380afe,0x3f289816 }, /*   2:  7.1891773e-01  6.5857065e-01 */
+    { 0x3f067d3a,0x3f00633f }, /*   3:  5.2534831e-01  5.0151438e-01 */
+    { 0xbeceac19,0xbec91af6 }, /*   4: -4.0365675e-01 -3.9278382e-01 */
+    { 0x3f1fad4c,0x3f1585d6 }, /*   5:  6.2373805e-01  5.8407342e-01 */
+    { 0xbf9c654f,0xbf709230 }, /*   6: -1.2218417e+00 -9.3973064e-01 */
+    { 0x40afaf14,0xbf3666cd }, /*   7:  5.4901218e+00 -7.1250612e-01 */
+    { 0x3f31d799,0x3f23e0ff }, /*   8:  6.9469601e-01  6.4015192e-01 */
+    { 0xbf306b02,0xbf22c841 }, /*   9: -6.8913281e-01 -6.3586813e-01 */
+    { 0xbef482ca,0xbeeb5281 }, /*  10: -4.7756034e-01 -4.5961383e-01 */
+    { 0xbfd93ff6,0xbf7df49a }, /*  11: -1.6972644e+00 -9.9201357e-01 */
+    { 0x3f3309e6,0x3f24cbda }, /*  12:  6.9936979e-01  6.4373553e-01 */
+    { 0xbf14d4e8,0xbf0c9691 }, /*  13: -5.8137369e-01 -5.4917246e-01 */
+    { 0x402293be,0x3f10d40e }, /*  14:  2.5402675e+00  5.6573570e-01 */
+    { 0x3f31903b,0x3f23aa25 }, /*  15:  6.9360703e-01  6.3931495e-01 */
+    { 0xbf0feaf4,0xbf0874b8 }, /*  16: -5.6217885e-01 -5.3303099e-01 */
+    { 0xbf377155,0xbf282455 }, /*  17: -7.1657306e-01 -6.5680438e-01 */
+    { 0x3f4f4acc,0x3f395ee9 }, /*  18:  8.0973506e-01  7.2410446e-01 */
+    { 0xc016d14f,0xbf34f59f }, /*  19: -2.3565252e+00 -7.0687288e-01 */
+    { 0xbf4ff582,0xbf39d47d }, /*  20: -8.1233990e-01 -7.2589856e-01 */
+    { 0xbcf3d280,0xbcf3c949 }, /*  21: -2.9763460e-02 -2.9759066e-02 */
+    { 0x40f20695,0x3f7542bf }, /*  22:  7.5633035e+00  9.5804971e-01 */
+    { 0xbf4f4202,0xbf3958d9 }, /*  23: -8.0960095e-01 -7.2401196e-01 */
+    { 0x3f69ce9e,0x3f4aa1bb }, /*  24:  9.1330898e-01  7.9153031e-01 */
+    { 0xc0066b37,0xbf5cf190 }, /*  25: -2.1002939e+00 -8.6306095e-01 */
+    { 0xbf6bbb40,0xbf4bcd53 }, /*  26: -9.2082596e-01 -7.9610175e-01 */
+    { 0x3f1c2754,0x3f12a61b }, /*  27:  6.0997510e-01  5.7284707e-01 */
+    { 0xbfcac146,0xbf7ffa44 }, /*  28: -1.5840232e+00 -9.9991250e-01 */
+    { 0x3efa52a6,0x3ef077fe }, /*  29:  4.8891181e-01  4.6966547e-01 */
+    { 0x3f24d1f2,0x3f19aac3 }, /*  30:  6.4382851e-01  6.0026187e-01 */
+    { 0xbf6588a7,0xbf47fdfa }, /*  31: -8.9661640e-01 -7.8121912e-01 */
+    { 0xc06be5a1,0x3f048fb0 }, /*  32: -3.6858904e+00  5.1781750e-01 */
+    { 0xbee2e461,0xbedb89da }, /*  33: -4.4314864e-01 -4.2878610e-01 */
+    { 0x3f6cc6b5,0x3f4c6ebe }, /*  34:  9.2490703e-01  7.9856479e-01 */
+    { 0xbee45026,0xbedcd244 }, /*  35: -4.4592398e-01 -4.3129170e-01 */
+    { 0xbf7f1174,0xbf56e964 }, /*  36: -9.9636006e-01 -8.3949876e-01 */
+    { 0x3f031edf,0x3efaecb6 }, /*  37:  5.1218981e-01  4.9008721e-01 */
+    { 0xbf80cb9d,0xbf58459a }, /*  38: -1.0062138e+00 -8.4481204e-01 */
+    { 0xbec994bc,0xbec469d3 }, /*  39: -3.9371288e-01 -3.8361987e-01 */
+    { 0xbe86e164,0xbe855363 }, /*  40: -2.6343834e-01 -2.6040182e-01 */
+    { 0xbf93c6d3,0xbf6a22e5 }, /*  41: -1.1545051e+00 -9.1459495e-01 */
+    { 0xbf4bdbca,0xbf36fc6b }, /*  42: -7.9632246e-01 -7.1478909e-01 */
+    { 0xbf1106de,0xbf09649c }, /*  43: -5.6651103e-01 -5.3669143e-01 */
+    { 0xbf340453,0xbf258b2f }, /*  44: -7.0319098e-01 -6.4665502e-01 */
+    { 0xbf9d3eef,0xbf7125a6 }, /*  45: -1.2284831e+00 -9.4198072e-01 */
+    { 0x3f810f7c,0x3f588e1d }, /*  46:  1.0082850e+00  8.4591848e-01 */
+    { 0x3f3718a7,0x3f27e16d }, /*  47:  7.1521991e-01  6.5578347e-01 */
+    { 0x4012c18d,0x3f40143f }, /*  48:  2.2930634e+00  7.5030893e-01 */
+    { 0xbf1851c4,0xbf0f7d60 }, /*  49: -5.9499764e-01 -5.6050682e-01 */
+    { 0x3f5de7d6,0x3f43245f }, /*  50:  8.6681879e-01  7.6227373e-01 */
+    { 0x3f0b5064,0x3f0489f2 }, /*  51:  5.4419541e-01  5.1772988e-01 */
+    { 0xbf4782d0,0xbf33eb5a }, /*  52: -7.7933979e-01 -7.0280993e-01 */
+    { 0xbea86772,0xbea5624f }, /*  53: -3.2891423e-01 -3.2301566e-01 */
+    { 0xbe4efa6d,0xbe4d925d }, /*  54: -2.0212717e-01 -2.0075364e-01 */
+    { 0xbfceb26b,0xbf7fc081 }, /*  55: -1.6148199e+00 -9.9903113e-01 */
+    { 0xbec20dd4,0xbebd70f9 }, /*  56: -3.7901175e-01 -3.7000254e-01 */
+    { 0xbf6b602f,0xbf4b962a }, /*  57: -9.1943640e-01 -7.9526007e-01 */
+    { 0x3ec9f8d4,0x3ec4c63e }, /*  58:  3.9447653e-01  3.8432497e-01 */
+    { 0x3f052dc5,0x3efe8131 }, /*  59:  5.2022964e-01  4.9707940e-01 */
+    { 0xbf044531,0xbefced2a }, /*  60: -5.1668078e-01 -4.9399692e-01 */
+    { 0x3f069c71,0x3f007e3f }, /*  61:  5.2582461e-01  5.0192636e-01 */
+    { 0xbeec6798,0xbee41803 }, /*  62: -4.6172786e-01 -4.4549569e-01 */
+    { 0xbf06464d,0xbf0033b7 }, /*  63: -5.2451020e-01 -5.0078911e-01 */
+    { 0x3ec42373,0x3ebf6052 }, /*  64:  3.8308296e-01  3.7378174e-01 */
+    { 0xbfe53af6,0xbf79d37a }, /*  65: -1.7908618e+00 -9.7588313e-01 */
+    { 0xbf0c741f,0xbf058333 }, /*  66: -5.4864687e-01 -5.2153319e-01 */
+    { 0x3e9e891d,0x3e9c03b0 }, /*  67:  3.0963984e-01  3.0471563e-01 */
+    { 0xbf0b2be9,0xbf046abb }, /*  68: -5.4363877e-01 -5.1725358e-01 */
+    { 0xbd931696,0xbd92f639 }, /*  69: -7.1820423e-02 -7.1758695e-02 */
+    { 0x3f0c9953,0x3f05a2ef }, /*  70:  5.4921454e-01  5.2201742e-01 */
+    { 0x40ce290d,0x3e2275d1 }, /*  71:  6.4425111e+00  1.5865256e-01 */
+    { 0x3fa2579c,0x3f74605d }, /*  72:  1.2682986e+00  9.5459539e-01 */
+    { 0x3f8ae0b2,0x3f62612a }, /*  73:  1.0849822e+00  8.8429511e-01 */
+    { 0xbeeab4fa,0xbee29296 }, /*  74: -4.5841199e-01 -4.4252461e-01 */
+    { 0x3f8b6399,0x3f62daf2 }, /*  75:  1.0889770e+00  8.8615334e-01 */
+    { 0x4086869a,0xbf5f9d72 }, /*  76:  4.2039309e+00 -8.7349617e-01 */
+    { 0x3f4d8202,0x3f3822b8 }, /*  77:  8.0276501e-01  7.1927977e-01 */
+    { 0xbf94b83a,0xbf6ae480 }, /*  78: -1.1618721e+00 -9.1754913e-01 */
+    { 0xbf07886e,0xbf014a25 }, /*  79: -5.2942550e-01 -5.0503761e-01 */
+    { 0x3f4d9d9e,0x3f3835e5 }, /*  80:  8.0318630e-01  7.1957237e-01 */
+    { 0x3f1e8c0d,0x3f149aaf }, /*  81:  6.1932451e-01  5.8048528e-01 */
+    { 0xbf6a2b11,0xbf4ada2d }, /*  82: -9.1471964e-01 -7.9239160e-01 */
+    { 0xbf8ba39b,0xbf631628 }, /*  83: -1.0909303e+00 -8.8705683e-01 */
+    { 0x40b845ec,0xbf003ba4 }, /*  84:  5.7585354e+00 -5.0091004e-01 */
+    { 0xbf62ee29,0xbf465b47 }, /*  85: -8.8644654e-01 -7.7483028e-01 */
+    { 0x3fc6cb16,0x3f7ff5b5 }, /*  86:  1.5530727e+00  9.9984294e-01 */
+    { 0xbef7bb4e,0xbeee2d94 }, /*  87: -4.8385090e-01 -4.6519148e-01 */
+    { 0xbf4c9716,0xbf377f36 }, /*  88: -7.9918039e-01 -7.1678483e-01 */
+    { 0xbf323c1a,0xbf242e29 }, /*  89: -6.9622958e-01 -6.4132935e-01 */
+    { 0xbedca08a,0xbed5dcc3 }, /*  90: -4.3091232e-01 -4.1769990e-01 */
+    { 0x4030cf97,0x3ebd6617 }, /*  91:  2.7626703e+00  3.6991951e-01 */
+    { 0x3ed0212d,0x3eca71d9 }, /*  92:  4.0650311e-01  3.9539984e-01 */
+    { 0xc00c8e09,0xbf4f8cfb }, /*  93: -2.1961691e+00 -8.1074494e-01 */
+    { 0xbf3c824a,0xbf2bedd3 }, /*  94: -7.3636305e-01 -6.7159766e-01 */
+    { 0xbee6c513,0xbedf0909 }, /*  95: -4.5072231e-01 -4.3561581e-01 */
+    { 0x3f84c0e8,0x3f5c6750 }, /*  96:  1.0371370e+00  8.6095142e-01 */
+    { 0x3f1a6e1a,0x3f113b99 }, /*  97:  6.0324252e-01  5.6731564e-01 */
+    { 0xbe078626,0xbe0720f4 }, /*  98: -1.3234767e-01 -1.3196164e-01 */
+    { 0x3fd62e07,0x3f7ea825 }, /*  99:  1.6732796e+00  9.9475318e-01 */
+    { 0x3f17c530,0x3f0f08df }, /* 100:  5.9285259e-01  5.5872911e-01 */
+    { 0xbf4e3686,0xbf389ff2 }, /* 101: -8.0551946e-01 -7.2119057e-01 */
+    { 0xbf7df4d4,0xbf564e38 }, /* 102: -9.9201703e-01 -8.3713102e-01 */
+    { 0xbf31b8da,0xbf23c95f }, /* 103: -6.9422686e-01 -6.3979143e-01 */
+    { 0xbef8ca8b,0xbeef1d8c }, /* 104: -4.8592028e-01 -4.6702230e-01 */
+    { 0x3e8c4e3a,0x3e8a8e5e }, /* 105:  2.7403432e-01  2.7061743e-01 */
+    { 0xbee54840,0xbeddb201 }, /* 106: -4.4781685e-01 -4.3299869e-01 */
+    { 0x3f3600cb,0x3f270dc1 }, /* 107:  7.1094960e-01  6.5255362e-01 */
+    { 0x3f507c12,0x3f3a30f0 }, /* 108:  8.1439316e-01  7.2730923e-01 */
+    { 0xbf47331f,0xbf33b2a0 }, /* 109: -7.7812380e-01 -7.0194435e-01 */
+    { 0x3f31c555,0x3f23d2f6 }, /* 110:  6.9441730e-01  6.3993776e-01 */
+    { 0x3f11e3ab,0x3f0a1eb7 }, /* 111:  5.6988019e-01  5.3953117e-01 */
+    { 0xbf497de2,0xbf3552b0 }, /* 112: -7.8707707e-01 -7.0829296e-01 */
+    { 0xbf6a8cd4,0xbf4b15c1 }, /* 113: -9.1621137e-01 -7.9330069e-01 */
+    { 0xbf4beead,0xbf3709a0 }, /* 114: -7.9661065e-01 -7.1499062e-01 */
+    { 0x3ec3eac4,0x3ebf2bbd }, /* 115:  3.8265049e-01  3.7338057e-01 */
+    { 0x3f4d7a8b,0x3f381d88 }, /* 116:  8.0265111e-01  7.1920061e-01 */
+    { 0xbf2ff313,0xbf226b9f }, /* 117: -6.8730277e-01 -6.3445467e-01 */
+    { 0xbe8c5e9a,0xbe8a9e21 }, /* 118: -2.7415925e-01 -2.7073768e-01 */
+    { 0xc03ec959,0xbe23b384 }, /* 119: -2.9810393e+00 -1.5986449e-01 */
+    { 0x3a5fecd8,0x3a5fecd6 }, /* 120:  8.5420674e-04  8.5420662e-04 */
+    { 0x3f667883,0x3f48935e }, /* 121:  9.0027636e-01  7.8349864e-01 */
+    { 0x3f7432c2,0x3f50d03f }, /* 122:  9.5389950e-01  8.1567758e-01 */
+    { 0xbf82dada,0xbf5a729f }, /* 123: -1.0223038e+00 -8.5331148e-01 */
+    { 0xbf140f38,0xbf0bf132 }, /* 124: -5.7835722e-01 -5.4664910e-01 */
+    { 0x3f03a383,0x3efbd3d2 }, /* 125:  5.1421374e-01  4.9185044e-01 */
+    { 0xbf36bff2,0xbf279e6a }, /* 126: -7.1386635e-01 -6.5476096e-01 */
+    { 0xbd5dbecb,0xbd5da311 }, /* 127: -5.4137032e-02 -5.4110590e-02 */
+    { 0x3e9c9173,0x3e9a23ae }, /* 128:  3.0579719e-01  3.0105346e-01 */
+    { 0x3f4bcab5,0x3f36f078 }, /* 129:  7.9606181e-01  7.1460676e-01 */
+    { 0xbef48b75,0xbeeb5a34 }, /* 130: -4.7762647e-01 -4.5967257e-01 */
+    { 0x3f4939f9,0x3f3522b9 }, /* 131:  7.8604084e-01  7.0756108e-01 */
+    { 0xbf6b17c2,0xbf4b6a39 }, /* 132: -9.1833127e-01 -7.9458958e-01 */
+    { 0xbf431e8e,0xbf30c4d7 }, /* 133: -7.6218498e-01 -6.9050354e-01 */
+    { 0xbf377dd0,0xbf282dbf }, /* 134: -7.1676350e-01 -6.5694803e-01 */
+    { 0xbd40a9b4,0xbd409785 }, /* 135: -4.7036842e-02 -4.7019500e-02 */
+    { 0xbefca85c,0xbef28709 }, /* 136: -4.9347198e-01 -4.7368649e-01 */
+    { 0x3f31b48b,0x3f23c60f }, /* 137:  6.9416112e-01  6.3974088e-01 */
+    { 0xbf1306e7,0xbf0b1393 }, /* 138: -5.7432407e-01 -5.4326743e-01 */
+    { 0x3f32188f,0x3f2412e2 }, /* 139:  6.9568723e-01  6.4091313e-01 */
+    { 0x3e04af2a,0x3e045032 }, /* 140:  1.2957445e-01  1.2921217e-01 */
+    { 0x3f3590e7,0x3f26b8e8 }, /* 141:  7.0924228e-01  6.5125895e-01 */
+    { 0x3f32bc2b,0x3f249057 }, /* 142:  6.9818372e-01  6.4282745e-01 */
+    { 0x3f0e1bab,0x3f06ebdd }, /* 143:  5.5510968e-01  5.2703649e-01 */
+    { 0x3f32c27a,0x3f24952c }, /* 144:  6.9827998e-01  6.4290118e-01 */
+    { 0xbf48b241,0xbf34c2b8 }, /* 145: -7.8396994e-01 -7.0609617e-01 */
+    { 0x3f324464,0x3f243485 }, /* 146:  6.9635606e-01  6.4142638e-01 */
+    { 0x3f00aee3,0x3ef6a9ff }, /* 147:  5.0266856e-01  4.8176572e-01 */
+    { 0x3f331953,0x3f24d7a8 }, /* 148:  6.9960517e-01  6.4391565e-01 */
+    { 0xbb5a94c2,0xbb5a94a7 }, /* 149: -3.3352827e-03 -3.3352764e-03 */
+    { 0x405b87ef,0xbe91b5d3 }, /* 150:  3.4301717e+00 -2.8459033e-01 */
+    { 0xbf4c7e0b,0xbf376dbf }, /* 151: -7.9879826e-01 -7.1651834e-01 */
+    { 0xbede736f,0xbed784a0 }, /* 152: -4.3447444e-01 -4.2093372e-01 */
+    { 0x3f37cec1,0x3f286abc }, /* 153:  7.1799856e-01  6.5787864e-01 */
+    { 0xbf2159d8,0xbf16e0de }, /* 154: -6.3027716e-01 -5.8936870e-01 */
+    { 0x3f671996,0x3f48f74e }, /* 155:  9.0273416e-01  7.8502357e-01 */
+    { 0x3f4979f8,0x3f354fec }, /* 156:  7.8701735e-01  7.0825076e-01 */
+    { 0xbeb96a8d,0xbeb563d3 }, /* 157: -3.6214104e-01 -3.5427722e-01 */
+    { 0x3ef8856d,0x3eeee06c }, /* 158:  4.8539296e-01  4.6655595e-01 */
+    { 0x3f6fc784,0x3f4e39e2 }, /* 159:  9.3663812e-01  8.0557072e-01 */
+    { 0xc10e923b,0xbefbc43b }, /* 160: -8.9107008e+00 -4.9173149e-01 */
+    { 0x3fa1c817,0x3f740a41 }, /* 161:  1.2639188e+00  9.5328146e-01 */
+    { 0x3f517ad8,0x3f3adf6f }, /* 162:  8.1828070e-01  7.2997183e-01 */
+    { 0xbf3577c1,0xbf26a5d2 }, /* 163: -7.0885855e-01 -6.5096772e-01 */
+    { 0x3f0f2aea,0x3f07d216 }, /* 164:  5.5924857e-01  5.3054941e-01 */
+    { 0x3f53a51c,0x3f3c588b }, /* 165:  8.2673812e-01  7.3572606e-01 */
+    { 0xbf6a450f,0xbf4aea07 }, /* 166: -9.1511625e-01 -7.9263347e-01 */
+    { 0xbf7fc69f,0xbf574b9f }, /* 167: -9.9912447e-01 -8.4099764e-01 */
+    { 0x3d40a1e5,0x3d408fb8 }, /* 168:  4.7029395e-02  4.7012061e-02 */
+    { 0xbf86ca18,0xbf5e7265 }, /* 169: -1.0530424e+00 -8.6893302e-01 */
+    { 0x3f1696d9,0x3f0e0dbc }, /* 170:  5.8823925e-01  5.5489707e-01 */
+    { 0xbf3349a1,0xbf24fc9a }, /* 171: -7.0034224e-01 -6.4447939e-01 */
+    { 0xbf7ed5ec,0xbf56c905 }, /* 172: -9.9545169e-01 -8.3900481e-01 */
+    { 0x3f6d4c9a,0x3f4cbf3a }, /* 173:  9.2695010e-01  7.9979289e-01 */
+    { 0xbf12ea4f,0xbf0afb91 }, /* 174: -5.7388777e-01 -5.4290110e-01 */
+    { 0x3e6e479b,0x3e6c229a }, /* 175:  2.3269503e-01  2.3060074e-01 */
+    { 0x3f4c1513,0x3f372476 }, /* 176:  7.9719657e-01  7.1540010e-01 */
+    { 0xbef46873,0xbeeb3b1c }, /* 177: -4.7735938e-01 -4.5943534e-01 */
+    { 0x4018b64a,0x3f2f8558 }, /* 178:  2.3861260e+00  6.8562841e-01 */
+    { 0xbf5eb195,0xbf43a6b7 }, /* 179: -8.6989719e-01 -7.6426262e-01 */
+    { 0x3f359159,0x3f26b93f }, /* 180:  7.0924908e-01  6.5126413e-01 */
+    { 0xbfb0c265,0xbf7b6650 }, /* 181: -1.3809325e+00 -9.8202991e-01 */
+    { 0x3f2f20a4,0x3f21c8c0 }, /* 182:  6.8409181e-01  6.3196945e-01 */
+    { 0xbf61e083,0xbf45b062 }, /* 183: -8.8233203e-01 -7.7222264e-01 */
+    { 0xbf36acc1,0xbf278fe9 }, /* 184: -7.1357352e-01 -6.5453964e-01 */
+    { 0xbf981f90,0xbf6d8416 }, /* 185: -1.1884632e+00 -9.2779672e-01 */
+    { 0x3ed866c1,0x3ed20403 }, /* 186:  4.2265895e-01  4.1018686e-01 */
+    { 0xbf1b12f2,0xbf11c33b }, /* 187: -6.0575783e-01 -5.6938523e-01 */
+    { 0xbf46e5a6,0xbf337b6a }, /* 188: -7.7694166e-01 -7.0110190e-01 */
+    { 0x3f36c900,0x3f27a542 }, /* 189:  7.1400452e-01  6.5486538e-01 */
+    { 0xbf779069,0xbf52be15 }, /* 190: -9.6704727e-01 -8.2321292e-01 */
+    { 0x3f338dc1,0x3f2530ab }, /* 191:  7.0138174e-01  6.4527386e-01 */
+    { 0x3f150c7e,0x3f0cc502 }, /* 192:  5.8222187e-01  5.4988110e-01 */
+    { 0xbf7267ee,0xbf4fc581 }, /* 193: -9.4689834e-01 -8.1160742e-01 */
+    { 0x3ee8e87e,0x3ee0f549 }, /* 194:  4.5489877e-01  4.3937138e-01 */
+    { 0x37586f2e,0x37586f2e }, /* 195:  1.2900489e-05  1.2900489e-05 */
+    { 0x3f625d15,0x3f45ff70 }, /* 196:  8.8423282e-01  7.7342892e-01 */
+    { 0xbf7df422,0xbf564dd6 }, /* 197: -9.9200642e-01 -8.3712518e-01 */
+    { 0x3f1afe94,0x3f11b27c }, /* 198:  6.0544705e-01  5.6912971e-01 */
+    { 0x3eff062f,0x3ef49bea }, /* 199:  4.9809405e-01  4.7775203e-01 */
+    { 0x3fc3eb3e,0x3f7fcb1b }, /* 200:  1.5306165e+00  9.9919289e-01 */
+    { 0x3f315364,0x3f237b58 }, /* 201:  6.9267869e-01  6.3860083e-01 */
+    { 0xbf6596f9,0xbf4806eb }, /* 202: -8.9683491e-01 -7.8135556e-01 */
+    { 0xbf349a96,0xbf25fdb0 }, /* 203: -7.0548379e-01 -6.4840221e-01 */
+    { 0xbfe36fdd,0xbf7a95a1 }, /* 204: -1.7768513e+00 -9.7884566e-01 */
+    { 0xbf98c5d0,0xbf6dff5a }, /* 205: -1.1935368e+00 -9.2967761e-01 */
+    { 0x3f36f3c8,0x3f27c595 }, /* 206:  7.1465731e-01  6.5535861e-01 */
+    { 0x3f89d5bd,0x3f6165f1 }, /* 207:  1.0768353e+00  8.8046175e-01 */
+    { 0x3f5c4e22,0x3f421a37 }, /* 208:  8.6056721e-01  7.5821251e-01 */
+    { 0xbf0c32eb,0xbf054b8c }, /* 209: -5.4765195e-01 -5.2068400e-01 */
+    { 0x3e6c61d6,0x3e6a49d3 }, /* 210:  2.3084196e-01  2.2879724e-01 */
+    { 0xbedb1e8c,0xbed47dd1 }, /* 211: -4.2796743e-01 -4.1502240e-01 */
+    { 0x3efc8d05,0x3ef26ef5 }, /* 212:  4.9326339e-01  4.7350278e-01 */
+    { 0x3eb6d176,0x3eb2f547 }, /* 213:  3.5706681e-01  3.4952757e-01 */
+    { 0xbe579cfe,0xbe560608 }, /* 214: -2.1055982e-01 -2.0900738e-01 */
+    { 0x3ebffac5,0x3ebb8335 }, /* 215:  3.7496009e-01  3.6623541e-01 */
+    { 0x400a286c,0x3f550438 }, /* 216:  2.1587172e+00  8.3209562e-01 */
+    { 0x3f323c93,0x3f242e86 }, /* 217:  6.9623679e-01  6.4133489e-01 */
+    { 0x3ee440cf,0x3edcc46d }, /* 218:  4.4580695e-01  4.3118611e-01 */
+    { 0x3fc507d3,0x3f7fdf80 }, /* 219:  1.5393013e+00  9.9950409e-01 */
+    { 0xbf8573b9,0xbf5d1c65 }, /* 220: -1.0425941e+00 -8.6371452e-01 */
+    { 0x3f31fc98,0x3f23fd6a }, /* 221:  6.9526052e-01  6.4058554e-01 */
+    { 0xbf32cf93,0xbf249f34 }, /* 222: -6.9847983e-01 -6.4305425e-01 */
+    { 0x3f1baeab,0x3f124324 }, /* 223:  6.0813397e-01  5.7133698e-01 */
+    { 0x3f6565bd,0x3f47e82d }, /* 224:  8.9608365e-01  7.8088647e-01 */
+    { 0x3f837822,0x3f5b15fe }, /* 225:  1.0271037e+00  8.5580432e-01 */
+    { 0x3e6b4907,0x3e69386e }, /* 226:  2.2977076e-01  2.2775432e-01 */
+    { 0xbf1c3965,0xbf12b4e9 }, /* 227: -6.1025077e-01 -5.7307297e-01 */
+    { 0x3f4cb033,0x3f3790b8 }, /* 228:  7.9956359e-01  7.1705198e-01 */
+    { 0xbec18d34,0xbebcf974 }, /* 229: -3.7803042e-01 -3.6909068e-01 */
+    { 0x3c557eff,0x3c557d73 }, /* 230:  1.3030767e-02  1.3030398e-02 */
+    { 0x20cdfc7e,0x20cdfc7e }, /* 231:  3.4895436e-19  3.4895436e-19 */
+    { 0x40db9e6e,0x3f0c460c }, /* 232:  6.8630896e+00  5.4794383e-01 */
+    { 0x3f4bb892,0x3f36e3c8 }, /* 233:  7.9578507e-01  7.1441317e-01 */
+    { 0xbf19ddd1,0xbf10c4b1 }, /* 234: -6.0104090e-01 -5.6550127e-01 */
+    { 0x3f4ded46,0x3f386d2d }, /* 235:  8.0440176e-01  7.2041589e-01 */
+    { 0xbf0a8f52,0xbf03e49f }, /* 236: -5.4124939e-01 -5.1520723e-01 */
+    { 0x3f799c06,0x3f53e5a2 }, /* 237:  9.7503698e-01  8.2772267e-01 */
+    { 0xbd453aed,0xbd45276b }, /* 238: -4.8151899e-02 -4.8133295e-02 */
+    { 0xbf8b6a0c,0xbf62e0eb }, /* 239: -1.0891738e+00 -8.8624448e-01 */
+    { 0x3ff68adf,0x3f700262 }, /* 240:  1.9261130e+00  9.3753636e-01 */
+    { 0xac5804b8,0xac5804b8 }, /* 241: -3.0698066e-12 -3.0698066e-12 */
+    { 0x3f5e7476,0x3f437f47 }, /* 242:  8.6896455e-01  7.6366085e-01 */
+    { 0xbf683995,0xbf49a936 }, /* 243: -9.0712863e-01 -7.8773820e-01 */
+    { 0xbfe42c50,0xbf7a4775 }, /* 244: -1.7826023e+00 -9.7765285e-01 */
+    { 0x3eea8fa0,0x3ee27117 }, /* 245:  4.5812702e-01  4.4226906e-01 */
+    { 0xbf0e831c,0xbf0743bb }, /* 246: -5.5668807e-01 -5.2837723e-01 */
+    { 0xbf45c245,0xbf32ab31 }, /* 247: -7.7249557e-01 -6.9792467e-01 */
+    { 0xbf659e16,0xbf480b5b }, /* 248: -8.9694345e-01 -7.8142327e-01 */
+    { 0x3f079fd2,0x3f015e54 }, /* 249:  5.2978241e-01  5.0534558e-01 */
+    { 0x3fa7d6fa,0x3f776cf0 }, /* 250:  1.3112481e+00  9.6650600e-01 */
+    { 0x3f20d05b,0x3f1671b6 }, /* 251:  6.2817925e-01  5.8767259e-01 */
+    { 0x3f10d487,0x3f093a1f }, /* 252:  5.6574291e-01  5.3604311e-01 */
+    { 0x3e38e8dd,0x3e37e806 }, /* 253:  1.8057580e-01  1.7959604e-01 */
+    { 0x3f3282ec,0x3f246479 }, /* 254:  6.9731021e-01  6.4215809e-01 */
+    { 0x3fae9231,0x3f7a8978 }, /* 255:  1.3638364e+00  9.7866011e-01 */
+    { 0x3f263b1c,0x3f1acb06 }, /* 256:  6.4933944e-01  6.0466039e-01 */
+    { 0xbf66e5ed,0xbf48d749 }, /* 257: -9.0194589e-01 -7.8453499e-01 */
+    { 0x3f7f4f87,0x3f570b18 }, /* 258:  9.9730724e-01  8.4001303e-01 */
+    { 0x3f9701b3,0x3f6cac79 }, /* 259:  1.1797394e+00  9.2450672e-01 */
+    { 0xbf477e68,0xbf33e837 }, /* 260: -7.7927256e-01 -7.0276207e-01 */
+    { 0x3fbc02e2,0x3f7eaba8 }, /* 261:  1.4688380e+00  9.9480677e-01 */
+    { 0x3f203521,0x3f15f402 }, /* 262:  6.2581068e-01  5.8575451e-01 */
+    { 0xbf32ba4c,0xbf248ee8 }, /* 263: -6.9815516e-01 -6.4280558e-01 */
+    { 0xbf86127e,0xbf5dbbc3 }, /* 264: -1.0474393e+00 -8.6614627e-01 */
+    { 0x3f64152a,0x3f471541 }, /* 265:  8.9094794e-01  7.7766806e-01 */
+    { 0x3f1d2207,0x3f137351 }, /* 266:  6.1380047e-01  5.7597834e-01 */
+    { 0x406ed7e6,0xbf0e7fe7 }, /* 267:  3.7319274e+00 -5.5663913e-01 */
+    { 0x3f18d148,0x3f0fe6e8 }, /* 268:  5.9694338e-01  5.6211710e-01 */
+    { 0x3f9293a8,0x3f6927d9 }, /* 269:  1.1451311e+00  9.1076428e-01 */
+    { 0xbf8461ab,0xbf5c062e }, /* 270: -1.0342306e+00 -8.5946929e-01 */
+    { 0x3ff159b3,0x3f736c65 }, /* 271:  1.8855499e+00  9.5087272e-01 */
+    { 0x3f64a9c5,0x3f47728c }, /* 272:  8.9321548e-01  7.7909160e-01 */
+    { 0xbf189b32,0xbf0fba29 }, /* 273: -5.9611809e-01 -5.6143433e-01 */
+    { 0x3f3730be,0x3f27f39c }, /* 274:  7.1558750e-01  6.5606093e-01 */
+    { 0x3f928e35,0x3f692358 }, /* 275:  1.1449648e+00  9.1069555e-01 */
+    { 0x3f4e85f8,0x3f38d6f2 }, /* 276:  8.0673170e-01  7.2202981e-01 */
+    { 0x3f5cc67e,0x3f42689b }, /* 277:  8.6240375e-01  7.5940865e-01 */
+    { 0xbf059a94,0xbeff3dee }, /* 278: -5.2188993e-01 -4.9851936e-01 */
+    { 0xbf6c7613,0xbf4c3e2c }, /* 279: -9.2367667e-01 -7.9782367e-01 */
+    { 0xbf459d90,0xbf3290e5 }, /* 280: -7.7193546e-01 -6.9752342e-01 */
+    { 0xbf3a9633,0xbf2a7ffe }, /* 281: -7.2885436e-01 -6.6601551e-01 */
+    { 0xc09d7093,0x3f7a80cc }, /* 282: -4.9199920e+00  9.7852778e-01 */
+    { 0x3fb43dd5,0x3f7c9eef }, /* 283:  1.4081370e+00  9.8680013e-01 */
+    { 0xbee68fe7,0xbeded92c }, /* 284: -4.5031664e-01 -4.3525064e-01 */
+    { 0xbf4a0358,0xbf35b0ce }, /* 285: -7.8911352e-01 -7.0972908e-01 */
+    { 0xbd534026,0xbd53282d }, /* 286: -5.1574849e-02 -5.1551986e-02 */
+    { 0x3f4a3ebd,0x3f35daa0 }, /* 287:  7.9001981e-01  7.1036720e-01 */
+    { 0xbfd3ab0c,0xbf7f1f25 }, /* 288: -1.6536574e+00 -9.9656898e-01 */
+    { 0xbe9f3846,0xbe9caa7b }, /* 289: -3.1097621e-01 -3.0598816e-01 */
+    { 0xc0652b52,0x3ed9b30d }, /* 290: -3.5807691e+00  4.2519417e-01 */
+    { 0x3f7e0827,0x3f5658c9 }, /* 291:  9.9231189e-01  8.3729225e-01 */
+    { 0xbfb69313,0xbf7d559e }, /* 292: -1.4263633e+00 -9.8958766e-01 */
+    { 0x3f14cd0e,0x3f0c9001 }, /* 293:  5.8125389e-01  5.4907233e-01 */
+    { 0x3fa8f534,0x3f77fd70 }, /* 294:  1.3199830e+00  9.6871090e-01 */
+    { 0x3f6bff99,0x3f4bf6a8 }, /* 295:  9.2186886e-01  7.9673243e-01 */
+    { 0xbf1de5cf,0xbf141332 }, /* 296: -6.1678785e-01 -5.7841790e-01 */
+    { 0xbf6bcbf4,0xbf4bd76e }, /* 297: -9.2108083e-01 -7.9625595e-01 */
+    { 0x3f4d33a3,0x3f37ec3d }, /* 298:  8.0156916e-01  7.1844846e-01 */
+    { 0xbf533b7f,0xbf3c10f4 }, /* 299: -8.2512659e-01 -7.3463368e-01 */
+    { 0xbf113c8a,0xbf0991e2 }, /* 300: -5.6733000e-01 -5.3738225e-01 */
+    { 0xbf10c7aa,0xbf092f43 }, /* 301: -5.6554663e-01 -5.3587741e-01 */
+    { 0xbefe2dab,0xbef3dd9f }, /* 302: -4.9644217e-01 -4.7630021e-01 */
+    { 0x3f4cd973,0x3f37ad76 }, /* 303:  8.0019301e-01  7.1749055e-01 */
+    { 0x3f357014,0x3f269ffe }, /* 304:  7.0874143e-01  6.5087879e-01 */
+    { 0x3f7cbdb4,0x3f55a36a }, /* 305:  9.8726964e-01  8.3452475e-01 */
+    { 0x3efcfc75,0x3ef2d116 }, /* 306:  4.9411359e-01  4.7425145e-01 */
+    { 0x3f22d32f,0x3f181110 }, /* 307:  6.3603491e-01  5.9401035e-01 */
+    { 0x37f4be73,0x37f4be73 }, /* 308:  2.9175751e-05  2.9175751e-05 */
+    { 0x3f362347,0x3f2727e1 }, /* 309:  7.1147579e-01  6.5295225e-01 */
+    { 0xbf6e4c10,0xbf4d582d }, /* 310: -9.3084812e-01 -8.0212671e-01 */
+    { 0x3f476849,0x3f33d87a }, /* 311:  7.7893502e-01  7.0252192e-01 */
+    { 0x3efceb3b,0x3ef2c1ec }, /* 312:  4.9398217e-01  4.7413576e-01 */
+    { 0x3f50fea4,0x3f3a8a75 }, /* 313:  8.1638551e-01  7.2867519e-01 */
+    { 0xbf0cd74e,0xbf05d7c9 }, /* 314: -5.5016029e-01 -5.2282387e-01 */
+    { 0xbf0fa58c,0xbf0839f9 }, /* 315: -5.6111979e-01 -5.3213459e-01 */
+    { 0xbfe2604b,0xbf7b028e }, /* 316: -1.7685636e+00 -9.8050773e-01 */
+    { 0xbf244939,0xbf193d54 }, /* 317: -6.4174229e-01 -5.9859204e-01 */
+    { 0x3f108475,0x3f08f680 }, /* 318:  5.6452113e-01  5.3501129e-01 */
+    { 0xbefb90e2,0xbef190c3 }, /* 319: -4.9133974e-01 -4.7180757e-01 */
+    { 0x3ef0cf69,0x3ee8078e }, /* 320:  4.7033241e-01  4.5318264e-01 */
+    { 0xbf4b94b7,0xbf36caaf }, /* 321: -7.9523796e-01 -7.1403021e-01 */
+    { 0x3f645e3c,0x3f474329 }, /* 322:  8.9206290e-01  7.7836853e-01 */
+    { 0x3f173f8d,0x3f0e99f6 }, /* 323:  5.9081346e-01  5.5703676e-01 */
+    { 0xbf28b08e,0xbf1cbe88 }, /* 324: -6.5894401e-01 -6.1228228e-01 */
+    { 0xbf10e1fe,0xbf09457d }, /* 325: -5.6594837e-01 -5.3621656e-01 */
+    { 0xbf450551,0xbf3223ae }, /* 326: -7.6961237e-01 -6.9585693e-01 */
+    { 0xbec5b0c4,0xbec0d09d }, /* 327: -3.8611424e-01 -3.7659159e-01 */
+    { 0x3f07baf2,0x3f0175bc }, /* 328:  5.3019631e-01  5.0570273e-01 */
+    { 0x3ff50746,0x3f710bc2 }, /* 329:  1.9142845e+00  9.4158566e-01 */
+    { 0xbee52f87,0xbedd9bb8 }, /* 330: -4.4762823e-01 -4.3282866e-01 */
+    { 0x3f01837d,0x3ef81e45 }, /* 331:  5.0591260e-01  4.8460594e-01 */
+    { 0xbf34aba9,0xbf260aaf }, /* 332: -7.0574433e-01 -6.4860052e-01 */
+    { 0xbf11626c,0xbf09b1d3 }, /* 333: -5.6790805e-01 -5.3786963e-01 */
+    { 0x3f4d3cd9,0x3f37f2a5 }, /* 334:  8.0170971e-01  7.1854621e-01 */
+    { 0x3f9125cb,0x3f67f5fb }, /* 335:  1.1339658e+00  9.0609711e-01 */
+    { 0xbf4c0e93,0xbf371feb }, /* 336: -7.9709738e-01 -7.1533078e-01 */
+    { 0xbeebd2b3,0xbee392ac }, /* 337: -4.6059188e-01 -4.4447839e-01 */
+    { 0x3f8008e7,0x3f577443 }, /* 338:  1.0002717e+00  8.4161776e-01 */
+    { 0xbea6c8dc,0xbea3d9bc }, /* 339: -3.2575119e-01 -3.2002056e-01 */
+    { 0x3f4d4531,0x3f37f872 }, /* 340:  8.0183703e-01  7.1863472e-01 */
+    { 0xbf15e0b0,0xbf0d760d }, /* 341: -5.8545971e-01 -5.5258256e-01 */
+    { 0xbf7a822c,0xbf546671 }, /* 342: -9.7854877e-01 -8.2968813e-01 */
+    { 0x3f849203,0x3f5c378b }, /* 343:  1.0357059e+00  8.6022252e-01 */
+    { 0x3f4a6942,0x3f35f88b }, /* 344:  7.9066861e-01  7.1082371e-01 */
+    { 0x3f34d3ac,0x3f262922 }, /* 345:  7.0635486e-01  6.4906514e-01 */
+    { 0x3f332a89,0x3f24e4d3 }, /* 346:  6.9986778e-01  6.4411658e-01 */
+    { 0x3f4b71f0,0x3f36b254 }, /* 347:  7.9470730e-01  7.1365857e-01 */
+    { 0xbf6dd621,0xbf4d11aa }, /* 348: -9.2904860e-01 -8.0105078e-01 */
+    { 0x3efc6f23,0x3ef254a2 }, /* 349:  4.9303541e-01  4.7330195e-01 */
+    { 0x3f325656,0x3f244249 }, /* 350:  6.9662988e-01  6.4163643e-01 */
+    { 0xbf4be887,0xbf370553 }, /* 351: -7.9651684e-01 -7.1492499e-01 */
+    { 0xbee0322b,0xbed91988 }, /* 352: -4.3788275e-01 -4.2402291e-01 */
+    { 0xbf73ca19,0xbf5093a2 }, /* 353: -9.5230252e-01 -8.1475270e-01 */
+    { 0x3f08fd53,0x3f028b73 }, /* 354:  5.3511542e-01  5.0994033e-01 */
+    { 0xbf4d7661,0xbf381aa3 }, /* 355: -8.0258757e-01 -7.1915644e-01 */
+    { 0x3f75b49a,0x3f51ae88 }, /* 356:  9.5978701e-01  8.1906939e-01 */
+    { 0x3edf0b40,0x3ed80e4d }, /* 357:  4.3563271e-01  4.2198411e-01 */
+    { 0xbf78ec44,0xbf5382d0 }, /* 358: -9.7235513e-01 -8.2621479e-01 */
+    { 0xbed04163,0xbeca8f6e }, /* 359: -4.0674886e-01 -3.9562553e-01 */
+    { 0x3f327ad0,0x3f245e42 }, /* 360:  6.9718647e-01  6.4206326e-01 */
+    { 0x3ef8a234,0x3eeef9e0 }, /* 361:  4.8561251e-01  4.6675014e-01 */
+    { 0x3f66ed09,0x3f48dbb2 }, /* 362:  9.0205437e-01  7.8460228e-01 */
+    { 0xbedb11c5,0xbed47231 }, /* 363: -4.2786995e-01 -4.1493371e-01 */
+    { 0xbf4d9768,0xbf383195 }, /* 364: -8.0309153e-01 -7.1950656e-01 */
+    { 0xbf37256d,0xbf27eb11 }, /* 365: -7.1541482e-01 -6.5593058e-01 */
+    { 0xbf1e00a8,0xbf142917 }, /* 366: -6.1719751e-01 -5.7875198e-01 */
+    { 0x3ef4e249,0x3eeba74d }, /* 367:  4.7828892e-01  4.6026078e-01 */
+    { 0xbf738a1b,0xbf506e81 }, /* 368: -9.5132607e-01 -8.1418616e-01 */
+    { 0xbf0be6e3,0xbf050a9d }, /* 369: -5.4649180e-01 -5.1969320e-01 */
+    { 0x3f4f38c1,0x3f395277 }, /* 370:  8.0945975e-01  7.2391456e-01 */
+    { 0x3f3253a7,0x3f24403a }, /* 371:  6.9658893e-01  6.4160502e-01 */
+    { 0x3eefb796,0x3ee70dfa }, /* 372:  4.6819752e-01  4.5127851e-01 */
+    { 0x3f207f4c,0x3f163018 }, /* 373:  6.2694240e-01  5.8667135e-01 */
+    { 0x3efcd8d0,0x3ef2b1b4 }, /* 374:  4.9384165e-01  4.7401202e-01 */
+    { 0xbf6d2015,0xbf4ca47d }, /* 375: -9.2627078e-01 -7.9938489e-01 */
+    { 0xbdc0fed6,0xbdc0b5be }, /* 376: -9.4236061e-02 -9.4096646e-02 */
+    { 0x3efbff34,0x3ef1f202 }, /* 377:  4.9218142e-01  4.7254950e-01 */
+    { 0x3f3ba3d3,0x3f2b48bf }, /* 378:  7.3296851e-01  6.6907877e-01 */
+    { 0x3f1dfcdb,0x3f1425fe }, /* 379:  6.1713952e-01  5.7870471e-01 */
+    { 0x401940a0,0x3f2df0f0 }, /* 380:  2.3945694e+00  6.7945766e-01 */
+    { 0xbf753533,0xbf516557 }, /* 381: -9.5784301e-01 -8.1795257e-01 */
+    { 0xbfeab28d,0xbf77364b }, /* 382: -1.8335739e+00 -9.6567219e-01 */
+    { 0xbea70efd,0xbea41c2b }, /* 383: -3.2628623e-01 -3.2052740e-01 */
+    { 0x3ef87c55,0x3eeed861 }, /* 384:  4.8532358e-01  4.6649459e-01 */
+    { 0xbf6d9a37,0xbf4cedc7 }, /* 385: -9.2813438e-01 -8.0050319e-01 */
+    { 0xbedde6dc,0xbed70515 }, /* 386: -4.3340194e-01 -4.1996065e-01 */
+    { 0x3f35cd30,0x3f26e6a3 }, /* 387:  7.1016216e-01  6.5195674e-01 */
+    { 0xbf079c8a,0xbf015b7f }, /* 388: -5.2973235e-01 -5.0530237e-01 */
+    { 0xbfa58e98,0xbf7636ed }, /* 389: -1.2934141e+00 -9.6177560e-01 */
+    { 0xbefc8c81,0xbef26e80 }, /* 390: -4.9325946e-01 -4.7349930e-01 */
+    { 0x3f329dce,0x3f247914 }, /* 391:  6.9772041e-01  6.4247251e-01 */
+    { 0xbf0c21ea,0xbf053d08 }, /* 392: -5.4739249e-01 -5.2046251e-01 */
+    { 0xbf37b2ad,0xbf285596 }, /* 393: -7.1757013e-01 -6.5755594e-01 */
+    { 0x3f4ceccc,0x3f37baf0 }, /* 394:  8.0048823e-01  7.1769619e-01 */
+    { 0x3f717e88,0x3f4f3cd0 }, /* 395:  9.4333696e-01  8.0952168e-01 */
+    { 0xbf7c7dd7,0xbf558033 }, /* 396: -9.8629516e-01 -8.3398741e-01 */
+    { 0xbef2f051,0xbee9ecc7 }, /* 397: -4.7448972e-01 -4.5688459e-01 */
+    { 0xbf07e2a3,0xbf0197f8 }, /* 398: -5.3080195e-01 -5.0622511e-01 */
+    { 0x3f3631c1,0x3f2732d7 }, /* 399:  7.1169668e-01  6.5311950e-01 */
+    { 0xbf5e0b9d,0xbf433b86 }, /* 400: -8.6736470e-01 -7.6262701e-01 */
+    { 0x3f823922,0x3f59c94d }, /* 401:  1.0173686e+00  8.5072786e-01 */
+    { 0x3f682bfe,0x3f49a0d7 }, /* 402:  9.0692127e-01  7.8761047e-01 */
+    { 0x3f357677,0x3f26a4d7 }, /* 403:  7.0883888e-01  6.5095276e-01 */
+    { 0xbe75a363,0xbe734a09 }, /* 404: -2.3988108e-01 -2.3758711e-01 */
+    { 0xbec8ad22,0xbec393dd }, /* 405: -3.9194590e-01 -3.8198748e-01 */
+    { 0xbf000fe2,0xbef59324 }, /* 406: -5.0024235e-01 -4.7963822e-01 */
+    { 0xbf2d4fe5,0xbf205f89 }, /* 407: -6.7700034e-01 -6.2645775e-01 */
+    { 0x3f16138c,0x3f0da06e }, /* 408:  5.8623576e-01  5.5322921e-01 */
+    { 0xbeffe68e,0xbef560ef }, /* 409: -4.9980587e-01 -4.7925517e-01 */
+    { 0xbebc7ad9,0xbeb8406a }, /* 410: -3.6812475e-01 -3.5986644e-01 */
+    { 0x3ef5017f,0x3eebc302 }, /* 411:  4.7852704e-01  4.6047217e-01 */
+    { 0xbf5c401e,0xbf421113 }, /* 412: -8.6035335e-01 -7.5807303e-01 */
+    { 0x3f4adb4c,0x3f3648af }, /* 413:  7.9240870e-01  7.1204656e-01 */
+    { 0x3f687a9f,0x3f49d140 }, /* 414:  9.0812105e-01  7.8834915e-01 */
+    { 0x3f686cfc,0x3f49c8dc }, /* 415:  9.0791297e-01  7.8822112e-01 */
+    { 0x3f0c094a,0x3f052800 }, /* 416:  5.4701674e-01  5.2014160e-01 */
+    { 0x3f6061bc,0x3f44bc53 }, /* 417:  8.7649131e-01  7.6849860e-01 */
+    { 0x3efe173d,0x3ef3c9e6 }, /* 418:  4.9627104e-01  4.7614974e-01 */
+    { 0x3f2eb081,0x3f2171c8 }, /* 419:  6.8238074e-01  6.3064241e-01 */
+    { 0x40cbde3d,0x3db35db0 }, /* 420:  6.3708787e+00  8.7581038e-02 */
+    { 0xbf6ee5a3,0xbf4db3bd }, /* 421: -9.3319148e-01 -8.0352384e-01 */
+    { 0xbf3352d5,0xbf2503a4 }, /* 422: -7.0048267e-01 -6.4458680e-01 */
+    { 0x3f01dc8d,0x3ef8ba05 }, /* 423:  5.0727159e-01  4.8579422e-01 */
+    { 0xbf490373,0xbf34fc2d }, /* 424: -7.8520888e-01 -7.0697290e-01 */
+    { 0xbf46507c,0xbf3310ef }, /* 425: -7.7466559e-01 -6.9947714e-01 */
+    { 0xbfd92732,0xbf7dfad4 }, /* 426: -1.6965086e+00 -9.9210858e-01 */
+    { 0x3f9e50ac,0x3f71db43 }, /* 427:  1.2368369e+00  9.4475192e-01 */
+    { 0xbf4df849,0xbf3874cf }, /* 428: -8.0456978e-01 -7.2053236e-01 */
+    { 0xbf4929ff,0xbf35176e }, /* 429: -7.8579706e-01 -7.0738876e-01 */
+    { 0x3f1c1645,0x3f12981f }, /* 430:  6.0971481e-01  5.7263368e-01 */
+    { 0xbf4b5aca,0xbf36a21d }, /* 431: -7.9435408e-01 -7.1341115e-01 */
+    { 0x3f116125,0x3f09b0c0 }, /* 432:  5.6788856e-01  5.3785324e-01 */
+    { 0x3f831544,0x3f5aaf73 }, /* 433:  1.0240865e+00  8.5423964e-01 */
+    { 0xbf17a4c7,0xbf0eedfc }, /* 434: -5.9235805e-01 -5.5831885e-01 */
+    { 0xbf0b0190,0xbf04467b }, /* 435: -5.4299259e-01 -5.1670045e-01 */
+    { 0x3f16125f,0x3f0d9f74 }, /* 436:  5.8621782e-01  5.5321431e-01 */
+    { 0xbfb019b5,0xbf7b25ca }, /* 437: -1.3757845e+00 -9.8104537e-01 */
+    { 0xbf9ac1ee,0xbf6f6e5e }, /* 438: -1.2090433e+00 -9.3527782e-01 */
+    { 0x3f6a8052,0x3f4b0e23 }, /* 439:  9.1602051e-01  7.9318446e-01 */
+    { 0x3ef72ea9,0x3eedb10b }, /* 440:  4.8277786e-01  4.6424136e-01 */
+    { 0xbf7ef61d,0xbf56da88 }, /* 441: -9.9594289e-01 -8.3927202e-01 */
+    { 0x3f311c0d,0x3f2350be }, /* 442:  6.9183427e-01  6.3795078e-01 */
+    { 0xbf45cae1,0xbf32b15b }, /* 443: -7.7262694e-01 -6.9801873e-01 */
+    { 0x3f321019,0x3f240c63 }, /* 444:  6.9555813e-01  6.4081401e-01 */
+    { 0xbee17f06,0xbeda46ce }, /* 445: -4.4042224e-01 -4.2632145e-01 */
+    { 0xbfb2a17a,0xbf7c1442 }, /* 446: -1.3955529e+00 -9.8468411e-01 */
+    { 0xbfc03a75,0xbf7f63ff }, /* 447: -1.5017840e+00 -9.9761957e-01 */
+    { 0xbf35e4e9,0xbf26f89f }, /* 448: -7.1052414e-01 -6.5223116e-01 */
+    { 0x3fb5c886,0x3f7d1a13 }, /* 449:  1.4201820e+00  9.8867911e-01 */
+    { 0x3ef16474,0x3ee88c60 }, /* 450:  4.7146952e-01  4.5419598e-01 */
+    { 0xbdd8eadc,0xbdd88317 }, /* 451: -1.0591671e-01 -1.0571878e-01 */
+    { 0xbf7288a3,0xbf4fd89b }, /* 452: -9.4739741e-01 -8.1189889e-01 */
+    { 0xbf4b0b3c,0xbf366a54 }, /* 453: -7.9314017e-01 -7.1255994e-01 */
+    { 0x3f04c1de,0x3efdc5d9 }, /* 454:  5.1858318e-01  4.9565008e-01 */
+    { 0x4013ced0,0x3f3d459e }, /* 455:  2.3094978e+00  7.3934352e-01 */
+    { 0xbf344cf3,0xbf25c28e }, /* 456: -7.0429915e-01 -6.4749992e-01 */
+    { 0xbf6bb651,0xbf4bca56 }, /* 457: -9.2075068e-01 -7.9605615e-01 */
+    { 0x3ee7608c,0x3edf94f1 }, /* 458:  4.5190847e-01  4.3668321e-01 */
+    { 0xbeff305f,0xbef4c0f9 }, /* 459: -4.9841592e-01 -4.7803476e-01 */
+    { 0xbf4559fa,0xbf326071 }, /* 460: -7.7090418e-01 -6.9678408e-01 */
+    { 0xbf7ec67d,0xbf56c09f }, /* 461: -9.9521619e-01 -8.3887666e-01 */
+    { 0xbfca11ae,0xbf7ffdf9 }, /* 462: -1.5786645e+00 -9.9996907e-01 */
+    { 0xbf323138,0xbf2425cf }, /* 463: -6.9606352e-01 -6.4120191e-01 */
+    { 0xbee0ea64,0xbed9c052 }, /* 464: -4.3928826e-01 -4.2529541e-01 */
+    { 0x3f71476f,0x3f4f1c73 }, /* 465:  9.4249624e-01  8.0902785e-01 */
+    { 0xbea3aad9,0xbea0e4eb }, /* 466: -3.1966284e-01 -3.1424651e-01 */
+    { 0x3f649894,0x3f4767c4 }, /* 467:  8.9295316e-01  7.7892709e-01 */
+    { 0xbf5d7054,0xbf42d6f0 }, /* 468: -8.6499524e-01 -7.6109219e-01 */
+    { 0xbf4ad214,0xbf364236 }, /* 469: -7.9226804e-01 -7.1194780e-01 */
+    { 0x3f0dcc5a,0x3f06a86f }, /* 470:  5.5389941e-01  5.2600759e-01 */
+    { 0xbee416e6,0xbedc9e9c }, /* 471: -4.4548720e-01 -4.3089759e-01 */
+    { 0x3f6b397b,0x3f4b7eb0 }, /* 472:  9.1884583e-01  7.9490185e-01 */
+    { 0x3f0446a7,0x3efcefb4 }, /* 473:  5.1670307e-01  4.9401629e-01 */
+    { 0x3fc87e0a,0x3f7fff5a }, /* 474:  1.5663464e+00  9.9999011e-01 */
+    { 0x3f64cfd5,0x3f478a66 }, /* 475:  8.9379627e-01  7.7945554e-01 */
+    { 0xbf4ede55,0xbf39140a }, /* 476: -8.0808002e-01 -7.2296202e-01 */
+    { 0xbf3617aa,0xbf271f15 }, /* 477: -7.1129858e-01 -6.5281802e-01 */
+    { 0xbf17b391,0xbf0efa41 }, /* 478: -5.9258372e-01 -5.5850607e-01 */
+    { 0x3ed31035,0x3ecd22d2 }, /* 479:  4.1223302e-01  4.0065628e-01 */
+    { 0xbf485de7,0xbf3486f3 }, /* 480: -7.8268284e-01 -7.0518416e-01 */
+    { 0xbf025a07,0xbef99541 }, /* 481: -5.0918621e-01 -4.8746684e-01 */
+    { 0x3f9bb002,0x3f701544 }, /* 482:  1.2163088e+00  9.3782449e-01 */
+    { 0xbf79edf8,0xbf541392 }, /* 483: -9.7628736e-01 -8.2842362e-01 */
+    { 0xbb449600,0xbb4495ed }, /* 484: -2.9996634e-03 -2.9996589e-03 */
+    { 0xbf93475f,0xbf69bb5e }, /* 485: -1.1506156e+00 -9.1301525e-01 */
+    { 0xbd929b7f,0xbd927b73 }, /* 486: -7.1585648e-02 -7.1524523e-02 */
+    { 0x405b2257,0xbe8ea9f9 }, /* 487:  3.4239709e+00 -2.7864054e-01 */
+    { 0xbf3394a1,0xbf2535ec }, /* 488: -7.0148665e-01 -6.4535403e-01 */
+    { 0x3f5f5853,0x3f441216 }, /* 489:  8.7244147e-01  7.6590097e-01 */
+    { 0x3f46ec49,0x3f338026 }, /* 490:  7.7704293e-01  7.0117414e-01 */
+    { 0x3f5020f0,0x3f39f259 }, /* 491:  8.1300259e-01  7.2635418e-01 */
+    { 0xbf6a7db2,0xbf4b0c8a }, /* 492: -9.1598046e-01 -7.9316008e-01 */
+    { 0x3f4b06ed,0x3f36674f }, /* 493:  7.9307443e-01  7.1251386e-01 */
+    { 0x3f7e0d88,0x3f565bba }, /* 494:  9.9239397e-01  8.3733714e-01 */
+    { 0x3f2f769c,0x3f220b57 }, /* 495:  6.8540359e-01  6.3298553e-01 */
+    { 0x3cd8060b,0x3cd7ffa2 }, /* 496:  2.6370069e-02  2.6367012e-02 */
+    { 0x3f34c515,0x3f261e08 }, /* 497:  7.0613223e-01  6.4889574e-01 */
+    { 0x3f4e84b9,0x3f38d616 }, /* 498:  8.0671269e-01  7.2201669e-01 */
+    { 0xbf17ac5b,0xbf0ef446 }, /* 499: -5.9247369e-01 -5.5841482e-01 */
+    { 0x3f67f4e3,0x3f497edd }, /* 500:  9.0608042e-01  7.8709203e-01 */
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]:  %#lx\n", index - 1, v.lo);
+#endif
+    exit (index ? index : -1);
+}
+
+int main ()
+{
+    union lofl_u x, z;
+    unsigned long v1, z1, r;
+    int i;
+    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	x.lo = pgm_read_dword (& t[i].x);
+	z.lo = pgm_read_dword (& t[i].z);
+	v.fl = sin (x.fl);
+	
+	v1 = (v.lo < 0) ? (unsigned long)~(v.lo) : v.lo + 0x80000000;
+	z1 = (z.lo < 0) ? (unsigned long)~(z.lo) : z.lo + 0x80000000;
+	r = (v1 >= z1) ? v1 - z1 : z1 - v1;
+	
+	if (r > 2) x_exit (i+1);
+    }
+    return 0;
+}
diff --git a/tests/simulate/math/sinh-01.c b/tests/simulate/math/sinh-01.c
new file mode 100644
index 0000000..a41a7bf
--- /dev/null
+++ b/tests/simulate/math/sinh-01.c
@@ -0,0 +1,116 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of sinh() function.
+   $Id$
+ */
+#include <math.h>
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+volatile union lofl_u v = { .lo = 1 };
+
+PROGMEM const struct {		/* Table of test cases.	*/
+    union lofl_u x;		/* argument	*/
+    union lofl_u z;		/* sinh(x)	*/
+} t[] = {
+
+    /* Zero	*/
+    { { .fl=  0.0 },	{ .fl=  0.0 } },
+    { { .fl= -0.0 },	{ .fl= -0.0 } },
+
+    /* Inf	*/
+    { { 0x7f800000 },	{ 0x7f800000 } },
+    { { 0xff800000 },	{ 0xff800000 } },
+
+    /* Subnormal	*/
+    { { 0x00000001 },	{ 0x00000001 } },
+    { { 0x00000100 },	{ 0x00000100 } },
+    { { 0x00010000 },	{ 0x00010000 } },
+    { { 0x007fffff },	{ 0x007fffff } },
+    { { 0x80000001 },	{ 0x80000001 } },
+    { { 0x80000100 },	{ 0x80000100 } },
+    { { 0x80010000 },	{ 0x80010000 } },
+    { { 0x807fffff },	{ 0x807fffff } },
+    
+    /* Arg too big	*/
+    { { .fl= 89.415989 },	{ 0x7f800000 } },
+    { { .fl= 100 },		{ 0x7f800000 } },
+    { { .fl= 1000 },		{ 0x7f800000 } },
+    { { 0x7f7fffff },		{ 0x7f800000 } },
+
+    /* Arg too negative	*/
+    { { .fl= -89.415989 },	{ 0xff800000 } },
+    { { .fl= -100 },		{ 0xff800000 } },
+    { { .fl= -12345 },		{ 0xff800000 } },
+    { { 0xff7fffff },		{ 0xff800000 } },
+
+    /* Near 0.0	*/
+    { { 0x00800000 },	{ 0x00800000 } },
+    { { 0x01000000 },	{ 0x01000000 } },
+    { { 0x38000000 },	{ 0x38000000 } },
+    { { 0x39000000 },	{ 0x39000000 } },
+    { { 0x39800000 },	{ 0x39800000 } },
+
+    { { 0x80800000 },	{ 0x80800000 } },
+    { { 0x81000000 },	{ 0x81000000 } },
+    { { 0xb8000000 },	{ 0xb8000000 } },
+    { { 0xb9000000 },	{ 0xb9000000 } },
+    { { 0xb9800000 },	{ 0xb9800000 } },
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]:  %#lx\n", index - 1, v.lo);
+#endif
+    exit (index ? index : -1);
+}
+
+int main ()
+{
+    union lofl_u x, z;
+    int i;
+    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	x.lo = pgm_read_dword (& t[i].x);
+	z.lo = pgm_read_dword (& t[i].z);
+	v.fl = sinh (x.fl);
+	/* Comparison is integer to verify the zero sign.	*/
+	if (v.lo != z.lo)
+	    x_exit (i+1);
+    }
+    return 0;
+}
diff --git a/tests/simulate/math/sinh-02.c b/tests/simulate/math/sinh-02.c
new file mode 100644
index 0000000..2bb32fe
--- /dev/null
+++ b/tests/simulate/math/sinh-02.c
@@ -0,0 +1,98 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of sinh() function. ULP control.
+   $Id$
+ */
+#include <math.h>
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+volatile union lofl_u v = { .lo = 1 };
+
+PROGMEM const struct {		/* Table of test cases.	*/
+    union lofl_u x;		/* argument	*/
+    union lofl_u z;		/* sinh(x)	*/
+    unsigned int maxulp;	/* max possible error in ULP	*/
+} t[] = {
+
+    { { .fl= 0 },	{ .fl= 0 },		0 },
+    { { 0x3a800000 },	{ 0x3a800001 },		0 },
+    { { 0x3e9ffffe },	{ 0x3ea29dec },		4 },
+    { { 0x3e9fffff },	{ 0x3ea29ded },		4 },
+    { { 0x3ea00000 },	{ 0x3ea29dee },		1 },
+    { { 0x3ea00001 },	{ 0x3ea29def },		1 },
+    { { .fl= 0.125 },	{ .fl= .12532576 },	1 },
+    { { .fl= 0.25 },	{ .fl= .25261232 },	1 },
+    { { .fl= 0.5 },	{ .fl= .52109531 },	1 },
+    { { .fl= 1 },	{ .fl= 1.1752012 },	1 },
+    { { .fl= 2 },	{ .fl= 3.6268604 },	2 },
+    { { .fl= 5 },	{ .fl= 74.203211 },	3 },
+    { { .fl= 10 },	{ .fl= 11013.233 },	7 },
+    { { .fl= 20 },	{ .fl= 2.4258260e+8 },	20 },
+    { { .fl= 50 },	{ .fl= 2.5923527e+21 },	20 },
+    { { .fl= 85 },	{ .fl= 4.1115063e+36 },	40 },
+    { { .fl= 89.25 },	{ .fl= 2.8823884e+38 }, 50 },
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]:  %#lx\n", index - 1, v.lo);
+#endif
+    exit (index ? index : -1);
+}
+
+int main ()
+{
+    union lofl_u x, z;
+    unsigned int maxulp;
+    unsigned long v1, z1, r;
+    int i;
+    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	x.lo = pgm_read_dword (& t[i].x);
+	z.lo = pgm_read_dword (& t[i].z);
+	maxulp = pgm_read_word (& t[i].maxulp);
+	v.fl = sinh (x.fl);
+	
+	v1 = (v.lo < 0) ? (unsigned long)~(v.lo) : v.lo + 0x80000000;
+	z1 = (z.lo < 0) ? (unsigned long)~(z.lo) : z.lo + 0x80000000;
+	r = (v1 >= z1) ? v1 - z1 : z1 - v1;
+	
+	if (r > maxulp) x_exit (i+1);
+    }
+    return 0;
+}
diff --git a/tests/simulate/math/sinh-500.c b/tests/simulate/math/sinh-500.c
new file mode 100644
index 0000000..2af8795
--- /dev/null
+++ b/tests/simulate/math/sinh-500.c
@@ -0,0 +1,579 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of sinh() function. 500 random cases.
+   $Id$
+ */
+#include <math.h>
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+volatile union lofl_u v = { .lo = 1 };
+
+PROGMEM const struct {		/* Table of test cases.	*/
+    long x;		/* argument	*/
+    long z;		/* sinh(x)	*/
+} t[] = {
+
+    /* x, sinh(x)	*/
+    { 0xbee0f447,0xbee8430e }, /*   1: -4.3936369e-01 -4.5363659e-01 */
+    { 0xbee7345a,0xbeef248b }, /*   2: -4.5157129e-01 -4.6707568e-01 */
+    { 0x3e867ddc,0x3e880b2c }, /*   3:  2.6267898e-01  2.6571023e-01 */
+    { 0x3f60ef91,0x3f7f0453 }, /*   4:  8.7865549e-01  9.9615973e-01 */
+    { 0xbd9fcbcf,0xbd9ff554 }, /*   5: -7.8025453e-02 -7.8104645e-02 */
+    { 0x3ebda5a1,0x3ec2036f }, /*   6:  3.7040427e-01  3.7893245e-01 */
+    { 0xc09b7df6,0xc280e75b }, /*   7: -4.8591261e+00 -6.4451866e+01 */
+    { 0x3f3291ea,0x3f416840 }, /*   8:  6.9753897e-01  7.5549698e-01 */
+    { 0xbf646f18,0xbf81fd3f }, /*   9: -8.9232016e-01 -1.0155410e+00 */
+    { 0x4061a9ae,0x4187d4ad }, /*  10:  3.5259814e+00  1.6978846e+01 */
+    { 0xbf303b04,0xbf3e7bb4 }, /*  11: -6.8840051e-01 -7.4407506e-01 */
+    { 0x3954cdaf,0x3954cdaf }, /*  12:  2.0294519e-04  2.0294519e-04 */
+    { 0xbf129bc3,0xbf1ac13c }, /*  13: -5.7268924e-01 -6.0451102e-01 */
+    { 0xbed9eba2,0xbee08f59 }, /*  14: -4.2562586e-01 -4.3859366e-01 */
+    { 0x3fa0f620,0x3fceddf5 }, /*  15:  1.2575111e+00  1.6161486e+00 */
+    { 0x3fc847d8,0x40124e40 }, /*  16:  1.5646925e+00  2.2860260e+00 */
+    { 0xbfdfca58,0xc03246b0 }, /*  17: -1.7483625e+00 -2.7855644e+00 */
+    { 0x3f634a85,0x3f812d15 }, /*  18:  8.8785583e-01  1.0091883e+00 */
+    { 0xbf95e815,0xbfba9a61 }, /*  19: -1.1711451e+00 -1.4578363e+00 */
+    { 0xbf1dc1dd,0xbf27eeef }, /*  20: -6.1623937e-01 -6.5598959e-01 */
+    { 0x3feb92fc,0x40447e97 }, /*  21:  1.8404231e+00  3.0702264e+00 */
+    { 0x3f739164,0x3f8d01ef }, /*  22:  9.5143723e-01  1.1016215e+00 */
+    { 0xbff90af2,0xc05b5e4a }, /*  23: -1.9456465e+00 -3.4276299e+00 */
+    { 0x3ffd442a,0x40630779 }, /*  24:  1.9786427e+00  3.5473311e+00 */
+    { 0xbf67093f,0xbf83d9b1 }, /*  25: -9.0248483e-01 -1.0300809e+00 */
+    { 0x401805c0,0x40aa96c1 }, /*  26:  2.3753510e+00  5.3309026e+00 */
+    { 0xbf99fd13,0xbfc1ea5f }, /*  27: -1.2030357e+00 -1.5149649e+00 */
+    { 0xc00be162,0xc08c8aad }, /*  28: -2.1856313e+00 -4.3919282e+00 */
+    { 0x3edb9e9e,0x3ee26aa5 }, /*  29:  4.2894453e-01  4.4221988e-01 */
+    { 0xbed491fa,0xbedabadb }, /*  30: -4.1517621e-01 -4.2720684e-01 */
+    { 0xbf5f5725,0xbf7cc51a }, /*  31: -8.7242347e-01 -9.8738253e-01 */
+    { 0x3f22f57d,0x3f2e307d }, /*  32:  6.3655835e-01  6.8042737e-01 */
+    { 0x40361f57,0x41093d2c }, /*  33:  2.8456628e+00  8.5774345e+00 */
+    { 0x3f9b9508,0x3fc4d2c8 }, /*  34:  1.2154856e+00  1.5376825e+00 */
+    { 0xbefe91a1,0xbf049812 }, /*  35: -4.9720481e-01 -5.1794541e-01 */
+    { 0xbf89f6d8,0xbfa645de }, /*  36: -1.0778456e+00 -1.2990072e+00 */
+    { 0x3ff083a9,0x404c9e5e }, /*  37:  1.8790179e+00  3.1971660e+00 */
+    { 0x3f65bf11,0x3f82ed1c }, /*  38:  8.9744669e-01  1.0228610e+00 */
+    { 0xc029b3cd,0xc0e1b2ce }, /*  39: -2.6515992e+00 -7.0530767e+00 */
+    { 0x403b348f,0x4114a82a }, /*  40:  2.9250829e+00  9.2910557e+00 */
+    { 0x3f6a8f86,0x3f866495 }, /*  41:  9.1625249e-01  1.0499445e+00 */
+    { 0x3f8b6590,0x3fa8a1b8 }, /*  42:  1.0890369e+00  1.3174353e+00 */
+    { 0x3f6bbe00,0x3f87403d }, /*  43:  9.2086792e-01  1.0566479e+00 */
+    { 0xbf7556ee,0xbf8e5431 }, /*  44: -9.5835769e-01 -1.1119443e+00 */
+    { 0xbff417c3,0xc052b178 }, /*  45: -1.9069752e+00 -3.2920818e+00 */
+    { 0x3f1e02e0,0x3f283cb5 }, /*  46:  6.1723137e-01  6.5717632e-01 */
+    { 0x3f2a7332,0x3f375374 }, /*  47:  6.6582024e-01  7.1611714e-01 */
+    { 0x3f3109c5,0x3f3f7da8 }, /*  48:  6.9155532e-01  7.4801111e-01 */
+    { 0x3f9c33be,0x3fc5f67d }, /*  49:  1.2203290e+00  1.5465847e+00 */
+    { 0xbf9939d2,0xbfc088d1 }, /*  50: -1.1970770e+00 -1.5041753e+00 */
+    { 0x3f026132,0x3f0816ef }, /*  51:  5.0929558e-01  5.3159994e-01 */
+    { 0x3f44e1d4,0x3f58df61 }, /*  52:  7.6907086e-01  8.4715849e-01 */
+    { 0x3fb843d1,0x3ffed6a1 }, /*  53:  1.4395696e+00  1.9909250e+00 */
+    { 0xc02e75e0,0xc0f34919 }, /*  54: -2.7259445e+00 -7.6026731e+00 */
+    { 0x3e958cd2,0x3e97af89 }, /*  55:  2.9209000e-01  2.9626110e-01 */
+    { 0x3f996269,0x3fc0d22c }, /*  56:  1.1983157e+00  1.5064139e+00 */
+    { 0xbf6c9f13,0xbf87e42a }, /*  57: -9.2430228e-01 -1.0616505e+00 */
+    { 0xbed4352e,0xbeda55f6 }, /*  58: -4.1446823e-01 -4.2643708e-01 */
+    { 0xbf636a5b,0xbf8143b4 }, /*  59: -8.8834161e-01 -1.0098786e+00 */
+    { 0xc0f60a6b,0xc4887b0b }, /*  60: -7.6887717e+00 -1.0918451e+03 */
+    { 0x3e9436d7,0x3e964aff }, /*  61:  2.8948089e-01  2.9354092e-01 */
+    { 0xbf4c9911,0xbf6315be }, /*  62: -7.9921061e-01 -8.8705051e-01 */
+    { 0x3fd0c674,0x401d3bc5 }, /*  63:  1.6310563e+00  2.4567730e+00 */
+    { 0xbe4df209,0xbe4f562d }, /*  64: -2.0111860e-01 -2.0247717e-01 */
+    { 0x3f1a5021,0x3f23d446 }, /*  65:  6.0278517e-01  6.3995779e-01 */
+    { 0x3ef3561d,0x3efc99e3 }, /*  66:  4.7526637e-01  4.9336156e-01 */
+    { 0x3f149a5f,0x3f1d171a }, /*  67:  5.8048052e-01  6.1363375e-01 */
+    { 0xc1a6faeb,0xce0a65e1 }, /*  68: -2.0872519e+01 -5.8048314e+08 */
+    { 0xbf01ed25,0xbf07938e }, /*  69: -5.0752479e-01 -5.2959526e-01 */
+    { 0x3eb6e560,0x3ebacf86 }, /*  70:  3.5721874e-01  3.6486453e-01 */
+    { 0x4060ddc9,0x418625df }, /*  71:  3.5135367e+00  1.6768492e+01 */
+    { 0xbf143567,0xbf1ca0af }, /*  72: -5.7893986e-01 -6.1182684e-01 */
+    { 0xbf5ed092,0xbf7c081e }, /*  73: -8.7037003e-01 -9.8449886e-01 */
+    { 0x40778928,0x41bf4115 }, /*  74:  3.8677464e+00  2.3906778e+01 */
+    { 0xc0671132,0xc193d19f }, /*  75: -3.6104245e+00 -1.8477354e+01 */
+    { 0xbf9a5693,0xbfc28d05 }, /*  76: -1.2057670e+00 -1.5199286e+00 */
+    { 0x25b28812,0x25b28812 }, /*  77:  3.0970283e-16  3.0970283e-16 */
+    { 0xbf968aa2,0xbfbbba55 }, /*  78: -1.1761057e+00 -1.4666239e+00 */
+    { 0xbf702ac4,0xbf8a7d70 }, /*  79: -9.3815255e-01 -1.0819530e+00 */
+    { 0xbf95feb0,0xbfbac25a }, /*  80: -1.1718349e+00 -1.4590561e+00 */
+    { 0xbfd6bada,0xc0254dcb }, /*  81: -1.6775773e+00 -2.5828731e+00 */
+    { 0xbf800000,0xbf966cfe }, /*  82: -1.0000000e+00 -1.1752012e+00 */
+    { 0xbef2b83a,0xbefbe9e1 }, /*  83: -4.7406179e-01 -4.9201873e-01 */
+    { 0xc0c1f421,0xc3566969 }, /*  84: -6.0610509e+00 -2.1441176e+02 */
+    { 0xbf37f41e,0xbf4832a3 }, /*  85: -7.1856868e-01 -7.8202266e-01 */
+    { 0xbf8cdaf0,0xbfab0e17 }, /*  86: -1.1004314e+00 -1.3363675e+00 */
+    { 0x3f65e59e,0x3f8308b0 }, /*  87:  8.9803493e-01  1.0237026e+00 */
+    { 0xbf3453fb,0xbf439d7e }, /*  88: -7.0440644e-01 -7.6412189e-01 */
+    { 0x3f29cea3,0x3f368933 }, /*  89:  6.6330928e-01  7.1303099e-01 */
+    { 0x3f9905c1,0x3fc02ad5 }, /*  90:  1.1954881e+00  1.5013071e+00 */
+    { 0x4012b947,0x409cc9a2 }, /*  91:  2.2925584e+00  4.8996134e+00 */
+    { 0xbf9e86c6,0xbfca46c9 }, /*  92: -1.2384880e+00 -1.5802852e+00 */
+    { 0x3f253984,0x3f30efcf }, /*  93:  6.4540887e-01  6.9115919e-01 */
+    { 0x3f39e2e5,0x3f4aa836 }, /*  94:  7.2611839e-01  7.9162920e-01 */
+    { 0x3f2eefe1,0x3f3cdf94 }, /*  95:  6.8334776e-01  7.3778653e-01 */
+    { 0xbf1f8914,0xbf2a1065 }, /*  96: -6.2318540e-01 -6.6431266e-01 */
+    { 0xbf16eec3,0xbf1fd480 }, /*  97: -5.8958071e-01 -6.2433624e-01 */
+    { 0xbf343dfe,0xbf4381d3 }, /*  98: -7.0407093e-01 -7.6369971e-01 */
+    { 0x3fe5e70b,0x403b8711 }, /*  99:  1.7961134e+00  2.9301188e+00 */
+    { 0x3f991418,0x3fc044b5 }, /* 100:  1.1959257e+00  1.5020968e+00 */
+    { 0xbf3a8ea6,0xbf4b8372 }, /* 101: -7.2873914e-01 -7.9497445e-01 */
+    { 0x3fd8bfb4,0x40281ed9 }, /* 102:  1.6933503e+00  2.6268828e+00 */
+    { 0x3e9758b2,0x3e998f68 }, /* 103:  2.9559857e-01  2.9992223e-01 */
+    { 0x3fa09a03,0x3fce2f1b }, /* 104:  1.2547001e+00  1.6108125e+00 */
+    { 0xaced00fa,0xaced00fa }, /* 105: -6.7360536e-12 -6.7360536e-12 */
+    { 0x3f5fc227,0x3f7d5b91 }, /* 106:  8.7405628e-01  9.8967844e-01 */
+    { 0x389e6725,0x389e6725 }, /* 107:  7.5532393e-05  7.5532393e-05 */
+    { 0xbe95f3c0,0xbe981ae6 }, /* 108: -2.9287529e-01 -2.9708022e-01 */
+    { 0x3f8bbc1b,0x3fa93103 }, /* 109:  1.0916780e+00  1.3218082e+00 */
+    { 0xbf679151,0xbf843b70 }, /* 110: -9.0456110e-01 -1.0330639e+00 */
+    { 0xbde4b232,0xbde52bf2 }, /* 111: -1.1166801e-01 -1.1190023e-01 */
+    { 0xbfa01ce6,0xbfcd4247 }, /* 112: -1.2508819e+00 -1.6035851e+00 */
+    { 0x40d1c173,0x43afa9c2 }, /* 113:  6.5548644e+00  3.5132623e+02 */
+    { 0x3dde869c,0x3ddef6c4 }, /* 114:  1.0865518e-01  1.0886911e-01 */
+    { 0xbfed8fea,0xc047ba5a }, /* 115: -1.8559544e+00 -3.1207490e+00 */
+    { 0x404731ab,0x413371d0 }, /* 116:  3.1124065e+00  1.1215286e+01 */
+    { 0xbeda408c,0xbee0ec15 }, /* 117: -4.2627370e-01 -4.3930116e-01 */
+    { 0xbf3a9010,0xbf4b8540 }, /* 118: -7.2876072e-01 -7.9500198e-01 */
+    { 0xbea7538d,0xbeaa5223 }, /* 119: -3.2680932e-01 -3.3265790e-01 */
+    { 0x42b18b58,0x7f067885 }, /* 120:  8.8772156e+01  1.7874232e+38 */
+    { 0x40498f5d,0x413a3a98 }, /* 121:  3.1493752e+00  1.1639305e+01 */
+    { 0xbf9a9a11,0xbfc307ec }, /* 122: -1.2078267e+00 -1.5236793e+00 */
+    { 0x3f3219be,0x3f40d1b9 }, /* 123:  6.9570529e-01  7.5320011e-01 */
+    { 0x3fcc67e3,0x40178771 }, /* 124:  1.5969204e+00  2.3676417e+00 */
+    { 0xbffd9915,0xc063a428 }, /* 125: -1.9812342e+00 -3.5568943e+00 */
+    { 0x3ff40f98,0x4052a36b }, /* 126:  1.9067259e+00  3.2912242e+00 */
+    { 0xbffae80e,0xc05eb80a }, /* 127: -1.9602067e+00 -3.4799829e+00 */
+    { 0x3f977db2,0x3fbd6b1e }, /* 128:  1.1835234e+00  1.4798315e+00 */
+    { 0x3f66a915,0x3f8394b3 }, /* 129:  9.0101749e-01  1.0279754e+00 */
+    { 0xbe0a4328,0xbe0aaecd }, /* 130: -1.3502181e-01 -1.3543244e-01 */
+    { 0xbf65525e,0xbf829f69 }, /* 131: -8.9578807e-01 -1.0204898e+00 */
+    { 0xbf36c3f9,0xbf46b116 }, /* 132: -7.1392781e-01 -7.7613962e-01 */
+    { 0x3eeae2f1,0x3ef33679 }, /* 133:  4.5876268e-01  4.7502497e-01 */
+    { 0x3f74e0cc,0x3f8dfbeb }, /* 134:  9.5655513e-01  1.1092504e+00 */
+    { 0xbed7a79f,0xbede168f }, /* 135: -4.2120072e-01 -4.3376586e-01 */
+    { 0x3f95566e,0x3fb9995b }, /* 136:  1.1667001e+00  1.4499925e+00 */
+    { 0xc03af9ef,0xc1141f73 }, /* 137: -2.9215047e+00 -9.2576780e+00 */
+    { 0xbd4f881c,0xbd4f9ed8 }, /* 138: -5.0666913e-02 -5.0688595e-02 */
+    { 0xbf21622e,0xbf2c4984 }, /* 139: -6.3040435e-01 -6.7299676e-01 */
+    { 0x3ccfd9f2,0x3ccfdfa8 }, /* 140:  2.5372479e-02  2.5375202e-02 */
+    { 0xbeffbc40,0xbf05404f }, /* 141: -4.9948311e-01 -5.2051252e-01 */
+    { 0x3ee764e2,0x3eef5a1c }, /* 142:  4.5194155e-01  4.6748435e-01 */
+    { 0xc03a37f6,0xc1125e8d }, /* 143: -2.9096656e+00 -9.1480837e+00 */
+    { 0x3fcd64a5,0x4018cd69 }, /* 144:  1.6046339e+00  2.3875372e+00 */
+    { 0xbf9ac626,0xbfc3584f }, /* 145: -1.2091720e+00 -1.5261325e+00 */
+    { 0xbf3b5cb7,0xbf4c8af3 }, /* 146: -7.3188347e-01 -7.9899520e-01 */
+    { 0xc02b8807,0xc0e84e5c }, /* 147: -2.6801775e+00 -7.2595654e+00 */
+    { 0xbff8ef6a,0xc05b2d29 }, /* 148: -1.9448063e+00 -3.4246314e+00 */
+    { 0xbf65ffb5,0xbf831b5b }, /* 149: -8.9843303e-01 -1.0242723e+00 */
+    { 0x3f96cb93,0x3fbc2db4 }, /* 150:  1.1780876e+00  1.4701447e+00 */
+    { 0xbf68a279,0xbf85001a }, /* 151: -9.0872914e-01 -1.0390656e+00 */
+    { 0xbf1dc5c8,0xbf27f39f }, /* 152: -6.1629915e-01 -6.5606111e-01 */
+    { 0xbf389540,0xbf48ff58 }, /* 153: -7.2102737e-01 -7.8514624e-01 */
+    { 0x3f0073c8,0x3f05e91d }, /* 154:  5.0176668e-01  5.2308828e-01 */
+    { 0x3f5f63ed,0x3f7cd710 }, /* 155:  8.7261850e-01  9.8765659e-01 */
+    { 0xbd0c024b,0xbd0c0946 }, /* 156: -3.4181874e-02 -3.4188531e-02 */
+    { 0x3f675822,0x3f841257 }, /* 157:  9.0368855e-01  1.0318097e+00 */
+    { 0xbf4ca865,0xbf632a3c }, /* 158: -7.9944450e-01 -8.8736320e-01 */
+    { 0xbe8b1314,0xbe8cca83 }, /* 159: -2.7162993e-01 -2.7498254e-01 */
+    { 0xbf64fb86,0xbf826166 }, /* 160: -8.9446294e-01 -1.0185974e+00 */
+    { 0xbf5c531c,0xbf788c9c }, /* 161: -8.6064315e-01 -9.7089553e-01 */
+    { 0xbf3b0b30,0xbf4c22a3 }, /* 162: -7.3063946e-01 -7.9740351e-01 */
+    { 0x3f1cc3cd,0x3f26bf68 }, /* 163:  6.1236268e-01  6.5135813e-01 */
+    { 0xbff5539c,0xc054d356 }, /* 164: -1.9166141e+00 -3.3253989e+00 */
+    { 0xbf8a9d8d,0xbfa757b5 }, /* 165: -1.0829331e+00 -1.3073641e+00 */
+    { 0x3fcdd3b3,0x40195d5e }, /* 166:  1.6080230e+00  2.3963237e+00 */
+    { 0x3fa151d4,0x3fcf8c73 }, /* 167:  1.2603097e+00  1.6214737e+00 */
+    { 0xbd109acd,0xbd10a27e }, /* 168: -3.5303880e-02 -3.5311215e-02 */
+    { 0xbf154efe,0xbf1deb2b }, /* 169: -5.8323658e-01 -6.1686963e-01 */
+    { 0x3e67f3e1,0x3e69f0fa }, /* 170:  2.2651626e-01  2.2845832e-01 */
+    { 0xc1cba61f,0xd153a19c }, /* 171: -2.5456114e+01 -5.6809341e+10 */
+    { 0xbf00e672,0xbf066a92 }, /* 172: -5.0351632e-01 -5.2506363e-01 */
+    { 0x3f29333e,0x3f35ca7a }, /* 173:  6.6093814e-01  7.1012080e-01 */
+    { 0x3f93886e,0x3fb6704b }, /* 174:  1.1526010e+00  1.4253019e+00 */
+    { 0xbc3dd6a4,0xbc3dd7ba }, /* 175: -1.1586819e-02 -1.1587078e-02 */
+    { 0xbf2a36bc,0xbf37091b }, /* 176: -6.6489768e-01 -7.1498269e-01 */
+    { 0x3f8c5215,0x3faa2a0c }, /* 177:  1.0962549e+00  1.3294082e+00 */
+    { 0xbefc64d3,0xbf035ed9 }, /* 178: -4.9295673e-01 -5.1316601e-01 */
+    { 0xbfb9337b,0xc000772b }, /* 179: -1.4468836e+00 -2.0072734e+00 */
+    { 0xbfd065f8,0xc01cbbfb }, /* 180: -1.6281118e+00 -2.4489734e+00 */
+    { 0xbf6627ce,0xbf833810 }, /* 181: -8.9904487e-01 -1.0251484e+00 */
+    { 0x3f8fb00d,0x3fafd331 }, /* 182:  1.1225601e+00  1.3736326e+00 */
+    { 0xbfbd0888,0xc004d21d }, /* 183: -1.4768229e+00 -2.0753243e+00 */
+    { 0x3a7d36b4,0x3a7d36b7 }, /* 184:  9.6593355e-04  9.6593372e-04 */
+    { 0xbcc18363,0xbcc187fe }, /* 185: -2.3622220e-02 -2.3624416e-02 */
+    { 0x3f423b0d,0x3f5568bc }, /* 186:  7.5871354e-01  8.3362937e-01 */
+    { 0xc0120485,0xc09b081e }, /* 187: -2.2815259e+00 -4.8447409e+00 */
+    { 0x3eefbd26,0x3ef89887 }, /* 188:  4.6823996e-01  4.8553869e-01 */
+    { 0x4023ada3,0x40cd35f0 }, /* 189:  2.5574729e+00  6.4128342e+00 */
+    { 0x4038797c,0x410e6927 }, /* 190:  2.8824148e+00  8.9006720e+00 */
+    { 0xbfedc152,0xc0480b5c }, /* 191: -1.8574622e+00 -3.1256933e+00 */
+    { 0xbf59e683,0xbf752e78 }, /* 192: -8.5117358e-01 -9.5774031e-01 */
+    { 0x3f169998,0x3f1f7021 }, /* 193:  5.8828115e-01  6.2280470e-01 */
+    { 0xbeff5459,0xbf0505c0 }, /* 194: -4.9869040e-01 -5.1961899e-01 */
+    { 0xbf8fa728,0xbfafc415 }, /* 195: -1.1222887e+00 -1.3731714e+00 */
+    { 0x038fa702,0x038fa702 }, /* 196:  8.4431277e-37  8.4431277e-37 */
+    { 0x3f5e229c,0x3f7b143a }, /* 197:  8.6771560e-01  9.8077738e-01 */
+    { 0xc10d4776,0xc5559f5e }, /* 198: -8.8299465e+00 -3.4179604e+03 */
+    { 0xbf63f41d,0xbf81a5ab }, /* 199: -8.9044362e-01 -1.0128683e+00 */
+    { 0xbf645434,0xbf81ea16 }, /* 200: -8.9190984e-01 -1.0149562e+00 */
+    { 0x3f670883,0x3f83d92a }, /* 201:  9.0247363e-01  1.0300648e+00 */
+    { 0x3f370363,0x3f470162 }, /* 202:  7.1489543e-01  7.7736485e-01 */
+    { 0x3f724d7e,0x3f8c116d }, /* 203:  9.4649494e-01  1.0942818e+00 */
+    { 0xbf70392f,0xbf8a8810 }, /* 204: -9.3837255e-01 -1.0822773e+00 */
+    { 0x3f64dad0,0x3f824a0e }, /* 205:  8.9396381e-01  1.0178850e+00 */
+    { 0xbf6772a2,0xbf842562 }, /* 206: -9.0409291e-01 -1.0323908e+00 */
+    { 0x3f2a199e,0x3f36e551 }, /* 207:  6.6445339e-01  7.1443659e-01 */
+    { 0xbe56e5d9,0xbe587a8e }, /* 208: -2.0986117e-01 -2.1140501e-01 */
+    { 0x3ecfad56,0x3ed56b3b }, /* 209:  4.0561932e-01  4.1683373e-01 */
+    { 0x3f334c75,0x3f42523f }, /* 210:  7.0038539e-01  7.5906748e-01 */
+    { 0xbfc9c93d,0xc01431ab }, /* 211: -1.5764538e+00 -2.3155315e+00 */
+    { 0x3f0d3065,0x3f1474d4 }, /* 212:  5.5151969e-01  5.7990766e-01 */
+    { 0x3f9799d5,0x3fbd9d64 }, /* 213:  1.1843821e+00  1.4813657e+00 */
+    { 0x3fcdd47f,0x40195e67 }, /* 214:  1.6080474e+00  2.3963869e+00 */
+    { 0x41f4c127,0x550cdfc9 }, /* 215:  3.0594313e+01  9.6807986e+12 */
+    { 0x3f98375d,0x3fbeb782 }, /* 216:  1.1891896e+00  1.4899752e+00 */
+    { 0xbf682aea,0xbf84a9f3 }, /* 217: -9.0690482e-01 -1.0364364e+00 */
+    { 0x415a8904,0x48d0a7d4 }, /* 218:  1.3658451e+01  4.2732662e+05 */
+    { 0xbde54065,0xbde5bb09 }, /* 219: -1.1193923e-01 -1.1217315e-01 */
+    { 0xbf676686,0xbf841cae }, /* 220: -9.0390813e-01 -1.0321252e+00 */
+    { 0x42448009,0x626a5660 }, /* 221:  4.9125034e+01  1.0806905e+21 */
+    { 0x3ef7abc9,0x3f00b8cc }, /* 222:  4.8373249e-01  5.0281978e-01 */
+    { 0x3f18c33e,0x3f21fdd7 }, /* 223:  5.9672916e-01  6.3277954e-01 */
+    { 0x3fc385a2,0x400c77f6 }, /* 224:  1.5275156e+00  2.1948218e+00 */
+    { 0x419036d5,0x4c00a27f }, /* 225:  1.8026773e+01  3.3720828e+07 */
+    { 0xbf2b1613,0xbf381bef }, /* 226: -6.6830558e-01 -7.1917623e-01 */
+    { 0xbfe9e31d,0xc041c9b0 }, /* 227: -1.8272434e+00 -3.0279350e+00 */
+    { 0xbefde801,0xbf043896 }, /* 228: -4.9591067e-01 -5.1648843e-01 */
+    { 0xbf03b8c7,0xbf099c86 }, /* 229: -5.1453823e-01 -5.3754461e-01 */
+    { 0x3f446e33,0x3f5847ec }, /* 230:  7.6730651e-01  8.4484744e-01 */
+    { 0xbe6fbfd5,0xbe71f21c }, /* 231: -2.3413022e-01 -2.3627514e-01 */
+    { 0x3f9162a2,0x3fb2b990 }, /* 232:  1.1358225e+00  1.3962879e+00 */
+    { 0xc176ebf4,0xca19c2c3 }, /* 233: -1.5432606e+01 -2.5192168e+06 */
+    { 0x41935d4a,0x4c3eb5ce }, /* 234:  1.8420551e+01  4.9993528e+07 */
+    { 0x40f5214f,0x4484a6d7 }, /* 235:  7.6603160e+00  1.0612137e+03 */
+    { 0x401b04b4,0x40b2e74d }, /* 236:  2.4221621e+00  5.5907350e+00 */
+    { 0xbbe3324e,0xbbe332c5 }, /* 237: -6.9334870e-03 -6.9335424e-03 */
+    { 0x3e7fa73b,0x3e8128a0 }, /* 238:  2.4966137e-01  2.5226307e-01 */
+    { 0x3f00fdf6,0x3f068522 }, /* 239:  5.0387514e-01  5.2546895e-01 */
+    { 0x401e185a,0x40bbd9cf }, /* 240:  2.4702363e+00  5.8703380e+00 */
+    { 0x3f104be1,0x3f180f37 }, /* 241:  5.6365782e-01  5.9398216e-01 */
+    { 0x3ed855cc,0x3eded477 }, /* 242:  4.2252958e-01  4.3521473e-01 */
+    { 0x3f8d3494,0x3faba3df }, /* 243:  1.1031671e+00  1.3409384e+00 */
+    { 0xbf6c8206,0xbf87cefc }, /* 244: -9.2385900e-01 -1.0610042e+00 */
+    { 0xbfd0e775,0xc01d6790 }, /* 245: -1.6320635e+00 -2.4594460e+00 */
+    { 0x3fa196e3,0x3fd01020 }, /* 246:  1.2624172e+00  1.6254921e+00 */
+    { 0x3fdbef84,0x402ca6d8 }, /* 247:  1.7182469e+00  2.6976833e+00 */
+    { 0x3f96dd30,0x3fbc4d07 }, /* 248:  1.1786251e+00  1.4711007e+00 */
+    { 0xbf8c5434,0xbfaa2d93 }, /* 249: -1.0963197e+00 -1.3295158e+00 */
+    { 0x3f921827,0x3fb3f204 }, /* 250:  1.1413621e+00  1.4058232e+00 */
+    { 0x3fbeb293,0x4006bfbd }, /* 251:  1.4898247e+00  2.1054528e+00 */
+    { 0x3f8a09d0,0x3fa664f8 }, /* 252:  1.0784245e+00  1.2999563e+00 */
+    { 0xbfdc5f5c,0xc02d47fe }, /* 253: -1.7216601e+00 -2.7075191e+00 */
+    { 0xbf9a9701,0xbfc30257 }, /* 254: -1.2077333e+00 -1.5235089e+00 */
+    { 0x3dffa6bd,0x3e00286c }, /* 255:  1.2482975e-01  1.2515420e-01 */
+    { 0xbf677f85,0xbf842ea5 }, /* 256: -9.0428954e-01 -1.0326735e+00 */
+    { 0xbf17e136,0xbf20f29a }, /* 257: -5.9328020e-01 -6.2870181e-01 */
+    { 0x3e410fb8,0x3e42350b }, /* 258:  1.8853652e-01  1.8965547e-01 */
+    { 0x4030f06b,0x40fcf94f }, /* 259:  2.7646739e+00  7.9054332e+00 */
+    { 0x3f9b22f2,0x3fc401d3 }, /* 260:  1.2120039e+00  1.5313057e+00 */
+    { 0xbf0a34a2,0xbf11047f }, /* 261: -5.3986561e-01 -5.6647485e-01 */
+    { 0xc01ae62c,0xc0b290ae }, /* 262: -2.4202986e+00 -5.5801611e+00 */
+    { 0xb4feb15e,0xb4feb15e }, /* 263: -4.7440238e-07 -4.7440238e-07 */
+    { 0xbf8bf7b3,0xbfa993db }, /* 264: -1.0934967e+00 -1.3248247e+00 */
+    { 0x3f981405,0x3fbe781d }, /* 265:  1.1881109e+00  1.4880406e+00 */
+    { 0x3f9adf8b,0x3fc386a8 }, /* 266:  1.2099470e+00  1.5275469e+00 */
+    { 0x40d0d833,0x43aabb64 }, /* 267:  6.5263915e+00  3.4146399e+02 */
+    { 0x417899fa,0x4a2ac808 }, /* 268:  1.5537592e+01  2.7980820e+06 */
+    { 0xbb65bed2,0xbb65bef1 }, /* 269: -3.5056365e-03 -3.5056437e-03 */
+    { 0x3f90df22,0x3fb1d816 }, /* 270:  1.1318095e+00  1.3894069e+00 */
+    { 0x3f18319a,0x3f215197 }, /* 271:  5.9450686e-01  6.3015121e-01 */
+    { 0x3f98cd37,0x3fbfc4eb }, /* 272:  1.1937627e+00  1.4981970e+00 */
+    { 0xc02a697c,0xc0e43d7e }, /* 273: -2.6626883e+00 -7.1325064e+00 */
+    { 0x3ee52319,0x3eecdce7 }, /* 274:  4.4753340e-01  4.6262285e-01 */
+    { 0x4075531a,0x41b8c0ec }, /* 275:  3.8331971e+00  2.3094200e+01 */
+    { 0x3f19af5c,0x3f231587 }, /* 276:  6.0033202e-01  6.3704723e-01 */
+    { 0x3e7f612c,0x3e810480 }, /* 277:  2.4939412e-01  2.5198746e-01 */
+    { 0xbfd97272,0xc0291ab2 }, /* 278: -1.6988051e+00 -2.6422544e+00 */
+    { 0x3e291e49,0x3e29e35f }, /* 279:  1.6515459e-01  1.6590641e-01 */
+    { 0xbefb7ad0,0xbf02db63 }, /* 280: -4.9117136e-01 -5.1116008e-01 */
+    { 0x3fced327,0x401aaa38 }, /* 281:  1.6158189e+00  2.4166393e+00 */
+    { 0x3f5c74da,0x3f78bba5 }, /* 282:  8.6115801e-01  9.7161323e-01 */
+    { 0x3f027f40,0x3f0838f9 }, /* 283:  5.0975418e-01  5.3211933e-01 */
+    { 0x3f9d7923,0x3fc85048 }, /* 284:  1.2302593e+00  1.5649500e+00 */
+    { 0x402a2c8e,0x40e3627b }, /* 285:  2.6589694e+00  7.1057715e+00 */
+    { 0xc0831425,0xc1f061a0 }, /* 286: -4.0962090e+00 -3.0047668e+01 */
+    { 0x3f31fafd,0x3f40ab3a }, /* 287:  6.9523603e-01  7.5261271e-01 */
+    { 0x3f1c9622,0x3f2688ea }, /* 288:  6.1166584e-01  6.5052664e-01 */
+    { 0xbfdf4e0a,0xc0318f11 }, /* 289: -1.7445691e+00 -2.7743571e+00 */
+    { 0x3f1e6485,0x3f28b199 }, /* 290:  6.1872131e-01  6.5895993e-01 */
+    { 0xbf4064d4,0xbf5305f4 }, /* 291: -7.5153852e-01 -8.2430959e-01 */
+    { 0x3f1ef332,0x3f295c91 }, /* 292:  6.2089837e-01  6.6156870e-01 */
+    { 0xbf91dd6c,0xbfb38cc4 }, /* 293: -1.1395698e+00 -1.4027333e+00 */
+    { 0x3f6768c4,0x3f841e4b }, /* 294:  9.0394235e-01  1.0321745e+00 */
+    { 0xbef9f43d,0xbf020037 }, /* 295: -4.8819152e-01 -5.0781578e-01 */
+    { 0xbfd2c2dc,0xc01fe2ea }, /* 296: -1.6465716e+00 -2.4982247e+00 */
+    { 0x3ffaf71e,0x405ed350 }, /* 297:  1.9606664e+00  3.4816475e+00 */
+    { 0x3f0b443c,0x3f123cf8 }, /* 298:  5.4400992e-01  5.7124281e-01 */
+    { 0x3f8f497d,0x3faf2527 }, /* 299:  1.1194302e+00  1.3683213e+00 */
+    { 0xc04400a2,0xc12aae14 }, /* 300: -3.0625386e+00 -1.0667500e+01 */
+    { 0xbf96b917,0xbfbc0cd8 }, /* 301: -1.1775235e+00 -1.4691420e+00 */
+    { 0xc05a6ee3,0xc172971a }, /* 302: -3.4130180e+00 -1.5161890e+01 */
+    { 0x3e24d26c,0x3e2588da }, /* 303:  1.6095895e-01  1.6165486e-01 */
+    { 0x3f6b25ab,0x3f86d186 }, /* 304:  9.1854352e-01  1.0532691e+00 */
+    { 0x3fa340ab,0x3fd3413b }, /* 305:  1.2754110e+00  1.6504282e+00 */
+    { 0x3fcd2dca,0x40188678 }, /* 306:  1.6029599e+00  2.3832073e+00 */
+    { 0x4056bb7c,0x4164ee0c }, /* 307:  3.3551931e+00  1.4308117e+01 */
+    { 0xbf9938a8,0xbfc086b7 }, /* 308: -1.1970415e+00 -1.5041112e+00 */
+    { 0x3ff42732,0x4052cc06 }, /* 309:  1.9074461e+00  3.2937026e+00 */
+    { 0x3fe01325,0x4032b288 }, /* 310:  1.7505842e+00  2.7921467e+00 */
+    { 0xbfc491f8,0xc00dbcc5 }, /* 311: -1.5357046e+00 -2.2146466e+00 */
+    { 0xc0885c24,0xc20dc4c0 }, /* 312: -4.2612476e+00 -3.5442139e+01 */
+    { 0xc0764809,0xc1bb89f7 }, /* 313: -3.8481467e+00 -2.3442366e+01 */
+    { 0x3f0a1919,0x3f10e4da }, /* 314:  5.3944546e-01  5.6599200e-01 */
+    { 0x3f61b29d,0x3f800bf6 }, /* 315:  8.8163167e-01  1.0003650e+00 */
+    { 0xbf64fb44,0xbf826137 }, /* 316: -8.9445901e-01 -1.0185918e+00 */
+    { 0xbf6ef2c0,0xbf8997fe }, /* 317: -9.3339157e-01 -1.0749509e+00 */
+    { 0x4068ef2e,0x4198337c }, /* 318:  3.6395984e+00  1.9025139e+01 */
+    { 0xbf240077,0xbf2f73c7 }, /* 319: -6.4063209e-01 -6.8536037e-01 */
+    { 0xbed85092,0xbedecec4 }, /* 320: -4.2248970e-01 -4.3517125e-01 */
+    { 0x3f9eeba6,0x3fcb03ad }, /* 321:  1.2415664e+00  1.5860497e+00 */
+    { 0xbe048556,0xbe04e41d }, /* 322: -1.2941489e-01 -1.2977643e-01 */
+    { 0xbeda2741,0xbee0d075 }, /* 323: -4.2608073e-01 -4.3909040e-01 */
+    { 0x405963de,0x416ea8fa }, /* 324:  3.3967204e+00  1.4916254e+01 */
+    { 0xbf04bf09,0xbf0ac68e }, /* 325: -5.1853997e-01 -5.4209220e-01 */
+    { 0x3ff19567,0x404e6ab5 }, /* 326:  1.8873719e+00  3.2252629e+00 */
+    { 0x3f0b961a,0x3f129b48 }, /* 327:  5.4525912e-01  5.7268190e-01 */
+    { 0xbf7a075b,0xbf91dbf3 }, /* 328: -9.7667474e-01 -1.1395248e+00 */
+    { 0x3fc719d6,0x4010d70e }, /* 329:  1.5554760e+00  2.2631259e+00 */
+    { 0xbd6cb977,0xbd6cdb35 }, /* 330: -5.7794061e-02 -5.7826240e-02 */
+    { 0xbf9eba5a,0xbfcaa74e }, /* 331: -1.2400620e+00 -1.5832307e+00 */
+    { 0x3f97a16d,0x3fbdaaf6 }, /* 332:  1.1846138e+00  1.4817798e+00 */
+    { 0xbf735a80,0xbf8cd91d }, /* 333: -9.5059967e-01 -1.1003758e+00 */
+    { 0xbdc24057,0xbdc28af0 }, /* 334: -9.4849281e-02 -9.4991565e-02 */
+    { 0x3fd4b784,0x40228956 }, /* 335:  1.6618505e+00  2.5396323e+00 */
+    { 0x3fe8d8c2,0x404022a5 }, /* 336:  1.8191149e+00  3.0021145e+00 */
+    { 0x3fedd2ff,0x4048285f }, /* 337:  1.8580016e+00  3.1274641e+00 */
+    { 0x3ebc6936,0x3ec0b134 }, /* 338:  3.6799020e-01  3.7635195e-01 */
+    { 0x405ba25d,0x4177321f }, /* 339:  3.4317849e+00  1.5449737e+01 */
+    { 0xbf6a4f5a,0xbf863614 }, /* 340: -9.1527331e-01 -1.0485253e+00 */
+    { 0xbefadbff,0xbf02823b }, /* 341: -4.8995969e-01 -5.0979966e-01 */
+    { 0x3f6cfa17,0x3f882692 }, /* 342:  9.2569107e-01  1.0636771e+00 */
+    { 0x3efcb8b7,0x3f038e00 }, /* 343:  4.9359676e-01  5.1388550e-01 */
+    { 0x3f694ae1,0x3f8579a5 }, /* 344:  9.1129881e-01  1.0427748e+00 */
+    { 0xbf640036,0xbf81ae47 }, /* 345: -8.9062822e-01 -1.0131310e+00 */
+    { 0xc094fb66,0xc252581b }, /* 346: -4.6556883e+00 -5.2586040e+01 */
+    { 0x3f029a0c,0x3f085755 }, /* 347:  5.1016307e-01  5.3258258e-01 */
+    { 0x3fccad9e,0x4017e123 }, /* 348:  1.5990484e+00  2.3731163e+00 */
+    { 0x3ed71374,0x3edd7517 }, /* 349:  4.2007029e-01  4.3253395e-01 */
+    { 0xbf9da837,0xbfc8a7c4 }, /* 350: -1.2316960e+00 -1.5676198e+00 */
+    { 0x3f948cfc,0x3fb8376e }, /* 351:  1.1605525e+00  1.4391916e+00 */
+    { 0xbfc54da7,0xc00ea165 }, /* 352: -1.5414323e+00 -2.2286007e+00 */
+    { 0xbf705db6,0xbf8aa2fb }, /* 353: -9.3892992e-01 -1.0830988e+00 */
+    { 0x3f927a9d,0x3fb49c17 }, /* 354:  1.1443669e+00  1.4110135e+00 */
+    { 0x3fe7f157,0x403eb5bb }, /* 355:  1.8120526e+00  2.9798419e+00 */
+    { 0xbbc22e15,0xbbc22e5f }, /* 356: -5.9259036e-03 -5.9259380e-03 */
+    { 0x402ca1b4,0x40ec5f47 }, /* 357:  2.6973696e+00  7.3866305e+00 */
+    { 0xbd630088,0xbd631e49 }, /* 358: -5.5420429e-02 -5.5448804e-02 */
+    { 0xbff39f16,0xc051e23c }, /* 359: -1.9032924e+00 -3.2794333e+00 */
+    { 0xbed54a97,0xbedb83aa }, /* 360: -4.1658470e-01 -4.2873889e-01 */
+    { 0x3dee707d,0x3deefa7b }, /* 361:  1.1642549e-01  1.1668869e-01 */
+    { 0xbf10015f,0xbf17b895 }, /* 362: -5.6252092e-01 -5.9266025e-01 */
+    { 0x40248d51,0x40d010bc }, /* 363:  2.5711253e+00  6.5020428e+00 */
+    { 0xc005b7cd,0xc07e963c }, /* 364: -2.0893433e+00 -3.9779196e+00 */
+    { 0xbf64b638,0xbf822ff4 }, /* 365: -8.9340544e-01 -1.0170884e+00 */
+    { 0x3f68f3d3,0x3f853ac9 }, /* 366:  9.0997046e-01  1.0408565e+00 */
+    { 0xc1a4b19b,0xcdcffd17 }, /* 367: -2.0586721e+01 -4.3618378e+08 */
+    { 0x3ebd23d8,0x3ec178aa }, /* 368:  3.6941409e-01  3.7787372e-01 */
+    { 0x3f339cd1,0x3f42b72c }, /* 369:  7.0161158e-01  7.6060748e-01 */
+    { 0xbf9e2217,0xbfc98abd }, /* 370: -1.2354153e+00 -1.5745465e+00 */
+    { 0x3fa38038,0x3fd3bbf8 }, /* 371:  1.2773504e+00  1.6541739e+00 */
+    { 0xc00fa02a,0xc09538dd }, /* 372: -2.2441506e+00 -4.6631913e+00 */
+    { 0xbf62d349,0xbf80d870 }, /* 373: -8.8603646e-01 -1.0066051e+00 */
+    { 0x3ea33be2,0x3ea60367 }, /* 374:  3.1881624e-01  3.2424471e-01 */
+    { 0x3fe2cef0,0x4036cac6 }, /* 375:  1.7719402e+00  2.8561263e+00 */
+    { 0x3c9e274e,0x3c9e29d2 }, /* 376:  1.9305851e-02  1.9307051e-02 */
+    { 0xc0388149,0xc10e7aa0 }, /* 377: -2.8828909e+00 -8.9049377e+00 */
+    { 0x42004fea,0x561b4a82 }, /* 378:  3.2078041e+01  4.2686078e+13 */
+    { 0xbfea77dd,0xc042b75d }, /* 379: -1.8317829e+00 -3.0424416e+00 */
+    { 0x3f72fc67,0x3f8c9332 }, /* 380:  9.4916385e-01  1.0982420e+00 */
+    { 0x4101ae14,0x44ceefad }, /* 381:  8.1049995e+00  1.6554899e+03 */
+    { 0x3f260f60,0x3f31f405 }, /* 382:  6.4867210e-01  6.9512969e-01 */
+    { 0x3f989ed8,0x3fbf7171 }, /* 383:  1.1923475e+00  1.4956495e+00 */
+    { 0x3f65e12e,0x3f830583 }, /* 384:  8.9796722e-01  1.0236057e+00 */
+    { 0x3fa1daef,0x3fd0921b }, /* 385:  1.2644938e+00  1.6294588e+00 */
+    { 0xbfeced40,0xc046b073 }, /* 386: -1.8509903e+00 -3.1045196e+00 */
+    { 0x3fdb34f9,0x402b9b36 }, /* 387:  1.7125541e+00  2.6813483e+00 */
+    { 0x40057c3f,0x407da264 }, /* 388:  2.0857084e+00  3.9630365e+00 */
+    { 0xc2713fec,0xea811ba6 }, /* 389: -6.0312424e+01 -7.8040998e+25 */
+    { 0x3f2ef241,0x3f3ce288 }, /* 390:  6.8338400e-01  7.3783159e-01 */
+    { 0xbfd65d51,0xc024cc6f }, /* 391: -1.6747228e+00 -2.5749776e+00 */
+    { 0x3f93df3a,0x3fb70795 }, /* 392:  1.1552498e+00  1.4299189e+00 */
+    { 0xbf9320d1,0xbfb5bc20 }, /* 393: -1.1494390e+00 -1.4198036e+00 */
+    { 0x3f9b2333,0x3fc4024a }, /* 394:  1.2120117e+00  1.5313199e+00 */
+    { 0x3f69bf0e,0x3f85cd9f }, /* 395:  9.1307151e-01  1.0453376e+00 */
+    { 0xb8db1d6b,0xb8db1d6b }, /* 396: -1.0448213e-04 -1.0448213e-04 */
+    { 0x3fa55e7d,0x3fd75e3f }, /* 397:  1.2919461e+00  1.6825637e+00 */
+    { 0xbf1583c8,0xbf1e2935 }, /* 398: -5.8404207e-01 -6.1781627e-01 */
+    { 0xbf2f15f5,0xbf3d0ee8 }, /* 399: -6.8392879e-01 -7.3850870e-01 */
+    { 0x3f38c1d8,0x3f49380e }, /* 400:  7.2170782e-01  7.8601158e-01 */
+    { 0xc248ba39,0xe3288f57 }, /* 401: -5.0181858e+01 -3.1093817e+21 */
+    { 0xbed95c60,0xbedff2f3 }, /* 402: -4.2453289e-01 -4.3740043e-01 */
+    { 0x3ec9536c,0x3ece8de1 }, /* 403:  3.9321458e-01  4.0342620e-01 */
+    { 0xbe45b4e5,0xbe46efef }, /* 404: -1.9307287e-01 -1.9427465e-01 */
+    { 0x3fd711f3,0x4025c68f }, /* 405:  1.6802353e+00  2.5902441e+00 */
+    { 0x3f9a5fa7,0x3fc29d8a }, /* 406:  1.2060441e+00  1.5204327e+00 */
+    { 0xbf62f4bd,0xbf80f02d }, /* 407: -8.8654691e-01 -1.0073296e+00 */
+    { 0xbf9bfde5,0xbfc59362 }, /* 408: -1.2186857e+00 -1.5435603e+00 */
+    { 0xbf61628c,0xbf7fa6b8 }, /* 409: -8.8040996e-01 -9.9863768e-01 */
+    { 0xbef4f9c0,0xbefe6e26 }, /* 410: -4.7846794e-01 -4.9693412e-01 */
+    { 0x40658d52,0x41905af8 }, /* 411:  3.5867505e+00  1.8044418e+01 */
+    { 0x4061a23d,0x4187c4dc }, /* 412:  3.5255272e+00  1.6971123e+01 */
+    { 0xc022a771,0xc0c9e9c3 }, /* 413: -2.5414698e+00 -6.3097854e+00 */
+    { 0x3f913012,0x3fb262c7 }, /* 414:  1.1342795e+00  1.3936394e+00 */
+    { 0x3df2e780,0x3df37965 }, /* 415:  1.1860561e-01  1.1888389e-01 */
+    { 0x40520e30,0x4154c192 }, /* 416:  3.2821159e+00  1.3297258e+01 */
+    { 0xbfd3e290,0xc0216798 }, /* 417: -1.6553516e+00 -2.5219479e+00 */
+    { 0xbf993e1e,0xbfc09094 }, /* 418: -1.1972082e+00 -1.5044122e+00 */
+    { 0x3f61019f,0x3f7f1dcf }, /* 419:  8.7893099e-01  9.9654859e-01 */
+    { 0x37f74015,0x37f74015 }, /* 420:  2.9474535e-05  2.9474535e-05 */
+    { 0x3fc95ef2,0x4013abd1 }, /* 421:  1.5732100e+00  2.3073618e+00 */
+    { 0xbf8b9f0a,0xbfa900da }, /* 422: -1.0907910e+00 -1.3203385e+00 */
+    { 0x3ff84cb0,0x405a0b93 }, /* 423:  1.9398403e+00  3.4069564e+00 */
+    { 0x3f9b7081,0x3fc48fd0 }, /* 424:  1.2143708e+00  1.5356388e+00 */
+    { 0xbf6624c0,0xbf8335e0 }, /* 425: -8.9899826e-01 -1.0250816e+00 */
+    { 0x3ec819a8,0x3ecd3bb1 }, /* 426:  3.9082074e-01  4.0084603e-01 */
+    { 0x3ff91cd7,0x405b7e3f }, /* 427:  1.9461926e+00  3.4295805e+00 */
+    { 0x3e75e04b,0x3e783ee0 }, /* 428:  2.4011342e-01  2.4242735e-01 */
+    { 0xbf896c52,0xbfa56329 }, /* 429: -1.0736182e+00 -1.2920886e+00 */
+    { 0xbf94cd3f,0xbfb8a824 }, /* 430: -1.1625136e+00 -1.4426312e+00 */
+    { 0xbf353e93,0xbf44c50f }, /* 431: -7.0798606e-01 -7.6863188e-01 */
+    { 0xbf111907,0xbf18fe04 }, /* 432: -5.6678814e-01 -5.9762597e-01 */
+    { 0x3f6f8378,0x3f8a0251 }, /* 433:  9.3559980e-01  1.0781957e+00 */
+    { 0x3fa17499,0x3fcfceb7 }, /* 434:  1.2613708e+00  1.6234959e+00 */
+    { 0xbf9979f6,0xbfc0fcc4 }, /* 435: -1.1990345e+00 -1.5077138e+00 */
+    { 0x3efe4714,0x3f046e19 }, /* 436:  4.9663603e-01  5.1730496e-01 */
+    { 0x3f89244d,0x3fa4ed98 }, /* 437:  1.0714203e+00  1.2885008e+00 */
+    { 0xc061002d,0xc1866e29 }, /* 438: -3.5156357e+00 -1.6803789e+01 */
+    { 0x3ef5b0c9,0x3eff3a9a }, /* 439:  4.7986439e-01  4.9849397e-01 */
+    { 0xc1061f7c,0xc50895e2 }, /* 440: -8.3826866e+00 -2.1853677e+03 */
+    { 0x3e3c04dc,0x3e3d13c5 }, /* 441:  1.8361229e-01  1.8464573e-01 */
+    { 0x3f94ba85,0x3fb88747 }, /* 442:  1.1619421e+00  1.4416283e+00 */
+    { 0xbff90f2a,0xc05b65d3 }, /* 443: -1.9457753e+00 -3.4280899e+00 */
+    { 0x3fed81d7,0x4047a34b }, /* 444:  1.8555249e+00  3.1193416e+00 */
+    { 0xbb144b36,0xbb144b3e }, /* 445: -2.2627837e-03 -2.2627856e-03 */
+    { 0xbf8fdb6b,0xbfb01ceb }, /* 446: -1.1238836e+00 -1.3758825e+00 */
+    { 0xbee59f21,0xbeed6597 }, /* 447: -4.4847968e-01 -4.6366569e-01 */
+    { 0x3efb7f90,0x3f02de0e }, /* 448:  4.9120760e-01  5.1120079e-01 */
+    { 0xbefe97c5,0xbf049b87 }, /* 449: -4.9725166e-01 -5.1799816e-01 */
+    { 0x401af260,0x40b2b349 }, /* 450:  2.4210434e+00  5.5843854e+00 */
+    { 0x3fe1eedd,0x403578d3 }, /* 451:  1.7651020e+00  2.8354995e+00 */
+    { 0x3edceee2,0x3ee3da84 }, /* 452:  4.3151003e-01  4.4502652e-01 */
+    { 0x3f9a1ee7,0x3fc227ce }, /* 453:  1.2040681e+00  1.5168397e+00 */
+    { 0xbdf80d72,0xbdf8a8d2 }, /* 454: -1.2111939e-01 -1.2141575e-01 */
+    { 0x3eec7c63,0x3ef4fc12 }, /* 455:  4.6188650e-01  4.7848564e-01 */
+    { 0x3f914554,0x3fb28740 }, /* 456:  1.1349282e+00  1.3947525e+00 */
+    { 0x3b895702,0x3b89571c }, /* 457:  4.1912803e-03  4.1912924e-03 */
+    { 0x3fb1d692,0x3ff0d5cd }, /* 458:  1.3893607e+00  1.8815247e+00 */
+    { 0x3f18786b,0x3f21a552 }, /* 459:  5.9558743e-01  6.3142884e-01 */
+    { 0xbf96b8d9,0xbfbc0c6a }, /* 460: -1.1775161e+00 -1.4691288e+00 */
+    { 0x3f16680a,0x3f1f35c3 }, /* 461:  5.8752501e-01  6.2191409e-01 */
+    { 0x3f8db7bf,0x3fac7fa3 }, /* 462:  1.1071700e+00  1.3476452e+00 */
+    { 0x3fff385d,0x4066a80c }, /* 463:  1.9939076e+00  3.6040068e+00 */
+    { 0x3ee68d30,0x3eee6c18 }, /* 464:  4.5029593e-01  4.6566844e-01 */
+    { 0x3f96a11e,0x3fbbe241 }, /* 465:  1.1767919e+00  1.4678422e+00 */
+    { 0xbf0bd953,0xbf12e8c4 }, /* 466: -5.4628485e-01 -5.7386422e-01 */
+    { 0xb9433ae1,0xb9433ae1 }, /* 467: -1.8618583e-04 -1.8618583e-04 */
+    { 0xbf9077d9,0xbfb12781 }, /* 468: -1.1286575e+00 -1.3840181e+00 */
+    { 0xbef2bdef,0xbefbf03d }, /* 469: -4.7410533e-01 -4.9206725e-01 */
+    { 0xbfa1fd36,0xbfd0d3ab }, /* 470: -1.2655399e+00 -1.6314596e+00 */
+    { 0xbebc5ca4,0xbec0a3c6 }, /* 471: -3.6789429e-01 -3.7624949e-01 */
+    { 0xbf5ca6a3,0xbf790114 }, /* 472: -8.6191767e-01 -9.7267270e-01 */
+    { 0x3f9330ff,0x3fb5d83a }, /* 473:  1.1499327e+00  1.4206612e+00 */
+    { 0x410a70a1,0x4532e365 }, /* 474:  8.6524973e+00  2.8622122e+03 */
+    { 0x3fa046cb,0x3fcd917f }, /* 475:  1.2521604e+00  1.6060027e+00 */
+    { 0x3f97a762,0x3fbdb59d }, /* 476:  1.1847956e+00  1.4821049e+00 */
+    { 0x3f660cf1,0x3f8324d5 }, /* 477:  8.9863497e-01  1.0245615e+00 */
+    { 0x3c30b0d3,0x3c30b1b3 }, /* 478:  1.0784346e-02  1.0784554e-02 */
+    { 0xbf9fee02,0xbfcce9b7 }, /* 479: -1.2494509e+00 -1.6008824e+00 */
+    { 0xbf1ff200,0xbf2a8e6a }, /* 480: -6.2478638e-01 -6.6623557e-01 */
+    { 0xbf285c8b,0xbf34c367 }, /* 481: -6.5766209e-01 -7.0610660e-01 */
+    { 0x4005a68d,0x407e4f84 }, /* 482:  2.0882905e+00  3.9736032e+00 */
+    { 0x3ff57bae,0x405518f3 }, /* 483:  1.9178369e+00  3.3296478e+00 */
+    { 0xbf32692b,0xbf413531 }, /* 484: -6.9691724e-01 -7.5471789e-01 */
+    { 0xbf9be9a1,0xbfc56e1f }, /* 485: -1.2180673e+00 -1.5424231e+00 */
+    { 0xc0092599,0xc08682fc }, /* 486: -2.1429198e+00 -4.2034893e+00 */
+    { 0x400b468b,0x408b2f8d }, /* 487:  2.1761806e+00  4.3495545e+00 */
+    { 0xbfcb5a0a,0xc0162dfa }, /* 488: -1.5886853e+00 -2.3465562e+00 */
+    { 0x3ede3ea5,0x3ee54a38 }, /* 489:  4.3407169e-01  4.4783187e-01 */
+    { 0x3ec1441a,0x3ec5e371 }, /* 490:  3.7747270e-01  3.8650087e-01 */
+    { 0xbfe9bb4b,0xc0418a3c }, /* 491: -1.8260282e+00 -3.0240622e+00 */
+    { 0x3f05cab8,0x3f0bf756 }, /* 492:  5.2262449e-01  5.4674280e-01 */
+    { 0x3f07c4d6,0x3f0e393c }, /* 493:  5.3034723e-01  5.5556083e-01 */
+    { 0x40e343c6,0x4417cd76 }, /* 494:  7.1020231e+00  6.0721033e+02 */
+    { 0x4267a38d,0x68bae465 }, /* 495:  5.7909718e+01  7.0605864e+24 */
+    { 0xc095719b,0xc25566e3 }, /* 496: -4.6701179e+00 -5.3350475e+01 */
+    { 0x3f9a077b,0x3fc1fd44 }, /* 497:  1.2033533e+00  1.5155416e+00 */
+    { 0x3e8a3341,0x3e8be26f }, /* 498:  2.6992229e-01  2.7321193e-01 */
+    { 0x3f5cda0a,0x3f7948ce }, /* 499:  8.6270201e-01  9.7376716e-01 */
+    { 0x403478b0,0x4105b84e }, /* 500:  2.8198662e+00  8.3574963e+00 */
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]:  %#lx\n", index - 1, v.lo);
+#endif
+    exit (index ? index : -1);
+}
+
+int main ()
+{
+    union lofl_u x, z;
+    unsigned long v1, z1, r;
+    int i;
+    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	x.lo = pgm_read_dword (& t[i].x);
+	z.lo = pgm_read_dword (& t[i].z);
+	v.fl = sinh (x.fl);
+	
+	v1 = (v.lo < 0) ? (unsigned long)~(v.lo) : v.lo + 0x80000000;
+	z1 = (z.lo < 0) ? (unsigned long)~(z.lo) : z.lo + 0x80000000;
+	r = (v1 >= z1) ? v1 - z1 : z1 - v1;
+	
+	if (r > 78) x_exit (i+1);
+    }
+    return 0;
+}
diff --git a/tests/simulate/math/sqrt-01.c b/tests/simulate/math/sqrt-01.c
new file mode 100644
index 0000000..5296bde
--- /dev/null
+++ b/tests/simulate/math/sqrt-01.c
@@ -0,0 +1,149 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of sqrt() function.
+   $Id$
+ */
+#include <math.h>
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+volatile union lofl_u v = { .lo = 1 };
+
+PROGMEM const struct {		/* Table of test cases.	*/
+    union lofl_u x;		/* argument	*/
+    union lofl_u z;		/* sqrt(x)	*/
+} t[] = {
+
+    /* zero	*/
+    { { 0x00000000 }, { 0x00000000 } },
+    { { 0x80000000 }, { 0x80000000 } },		/* sqrt(-0.0) --> -0.0	*/
+    
+    /* +Inf	*/
+    { { 0x7f800000 }, { 0x7f800000 } },
+    
+    /* some known values	*/
+    { { .fl= 0.25 },	{ .fl= 0.5 }	},
+    { { .fl= 1 },	{ .fl= 1 }	},
+    { { .fl= 4 },	{ .fl= 2 }	},
+    { { .fl= 9 },	{ .fl= 3 }	},
+    { { .fl= 25 },	{ .fl= 5 }	},
+    { { .fl= 49 },	{ .fl= 7 }	},
+    { { .fl= 100 },	{ .fl= 10 }	},
+    { { .fl= 121 },	{ .fl= 11 }	},
+    { { .fl= 169 },	{ .fl= 13 }	},
+    { { .fl= 10000 },	{ .fl= 100 }	},
+    { { .fl= 1000000 },	{ .fl= 1000 }	},
+    
+    /* subnormals	*/
+    { { 0x00000001 },	{ 0x1a3504f3 }	},
+    { { 0x00000002 },	{ 0x1a800000 }	},
+    { { 0x00000003 },	{ 0x1a9cc471 }	},
+    { { 0x00000080 },	{ 0x1c000000 }	},
+    { { 0x00000100 },	{ 0x1c3504f3 }	},
+    { { 0x00008000 },	{ 0x1e000000 }	},
+    { { 0x00010000 },	{ 0x1e3504f3 }	},
+    { { 0x00400000 },	{ 0x1fb504f3 }	},
+    { { 0x007fffff },	{ 0x1fffffff }	},
+    
+    /* margin values	*/
+    { { 0x00800000 },	{ 0x20000000 }	},
+    { { 0x00800001 },	{ 0x20000000 }	},
+    { { 0x01000000 },	{ 0x203504f3 }	},
+    { { 0x01000001 },	{ 0x203504f4 }	},
+    { { 0x7f000000 },	{ 0x5f3504f3 }	},
+    { { 0x7f000001 },	{ 0x5f3504f4 }	},
+    { { 0x7f7ffffe },	{ 0x5f7fffff }	},
+    { { 0x7f7fffff },	{ 0x5f7fffff }	},
+    
+    /* rounding	*/
+    { { .fl= 0x0.800001p+1 }, { .fl= 0x0.800000p+1 } },
+    { { .fl= 0x0.800002p+1 }, { .fl= 0x0.800001p+1 } },
+    { { .fl= 0x0.800003p+1 }, { .fl= 0x0.800001p+1 } },
+    { { .fl= 0x0.800004p+1 }, { .fl= 0x0.800002p+1 } },
+    { { .fl= 0x0.800005p+1 }, { .fl= 0x0.800002p+1 } },
+    { { .fl= 0x0.800006p+1 }, { .fl= 0x0.800003p+1 } },
+    { { .fl= 0x0.800007p+1 }, { .fl= 0x0.800003p+1 } },
+    { { .fl= 0x0.800008p+1 }, { .fl= 0x0.800004p+1 } },
+    { { .fl= 0x0.800009p+1 }, { .fl= 0x0.800004p+1 } },
+    
+    /* slightly less 1.0 	*/
+    { { .fl= 0x0.fffffcp+0 }, { .fl= 0x0.fffffep+0 } },
+    { { .fl= 0x0.fffffdp+0 }, { .fl= 0x0.fffffep+0 } },
+    { { .fl= 0x0.fffffep+0 }, { .fl= 0x0.ffffffp+0 } },
+    { { .fl= 0x0.ffffffp+0 }, { .fl= 0x0.ffffffp+0 } },
+
+    /* approx. 2.0	*/
+    { { .fl= 0x0.fffff8p+1 }, { .fl= 0x0.b504f0p+1 } },
+    { { .fl= 0x0.fffff9p+1 }, { .fl= 0x0.b504f1p+1 } },
+    { { .fl= 0x0.fffffap+1 }, { .fl= 0x0.b504f1p+1 } },
+    { { .fl= 0x0.fffffbp+1 }, { .fl= 0x0.b504f1p+1 } },
+    { { .fl= 0x0.fffffcp+1 }, { .fl= 0x0.b504f2p+1 } },
+    { { .fl= 0x0.fffffdp+1 }, { .fl= 0x0.b504f2p+1 } },
+    { { .fl= 0x0.fffffep+1 }, { .fl= 0x0.b504f2p+1 } },
+    { { .fl= 0x0.ffffffp+1 }, { .fl= 0x0.b504f3p+1 } },
+    { { .fl= 0x0.800000p+2 }, { .fl= 0x0.b504f3p+1 } },
+    { { .fl= 0x0.800001p+2 }, { .fl= 0x0.b504f4p+1 } },
+    { { .fl= 0x0.800002p+2 }, { .fl= 0x0.b504f5p+1 } },
+    { { .fl= 0x0.800003p+2 }, { .fl= 0x0.b504f5p+1 } },
+    { { .fl= 0x0.800004p+2 }, { .fl= 0x0.b504f6p+1 } },
+    { { .fl= 0x0.800005p+2 }, { .fl= 0x0.b504f7p+1 } },
+    { { .fl= 0x0.800006p+2 }, { .fl= 0x0.b504f7p+1 } },
+    { { .fl= 0x0.800007p+2 }, { .fl= 0x0.b504f8p+1 } },
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]:  %#lx\n", index - 1, v.lo);
+#endif
+    exit (index ? index : -1);
+}
+
+int main ()
+{
+    union lofl_u x, z;
+    int i;
+    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	x.lo = pgm_read_dword (& t[i].x);
+	z.lo = pgm_read_dword (& t[i].z);
+	v.fl = sqrt (x.fl);
+	/* Comparison is integer to verify the zero sign.	*/
+	if (v.lo != z.lo)
+	    x_exit (i+1);
+    }
+    return 0;
+}
diff --git a/tests/simulate/math/sqrt-500.c b/tests/simulate/math/sqrt-500.c
new file mode 100644
index 0000000..41cf251
--- /dev/null
+++ b/tests/simulate/math/sqrt-500.c
@@ -0,0 +1,575 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of sqrt() function.  500 random cases.
+   $Id$
+ */
+#include <math.h>
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+volatile union lofl_u v = { .lo = 1 };
+
+PROGMEM const struct {		/* Table of test cases.	*/
+    long x;		/* argument	*/
+    long z;		/* sqrt(x)	*/
+} t[] = {
+
+    /* x, sqrt(x)	*/
+    { 0x3fd50d40, 0x3fa52361 },  /*   1:  1.6644669e+00  1.2901422e+00 */
+    { 0x3a4140fc, 0x3cde6cdc },  /*   2:  7.3720491e-04  2.7151518e-02 */
+    { 0x41c59add, 0x409f0a02 },  /*   3:  2.4700617e+01  4.9699715e+00 */
+    { 0x36818acf, 0x3b00c4d0 },  /*   4:  3.8606590e-06  1.9648560e-03 */
+    { 0x426de65e, 0x40f6c8b7 },  /*   5:  5.9474968e+01  7.7120016e+00 */
+    { 0x37d0bc9a, 0x3ba37514 },  /*   6:  2.4883357e-05  4.9883220e-03 */
+    { 0x4a11bbc2, 0x44c126f4 },  /*   7:  2.3876965e+06  1.5452173e+03 */
+    { 0x41af6a84, 0x4095d818 },  /*   8:  2.1927010e+01  4.6826285e+00 */
+    { 0x40f3b303, 0x40309de9 },  /*   9:  7.6156020e+00  2.7596380e+00 */
+    { 0x3d56e5c6, 0x3e6a8cd7 },  /*  10:  5.2465223e-02  2.2905288e-01 */
+    { 0x40db7c2f, 0x40279ce8 },  /*  11:  6.8589091e+00  2.6189519e+00 */
+    { 0x3e2c996c, 0x3ed2340b },  /*  12:  1.6855401e-01  4.1055329e-01 */
+    { 0x46062cae, 0x42b9557f },  /*  13:  8.5871699e+03  9.2666984e+01 */
+    { 0x3df2ac40, 0x3eb03e98 },  /*  14:  1.1849260e-01  3.4422755e-01 */
+    { 0x40031866, 0x3fb731ea },  /*  15:  2.0483642e+00  1.4312107e+00 */
+    { 0x4377da6f, 0x417be4c9 },  /*  16:  2.4785326e+02  1.5743356e+01 */
+    { 0x4134b947, 0x405717f9 },  /*  17:  1.1295234e+01  3.3608382e+00 */
+    { 0x3f6486a3, 0x3f71df89 },  /*  18:  8.9267939e-01  9.4481712e-01 */
+    { 0x3f4d9fe0, 0x3f656f0e },  /*  19:  8.0322075e-01  8.9622584e-01 */
+    { 0x2d3319eb, 0x3656203e },  /*  20:  1.0180727e-11  3.1907251e-06 */
+    { 0x36b4fa7f, 0x3b18338b },  /*  21:  5.3935796e-06  2.3224081e-03 */
+    { 0x3d99be6d, 0x3e8c485a },  /*  22:  7.5070240e-02  2.7398949e-01 */
+    { 0x3c2b5614, 0x3dd16ec9 },  /*  23:  1.0457534e-02  1.0226209e-01 */
+    { 0x3eecd238, 0x3f2e1b4a },  /*  24:  4.6254134e-01  6.8010392e-01 */
+    { 0x49d2b294, 0x44a4392a },  /*  25:  1.7260345e+06  1.3137863e+03 */
+    { 0x407c2922, 0x3ffe12b6 },  /*  26:  3.9400105e+00  1.9849460e+00 */
+    { 0x413991b9, 0x4059f544 },  /*  27:  1.1598077e+01  3.4055949e+00 */
+    { 0x3f461bdb, 0x3f6133aa },  /*  28:  7.7386254e-01  8.7969457e-01 */
+    { 0x3a9aabbc, 0x3d0cb474 },  /*  29:  1.1800448e-03  3.4351781e-02 */
+    { 0x3f28541f, 0x3f4f9620 },  /*  30:  6.5753359e-01  8.1088445e-01 */
+    { 0x3f03e9cb, 0x3f37c3fe },  /*  31:  5.1528615e-01  7.1783435e-01 */
+    { 0x416e0233, 0x4076d727 },  /*  32:  1.4875537e+01  3.8568818e+00 */
+    { 0x46d08fed, 0x43236395 },  /*  33:  2.6695963e+04  1.6338899e+02 */
+    { 0x3f0e5686, 0x3f3ee387 },  /*  34:  5.5600774e-01  7.4565927e-01 */
+    { 0x41fe7dcf, 0x40b47c36 },  /*  35:  3.1811430e+01  5.6401622e+00 */
+    { 0x3a755a13, 0x3cfa9e90 },  /*  36:  9.3594304e-04  3.0593186e-02 */
+    { 0x4395d0ba, 0x418a7a8f },  /*  37:  2.9963068e+02  1.7309843e+01 */
+    { 0x3f3ac851, 0x3f5aab5f },  /*  38:  7.2961909e-01  8.5417743e-01 */
+    { 0x437d1c24, 0x417e8d05 },  /*  39:  2.5310992e+02  1.5909429e+01 */
+    { 0x3cb6ef68, 0x3e19059c },  /*  40:  2.2330955e-02  1.4943545e-01 */
+    { 0x00000000, 0x00000000 },  /*  41:  0.0000000e+00  0.0000000e+00 */
+    { 0x3fea54df, 0x3fad3063 },  /*  42:  1.8307151e+00  1.3530392e+00 */
+    { 0x41645521, 0x4071c554 },  /*  43:  1.4270783e+01  3.7776690e+00 */
+    { 0x3feff5a8, 0x3faf41a8 },  /*  44:  1.8746843e+00  1.3691911e+00 */
+    { 0x3e769e49, 0x3efb43ef },  /*  45:  2.4083818e-01  4.9075267e-01 */
+    { 0x3992eb8a, 0x3c892256 },  /*  46:  2.8022780e-04  1.6740006e-02 */
+    { 0x4779776a, 0x437cb64d },  /*  47:  6.3863414e+04  2.5271212e+02 */
+    { 0x00000000, 0x00000000 },  /*  48:  0.0000000e+00  0.0000000e+00 */
+    { 0x347c8a1a, 0x39fe438b },  /*  49:  2.3519570e-07  4.8496979e-04 */
+    { 0x401a6e2e, 0x3fc6d501 },  /*  50:  2.4129748e+00  1.5533753e+00 */
+    { 0x40756a70, 0x3ffaa6eb },  /*  51:  3.8346214e+00  1.9582189e+00 */
+    { 0x3e76e4fa, 0x3efb67f0 },  /*  52:  2.4110785e-01  4.9102734e-01 */
+    { 0x3d955d28, 0x3e8a451b },  /*  53:  7.2931588e-02  2.7005849e-01 */
+    { 0x3f151724, 0x3f435d37 },  /*  54:  5.8238435e-01  7.6314111e-01 */
+    { 0x3f23126f, 0x3f4c51c7 },  /*  55:  6.3700002e-01  7.9812281e-01 */
+    { 0x3f0e141f, 0x3f3eb6fb },  /*  56:  5.5499452e-01  7.4497955e-01 */
+    { 0x4228e3a4, 0x40cfee8c },  /*  57:  4.2222305e+01  6.4978693e+00 */
+    { 0x3b6d17e6, 0x3d765d89 },  /*  58:  3.6177575e-03  6.0147797e-02 */
+    { 0x4b6178ea, 0x45704074 },  /*  59:  1.4776554e+07  3.8440284e+03 */
+    { 0x3d48cc24, 0x3e62b98d },  /*  60:  4.9022809e-02  2.2141095e-01 */
+    { 0x38407ec6, 0x3bddfcfd },  /*  61:  4.5894434e-05  6.7745431e-03 */
+    { 0x3dbad716, 0x3e9aa582 },  /*  62:  9.1230556e-02  3.0204396e-01 */
+    { 0x42338642, 0x40d660f7 },  /*  63:  4.4881111e+01  6.6993366e+00 */
+    { 0x3dc30fe6, 0x3e9e0333 },  /*  64:  9.5245168e-02  3.0861816e-01 */
+    { 0x3fe9c165, 0x3facf9db },  /*  65:  1.8262144e+00  1.3513750e+00 */
+    { 0x4392f190, 0x41892526 },  /*  66:  2.9388721e+02  1.7143139e+01 */
+    { 0x3a4490ea, 0x3ce052c0 },  /*  67:  7.4984005e-04  2.7383207e-02 */
+    { 0x418e9d2b, 0x40871c0a },  /*  68:  1.7826742e+01  4.2221727e+00 */
+    { 0x3ad3d518, 0x3d24aa3a },  /*  69:  1.6161529e-03  4.0201405e-02 */
+    { 0x3f34058f, 0x3f56acec },  /*  70:  7.0320982e-01  8.3857607e-01 */
+    { 0x4011464b, 0x3fc0d90d },  /*  71:  2.2699153e+00  1.5066238e+00 */
+    { 0x413afced, 0x405aca29 },  /*  72:  1.1686749e+01  3.4185888e+00 */
+    { 0x3fd7d7fb, 0x3fa63779 },  /*  73:  1.6862787e+00  1.2985679e+00 */
+    { 0x44d321c9, 0x4224647b },  /*  74:  1.6890558e+03  4.1098124e+01 */
+    { 0x3fca8a98, 0x3fa1036a },  /*  75:  1.5823545e+00  1.2579167e+00 */
+    { 0x4195efdb, 0x408a88f1 },  /*  76:  1.8742117e+01  4.3292167e+00 */
+    { 0x3e3fe9df, 0x3edda710 },  /*  77:  1.8741558e-01  4.3291522e-01 */
+    { 0x3e301ea4, 0x3ed4560e },  /*  78:  1.7199188e-01  4.1471904e-01 */
+    { 0x3813f9e3, 0x3bc2a1f8 },  /*  79:  3.5280256e-05  5.9397185e-03 */
+    { 0x4213b331, 0x40c27375 },  /*  80:  3.6924992e+01  6.0765938e+00 */
+    { 0x3b0aec17, 0x3d3c959e },  /*  81:  2.1197849e-03  4.6041122e-02 */
+    { 0x3f147bd9, 0x3f42f75e },  /*  82:  5.8001477e-01  7.6158700e-01 */
+    { 0x3f1badcb, 0x3f47a258 },  /*  83:  6.0812062e-01  7.7982089e-01 */
+    { 0x00000000, 0x00000000 },  /*  84:  0.0000000e+00  0.0000000e+00 */
+    { 0x3f03a11a, 0x3f379155 },  /*  85:  5.1417696e-01  7.1706134e-01 */
+    { 0x3f2996c9, 0x3f505cb6 },  /*  86:  6.6245705e-01  8.1391464e-01 */
+    { 0x5372dae3, 0x49795746 },  /*  87:  1.0430544e+12  1.0213003e+06 */
+    { 0x3ddf0985, 0x3ea8f6ba },  /*  88:  1.0890488e-01  3.3000739e-01 */
+    { 0x3f2584c3, 0x3f4dd8b1 },  /*  89:  6.4655703e-01  8.0408770e-01 */
+    { 0x3f275006, 0x3f4ef580 },  /*  90:  6.5356481e-01  8.0843355e-01 */
+    { 0x3dd88231, 0x3ea678f6 },  /*  91:  1.0571707e-01  3.2514162e-01 */
+    { 0x3edcaf96, 0x3f281220 },  /*  92:  4.3102711e-01  6.5652655e-01 */
+    { 0x3f017e30, 0x3f36126a },  /*  93:  5.0583172e-01  7.1121847e-01 */
+    { 0x4192ae5d, 0x408905c6 },  /*  94:  1.8335138e+01  4.2819550e+00 */
+    { 0x3ee3bdbe, 0x3f2abc7c },  /*  95:  4.4480699e-01  6.6693852e-01 */
+    { 0x3fdf7a40, 0x3fa92168 },  /*  96:  1.7459183e+00  1.3213320e+00 */
+    { 0x413e61a6, 0x405cc41c },  /*  97:  1.1898840e+01  3.4494695e+00 */
+    { 0x38bbc814, 0x3c1b091d },  /*  98:  8.9541223e-05  9.4626224e-03 */
+    { 0x39cdb5c3, 0x3ca24497 },  /*  99:  3.9236070e-04  1.9808097e-02 */
+    { 0x3fe3c76f, 0x3faac01e },  /* 100:  1.7795237e+00  1.3339879e+00 */
+    { 0x00000000, 0x00000000 },  /* 101:  0.0000000e+00  0.0000000e+00 */
+    { 0x3b7c1836, 0x3d7e0a2f },  /* 102:  3.8466579e-03  6.2021431e-02 */
+    { 0x3f248bb8, 0x3f4d3d9a },  /* 103:  6.4275694e-01  8.0172124e-01 */
+    { 0x3f0bee02, 0x3f3d445c },  /* 104:  5.4660046e-01  7.3932433e-01 */
+    { 0x3b98395e, 0x3d8b966a },  /* 105:  4.6455106e-03  6.8157982e-02 */
+    { 0x3d5aaa1b, 0x3e6c98d0 },  /* 106:  5.3384881e-02  2.3105169e-01 */
+    { 0x42f393ae, 0x4130928e },  /* 107:  1.2178844e+02  1.1035780e+01 */
+    { 0x3ced7c91, 0x3e2e59dd },  /* 108:  2.8990062e-02  1.7026468e-01 */
+    { 0x3f17a5c5, 0x3f45084c },  /* 109:  5.9237319e-01  7.6965784e-01 */
+    { 0x3f608fe1, 0x3f6fc42c },  /* 110:  8.7719542e-01  9.3658711e-01 */
+    { 0x3f24548a, 0x3f4d1b2e },  /* 111:  6.4191496e-01  8.0119596e-01 */
+    { 0x41ef1b4f, 0x40aef1d9 },  /* 112:  2.9888334e+01  5.4670224e+00 */
+    { 0x3cbb542e, 0x3e1ad93e },  /* 113:  2.2867288e-02  1.5121934e-01 */
+    { 0x3eff78e0, 0x3f34d527 },  /* 114:  4.9896908e-01  7.0637743e-01 */
+    { 0x40fcb320, 0x4033d946 },  /* 115:  7.8968658e+00  2.8101363e+00 */
+    { 0x42d9793b, 0x4126d7d4 },  /* 116:  1.0873678e+02  1.0427693e+01 */
+    { 0x41223963, 0x404bc9a0 },  /* 117:  1.0139010e+01  3.1841813e+00 */
+    { 0x42f1a927, 0x412fe068 },  /* 118:  1.2083038e+02  1.0992287e+01 */
+    { 0x3d09545e, 0x3e3b8014 },  /* 119:  3.3527724e-02  1.8310577e-01 */
+    { 0x3fdf052c, 0x3fa8f515 },  /* 120:  1.7423453e+00  1.3199793e+00 */
+    { 0x3e37fae9, 0x3ed905d8 },  /* 121:  1.7966808e-01  4.2387272e-01 */
+    { 0x4cf4cf20, 0x463104bf },  /* 122:  1.2835046e+08  1.1329186e+04 */
+    { 0x40e8adbe, 0x402c93c0 },  /* 123:  7.2712088e+00  2.6965179e+00 */
+    { 0x3ac869d1, 0x3d202a4e },  /* 124:  1.5290325e-03  3.9102845e-02 */
+    { 0x419d164e, 0x408dccb9 },  /* 125:  1.9635891e+01  4.4312403e+00 */
+    { 0x3f3ce48b, 0x3f5be6b6 },  /* 126:  7.3786229e-01  8.5898911e-01 */
+    { 0x411ee22c, 0x4049adab },  /* 127:  9.9302177e+00  3.1512248e+00 */
+    { 0x3e378f01, 0x3ed8c62a },  /* 128:  1.7925645e-01  4.2338688e-01 */
+    { 0x3fde00cc, 0x3fa89257 },  /* 129:  1.7343993e+00  1.3169660e+00 */
+    { 0x40077623, 0x3fba387e },  /* 130:  2.1165855e+00  1.4548490e+00 */
+    { 0x3d1beb38, 0x3e47c9b6 },  /* 131:  3.8066119e-02  1.9510540e-01 */
+    { 0x3e440e3c, 0x3ee00822 },  /* 132:  1.9146055e-01  4.3756205e-01 */
+    { 0x4125a25f, 0x404deb1a },  /* 133:  1.0352141e+01  3.2174744e+00 */
+    { 0x4a535195, 0x44e896c0 },  /* 134:  3.4622452e+06  1.8607110e+03 */
+    { 0x496e1398, 0x4476e02c },  /* 135:  9.7516150e+05  9.8750266e+02 */
+    { 0x3dff8ce7, 0x3eb4dc3d },  /* 136:  1.2478047e-01  3.5324279e-01 */
+    { 0x45e9cf88, 0x42acff16 },  /* 137:  7.4819414e+03  8.6498216e+01 */
+    { 0x7ab3a783, 0x5d17a4bd },  /* 138:  4.6640934e+35  6.8294168e+17 */
+    { 0x3d161031, 0x3e440020 },  /* 139:  3.6636535e-02  1.9140673e-01 */
+    { 0x410fe869, 0x403ff045 },  /* 140:  8.9942408e+00  2.9990400e+00 */
+    { 0x4deeed45, 0x46aee101 },  /* 141:  5.0106589e+08  2.2384501e+04 */
+    { 0x48a2d1bd, 0x44105d19 },  /* 142:  3.3345391e+05  5.7745468e+02 */
+    { 0x3f204dc4, 0x3f4a93eb },  /* 143:  6.2618661e-01  7.9131954e-01 */
+    { 0x45da28d3, 0x42a71b22 },  /* 144:  6.9811030e+03  8.3552995e+01 */
+    { 0x3cd9c7fd, 0x3e26f608 },  /* 145:  2.6584620e-02  1.6304791e-01 */
+    { 0x408e44bb, 0x4006f21f },  /* 146:  4.4458899e+00  2.1085279e+00 */
+    { 0x3fdca532, 0x3fa80e2b },  /* 147:  1.7237914e+00  1.3129324e+00 */
+    { 0x41277626, 0x404f0d13 },  /* 148:  1.0466345e+01  3.2351731e+00 */
+    { 0x414d610f, 0x40654c00 },  /* 149:  1.2836196e+01  3.5827637e+00 */
+    { 0x3fe9ef82, 0x3fad0aea },  /* 150:  1.8276217e+00  1.3518956e+00 */
+    { 0x3e6c5281, 0x3ef5f6e5 },  /* 151:  2.3078348e-01  4.8039929e-01 */
+    { 0x43a928de, 0x419325cd },  /* 152:  3.3831927e+02  1.8393457e+01 */
+    { 0x3752d09c, 0x3b684fbb },  /* 153:  1.2565546e-05  3.5447914e-03 */
+    { 0x3fff4153, 0x3fb4c17d },  /* 154:  1.9941810e+00  1.4121547e+00 */
+    { 0x3fcf2611, 0x3fa2d59a },  /* 155:  1.6183492e+00  1.2721435e+00 */
+    { 0x409fdd2a, 0x400f0c28 },  /* 156:  4.9957476e+00  2.2351169e+00 */
+    { 0x401faf22, 0x3fca2f96 },  /* 157:  2.4950643e+00  1.5795772e+00 */
+    { 0x38748871, 0x3bfa3368 },  /* 158:  5.8301204e-05  7.6355225e-03 */
+    { 0x44fa5f7e, 0x423304d3 },  /* 159:  2.0029841e+03  4.4754711e+01 */
+    { 0x3f173904, 0x3f44c199 },  /* 160:  5.9071374e-01  7.6857904e-01 */
+    { 0x3eff0104, 0x3f34aab6 },  /* 161:  4.9805462e-01  7.0572985e-01 */
+    { 0x420bfdcf, 0x40bd4f0b },  /* 162:  3.4997860e+01  5.9158989e+00 */
+    { 0x607ce79b, 0x4ffe7299 },  /* 163:  7.2894819e+19  8.5378463e+09 */
+    { 0x417e659f, 0x407f327d },  /* 164:  1.5899810e+01  3.9874566e+00 */
+    { 0x3a7a58b2, 0x3cfd284f },  /* 165:  9.5499598e-04  3.0903009e-02 */
+    { 0x3e422eb8, 0x3edef581 },  /* 166:  1.8963134e-01  4.3546681e-01 */
+    { 0x3e1defb1, 0x3ec9138b },  /* 167:  1.5423466e-01  3.9272721e-01 */
+    { 0x433c08b7, 0x415b669b },  /* 168:  1.8803404e+02  1.3712551e+01 */
+    { 0x41c08ffa, 0x409cff2d },  /* 169:  2.4070301e+01  4.9061493e+00 */
+    { 0x3f6c4ccb, 0x3f75f3ec },  /* 170:  9.2304677e-01  9.6075323e-01 */
+    { 0x3f133325, 0x3f421f19 },  /* 171:  5.7499915e-01  7.5828699e-01 */
+    { 0x3de3408b, 0x3eaa8d87 },  /* 172:  1.1096295e-01  3.3311102e-01 */
+    { 0x3fe35fed, 0x3faa994d },  /* 173:  1.7763649e+00  1.3328034e+00 */
+    { 0x43eea443, 0x41aec647 },  /* 174:  4.7728329e+02  2.1846814e+01 */
+    { 0x4004e141, 0x3fb8700b },  /* 175:  2.0762484e+00  1.4409193e+00 */
+    { 0x4308daeb, 0x413b2d19 },  /* 176:  1.3685515e+02  1.1698511e+01 */
+    { 0x3faddada, 0x3f952d03 },  /* 177:  1.3582413e+00  1.1654361e+00 */
+    { 0x00000000, 0x00000000 },  /* 178:  0.0000000e+00  0.0000000e+00 */
+    { 0x40eba82f, 0x402dad9a },  /* 179:  7.3642802e+00  2.7137207e+00 */
+    { 0x2f95213b, 0x378a295c },  /* 180:  2.7126554e-10  1.6470141e-05 */
+    { 0x3e04a082, 0x3eb84317 },  /* 181:  1.2951854e-01  3.5988684e-01 */
+    { 0x406548ce, 0x3ff24634 },  /* 182:  3.5825686e+00  1.8927675e+00 */
+    { 0x41426830, 0x405f167d },  /* 183:  1.2150436e+01  3.4857476e+00 */
+    { 0x49c1cd5d, 0x449d805a },  /* 184:  1.5876276e+06  1.2600110e+03 */
+    { 0x415f5ed6, 0x406f211c },  /* 185:  1.3960653e+01  3.7363958e+00 */
+    { 0x3c7d7e9b, 0x3dfebe84 },  /* 186:  1.5472080e-02  1.2438681e-01 */
+    { 0x3f30ccfe, 0x3f54bf0e },  /* 187:  6.9062793e-01  8.3104027e-01 */
+    { 0x412eecd0, 0x40539d62 },  /* 188:  1.0932816e+01  3.3064808e+00 */
+    { 0x3fc0c54a, 0x3f9d14e7 },  /* 189:  1.5060208e+00  1.2272004e+00 */
+    { 0x3e96d94f, 0x3f0af4a1 },  /* 190:  2.9462668e-01  5.4279525e-01 */
+    { 0x43d6a771, 0x41a5c20e },  /* 191:  4.2930814e+02  2.0719752e+01 */
+    { 0x40bc3bb7, 0x401b38d2 },  /* 192:  5.8822894e+00  2.4253432e+00 */
+    { 0x41ed11c8, 0x40ae32a6 },  /* 193:  2.9633682e+01  5.4436828e+00 */
+    { 0x3fb4cde1, 0x3f9820c7 },  /* 194:  1.4125329e+00  1.1885003e+00 */
+    { 0x42dc83df, 0x4128017a },  /* 195:  1.1025756e+02  1.0500360e+01 */
+    { 0x414debf1, 0x4065997a },  /* 196:  1.2870103e+01  3.5874926e+00 */
+    { 0x3e308288, 0x3ed4923d },  /* 197:  1.7237294e-01  4.1517820e-01 */
+    { 0x3fc99321, 0x3fa0a0ef },  /* 198:  1.5748025e+00  1.2549114e+00 */
+    { 0x417c764b, 0x407e3992 },  /* 199:  1.5778880e+01  3.9722639e+00 */
+    { 0x3fd0a274, 0x3fa36ad7 },  /* 200:  1.6299577e+00  1.2766980e+00 */
+    { 0x40a387b7, 0x4010adb0 },  /* 201:  5.1103168e+00  2.2606010e+00 */
+    { 0x40eead8c, 0x402ec9ad },  /* 202:  7.4586849e+00  2.7310593e+00 */
+    { 0x3fa9f40e, 0x3f937e12 },  /* 203:  1.3277605e+00  1.1522849e+00 */
+    { 0x411f3d2f, 0x4049e766 },  /* 204:  9.9524374e+00  3.1547484e+00 */
+    { 0x3ff07d69, 0x3faf7334 },  /* 205:  1.8788272e+00  1.3707032e+00 */
+    { 0x3f527557, 0x3f681d6c },  /* 206:  8.2210296e-01  9.0669894e-01 */
+    { 0x45698b99, 0x427483d9 },  /* 207:  3.7367249e+03  6.1128756e+01 */
+    { 0x3f38c57a, 0x3f597d31 },  /* 208:  7.2176325e-01  8.4956651e-01 */
+    { 0x40f51d63, 0x40312108 },  /* 209:  7.6598372e+00  2.7676411e+00 */
+    { 0x40f31072, 0x403062f6 },  /* 210:  7.5957575e+00  2.7560402e+00 */
+    { 0x41d10b7b, 0x40a393f3 },  /* 211:  2.6130606e+01  5.1118104e+00 */
+    { 0x2f3ae10a, 0x375ab9d8 },  /* 212:  1.6996551e-10  1.3037082e-05 */
+    { 0x419c9629, 0x408d92d6 },  /* 213:  1.9573320e+01  4.4241745e+00 */
+    { 0x3c66daa3, 0x3df31a24 },  /* 214:  1.4090213e-02  1.1870220e-01 */
+    { 0x3dca2278, 0x3ea0da02 },  /* 215:  9.8698556e-02  3.1416326e-01 */
+    { 0x40f2e29a, 0x40305253 },  /* 216:  7.5901613e+00  2.7550247e+00 */
+    { 0x445c05cf, 0x41ed54a1 },  /* 217:  8.8009076e+02  2.9666324e+01 */
+    { 0x3f325734, 0x3f55abb8 },  /* 218:  6.9664311e-01  8.3465149e-01 */
+    { 0x3f05bfd1, 0x3f390a40 },  /* 219:  5.2245814e-01  7.2281266e-01 */
+    { 0x3f3175ec, 0x3f552499 },  /* 220:  6.9320560e-01  8.3258969e-01 */
+    { 0x3db83366, 0x3e998ce1 },  /* 221:  8.9941785e-02  2.9990296e-01 */
+    { 0x3c210040, 0x3dcb0492 },  /* 222:  9.8267198e-03  9.9129813e-02 */
+    { 0x3df86189, 0x3eb24e26 },  /* 223:  1.2127978e-01  3.4825247e-01 */
+    { 0x21736673, 0x30799ee0 },  /* 224:  8.2467193e-19  9.0811449e-10 */
+    { 0x408b040f, 0x400564ee },  /* 225:  4.3442454e+00  2.0842854e+00 */
+    { 0x414cc4e0, 0x4064f4c0 },  /* 226:  1.2798065e+01  3.5774384e+00 */
+    { 0x3fcfaed7, 0x3fa30b52 },  /* 227:  1.6225232e+00  1.2737830e+00 */
+    { 0x41ba25cc, 0x409a5c11 },  /* 228:  2.3268456e+01  4.8237387e+00 */
+    { 0x3d95845c, 0x3e8a573f },  /* 229:  7.3006362e-02  2.7019689e-01 */
+    { 0x3eadba2f, 0x3f151efe },  /* 230:  3.3931109e-01  5.8250416e-01 */
+    { 0x3c6c9e5e, 0x3df61e5d },  /* 231:  1.4442055e-02  1.2017510e-01 */
+    { 0x3f010bce, 0x3f35c1ee },  /* 232:  5.0408638e-01  7.0999041e-01 */
+    { 0x4290ed0e, 0x41083348 },  /* 233:  7.2462997e+01  8.5125200e+00 */
+    { 0x3ee236ba, 0x3f2a29aa },  /* 234:  4.4182378e-01  6.6469826e-01 */
+    { 0x3fd753f2, 0x3fa6049b },  /* 235:  1.6822493e+00  1.2970155e+00 */
+    { 0x27054761, 0x3338b6dd },  /* 236:  1.8496152e-15  4.3007153e-08 */
+    { 0x40fa9041, 0x40331641 },  /* 237:  7.8301091e+00  2.7982332e+00 */
+    { 0x41df33de, 0x40a906c4 },  /* 238:  2.7900326e+01  5.2820759e+00 */
+    { 0x3635bd84, 0x3ad7b29f },  /* 239:  2.7081414e-06  1.6456432e-03 */
+    { 0x3bb7b053, 0x3d995636 },  /* 240:  5.6057363e-03  7.4871465e-02 */
+    { 0x3e24ed1b, 0x3ecd7a4e },  /* 241:  1.6106074e-01  4.0132373e-01 */
+    { 0x3c071ddc, 0x3db9fbc6 },  /* 242:  8.2468651e-03  9.0812252e-02 */
+    { 0x4109898a, 0x403ba45d },  /* 243:  8.5960789e+00  2.9319070e+00 */
+    { 0x3fdce502, 0x3fa82676 },  /* 244:  1.7257388e+00  1.3136738e+00 */
+    { 0x3da4457d, 0x3e91018a },  /* 245:  8.0210663e-02  2.8321487e-01 */
+    { 0x388040e2, 0x3c00206d },  /* 246:  6.1156010e-05  7.8202308e-03 */
+    { 0x513f649e, 0x485d5a0f },  /* 247:  5.1376677e+10  2.2666424e+05 */
+    { 0x3f2df26f, 0x3f5305b9 },  /* 248:  6.7948049e-01  8.2430607e-01 */
+    { 0x3f1aec2a, 0x3f47260b },  /* 249:  6.0516608e-01  7.7792421e-01 */
+    { 0x3c0ad70b, 0x3dbc8754 },  /* 250:  8.4741218e-03  9.2054993e-02 */
+    { 0x3fcb7eba, 0x3fa16457 },  /* 251:  1.5898049e+00  1.2608747e+00 */
+    { 0x3d87f918, 0x3e83ed22 },  /* 252:  6.6393077e-02  2.5766854e-01 */
+    { 0x3ba8548e, 0x3d92c958 },  /* 253:  5.1370328e-03  7.1673097e-02 */
+    { 0x36e70ec3, 0x3b2bf996 },  /* 254:  6.8860550e-06  2.6241294e-03 */
+    { 0x3a03b69a, 0x3cb7a052 },  /* 255:  5.0244632e-04  2.2415314e-02 */
+    { 0x3de141ce, 0x3ea9cd73 },  /* 256:  1.0998879e-01  3.3164558e-01 */
+    { 0x3f38954e, 0x3f5960d5 },  /* 257:  7.2102821e-01  8.4913380e-01 */
+    { 0x61593e6b, 0x506bd3bc },  /* 258:  2.5046507e+20  1.5826088e+10 */
+    { 0x430bec16, 0x413d430f },  /* 259:  1.3992221e+02  1.1828872e+01 */
+    { 0x410d96d1, 0x403e62cf },  /* 260:  8.8493204e+00  2.9747807e+00 */
+    { 0x3b75680a, 0x3d7aa5b2 },  /* 261:  3.7446045e-03  6.1193174e-02 */
+    { 0x3feb184f, 0x3fad788d },  /* 262:  1.8366793e+00  1.3552414e+00 */
+    { 0x3fee021e, 0x3fae8adc },  /* 263:  1.8594396e+00  1.3636127e+00 */
+    { 0x42000673, 0x40b50983 },  /* 264:  3.2006298e+01  5.6574109e+00 */
+    { 0x40794088, 0x3ffc9a7f },  /* 265:  3.8945637e+00  1.9734649e+00 */
+    { 0x3fc255f0, 0x3f9db7cf },  /* 266:  1.5182476e+00  1.2321719e+00 */
+    { 0x3f08939c, 0x3f3afc4f },  /* 267:  5.3350234e-01  7.3041245e-01 */
+    { 0x3f37efb0, 0x3f58ff3a },  /* 268:  7.1850109e-01  8.4764444e-01 */
+    { 0x3f1d06fb, 0x3f487f31 },  /* 269:  6.1338776e-01  7.8319076e-01 */
+    { 0x3fbdc979, 0x3f9bdc7c },  /* 270:  1.4827110e+00  1.2176662e+00 */
+    { 0x42d79403, 0x41261d4c },  /* 271:  1.0778909e+02  1.0382152e+01 */
+    { 0x3d8f0397, 0x3e874c85 },  /* 272:  6.9831066e-02  2.6425568e-01 */
+    { 0x3f109a8d, 0x3f4066ed },  /* 273:  5.6485826e-01  7.5157053e-01 */
+    { 0x3deab25f, 0x3ead52ed },  /* 274:  1.1459803e-01  3.3852331e-01 */
+    { 0x3bfc6d39, 0x3db3c064 },  /* 275:  7.7034500e-03  8.7769300e-02 */
+    { 0x3dfbcb64, 0x3eb386bc },  /* 276:  1.2294653e-01  3.5063732e-01 */
+    { 0x41482013, 0x40625854 },  /* 277:  1.2507831e+01  3.5366411e+00 */
+    { 0x42e9dac3, 0x412d033e },  /* 278:  1.1692727e+02  1.0813291e+01 */
+    { 0x42ec8f33, 0x412e02a6 },  /* 279:  1.1827969e+02  1.0875646e+01 */
+    { 0x4008d29b, 0x3fbb276a },  /* 280:  2.1378543e+00  1.4621403e+00 */
+    { 0x28af6426, 0x3415d55f },  /* 281:  1.9472335e-14  1.3954331e-07 */
+    { 0x41227585, 0x404bef62 },  /* 282:  1.0153691e+01  3.1864857e+00 */
+    { 0x3a24b738, 0x3ccd58ba },  /* 283:  6.2834052e-04  2.5066721e-02 */
+    { 0x3e32febe, 0x3ed60ffe },  /* 284:  1.7479989e-01  4.1809077e-01 */
+    { 0x3de2c197, 0x3eaa5ddd },  /* 285:  1.1072081e-01  3.3274736e-01 */
+    { 0x3c769d68, 0x3dfb437d },  /* 286:  1.5052177e-02  1.2268731e-01 */
+    { 0x3f3dff84, 0x3f5c8b2f },  /* 287:  7.4218011e-01  8.6149876e-01 */
+    { 0x3b528aea, 0x3d682951 },  /* 288:  3.2126256e-03  5.6680028e-02 */
+    { 0x410c7084, 0x403d9c8a },  /* 289:  8.7774696e+00  2.9626795e+00 */
+    { 0x439204a3, 0x4188b669 },  /* 290:  2.9203622e+02  1.7089067e+01 */
+    { 0x3d89bf4a, 0x3e84c8c2 },  /* 291:  6.7259386e-02  2.5934415e-01 */
+    { 0x410953d8, 0x403b7fb9 },  /* 292:  8.5829697e+00  2.9296706e+00 */
+    { 0x3c5195cd, 0x3de7a206 },  /* 293:  1.2792063e-02  1.1310200e-01 */
+    { 0x3f2b945b, 0x3f5194d5 },  /* 294:  6.7023247e-01  8.1867727e-01 */
+    { 0x3fd8ed95, 0x3fa6a23a },  /* 295:  1.6947504e+00  1.3018258e+00 */
+    { 0x40d5ad34, 0x40256153 },  /* 296:  6.6773930e+00  2.5840652e+00 */
+    { 0x411003c6, 0x40400284 },  /* 297:  9.0009212e+00  3.0001535e+00 */
+    { 0x3dcdbbf8, 0x3ea2470a },  /* 298:  1.0045618e-01  3.1694823e-01 */
+    { 0x3da4ad37, 0x3e912f4b },  /* 299:  8.0408506e-02  2.8356394e-01 */
+    { 0x3efa70e4, 0x3f330b0b },  /* 300:  4.8914254e-01  6.9938726e-01 */
+    { 0x3efab1d8, 0x3f332241 },  /* 301:  4.8963809e-01  6.9974145e-01 */
+    { 0x3e18f018, 0x3ec5de6f },  /* 302:  1.4935338e-01  3.8646266e-01 */
+    { 0x3294f213, 0x390a1382 },  /* 303:  1.7339550e-08  1.3167973e-04 */
+    { 0x3dd6bcae, 0x3ea5ca41 },  /* 304:  1.0485207e-01  3.2380869e-01 */
+    { 0x3ffc3d11, 0x3fb3af3e },  /* 305:  1.9706136e+00  1.4037855e+00 */
+    { 0x37d02573, 0x3ba339db },  /* 306:  2.4812971e-05  4.9812620e-03 */
+    { 0x4160a1c6, 0x406fcdba },  /* 307:  1.4039495e+01  3.7469315e+00 */
+    { 0x3fcaf073, 0x3fa12be2 },  /* 308:  1.5854629e+00  1.2591517e+00 */
+    { 0x429135fd, 0x41085589 },  /* 309:  7.2605446e+01  8.5208829e+00 */
+    { 0x3fbfccae, 0x3f9caf7c },  /* 310:  1.4984338e+00  1.2241053e+00 */
+    { 0x3d386fa7, 0x3e594aa8 },  /* 311:  4.5028355e-02  2.1219886e-01 */
+    { 0x4129a7e9, 0x4050673b },  /* 312:  1.0603494e+01  3.2563006e+00 */
+    { 0x3b53411f, 0x3d688db1 },  /* 313:  3.2234860e-03  5.6775752e-02 */
+    { 0x3d71abfb, 0x3e78bb95 },  /* 314:  5.9001904e-02  2.4290308e-01 */
+    { 0x3fee9572, 0x3faec0da },  /* 315:  1.8639357e+00  1.3652603e+00 */
+    { 0x414a55bc, 0x40639756 },  /* 316:  1.2645931e+01  3.5561118e+00 */
+    { 0x3fda3571, 0x3fa71ff7 },  /* 317:  1.7047559e+00  1.3056630e+00 */
+    { 0x416478f1, 0x4071d849 },  /* 318:  1.4279527e+01  3.7788261e+00 */
+    { 0x3ff0189b, 0x3faf4e6a },  /* 319:  1.8757509e+00  1.3695806e+00 */
+    { 0x2675c2fd, 0x32fad41f },  /* 320:  8.5265709e-16  2.9200293e-08 */
+    { 0x410421f6, 0x4037eb19 },  /* 321:  8.2582912e+00  2.8737243e+00 */
+    { 0x41ceba6a, 0x40a2ab44 },  /* 322:  2.5841022e+01  5.0834066e+00 */
+    { 0x3d614911, 0x3e7026f5 },  /* 323:  5.5001322e-02  2.3452361e-01 */
+    { 0x3feb7675, 0x3fad9b46 },  /* 324:  1.8395525e+00  1.3563010e+00 */
+    { 0x3f114ca6, 0x3f40dd45 },  /* 325:  5.6757581e-01  7.5337628e-01 */
+    { 0x42edcdb6, 0x412e77a4 },  /* 326:  1.1890178e+02  1.0904209e+01 */
+    { 0x3fe13bce, 0x3fa9cb30 },  /* 327:  1.7596376e+00  1.3265133e+00 */
+    { 0x3fdcd54c, 0x3fa8207b },  /* 328:  1.7252593e+00  1.3134913e+00 */
+    { 0x3ef5fc7f, 0x3f317193 },  /* 329:  4.8044202e-01  6.9313925e-01 */
+    { 0x45352b10, 0x42575ba5 },  /* 330:  2.8986914e+03  5.3839497e+01 */
+    { 0x3e04c060, 0x3eb85938 },  /* 331:  1.2964010e-01  3.6005569e-01 */
+    { 0x3f1cb049, 0x3f4847d0 },  /* 332:  6.1206490e-01  7.8234577e-01 */
+    { 0x3f278ac4, 0x3f4f19d2 },  /* 333:  6.5446115e-01  8.0898773e-01 */
+    { 0x38a9b50e, 0x3c1362b9 },  /* 334:  8.0922720e-05  8.9957057e-03 */
+    { 0x40cb3b2a, 0x4021498a },  /* 335:  6.3509722e+00  2.5201135e+00 */
+    { 0x3fbad9ac, 0x3f9aa694 },  /* 336:  1.4597678e+00  1.2082085e+00 */
+    { 0x4125bce0, 0x404dfb93 },  /* 337:  1.0358612e+01  3.2184798e+00 */
+    { 0x3d5eff95, 0x3e6eee1a },  /* 338:  5.4442961e-02  2.3333015e-01 */
+    { 0x170cd29c, 0x2b3ddeb7 },  /* 339:  4.5502266e-25  6.7455368e-13 */
+    { 0x3f2742f2, 0x3f4eed6a },  /* 340:  6.5336525e-01  8.0831012e-01 */
+    { 0x40eabb63, 0x402d5641 },  /* 341:  7.3353744e+00  2.7083896e+00 */
+    { 0x3f14bcda, 0x3f432206 },  /* 342:  5.8100665e-01  7.6223792e-01 */
+    { 0x3fd3beb8, 0x3fa4a188 },  /* 343:  1.6542578e+00  1.2861795e+00 */
+    { 0x3ff2ed22, 0x3fb05626 },  /* 344:  1.8978617e+00  1.3776290e+00 */
+    { 0x3e3ef649, 0x3edd1a39 },  /* 345:  1.8648638e-01  4.3184069e-01 */
+    { 0x3d9d0eaa, 0x3e8dc946 },  /* 346:  7.6688126e-02  2.7692621e-01 */
+    { 0x403cf40f, 0x3fdbefbe },  /* 347:  2.9523962e+00  1.7182538e+00 */
+    { 0x4482595e, 0x42012b51 },  /* 348:  1.0427927e+03  3.2292301e+01 */
+    { 0x3e780e30, 0x3efbff14 },  /* 349:  2.4224162e-01  4.9218048e-01 */
+    { 0x3fdcd02c, 0x3fa81e88 },  /* 350:  1.7251029e+00  1.3134317e+00 */
+    { 0x42fb00a9, 0x41333e68 },  /* 351:  1.2550129e+02  1.1202736e+01 */
+    { 0x3e2bc316, 0x3ed1b15e },  /* 352:  1.6773638e-01  4.0955632e-01 */
+    { 0x3e45133d, 0x3ee09d10 },  /* 353:  1.9245620e-01  4.3869830e-01 */
+    { 0x41f96082, 0x40b2a993 },  /* 354:  3.1172123e+01  5.5832001e+00 */
+    { 0x41b5a9fc, 0x40987d44 },  /* 355:  2.2708000e+01  4.7652912e+00 */
+    { 0x439acb4e, 0x418cc2cf },  /* 356:  3.0958832e+02  1.7595122e+01 */
+    { 0x3fb6b7da, 0x3f98ee5e },  /* 357:  1.4274857e+00  1.1947743e+00 */
+    { 0x3ff1d746, 0x3faff130 },  /* 358:  1.8893821e+00  1.3745480e+00 */
+    { 0x42f6f720, 0x4131cbe1 },  /* 359:  1.2348267e+02  1.1112275e+01 */
+    { 0x3fe6120a, 0x3fab9b6f },  /* 360:  1.7974255e+00  1.3406810e+00 */
+    { 0x414d44f4, 0x40653c4f },  /* 361:  1.2829334e+01  3.5818060e+00 */
+    { 0x3b629dce, 0x3d70dc4d },  /* 362:  3.4578922e-03  5.8803845e-02 */
+    { 0x409c6fff, 0x400d8195 },  /* 363:  4.8886714e+00  2.2110340e+00 */
+    { 0x3ff0644b, 0x3faf6a0a },  /* 364:  1.8780607e+00  1.3704235e+00 */
+    { 0x3e7fc6e3, 0x3effe370 },  /* 365:  2.4978213e-01  4.9978208e-01 */
+    { 0x3f105f53, 0x3f403f82 },  /* 366:  5.6395453e-01  7.5096906e-01 */
+    { 0x3cfd4a70, 0x3e340f16 },  /* 367:  3.0919284e-02  1.7583880e-01 */
+    { 0x3e542abf, 0x3ee90e24 },  /* 368:  2.0719431e-01  4.5518602e-01 */
+    { 0x3fee6ab3, 0x3faeb131 },  /* 369:  1.8626312e+00  1.3647825e+00 */
+    { 0x448b852d, 0x4205a2d3 },  /* 370:  1.1161617e+03  3.3409007e+01 */
+    { 0x40db9dbc, 0x4027a9b8 },  /* 371:  6.8630047e+00  2.6197337e+00 */
+    { 0x3dbb6083, 0x3e9ade57 },  /* 372:  9.1492675e-02  3.0247756e-01 */
+    { 0x3e3e0935, 0x3edc90cf },  /* 373:  1.8558200e-01  4.3079229e-01 */
+    { 0x3dd62620, 0x3ea59018 },  /* 374:  1.0456491e-01  3.2336497e-01 */
+    { 0x3ce309c0, 0x3e2a78f6 },  /* 375:  2.7714610e-02  1.6647706e-01 */
+    { 0x3e445a3c, 0x3ee0338a },  /* 376:  1.9175047e-01  4.3789321e-01 */
+    { 0x3f265909, 0x3f4e5c86 },  /* 377:  6.4979607e-01  8.0609929e-01 */
+    { 0x31cc28ca, 0x38a1a7b9 },  /* 378:  5.9418186e-09  7.7083193e-05 */
+    { 0x614907d0, 0x5062db3b },  /* 379:  2.3177241e+20  1.5224073e+10 */
+    { 0x41c8bf06, 0x40a04c57 },  /* 380:  2.5093273e+01  5.0093186e+00 */
+    { 0x410eb318, 0x403f218f },  /* 381:  8.9187241e+00  2.9864233e+00 */
+    { 0x3feb7efa, 0x3fad9e6a },  /* 382:  1.8398125e+00  1.3563969e+00 */
+    { 0x3fdef41c, 0x3fa8ee9e },  /* 383:  1.7418246e+00  1.3197820e+00 */
+    { 0x3c301109, 0x3dd44dda },  /* 384:  1.0746249e-02  1.0366412e-01 */
+    { 0x40fc0213, 0x40339a3a },  /* 385:  7.8752532e+00  2.8062882e+00 */
+    { 0x43c14084, 0x419d4714 },  /* 386:  3.8650403e+02  1.9659706e+01 */
+    { 0x3fccb328, 0x3fa1de78 },  /* 387:  1.5992174e+00  1.2646017e+00 */
+    { 0x4145f1af, 0x40611bb0 },  /* 388:  1.2371505e+01  3.5173150e+00 */
+    { 0x44bee29a, 0x421c4fc2 },  /* 389:  1.5270813e+03  3.9077888e+01 */
+    { 0x3cd12cb9, 0x3e23a0f4 },  /* 390:  2.5534021e-02  1.5979368e-01 */
+    { 0x3d4b95ee, 0x3e644b24 },  /* 391:  4.9703531e-02  2.2294289e-01 */
+    { 0x1bcb3e3d, 0x2da14ac3 },  /* 392:  3.3623753e-22  1.8336781e-11 */
+    { 0x41104db3, 0x404033c6 },  /* 393:  9.0189695e+00  3.0031599e+00 */
+    { 0x406beb90, 0x3ff5c14d },  /* 394:  3.6862526e+00  1.9199616e+00 */
+    { 0x40ed8efb, 0x402e60a0 },  /* 395:  7.4237037e+00  2.7246474e+00 */
+    { 0x3ff3088f, 0x3fb0601a },  /* 396:  1.8986987e+00  1.3779328e+00 */
+    { 0x42d08648, 0x41235fce },  /* 397:  1.0426227e+02  1.0210890e+01 */
+    { 0x3b6b64f0, 0x3d757b25 },  /* 398:  3.5918318e-03  5.9931893e-02 */
+    { 0x3f21d651, 0x3f4b8b5d },  /* 399:  6.3217646e-01  7.9509525e-01 */
+    { 0x40d49599, 0x4024f4fb },  /* 400:  6.6432614e+00  2.5774525e+00 */
+    { 0x41d787b6, 0x40a6188e },  /* 401:  2.6941265e+01  5.1904976e+00 */
+    { 0x3f0ff720, 0x3f3ffa15 },  /* 402:  5.6236458e-01  7.4990971e-01 */
+    { 0x3f42910c, 0x3f5f2ded },  /* 403:  7.6002574e-01  8.7179455e-01 */
+    { 0x3e00c143, 0x3eb58d68 },  /* 404:  1.2573723e-01  3.5459447e-01 */
+    { 0x40e786f9, 0x402c264c },  /* 405:  7.2352262e+00  2.6898376e+00 */
+    { 0x3d6fffcf, 0x3e77dedc },  /* 406:  5.8593567e-02  2.4206108e-01 */
+    { 0x3fd46e33, 0x3fa4e5b1 },  /* 407:  1.6596130e+00  1.2882597e+00 */
+    { 0x3f2aed0a, 0x3f512e8d },  /* 408:  6.6767943e-01  8.1711653e-01 */
+    { 0x4e1b0603, 0x46c736a7 },  /* 409:  6.5021562e+08  2.5499326e+04 */
+    { 0x3f321842, 0x3f558600 },  /* 410:  6.9568264e-01  8.3407592e-01 */
+    { 0x3f13e3f5, 0x3f42938c },  /* 411:  5.7769710e-01  7.6006388e-01 */
+    { 0x3e7dc2fe, 0x3efee0de },  /* 412:  2.4781415e-01  4.9780935e-01 */
+    { 0x40e627e2, 0x402ba395 },  /* 413:  7.1923685e+00  2.6818592e+00 */
+    { 0x41e2fb78, 0x40aa7399 },  /* 414:  2.8372787e+01  5.3266113e+00 */
+    { 0x3fb0418d, 0x3f9633d4 },  /* 415:  1.3770005e+00  1.1734566e+00 */
+    { 0x3cf23784, 0x3e30142f },  /* 416:  2.9567488e-02  1.7195199e-01 */
+    { 0x41df436a, 0x40a90ca7 },  /* 417:  2.7907917e+01  5.2827944e+00 */
+    { 0x3bdec705, 0x3da8dd88 },  /* 418:  6.7986273e-03  8.2453789e-02 */
+    { 0x4ab43196, 0x4517def8 },  /* 419:  5.9045870e+06  2.4299356e+03 */
+    { 0x3b86db45, 0x3d836230 },  /* 420:  4.1154944e-03  6.4152119e-02 */
+    { 0x40089174, 0x3fbafad5 },  /* 421:  2.1338778e+00  1.4607798e+00 */
+    { 0x4d029e3d, 0x4636dc7b },  /* 422:  1.3696302e+08  1.1703120e+04 */
+    { 0x3fd57185, 0x3fa54a39 },  /* 423:  1.6675268e+00  1.2913275e+00 */
+    { 0x4282190d, 0x41010b6f },  /* 424:  6.5048927e+01  8.0652915e+00 */
+    { 0x3f521e79, 0x3f67ed80 },  /* 425:  8.2077748e-01  9.0596770e-01 */
+    { 0x4360dd04, 0x416fed57 },  /* 426:  2.2486334e+02  1.4995444e+01 */
+    { 0x3fca9bd0, 0x3fa10a42 },  /* 427:  1.5828800e+00  1.2581256e+00 */
+    { 0x40b12f8f, 0x4016991b },  /* 428:  5.5370555e+00  2.3530949e+00 */
+    { 0x3ffeafd7, 0x3fb48df2 },  /* 429:  1.9897412e+00  1.4105819e+00 */
+    { 0x3eedf1f6, 0x3f2e84f0 },  /* 430:  4.6473664e-01  6.8171595e-01 */
+    { 0x3f00b45c, 0x3f35844f },  /* 431:  5.0275207e-01  7.0905012e-01 */
+    { 0x3f131d4f, 0x3f4210b2 },  /* 432:  5.7466596e-01  7.5806726e-01 */
+    { 0x40e6fb6a, 0x402bf262 },  /* 433:  7.2181902e+00  2.6866690e+00 */
+    { 0x3fd3ac09, 0x3fa49a44 },  /* 434:  1.6536876e+00  1.2859579e+00 */
+    { 0x3f098988, 0x3f3ba45c },  /* 435:  5.3725481e-01  7.3297668e-01 */
+    { 0x3bdf9d77, 0x3da92ebb },  /* 436:  6.8241912e-03  8.2608663e-02 */
+    { 0x3f4b67a4, 0x3f64312e },  /* 437:  7.9455018e-01  8.9137544e-01 */
+    { 0x3fd446bf, 0x3fa4d661 },  /* 438:  1.6584090e+00  1.2877923e+00 */
+    { 0x3fd5dfec, 0x3fa574f2 },  /* 439:  1.6708961e+00  1.2926314e+00 */
+    { 0x3943aec8, 0x3c5fd192 },  /* 440:  1.8661760e-04  1.3660805e-02 */
+    { 0x3e2a7a48, 0x3ed0e848 },  /* 441:  1.6648209e-01  4.0802217e-01 */
+    { 0x416e368e, 0x4076f24b },  /* 442:  1.4888319e+01  3.8585385e+00 */
+    { 0x3fb26438, 0x3f971c0e },  /* 443:  1.3936834e+00  1.1805437e+00 */
+    { 0x3d417b4f, 0x3e5e8e6a },  /* 444:  4.7236737e-02  2.1734014e-01 */
+    { 0x3b0cdb9f, 0x3d3de4ca },  /* 445:  2.1493209e-03  4.6360769e-02 */
+    { 0x3f0c4952, 0x3f3d8213 },  /* 446:  5.4799378e-01  7.4026602e-01 */
+    { 0x414ff2f6, 0x4066ba1e },  /* 447:  1.2996817e+01  3.6051098e+00 */
+    { 0x4276f9a1, 0x40fb7273 },  /* 448:  6.1743778e+01  7.8577209e+00 */
+    { 0x40b1d835, 0x4016e0b6 },  /* 449:  5.5576425e+00  2.3574653e+00 */
+    { 0x411cfac7, 0x40487766 },  /* 450:  9.8112249e+00  3.1322875e+00 */
+    { 0x604dbf77, 0x4fe580ad },  /* 451:  5.9302797e+19  7.7008310e+09 */
+    { 0x3bb945a6, 0x3d99ff06 },  /* 452:  5.6540547e-03  7.5193448e-02 */
+    { 0x3ff26926, 0x3fb02638 },  /* 453:  1.8938339e+00  1.3761664e+00 */
+    { 0x4402a0cf, 0x41b6de48 },  /* 454:  5.2251263e+02  2.2858535e+01 */
+    { 0x3dabc3a6, 0x3e9446b3 },  /* 455:  8.3869264e-02  2.8960191e-01 */
+    { 0x414d07ae, 0x40651a16 },  /* 456:  1.2814375e+01  3.5797172e+00 */
+    { 0x40ca5184, 0x4020ecb9 },  /* 457:  6.3224506e+00  2.5144484e+00 */
+    { 0x3d7961b5, 0x3e7cab4e },  /* 458:  6.0884196e-02  2.4674723e-01 */
+    { 0x3eef56e4, 0x3f2f07a4 },  /* 459:  4.6745980e-01  6.8371032e-01 */
+    { 0x3bae42b7, 0x3d95598b },  /* 460:  5.3180116e-03  7.2924698e-02 */
+    { 0x3e01c7a2, 0x3eb64605 },  /* 461:  1.2673810e-01  3.5600295e-01 */
+    { 0x3e700535, 0x3ef7e1a6 },  /* 462:  2.3439486e-01  4.8414343e-01 */
+    { 0x3dea812d, 0x3ead40c2 },  /* 463:  1.1450420e-01  3.3838469e-01 */
+    { 0x43923bf1, 0x4188d04a },  /* 464:  2.9246829e+02  1.7101704e+01 */
+    { 0x3dfd0e74, 0x3eb3f9c3 },  /* 465:  1.2356272e-01  3.5151490e-01 */
+    { 0x40dd236a, 0x40283e35 },  /* 466:  6.9105730e+00  2.6287969e+00 */
+    { 0x3886070e, 0x3c02faa7 },  /* 467:  6.3909320e-05  7.9943305e-03 */
+    { 0x4737548c, 0x4358a3a3 },  /* 468:  4.6932547e+04  2.1663921e+02 */
+    { 0x40f89957, 0x4032622c },  /* 469:  7.7687182e+00  2.7872420e+00 */
+    { 0x3e83eb0f, 0x3f01f1c0 },  /* 470:  2.5765273e-01  5.0759505e-01 */
+    { 0x3d7043a0, 0x3e7801df },  /* 471:  5.8658242e-02  2.4219464e-01 */
+    { 0x3e87e557, 0x3f03e38c },  /* 472:  2.6542160e-01  5.1519084e-01 */
+    { 0x3fe4ebf4, 0x3fab2d9f },  /* 473:  1.7884507e+00  1.3373297e+00 */
+    { 0x3f1539a4, 0x3f4373d0 },  /* 474:  5.8291078e-01  7.6348594e-01 */
+    { 0x3cd50579, 0x3e25205d },  /* 475:  2.6003586e-02  1.6125627e-01 */
+    { 0x69cd7ed0, 0x54a22ee9 },  /* 476:  3.1053581e+25  5.5725740e+12 */
+    { 0x3e8fa8cf, 0x3f079a96 },  /* 477:  2.8058478e-01  5.2970254e-01 */
+    { 0x3f0d85eb, 0x3f3e5772 },  /* 478:  5.5282468e-01  7.4352181e-01 */
+    { 0x3f37ff18, 0x3f590850 },  /* 479:  7.1873617e-01  8.4778309e-01 */
+    { 0x424bc81f, 0x40e46746 },  /* 480:  5.0945431e+01  7.1376068e+00 */
+    { 0x3e760e2d, 0x3efafa7b },  /* 481:  2.4028845e-01  4.9019226e-01 */
+    { 0x4103977d, 0x40378aa1 },  /* 482:  8.2244844e+00  2.8678362e+00 */
+    { 0x41acccf1, 0x4094b909 },  /* 483:  2.1600069e+01  4.6475874e+00 */
+    { 0x3f50790a, 0x3f670474 },  /* 484:  8.1434691e-01  9.0241172e-01 */
+    { 0x41f60d74, 0x40b177b0 },  /* 485:  3.0756569e+01  5.5458605e+00 */
+    { 0x3ff52b93, 0x3fb12628 },  /* 486:  1.9153923e+00  1.3839770e+00 */
+    { 0x3c60e365, 0x3deff0be },  /* 487:  1.3726090e-02  1.1715840e-01 */
+    { 0x410dccd6, 0x403e871d },  /* 488:  8.8625088e+00  2.9769966e+00 */
+    { 0x39a9a08a, 0x3c9359d1 },  /* 489:  3.2353803e-04  1.7987163e-02 */
+    { 0x190ac8b2, 0x2c3c7d96 },  /* 490:  7.1749629e-24  2.6786121e-12 */
+    { 0x3f25f864, 0x3f4e208b },  /* 491:  6.4832139e-01  8.0518407e-01 */
+    { 0x3fec7f2c, 0x3fadfcc1 },  /* 492:  1.8476310e+00  1.3592759e+00 */
+    { 0x413b45a7, 0x405af4b1 },  /* 493:  1.1704505e+01  3.4211847e+00 */
+    { 0x3e4cbae9, 0x3ee4ef2e },  /* 494:  1.9993176e-01  4.4713729e-01 */
+    { 0x3dd62832, 0x3ea590e5 },  /* 495:  1.0456885e-01  3.2337108e-01 */
+    { 0x3c40b05c, 0x3dde1992 },  /* 496:  1.1760797e-02  1.0844721e-01 */
+    { 0x3dbce0a8, 0x3e9b7cc6 },  /* 497:  9.2225373e-02  3.0368631e-01 */
+    { 0x6c9d01b0, 0x560dc36a },  /* 498:  1.5184746e+27  3.8967609e+13 */
+    { 0x4213f697, 0x40c29fcd },  /* 499:  3.6990810e+01  6.0820071e+00 */
+    { 0x4256e459, 0x40ea8c10 },  /* 500:  5.3722996e+01  7.3295972e+00 */
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]:  %#lx\n", index - 1, v.lo);
+#endif
+    exit (index ? index : -1);
+}
+
+int main ()
+{
+    union lofl_u x, z;
+    int i;
+    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	x.lo = pgm_read_dword (& t[i].x);
+	z.lo = pgm_read_dword (& t[i].z);
+	v.fl = sqrt (x.fl);
+	/* Comparison is integer to verify the zero sign.	*/
+	if (v.lo != z.lo)
+	    x_exit (i+1);
+    }
+    return 0;
+}
diff --git a/tests/simulate/math/tan-01.c b/tests/simulate/math/tan-01.c
new file mode 100644
index 0000000..7fcd4b6
--- /dev/null
+++ b/tests/simulate/math/tan-01.c
@@ -0,0 +1,101 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of tan() function.
+   $Id$
+ */
+#include <math.h>
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+volatile union lofl_u v = { .lo = 1 };
+
+PROGMEM const struct {		/* Table of test cases.	*/
+    union lofl_u x;		/* argument	*/
+    union lofl_u z;		/* tan(x)	*/
+} t[] = {
+
+    /* Zero	*/
+    { { .fl= +0.0 },	{ .fl= +0.0 }	},
+    { { .fl= -0.0 },	{ .fl= -0.0 }	},
+    
+    /* Subnormal	*/
+    { { 0x00000001 },	{ 0x00000001 }	},
+    { { 0x00000100 },	{ 0x00000100 }	},
+    { { 0x00010000 },	{ 0x00010000 }	},
+    { { 0x007fffff },	{ 0x007fffff }	},
+    { { 0x80000001 },	{ 0x80000001 }	},
+    { { 0x80000100 },	{ 0x80000100 }	},
+    { { 0x80010000 },	{ 0x80010000 }	},
+    { { 0x807fffff },	{ 0x807fffff }	},
+    
+    /* Arg. too small	*/
+    { { 0x00800000 },	{ 0x00800000 }	},
+    { { 0x01000000 },	{ 0x01000000 }	},
+    { { 0x38000000 },	{ 0x38000000 }	},
+    { { 0x38ffffff },	{ 0x38ffffff }	},
+    { { 0x80800000 },	{ 0x80800000 }	},
+    { { 0x81000000 },	{ 0x81000000 }	},
+    { { 0xb8000000 },	{ 0xb8000000 }	},
+    { { 0xb8ffffff },	{ 0xb8ffffff }	},
+
+    /* Some values	*/
+//    { { .fl=  0.78539816 },  { .fl=  1.0 } },		/* Pi/4	*/
+//    { { .fl= -0.78539816 },  { .fl= -1.0 } },
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]:  %#lx\n", index - 1, v.lo);
+#endif
+    exit (index ? index : -1);
+}
+
+int main ()
+{
+    union lofl_u x, z;
+    int i;
+    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	x.lo = pgm_read_dword (& t[i].x);
+	z.lo = pgm_read_dword (& t[i].z);
+	v.fl = tan (x.fl);
+	/* Comparison is integer to verify the zero sign.	*/
+	if (v.lo != z.lo)
+	    x_exit (i+1);
+    }
+    return 0;
+}
diff --git a/tests/simulate/math/tan-500.c b/tests/simulate/math/tan-500.c
new file mode 100644
index 0000000..2aacc60
--- /dev/null
+++ b/tests/simulate/math/tan-500.c
@@ -0,0 +1,579 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of tan() function. 500 random cases.
+   $Id$
+ */
+#include <math.h>
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+volatile union lofl_u v = { .lo = 1 };
+
+PROGMEM const struct {		/* Table of test cases.	*/
+    long x;		/* argument	*/
+    long z;		/* tan(x)	*/
+} t[] = {
+
+    /* x, tan(x)	*/
+    { 0xbfc768db,0xc29aec61 }, /*   1: -1.5578874e+00 -7.7461678e+01 */
+    { 0x3efd97ab,0x3f0a4b5e }, /*   2:  4.9529776e-01  5.4021251e-01 */
+    { 0xc0991de2,0x415c46a5 }, /*   3: -4.7848978e+00  1.3767247e+01 */
+    { 0x3ecd2c71,0x3ed8e920 }, /*   4:  4.0072969e-01  4.2365360e-01 */
+    { 0x3da705de,0x3da764ea }, /*   5:  8.1554160e-02  8.1735447e-02 */
+    { 0xbedd5970,0xbeec414a }, /*   6: -4.3232298e-01 -4.6143562e-01 */
+    { 0x3ef58253,0x3f051df1 }, /*   7:  4.7950992e-01  5.1998812e-01 */
+    { 0x40411375,0xbe00712f }, /*   8:  3.0168126e+00 -1.2543176e-01 */
+    { 0xbc8567c1,0xbc856ac6 }, /*   9: -1.6284825e-02 -1.6286265e-02 */
+    { 0xbfa6f0a8,0xc06a5dd6 }, /*  10: -1.3042192e+00 -3.6619773e+00 */
+    { 0xbfa18d47,0xc048b65d }, /*  11: -1.2621239e+00 -3.1361306e+00 */
+    { 0x3c99abcd,0x3c99b06a }, /*  12:  1.8758679e-02  1.8760879e-02 */
+    { 0x3f9a967a,0x4028749a }, /*  13:  1.2077172e+00  2.6321168e+00 */
+    { 0xbf288299,0xbf45f689 }, /*  14: -6.5824276e-01 -7.7329308e-01 */
+    { 0xbfd187d2,0x41717b27 }, /*  15: -1.6369574e+00  1.5092566e+01 */
+    { 0x403ec5cb,0xbe260fe1 }, /*  16:  2.9808223e+00 -1.6216995e-01 */
+    { 0x3fd5d75d,0xc11fb9d6 }, /*  17:  1.6706349e+00 -9.9828701e+00 */
+    { 0x3fe6bd28,0xc087899c }, /*  18:  1.8026476e+00 -4.2355480e+00 */
+    { 0x3f5b3a26,0x3f939689 }, /*  19:  8.5635602e-01  1.1530315e+00 */
+    { 0x3ed7620f,0x3ee50e85 }, /*  20:  4.2067000e-01  4.4737640e-01 */
+    { 0x3fa0e9e9,0x40454eea }, /*  21:  1.2571384e+00  3.0829415e+00 */
+    { 0xc0265ace,0x3f1a416e }, /*  22: -2.5992923e+00  6.0256088e-01 */
+    { 0x3f30028c,0x3f523a9d }, /*  23:  6.8753886e-01  8.2120687e-01 */
+    { 0x3e0161d7,0x3e02133a }, /*  24:  1.2634979e-01  1.2702647e-01 */
+    { 0x3ed48f75,0x3ee1ad6b }, /*  25:  4.1515699e-01  4.4077620e-01 */
+    { 0x3ec8a9a0,0x3ed39c12 }, /*  26:  3.9191914e-01  4.1330010e-01 */
+    { 0xbf9065db,0xc007006a }, /*  27: -1.1281084e+00 -2.1094003e+00 */
+    { 0xbf5a7762,0xbf92b475 }, /*  28: -8.5338414e-01 -1.1461321e+00 */
+    { 0x3f8b8707,0x3ff56c2f }, /*  29:  1.0900582e+00  1.9173640e+00 */
+    { 0xbdb3546f,0xbdb3ca20 }, /*  30: -8.7563388e-02 -8.7787867e-02 */
+    { 0x3c97b660,0x3c97bad1 }, /*  31:  1.8519580e-02  1.8521698e-02 */
+    { 0xbf9f07f3,0xc03bd92a }, /*  32: -1.2424301e+00 -2.9351296e+00 */
+    { 0xbf5f1c20,0xbf9830f5 }, /*  33: -8.7152290e-01 -1.1889941e+00 */
+    { 0x3c8ba75b,0x3c8baad2 }, /*  34:  1.7047575e-02  1.7049227e-02 */
+    { 0x3d4fbdaf,0x3d4feb55 }, /*  35:  5.0718006e-02  5.0761539e-02 */
+    { 0xc01192ce,0x3f96cdb9 }, /*  36: -2.2745852e+00  1.1781532e+00 */
+    { 0x3f5b74ea,0x3f93db0d }, /*  37:  8.5725272e-01  1.1551224e+00 */
+    { 0x3fd53c21,0xc127bc01 }, /*  38:  1.6658975e+00 -1.0483399e+01 */
+    { 0x3d7d85e4,0x3d7dd8e6 }, /*  39:  6.1895266e-02  6.1974429e-02 */
+    { 0xbeeedda6,0xbf00ecdc }, /*  40: -4.6653479e-01 -5.0361419e-01 */
+    { 0xbf83babd,0xbfd4bc16 }, /*  41: -1.0291363e+00 -1.6619899e+00 */
+    { 0x3f2c6adc,0x3f4c4827 }, /*  42:  6.7350554e-01  7.9797596e-01 */
+    { 0x3f8375dc,0x3fd3b9da }, /*  43:  1.0270343e+00  1.6541092e+00 */
+    { 0xc0566d3b,0xbe58ffe0 }, /*  44: -3.3504169e+00 -2.1191359e-01 */
+    { 0xbedb9a5f,0xbeea23e1 }, /*  45: -4.2891213e-01 -4.5730498e-01 */
+    { 0x3b001e69,0x3b001e74 }, /*  46:  1.9549376e-03  1.9549401e-03 */
+    { 0x3e6e4e32,0x3e72b3ed }, /*  47:  2.3272017e-01  2.3701449e-01 */
+    { 0xbee360d2,0xbef39b9b }, /*  48: -4.4409806e-01 -4.7579655e-01 */
+    { 0x3deafa13,0x3dec036e }, /*  49:  1.1473479e-01  1.1524092e-01 */
+    { 0xbe91b658,0xbe95c72a }, /*  50: -2.8459430e-01 -2.9253513e-01 */
+    { 0xbf2e7e2f,0xbf4fb37d }, /*  51: -6.8161291e-01 -8.1133252e-01 */
+    { 0xc014793b,0x3f89a55a }, /*  52: -2.3198993e+00  1.0753586e+00 */
+    { 0x3effe532,0x3f0bc914 }, /*  53:  4.9979550e-01  5.4603696e-01 */
+    { 0x3f4fbd9a,0x3f86dbf5 }, /*  54:  8.1148684e-01  1.0535876e+00 */
+    { 0xbf2d6676,0xbf4de53b }, /*  55: -6.7734468e-01 -8.0427903e-01 */
+    { 0x3f8c6e60,0x3ff9b4e5 }, /*  56:  1.0971184e+00  1.9508330e+00 */
+    { 0x3f1fc3a0,0x3f385776 }, /*  57:  6.2407875e-01  7.2008455e-01 */
+    { 0x3f53b55c,0x3f8b1d7c }, /*  58:  8.2698607e-01  1.0868373e+00 */
+    { 0xbf576e77,0xbf8f3db8 }, /*  59: -8.4152931e-01 -1.1190710e+00 */
+    { 0xbfabe673,0xc08a04f9 }, /*  60: -1.3429703e+00 -4.3131070e+00 */
+    { 0x3fc48a79,0x41e26740 }, /*  61:  1.5354759e+00  2.8300415e+01 */
+    { 0x3f523c4c,0x3f8984cf }, /*  62:  8.2123256e-01  1.0743655e+00 */
+    { 0xbf5e3c6e,0xbf972415 }, /*  63: -8.6810958e-01 -1.1807886e+00 */
+    { 0xbebfee31,0xbec974db }, /*  64: -3.7486413e-01 -3.9346966e-01 */
+    { 0x3ee075a1,0x3ef009bc }, /*  65:  4.3839744e-01  4.6882427e-01 */
+    { 0xbf26a83b,0xbf4304b6 }, /*  66: -6.5100449e-01 -7.6179063e-01 */
+    { 0xbf2bc70b,0xbf4b3c8e }, /*  67: -6.7100590e-01 -7.9389274e-01 */
+    { 0xbed9f87a,0xbee82b54 }, /*  68: -4.2572385e-01 -4.5345557e-01 */
+    { 0x3e6c5921,0x3e70a2f4 }, /*  69:  2.3080875e-01  2.3499662e-01 */
+    { 0x3f3010ac,0x3f525245 }, /*  70:  6.8775439e-01  8.2156783e-01 */
+    { 0xbfc63316,0xc232d7b5 }, /*  71: -1.5484340e+00 -4.4710651e+01 */
+    { 0x3f2a24ee,0x3f489659 }, /*  72:  6.6462600e-01  7.8354412e-01 */
+    { 0x3fc2f4a3,0x41a79164 }, /*  73:  1.5230907e+00  2.0945992e+01 */
+    { 0xbf2deb6c,0xbf4ec08f }, /*  74: -6.7937350e-01 -8.0762571e-01 */
+    { 0xbdbf004e,0xbdbf8e90 }, /*  75: -9.3262300e-02 -9.3533635e-02 */
+    { 0x3f2a4f84,0x3f48db1d }, /*  76:  6.6527581e-01  7.8459340e-01 */
+    { 0x3f997537,0x402413f9 }, /*  77:  1.1988896e+00  2.5637190e+00 */
+    { 0xc02f6435,0x3ed9229e }, /*  78: -2.7404912e+00  4.2409223e-01 */
+    { 0xbf50610b,0xbf8788d8 }, /*  79: -8.1398076e-01 -1.0588636e+00 */
+    { 0xbd5e94c5,0xbd5eccec }, /*  80: -5.4341096e-02 -5.4394647e-02 */
+    { 0x3fbec7a1,0x4146c07e }, /*  81:  1.4904672e+00  1.2421995e+01 */
+    { 0x3f544836,0x3f8bbe08 }, /*  82:  8.2922685e-01  1.0917368e+00 */
+    { 0x3f7c63ae,0x3fc14bed }, /*  83:  9.8589599e-01  1.5101296e+00 */
+    { 0x3f8605a2,0x3fdda01a }, /*  84:  1.0470469e+00  1.7314484e+00 */
+    { 0x3f524af7,0x3f89949c }, /*  85:  8.2145637e-01  1.0748477e+00 */
+    { 0xbfa140d6,0xc0471b3c }, /*  86: -1.2597911e+00 -3.1110373e+00 */
+    { 0x3fa0a8ad,0x4043fa60 }, /*  87:  1.2551476e+00  3.0621567e+00 */
+    { 0xbf97fc59,0xc01ea9d7 }, /*  88: -1.1873885e+00 -2.4791162e+00 */
+    { 0xbdea5c26,0xbdeb6369 }, /*  89: -1.1443357e-01 -1.1493570e-01 */
+    { 0x3e6f7901,0x3e73ef9b }, /*  90:  2.3386003e-01  2.3821871e-01 */
+    { 0x3ee707cb,0x3ef81a2a }, /*  91:  4.5123133e-01  4.8457462e-01 */
+    { 0x3fb51ce5,0x40cba868 }, /*  92:  1.4149443e+00  6.3643074e+00 */
+    { 0xbf245171,0xbf3f58f1 }, /*  93: -6.4186770e-01 -7.4745089e-01 */
+    { 0xbf85b48c,0xbfdc5d4f }, /*  94: -1.0445724e+00 -1.7215976e+00 */
+    { 0xbf7fdddf,0xbfc71ebb }, /*  95: -9.9947923e-01 -1.5556253e+00 */
+    { 0x3ffe87e1,0xc010319e }, /*  96:  1.9885217e+00 -2.2530284e+00 */
+    { 0xbf314510,0xbf5458d3 }, /*  97: -6.9246006e-01 -8.2948035e-01 */
+    { 0x3f05c8e9,0x3f1375bb }, /*  98:  5.2259690e-01  5.7601517e-01 */
+    { 0xbe0d3abd,0xbe0e21bd }, /*  99: -1.3791938e-01 -1.3880058e-01 */
+    { 0x3f47bcfe,0x3f7d5dc2 }, /* 100:  7.8022754e-01  9.8971188e-01 */
+    { 0xbf5d8df6,0xbf9653df }, /* 101: -8.6544740e-01 -1.1744345e+00 */
+    { 0x3e531833,0x3e5622f3 }, /* 102:  2.0614700e-01  2.0911770e-01 */
+    { 0x3ff1ef02,0xc04192cb }, /* 103:  1.8901064e+00 -3.0245845e+00 */
+    { 0x3eedc159,0x3f003ada }, /* 104:  4.6436575e-01  5.0089800e-01 */
+    { 0x3f2824cb,0x3f4560cd }, /* 105:  6.5681142e-01  7.7100831e-01 */
+    { 0x3f2fd0f4,0x3f51e7a0 }, /* 106:  6.8678212e-01  8.1994057e-01 */
+    { 0xbf8ad633,0xbff239bf }, /* 107: -1.0846618e+00 -1.8923873e+00 */
+    { 0xbeae090b,0xbeb51022 }, /* 108: -3.3991274e-01 -3.5363871e-01 */
+    { 0x3ef1b23c,0x3f02b450 }, /* 109:  4.7206295e-01  5.1056385e-01 */
+    { 0x3fb2af9b,0x40b52f5e }, /* 110:  1.3959841e+00  5.6620321e+00 */
+    { 0xbe49f1f7,0xbe4c9ac8 }, /* 111: -1.9721209e-01 -1.9980919e-01 */
+    { 0x3f2fea83,0x3f521262 }, /* 112:  6.8717211e-01  8.2059300e-01 */
+    { 0x3ef3365b,0x3f03a955 }, /* 113:  4.7502407e-01  5.1430255e-01 */
+    { 0xbec86228,0xbed34869 }, /* 114: -3.9137387e-01 -4.1266182e-01 */
+    { 0x3f4c1681,0x3f830ff4 }, /* 115:  7.9721838e-01  1.0239244e+00 */
+    { 0x3f5b6c88,0x3f93d145 }, /* 116:  8.5712481e-01  1.1548239e+00 */
+    { 0xbee358b6,0xbef391a9 }, /* 117: -4.4403619e-01 -4.7572067e-01 */
+    { 0x3ef16393,0x3f0282bf }, /* 118:  4.7146282e-01  5.0980753e-01 */
+    { 0x3f1db5a9,0x3f353d59 }, /* 119:  6.1605316e-01  7.0796734e-01 */
+    { 0x3ee8b05f,0x3efa2744 }, /* 120:  4.5447060e-01  4.8858082e-01 */
+    { 0xbefc0202,0xbf0945c8 }, /* 121: -4.9220282e-01 -5.3622103e-01 */
+    { 0xbfa82ff0,0xc073af78 }, /* 122: -1.3139629e+00 -3.8075848e+00 */
+    { 0x3f230311,0x3f3d51bc }, /* 123:  6.3676554e-01  7.3952842e-01 */
+    { 0xbf59b25a,0xbf91d150 }, /* 124: -8.5037768e-01 -1.1392002e+00 */
+    { 0x3eaeec2b,0x3eb60fd2 }, /* 125:  3.4164557e-01  3.5558945e-01 */
+    { 0xbec8bee5,0xbed3b4f9 }, /* 126: -3.9208141e-01 -4.1349009e-01 */
+    { 0x3ff3545e,0xc03ab75d }, /* 127:  1.9010122e+00 -2.9174416e+00 */
+    { 0xbfa02fae,0xc0418d9d }, /* 128: -1.2514551e+00 -3.0242684e+00 */
+    { 0x3ea95bca,0x3eafd173 }, /* 129:  3.3077842e-01  3.4339485e-01 */
+    { 0x3f20965f,0x3f39983b }, /* 130:  6.2729448e-01  7.2497910e-01 */
+    { 0x3f2575d8,0x3f41223c }, /* 131:  6.4632940e-01  7.5442863e-01 */
+    { 0xbfaaffe2,0xc085bc4c }, /* 132: -1.3359339e+00 -4.1792355e+00 */
+    { 0x3f245cba,0x3f3f6a89 }, /* 133:  6.4203990e-01  7.4771935e-01 */
+    { 0x3f217871,0x3f3af1fd }, /* 134:  6.3074404e-01  7.3025495e-01 */
+    { 0x3ea2d618,0x3ea88ee5 }, /* 135:  3.1803966e-01  3.2921520e-01 */
+    { 0x3f2cad32,0x3f4cb4d1 }, /* 136:  6.7451775e-01  7.9963404e-01 */
+    { 0xbf4df0a5,0xbf84f935 }, /* 137: -8.0445319e-01 -1.0388552e+00 */
+    { 0xbd7189e0,0xbd71d1a6 }, /* 138: -5.8969378e-02 -5.9037827e-02 */
+    { 0xbea31548,0xbea8d4f1 }, /* 139: -3.1852174e-01 -3.2974961e-01 */
+    { 0x3fb0c7bd,0x40a6a889 }, /* 140:  1.3810955e+00  5.2080731e+00 */
+    { 0x4113534c,0xbe61b34a }, /* 141:  9.2078362e+00 -2.2041050e-01 */
+    { 0x3f2eeb14,0x3f50684e }, /* 142:  6.8327451e-01  8.1409156e-01 */
+    { 0x3e1046a9,0x3e113d04 }, /* 143:  1.4089455e-01  1.4183432e-01 */
+    { 0xbfdd5fca,0x40c7f4ca }, /* 144: -1.7294858e+00  6.2486315e+00 */
+    { 0x3fb0f993,0x40a809bb }, /* 145:  1.3826164e+00  5.2511878e+00 */
+    { 0x3e06575c,0x3e071e09 }, /* 146:  1.3119262e-01  1.3195051e-01 */
+    { 0x3f4ae2a9,0x3f81d62a }, /* 147:  7.9252106e-01  1.0143483e+00 */
+    { 0x3dc7ea09,0x3dc88d35 }, /* 148:  9.7614355e-02  9.7925581e-02 */
+    { 0xb91bbf02,0xb91bbf02 }, /* 149: -1.4853108e-04 -1.4853108e-04 */
+    { 0x3f83269b,0x3fd292ee }, /* 150:  1.0246156e+00  1.6451089e+00 */
+    { 0xbfd84f31,0x4105ae96 }, /* 151: -1.6899167e+00  8.3551235e+00 */
+    { 0x3e4c2207,0x3e4ee174 }, /* 152:  1.9934855e-01  2.0203191e-01 */
+    { 0xb52e33bf,0xb52e33bf }, /* 153: -6.4895352e-07 -6.4895352e-07 */
+    { 0xbf886d47,0xbfe79076 }, /* 154: -1.0658349e+00 -1.8090961e+00 */
+    { 0xbf6361e9,0xbf9d73d9 }, /* 155: -8.8821274e-01 -1.2300979e+00 */
+    { 0x3fbc0c55,0x411cd44d }, /* 156:  1.4691263e+00  9.8018312e+00 */
+    { 0x3fb7ee5f,0x40edac1e }, /* 157:  1.4369620e+00  7.4272604e+00 */
+    { 0x3f5b9764,0x3f940351 }, /* 158:  8.5777879e-01  1.1563512e+00 */
+    { 0x3f0d7c27,0x3f1de621 }, /* 159:  5.5267566e-01  6.1679274e-01 */
+    { 0xbd2539e2,0xbd2550d7 }, /* 160: -4.0338404e-02 -4.0360298e-02 */
+    { 0xbe5fd5c9,0xbe637838 }, /* 161: -2.1858896e-01 -2.2213829e-01 */
+    { 0xc00a6db0,0x3fbe4935 }, /* 162: -2.1629448e+00  1.4866091e+00 */
+    { 0xbf2bf977,0xbf4b8ecf }, /* 163: -6.7177528e-01 -7.9514784e-01 */
+    { 0x3ddf304f,0x3de01394 }, /* 164:  1.0897886e-01  1.0941234e-01 */
+    { 0xbf5351fa,0xbf8ab146 }, /* 165: -8.2546961e-01 -1.0835350e+00 */
+    { 0xbef3ccf9,0xbf04089e }, /* 166: -4.7617319e-01 -5.1575649e-01 */
+    { 0x3f525c1f,0x3f89a71b }, /* 167:  8.2171816e-01  1.0754122e+00 */
+    { 0x3ff6a219,0xc02c1a2c }, /* 168:  1.9268218e+00 -2.6890974e+00 */
+    { 0xbf25561c,0xbf40f075 }, /* 169: -6.4584517e-01 -7.5366908e-01 */
+    { 0x3f54a3e2,0x3f8c22a7 }, /* 170:  8.3062565e-01  1.0948075e+00 */
+    { 0xbfa85485,0xc074cc26 }, /* 171: -1.3150793e+00 -3.8249602e+00 */
+    { 0x3ef5c672,0x3f054939 }, /* 172:  4.8002964e-01  5.2064854e-01 */
+    { 0xbe709d72,0xbe7524ba }, /* 173: -2.3497561e-01 -2.3939791e-01 */
+    { 0xbf54cb84,0xbf8c4e40 }, /* 174: -8.3123040e-01 -1.0961380e+00 */
+    { 0xbf5cf48c,0xbf959ddd }, /* 175: -8.6310649e-01 -1.1688801e+00 */
+    { 0x3f4e532f,0x3f855fcf }, /* 176:  8.0595678e-01  1.0419863e+00 */
+    { 0x3ecac258,0x3ed6118a }, /* 177:  3.9601398e-01  4.1810256e-01 */
+    { 0x07107f42,0x07107f42 }, /* 178:  1.0870754e-34  1.0870754e-34 */
+    { 0x3c758b14,0x3c758fc9 }, /* 179:  1.4986772e-02  1.4987894e-02 */
+    { 0xbefdbcc0,0xbf0a6352 }, /* 180: -4.9558067e-01 -5.4057801e-01 */
+    { 0xbf4def56,0xbf84f7d8 }, /* 181: -8.0443323e-01 -1.0388136e+00 */
+    { 0x3ee06c13,0x3eeffe14 }, /* 182:  4.3832454e-01  4.6873534e-01 */
+    { 0xbf2c331a,0xbf4becf3 }, /* 183: -6.7265475e-01 -7.9658431e-01 */
+    { 0x3f572d7a,0x3f8ef49c }, /* 184:  8.4053767e-01  1.1168399e+00 */
+    { 0xbf3ad22f,0xbf64fe22 }, /* 185: -7.2976965e-01 -8.9450276e-01 */
+    { 0xbfdae503,0x40e433fe }, /* 186: -1.7101139e+00  7.1313467e+00 */
+    { 0x3ef440b9,0x3f0451ec }, /* 187:  4.7705629e-01  5.1687503e-01 */
+    { 0x3f2f4e39,0x3f510d5d }, /* 188:  6.8478733e-01  8.1661016e-01 */
+    { 0x400582f5,0xbfe2008b }, /* 189:  2.0861180e+00 -1.7656416e+00 */
+    { 0xbf3993dd,0xbf62c397 }, /* 190: -7.2491246e-01 -8.8579696e-01 */
+    { 0x3ed69218,0x3ee4151c }, /* 191:  4.1908336e-01  4.4547355e-01 */
+    { 0x3ef6f07d,0x3f0606dd }, /* 192:  4.8230353e-01  5.2354223e-01 */
+    { 0x3f8d2753,0x3ffd379f }, /* 193:  1.1027626e+00  1.9782599e+00 */
+    { 0x3f5f8b3c,0x3f98b752 }, /* 194:  8.7321830e-01  1.1930945e+00 */
+    { 0xbfb00434,0xc0a17326 }, /* 195: -1.3751283e+00 -5.0453062e+00 */
+    { 0xbed31618,0xbedfeb4f }, /* 196: -4.1227794e-01 -4.3734214e-01 */
+    { 0x3ee2317c,0x3ef22802 }, /* 197:  4.4178379e-01  4.7296149e-01 */
+    { 0xbf4e8a0a,0xbf859911 }, /* 198: -8.0679381e-01 -1.0437337e+00 */
+    { 0x35a97e3b,0x35a97e3b }, /* 199:  1.2628219e-06  1.2628219e-06 */
+    { 0xbf5ba518,0xbf941355 }, /* 200: -8.5798788e-01 -1.1568400e+00 */
+    { 0xbf6109f5,0xbf9a8a57 }, /* 201: -8.7905818e-01 -1.2073468e+00 */
+    { 0xbdfc94fa,0xbdfdded4 }, /* 202: -1.2333103e-01 -1.2396017e-01 */
+    { 0x3f9198e4,0x400a55ea }, /* 203:  1.1374784e+00  2.1614938e+00 */
+    { 0x3e827f57,0x3e85660e }, /* 204:  2.5487778e-01  2.6054424e-01 */
+    { 0x3eaca795,0x3eb382d8 }, /* 205:  3.3721605e-01  3.5060763e-01 */
+    { 0x3ed67ca0,0x3ee3fb62 }, /* 206:  4.1891956e-01  4.4527727e-01 */
+    { 0xbf26f599,0xbf437f16 }, /* 207: -6.5218502e-01 -7.6365793e-01 */
+    { 0xbf4f401e,0xbf8657d5 }, /* 208: -8.0957210e-01 -1.0495554e+00 */
+    { 0x3ed22743,0x3edecf06 }, /* 209:  4.1045579e-01  4.3517321e-01 */
+    { 0x3e2d3789,0x3e2ee362 }, /* 210:  1.6915716e-01  1.7078927e-01 */
+    { 0xbf250314,0xbf406e63 }, /* 211: -6.4457822e-01 -7.5168437e-01 */
+    { 0x3ec456eb,0x3ece90cb }, /* 212:  3.8347563e-01  4.0344843e-01 */
+    { 0xbf321b5f,0xbf55c392 }, /* 213: -6.9573015e-01 -8.3501542e-01 */
+    { 0x3f264f88,0x3f4278ae }, /* 214:  6.4965105e-01  7.5965393e-01 */
+    { 0xbedd5c9b,0xbeec4521 }, /* 215: -4.3234715e-01 -4.6146491e-01 */
+    { 0xbf97a8fb,0xc01d81d6 }, /* 216: -1.1848444e+00 -2.4610496e+00 */
+    { 0x3efe3eb5,0x3f0ab755 }, /* 217:  4.9657217e-01  5.4185992e-01 */
+    { 0x4097c792,0xc20227fe }, /* 218:  4.7431116e+00 -3.2539055e+01 */
+    { 0xbf8c6f68,0xbff9b9da }, /* 219: -1.0971498e+00 -1.9509842e+00 */
+    { 0xbf97378c,0xc01bf4fa }, /* 220: -1.1813827e+00 -2.4368272e+00 */
+    { 0xbe6f3581,0xbe73a848 }, /* 221: -2.3360254e-01 -2.3794663e-01 */
+    { 0xbdb42aa6,0xbdb4a200 }, /* 222: -8.7971970e-02 -8.8199615e-02 */
+    { 0x3f0157c6,0x3f0d9a23 }, /* 223:  5.0524557e-01  5.5313319e-01 */
+    { 0x3f604b22,0x3f99a0ab }, /* 224:  8.7614644e-01  1.2002157e+00 */
+    { 0xbd88b299,0xbd88e6a9 }, /* 225: -6.6746898e-02 -6.6846199e-02 */
+    { 0xbfec4299,0x4062d7c8 }, /* 226: -1.8457824e+00  3.5444202e+00 */
+    { 0x40265fb9,0xbf1a269f }, /* 227:  2.5995924e+00 -6.0215181e-01 */
+    { 0xbfd839fc,0x41066b4f }, /* 228: -1.6892695e+00  8.4011984e+00 */
+    { 0x3f03c87e,0x3f10ce58 }, /* 229:  5.1477802e-01  5.6564856e-01 */
+    { 0x3f2b09c0,0x3f4a08aa }, /* 230:  6.6811752e-01  7.8919470e-01 */
+    { 0xbe831db5,0xbe860f3a }, /* 231: -2.5608602e-01 -2.6183492e-01 */
+    { 0x3ec91def,0x3ed4244c }, /* 232:  3.9280650e-01  4.1433942e-01 */
+    { 0xbf45b685,0xbf796361 }, /* 233: -7.7231628e-01 -9.7417265e-01 */
+    { 0xbe8e750b,0xbe924038 }, /* 234: -2.7823672e-01 -2.8564620e-01 */
+    { 0x3e9d5aa3,0x3ea280bb }, /* 235:  3.0733213e-01  3.1738839e-01 */
+    { 0x3f2913dc,0x3f46df0f }, /* 236:  6.6045928e-01  7.7684110e-01 */
+    { 0xbee75915,0xbef87e92 }, /* 237: -4.5185152e-01 -4.8534065e-01 */
+    { 0x3fdf548c,0xc0b61432 }, /* 238:  1.7447677e+00 -5.6899652e+00 */
+    { 0xbdc72400,0xbdc7c548 }, /* 239: -9.7236633e-02 -9.7544253e-02 */
+    { 0x3eccc5a5,0x3ed86feb }, /* 240:  3.9994541e-01  4.2272887e-01 */
+    { 0xbfe64108,0x4089deec }, /* 241: -1.7988596e+00  4.3084621e+00 */
+    { 0x3f85f2c5,0x3fdd54c3 }, /* 242:  1.0464712e+00  1.7291492e+00 */
+    { 0x3f237249,0x3f3dfdff }, /* 243:  6.3846260e-01  7.4215692e-01 */
+    { 0xbf26dc77,0xbf43574f }, /* 244: -6.5180153e-01 -7.6305097e-01 */
+    { 0xbecf2129,0xbedb38ad }, /* 245: -4.0454987e-01 -4.2816678e-01 */
+    { 0xbfb65930,0xc0d95137 }, /* 246: -1.4245968e+00 -6.7911639e+00 */
+    { 0x3e1d324d,0x3e1e716d }, /* 247:  1.5351219e-01  1.5472956e-01 */
+    { 0xbf5a0a67,0xbf9236a0 }, /* 248: -8.5172123e-01 -1.1422920e+00 */
+    { 0xbf4ef206,0xbf8605e0 }, /* 249: -8.0838048e-01 -1.0470543e+00 */
+    { 0x3eace2ee,0x3eb3c580 }, /* 250:  3.3766884e-01  3.5111618e-01 */
+    { 0xbfe4869a,0x4092d884 }, /* 251: -1.7853577e+00  4.5889301e+00 */
+    { 0xbf207d83,0xbf397250 }, /* 252: -6.2691516e-01 -7.2440052e-01 */
+    { 0x3f35efa8,0x3f5c5888 }, /* 253:  7.1068811e-01  8.6072588e-01 */
+    { 0xbf1f093e,0xbf373d04 }, /* 254: -6.2123477e-01 -7.1577477e-01 */
+    { 0xbfd2b58f,0x4153e2b8 }, /* 255: -1.6461657e+00  1.3242851e+01 */
+    { 0xbed8f075,0xbee6ed4f }, /* 256: -4.2370954e-01 -4.5102927e-01 */
+    { 0xbec95fe9,0xbed4719e }, /* 257: -3.9330986e-01 -4.1492933e-01 */
+    { 0xbf9cb07c,0xc03129d0 }, /* 258: -1.2241359e+00 -2.7681770e+00 */
+    { 0xbe605862,0xbe640147 }, /* 259: -2.1908715e-01 -2.2266112e-01 */
+    { 0x3f7be79b,0x3fc080fe }, /* 260:  9.8400277e-01  1.5039365e+00 */
+    { 0xbf1e4c03,0xbf361f6d }, /* 261: -6.1834735e-01 -7.1141702e-01 */
+    { 0xbeec99dc,0xbeff047e }, /* 262: -4.6211135e-01 -4.9808115e-01 */
+    { 0xbe94f3eb,0xbe994d6a }, /* 263: -2.9092345e-01 -2.9941875e-01 */
+    { 0x3d45bcb3,0x3d45e40f }, /* 264:  4.8275661e-02  4.8313197e-02 */
+    { 0x3fc3a47b,0x41bcd640 }, /* 265:  1.5284570e+00  2.3604614e+01 */
+    { 0x3ed505b5,0x3ee23ab3 }, /* 266:  4.1605917e-01  4.4185409e-01 */
+    { 0xbe587350,0xbe5bbb9a }, /* 267: -2.1137738e-01 -2.1458283e-01 */
+    { 0x3f60600a,0x3f99ba30 }, /* 268:  8.7646544e-01  1.2009945e+00 */
+    { 0xbf207a6a,0xbf396d97 }, /* 269: -6.2686789e-01 -7.2432846e-01 */
+    { 0xbf23d916,0xbf3e9d9b }, /* 270: -6.4003122e-01 -7.4459237e-01 */
+    { 0xbf0838a9,0xbf16b90b }, /* 271: -5.3211457e-01 -5.8876103e-01 */
+    { 0xbe1f32df,0xbe207e6d }, /* 272: -1.5546750e-01 -1.5673228e-01 */
+    { 0xbf83a592,0xbfd46c88 }, /* 273: -1.0284903e+00 -1.6595621e+00 */
+    { 0x3f24ea41,0x3f40478c }, /* 274:  6.4419943e-01  7.5109172e-01 */
+    { 0xbf4dfb62,0xbf85045f }, /* 275: -8.0461705e-01 -1.0391959e+00 */
+    { 0xbe04ebae,0xbe05ac18 }, /* 276: -1.2980530e-01 -1.3053930e-01 */
+    { 0xbec48c10,0xbecece99 }, /* 277: -3.8388109e-01 -4.0391997e-01 */
+    { 0xbedf9fdb,0xbeef052c }, /* 278: -4.3676648e-01 -4.6683633e-01 */
+    { 0x3f5847a4,0x3f903334 }, /* 279:  8.4484315e-01  1.1265626e+00 */
+    { 0xbf579298,0xbf8f666e }, /* 280: -8.4208059e-01 -1.1203134e+00 */
+    { 0xbf9a9f8e,0xc028989d }, /* 281: -1.2079942e+00 -2.6343148e+00 */
+    { 0xbe380ace,0xbe3a0cc1 }, /* 282: -1.7972872e-01 -1.8168928e-01 */
+    { 0xbf5157f2,0xbf888fc2 }, /* 283: -8.1774819e-01 -1.0668871e+00 */
+    { 0xbf502482,0xbf8748b4 }, /* 284: -8.1305707e-01 -1.0569062e+00 */
+    { 0x3f2b59b7,0x3f4a8a8f }, /* 285:  6.6933769e-01  7.9117674e-01 */
+    { 0x3ee36381,0x3ef39ee6 }, /* 286:  4.4411853e-01  4.7582167e-01 */
+    { 0xbfc36748,0xc1b4d964 }, /* 287: -1.5265894e+00 -2.2606148e+01 */
+    { 0xbe6c9e7a,0xbe70ec22 }, /* 288: -2.3107329e-01 -2.3527578e-01 */
+    { 0xbf2c5003,0xbf4c1c39 }, /* 289: -6.7309588e-01 -7.9730564e-01 */
+    { 0x38ee8207,0x38ee8207 }, /* 290:  1.1372944e-04  1.1372944e-04 */
+    { 0x3fe4a49e,0xc09233af }, /* 291:  1.7862737e+00 -4.5688090e+00 */
+    { 0x3f87202a,0x3fe21ac8 }, /* 292:  1.0556691e+00  1.7664423e+00 */
+    { 0xbf8ff1c1,0xc005c669 }, /* 293: -1.1245652e+00 -2.0902350e+00 */
+    { 0xbed010e5,0xbedc5495 }, /* 294: -4.0637890e-01 -4.3033281e-01 */
+    { 0xbebbdfd4,0xbec4c970 }, /* 295: -3.6694205e-01 -3.8434935e-01 */
+    { 0xbf9b6e3a,0xc02bdaf0 }, /* 296: -1.2143013e+00 -2.6852379e+00 */
+    { 0x3f5bc8f6,0x3f943d4b }, /* 297:  8.5853517e-01  1.1581205e+00 */
+    { 0x3d9b8ff0,0x3d9bdcb4 }, /* 298:  7.5958133e-02  7.6104552e-02 */
+    { 0x3ecd0af4,0x3ed8c1a1 }, /* 299:  4.0047419e-01  4.2335227e-01 */
+    { 0x3f22bc7d,0x3f3ce4a5 }, /* 300:  6.3568860e-01  7.3786384e-01 */
+    { 0x3fbe0112,0x4138bf9f }, /* 301:  1.4844077e+00  1.1546782e+01 */
+    { 0xbea409e6,0xbea9e453 }, /* 302: -3.2038802e-01 -3.3182010e-01 */
+    { 0xc0aa4e3c,0x3fb745b2 }, /* 303: -5.3220501e+00  1.4318144e+00 */
+    { 0x3ef0dd18,0x3f022e13 }, /* 304:  4.7043681e-01  5.0851554e-01 */
+    { 0x3f4e8a9f,0x3f8599ac }, /* 305:  8.0680269e-01  1.0437522e+00 */
+    { 0x3d413af0,0x3d415fab }, /* 306:  4.7175348e-02  4.7210377e-02 */
+    { 0x3ee9bbec,0x3efb7304 }, /* 307:  4.5651186e-01  4.9111187e-01 */
+    { 0xbfbce8c0,0xc12803ce }, /* 308: -1.4758530e+00 -1.0500929e+01 */
+    { 0x3eead922,0x3efcd565 }, /* 309:  4.5868784e-01  4.9381557e-01 */
+    { 0xbf99542e,0xc0239737 }, /* 310: -1.1978815e+00 -2.5561044e+00 */
+    { 0x3f5420f8,0x3f8b930e }, /* 311:  8.2862806e-01  1.0904253e+00 */
+    { 0xbf26bccc,0xbf432538 }, /* 312: -6.5131831e-01 -7.6228666e-01 */
+    { 0x3eef0b1e,0x3f01095e }, /* 313:  4.6688169e-01  5.0404918e-01 */
+    { 0xbffb3014,0x401afcd2 }, /* 314: -1.9624047e+00  2.4216809e+00 */
+    { 0xbf5076d3,0xbf879ff4 }, /* 315: -8.1431311e-01 -1.0595689e+00 */
+    { 0x411aab6e,0x3e7cd7d5 }, /* 316:  9.6668530e+00  2.4691708e-01 */
+    { 0x3fd361af,0xc14606b7 }, /* 317:  1.6514186e+00 -1.2376639e+01 */
+    { 0xbf936b16,0xc00faa1a }, /* 318: -1.1517055e+00 -2.2447572e+00 */
+    { 0x3ea99e44,0x3eb01bc7 }, /* 319:  3.3128560e-01  3.4396192e-01 */
+    { 0xbf63e81c,0xbf9e1ce8 }, /* 320: -8.9026046e-01 -1.2352571e+00 */
+    { 0x3f1c68e2,0x3f334b8f }, /* 321:  6.1097538e-01  7.0037168e-01 */
+    { 0xbf52555f,0xbf899fd4 }, /* 322: -8.2161516e-01 -1.0751901e+00 */
+    { 0x3d93677a,0x3d93a8c6 }, /* 323:  7.1974710e-02  7.2099254e-02 */
+    { 0x3f4f0061,0x3f8614ed }, /* 324:  8.0859953e-01  1.0475136e+00 */
+    { 0xbf468d60,0xbf7b077a }, /* 325: -7.7559471e-01 -9.8058283e-01 */
+    { 0xbea7eed2,0xbeae39d5 }, /* 326: -3.2799393e-01 -3.4028497e-01 */
+    { 0x3f7be11d,0x3fc07668 }, /* 327:  9.8390371e-01  1.5036135e+00 */
+    { 0x3f2cdbb2,0x3f4d0118 }, /* 328:  6.7522728e-01  8.0079794e-01 */
+    { 0x3f16ee27,0x3f2b3f55 }, /* 329:  5.8957142e-01  6.6893512e-01 */
+    { 0xbf5039ff,0xbf875f75 }, /* 330: -8.1338495e-01 -1.0576006e+00 */
+    { 0xc08a640b,0xc01cbb44 }, /* 331: -4.3247123e+00 -2.4489298e+00 */
+    { 0xbf091edd,0xbf17efb0 }, /* 332: -5.3562719e-01 -5.9350109e-01 */
+    { 0x3fb37a50,0x40bbf781 }, /* 333:  1.4021702e+00  5.8739629e+00 */
+    { 0xbf2677d8,0xbf42b849 }, /* 334: -6.5026617e-01 -7.6062447e-01 */
+    { 0x3f5dc06f,0x3f968ff9 }, /* 335:  8.6621755e-01  1.1762687e+00 */
+    { 0xbee1e7d0,0xbef1cde2 }, /* 336: -4.4122171e-01 -4.7227389e-01 */
+    { 0x3f2f8de2,0x3f51778f }, /* 337:  6.8575871e-01  8.1823057e-01 */
+    { 0x3fdd814d,0xc0c6a76c }, /* 338:  1.7305084e+00 -6.2079372e+00 */
+    { 0x3fd629d4,0xc11bc5ad }, /* 339:  1.6731515e+00 -9.7357607e+00 */
+    { 0xbef64969,0xbf059c7f }, /* 340: -4.8102883e-01 -5.2191919e-01 */
+    { 0x3f582200,0x3f900886 }, /* 341:  8.4426880e-01  1.1252601e+00 */
+    { 0x3f9279a3,0x400cdce7 }, /* 342:  1.1443371e+00  2.2009828e+00 */
+    { 0xbf2fac8f,0xbf51aacb }, /* 343: -6.8622679e-01 -8.1901234e-01 */
+    { 0xc0202aac,0x3f3e336e }, /* 344: -2.5026045e+00  7.4297225e-01 */
+    { 0xbf506237,0xbf878a17 }, /* 345: -8.1399864e-01 -1.0589017e+00 */
+    { 0x3e939185,0x3e97cb8e }, /* 346:  2.8821960e-01  2.9647487e-01 */
+    { 0xbef4b2ef,0xbf049a51 }, /* 347: -4.7792765e-01 -5.1797968e-01 */
+    { 0xbf56ae1a,0xbf8e65cb }, /* 348: -8.3859408e-01 -1.1124815e+00 */
+    { 0x3f59a4c4,0x3f91c1b5 }, /* 349:  8.5017037e-01  1.1387240e+00 */
+    { 0xbe38843a,0xbe3a8a32 }, /* 350: -1.8019190e-01 -1.8216780e-01 */
+    { 0x3f260e14,0x3f421189 }, /* 351:  6.4865232e-01  7.5808007e-01 */
+    { 0xc0e31b35,0xbf878240 }, /* 352: -7.0970712e+00 -1.0586624e+00 */
+    { 0x3e40d9e4,0x3e4329fd }, /* 353:  1.8833119e-01  1.9058986e-01 */
+    { 0xbf276317,0xbf442ca7 }, /* 354: -6.5385574e-01 -7.6630634e-01 */
+    { 0x40d2263d,0x3e95701f }, /* 355:  6.5671678e+00  2.9187104e-01 */
+    { 0xbfa6c1ef,0xc0690ef2 }, /* 356: -1.3027934e+00 -3.6415372e+00 */
+    { 0x3f9e17ff,0x40376fd8 }, /* 357:  1.2351073e+00  2.8662014e+00 */
+    { 0xbef95bed,0xbf079275 }, /* 358: -4.8702946e-01 -5.2957851e-01 */
+    { 0xbea6875a,0xbeaca91d }, /* 359: -3.2525140e-01 -3.3722773e-01 */
+    { 0xbd4c1657,0xbd4c419e }, /* 360: -4.9825992e-02 -4.9867265e-02 */
+    { 0x3fc71396,0x4280edf3 }, /* 361:  1.5552852e+00  6.4464745e+01 */
+    { 0x3f2d6e10,0x3f4df1c0 }, /* 362:  6.7746067e-01  8.0447006e-01 */
+    { 0x3cb1dd83,0x3cb1e4ab }, /* 363:  2.1712070e-02  2.1715483e-02 */
+    { 0xbf8160ad,0xbfcc25e1 }, /* 364: -1.0107628e+00 -1.5949060e+00 */
+    { 0x3faa76c1,0x40834e1e }, /* 365:  1.3317491e+00  4.1032858e+00 */
+    { 0x3f9f5fcd,0x403d82dd }, /* 366:  1.2451111e+00  2.9611123e+00 */
+    { 0x3ef20252,0x3f02e6d0 }, /* 367:  4.7267395e-01  5.1133442e-01 */
+    { 0x3f98e522,0x4021f882 }, /* 368:  1.1944926e+00  2.5307927e+00 */
+    { 0xbf5e9474,0xbf978da0 }, /* 369: -8.6945271e-01 -1.1840096e+00 */
+    { 0xbfd52bf2,0x41289d85 }, /* 370: -1.6654036e+00  1.0538457e+01 */
+    { 0xbea7216f,0xbead54c9 }, /* 371: -3.2642695e-01 -3.3853748e-01 */
+    { 0x3faf213f,0x409bc8c4 }, /* 372:  1.3682021e+00  4.8682575e+00 */
+    { 0x3ebd5635,0x3ec67798 }, /* 373:  3.6979833e-01  3.8763118e-01 */
+    { 0x4050aa72,0x3df479af }, /* 374:  3.2604032e+00  1.1937272e-01 */
+    { 0xc0fd06ad,0x419690a4 }, /* 375: -7.9070649e+00  1.8820625e+01 */
+    { 0x3fde36fc,0xc0bfdf4a }, /* 376:  1.7360530e+00 -5.9960070e+00 */
+    { 0x3fbce782,0x4127f288 }, /* 377:  1.4758151e+00  1.0496712e+01 */
+    { 0x3f7d4090,0x3fc2b815 }, /* 378:  9.8926640e-01  1.5212427e+00 */
+    { 0x3f5a23c5,0x3f9253df }, /* 379:  8.5210830e-01  1.1431845e+00 */
+    { 0xbee5e84e,0xbef6b78c }, /* 380: -4.4903797e-01 -4.8186910e-01 */
+    { 0x3f918070,0x400a10ad }, /* 381:  1.1367321e+00  2.1572678e+00 */
+    { 0xbecc2633,0xbed7b414 }, /* 382: -3.9872894e-01 -4.2129576e-01 */
+    { 0xbf5b8684,0xbf93ef9a }, /* 383: -8.5752130e-01 -1.1557496e+00 */
+    { 0x3ea56adc,0x3eab6c7f }, /* 384:  3.2308090e-01  3.3481213e-01 */
+    { 0x400137d6,0xc00516b9 }, /* 385:  2.0190330e+00 -2.0795119e+00 */
+    { 0xbffea36f,0x400fde10 }, /* 386: -1.9893626e+00  2.2479286e+00 */
+    { 0xbf1aa8ef,0xbf30b30e }, /* 387: -6.0414022e-01 -6.9023216e-01 */
+    { 0xbf55aee5,0xbf8d497f }, /* 388: -8.3469993e-01 -1.1038054e+00 */
+    { 0xbd089d36,0xbd08aa2f }, /* 389: -3.3353053e-02 -3.3365425e-02 */
+    { 0x3ea7fc48,0x3eae48da }, /* 390:  3.2809663e-01  3.4039956e-01 */
+    { 0x3f95f636,0x4017b439 }, /* 391:  1.1715763e+00  2.3703749e+00 */
+    { 0xb79a8a9a,0xb79a8a9a }, /* 392: -1.8422772e-05 -1.8422772e-05 */
+    { 0xc01ec42a,0x3f470a35 }, /* 393: -2.4807229e+00  7.7749950e-01 */
+    { 0x3f81771d,0x3fcc757a }, /* 394:  1.0114475e+00  1.5973351e+00 */
+    { 0xbff8395f,0x4025c41e }, /* 395: -1.9392508e+00  2.5900950e+00 */
+    { 0xbfa0589c,0xc0425e0b }, /* 396: -1.2527041e+00 -3.0369899e+00 */
+    { 0x3ee0a29e,0x3ef0409e }, /* 397:  4.3874067e-01  4.6924299e-01 */
+    { 0x3f255769,0x3f40f27f }, /* 398:  6.4586502e-01  7.5370020e-01 */
+    { 0x3f5c48c2,0x3f94d33c }, /* 399:  8.6048520e-01  1.1626964e+00 */
+    { 0x3eaac760,0x3eb1684c }, /* 400:  3.3355236e-01  3.4649885e-01 */
+    { 0x3ede269d,0x3eed3a55 }, /* 401:  4.3388835e-01  4.6333566e-01 */
+    { 0xbe3ff0c6,0xbe423871 }, /* 402: -1.8744192e-01 -1.8966843e-01 */
+    { 0xbd691819,0xbd695899 }, /* 403: -5.6907747e-02 -5.6969259e-02 */
+    { 0x3e4c69a4,0x3e4f2bfe }, /* 404:  1.9962174e-01  2.0231625e-01 */
+    { 0xbf00161c,0xbf0bf731 }, /* 405: -5.0033736e-01 -5.4674059e-01 */
+    { 0xbe2bf23c,0xbe2d94aa }, /* 406: -1.6791624e-01 -1.6951242e-01 */
+    { 0x3f9cd10c,0x4031b73f }, /* 407:  1.2251296e+00  2.7768095e+00 */
+    { 0xbd40b7d6,0xbd40dc46 }, /* 408: -4.7050320e-02 -4.7085069e-02 */
+    { 0x3f265070,0x3f427a1c }, /* 409:  6.4966488e-01  7.5967574e-01 */
+    { 0xbf53bc62,0xbf8b2525 }, /* 410: -8.2709324e-01 -1.0870711e+00 */
+    { 0xbd434b3f,0xbd43712a }, /* 411: -4.7679182e-02 -4.7715344e-02 */
+    { 0xbf2de86f,0xbf4ebb9f }, /* 412: -6.7932791e-01 -8.0755037e-01 */
+    { 0xbf3625a7,0xbf5cb698 }, /* 413: -7.1151203e-01 -8.6216116e-01 */
+    { 0x400c58b8,0xbfb27e61 }, /* 414:  2.1929150e+00 -1.3944818e+00 */
+    { 0x3f229d6c,0x3f3cb4ae }, /* 415:  6.3521457e-01  7.3713195e-01 */
+    { 0x3f29d666,0x3f4817b8 }, /* 416:  6.6342771e-01  7.8161192e-01 */
+    { 0x3f5f4938,0x3f98676c }, /* 417:  8.7221098e-01  1.1906562e+00 */
+    { 0xbfa3dae1,0xc055f009 }, /* 418: -1.2801172e+00 -3.3427756e+00 */
+    { 0xbf839b83,0xbfd446ca }, /* 419: -1.0281833e+00 -1.6584103e+00 */
+    { 0x3f534c40,0x3f8aab0d }, /* 420:  8.2538223e-01  1.0833451e+00 */
+    { 0x3f5c7d8f,0x3f951162 }, /* 421:  8.6129087e-01  1.1645930e+00 */
+    { 0x3f5ed22f,0x3f97d7d7 }, /* 422:  8.7039465e-01  1.1862744e+00 */
+    { 0x3e6f4363,0x3e73b6f3 }, /* 423:  2.3365550e-01  2.3800258e-01 */
+    { 0x3f286f87,0x3f45d811 }, /* 424:  6.5795177e-01  7.7282816e-01 */
+    { 0xbfc7e945,0xc2de7699 }, /* 425: -1.5618063e+00 -1.1123164e+02 */
+    { 0xbfb3ac92,0xc0bdb9a4 }, /* 426: -1.4037039e+00 -5.9289112e+00 */
+    { 0xbfc53996,0xc20565ed }, /* 427: -1.5408199e+00 -3.3349537e+01 */
+    { 0x3ee9c267,0x3efb7b0f }, /* 428:  4.5656130e-01  4.9117324e-01 */
+    { 0x3edf7c0c,0x3eeed991 }, /* 429:  4.3649328e-01  4.6650365e-01 */
+    { 0x3f5921fe,0x3f912bdf }, /* 430:  8.4817493e-01  1.1341513e+00 */
+    { 0xbe7e537d,0xbe81d80c }, /* 431: -2.4836536e-01 -2.5360143e-01 */
+    { 0xbcace077,0xbcace709 }, /* 432: -2.1103127e-02 -2.1106260e-02 */
+    { 0x3f357658,0x3f5b85ae }, /* 433:  7.0883703e-01  8.5750854e-01 */
+    { 0x3ea21346,0x3ea7b710 }, /* 434:  3.1655329e-01  3.2756853e-01 */
+    { 0xbf5a0402,0xbf922f42 }, /* 435: -8.5162365e-01 -1.1420672e+00 */
+    { 0x3f20ab0d,0x3f39b7c9 }, /* 436:  6.2761003e-01  7.2546059e-01 */
+    { 0x3f682857,0x3fa3982d }, /* 437:  9.0686554e-01  1.2780815e+00 */
+    { 0xbeebce7f,0xbefe06e0 }, /* 438: -4.6055982e-01 -4.9614620e-01 */
+    { 0x3eeafb12,0x3efcff9d }, /* 439:  4.5894676e-01  4.9413767e-01 */
+    { 0x3edae714,0x3ee94b3a }, /* 440:  4.2754424e-01  4.5565206e-01 */
+    { 0x3f573e47,0x3f8f077f }, /* 441:  8.4079403e-01  1.1174163e+00 */
+    { 0x3edc09df,0x3eeaaac0 }, /* 442:  4.2976281e-01  4.5833397e-01 */
+    { 0xbfd9cc7e,0x40f35536 }, /* 443: -1.7015531e+00  7.6041517e+00 */
+    { 0x3f2470aa,0x3f3f89a0 }, /* 444:  6.4234412e-01  7.4819374e-01 */
+    { 0xbf5ce979,0xbf9590c4 }, /* 445: -8.6293751e-01 -1.1684804e+00 */
+    { 0x3f56027f,0x3f8da65c }, /* 446:  8.3597559e-01  1.1066394e+00 */
+    { 0xbfc63e69,0xc235a697 }, /* 447: -1.5487796e+00 -4.5412685e+01 */
+    { 0xbf5e73c8,0xbf976669 }, /* 448: -8.6895418e-01 -1.1828128e+00 */
+    { 0xbf587691,0xbf90687d }, /* 449: -8.4555918e-01 -1.1281887e+00 */
+    { 0x3edb42a5,0x3ee9b9d7 }, /* 450:  4.2824283e-01  4.5649597e-01 */
+    { 0xbf1c1c06,0xbf32d918 }, /* 451: -6.0980260e-01 -6.9862509e-01 */
+    { 0xbed5b0e3,0xbee3076b }, /* 452: -4.1736516e-01 -4.4341597e-01 */
+    { 0x3eaf3f9f,0x3eb66dd8 }, /* 453:  3.4228227e-01  3.5630679e-01 */
+    { 0x3e9f3cf0,0x3ea4943d }, /* 454:  3.1101179e-01  3.2144347e-01 */
+    { 0x3fa4cdb2,0x405bdba6 }, /* 455:  1.2875273e+00  3.4352813e+00 */
+    { 0x3e393518,0x3e3b40f4 }, /* 456:  1.8086660e-01  1.8286496e-01 */
+    { 0x3eefbadf,0x3f0177a5 }, /* 457:  4.6822259e-01  5.0573188e-01 */
+    { 0xbfd2fae6,0x414e13ad }, /* 458: -1.6482818e+00  1.2879804e+01 */
+    { 0x3efe8072,0x3f0ae1dd }, /* 459:  4.9707371e-01  5.4250890e-01 */
+    { 0xbe6e4c41,0xbe72b1e0 }, /* 460: -2.3271276e-01 -2.3700666e-01 */
+    { 0xbf4ee1b3,0xbf85f4c5 }, /* 461: -8.0813140e-01 -1.0465323e+00 */
+    { 0xc07e2d2c,0xbf8bef74 }, /* 462: -3.9715071e+00 -1.0932450e+00 */
+    { 0x3ec0d14e,0x3eca7b4f }, /* 463:  3.7659687e-01  3.9547202e-01 */
+    { 0x3f1e10d8,0x3f35c65e }, /* 464:  6.1744452e-01  7.1005809e-01 */
+    { 0xc0c6e282,0x3d8b8d4c }, /* 465: -6.2151499e+00  6.8140596e-02 */
+    { 0xbe88903c,0xbe8be594 }, /* 466: -2.6672542e-01 -2.7323592e-01 */
+    { 0x3e531f74,0x3e562a85 }, /* 467:  2.0617467e-01  2.0914657e-01 */
+    { 0x3e9d26c4,0x3ea247a4 }, /* 468:  3.0693638e-01  3.1695282e-01 */
+    { 0x3f4da54a,0x3f84aaf5 }, /* 469:  8.0330336e-01  1.0364672e+00 */
+    { 0x36377722,0x36377722 }, /* 470:  2.7338469e-06  2.7338469e-06 */
+    { 0xbf570ca1,0xbf8ecfb9 }, /* 471: -8.4003645e-01 -1.1157142e+00 */
+    { 0xbe6b2a09,0xbe6f6335 }, /* 472: -2.2965254e-01 -2.3377688e-01 */
+    { 0xbed3c0ef,0xbee0b6f1 }, /* 473: -4.1358134e-01 -4.3889573e-01 */
+    { 0x3ee1c120,0x3ef19e92 }, /* 474:  4.4092655e-01  4.7191292e-01 */
+    { 0xbfa506d2,0xc05d4b7c }, /* 475: -1.2892706e+00 -3.4577322e+00 */
+    { 0xbe1cae67,0xbe1dea61 }, /* 476: -1.5300904e-01 -1.5421440e-01 */
+    { 0xbf5cdcd9,0xbf9581d6 }, /* 477: -8.6274487e-01 -1.1680248e+00 */
+    { 0xbeef880a,0xbf0157bc }, /* 478: -4.6783477e-01 -5.0524497e-01 */
+    { 0x3edc3249,0x3eeadba9 }, /* 479:  4.3007115e-01  4.5870712e-01 */
+    { 0x3e40d715,0x3e432713 }, /* 480:  1.8832047e-01  1.9057874e-01 */
+    { 0xbf319d4d,0xbf54edf0 }, /* 481: -6.9380647e-01 -8.3175564e-01 */
+    { 0x3f944c74,0x40125d45 }, /* 482:  1.1585832e+00  2.2869427e+00 */
+    { 0xbf9f1904,0xc03c2b56 }, /* 483: -1.2429509e+00 -2.9401450e+00 */
+    { 0xc0195f7b,0x3f6c2cdb }, /* 484: -2.3964527e+00  9.2255944e-01 */
+    { 0x3f26fdec,0x3f438c44 }, /* 485:  6.5231204e-01  7.6385903e-01 */
+    { 0xbf27b282,0xbf44aad3 }, /* 486: -6.5506756e-01 -7.6823157e-01 */
+    { 0xbe604aaf,0xbe63f2e6 }, /* 487: -2.1903490e-01 -2.2260627e-01 */
+    { 0xbfee3d1d,0x40561f0a }, /* 488: -1.8612400e+00  3.3456445e+00 */
+    { 0x3f5cc8ae,0x3f956a01 }, /* 489:  8.6243713e-01  1.1672975e+00 */
+    { 0x3f593619,0x3f9142dd }, /* 490:  8.4848171e-01  1.1348530e+00 */
+    { 0xc0089b33,0x3fca8151 }, /* 491: -2.1344726e+00  1.5820714e+00 */
+    { 0x3f5a087f,0x3f92346e }, /* 492:  8.5169214e-01  1.1422250e+00 */
+    { 0x3fd39bd1,0xc141be6a }, /* 493:  1.6531926e+00 -1.2108988e+01 */
+    { 0x3fb0427d,0x40a31314 }, /* 494:  1.3770291e+00  5.0960789e+00 */
+    { 0xbea67e3f,0xbeac9ef9 }, /* 495: -3.2518193e-01 -3.3715037e-01 */
+    { 0xbf93b554,0xc0108b6b }, /* 496: -1.1539712e+00 -2.2585094e+00 */
+    { 0x3f249276,0x3f3fbe5d }, /* 497:  6.4285982e-01  7.4899846e-01 */
+    { 0x3f5abd1e,0x3f930539 }, /* 498:  8.5444820e-01  1.1485969e+00 */
+    { 0x3eee3e3d,0x3f008900 }, /* 499:  4.6531859e-01  5.0209045e-01 */
+    { 0x3ec7f909,0x3ed2cd6e }, /* 500:  3.9057186e-01  4.1172355e-01 */
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]:  %#lx\n", index - 1, v.lo);
+#endif
+    exit (index ? index : -1);
+}
+
+int main ()
+{
+    union lofl_u x, z;
+    unsigned long v1, z1, r;
+    int i;
+    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	x.lo = pgm_read_dword (& t[i].x);
+	z.lo = pgm_read_dword (& t[i].z);
+	v.fl = tan (x.fl);
+	
+	v1 = (v.lo < 0) ? (unsigned long)~(v.lo) : v.lo + 0x80000000;
+	z1 = (z.lo < 0) ? (unsigned long)~(z.lo) : z.lo + 0x80000000;
+	r = (v1 >= z1) ? v1 - z1 : z1 - v1;
+	
+	if (r > 4) x_exit (i+1);
+    }
+    return 0;
+}
diff --git a/tests/simulate/math/tanh-01.c b/tests/simulate/math/tanh-01.c
new file mode 100644
index 0000000..0f67677
--- /dev/null
+++ b/tests/simulate/math/tanh-01.c
@@ -0,0 +1,112 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of tanh() function.
+   $Id$
+ */
+#include <math.h>
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+volatile union lofl_u v = { .lo = 1 };
+
+PROGMEM const struct {		/* Table of test cases.	*/
+    union lofl_u x;		/* argument	*/
+    union lofl_u z;		/* tanh(x)	*/
+} t[] = {
+
+    /* Zero	*/
+    { { .fl=  0.0 },	{ .fl=  0.0 } },
+    { { .fl= -0.0 },	{ .fl= -0.0 } },
+
+    /* Inf	*/
+    { { 0x7f800000 },	{ .fl=  1 } },
+    { { 0xff800000 },	{ .fl= -1 } },
+
+    /* Subnormal	*/
+    { { 0x00000001 },	{ 0x00000001 } },
+    { { 0x00000100 },	{ 0x00000100 } },
+    { { 0x00010000 },	{ 0x00010000 } },
+    { { 0x007fffff },	{ 0x007fffff } },
+    { { 0x80000001 },	{ 0x80000001 } },
+    { { 0x80000100 },	{ 0x80000100 } },
+    { { 0x80010000 },	{ 0x80010000 } },
+    { { 0x807fffff },	{ 0x807fffff } },
+    
+    /* Arg too big	*/
+    { { .fl= 9.0109134 },	{ .fl= 1 } },
+    { { .fl= 10 },		{ .fl= 1 } },
+    { { .fl= 12345 },		{ .fl= 1 } },
+    { { 0x70000000 },		{ .fl= 1 } },
+    { { 0x7f7fffff },		{ .fl= 1 } },
+
+    /* Arg too negative	*/
+    { { .fl= -9.0109134 },	{ .fl= -1 } },
+    { { .fl= -10 },		{ .fl= -1 } },
+    { { .fl= -12345 },		{ .fl= -1 } },
+    { { 0xf0000000 },		{ .fl= -1 } },
+    { { 0xff7fffff },		{ .fl= -1 } },
+
+    /* Near 0.0	*/
+    { { 0x00800000 },	{ 0x00800000 } },
+    { { 0x01000000 },	{ 0x01000000 } },
+
+    { { 0x80800000 },	{ 0x80800000 } },
+    { { 0x81000000 },	{ 0x81000000 } },
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]:  %#lx\n", index - 1, v.lo);
+#endif
+    exit (index ? index : -1);
+}
+
+int main ()
+{
+    union lofl_u x, z;
+    int i;
+    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	x.lo = pgm_read_dword (& t[i].x);
+	z.lo = pgm_read_dword (& t[i].z);
+	v.fl = tanh (x.fl);
+	/* Comparison is integer to verify the zero sign.	*/
+	if (v.lo != z.lo)
+	    x_exit (i+1);
+    }
+    return 0;
+}
diff --git a/tests/simulate/math/tanh-02.c b/tests/simulate/math/tanh-02.c
new file mode 100644
index 0000000..2e8ff6d
--- /dev/null
+++ b/tests/simulate/math/tanh-02.c
@@ -0,0 +1,94 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of tanh() function. ULP control.
+   $Id$
+ */
+#include <math.h>
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+volatile union lofl_u v = { .lo = 1 };
+
+PROGMEM const struct {		/* Table of test cases.	*/
+    union lofl_u x;		/* argument	*/
+    union lofl_u z;		/* tanh(x)	*/
+    unsigned int maxulp;	/* max possible error in ULP	*/
+} t[] = {
+
+    { { .fl= 0 },	{ .fl= 0 },	0 },
+    { { 0x3a000000 },	{ 0x39ffffff },		1 },
+    { { 0x3b000000 },	{ 0x3affffeb },		1 },
+    { { 0x3e0ffffe },	{ 0x3e0f0ee6 },		4 },
+    { { 0x3e0fffff },	{ 0x3e0f0ee7 },		4 },
+    { { 0x3e100000 },	{ 0x3e0f0ee8 },		3 },	/* .140625	*/
+    { { 0x3e100001 },	{ 0x3e0f0ee9 },		3 },
+    { { .fl= 0.25 },	{ .fl= .24491866 },	1 },
+    { { .fl= 0.5 },	{ .fl= .46211716 },	1 },
+    { { .fl= 1 },	{ .fl= .76159416 },	1 },
+    { { .fl= 2 },	{ .fl= .96402758 },	1 },
+    { { .fl= 5 },	{ .fl= .99990920 },	1 },
+    { { .fl= 10 },	{ .fl= 1.0 },	0 },
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]:  %#lx\n", index - 1, v.lo);
+#endif
+    exit (index ? index : -1);
+}
+
+int main ()
+{
+    union lofl_u x, z;
+    unsigned int maxulp;
+    unsigned long v1, z1, r;
+    int i;
+    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	x.lo = pgm_read_dword (& t[i].x);
+	z.lo = pgm_read_dword (& t[i].z);
+	maxulp = pgm_read_word (& t[i].maxulp);
+	v.fl = tanh (x.fl);
+	
+	v1 = (v.lo < 0) ? (unsigned long)~(v.lo) : v.lo + 0x80000000;
+	z1 = (z.lo < 0) ? (unsigned long)~(z.lo) : z.lo + 0x80000000;
+	r = (v1 >= z1) ? v1 - z1 : z1 - v1;
+	
+	if (r > maxulp) x_exit (i+1);
+    }
+    return 0;
+}
diff --git a/tests/simulate/math/tanh-500.c b/tests/simulate/math/tanh-500.c
new file mode 100644
index 0000000..199ec9c
--- /dev/null
+++ b/tests/simulate/math/tanh-500.c
@@ -0,0 +1,579 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of tanh() function. 500 random cases.
+   $Id$
+ */
+#include <math.h>
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+volatile union lofl_u v = { .lo = 1 };
+
+PROGMEM const struct {		/* Table of test cases.	*/
+    long x;		/* argument	*/
+    long z;		/* tanh(x)	*/
+} t[] = {
+
+    /* x, tanh(x)	*/
+    { 0x3f0b9ad7,0x3efe787e }, /*   1:  5.4533142e-01  4.9701303e-01 */
+    { 0x3f22db0e,0x3f0ff150 }, /*   2:  6.3615501e-01  5.6227589e-01 */
+    { 0xc0306cd8,0xbf7df188 }, /*   3: -2.7566433e+00 -9.9196672e-01 */
+    { 0x3ecbfdd9,0x3ec1d77d }, /*   4:  3.9842108e-01  3.7859717e-01 */
+    { 0x3edb0811,0x3ece94a0 }, /*   5:  4.2779592e-01  4.0347767e-01 */
+    { 0x3e263270,0x3e24c0c0 }, /*   6:  1.6230178e-01  1.6089153e-01 */
+    { 0x3ea3e5b8,0x3e9e84f7 }, /*   7:  3.2011199e-01  3.0960819e-01 */
+    { 0x3edaa37d,0x3ece4065 }, /*   8:  4.2702857e-01  4.0283504e-01 */
+    { 0x3e66536d,0x3e6284c7 }, /*   9:  2.2492762e-01  2.2120963e-01 */
+    { 0x3f3af2c0,0x3f1f8be6 }, /*  10:  7.3026657e-01  6.2322843e-01 */
+    { 0xbecce0d3,0xbec299ce }, /*  11: -4.0015277e-01 -3.8007969e-01 */
+    { 0x3f0e96a7,0x3f01780b }, /*  12:  5.5698627e-01  5.0573796e-01 */
+    { 0x3f06bd84,0x3ef71370 }, /*  13:  5.2632928e-01  4.8257017e-01 */
+    { 0x3ef7ef0a,0x3ee636dd }, /*  14:  4.8424560e-01  4.4963732e-01 */
+    { 0xbf0f2ef7,0xbf01e944 }, /*  15: -5.5931038e-01 -5.0746560e-01 */
+    { 0x3f2010f6,0x3f0e05fd }, /*  16:  6.2525880e-01  5.5477887e-01 */
+    { 0x3e5fe530,0x3e5c64f0 }, /*  17:  2.1864772e-01  2.1522880e-01 */
+    { 0xc0af0a98,0xbf7ffdad }, /*  18: -5.4700432e+00 -9.9996454e-01 */
+    { 0xc0b0c272,0xbf7ffdea }, /*  19: -5.5237360e+00 -9.9996817e-01 */
+    { 0x3ec8d065,0x3ebf1d00 }, /*  20:  3.9221492e-01  3.7326813e-01 */
+    { 0xbf0faea9,0xbf0247fb }, /*  21: -5.6125885e-01 -5.0891083e-01 */
+    { 0xbf3120e1,0xbf196595 }, /*  22: -6.9190794e-01 -5.9920627e-01 */
+    { 0x3eb01087,0x3ea9701a }, /*  23:  3.4387609e-01  3.3093339e-01 */
+    { 0x3eb1decf,0x3eab0b47 }, /*  24:  3.4740302e-01  3.3407041e-01 */
+    { 0x40f39f56,0x3f7ffff8 }, /*  25:  7.6132002e+00  9.9999952e-01 */
+    { 0x3f0be06f,0x3efee13e }, /*  26:  5.4639333e-01  4.9781221e-01 */
+    { 0xbf03eb2b,0xbef2b94b }, /*  27: -5.1530713e-01 -4.7406992e-01 */
+    { 0x3ef2f860,0x3ee23cb0 }, /*  28:  4.7455120e-01  4.4186926e-01 */
+    { 0x3f09e317,0x3efbe00b }, /*  29:  5.3862137e-01  4.9194369e-01 */
+    { 0x3fe0fa0e,0x3f713680 }, /*  30:  1.7576311e+00  9.4223785e-01 */
+    { 0xbf25892c,0xbf11c3bf }, /*  31: -6.4662433e-01 -5.6939310e-01 */
+    { 0xbf08ab33,0xbefa061e }, /*  32: -5.3386229e-01 -4.8832792e-01 */
+    { 0xbf0a11b7,0xbefc26b3 }, /*  33: -5.3933281e-01 -4.9248275e-01 */
+    { 0x3ec878d0,0x3ebed19a }, /*  34:  3.9154673e-01  3.7269288e-01 */
+    { 0xbf0d5b46,0xbf008cc2 }, /*  35: -5.5217397e-01 -5.0214779e-01 */
+    { 0xbef4a16d,0xbee39242 }, /*  36: -4.7779408e-01 -4.4447523e-01 */
+    { 0x3f0d12a1,0x3f005666 }, /*  37:  5.5106550e-01  5.0131834e-01 */
+    { 0x3f108e58,0x3f02ed72 }, /*  38:  5.6467199e-01  5.1143563e-01 */
+    { 0xbec2a025,0xbeb9c35e }, /*  39: -3.8012806e-01 -3.6281866e-01 */
+    { 0x3f2d128b,0x3f16c5bd }, /*  40:  6.7606419e-01  5.8895475e-01 */
+    { 0xbf4d7090,0xbf2a59b7 }, /*  41: -8.0249882e-01 -6.6543144e-01 */
+    { 0x3f0f5b5a,0x3f020a36 }, /*  42:  5.5998766e-01  5.0796831e-01 */
+    { 0x3eb47ac1,0x3ead5baa }, /*  43:  3.5249904e-01  3.3858997e-01 */
+    { 0xbf5733f6,0xbf2fa745 }, /*  44: -8.4063661e-01 -6.8614608e-01 */
+    { 0xbe57f169,0xbe54cc41 }, /*  45: -2.1088184e-01 -2.0781042e-01 */
+    { 0xbee09980,0xbed338bf }, /*  46: -4.3867111e-01 -4.1254231e-01 */
+    { 0xbf43d836,0xbf24deb2 }, /*  47: -7.6501787e-01 -6.4402306e-01 */
+    { 0xbf0637f6,0xbef64655 }, /*  48: -5.2429140e-01 -4.8100534e-01 */
+    { 0xbf4c92ed,0xbf29ddf1 }, /*  49: -7.9911691e-01 -6.6354281e-01 */
+    { 0xbfb8f304,0xbf6509f3 }, /*  50: -1.4449162e+00 -8.9468306e-01 */
+    { 0x3ebd409e,0x3eb51464 }, /*  51:  3.6963362e-01  3.5367119e-01 */
+    { 0xbf2538e7,0xbf118d76 }, /*  52: -6.4539951e-01 -5.6856477e-01 */
+    { 0x3f0b7216,0x3efe3b1a }, /*  53:  5.4470956e-01  4.9654466e-01 */
+    { 0x3f4548fe,0x3f25b5bd }, /*  54:  7.7064502e-01  6.4730436e-01 */
+    { 0x408e5a86,0x3f7fee13 }, /*  55:  4.4485502e+00  9.9972647e-01 */
+    { 0x3f29d4d2,0x3f14a3c7 }, /*  56:  6.6340363e-01  5.8062404e-01 */
+    { 0xbe5e8bc7,0xbe5b1b6f }, /*  57: -2.1733008e-01 -2.1397184e-01 */
+    { 0xbf03dd10,0xbef2a36c }, /*  58: -5.1509190e-01 -4.7390306e-01 */
+    { 0xbef61b2c,0xbee4c0fd }, /*  59: -4.8067605e-01 -4.4678488e-01 */
+    { 0xbf3b7301,0xbf1fda3d }, /*  60: -7.3222357e-01 -6.2442380e-01 */
+    { 0xbeefc53f,0xbedfa7ad }, /*  61: -4.6830174e-01 -4.3682614e-01 */
+    { 0xbed86e0f,0xbecc65e6 }, /*  62: -4.2271468e-01 -3.9921492e-01 */
+    { 0x3f201f17,0x3f0e0fc5 }, /*  63:  6.2547439e-01  5.5492812e-01 */
+    { 0xbc35724e,0xbc357068 }, /*  64: -1.1074616e-02 -1.1074163e-02 */
+    { 0xbedc7fcb,0xbecfced3 }, /*  65: -4.3066248e-01 -4.0587482e-01 */
+    { 0x3f1e5460,0x3f0cd115 }, /*  66:  6.1847496e-01  5.5006534e-01 */
+    { 0x3f73054a,0x3f3d4da0 }, /*  67:  9.4929945e-01  7.3946571e-01 */
+    { 0xbfa667c1,0xbf5c9a96 }, /*  68: -1.3000413e+00 -8.6173379e-01 */
+    { 0x3ecfd366,0x3ec51df4 }, /*  69:  4.0590972e-01  3.8499415e-01 */
+    { 0x3f0fed29,0x3f027646 }, /*  70:  5.6221253e-01  5.0961721e-01 */
+    { 0x3efab1d7,0x3ee86966 }, /*  71:  4.8963806e-01  4.5392913e-01 */
+    { 0xbef26805,0xbee1c876 }, /*  72: -4.7344986e-01 -4.4098252e-01 */
+    { 0xbf0d5726,0xbf0089ac }, /*  73: -5.5211103e-01 -5.0210071e-01 */
+    { 0xbef38b6a,0xbee2b2f5 }, /*  74: -4.7567302e-01 -4.4277158e-01 */
+    { 0x3f12169b,0x3f040e38 }, /*  75:  5.7065743e-01  5.1584196e-01 */
+    { 0xbf469087,0xbf26736c }, /*  76: -7.7564281e-01 -6.5019870e-01 */
+    { 0x3ed17a10,0x3ec68586 }, /*  77:  4.0913439e-01  3.8773745e-01 */
+    { 0xbeeddcb3,0xbede1bb5 }, /*  78: -4.6457443e-01 -4.3380514e-01 */
+    { 0x3f3e1c2f,0x3f217721 }, /*  79:  7.4261755e-01  6.3072401e-01 */
+    { 0x3e92b766,0x3e8ed407 }, /*  80:  2.8655547e-01  2.7896139e-01 */
+    { 0x3eccf7e6,0x3ec2ad8b }, /*  81:  4.0032881e-01  3.8023028e-01 */
+    { 0x3ef2b61d,0x3ee2075a }, /*  82:  4.7404566e-01  4.4146234e-01 */
+    { 0x3f90a4a1,0x3f4f9f80 }, /*  83:  1.1300241e+00  8.1102753e-01 */
+    { 0x4035600f,0x3f7e3cba }, /*  84:  2.8339880e+00  9.9311411e-01 */
+    { 0x3eacdf86,0x3ea69715 }, /*  85:  3.3764285e-01  3.2537141e-01 */
+    { 0xbec1479b,0xbeb897e6 }, /*  86: -3.7749943e-01 -3.6053389e-01 */
+    { 0xbf7dbb9d,0xbf420270 }, /*  87: -9.9114400e-01 -7.5784969e-01 */
+    { 0xbf330f0b,0xbf1aa0e4 }, /*  88: -6.9944829e-01 -6.0401750e-01 */
+    { 0x3f0ea81a,0x3f018507 }, /*  89:  5.5725253e-01  5.0593609e-01 */
+    { 0x3ef4ea0d,0x3ee3cc85 }, /*  90:  4.7834817e-01  4.4491974e-01 */
+    { 0xbf21e3b3,0xbf0f47cc }, /*  91: -6.3238066e-01 -5.5968928e-01 */
+    { 0x3cb54093,0x3cb53901 }, /*  92:  2.2125518e-02  2.2121908e-02 */
+    { 0x3ef0af58,0x3ee064f4 }, /*  93:  4.7008777e-01  4.3827021e-01 */
+    { 0x3f0e099a,0x3f010ef4 }, /*  94:  5.5483401e-01  5.0413442e-01 */
+    { 0x3ed8503c,0x3ecc4cd4 }, /*  95:  4.2248714e-01  3.9902365e-01 */
+    { 0xbedfb733,0xbed27cd4 }, /*  96: -4.3694457e-01 -4.1110861e-01 */
+    { 0x3f482bd9,0x3f275fe2 }, /*  97:  7.8191906e-01  6.5380681e-01 */
+    { 0x3efb4fd3,0x3ee8e6c3 }, /*  98:  4.9084339e-01  4.5488557e-01 */
+    { 0x3ecf7bd9,0x3ec4d35c }, /*  99:  4.0524176e-01  3.8442504e-01 */
+    { 0xbee302b4,0xbed537e9 }, /* 100: -4.4338000e-01 -4.1644219e-01 */
+    { 0xc003ba15,0xbf77c989 }, /* 101: -2.0582325e+00 -9.6791893e-01 */
+    { 0x40b9b9f1,0x3f7ffecf }, /* 102:  5.8039479e+00  9.9998182e-01 */
+    { 0x3ee47c60,0x3ed66fb6 }, /* 103:  4.4626141e-01  4.1882104e-01 */
+    { 0xbef6e93e,0xbee565cf }, /* 104: -4.8224825e-01 -4.4804236e-01 */
+    { 0xbe776696,0xbe72b261 }, /* 105: -2.4160227e-01 -2.3700859e-01 */
+    { 0x3ed96ca5,0x3ecd3bbf }, /* 106:  4.2465702e-01  4.0084645e-01 */
+    { 0xbedb17d8,0xbecea1d6 }, /* 107: -4.2791629e-01 -4.0357846e-01 */
+    { 0x3fc486ab,0x3f694d67 }, /* 108:  1.5353597e+00  9.1133732e-01 */
+    { 0xb404283c,0xb404283c }, /* 109: -1.2308095e-07 -1.2308095e-07 */
+    { 0xbf421f20,0xbf23db70 }, /* 110: -7.5828743e-01 -6.4006710e-01 */
+    { 0xbe47c78b,0xbe454862 }, /* 111: -1.9509713e-01 -1.9265893e-01 */
+    { 0xbe13d079,0xbe12cbd2 }, /* 112: -1.4434995e-01 -1.4335564e-01 */
+    { 0xbf66d49c,0xbf3794e5 }, /* 113: -9.0168166e-01 -7.1711570e-01 */
+    { 0xbf5f4fef,0xbf33da29 }, /* 114: -8.7231344e-01 -7.0254761e-01 */
+    { 0x3ef3f957,0x3ee30b4d }, /* 115:  4.7651169e-01  4.4344559e-01 */
+    { 0x3f2d17cb,0x3f16c92b }, /* 116:  6.7614430e-01  5.8900708e-01 */
+    { 0x3f40b20f,0x3f23032a }, /* 117:  7.5271696e-01  6.3676703e-01 */
+    { 0x4080f5a5,0x3f7fd69a }, /* 118:  4.0299859e+00  9.9936831e-01 */
+    { 0xbf0bf9d2,0xbeff076d }, /* 119: -5.4678071e-01 -4.9810353e-01 */
+    { 0xbf0fb63c,0xbf024d98 }, /* 120: -5.6137443e-01 -5.0899649e-01 */
+    { 0xbed9f72a,0xbecdaff6 }, /* 121: -4.2571384e-01 -4.0173310e-01 */
+    { 0xbf4d1f5a,0xbf2a2c6d }, /* 122: -8.0125964e-01 -6.6474038e-01 */
+    { 0x3ed6309c,0x3eca8301 }, /* 123:  4.1833961e-01  3.9553073e-01 */
+    { 0xbeb523ad,0xbeadf127 }, /* 124: -3.5378781e-01 -3.3973047e-01 */
+    { 0xbf0c8624,0xbeffda36 }, /* 125: -5.4892182e-01 -4.9971169e-01 */
+    { 0x3ecd7bef,0x3ec31e72 }, /* 126:  4.0133616e-01  3.8109165e-01 */
+    { 0x430362fd,0x3f800000 }, /* 127:  1.3138667e+02  1.0000000e+00 */
+    { 0x3f06bc94,0x3ef71200 }, /* 128:  5.2631497e-01  4.8255920e-01 */
+    { 0x3ef1d00e,0x3ee14dfc }, /* 129:  4.7229046e-01  4.4004810e-01 */
+    { 0x3f0bce5b,0x3efec60b }, /* 130:  5.4611748e-01  4.9760470e-01 */
+    { 0x3f2dc71a,0x3f173b7a }, /* 131:  6.7881930e-01  5.9075129e-01 */
+    { 0xbed2ef96,0xbec7c28a }, /* 132: -4.1198415e-01 -3.9015609e-01 */
+    { 0xbd8052d1,0xbd8027e5 }, /* 133: -6.2657960e-02 -6.2576093e-02 */
+    { 0xbad03a93,0xbad03a88 }, /* 134: -1.5886597e-03 -1.5886584e-03 */
+    { 0x3eedffe9,0x3ede384a }, /* 135:  4.6484306e-01  4.3402320e-01 */
+    { 0x3ef362b0,0x3ee29236 }, /* 136:  4.7536230e-01  4.4252175e-01 */
+    { 0xbff53960,0xbf75235f }, /* 137: -1.9158134e+00 -9.5757097e-01 */
+    { 0x3e83ba28,0x3e80e54a }, /* 138:  2.5727963e-01  2.5174934e-01 */
+    { 0x3f295c0f,0x3f1453a4 }, /* 139:  6.6156095e-01  5.7940125e-01 */
+    { 0x3ed24547,0x3ec73215 }, /* 140:  4.1068479e-01  3.8905397e-01 */
+    { 0x3e9e63e0,0x3e99860e }, /* 141:  3.0935574e-01  2.9985088e-01 */
+    { 0xbee5b52f,0xbed77164 }, /* 142: -4.4864795e-01 -4.2078698e-01 */
+    { 0x3ed3500d,0x3ec8144c }, /* 143:  4.1272011e-01  3.9077985e-01 */
+    { 0x3ef813f9,0x3ee65453 }, /* 144:  4.8452738e-01  4.4986209e-01 */
+    { 0xbf0b12e5,0xbefdab8e }, /* 145: -5.4325706e-01 -4.9544948e-01 */
+    { 0xc0b7b5d6,0xbf7ffea6 }, /* 146: -5.7409468e+00 -9.9997938e-01 */
+    { 0xbf2cda07,0xbf16a0cf }, /* 147: -6.7520183e-01 -5.8839124e-01 */
+    { 0x3f0999a3,0x3efb70a1 }, /* 148:  5.3750056e-01  4.9109367e-01 */
+    { 0xbf4065a0,0xbf22d5b1 }, /* 149: -7.5155067e-01 -6.3607317e-01 */
+    { 0x3ed6aa9f,0x3ecae9e3 }, /* 150:  4.1927049e-01  3.9631566e-01 */
+    { 0xbf9a59a2,0xbf55def7 }, /* 151: -1.2058604e+00 -8.3543342e-01 */
+    { 0xbea508ff,0xbe9f8c23 }, /* 152: -3.2233426e-01 -3.1161603e-01 */
+    { 0xbed9efcd,0xbecda9c9 }, /* 153: -4.2565766e-01 -4.0168598e-01 */
+    { 0x4489d32c,0x3f800000 }, /* 154:  1.1025991e+03  1.0000000e+00 */
+    { 0xbef3f874,0xbee30a97 }, /* 155: -4.7650492e-01 -4.4344017e-01 */
+    { 0x3ee9ac04,0x3edab1cf }, /* 156:  4.5639050e-01  4.2713782e-01 */
+    { 0x3ea625e4,0x3ea08d32 }, /* 157:  3.2450783e-01  3.1357723e-01 */
+    { 0x3ee4efee,0x3ed6cef6 }, /* 158:  4.4714302e-01  4.1954774e-01 */
+    { 0x3ef89fa9,0x3ee6c3b1 }, /* 159:  4.8559311e-01  4.5071176e-01 */
+    { 0x3ed26381,0x3ec74bbb }, /* 160:  4.1091540e-01  3.8924965e-01 */
+    { 0xc1d26145,0xbf800000 }, /* 161: -2.6297495e+01 -1.0000000e+00 */
+    { 0x3ed7b0cb,0x3ecbc6b5 }, /* 162:  4.2127070e-01  3.9800039e-01 */
+    { 0xbbc69481,0xbbc693e2 }, /* 163: -6.0601835e-03 -6.0601095e-03 */
+    { 0xbe6f9f13,0xbe6b5762 }, /* 164: -2.3400526e-01 -2.2982553e-01 */
+    { 0x3ec9a6a9,0x3ebfd54d }, /* 165:  3.9384964e-01  3.7467423e-01 */
+    { 0xbf086262,0xbef99727 }, /* 166: -5.3275120e-01 -4.8748133e-01 */
+    { 0xbedf849b,0xbed252c7 }, /* 167: -4.3655857e-01 -4.1078779e-01 */
+    { 0xbef50e82,0xbee3e9c2 }, /* 168: -4.7862631e-01 -4.4514281e-01 */
+    { 0xbf0c0db8,0xbeff2558 }, /* 169: -5.4708433e-01 -4.9833179e-01 */
+    { 0x3f41dc7e,0x3f23b414 }, /* 170:  7.5727069e-01  6.3946652e-01 */
+    { 0xbf8d07e7,0xbf4d17e7 }, /* 171: -1.1018037e+00 -8.0114597e-01 */
+    { 0xbea61815,0xbea080be }, /* 172: -3.2440248e-01 -3.1348222e-01 */
+    { 0x402b785a,0x3f7d99c6 }, /* 173:  2.6792207e+00  9.9062765e-01 */
+    { 0xbef1516d,0xbee0e7d5 }, /* 174: -4.7132435e-01 -4.3926874e-01 */
+    { 0x3f2c4d56,0x3f1644b5 }, /* 175:  6.7305505e-01  5.8698589e-01 */
+    { 0x3da3c98e,0x3da37064 }, /* 176:  7.9974279e-02  7.9804212e-02 */
+    { 0x3f0efdf7,0x3f01c4de }, /* 177:  5.5856270e-01  5.0691020e-01 */
+    { 0x3f0bc457,0x3efeb6f8 }, /* 178:  5.4596466e-01  4.9748969e-01 */
+    { 0xbef4915f,0xbee38560 }, /* 179: -4.7767159e-01 -4.4437695e-01 */
+    { 0xbed3bcc7,0xbec87064 }, /* 180: -4.1354963e-01 -3.9148247e-01 */
+    { 0x3edfc1cb,0x3ed285a1 }, /* 181:  4.3702540e-01  4.1117576e-01 */
+    { 0x3f0cfc6b,0x3f0045c5 }, /* 182:  5.5072659e-01  5.0106460e-01 */
+    { 0x3f10ce55,0x3f031cac }, /* 183:  5.6564838e-01  5.1215625e-01 */
+    { 0xbf53b90c,0xbf2dcb63 }, /* 184: -8.2704234e-01 -6.7888469e-01 */
+    { 0xc5560fb8,0xbf800000 }, /* 185: -3.4249824e+03 -1.0000000e+00 */
+    { 0x3ec121d3,0x3eb87707 }, /* 186:  3.7721118e-01  3.6028311e-01 */
+    { 0xbf24c605,0xbf113fa4 }, /* 187: -6.4364654e-01 -5.6737733e-01 */
+    { 0xb8b849be,0xb8b849be }, /* 188: -8.7875393e-05 -8.7875393e-05 */
+    { 0xbf436551,0xbf249b61 }, /* 189: -7.6326472e-01 -6.4299589e-01 */
+    { 0x3f23c72a,0x3f109272 }, /* 190:  6.3975775e-01  5.6473458e-01 */
+    { 0x3f0c575d,0x3eff93ff }, /* 191:  5.4820806e-01  4.9917600e-01 */
+    { 0xbeb8c7f9,0xbeb127d8 }, /* 192: -3.6090067e-01 -3.4600711e-01 */
+    { 0x3f70a487,0x3f3c37d7 }, /* 193:  9.4001049e-01  7.3522705e-01 */
+    { 0x3f2d5f7b,0x3f16f7f4 }, /* 194:  6.7723817e-01  5.8972096e-01 */
+    { 0xbf51fefb,0xbf2cdbf8 }, /* 195: -8.2029694e-01 -6.7523146e-01 */
+    { 0x3f5b25e6,0x3f31b81a }, /* 196:  8.5604703e-01  6.9421542e-01 */
+    { 0xbec5a245,0xbebc5eb0 }, /* 197: -3.8600364e-01 -3.6790991e-01 */
+    { 0x3ef1fd1d,0x3ee17250 }, /* 198:  4.7263423e-01  4.4032526e-01 */
+    { 0xbf1c16b6,0xbf0b3f11 }, /* 199: -6.0972154e-01 -5.4393107e-01 */
+    { 0x3f08113a,0x3ef91b56 }, /* 200:  5.3151286e-01  4.8653668e-01 */
+    { 0x3f34da3f,0x3f1bc353 }, /* 201:  7.0645517e-01  6.0844916e-01 */
+    { 0xbf3d275e,0xbf20e35b }, /* 202: -7.3888195e-01 -6.2846917e-01 */
+    { 0x3f4beb3d,0x3f297fed }, /* 203:  7.9655820e-01  6.6210824e-01 */
+    { 0xbe9967e7,0xbe94f971 }, /* 204: -2.9962084e-01 -2.9096559e-01 */
+    { 0x3ef40584,0x3ee31515 }, /* 205:  4.7660458e-01  4.4352022e-01 */
+    { 0x3f4fa55d,0x3f2b929f }, /* 206:  8.1111699e-01  6.7020601e-01 */
+    { 0xbeb7dbc2,0xbeb057c8 }, /* 207: -3.5909849e-01 -3.4441972e-01 */
+    { 0x3f27b1b0,0x3f133757 }, /* 208:  6.5505505e-01  5.7506317e-01 */
+    { 0x3f2be85b,0x3f160276 }, /* 209:  6.7151421e-01  5.8597505e-01 */
+    { 0xc129c74b,0xbf800000 }, /* 210: -1.0611156e+01 -1.0000000e+00 */
+    { 0x3f84897e,0x3f46ad66 }, /* 211:  1.0354459e+00  7.7608335e-01 */
+    { 0x3f258f7c,0x3f11c803 }, /* 212:  6.4672065e-01  5.6945819e-01 */
+    { 0x3f24785b,0x3f110af1 }, /* 213:  6.4246148e-01  5.6657320e-01 */
+    { 0x3eb2f7e2,0x3eac04cd }, /* 214:  3.4954745e-01  3.3597413e-01 */
+    { 0xbef2418c,0xbee1a977 }, /* 215: -4.7315633e-01 -4.4074604e-01 */
+    { 0x3ef3938c,0x3ee2b97f }, /* 216:  4.7573507e-01  4.4282147e-01 */
+    { 0x3f256d86,0x3f11b10f }, /* 217:  6.4620245e-01  5.6910795e-01 */
+    { 0xbeb81c9e,0xbeb090f0 }, /* 218: -3.5959333e-01 -3.4485579e-01 */
+    { 0x3f2a17b3,0x3f14d016 }, /* 219:  6.6442412e-01  5.8130014e-01 */
+    { 0xbe9849b6,0xbe93f350 }, /* 220: -2.9743737e-01 -2.8896570e-01 */
+    { 0x3f3ffb88,0x3f229675 }, /* 221:  7.4993181e-01  6.3510829e-01 */
+    { 0x3f33320c,0x3f1ab71d }, /* 222:  6.9998240e-01  6.0435659e-01 */
+    { 0x3f0e2e9b,0x3f012a8c }, /* 223:  5.5539864e-01  5.0455546e-01 */
+    { 0xb7b64a3a,0xb7b64a3a }, /* 224: -2.1730655e-05 -2.1730655e-05 */
+    { 0xbddb749d,0xbdda9e91 }, /* 225: -1.0715602e-01 -1.0674775e-01 */
+    { 0xbeef6deb,0xbedf60fd }, /* 226: -4.6763548e-01 -4.3628684e-01 */
+    { 0x3f0a2a5b,0x3efc4c06 }, /* 227:  5.3970879e-01  4.9276751e-01 */
+    { 0x3f6c8257,0x3f3a4bde }, /* 228:  9.2386383e-01  7.2772014e-01 */
+    { 0x3ef031f2,0x3edfff9a }, /* 229:  4.6913105e-01  4.3749696e-01 */
+    { 0x3caa8b83,0x3caa8535 }, /* 230:  2.0818477e-02  2.0815471e-02 */
+    { 0xbf697c00,0xbf38dc76 }, /* 231: -9.1204834e-01 -7.2211397e-01 */
+    { 0x3ee3797c,0x3ed59a0e }, /* 232:  4.4428623e-01  4.1719097e-01 */
+    { 0xbf0ee1c2,0xbf01afe8 }, /* 233: -5.5813229e-01 -5.0659037e-01 */
+    { 0xc042fbe4,0xbf7ed8b3 }, /* 234: -3.0466242e+00 -9.9549407e-01 */
+    { 0xbf0c70fa,0xbeffba73 }, /* 235: -5.4859889e-01 -4.9946937e-01 */
+    { 0xbf6dbb7d,0xbf3adeab }, /* 236: -9.2864209e-01 -7.2996014e-01 */
+    { 0x3f46bef7,0x3f268e37 }, /* 237:  7.7635139e-01  6.5060753e-01 */
+    { 0xbf111770,0xbf035292 }, /* 238: -5.6676388e-01 -5.1297867e-01 */
+    { 0x3f365904,0x3f1cb388 }, /* 239:  7.1229577e-01  6.1211443e-01 */
+    { 0x3ed3c21f,0x3ec874ea }, /* 240:  4.1359040e-01  3.9151698e-01 */
+    { 0xbf071b2c,0xbef7a308 }, /* 241: -5.2775836e-01 -4.8366570e-01 */
+    { 0x3eb1a8fa,0x3eaadb72 }, /* 242:  3.4699231e-01  3.3370548e-01 */
+    { 0xbf0de2bb,0xbf00f1f4 }, /* 243: -5.5424088e-01 -5.0369191e-01 */
+    { 0x3ed4e484,0x3ec96a95 }, /* 244:  4.1580594e-01  3.9339128e-01 */
+    { 0xbf3a72b3,0xbf1f3d7d }, /* 245: -7.2831267e-01 -6.2203199e-01 */
+    { 0xbe1ddcf3,0xbe1c9fcf }, /* 246: -1.5416317e-01 -1.5295337e-01 */
+    { 0xbe64ae6f,0xbe60f43e }, /* 247: -2.2332166e-01 -2.1968171e-01 */
+    { 0x3ef4cb3f,0x3ee3b3cf }, /* 248:  4.7811314e-01  4.4473121e-01 */
+    { 0x3f08f71f,0x3efa79af }, /* 249:  5.3502077e-01  4.8920962e-01 */
+    { 0x3ebbe3c2,0x3eb3e2e2 }, /* 250:  3.6697203e-01  3.5134035e-01 */
+    { 0x3ebf09e5,0x3eb6a3fa }, /* 251:  3.7312236e-01  3.5671979e-01 */
+    { 0xbeb0a264,0xbea9f1f2 }, /* 252: -3.4498894e-01 -3.3192402e-01 */
+    { 0x3f2dce19,0x3f174008 }, /* 253:  6.7892605e-01  5.9082079e-01 */
+    { 0x3f3a4dd3,0x3f1f26df }, /* 254:  7.2775000e-01  6.2168688e-01 */
+    { 0x3f0db45c,0x3f00cf56 }, /* 255:  5.5353332e-01  5.0316370e-01 */
+    { 0xbf750d6d,0xbf3e37f8 }, /* 256: -9.5723611e-01 -7.4304152e-01 */
+    { 0x3f0832f8,0x3ef94ed5 }, /* 257:  5.3202772e-01  4.8692957e-01 */
+    { 0xbed3a153,0xbec85925 }, /* 258: -4.1334018e-01 -3.9130512e-01 */
+    { 0xbf0560fd,0xbef4fb57 }, /* 259: -5.2101117e-01 -4.7848007e-01 */
+    { 0x5082cfda,0x3f800000 }, /* 260:  1.7557279e+10  1.0000000e+00 */
+    { 0xbed58171,0xbec9ef29 }, /* 261: -4.1700318e-01 -3.9440277e-01 */
+    { 0x3f28eab2,0x3f140843 }, /* 262:  6.5983117e-01  5.7825106e-01 */
+    { 0x3f59cce6,0x3f3104b7 }, /* 263:  8.5078275e-01  6.9147819e-01 */
+    { 0x3f445235,0x3f252602 }, /* 264:  7.6687938e-01  6.4511120e-01 */
+    { 0xbf0677ac,0xbef6a83a }, /* 265: -5.2526355e-01 -4.8175222e-01 */
+    { 0xbf9ee528,0xbf588953 }, /* 266: -1.2413683e+00 -8.4584540e-01 */
+    { 0xbfbc5f78,0xbf665f79 }, /* 267: -1.4716635e+00 -8.9989430e-01 */
+    { 0xbef966b4,0xbee76231 }, /* 268: -4.8711169e-01 -4.5192102e-01 */
+    { 0x3f3190a8,0x3f19ad28 }, /* 269:  6.9361353e-01  6.0029840e-01 */
+    { 0xbed9e863,0xbecda391 }, /* 270: -4.2560109e-01 -4.0163854e-01 */
+    { 0x3fa64515,0x3f5c88b8 }, /* 271:  1.2989832e+00  8.6146116e-01 */
+    { 0xbef370a7,0xbee29d71 }, /* 272: -4.7546884e-01 -4.4260743e-01 */
+    { 0xbecb738c,0xbec160f7 }, /* 273: -3.9736593e-01 -3.7769291e-01 */
+    { 0x3efa8d84,0x3ee84c8e }, /* 274:  4.8936093e-01  4.5370907e-01 */
+    { 0xbdde3631,0xbddd5801 }, /* 275: -1.0850180e-01 -1.0807801e-01 */
+    { 0xbf544b8c,0xbf2e1a3f }, /* 276: -8.2927775e-01 -6.8008798e-01 */
+    { 0x3ea06db2,0x3e9b6063 }, /* 277:  3.1333691e-01  3.0346975e-01 */
+    { 0xbf3900be,0xbf1e59e1 }, /* 278: -7.2266757e-01 -6.1855894e-01 */
+    { 0x3ea50ba4,0x3e9f8e87 }, /* 279:  3.2235444e-01  3.1163427e-01 */
+    { 0xc4deb5a1,0xbf800000 }, /* 280: -1.7816759e+03 -1.0000000e+00 */
+    { 0x3f0d593e,0x3f008b3d }, /* 281:  5.5214298e-01  5.0212461e-01 */
+    { 0xc055f774,0xbf7f5caa }, /* 282: -3.3432283e+00 -9.9750769e-01 */
+    { 0xbf3af6c7,0xbf1f8e5c }, /* 283: -7.3032802e-01 -6.2326598e-01 */
+    { 0x3f32ed00,0x3f1a8b42 }, /* 284:  6.9892883e-01  6.0368741e-01 */
+    { 0xbfcd5c55,0xbf6c1d82 }, /* 285: -1.6043802e+00 -9.2232525e-01 */
+    { 0x3e5ebc19,0x3e5b498b }, /* 286:  2.1751441e-01  2.1414773e-01 */
+    { 0x3e9fa369,0x3e9aa8a5 }, /* 287:  3.1179360e-01  3.0206791e-01 */
+    { 0x3e7fd571,0x3e7aa3f3 }, /* 288:  2.4983765e-01  2.4476604e-01 */
+    { 0x3f028b72,0x3ef0968f }, /* 289:  5.0994027e-01  4.6989867e-01 */
+    { 0xbf52462d,0xbf2d02ad }, /* 290: -8.2138330e-01 -6.7582208e-01 */
+    { 0xbf07ff6f,0xbef9002b }, /* 291: -5.3124136e-01 -4.8632941e-01 */
+    { 0x3f1ffcff,0x3f0df82b }, /* 292:  6.2495416e-01  5.5456799e-01 */
+    { 0x3f05f70c,0x3ef5e27e }, /* 293:  5.2330089e-01  4.8024362e-01 */
+    { 0x3eeeafa7,0x3edec6d8 }, /* 294:  4.6618387e-01  4.3511081e-01 */
+    { 0xbebc2efa,0xbeb424cd }, /* 295: -3.6754590e-01 -3.5184327e-01 */
+    { 0x3f0bf929,0x3eff066f }, /* 296:  5.4677063e-01  4.9809596e-01 */
+    { 0x3f0c2f05,0x3eff5765 }, /* 297:  5.4759246e-01  4.9871364e-01 */
+    { 0xc0234c1f,0xbf7ce821 }, /* 298: -2.5515211e+00 -9.8791701e-01 */
+    { 0xbf5b8f14,0xbf31ee88 }, /* 299: -8.5765195e-01 -6.9504595e-01 */
+    { 0x3ed123d9,0x3ec63c40 }, /* 300:  4.0847662e-01  3.8717842e-01 */
+    { 0x3f0f59b9,0x3f020900 }, /* 301:  5.5996281e-01  5.0794983e-01 */
+    { 0x3f864258,0x3f480867 }, /* 302:  1.0488997e+00  7.8137821e-01 */
+    { 0xbf703864,0xbf3c0619 }, /* 303: -9.3836045e-01 -7.3446804e-01 */
+    { 0x3f3123fa,0x3f196792 }, /* 304:  6.9195521e-01  5.9923661e-01 */
+    { 0xbe3c69c6,0xbe3a50ba }, /* 305: -1.8399724e-01 -1.8194857e-01 */
+    { 0x3dcfb571,0x3dceffe0 }, /* 306:  1.0142029e-01  1.0107398e-01 */
+    { 0xbf6190d0,0xbf34fc81 }, /* 307: -8.8111591e-01 -7.0697790e-01 */
+    { 0xbef5a020,0xbee45e76 }, /* 308: -4.7973728e-01 -4.4603318e-01 */
+    { 0xbed4490f,0xbec8e71f }, /* 309: -4.1461989e-01 -3.9238831e-01 */
+    { 0xbef2ea91,0xbee23193 }, /* 310: -4.7444585e-01 -4.4178447e-01 */
+    { 0xbfb33752,0xbf62a830 }, /* 311: -1.4001257e+00 -8.8537884e-01 */
+    { 0x3efb1027,0x3ee8b441 }, /* 312:  4.9035761e-01  4.5450023e-01 */
+    { 0x3eca559d,0x3ec06b9e }, /* 313:  3.9518443e-01  3.7582105e-01 */
+    { 0xbe698939,0xbe6591d1 }, /* 314: -2.2806253e-01 -2.2418906e-01 */
+    { 0x3ef64aed,0x3ee4e734 }, /* 315:  4.8104039e-01  4.4707644e-01 */
+    { 0x3fc6466b,0x3f69e348 }, /* 316:  1.5490240e+00  9.1362429e-01 */
+    { 0xbf424cc3,0xbf23f65e }, /* 317: -7.5898379e-01 -6.4047801e-01 */
+    { 0x3edc9b94,0x3ecfe607 }, /* 318:  4.3087447e-01  4.0605184e-01 */
+    { 0xbd0cb36f,0xbd0ca546 }, /* 319: -3.4350809e-02 -3.4337305e-02 */
+    { 0x3eda54c1,0x3ecdfe6c }, /* 320:  4.2642787e-01  4.0233171e-01 */
+    { 0xbf621b4f,0xbf3541ad }, /* 321: -8.8322920e-01 -7.0803338e-01 */
+    { 0xbee2efe2,0xbed5285b }, /* 322: -4.4323641e-01 -4.1632351e-01 */
+    { 0x3ecba845,0x3ec18e28 }, /* 323:  3.9776817e-01  3.7803769e-01 */
+    { 0xbe66719f,0xbe62a17f }, /* 324: -2.2504281e-01 -2.2131918e-01 */
+    { 0xbf26c2da,0xbf129727 }, /* 325: -6.5141070e-01 -5.7261890e-01 */
+    { 0x3ef025c8,0x3edff5c4 }, /* 326:  4.6903825e-01  4.3742192e-01 */
+    { 0x3ef2c0dc,0x3ee21001 }, /* 327:  4.7412765e-01  4.4152835e-01 */
+    { 0x3e05dab7,0x3e0518de }, /* 328:  1.3071714e-01  1.2997767e-01 */
+    { 0x3eba27c3,0x3eb25d3b }, /* 329:  3.6358461e-01  3.4836754e-01 */
+    { 0x3ff9f4f5,0x3f75e5ab }, /* 330:  1.9527880e+00  9.6053571e-01 */
+    { 0x41abefa6,0x3f800000 }, /* 331:  2.1492016e+01  1.0000000e+00 */
+    { 0xbe996594,0xbe94f750 }, /* 332: -2.9960310e-01 -2.9094934e-01 */
+    { 0x3ef27c12,0x3ee1d89c }, /* 333:  4.7360283e-01  4.4110572e-01 */
+    { 0x3f3d1bb7,0x3f20dc4e }, /* 334:  7.3870414e-01  6.2836158e-01 */
+    { 0x3edcf13a,0x3ed02d89 }, /* 335:  4.3152791e-01  4.0659741e-01 */
+    { 0x3f47cc12,0x3f2728ff }, /* 336:  7.8045762e-01  6.5296930e-01 */
+    { 0xbf30caa3,0xbf192e43 }, /* 337: -6.9059199e-01 -5.9836215e-01 */
+    { 0x3f09ce5f,0x3efbc0a1 }, /* 338:  5.3830522e-01  4.9170402e-01 */
+    { 0x3eb020db,0x3ea97ea5 }, /* 339:  3.4400067e-01  3.3104435e-01 */
+    { 0xbf24055b,0xbf10bcc8 }, /* 340: -6.4070672e-01 -5.6538057e-01 */
+    { 0xa92f441e,0xa92f441e }, /* 341: -3.8916888e-14 -3.8916888e-14 */
+    { 0xbef2ad13,0xbee20013 }, /* 342: -4.7397670e-01 -4.4140682e-01 */
+    { 0x3e84753f,0x3e819475 }, /* 343:  2.5870702e-01  2.5308576e-01 */
+    { 0xbb7ac22b,0xbb7ac1db }, /* 344: -3.8262706e-03 -3.8262520e-03 */
+    { 0x3ed01410,0x3ec55506 }, /* 345:  4.0640306e-01  3.8541430e-01 */
+    { 0x3f7776b5,0x3f3f4a83 }, /* 346:  9.6665508e-01  7.4723071e-01 */
+    { 0x3e54a87c,0x3e51a71c }, /* 347:  2.0767397e-01  2.0473903e-01 */
+    { 0xbf322222,0xbf1a0a15 }, /* 348: -6.9583333e-01 -6.0171634e-01 */
+    { 0x3f09a45e,0x3efb80e9 }, /* 349:  5.3766429e-01  4.9121788e-01 */
+    { 0xbef3da4b,0xbee2f25b }, /* 350: -4.7627482e-01 -4.4325528e-01 */
+    { 0xbeca76f9,0xbec08843 }, /* 351: -3.9543894e-01 -3.7603959e-01 */
+    { 0xc37b3956,0xbf800000 }, /* 352: -2.5122397e+02 -1.0000000e+00 */
+    { 0xbed9ea60,0xbecda53c }, /* 353: -4.2561626e-01 -4.0165126e-01 */
+    { 0xc0f87e4c,0xbf7ffffa }, /* 354: -7.7654171e+00 -9.9999964e-01 */
+    { 0xbef1cf3f,0xbee14d55 }, /* 355: -4.7228429e-01 -4.4004312e-01 */
+    { 0x3dfc7356,0x3dfb2dfb }, /* 356:  1.2326686e-01  1.2264629e-01 */
+    { 0x42283557,0x3f800000 }, /* 357:  4.2052090e+01  1.0000000e+00 */
+    { 0xbdf42fe4,0xbdf30956 }, /* 358: -1.1923197e-01 -1.1867015e-01 */
+    { 0xc2e38c3a,0xbf800000 }, /* 359: -1.1377388e+02 -1.0000000e+00 */
+    { 0x40790bb1,0x3f7fc961 }, /* 360:  3.8913386e+00  9.9916655e-01 */
+    { 0xbef1499f,0xbee0e189 }, /* 361: -4.7126481e-01 -4.3922070e-01 */
+    { 0x3ecebd3f,0x3ec430d6 }, /* 362:  4.0378758e-01  3.8318509e-01 */
+    { 0x3eefa0e8,0x3edf8a44 }, /* 363:  4.6802449e-01  4.3660176e-01 */
+    { 0xbf08fb6e,0xbefa803d }, /* 364: -5.3508651e-01 -4.8925963e-01 */
+    { 0x3f42f55c,0x3f2459a4 }, /* 365:  7.6155639e-01  6.4199281e-01 */
+    { 0x3f303f9c,0x3f18d4e6 }, /* 366:  6.8847060e-01  5.9699857e-01 */
+    { 0xbf0cd1c6,0xbf0025d2 }, /* 367: -5.5007589e-01 -5.0057709e-01 */
+    { 0xbef7b477,0xbee6081f }, /* 368: -4.8379871e-01 -4.4928071e-01 */
+    { 0x3e148673,0x3e137e0a }, /* 369:  1.4504413e-01  1.4403549e-01 */
+    { 0x3f3313a6,0x3f1aa3d0 }, /* 370:  6.9951856e-01  6.0406208e-01 */
+    { 0xc02dd35a,0xbf7dc52c }, /* 371: -2.7160249e+00 -9.9128985e-01 */
+    { 0x3ff601a6,0x3f754472 }, /* 372:  1.9219253e+00  9.5807564e-01 */
+    { 0x3f666678,0x3f375f55 }, /* 373:  9.0000105e-01  7.1629840e-01 */
+    { 0x3ef36522,0x3ee2942e }, /* 374:  4.7538096e-01  4.4253677e-01 */
+    { 0x3edf69b0,0x3ed23c66 }, /* 375:  4.3635321e-01  4.1061705e-01 */
+    { 0x3df3a65c,0x3df281bd }, /* 376:  1.1896965e-01  1.1841152e-01 */
+    { 0x3ef167fa,0x3ee0fa08 }, /* 377:  4.7149640e-01  4.3940759e-01 */
+    { 0x3ed14cc6,0x3ec65f0a }, /* 378:  4.0878886e-01  3.8744384e-01 */
+    { 0x3ea019f0,0x3e9b1454 }, /* 379:  3.1269789e-01  3.0288947e-01 */
+    { 0xbef4db9c,0xbee3c0f0 }, /* 380: -4.7823799e-01 -4.4483137e-01 */
+    { 0x3da00547,0x3d9fb21d }, /* 381:  7.8135066e-02  7.7976443e-02 */
+    { 0x3f4dbcea,0x3f2a8439 }, /* 382:  8.0366385e-01  6.6608006e-01 */
+    { 0xbf26900c,0xbf1274fd }, /* 383: -6.5063548e-01 -5.7209760e-01 */
+    { 0xbef686e3,0xbee5172b }, /* 384: -4.8149785e-01 -4.4744238e-01 */
+    { 0xbf0b548e,0xbefe0e97 }, /* 385: -5.4425895e-01 -4.9620506e-01 */
+    { 0xbef3a857,0xbee2ca36 }, /* 386: -4.7589371e-01 -4.4294900e-01 */
+    { 0x3f695162,0x3f38c80e }, /* 387:  9.1139805e-01  7.2180259e-01 */
+    { 0x40ff6b39,0x3f7ffffc }, /* 388:  7.9818387e+00  9.9999976e-01 */
+    { 0x3ed1c0a5,0x3ec6c17b }, /* 389:  4.0967289e-01  3.8819489e-01 */
+    { 0x3f2ba88d,0x3f15d88a }, /* 390:  6.7054063e-01  5.8533537e-01 */
+    { 0x3e9f90d4,0x3e9a97c2 }, /* 391:  3.1165183e-01  3.0193907e-01 */
+    { 0x3f0c6c44,0x3effb361 }, /* 392:  5.4852700e-01  4.9941543e-01 */
+    { 0xbf3ab3a3,0xbf1f6546 }, /* 393: -7.2930354e-01 -6.2263906e-01 */
+    { 0xbeb52b22,0xbeadf7c0 }, /* 394: -3.5384470e-01 -3.3978081e-01 */
+    { 0x3f325326,0x3f1a2957 }, /* 395:  6.9658124e-01  6.0219330e-01 */
+    { 0xbf0d8523,0xbf00ac0e }, /* 396: -5.5281276e-01 -5.0262535e-01 */
+    { 0xbebf2037,0xbeb6b774 }, /* 397: -3.7329265e-01 -3.5686839e-01 */
+    { 0xbecb4f02,0xbec141a2 }, /* 398: -3.9708716e-01 -3.7745386e-01 */
+    { 0x3fb3e735,0x3f62f3d9 }, /* 399:  1.4054934e+00  8.8653332e-01 */
+    { 0x3ef906c2,0x3ee715d1 }, /* 400:  4.8637968e-01  4.5133832e-01 */
+    { 0x3ebe7493,0x3eb6219b }, /* 401:  3.7198314e-01  3.5572514e-01 */
+    { 0xbfdff6a2,0xbf70fbdb }, /* 402: -1.7497141e+00 -9.4134301e-01 */
+    { 0x46e4b6dc,0x3f800000 }, /* 403:  2.9275430e+04  1.0000000e+00 */
+    { 0x3f07739d,0x3ef82a72 }, /* 404:  5.2910787e-01  4.8469883e-01 */
+    { 0xbf3a6634,0xbf1f35d3 }, /* 405: -7.2812200e-01 -6.2191504e-01 */
+    { 0x3f264672,0x3f124372 }, /* 406:  6.4951241e-01  5.7134163e-01 */
+    { 0xc62d4fef,0xbf800000 }, /* 407: -1.1091983e+04 -1.0000000e+00 */
+    { 0x3f486be4,0x3f278487 }, /* 408:  7.8289628e-01  6.5436596e-01 */
+    { 0x3df07e4b,0x3def64db }, /* 409:  1.1742838e-01  1.1689159e-01 */
+    { 0xbea39f8f,0xbe9e4585 }, /* 410: -3.1957671e-01 -3.0912414e-01 */
+    { 0x3f2d4548,0x3f16e6dd }, /* 411:  6.7683840e-01  5.8946019e-01 */
+    { 0x3ef0f088,0x3ee0999c }, /* 412:  4.7058511e-01  4.3867195e-01 */
+    { 0x3ec967d4,0x3ebf9f47 }, /* 413:  3.9337027e-01  3.7426206e-01 */
+    { 0xbe9d1e85,0xbe985dbb }, /* 414: -3.0687347e-01 -2.9759011e-01 */
+    { 0x3f2ab61a,0x3f1538d0 }, /* 415:  6.6684115e-01  5.8289814e-01 */
+    { 0x3ebc494f,0x3eb43bdf }, /* 416:  3.6774680e-01  3.5201928e-01 */
+    { 0xbf0defb8,0xbf00fba5 }, /* 417: -5.5443907e-01 -5.0383979e-01 */
+    { 0xbee1371f,0xbed3bb7a }, /* 418: -4.3987367e-01 -4.1353971e-01 */
+    { 0xbec1a3a3,0xbeb8e7f3 }, /* 419: -3.7820157e-01 -3.6114463e-01 */
+    { 0xbf06fa73,0xbef770e2 }, /* 420: -5.2725905e-01 -4.8328310e-01 */
+    { 0xbf0e3f9a,0xbf013737 }, /* 421: -5.5565798e-01 -5.0474876e-01 */
+    { 0xbe9e96a1,0xbe99b43d }, /* 422: -3.0974296e-01 -3.0020323e-01 */
+    { 0x3e6e91ba,0x3e6a5834 }, /* 423:  2.3297778e-01  2.2885209e-01 */
+    { 0xbef397f5,0xbee2bd0b }, /* 424: -4.7576872e-01 -4.4284853e-01 */
+    { 0xbef2f798,0xbee23c0f }, /* 425: -4.7454524e-01 -4.4186446e-01 */
+    { 0x3f3013a5,0x3f18b898 }, /* 426:  6.8779975e-01  5.9656668e-01 */
+    { 0x3ef4e5e6,0x3ee3c930 }, /* 427:  4.7831649e-01  4.4489431e-01 */
+    { 0xbed4e16c,0xbec967f8 }, /* 428: -4.1578233e-01 -3.9337134e-01 */
+    { 0xbf2614a6,0xbf1221e4 }, /* 429: -6.4875257e-01 -5.7082963e-01 */
+    { 0x3ef635f2,0x3ee4d66a }, /* 430:  4.8088032e-01  4.4694835e-01 */
+    { 0x3ff9574a,0x3f75cd28 }, /* 431:  1.9479764e+00  9.6016169e-01 */
+    { 0xbef23a6f,0xbee1a3bc }, /* 432: -4.7310206e-01 -4.4070232e-01 */
+    { 0xbf33ded5,0xbf1b249e }, /* 433: -7.0261890e-01 -6.0602748e-01 */
+    { 0xbf464b24,0xbf264b57 }, /* 434: -7.7458405e-01 -6.4958709e-01 */
+    { 0xbf148125,0xbf05d1f4 }, /* 435: -5.8009559e-01 -5.2273488e-01 */
+    { 0xbed31829,0xbec7e4ef }, /* 436: -4.1229370e-01 -3.9041850e-01 */
+    { 0x3ef37236,0x3ee29eb2 }, /* 437:  4.7548074e-01  4.4261700e-01 */
+    { 0xbec98fbe,0xbebfc199 }, /* 438: -3.9367479e-01 -3.7452391e-01 */
+    { 0xbec8ebcb,0xbebf3494 }, /* 439: -3.9242396e-01 -3.7344801e-01 */
+    { 0x3ef0fa08,0x3ee0a148 }, /* 440:  4.7065759e-01  4.3873048e-01 */
+    { 0x3e2793db,0x3e2618f1 }, /* 441:  1.6364996e-01  1.6220452e-01 */
+    { 0xbf0d9972,0xbf00bb3b }, /* 442: -5.5312264e-01 -5.0285691e-01 */
+    { 0xbe943850,0xbe9036b2 }, /* 443: -2.8949213e-01 -2.8166729e-01 */
+    { 0xbed68487,0xbecac9c6 }, /* 444: -4.1897985e-01 -3.9607066e-01 */
+    { 0xbecc7ef0,0xbec24608 }, /* 445: -3.9940596e-01 -3.7944055e-01 */
+    { 0x3ffec6a6,0x3f769dd3 }, /* 446:  1.9904373e+00  9.6334571e-01 */
+    { 0x3ec497b6,0x3ebb7809 }, /* 447:  3.8396996e-01  3.6615017e-01 */
+    { 0xbf3d28a2,0xbf20e41f }, /* 448: -7.3890126e-01 -6.2848085e-01 */
+    { 0x3e6654de,0x3e628626 }, /* 449:  2.2493312e-01  2.2121486e-01 */
+    { 0x3e3ac549,0x3e38ba0a }, /* 450:  1.8239321e-01  1.8039718e-01 */
+    { 0xbf43721a,0xbf24a2e1 }, /* 451: -7.6345980e-01 -6.4311033e-01 */
+    { 0x3f0bc1d7,0x3efeb335 }, /* 452:  5.4592651e-01  4.9746099e-01 */
+    { 0xbf3b0b76,0xbf1f9b02 }, /* 453: -7.3064363e-01 -6.2345898e-01 */
+    { 0x405a8f59,0x3f7f727c }, /* 454:  3.4149992e+00  9.9784064e-01 */
+    { 0x3f27b25e,0x3f1337cb }, /* 455:  6.5506542e-01  5.7507008e-01 */
+    { 0xbef28355,0xbee1de76 }, /* 456: -4.7365823e-01 -4.4115037e-01 */
+    { 0x3edb47c7,0x3ecec9f5 }, /* 457:  4.2828199e-01  4.0388456e-01 */
+    { 0xbf0eef0e,0xbf01b9ca }, /* 458: -5.5833519e-01 -5.0674117e-01 */
+    { 0x3ebbc499,0x3eb3c791 }, /* 459:  3.6673430e-01  3.5113195e-01 */
+    { 0x3ef253ac,0x3ee1b812 }, /* 460:  4.7329462e-01  4.4085747e-01 */
+    { 0x3f2ed3de,0x3f17ea06 }, /* 461:  6.8292034e-01  5.9341466e-01 */
+    { 0xbebae31a,0xbeb301c1 }, /* 462: -3.6501390e-01 -3.4962276e-01 */
+    { 0x3f0daade,0x3f00c83f }, /* 463:  5.5338848e-01  5.0305551e-01 */
+    { 0x393b96c7,0x393b96c7 }, /* 464:  1.7889879e-04  1.7889879e-04 */
+    { 0x3f0f8c42,0x3f022e7b }, /* 465:  5.6073391e-01  5.0852174e-01 */
+    { 0xbf09f25b,0xbefbf72f }, /* 466: -5.3885430e-01 -4.9212024e-01 */
+    { 0x3eb8cc5c,0x3eb12bb5 }, /* 467:  3.6093414e-01  3.4603658e-01 */
+    { 0xbf12ccaa,0xbf0493a4 }, /* 468: -5.7343543e-01 -5.1787782e-01 */
+    { 0xbf3383e4,0xbf1aeb07 }, /* 469: -7.0123124e-01 -6.0514873e-01 */
+    { 0x3e96e927,0x3e92aff1 }, /* 470:  2.9474756e-01  2.8649858e-01 */
+    { 0x3ef20f92,0x3ee18131 }, /* 471:  4.7277504e-01  4.4043878e-01 */
+    { 0x3ef3ee55,0x3ee30275 }, /* 472:  4.7642770e-01  4.4337812e-01 */
+    { 0xbeca6b41,0xbec07e33 }, /* 473: -3.9534953e-01 -3.7596282e-01 */
+    { 0xbf0cc5b1,0xbf001cc4 }, /* 474: -5.4989153e-01 -5.0043893e-01 */
+    { 0xbedb1785,0xbecea190 }, /* 475: -4.2791381e-01 -4.0357637e-01 */
+    { 0x3f50df06,0x3f2c3ed6 }, /* 476:  8.1590307e-01  6.7283380e-01 */
+    { 0x3f22555c,0x3f0f95c7 }, /* 477:  6.3411498e-01  5.6087917e-01 */
+    { 0xbcfe2b24,0xbcfe1645 }, /* 478: -3.1026430e-02 -3.1016478e-02 */
+    { 0xbf4a5c1c,0xbf289edd }, /* 479: -7.9046798e-01 -6.5867406e-01 */
+    { 0xbf101e59,0xbf029aac }, /* 480: -5.6296307e-01 -5.1017261e-01 */
+    { 0xbf0be01c,0xbefee0c1 }, /* 481: -5.4638839e-01 -4.9780849e-01 */
+    { 0x3ef707fa,0x3ee57e5e }, /* 482:  4.8248273e-01  4.4822973e-01 */
+    { 0x3edc86e0,0x3ecfd4bd }, /* 483:  4.3071651e-01  4.0591994e-01 */
+    { 0x3ef60385,0x3ee4ae0e }, /* 484:  4.8049560e-01  4.4664043e-01 */
+    { 0x3f070403,0x3ef77f8a }, /* 485:  5.2740496e-01  4.8339492e-01 */
+    { 0xbf095f1c,0xbefb17c4 }, /* 486: -5.3660750e-01 -4.9041569e-01 */
+    { 0xbef1ec5d,0xbee164cf }, /* 487: -4.7250643e-01 -4.4022223e-01 */
+    { 0x5a14fb97,0x3f800000 }, /* 488:  1.0483731e+16  1.0000000e+00 */
+    { 0xbf295b67,0xbf145335 }, /* 489: -6.6155094e-01 -5.7939464e-01 */
+    { 0x3f2c5737,0x3f164b2f }, /* 490:  6.7320579e-01  5.8708471e-01 */
+    { 0xbed7409e,0xbecb6845 }, /* 491: -4.2041487e-01 -3.9727989e-01 */
+    { 0x3ef1be44,0x3ee13fa4 }, /* 492:  4.7215474e-01  4.3993866e-01 */
+    { 0xbef1197a,0xbee0baac }, /* 493: -4.7089750e-01 -4.3892419e-01 */
+    { 0xc217d302,0xbf800000 }, /* 494: -3.7956062e+01 -1.0000000e+00 */
+    { 0x405f2d8b,0x3f7f857b }, /* 495:  3.4871547e+00  9.9813050e-01 */
+    { 0xbf31992b,0xbf19b299 }, /* 496: -6.9374341e-01 -6.0038143e-01 */
+    { 0xbef2b1fc,0xbee20407 }, /* 497: -4.7401416e-01 -4.4143698e-01 */
+    { 0xbeccab47,0xbec26bfc }, /* 498: -3.9974424e-01 -3.7973011e-01 */
+    { 0x3ef20330,0x3ee17736 }, /* 499:  4.7268057e-01  4.4036263e-01 */
+    { 0xbef28e86,0xbee1e779 }, /* 500: -4.7374362e-01 -4.4121912e-01 */
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]:  %#lx\n", index - 1, v.lo);
+#endif
+    exit (index ? index : -1);
+}
+
+int main ()
+{
+    union lofl_u x, z;
+    unsigned long v1, z1, r;
+    int i;
+    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	x.lo = pgm_read_dword (& t[i].x);
+	z.lo = pgm_read_dword (& t[i].z);
+	v.fl = tanh (x.fl);
+	
+	v1 = (v.lo < 0) ? (unsigned long)~(v.lo) : v.lo + 0x80000000;
+	z1 = (z.lo < 0) ? (unsigned long)~(z.lo) : z.lo + 0x80000000;
+	r = (v1 >= z1) ? v1 - z1 : z1 - v1;
+	
+	if (r > 4) x_exit (i+1);
+    }
+    return 0;
+}
diff --git a/tests/simulate/math/trunc-01.c b/tests/simulate/math/trunc-01.c
new file mode 100644
index 0000000..fd67d22
--- /dev/null
+++ b/tests/simulate/math/trunc-01.c
@@ -0,0 +1,186 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of trunc() function.
+   $Id$
+ */
+#include <math.h>
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+volatile union lofl_u v = { .lo = 1 };
+
+PROGMEM const struct {		/* Table of test cases.	*/
+    union lofl_u x;		/* argument	*/
+    union lofl_u z;		/* trunc(x)	*/
+} t[] = {
+
+    /* Zero	*/
+    { { .fl= +0.0 },	{ .fl= +0.0 }	},
+    { { .fl= -0.0 },	{ .fl= -0.0 }	},
+
+    /* Normal	*/
+    { { .fl= 0.1 },		{ .fl= 0.0 }	},
+    { { .fl= 1.9 },		{ .fl= 1.0 }	},
+    { { .fl= 1000000.5 },	{ .fl= 1000000.0 } },
+    { { .fl= -0.1 },		{ .fl= -0.0 }	},
+    { { .fl= -1.9 },		{ .fl= -1.0 }	},
+    { { .fl= -1000000.5 },	{ .fl= -1000000.0 } },
+
+    /* Inf	*/
+    { { 0x7f800000 },	{ 0x7f800000 } },
+    { { 0xff800000 },	{ 0xff800000 } },
+    
+    /* Subnormal	*/
+    { { 0x00000001 }, { 0x00000000 } },
+    { { 0x00000100 }, { 0x00000000 } },
+    { { 0x00010000 }, { 0x00000000 } },
+    { { 0x007fffff }, { 0x00000000 } },
+    { { 0x80000001 }, { .fl= -0.0 } },
+    { { 0x80000100 }, { .fl= -0.0 } },
+    { { 0x80010000 }, { .fl= -0.0 } },
+    { { 0x807fffff }, { .fl= -0.0 } },
+    
+    /* Margin values	*/
+    { { 0x3f7fffff }, { .fl= 0.0 } },
+    { { 0x3f800000 }, { .fl= 1.0 } },
+    { { 0x3f800001 }, { .fl= 1.0 } },
+    { { 0x3fffffff }, { .fl= 1.0 } },
+    { { 0x40000000 }, { .fl= 2.0 } },
+    { { 0x40000001 }, { .fl= 2.0 } },
+    { { 0x403fffff }, { .fl= 2.0 } },
+    { { .fl= 0x0.ffffffp+23 }, { .fl= 0x0.fffffep+23 } },
+    { { .fl= 0x1.000000p+23 }, { .fl= 0x1.000000p+23 } },
+    { { 0x7f7fffff }, { 0x7f7fffff } },
+
+    { { 0xbf7fffff }, { .fl= -0.0 } },
+    { { 0xbf800000 }, { .fl= -1.0 } },
+    { { 0xbf800001 }, { .fl= -1.0 } },
+    { { 0xbfffffff }, { .fl= -1.0 } },
+    { { 0xc0000000 }, { .fl= -2.0 } },
+    { { 0xc0000001 }, { .fl= -2.0 } },
+    { { 0xc03fffff }, { .fl= -2.0 } },
+    { { .fl= -0x0.ffffffp+23 }, { .fl= -0x0.fffffep+23 } },
+    { { .fl= -0x1.000000p+23 }, { .fl= -0x1.000000p+23 } },
+    { { 0xff7fffff }, { 0xff7fffff } },
+    
+    /* All possible shifts	*/
+    { { .fl= 0x0.ffffffp+00 }, { .fl= 0x0p+00 } },
+    { { .fl= 0x0.ffffffp+01 }, { .fl= 0x1p+00 } },
+    { { .fl= 0x0.ffffffp+02 }, { .fl= 0x3p+00 } },
+    { { .fl= 0x0.ffffffp+03 }, { .fl= 0x7p+00 } },
+    { { .fl= 0x0.ffffffp+04 }, { .fl= 0xfp+00 } },
+    { { .fl= 0x0.ffffffp+05 }, { .fl= 0x1fp+00 } },
+    { { .fl= 0x0.ffffffp+06 }, { .fl= 0x3fp+00 } },
+    { { .fl= 0x0.ffffffp+07 }, { .fl= 0x7fp+00 } },
+    { { .fl= 0x0.ffffffp+08 }, { .fl= 0xffp+00 } },
+    { { .fl= 0x0.ffffffp+09 }, { .fl= 0x1ffp+00 } },
+    { { .fl= 0x0.ffffffp+10 }, { .fl= 0x3ffp+00 } },
+    { { .fl= 0x0.ffffffp+11 }, { .fl= 0x7ffp+00 } },
+    { { .fl= 0x0.ffffffp+12 }, { .fl= 0xfffp+00 } },
+    { { .fl= 0x0.ffffffp+13 }, { .fl= 0x1fffp+00 } },
+    { { .fl= 0x0.ffffffp+14 }, { .fl= 0x3fffp+00 } },
+    { { .fl= 0x0.ffffffp+15 }, { .fl= 0x7fffp+00 } },
+    { { .fl= 0x0.ffffffp+16 }, { .fl= 0xffffp+00 } },
+    { { .fl= 0x0.ffffffp+17 }, { .fl= 0x1ffffp+00 } },
+    { { .fl= 0x0.ffffffp+18 }, { .fl= 0x3ffffp+00 } },
+    { { .fl= 0x0.ffffffp+19 }, { .fl= 0x7ffffp+00 } },
+    { { .fl= 0x0.ffffffp+20 }, { .fl= 0xfffffp+00 } },
+    { { .fl= 0x0.ffffffp+21 }, { .fl= 0x1fffffp+00 } },
+    { { .fl= 0x0.ffffffp+22 }, { .fl= 0x3fffffp+00 } },
+    { { .fl= 0x0.ffffffp+23 }, { .fl= 0x7fffffp+00 } },
+    { { .fl= 0x0.ffffffp+24 }, { .fl= 0xffffffp+00 } },
+    { { .fl= 0x0.ffffffp+25 }, { .fl= 0xffffffp+01 } },
+    { { .fl= 0x0.ffffffp+26 }, { .fl= 0xffffffp+02 } },
+    { { .fl= 0x0.ffffffp+27 }, { .fl= 0xffffffp+03 } },
+    { { .fl= 0x0.ffffffp+28 }, { .fl= 0xffffffp+04 } },
+    { { .fl= 0x0.ffffffp+29 }, { .fl= 0xffffffp+05 } },
+
+    /* All possible shifts, negative value	*/
+    { { .fl= -0x0.ffffffp+00 }, { .fl= -0x0p+00 } },
+    { { .fl= -0x0.ffffffp+01 }, { .fl= -0x1p+00 } },
+    { { .fl= -0x0.ffffffp+02 }, { .fl= -0x3p+00 } },
+    { { .fl= -0x0.ffffffp+03 }, { .fl= -0x7p+00 } },
+    { { .fl= -0x0.ffffffp+04 }, { .fl= -0xfp+00 } },
+    { { .fl= -0x0.ffffffp+05 }, { .fl= -0x1fp+00 } },
+    { { .fl= -0x0.ffffffp+06 }, { .fl= -0x3fp+00 } },
+    { { .fl= -0x0.ffffffp+07 }, { .fl= -0x7fp+00 } },
+    { { .fl= -0x0.ffffffp+08 }, { .fl= -0xffp+00 } },
+    { { .fl= -0x0.ffffffp+09 }, { .fl= -0x1ffp+00 } },
+    { { .fl= -0x0.ffffffp+10 }, { .fl= -0x3ffp+00 } },
+    { { .fl= -0x0.ffffffp+11 }, { .fl= -0x7ffp+00 } },
+    { { .fl= -0x0.ffffffp+12 }, { .fl= -0xfffp+00 } },
+    { { .fl= -0x0.ffffffp+13 }, { .fl= -0x1fffp+00 } },
+    { { .fl= -0x0.ffffffp+14 }, { .fl= -0x3fffp+00 } },
+    { { .fl= -0x0.ffffffp+15 }, { .fl= -0x7fffp+00 } },
+    { { .fl= -0x0.ffffffp+16 }, { .fl= -0xffffp+00 } },
+    { { .fl= -0x0.ffffffp+17 }, { .fl= -0x1ffffp+00 } },
+    { { .fl= -0x0.ffffffp+18 }, { .fl= -0x3ffffp+00 } },
+    { { .fl= -0x0.ffffffp+19 }, { .fl= -0x7ffffp+00 } },
+    { { .fl= -0x0.ffffffp+20 }, { .fl= -0xfffffp+00 } },
+    { { .fl= -0x0.ffffffp+21 }, { .fl= -0x1fffffp+00 } },
+    { { .fl= -0x0.ffffffp+22 }, { .fl= -0x3fffffp+00 } },
+    { { .fl= -0x0.ffffffp+23 }, { .fl= -0x7fffffp+00 } },
+    { { .fl= -0x0.ffffffp+24 }, { .fl= -0xffffffp+00 } },
+    { { .fl= -0x0.ffffffp+25 }, { .fl= -0xffffffp+01 } },
+    { { .fl= -0x0.ffffffp+26 }, { .fl= -0xffffffp+02 } },
+    { { .fl= -0x0.ffffffp+27 }, { .fl= -0xffffffp+03 } },
+    { { .fl= -0x0.ffffffp+28 }, { .fl= -0xffffffp+04 } },
+    { { .fl= -0x0.ffffffp+29 }, { .fl= -0xffffffp+05 } },
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]:  %#lx\n", index - 1, v.lo);
+#endif
+    exit (index ? index : -1);
+}
+
+int main ()
+{
+    union lofl_u x, z;
+    int i;
+    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	x.lo = pgm_read_dword (& t[i].x);
+	z.lo = pgm_read_dword (& t[i].z);
+	v.fl = trunc (x.fl);
+	/* Comparison is integer to verify the zero sign.	*/
+	if (v.lo != z.lo)
+	    x_exit (i+1);
+    }
+    return 0;
+}
diff --git a/tests/simulate/math/xxx-inf.c b/tests/simulate/math/xxx-inf.c
new file mode 100644
index 0000000..5ae3a4f
--- /dev/null
+++ b/tests/simulate/math/xxx-inf.c
@@ -0,0 +1,78 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of a set of functions: func(Inf) --> NaN
+   $Id$
+ */
+#include <math.h>
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+volatile union lofl_u v = { 1 };
+
+double (*tfun[]) (double) = {	/* Table of tested functions.	*/
+    asin,
+    cos,
+    sin,
+    tan,
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]:  %#lx\n", index - 1, v.lo);
+#endif
+    exit (index ? index : -1);
+}
+
+int main ()
+{
+    union lofl_u x;
+    int i;
+    
+    for (i = 0; i < (int) (sizeof(tfun) / sizeof(tfun[0])); i++) {
+	x.lo = 0x7f800000;		/* +Inf	*/
+	v.fl = (tfun[i]) (x.fl);
+	if (!isnan (v.fl)) {
+	    x_exit (i+1);
+	}
+	x.lo = 0xff800000;		/* -Inf	*/
+	v.fl = (tfun[i]) (x.fl);
+	if (!isnan (v.fl)) {
+	    x_exit (i+1);
+	}
+    }
+    return 0;
+}
diff --git a/tests/simulate/math/xxx-nan.c b/tests/simulate/math/xxx-nan.c
new file mode 100644
index 0000000..9a785e3
--- /dev/null
+++ b/tests/simulate/math/xxx-nan.c
@@ -0,0 +1,104 @@
+/* Copyright (c) 2007,2009  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of a set of functions: func(NaN) --> NaN
+   $Id$
+ */
+#include <math.h>
+#include <stdio.h>
+#include <stdlib.h>
+#include "progmem.h"
+
+/* Table of tested functions.	*/
+double (*tfun[]) (double) = {
+    acos,
+    asin,
+    atan,
+    cbrt,
+    ceil,
+    cos,
+    cosh,
+    exp,
+    floor,
+    log,
+    log10,
+    sin,
+    sinh,
+    sqrt,
+    tan,
+    tanh,
+    trunc,
+    round
+};
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+volatile union lofl_u v = { 1 };
+
+/* Table of test cases: NaNs	*/
+PROGMEM const union lofl_u tnan[] = {
+    { 0x7f800001 },
+    { 0x7f800100 },
+    { 0x7f810000 },
+    { 0x7fc00000 },
+    { 0x7fffffff },
+    { 0xff800001 },
+    { 0xff800100 },
+    { 0xff810000 },
+    { 0xffc00000 },
+    { 0xffffffff },
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]:  %#lx\n", index - 1, v.lo);
+#endif
+    exit (index ? index : -1);
+}
+
+int main ()
+{
+    union lofl_u x;
+    int f, n;
+    
+    for (f = 0; f < (int) (sizeof(tfun)/sizeof(tfun[0])); f++) {
+	for (n = 0; n < (int) (sizeof(tnan)/sizeof(tnan[0])); n++) {
+	    x.lo = pgm_read_dword (& tnan[n]);
+	    v.fl = (tfun[f]) (x.fl);
+	    if (!isnan (v.fl)) {
+		x_exit (f+1);
+	    }
+	}
+    }
+    return 0;
+}
diff --git a/tests/simulate/other/alloca.c b/tests/simulate/other/alloca.c
new file mode 100644
index 0000000..4035d59
--- /dev/null
+++ b/tests/simulate/other/alloca.c
@@ -0,0 +1,123 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* $Id$ */
+
+#include <alloca.h>
+#include <stdarg.h>
+#include <stdlib.h>
+#include <string.h>
+
+#define elemof(v)	(sizeof(v) / sizeof((v)[0]))
+
+/* A few of alloca() calls in the one function.	*/
+void test_few_alloca (void)
+{
+    unsigned char *p[10];
+    int i, n;
+
+    /* Allocate and fill each block with sizes: 1 .. elemof(p)	*/
+    for (n = 1; n < (int)elemof(p); n++) {
+	p[n-1] = alloca (n);
+	memset (p[n-1], n, n);
+    }
+
+    /* Check that there is no overlapping.	*/
+    for (n = 1; n < (int)elemof(p); n++) {
+	for (i = 0; i < n; i++)
+	    if (p[n-1][i] != n)
+		exit (__LINE__);
+    }
+}
+
+/* Variable size array and alloca() together.	*/
+void test_with_var_array (int n)
+{
+    unsigned char s[n];
+    unsigned char *p;
+    int i;
+
+    /* Fill variable size array.	*/
+    memset (s, 1, n);
+
+    /* Allocate and fill the second array.	*/
+    p = alloca (n);
+    memset (p, 2, n);
+    
+    /* Refill the first array.	*/
+    for (i = 0; i < n; i++) s[i] += 1;
+
+    /* Check both.	*/
+    if (memcmp (s, p, n))
+	exit (__LINE__);
+}
+
+/* Increment the each element of buf[].
+   The second argument is the number of elements.	*/
+void inc_array (unsigned char *buf, ...)
+{
+    va_list ap;
+    int n, i;
+    
+    va_start (ap, buf);
+    n = va_arg (ap, int);
+    va_end (ap);
+    
+    for (i = 0; i < n; i++) buf[i] += 1;
+}
+
+/* Check the compatibility with call of function, where arguments are
+   allocated in the stack.	*/
+void test_with_var_args (int n)
+{
+    unsigned char *p;
+    int i;
+
+    /* Allocate and fill.	*/
+    p = alloca (n);
+    memset (p, 1, n);
+
+    /* Args are placed in stack.	*/
+    inc_array (p, n);
+
+    /* Check the result.	*/
+    for (i = 0; i < n; i++) {
+	if (p[i] != 2)
+	    exit (__LINE__);
+    }
+}
+
+int main ()
+{
+    test_few_alloca ();
+    test_with_var_array (10);
+    test_with_var_args (20);
+    
+    return 0;
+}
diff --git a/tests/simulate/pmstring/memccpy_P.c b/tests/simulate/pmstring/memccpy_P.c
new file mode 100644
index 0000000..d5fb259
--- /dev/null
+++ b/tests/simulate/pmstring/memccpy_P.c
@@ -0,0 +1,163 @@
+/* Copyright (c) 2009  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of memccpy_P().
+   $Id$	*/
+
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+#ifndef	__AVR__
+# include <stdio.h>
+# define PRINTFLN(line, fmt, ...)	\
+    printf ("\n%s:%d: " fmt "\n", __FILE__, line, ##__VA_ARGS__);
+# define EXIT(code)	exit ((code) < 255 ? (code) : 100 + (code) % 100)
+# define memccpy_P	memccpy
+# define memcmp_P	memcmp
+# define prog_void	void
+#else
+# define PRINTFLN(args...)
+# define EXIT(code)	exit (code)
+#endif
+
+/* The expected return value must be (dst + expret) in case of expret >= 0,
+   or NULL in case of expret == -1.
+ */
+static void
+Check (int line,
+       const prog_void *src , int val, size_t len,	/* memccpy() args */
+       int expret,					/* expecter return */
+       const prog_void *expdst, size_t explen)		/* expected result */
+{
+    char tdst[len];
+    char *p;
+
+    p = memccpy_P (tdst, src, val, len);
+
+    if (expret == -1) {
+	if (p) {
+	    PRINTFLN (line, "nonzero result, must NULL");
+	    EXIT (1000 + line);
+	}
+    } else {
+	if (!p) {
+	    PRINTFLN (line, "result is NULL, must dst+%d", expret);
+	    EXIT (2000 + line);
+	}
+	if (p != tdst + expret) {
+	    PRINTFLN (line, "result: dst+%d, must: dst+%d", p - tdst, expret);
+	    EXIT (3000 + line);
+	}
+    }
+    if (explen) {
+	if (memcmp_P (tdst, expdst, explen)) {
+	    PRINTFLN (line, "result string is wrong");
+	    EXIT (4000 + line);
+	}
+    }
+}
+
+#define CHECK(src, val, len, expret, expdst, explen)	\
+    Check (__LINE__, PSTR (src), val, len, expret, PSTR (expdst), explen)
+
+int main ()
+{
+    /* Empty input.	*/
+    CHECK ("", 0, 0,	-1, "", 0);
+    CHECK ("", 255, 0,	-1, "", 0);
+
+    /* 1 byte src.	*/
+    CHECK ("A", 'A', 1,   1, "A", 1);
+    CHECK ("A", 'a', 1,  -1, "A", 1);
+    CHECK ("A", 0, 1,    -1, "A", 1);
+    CHECK ("A", 255, 1,  -1, "A", 1);
+
+    CHECK ("\000", 0, 1,    1, "\000", 1);
+    CHECK ("\000", 1, 1,   -1, "\000", 1);
+    CHECK ("\000", 255, 1, -1, "\000", 1);
+
+    CHECK ("\377", 255, 1,   1, "\377", 1);
+    CHECK ("\377", 0, 1,    -1, "\377", 1);
+    CHECK ("\377", 'B', 1,  -1, "\377", 1);
+
+    /* 2 bytes src, first byte is match.	*/
+    CHECK ("CD", 'C', 2,    1, "C", 1);
+    CHECK ("\000E", 0, 2,   1, "\000", 1);
+    CHECK ("\377F", 255, 2, 1, "\377", 1);
+
+    /* 2 bytes src, second byte is match.	*/
+    CHECK ("GH", 'H', 2,        2, "GH", 2);
+    CHECK ("\000\377", 255, 2,  2, "\000\377", 2);
+    CHECK ("\377\000", 0, 2,    2, "\377\000", 2);
+
+    /* 2 bytes src, no matches.	*/
+    CHECK ("IJ", 'K', 2,      -1, "IJ", 2);
+    CHECK ("\000\001", 2, 2,  -1, "\000\001", 2);
+
+    /* Long string.	*/
+    CHECK ("The quick brown fox", 'k', 19,  9, "The quick", 9);
+    CHECK ("The quick brown fox", 'j', 19, -1, "The quick brown fox", 19);
+
+    /* src is 255 bytes long.	*/
+    CHECK ("................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "..............................................................5",
+	   '5', 255, 255,
+	   "................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "..............................................................5",
+	   255);
+
+    /* src is 256 bytes long.	*/
+    CHECK ("................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "...............................................................6",
+	   '6', 256, 256,
+	   "................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "...............................................................6",
+	   256);
+
+    /* src is 255 bytes long.	*/
+    CHECK ("................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "................................................................7",
+	   '7', 257, 257,
+	   "................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "................................................................7",
+	   257);
+}
diff --git a/tests/simulate/pmstring/memchr_P.c b/tests/simulate/pmstring/memchr_P.c
new file mode 100644
index 0000000..6a47e55
--- /dev/null
+++ b/tests/simulate/pmstring/memchr_P.c
@@ -0,0 +1,94 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* $Id$	*/
+
+#ifndef	__AVR__
+# include <stdio.h>
+# define memchr_P  memchr
+#endif
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+void Check (int line, const char *s, int c, size_t len, int expect)
+{
+    const char *p;
+    
+    p = memchr_P (s, c, len);
+    if ((expect == -1 && !p) || (s + expect == p))
+	return;
+#ifndef	__AVR__
+    printf ("\nLine %d: expect: %d, result: %d\n",
+	    line, expect, (p ? p-s : -1));
+    if (line > 255) line = 255;			/* common OS restriction */
+#endif
+    exit (line);
+}
+
+#define CHECK(s, c, len, expect)	do {	\
+    Check (__LINE__, PSTR(s), c, len, expect);	\
+} while (0)
+
+int main ()
+{
+    /* Not found	*/
+    CHECK ("", 0, 0, -1);
+    CHECK ("", 255, 0, -1);
+    CHECK ("ABCDEF", 'a', 6, -1);
+    
+    /* Found	*/
+    CHECK ("\000", 0, 1, 0);
+    CHECK ("\001", 1, 1, 0);
+    CHECK ("\377", 255, 1, 0);
+    CHECK ("987654321", '7', 9, 2);
+
+    /* '\0' has't a special sense	*/
+    CHECK ("12345", 0, 6, 5);
+    CHECK (".\000.", 0, 3, 1);
+    CHECK ("\000a\000b", 'b', 4, 3);
+
+    /* First occurance	*/
+    CHECK ("abcdabcd", 'b', 8, 1);
+    CHECK ("........", '.', 8, 0);
+    
+    /* 'c' converted to a char	*/
+    CHECK ("ABCDEF", 'A'+0x100, 6, 0);
+    CHECK ("ABCDE\377", ~0, 6, 5);
+    
+    /* Very long string	*/
+    CHECK ("................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "*...............................................................",
+	   '*', 320, 256);
+
+    return 0;
+}
diff --git a/tests/simulate/pmstring/memcmp_P.c b/tests/simulate/pmstring/memcmp_P.c
new file mode 100644
index 0000000..e04e974
--- /dev/null
+++ b/tests/simulate/pmstring/memcmp_P.c
@@ -0,0 +1,108 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* $Id$	*/
+
+#ifndef __AVR__
+# include <stdio.h>
+# define memcmp_P  memcmp
+#endif
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+void Check (int line, const char *s1, const char *s2, size_t len, int expect)
+{
+    char t1[200];
+    int i;
+    if (len > sizeof(t1))
+	exit (1);
+    memcpy_P (t1, s1, len ? len : 1);
+    i = memcmp_P (t1, s2, len);
+    if (i == expect)
+	return;
+#if	!defined(__AVR__)
+    /* Glibc memcmp() returns: -1/0/+1.	*/
+    if (   (i < 0 && expect < 0)
+	|| (i > 0 && expect > 0)
+	|| (i == 0 && expect == 0) )
+      return;
+    printf ("\nLine %d: expect: %d, result: %d\n",
+	    line, expect, i);
+    if (line > 255) line = 255;
+#elif	defined(DEBUG)
+    exit (i);
+#endif
+    exit (line);
+}
+
+#define CHECK(s1, s2, len, expect)	do {		\
+    Check (__LINE__, PSTR(s1), PSTR(s2), len, expect);	\
+} while (0)
+
+int main ()
+{
+    /* len == 0	*/
+    CHECK ("", "", 0, 0);
+    CHECK ("A", "A", 0, 0);
+    CHECK ("B", "C", 0, 0);
+
+    /* len == 1	*/
+    CHECK ("\000", "\001", 1, -1);
+    CHECK ("\000", "\377", 1, -255);
+    CHECK ("\001", "\000", 1, 1);
+    CHECK ("\377", "\000", 1, 255);
+
+    /* Agrs are equal.	*/
+    CHECK ("\001", "\001", 1, 0);
+    CHECK ("\001", "\001", 2, 0);
+    CHECK ("1234\377", "1234\377", 1, 0);
+    CHECK ("1234\377+", "1234\377-", 5, 0);
+
+    /* Args are not equal.	*/
+    CHECK ("ABCDEF", "ABCDE\000", 6, 'F');
+    CHECK ("abcde\000", "abcdef", 6, -'f');
+    CHECK ("12345", "12245", 5, 1);
+
+    /* Case is important.	*/
+    CHECK ("xyz", "xYz", 3, 'y'-'Y');
+    CHECK ("QUICK", "qUICK", 5, 'Q'-'q');
+
+    /* Chars are unsigned	*/
+    CHECK ("\200", "\177", 1, 1);
+    CHECK ("\177", "\200", 1, -1);
+    CHECK ("\001", "\377", 1, -254);
+    CHECK ("\377", "\001", 1, 254);
+
+    /* '\0' is possible in the middle of array	*/
+    CHECK ("\000ABC\000D", "\000ABC\000C", 5, 0);
+    CHECK ("\000ABC\000D", "\000ABC\000C", 6, 1);
+
+    return 0;
+}
diff --git a/tests/simulate/pmstring/memmem_P.c b/tests/simulate/pmstring/memmem_P.c
new file mode 100644
index 0000000..68b5bf9
--- /dev/null
+++ b/tests/simulate/pmstring/memmem_P.c
@@ -0,0 +1,195 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* $Id$	*/
+
+#ifndef __AVR__
+# define _GNU_SOURCE		/* to include memmem()	*/
+# define PRINTFLN(line, fmt, ...)	\
+    printf("\nLine %d: " fmt "\n", line, ##__VA_ARGS__)
+# define EXIT(code)	exit ((code) < 255 ? (code) : 255)
+# define memcmp_P	memcmp
+# define memmem_P	memmem
+#else
+# if defined(__AVR_ATmega128__)
+  /* ATmega128 has enough RAM for sprintf(), print to 0x2000 in XRAM. */
+#  define PRINTFLN(line, fmt, ...)	\
+    sprintf ((char *)0x2000, "\nLine %d: " fmt "\n", line, ##__VA_ARGS__)
+# else
+   /* small AVR */
+#  define PRINTFLN(args...)
+# endif
+# define EXIT	exit
+#endif
+
+#include <stdlib.h>
+#include <string.h>
+#include <stdio.h>
+#include "progmem.h"
+
+void Check (int line,
+	    const void *s1, size_t n1, const char *s2, size_t n2, int expect)
+{
+    char t1[300];
+    char *p;
+
+    if (n1 > sizeof(t1))
+	exit (1);
+    memcpy_P (t1, s1, n1);
+    p = memmem_P (t1, n1, s2, n2);
+
+    if (expect < 0) {
+	if (p) {
+	    PRINTFLN (line, "return nonzero");
+	    EXIT (line);
+	}
+    } else {
+	if (p != t1 + expect) {
+	    PRINTFLN (line, "expect= %d  result= %d", expect, p - t1);
+	    EXIT (1000 + line);
+	}
+    }
+    if (memcmp_P (t1, s1, n1)) {
+	PRINTFLN (line, "string is changed");
+	EXIT (2000 + line);
+    }
+}
+
+#define CHECK(s1, n1, s2, n2, expect)	do {			\
+    Check (__LINE__, PSTR(s1), n1, PSTR(s2), n2, expect);	\
+} while (0)
+
+int main ()
+{
+    /* Empty 'needle'.	*/
+    CHECK ("", 0, "", 0, 0);
+    CHECK ("12345", 5, "1", 0, 0);
+
+    /* 'needle' of 1 byte long	*/
+    CHECK ("", 0, "a", 1, -1);
+    CHECK ("b", 1, "a", 1, -1);
+    CHECK ("a", 1, "a", 1, 0);
+    CHECK ("abcbef", 6, "a", 1, 0);
+    CHECK (".a", 2, "a", 1, 1);
+    CHECK (".a.", 3, "a", 1, 1);
+    CHECK ("ABCDEFGH", 8, "H", 1, 7);
+    CHECK ("", 0, "\000", 1, -1);
+    CHECK ("", 1, "\000", 1, 0);
+    CHECK (".", 2, "\000", 1, 1);
+    CHECK ("\000\001", 2, "\001", 1, 1);
+    
+    /* 'needle' of 2 bytes long	*/
+    CHECK ("", 0, "12", 2, -1);
+    CHECK ("1", 1, "12", 2, -1);
+    CHECK ("13", 2, "12", 2, -1);
+    CHECK ("32", 2, "12", 2, -1);
+    CHECK ("12", 2, "12", 2, 0);
+    CHECK ("123", 3, "12", 2, 0);
+    CHECK ("012", 3, "12", 2, 1);
+    CHECK ("01200", 5, "12", 2, 1);
+    CHECK ("\000", 1, "\000\000", 2, -1);
+    CHECK ("\000\000", 2, "\000\000", 2, 0);
+    
+    /* partially mathing	*/
+    CHECK ("a_ab_abc_abcd_abcde", 19, "abcdef", 6, -1);
+    CHECK ("a_ab_abc_abcd_abcde_abcdef", 26, "abcdef", 6, 20);
+    CHECK ("aababcabcdabcde", 15, "abcdef", 6, -1);
+    CHECK ("aababcabcdabcdeabcdef", 21, "abcdef", 6, 15);
+    
+    /* repeated chars	*/
+    CHECK ("abaabaaabaaaab", 14, "aaaaab", 6, -1);
+    CHECK ("abaabaaabaaaabaaaaab", 20, "aaaaab", 6, 14);
+    
+    /* A first match is returned.	*/
+    CHECK ("_foo_foo", 8, "foo", 3, 1);
+    
+    /* Case is not ignored.	*/
+    CHECK ("A", 1, "a", 1, -1);
+    CHECK (".z", 2, ".Z", 2, -1);
+
+    /* Very long s1	*/
+    CHECK ("................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "...............................................................*",
+	   256, "*", 1, 255);
+    CHECK ("................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "*", 257, "*", 1, 256);
+    CHECK ("................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "................................................................"
+	   ".*.", 258, "*", 1, 257);
+    CHECK ("................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "...*..", 260, ".*", 2, 258);
+
+    /* Very long s2[]	*/
+    CHECK ("..", 2,
+	   "................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "...............................................................",
+	   255, -1);
+    CHECK ("..", 2,
+	   "................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "................................................................",
+	   256, -1);
+
+    /* Both strings are long.	*/
+    CHECK ("................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "*", 257,
+	   "................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "...............................................................*"
+	   , 256, 1);
+    CHECK ("................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "..*.", 260,
+	   "................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "*", 257, 2);
+
+    return 0;
+}
diff --git a/tests/simulate/pmstring/memrchr_P.c b/tests/simulate/pmstring/memrchr_P.c
new file mode 100644
index 0000000..36d1f30
--- /dev/null
+++ b/tests/simulate/pmstring/memrchr_P.c
@@ -0,0 +1,125 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* $Id$	*/
+
+#ifndef __AVR__
+# define _GNU_SOURCE	/* to include memrchr()	*/
+# define PRINTFLN(line, fmt, ...)	\
+    printf("\nLine %d: " fmt "\n", line, ##__VA_ARGS__)
+# define EXIT(code)	exit ((code) < 255 ? (code) : 255)
+# define memrchr_P	memrchr
+#else
+# if defined(__AVR_ATmega128__)
+  /* ATmega128 has enough RAM for sprintf(), print to 0x2000 in XRAM. */
+#  define PRINTFLN(line, fmt, ...)	\
+    sprintf ((char *)0x2000, "\nLine %d: " fmt "\n", line, ##__VA_ARGS__)
+# else
+   /* small AVR */
+#  define PRINTFLN(args...)
+# endif
+# define EXIT	exit
+#endif
+
+#include <stdlib.h>
+#include <string.h>
+#include <stdio.h>
+#include "progmem.h"
+
+void Check (int line, const char *s, int c, size_t len, int expect)
+{
+    const char *p;
+    
+    p = memrchr_P (s, c, len);
+
+    if (expect < 0) {
+	if (p) {
+	    PRINTFLN (line, "non zero pointer is returned");
+	    EXIT (line);
+	}
+    } else {
+	if (p != s + expect) {
+	    PRINTFLN (line, "expect= %d  result= %d", expect, p - s);
+	    EXIT (line + 1000);
+	}
+    }
+}
+
+#define CHECK(s, c, len, expect)	do {	\
+    Check (__LINE__, PSTR(s), c, len, expect);	\
+} while (0)
+
+int main ()
+{
+    /* Not found	*/
+    CHECK ("", 0, 0, -1);
+    CHECK ("", 255, 0, -1);
+    CHECK ("ABCDEF", 'a', 6, -1);
+    
+    /* Found	*/
+    CHECK ("\000", 0, 1, 0);
+    CHECK ("\001", 1, 1, 0);
+    CHECK ("\377", 255, 1, 0);
+    CHECK ("987654321", '7', 9, 2);
+
+    /* '\0' has't a special sense	*/
+    CHECK ("12345", 0, 6, 5);
+    CHECK (".\000.", 0, 3, 1);
+    CHECK ("\000a\000b", 'b', 4, 3);
+
+    /* Last occurance	*/
+    CHECK ("abcdabcd", 'b', 8, 5);
+    CHECK ("........", '.', 8, 7);
+    
+    /* 'c' converted to a char	*/
+    CHECK ("ABCDEF", 'A'+0x100, 6, 0);
+    CHECK ("ABCDE\377", ~0, 6, 5);
+    
+    /* Very long string	*/
+    CHECK ("................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "...............................................................*"
+	   "................................................................",
+	   '*', 320, 255);
+    CHECK ("................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "*...............................................................",
+	   '*', 320, 256);
+    CHECK ("................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "................................................................"
+	   ".*..............................................................",
+	   '*', 320, 257);
+
+    return 0;
+}
diff --git a/tests/simulate/pmstring/strcasecmp_P.c b/tests/simulate/pmstring/strcasecmp_P.c
new file mode 100644
index 0000000..21bf664
--- /dev/null
+++ b/tests/simulate/pmstring/strcasecmp_P.c
@@ -0,0 +1,98 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* $Id$	*/
+
+#ifndef __AVR__
+# include <stdio.h>
+# define strcasecmp_P  strcasecmp
+#endif
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+void Check (int line, const char *s1, const char *s2, int expect)
+{
+    char t1[200];
+    int i;
+    if (strlen_P(s1) > sizeof(t1) - 1)
+	exit (1);
+    strcpy_P (t1, s1);
+    i = strcasecmp_P (t1, s2);
+    if (i == expect)
+	return;
+#if	!defined(__AVR__)
+    printf ("\nLine %d: expect: %d, result: %d\n",
+	    line, expect, i);
+    if (line > 255) line = 255;
+#elif	defined(DEBUG)
+    exit (i);
+#endif
+    exit (line);
+}
+
+#define CHECK(s1, s2, expect)	do {			\
+    Check (__LINE__, PSTR(s1), PSTR(s2), expect);	\
+} while (0)
+
+int main ()
+{
+    /* One or both strings are empty.	*/
+    CHECK ("", "", 0);
+    CHECK ("", "\001", -1);
+    CHECK ("", "\377", -255);
+    CHECK ("\001", "", 1);
+    CHECK ("\377", "", 255);
+
+    /* bug #19134	*/
+    CHECK ("a", "[", 'a' - '[');
+    CHECK ("[", "a", '[' - 'a');
+
+    /* Agrs are equal.	*/
+    CHECK ("\001", "\001", 0);
+    CHECK ("1234\377", "1234\377", 0);
+    CHECK ("ABC", "abc", 0);
+    CHECK ("FoO", "fOO", 0);
+
+    /* Args are not equal.	*/
+    CHECK ("@", "`", '@' - '`');	/* '@'=='A'-1, '`'=='a'-1	*/
+    CHECK ("{", "[", '{' - '[');	/* '{'=='z'+1, '['=='A'+1	*/
+
+    /* Alpha is always converted to lower	*/
+    CHECK ("1", "A", '1'-'a');
+    CHECK ("Z", "2", 'z'-'2');
+
+    /* Chars are unsigned	*/
+    CHECK ("\200", "\177", 1);
+    CHECK ("\177", "\200", -1);
+    CHECK ("\001", "\377", -254);
+    CHECK ("\377", "\001", 254);
+
+    return 0;
+}
diff --git a/tests/simulate/pmstring/strcasestr_P.c b/tests/simulate/pmstring/strcasestr_P.c
new file mode 100644
index 0000000..00b2189
--- /dev/null
+++ b/tests/simulate/pmstring/strcasestr_P.c
@@ -0,0 +1,171 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* $Id$	*/
+
+#ifndef __AVR__
+# define _GNU_SOURCE		/* to include strcasestr()	*/
+# define PRINTFLN(line, fmt, ...)	\
+    printf("\nLine %d: " fmt "\n", line, ##__VA_ARGS__)
+# define EXIT(code)	exit ((code) < 255 ? (code) : 255)
+# define strcasestr_P	strcasestr
+#else
+# if defined(__AVR_ATmega128__)
+  /* ATmega128 has enough RAM for sprintf(), print to 0x2000 in XRAM. */
+#  define PRINTFLN(line, fmt, ...)	\
+    sprintf ((char *)0x2000, "\nLine %d: " fmt "\n", line, ##__VA_ARGS__)
+# else
+   /* small AVR */
+#  define PRINTFLN(args...)
+# endif
+# define EXIT	exit
+#endif
+
+#include <stdlib.h>
+#include <string.h>
+#include <stdio.h>
+#include "progmem.h"
+
+void Check (int line, const char *s1, const char *s2, int expect)
+{
+    char t1[300];
+    char *p;
+
+    if (strlen_P(s1) > sizeof(t1) - 1)
+	exit (1);
+    strcpy_P (t1, s1);
+    p = strcasestr_P (t1, s2);
+
+    if (expect < 0) {
+	if (p) {
+	    PRINTFLN (line, "return nonzero");
+	    EXIT (line);
+	}
+    } else {
+	if (p != t1 + expect) {
+	    PRINTFLN (line, "expect= %d  result= %d", expect, p - t1);
+	    EXIT (1000 + line);
+	}
+    }
+    if (strcmp_P (t1, s1)) {
+	PRINTFLN (line, "string is changed");
+	EXIT (2000 + line);
+    }
+}
+
+#define CHECK(s1, s2, expect)	do {			\
+    Check (__LINE__, PSTR(s1), PSTR(s2), expect);	\
+} while (0)
+
+int main ()
+{
+    /* Empty 'needle'.	*/
+    CHECK ("", "", 0);
+    CHECK ("12345", "", 0);
+
+    /* bug #19135	*/
+    CHECK ("ababac", "abac", 2);
+
+    /* 'needle' of 1 byte long	*/
+    CHECK ("", "a", -1);
+    CHECK ("b", "a", -1);
+    CHECK ("a", "a", 0);
+    CHECK ("abcbef", "a", 0);
+    CHECK (".a", "a", 1);
+    CHECK (".a.", "a", 1);
+    CHECK ("ABCDEFGH", "H", 7);
+    
+    /* 'needle' of 2 bytes long	*/
+    CHECK ("", "12", -1);
+    CHECK ("13", "12", -1);
+    CHECK ("32", "12", -1);
+    CHECK ("12", "12", 0);
+    CHECK ("123", "12", 0);
+    CHECK ("012", "12", 1);
+    CHECK ("01200", "12", 1);
+    
+    /* partially mathing	*/
+    CHECK ("a_ab_abc_abcd_abcde", "abcdef", -1);
+    CHECK ("a_ab_abc_abcd_abcde_abcdef", "abcdef", 20);
+    CHECK ("aababcabcdabcde", "abcdef", -1);
+    CHECK ("aababcabcdabcdeabcdef", "abcdef", 15);
+    
+    /* repeated chars	*/
+    CHECK ("abaabaaabaaaab", "aaaaab", -1);
+    CHECK ("abaabaaabaaaabaaaaab", "aaaaab", 14);
+    
+    /* A first match is returned.	*/
+    CHECK ("_foo_foo", "foo", 1);
+    
+    /* Case is ignored.	*/
+    CHECK ("A", "a", 0);
+    CHECK ("qwertyuiopasdfghjklzxcvbnm",
+	   "QWERTYUIOPASDFGHJKLZXCVBNM",
+	   0);
+    CHECK (" QWERTYUIOPASDFGHJKLZXCVBNM",
+	   "qwertyuiopasdfghjklzxcvbnm",
+	   1);
+    CHECK ("  The Quick Brown Fox ", "thE quicK browN foX", 2);
+
+    /* Case is ignored for alphas only.	*/
+    CHECK ("", "\040", -1);
+    CHECK ("\100", "\140", -1);		/* first	*/
+    CHECK ("\140", "\100", -1);
+    CHECK ("\133", "\173", -1);
+    CHECK ("\173", "\133", -1);
+    CHECK (".\100", ".\140", -1);	/* second	*/
+    CHECK (".\140", ".\100", -1);
+    CHECK (".\133", ".\173", -1);
+    CHECK (".\173", ".\133", -1);
+    CHECK ("\100\140", "\140", 1);	/* second match	*/
+
+    /* Very long s1	*/
+    CHECK ("................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "...............................................................A",
+	   "a", 255);
+    CHECK ("................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "a", "A", 256);
+    CHECK ("................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "................................................................"
+	   ".a", "A", 257);
+    CHECK ("................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "................................................................"
+	   ".a", "..A", 255);
+
+    return 0;
+}
diff --git a/tests/simulate/pmstring/strchr_P.c b/tests/simulate/pmstring/strchr_P.c
new file mode 100644
index 0000000..8995693
--- /dev/null
+++ b/tests/simulate/pmstring/strchr_P.c
@@ -0,0 +1,91 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* $Id$	*/
+
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+#ifndef	__AVR__
+# include <stdio.h>
+# define strchr_P	strchr
+#endif
+
+void Check (int line, const char *s, int c, int expect)
+{
+    const char *p;
+    p = strchr_P (s, c);
+    if (expect == -1 && !p)
+	return;
+    if (s + expect == p)
+	return;
+#ifndef	__AVR__
+    printf ("\nLine %d: expect: %d, result: %d\n",
+	    line, expect, (p ? p-s : -1));
+#endif
+    exit (line);
+}
+
+#define CHECK(s, c, expect)	do {		\
+    Check (__LINE__, PSTR(s), c, expect);	\
+} while (0)
+
+int main ()
+{
+    /* Not found	*/
+    CHECK ("", 1, -1);
+    CHECK ("", 255, -1);
+    CHECK ("ABCDEF", 'a', -1);
+    
+    /* Found	*/
+    CHECK ("\001", 1, 0);
+    CHECK ("\377", 255, 0);
+    CHECK ("987654321", '7', 2);
+
+    /* '\0' is a part of string	*/
+    CHECK ("12345", 0, 5);
+    CHECK ("", 0, 0);
+
+    /* First occurance	*/
+    CHECK ("abcdabcd", 'b', 1);
+    
+    /* 'c' converted to a char	*/
+    CHECK ("ABCDEF", 'A'+0x100, 0);
+    CHECK ("ABCDE\377", ~0, 5);
+    
+    /* Very long string	*/
+    CHECK ("................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "*...............", '*', 256);
+
+    return 0;
+}
diff --git a/tests/simulate/pmstring/strchrnul_P.c b/tests/simulate/pmstring/strchrnul_P.c
new file mode 100644
index 0000000..f922355
--- /dev/null
+++ b/tests/simulate/pmstring/strchrnul_P.c
@@ -0,0 +1,112 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* $Id$ */
+
+#ifndef __AVR__
+# define _GNU_SOURCE	/* to include strchrnul()	*/
+# define PRINTFLN(line, fmt, ...)	\
+    printf("\nLine %d: " fmt "\n", line, ##__VA_ARGS__)
+# define EXIT(code)	exit ((code) < 255 ? (code) : 255)
+# define strchrnul_P	strchrnul
+#else
+# if defined(__AVR_ATmega128__)
+  /* ATmega128 has enough RAM for sprintf(), print to 0x2000 in XRAM. */
+#  define PRINTFLN(line, fmt, ...)	\
+    sprintf ((char *)0x2000, "\nLine %d: " fmt "\n", line, ##__VA_ARGS__)
+# else
+   /* small AVR */
+#  define PRINTFLN(args...)
+# endif
+# define EXIT	exit
+#endif
+
+#include <stdlib.h>
+#include <string.h>
+#include <stdio.h>
+#include "progmem.h"
+
+void Check (int line, const char *s, int c, int expect)
+{
+    const char *p;
+    
+    p = strchrnul_P (s, c);
+    
+    if (p != s + expect) {
+	PRINTFLN (line, "expect: %d, result: %d", expect, p - s);
+	EXIT (line);
+    }
+}
+
+#define CHECK(s, c, expect)	do {		\
+    Check (__LINE__, PSTR(s), c, expect);	\
+} while (0)
+
+int main ()
+{
+    /* Not found	*/
+    CHECK ("", 1, 0);
+    CHECK ("", 255, 0);
+    CHECK ("ABCDEF", 'a', 6);
+    
+    /* Found	*/
+    CHECK ("\001", 1, 0);
+    CHECK ("\377", 255, 0);
+    CHECK ("987654321", '7', 2);
+
+    /* '\0' is a part of string	*/
+    CHECK ("12345", 0, 5);
+    CHECK ("", 0, 0);
+
+    /* First occurance	*/
+    CHECK ("abcdabcd", 'b', 1);
+    
+    /* 'c' converted to a char	*/
+    CHECK ("ABCDEF", 'A'+0x100, 0);
+    CHECK ("ABCDE\377", ~0, 5);
+    
+    /* Very long string	*/
+    CHECK ("................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "...............................................................*"
+	   "...............", '*', 255);
+    CHECK ("................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "*..............", '*', 256);
+    CHECK ("................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "................................................................"
+	   ".*.............", '*', 257);
+
+    return 0;
+}
diff --git a/tests/simulate/pmstring/strcmp_P.c b/tests/simulate/pmstring/strcmp_P.c
new file mode 100644
index 0000000..e63e0e0
--- /dev/null
+++ b/tests/simulate/pmstring/strcmp_P.c
@@ -0,0 +1,94 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* $Id$	*/
+
+#ifndef __AVR__
+# include <stdio.h>
+#endif
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+void Check (int line, const char *s1, const char *s2, int expect)
+{
+    char t1[200];
+    int i;
+    if (strlen_P(s1) > sizeof(t1) - 1)
+	exit (1);
+    strcpy_P (t1, s1);
+    i = strcmp_P (t1, s2);
+    if (i == expect)
+	return;
+#if	!defined(__AVR__)
+    printf ("\nLine %d: expect: %d, result: %d\n",
+	    line, expect, i);
+    if (line > 255) line = 255;
+#elif	defined(DEBUG)
+    exit (i);
+#endif
+    exit (line);
+}
+
+#define CHECK(s1, s2, expect)	do {			\
+    Check (__LINE__, PSTR(s1), PSTR(s2), expect);	\
+} while (0)
+
+int main ()
+{
+    /* One or both strings are empty.	*/
+    CHECK ("", "", 0);
+    CHECK ("", "\001", -1);
+    CHECK ("", "\377", -255);
+    CHECK ("\001", "", 1);
+    CHECK ("\377", "", 255);
+
+    /* Agrs are equal.	*/
+    CHECK ("\001", "\001", 0);
+    CHECK ("1234\377", "1234\377", 0);
+    CHECK ("ABC", "ABC", 0);
+    CHECK ("foo", "foo", 0);
+
+    /* Args are not equal.	*/
+    CHECK ("ABCDEF", "ABCDE", 'F');
+    CHECK ("abcde", "abcdef", -'f');
+    CHECK ("12345", "12245", 1);
+
+    /* Case is important.	*/
+    CHECK ("xyz", "xYz", 'y'-'Y');
+    CHECK ("QUICK", "qUICK", 'Q'-'q');
+
+    /* Chars are unsigned	*/
+    CHECK ("\200", "\177", 1);
+    CHECK ("\177", "\200", -1);
+    CHECK ("\001", "\377", -254);
+    CHECK ("\377", "\001", 254);
+
+    return 0;
+}
diff --git a/tests/simulate/pmstring/strcspn_P.c b/tests/simulate/pmstring/strcspn_P.c
new file mode 100644
index 0000000..50162f7
--- /dev/null
+++ b/tests/simulate/pmstring/strcspn_P.c
@@ -0,0 +1,123 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* $Id$	*/
+
+#ifndef __AVR__
+# include <stdio.h>
+# define strcspn_P  strcspn
+#endif
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+void Check (int line, const char *s1, const char *s2, size_t expect)
+{
+    char t1[300];
+    size_t n;
+
+    if (strlen_P(s1) > sizeof(t1) - 1)
+	exit (1);
+    strcpy_P (t1, s1);
+    n = strcspn_P (t1, s2);
+    if (n == expect)
+	return;
+#if   !defined(__AVR__)
+    printf ("\nLine %d: expect: %d, result: %d\n",
+	    line, expect, n);
+    if (line > 255) line = 255;
+#elif	defined(DEBUG)
+    exit (n ? n : ~0);
+#endif
+    exit (line);
+}
+
+#define CHECK(s1, s2, expect)	do {			\
+    Check (__LINE__, PSTR(s1), PSTR(s2), expect);	\
+} while (0)
+
+int main ()
+{
+    /* Empty string.	*/
+    CHECK ("", "", 0);
+    CHECK ("", "A", 0);
+    CHECK ("", "abcdef", 0);
+    CHECK ("A", "", 1);
+    CHECK ("0123456789", "", 10);
+
+    /* accept[] length is 1.	*/
+    CHECK ("B", "A", 1);
+    CHECK ("abcdefghij", "A", 10);
+    CHECK ("A", "A", 0);
+    CHECK ("AAAAAAAA", "A", 0);
+
+    /* accept[] length is 2.	*/
+    CHECK ("c", "ab", 1);
+    CHECK ("cd", "ab", 2);
+    CHECK ("cde", "ab", 3);
+    CHECK ("a", "ab", 0);
+    CHECK (".a", "ab", 1);
+    CHECK ("..a", "ab", 2);
+    CHECK ("...a", "ab", 3);
+    CHECK ("b", "ab", 0);
+    CHECK (".b", "ab", 1);
+    CHECK ("..b", "ab", 2);
+    CHECK ("...b", "ab", 3);
+    CHECK ("0101010101", "23", 10);
+    CHECK ("0123456789AB", ".A", 10);
+    
+    /* accept[] length > 2	*/
+    CHECK ("the quick brown fox", "QWERTYUIOPASDFGHJKLZXCVBNM", 19);
+    CHECK ("the quick brown fox ...", ".QWERTYUIOPASDFGHJKLZXCVBNM", 20);
+    CHECK ("the quick brown fox .?", "QWERTYUIOPASDFGHJKLZXCVBNM?", 21);
+    
+    /* non ASCII chars	*/
+    CHECK ("\001", "\001", 0);
+    CHECK ("\377", "\377", 0);
+    CHECK ("\002\376", "\001\377", 2);
+
+    /* Result approx. 256	*/
+    CHECK ("................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "...............................................................",
+	   "*", 255);
+    CHECK ("................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "................................................................",
+	   "*", 256);
+    CHECK ("................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "................................................................"
+	   ".*", "*", 257);
+
+    return 0;
+}
diff --git a/tests/simulate/pmstring/strlcat_P.c b/tests/simulate/pmstring/strlcat_P.c
new file mode 100644
index 0000000..5628ecf
--- /dev/null
+++ b/tests/simulate/pmstring/strlcat_P.c
@@ -0,0 +1,311 @@
+/*
+ * Copyright (c) 1998 Todd C. Miller <Todd.Miller@courtesan.com>
+ * Copyright (c) 2009 Dmitry Xmelkov
+ * All rights reserved.
+ *
+ * Redistribution and use in source and binary forms, with or without
+ * modification, are permitted provided that the following conditions
+ * are met:
+ * 1. Redistributions of source code must retain the above copyright
+ *    notice, this list of conditions and the following disclaimer.
+ * 2. Redistributions in binary form must reproduce the above copyright
+ *    notice, this list of conditions and the following disclaimer in the
+ *    documentation and/or other materials provided with the distribution.
+ * 3. The name of the author may not be used to endorse or promote products
+ *    derived from this software without specific prior written permission.
+ *
+ * THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESS OR IMPLIED WARRANTIES,
+ * INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY
+ * AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL
+ * THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
+ * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
+ * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;
+ * OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
+ * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR
+ * OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF
+ * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of strlcat_P(). The program includes the strlcat() function copy
+   for testing themselves.
+   $Id$
+ */
+
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+#ifndef __AVR__
+# include <stdio.h>
+# define PRINTFLN(line, fmt, ...)	\
+    printf("\nLine %d: " fmt "\n", line, ##__VA_ARGS__)
+# define EXIT(code)	exit ((code) < 255 ? (code) : 255)
+#else
+# define PRINTFLN(line, fmt, ...)
+# define EXIT	exit
+#endif
+
+#ifndef	__AVR__
+
+/* Appends src to string dst of size siz (unlike strncat(), siz is the
+   full size of dst, not space left).  At most siz-1 characters will be
+   copied.  Always NULL terminates (unless siz <= strlen(dst)).
+
+   The strlcat() function returns strlen(src) + MIN(siz,
+   strlen(initial dst)).  If retval >= siz, truncation occurred.
+ */
+
+size_t strlcat_P (char *dst, const char *src, size_t siz)
+{
+	register char *d = dst;
+	register const char *s = src;
+	register size_t n = siz;
+	size_t dlen;
+
+	/* Find the end of dst and adjust bytes left but don't go past end */
+	while (n-- != 0 && *d != '\0')
+		d++;
+	dlen = d - dst;
+	n = siz - dlen;
+
+	if (n == 0)
+		return(dlen + strlen(s));
+	while (*s != '\0') {
+		if (n != 1) {
+			*d++ = *s;
+			n--;
+		}
+		s++;
+	}
+	*d = '\0';
+
+	return(dlen + (s - src));	/* count does not include NUL */
+}
+#endif	/* !__AVR__ */
+
+void Check (int line,
+	    const char *dst, const char *src, size_t size,
+	    const char *result)
+{
+    char d[strlen_P (dst) + strlen_P (src) + 1];
+    size_t n, must;
+
+    strcpy_P (d, dst);
+
+    must = (size < strlen_P (dst) ? size : strlen_P (dst)) + strlen_P (src);
+    n = strlcat_P (d, src, size);
+    if (n != must) {
+	PRINTFLN (line, "wrong return value: %zu, must: %zu", n, must);
+	EXIT (line);
+    }
+
+    if (strcmp_P (d, result) != 0) {
+	PRINTFLN (line, "wrong result dst: %s", d);
+	EXIT (1000 + line);
+    }
+}
+
+#define CHECK(dst, src, size, result)					\
+    do {								\
+	Check (__LINE__, PSTR (dst), PSTR (src), size, PSTR (result));	\
+    } while (0)
+
+
+int main ()
+{
+    /* Arg 'size' is 0.	*/
+    CHECK ("", "", 0, "");
+    CHECK ("1", "", 0, "1");
+    CHECK ("23", "", 0, "23");
+    CHECK ("", "A", 0, "");
+    CHECK ("1", "A", 0, "1");
+    CHECK ("23", "A", 0, "23");
+    CHECK ("", "BC", 0, "");
+    CHECK ("1", "BC", 0, "1");
+    CHECK ("23", "BC", 0, "23");
+
+    /* Arg 'size' is 1.	*/
+    CHECK ("", "", 1, "");
+    CHECK ("1", "", 1, "1");
+    CHECK ("23", "", 1, "23");
+    CHECK ("", "A", 1, "");
+    CHECK ("1", "A", 1, "1");
+    CHECK ("23", "A", 1, "23");
+    CHECK ("", "BC", 1, "");
+    CHECK ("1", "BC", 1, "1");
+    CHECK ("23", "BC", 1, "23");
+
+    /* Arg 'size' is 2.	*/
+    CHECK ("", "", 2, "");
+    CHECK ("1", "", 2, "1");
+    CHECK ("23", "", 2, "23");
+    CHECK ("456", "", 2, "456");
+    CHECK ("", "A", 2, "A");
+    CHECK ("1", "A", 2, "1");
+    CHECK ("23", "A", 2, "23");
+    CHECK ("456", "A", 2, "456");
+    CHECK ("", "BC", 2, "B");
+    CHECK ("1", "BC", 2, "1");
+    CHECK ("23", "BC", 2, "23");
+    CHECK ("456", "BC", 2, "456");
+
+    /* Arg 'size' is 3.	*/
+    CHECK ("", "", 3, "");
+    CHECK ("1", "", 3, "1");
+    CHECK ("23", "", 3, "23");
+    CHECK ("456", "", 3, "456");
+    CHECK ("7890", "", 3, "7890");
+    CHECK ("", "A", 3, "A");
+    CHECK ("1", "A", 3, "1A");
+    CHECK ("23", "A", 3, "23");
+    CHECK ("456", "A", 3, "456");
+    CHECK ("7890", "A", 3, "7890");
+    CHECK ("", "BC", 3, "BC");
+    CHECK ("1", "BC", 3, "1B");
+    CHECK ("23", "BC", 3, "23");
+    CHECK ("456", "BC", 3, "456");
+    CHECK ("7890", "BC", 3, "7890");
+    CHECK ("", "DEF", 3, "DE");
+    CHECK ("1", "DEF", 3, "1D");
+    CHECK ("23", "DEF", 3, "23");
+    CHECK ("456", "DEF", 3, "456");
+    CHECK ("7890", "DEF", 3, "7890");
+
+    /* Margin chars.	*/
+    CHECK ("\001", "\377", 10, "\001\377");
+    CHECK ("\377", "\001", 20, "\377\001");
+
+    /* Arg 'size' is very big.	*/
+    CHECK ("123", "ABC", 32767, "123ABC");
+    CHECK ("456", "D", 32768, "456D");
+    CHECK ("0", "EFG", 65535, "0EFG");
+
+    CHECK ("The quick ", "brown fox", 19, "The quick brown fo");
+
+#if	!defined (RAMEND) || RAMEND > 0x200
+
+    /* Arg 'size' is 256.	*/
+    CHECK ("................................................................"
+	   "................................................................"
+	   "................................................................"
+	   ".............................................................4",
+	   "A", 256,
+	   "................................................................"
+	   "................................................................"
+	   "................................................................"
+	   ".............................................................4A");
+    CHECK ("................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "..............................................................5",
+	   "B", 256,
+	   "................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "..............................................................5");
+    CHECK ("C",
+	   "................................................................"
+	   "................................................................"
+	   "................................................................"
+	   ".............................................................4",
+	   256,
+	   "C..............................................................."
+	   "................................................................"
+	   "................................................................"
+	   "..............................................................4");
+    CHECK ("D",
+	   "................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "..............................................................5",
+	   256,
+	   "D..............................................................."
+	   "................................................................"
+	   "................................................................"
+	   "...............................................................");
+
+    /* Arg 'size' is 257.	*/
+    CHECK ("................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "..............................................................5",
+	   "E", 257,
+	   "................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "..............................................................5E");
+    CHECK ("................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "...............................................................6",
+	   "F", 257,
+	   "................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "...............................................................6");
+    CHECK ("G",
+	   "................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "..............................................................5",
+	   257,
+	   "G..............................................................."
+	   "................................................................"
+	   "................................................................"
+	   "...............................................................5");
+    CHECK ("H",
+	   "................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "...............................................................6",
+	   257,
+	   "H..............................................................."
+	   "................................................................"
+	   "................................................................"
+	   "................................................................");
+
+# if	!defined (FLASHEND) || FLASHEND > 0x2000
+    /* Arg 'size' is 258.	*/
+    CHECK ("................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "...............................................................6",
+	   "I", 258,
+	   "................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "...............................................................6I");
+    CHECK ("................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "................................................................7",
+	   "J", 258,
+	   "................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "................................................................7");
+    CHECK ("K",
+	   "................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "...............................................................6",
+	   258,
+	   "K..............................................................."
+	   "................................................................"
+	   "................................................................"
+	   "................................................................6");
+    CHECK ("L",
+	   "................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "................................................................7",
+	   258,
+	   "L..............................................................."
+	   "................................................................"
+	   "................................................................"
+	   ".................................................................");
+# endif
+#endif
+
+    return 0;
+}
diff --git a/tests/simulate/pmstring/strlcpy_P.c b/tests/simulate/pmstring/strlcpy_P.c
new file mode 100644
index 0000000..072c439
--- /dev/null
+++ b/tests/simulate/pmstring/strlcpy_P.c
@@ -0,0 +1,195 @@
+/*
+ * Copyright (c) 1998 Todd C. Miller <Todd.Miller@courtesan.com>
+ * Copyright (c) 2009 Dmitry Xmelkov
+ * All rights reserved.
+ *
+ * Redistribution and use in source and binary forms, with or without
+ * modification, are permitted provided that the following conditions
+ * are met:
+ * 1. Redistributions of source code must retain the above copyright
+ *    notice, this list of conditions and the following disclaimer.
+ * 2. Redistributions in binary form must reproduce the above copyright
+ *    notice, this list of conditions and the following disclaimer in the
+ *    documentation and/or other materials provided with the distribution.
+ * 3. The name of the author may not be used to endorse or promote products
+ *    derived from this software without specific prior written permission.
+ *
+ * THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESS OR IMPLIED WARRANTIES,
+ * INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY
+ * AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL
+ * THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
+ * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
+ * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;
+ * OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
+ * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR
+ * OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF
+ * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of strlcpy_P(). The program includes the strlcpy() function copy
+   for testing themselves.
+   $Id$
+ */
+
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+#ifndef __AVR__
+# include <stdio.h>
+# define PRINTFLN(line, fmt, ...)	\
+    printf("\nLine %d: " fmt "\n", line, ##__VA_ARGS__)
+# define EXIT(code)	exit ((code) < 255 ? (code) : 255)
+#else
+# define PRINTFLN(line, fmt, ...)
+# define EXIT	exit
+#endif
+
+#ifndef	__AVR__
+/*
+ * Copy src to string dst of size siz.  At most siz-1 characters
+ * will be copied.  Always NUL terminates (unless siz == 0).
+ * Returns strlen(src); if retval >= siz, truncation occurred.
+ */
+size_t strlcpy_P (char *dst, const char *src, size_t siz)
+{
+        register char *d = dst;
+        register const char *s = src;
+        register size_t n = siz;
+
+        /* Copy as many bytes as will fit */
+        if (n != 0 && --n != 0) {
+                do {
+                        if ((*d++ = *s++) == 0)
+                                break;
+                } while (--n != 0);
+        }
+
+        /* Not enough room in dst, add NUL and traverse rest of src */
+        if (n == 0) {
+                if (siz != 0)
+                        *d = '\0';                /* NUL-terminate dst */
+                while (*s++)
+                        ;
+        }
+
+        return(s - src - 1);        /* count does not include NUL */
+}
+#endif	/* !__AVR__ */
+
+
+void
+Check (int line, const char *src, size_t size, const char *result)
+{
+    char dst[(size < strlen_P (src) ? size : strlen_P (src)) + 1];
+    size_t n;
+
+    /* fill dst[]	*/
+    for (n = 0; n < sizeof (dst); n++)
+	dst[n] = line + n;
+
+    n = strlcpy_P (dst, src, size);
+    if (n != strlen_P (src)) {
+	PRINTFLN (line, "wrong return value: %zu", n);
+	EXIT (line);
+    }
+
+    if (!size && ((dst[0] - line) & 0xFF)) {
+	PRINTFLN (line, "dst is changed with 0 size");
+	EXIT (1000 + line);
+    }
+    if (size && strcmp_P (dst, result) != 0) {
+	PRINTFLN (line, "wrong result: %s", dst);
+	EXIT (2000 + line);
+    }
+}
+
+
+#define CHECK(src, size, result)				\
+    do {							\
+	Check (__LINE__, PSTR (src), size, PSTR (result));	\
+    } while (0)
+
+
+int main ()
+{
+    CHECK ("", 0, "");
+    CHECK ("", 1, "");
+    CHECK ("", 65535, "");
+
+    CHECK ("A", 0, "");
+    CHECK ("A", 1, "");
+    CHECK ("A", 2, "A");
+    CHECK ("A", 65535, "A");
+
+    CHECK ("ab", 0, "");
+    CHECK ("ab", 1, "");
+    CHECK ("ab", 2, "a");
+    CHECK ("ab", 3, "ab");
+    CHECK ("ab", 4, "ab");
+
+    CHECK ("The quick brown fox", 50, "The quick brown fox");
+    CHECK ("The quick brown fox", 8, "The qui");
+
+    CHECK ("................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "...............................................................",
+	   2, ".");	/* 255	*/
+    CHECK ("................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "................................................................",
+	   2, ".");	/* 256	*/
+    CHECK ("................................................................"
+	   "................................................................"
+	   "................................................................"
+	   ".................................................................",
+	   2, ".");	/* 257	*/
+
+    /* strlen(src) == 255	*/
+    CHECK ("................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "..............................................................1",
+	   258,
+	   "................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "..............................................................1");
+
+    /* strlen(src) == 256	*/
+    CHECK ("................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "...............................................................2",
+	   258,
+	   "................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "...............................................................2");
+
+    /* strlen(src) == 257	*/
+    CHECK ("................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "................................................................3",
+	   258,
+	   "................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "................................................................3");
+
+    /* strlen(src) == 258	*/
+    CHECK ("................................................................"
+	   "................................................................"
+	   "................................................................"
+	   ".................................................................4",
+	   258,
+	   "................................................................"
+	   "................................................................"
+	   "................................................................"
+	   ".................................................................");
+
+    return 0;
+}
diff --git a/tests/simulate/pmstring/strncasecmp_P.c b/tests/simulate/pmstring/strncasecmp_P.c
new file mode 100644
index 0000000..201529c
--- /dev/null
+++ b/tests/simulate/pmstring/strncasecmp_P.c
@@ -0,0 +1,137 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* $Id$	*/
+
+#ifndef __AVR__
+# include <stdio.h>
+# define strncasecmp_P  strncasecmp
+#endif
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+void Check (int line, const char *s1, const char *s2, size_t len, int expect)
+{
+    char t1[300];
+    int i;
+    if (strlen_P(s1) > sizeof(t1) - 1)
+	exit (1);
+    strcpy_P (t1, s1);
+    i = strncasecmp_P (t1, s2, len);
+    if (i == expect)
+	return;
+#if	!defined(__AVR__)
+    printf ("\nLine %d: expect: %d, result: %d\n",
+	    line, expect, i);
+    if (line > 255) line = 255;
+#elif	defined(DEBUG)
+    exit (i);
+#endif
+    exit (line);
+}
+
+#define CHECK(s1, s2, len,expect)	do {		\
+    Check (__LINE__, PSTR(s1), PSTR(s2), len, expect);	\
+} while (0)
+
+int main ()
+{
+    /* One or both strings are empty.	*/
+    CHECK ("", "", 10, 0);
+    CHECK ("", "\001", 10, -1);
+    CHECK ("", "\377", 10, -255);
+    CHECK ("\001", "", 10, 1);
+    CHECK ("\377", "", 10, 255);
+
+    /* bug #19134	*/
+    CHECK ("a", "[", 10, 'a' - '[');
+    CHECK ("[", "a", 10, '[' - 'a');
+
+    /* Agrs are equal.	*/
+    CHECK ("\001", "\001", 10, 0);
+    CHECK ("1234\377", "1234\377", 10, 0);
+    CHECK ("ABC", "abc", 10, 0);
+    CHECK ("FoO", "fOO", 10, 0);
+
+    /* Args are not equal.	*/
+    CHECK ("@", "`", 10, '@' - '`');	/* '@'=='A'-1, '`'=='a'-1	*/
+    CHECK ("{", "[", 10, '{' - '[');	/* '{'=='z'+1, '['=='A'+1	*/
+
+    /* Alpha is always converted to lower	*/
+    CHECK ("1", "A", 10, '1'-'a');
+    CHECK ("Z", "2", 10, 'z'-'2');
+
+    /* Chars are unsigned	*/
+    CHECK ("\200", "\177", 10, 1);
+    CHECK ("\177", "\200", 10, -1);
+    CHECK ("\001", "\377", 10, -254);
+    CHECK ("\377", "\001", 10, 254);
+    
+    /* Length too small	*/
+    CHECK ("", "", 0, 0);
+    CHECK ("ab", "ac", 1, 0);
+    CHECK ("FOO", "foo123", 3, 0);
+    CHECK ("ABCDEF", "AbcD", 4, 0);
+    
+    /* Length too big	*/
+    CHECK ("", "", ~0, 0);
+    CHECK ("foo", "Foo", ~0, 0);
+    
+    /* Length is equal to string length	*/
+    CHECK ("12345678", "12345678", 8, 0);
+    CHECK ("12345679", "12345678", 8, 1);
+    CHECK ("12345678", "12345679", 8, -1);
+    
+    /* A very long string	*/
+    CHECK ("................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "1234",
+	   "................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "5678",
+	   256, 0);
+    CHECK ("................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "1234",
+	   "................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "5678",
+	   257, -4);
+
+    return 0;
+}
diff --git a/tests/simulate/pmstring/strpbrk_P.c b/tests/simulate/pmstring/strpbrk_P.c
new file mode 100644
index 0000000..eaabc62
--- /dev/null
+++ b/tests/simulate/pmstring/strpbrk_P.c
@@ -0,0 +1,98 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* $Id$	*/
+
+#ifndef __AVR__
+# include <stdio.h>
+# define strpbrk_P  strpbrk
+#endif
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+void Check (int line, const char *s1, const char *s2, int expect)
+{
+    char t1[200];
+    char *p;
+
+    if (strlen_P(s1) > sizeof(t1) - 1)
+	exit (1);
+    strcpy_P (t1, s1);
+    p = strpbrk_P (t1, s2);
+    if ((!p && expect == -1)  || (p == t1 + expect))
+	return;
+#if	!defined(__AVR__)
+    printf ("\nLine %d: expect: %d, result: %d\n",
+	    line, expect, (p ? p - t1 : -1));
+    if (line > 255) line = 255;
+#elif	defined(DEBUG)
+    exit (p ? p - t1 : -1);
+#endif
+    exit (line);
+}
+
+#define CHECK(s1, s2, expect)	do {			\
+    Check (__LINE__, PSTR(s1), PSTR(s2), expect);	\
+} while (0)
+
+int main ()
+{
+    /* Empty string.	*/
+    CHECK ("", "", -1);
+    CHECK ("A", "", -1);
+    CHECK ("", "A", -1);
+
+    /* accept[] length is 1.	*/
+    CHECK ("A", "A", 0);
+    CHECK (".B.", "B", 1);
+    CHECK ("........C", "C", 8);
+    CHECK ("a", "A", -1);
+    CHECK ("AA", "a", -1);
+
+    /* accept[] length is 2.	*/
+    CHECK ("a.", "ab", 0);
+    CHECK (".a", "ab", 1);
+    CHECK ("b.", "ab", 0);
+    CHECK (".b", "ab", 1);
+    CHECK ("c", "ab", -1);
+    CHECK ("0123456789", "56", 5);
+    CHECK ("0123456789", "-+", -1);
+    
+    /* Long strings.	*/
+    CHECK ("qwertyuiopasdfghjklzxcvbnm", "MNBVCXZLKJHGFDSAPOIUYTREWQ", -1);
+    CHECK ("qwertyuiopasdfghjklzxcvbnm", "MNBVCXZLKJHGFDSAPOIUYTREWQm", 25);
+
+    /* non ASCII chars	*/
+    CHECK ("\001", "\001", 0);
+    CHECK ("\377", "\377", 0);
+    CHECK ("\002\376", "\001\377", -1);
+
+    return 0;
+}
diff --git a/tests/simulate/pmstring/strrchr_P.c b/tests/simulate/pmstring/strrchr_P.c
new file mode 100644
index 0000000..6e08767
--- /dev/null
+++ b/tests/simulate/pmstring/strrchr_P.c
@@ -0,0 +1,93 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* $Id$	*/
+
+#ifndef __AVR__
+# include <stdio.h>
+# define strrchr_P  strrchr
+#endif
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+void Check (int line, const char *s, int c, int expect)
+{
+    const char *p;
+    p = strrchr_P (s, c);
+    if (expect == -1 && !p)
+	return;
+    if (s + expect == p)
+	return;
+#ifndef	__AVR__
+    printf ("\nLine %d: expect: %d, result: %d\n",
+	    line, expect, (p ? p-s : -1));
+#endif
+    exit (line);
+}
+
+#define CHECK(s, c, expect)	do {		\
+    Check (__LINE__, PSTR(s), c, expect);	\
+} while (0)
+
+int main ()
+{
+    /* Not found	*/
+    CHECK ("", 1, -1);
+    CHECK ("", 255, -1);
+    CHECK ("ABCDEF", 'a', -1);
+    
+    /* Found	*/
+    CHECK ("\001", 1, 0);
+    CHECK ("\377", 255, 0);
+    CHECK ("987654321", '7', 2);
+
+    /* '\0' is a part of string	*/
+    CHECK ("12345", 0, 5);
+    CHECK ("", 0, 0);
+
+    /* Last occurance	*/
+    CHECK ("00", '0', 1);
+    CHECK ("abcdabcd", 'b', 5);
+    CHECK ("***********", '*', 10);
+    
+    /* 'c' converted to a char	*/
+    CHECK ("ABCDEF", 'A'+0x100, 0);
+    CHECK ("ABCDE\377", ~0, 5);
+    CHECK ("+", ~0xff, 1);
+    
+    /* Very long string	*/
+    CHECK ("................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "*...............", '*', 256);
+
+    return 0;
+}
diff --git a/tests/simulate/pmstring/strsep_P.c b/tests/simulate/pmstring/strsep_P.c
new file mode 100644
index 0000000..5068ac5
--- /dev/null
+++ b/tests/simulate/pmstring/strsep_P.c
@@ -0,0 +1,167 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* $Id$	*/
+
+#include <stdlib.h>
+#include <string.h>
+#include <stdio.h>
+#include "progmem.h"
+
+#ifndef __AVR__
+# define PRINTFLN(line, fmt, ...)	\
+    printf("\nLine %d: " fmt "\n", line, ##__VA_ARGS__)
+# define EXIT(code)	exit ((code) < 255 ? (code) : 255)
+# define memcmp_P	memcmp
+# define strsep_P	strsep
+#else
+# if defined(__AVR_ATmega128__)
+  /* ATmega128 has enough RAM for sprintf(), print to 0x2000 in XRAM. */
+#  define PRINTFLN(line, fmt, ...)	\
+    sprintf ((char *)0x2000, "\nLine %d: " fmt "\n", line, ##__VA_ARGS__)
+# else
+   /* small AVR */
+#  define PRINTFLN(args...)
+# endif
+# define EXIT	exit
+#endif
+
+void Check (int line, const char *s1, const char *s2, int clr, int pnt)
+{
+    char t1[300];
+    char *sp;
+    char *rp;
+
+    if (strlen_P(s1) > sizeof(t1) - 1)
+	exit (1);
+    strcpy_P (t1, s1);
+    sp = t1;
+    rp = strsep_P (&sp, s2);
+
+    if (rp != t1) {
+	PRINTFLN (line, "false return value");
+	EXIT (5000 + line);
+    }
+    if (clr < 0) {
+	if (strcmp_P (t1, s1)) {
+	    PRINTFLN (line, "string is changed");
+	    EXIT (line);
+	}
+    } else {
+	if (strlen (t1) != (size_t)clr) {
+	    PRINTFLN (line, "strlen: expect= %d  result= %d",
+			 clr, strlen (t1));
+	    EXIT (1000 + line);
+	}
+	if (memcmp_P (t1, s1, clr)
+	    || t1[clr]
+	    || strcmp_P (t1 + clr + 1, s1 + clr + 1))
+	{
+	    PRINTFLN (line, "string mismatch");
+	    EXIT (2000 + line);
+	}
+    }
+    if (pnt < 0) {
+	if (sp) {
+	    PRINTFLN (line, "sp is not a NULL");
+	    EXIT (3000 + line);
+	}
+    } else {
+	if (sp != t1 + pnt) {
+	    PRINTFLN (line, "sp: expect= %d  result= %d",
+			 pnt, sp - t1);
+	    EXIT (4000 + line);
+	}
+    }
+}
+
+/* Args:
+     s - string to parse
+     delim - delimeter list
+     clr   - if (clr >= 0) s[cln] must be cleared
+     pnt   - if (pnt >= 0) s[pnt] must be pointed, else NULL
+ */
+#define CHECK(s, delim, clr, pnt)	do {		\
+    Check (__LINE__, PSTR(s), PSTR(delim), clr, pnt);	\
+} while (0)
+
+int main ()
+{
+    char *p;
+    
+    /* NULL at first call	*/
+    p = 0;
+    if (strsep_P (&p, "") || p) exit (__LINE__);
+    if (strsep_P (&p, "abc") || p) exit (__LINE__);
+
+    /* Empty string	*/
+    CHECK ("", "", -1, -1);
+    CHECK ("", "abc", -1, -1);
+    
+    /* Empty delimeter list	*/
+    CHECK ("a", "", -1, -1);
+    CHECK ("12345678", "", -1, -1);
+    
+    /* No delimeter symbols are founded	*/
+    CHECK ("\tabc", " ", -1, -1);
+    CHECK ("THE QUICK BROWN FOX", "thequickbrownfox", -1, -1);
+    
+    /* delim is 1 byte long	*/
+    CHECK (".", ".", 0, 1);
+    CHECK ("abc", "a", 0, 1);
+    CHECK ("abc", "b", 1, 2);
+    CHECK ("abc", "c", 2, 3);
+
+    /* delim is 2 bytes long	*/
+    CHECK ("0", "01", 0, 1);
+    CHECK ("1", "01", 0, 1);
+    CHECK ("A.", "AB", 0, 1);
+    CHECK ("B.", "AB", 0, 1);
+    CHECK ("CAD", "AB", 1, 2);
+    CHECK ("CDB", "AB", 2, 3);
+    
+    /* delim length > 2 bytes	*/
+    CHECK ("the quick", "0123456789 ", 3, 4);
+
+    /* Very long string	*/
+    CHECK ("................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "...............................................................*",
+	   "*", 255, 256);
+    CHECK ("................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "*", "*", 256, 257);
+
+    /* Non ASCII bytes	*/
+    CHECK ("\001\002\377", "\001", 0, 1);
+    CHECK ("\001\002\377", "\377", 2, 3);
+}
diff --git a/tests/simulate/pmstring/strspn_P.c b/tests/simulate/pmstring/strspn_P.c
new file mode 100644
index 0000000..778dff1
--- /dev/null
+++ b/tests/simulate/pmstring/strspn_P.c
@@ -0,0 +1,114 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* $Id$	*/
+
+#ifndef __AVR__
+# include <stdio.h>
+# define strspn_P  strspn
+#endif
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+void Check (int line, const char *s1, const char *s2, size_t expect)
+{
+    char t1[300];
+    size_t n;
+
+    if (strlen_P(s1) > sizeof(t1) - 1)
+	exit (1);
+    strcpy_P (t1, s1);
+    n = strspn_P (t1, s2);
+    if (n == expect)
+	return;
+#if   !defined(__AVR__)
+    printf ("\nLine %d: expect: %d, result: %d\n",
+	    line, expect, n);
+    if (line > 255) line = 255;
+#elif	defined(DEBUG)
+    exit (n ? n : ~0);
+#endif
+    exit (line);
+}
+
+#define CHECK(s1, s2, expect)	do {			\
+    Check (__LINE__, PSTR(s1), PSTR(s2), expect);	\
+} while (0)
+
+int main ()
+{
+    /* Empty string.	*/
+    CHECK ("", "", 0);
+    CHECK ("A", "", 0);
+    CHECK ("", "A", 0);
+
+    /* accept[] length is 1.	*/
+    CHECK ("B", "A", 0);
+    CHECK ("A", "A", 1);
+    CHECK ("AAAAAAAA", "A", 8);
+
+    /* accept[] length is 2.	*/
+    CHECK ("c", "ab", 0);
+    CHECK ("cd", "ab", 0);
+    CHECK ("a", "ab", 1);
+    CHECK ("a.", "ab", 1);
+    CHECK ("ba", "ab", 2);
+    CHECK ("ab.", "ab", 2);
+    CHECK ("0101010101", "10", 10);
+    CHECK ("0123456789AB", "+0", 1);
+    
+    /* accept[] length > 2	*/
+    CHECK ("the quick brown fox", " qwertyuiopasdfghjklzxcvbnm", 19);
+    CHECK ("the quick brown fox ...", " qwertyuiopasdfghjklzxcvbnm", 20);
+    
+    /* non ASCII chars	*/
+    CHECK ("\001", "\001", 1);
+    CHECK ("\377", "\377", 1);
+    CHECK ("\002\376", "\001\377", 0);
+
+    /* Result approx. 256	*/
+    CHECK ("................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "...............................................................",
+	   ".", 255);
+    CHECK ("................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "................................................................",
+	   "*.", 256);
+    CHECK ("................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "................................................................"
+	   ".+", "*.", 257);
+
+    return 0;
+}
diff --git a/tests/simulate/pmstring/strstr_P.c b/tests/simulate/pmstring/strstr_P.c
new file mode 100644
index 0000000..9921939
--- /dev/null
+++ b/tests/simulate/pmstring/strstr_P.c
@@ -0,0 +1,109 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* $Id$	*/
+
+#ifndef __AVR__
+# include <stdio.h>
+# define strstr_P  strstr
+#endif
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+void Check (int line, const char *s1, const char *s2, int expect)
+{
+    char t1[200];
+    char *p;
+
+    if (strlen_P(s1) > sizeof(t1) - 1)
+	exit (1);
+    strcpy_P (t1, s1);
+    p = strstr_P (t1, s2);
+    if ((!p && expect == -1)  || (p == t1 + expect))
+	return;
+#if	!defined(__AVR__)
+    printf ("\nLine %d: expect: %d, result: %d\n",
+	    line, expect, (p ? p - t1 : -1));
+    if (line > 255) line = 255;
+#elif	defined(DEBUG)
+    exit (p ? p - t1 : -1);
+#endif
+    exit (line);
+}
+
+#define CHECK(s1, s2, expect)	do {			\
+    Check (__LINE__, PSTR(s1), PSTR(s2), expect);	\
+} while (0)
+
+int main ()
+{
+    /* Empty 'needle'.	*/
+    CHECK ("", "", 0);
+    CHECK ("12345", "", 0);
+
+    /* bug #19135	*/
+    CHECK ("ababac", "abac", 2);
+
+    /* 'needle' of 1 byte long	*/
+    CHECK ("", "a", -1);
+    CHECK ("b", "a", -1);
+    CHECK ("a", "a", 0);
+    CHECK ("abcbef", "a", 0);
+    CHECK (".a", "a", 1);
+    CHECK (".a.", "a", 1);
+    CHECK ("ABCDEFGH", "H", 7);
+    
+    /* 'needle' of 2 bytes long	*/
+    CHECK ("", "12", -1);
+    CHECK ("13", "12", -1);
+    CHECK ("32", "12", -1);
+    CHECK ("12", "12", 0);
+    CHECK ("123", "12", 0);
+    CHECK ("012", "12", 1);
+    CHECK ("01200", "12", 1);
+    
+    /* partially mathing	*/
+    CHECK ("a_ab_abc_abcd_abcde", "abcdef", -1);
+    CHECK ("a_ab_abc_abcd_abcde_abcdef", "abcdef", 20);
+    CHECK ("aababcabcdabcde", "abcdef", -1);
+    CHECK ("aababcabcdabcdeabcdef", "abcdef", 15);
+    
+    /* repeated chars	*/
+    CHECK ("abaabaaabaaaab", "aaaaab", -1);
+    CHECK ("abaabaaabaaaabaaaaab", "aaaaab", 14);
+    
+    /* A first match is returned.	*/
+    CHECK ("_foo_foo", "foo", 1);
+    
+    /* Case is importent.	*/
+    CHECK ("A", "a", -1);
+
+    return 0;
+}
diff --git a/tests/simulate/pmstring/strtok_P.c b/tests/simulate/pmstring/strtok_P.c
new file mode 100644
index 0000000..4cd6ef0
--- /dev/null
+++ b/tests/simulate/pmstring/strtok_P.c
@@ -0,0 +1,190 @@
+/* Copyright (c) 2009  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of strtok_P().
+   $Id$	*/
+
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+#ifndef	__AVR__
+# include <stdio.h>
+# define PRINTFLN(line, fmt, ...)	\
+    printf ("\n%s:%d: " fmt "\n", __FILE__, line, ##__VA_ARGS__);
+# define EXIT(code)	exit ((code) < 255 ? (code) : 100 + (code) % 100)
+# define strtok_P(s,d)	strtok (s, d)
+#else
+# define PRINTFLN(args...)
+# define EXIT(code)	exit (code)
+#endif
+
+static void
+Check (int line, const char *s, const char *delim, int rslt, const char *token)
+{
+    static char ts[260];
+    char *p;
+
+    if (s) {
+	if (strlen_P (s) >= sizeof (ts)) {
+	    PRINTFLN (line, "Too small buffer");
+	    EXIT (1000 + line);
+	}
+	strcpy_P (ts, s);
+    }
+
+    p = strtok_P (s ? ts : 0, delim);
+
+    if (!p) {
+	if (rslt >= 0) {
+	    PRINTFLN (line, "Return 0, must: s+%d", rslt);
+	    EXIT (2000 + line);
+	}
+    } else {
+	if (rslt < 0) {
+	    PRINTFLN (line, "Return nonzero pointer: s+%d", p - ts);
+	    EXIT (3000 + line);
+	}
+	if ((p - ts) != rslt) {
+	    PRINTFLN (line, "Return s+%d, must: s+%d",
+		      p - ts, rslt);
+	    EXIT (4000 + line);
+	}
+	if (strcmp_P (p, token)) {
+	    PRINTFLN (line, "Return token \"%s\", must: \"%s\"", p, token);
+	    EXIT (5000 + line);
+	}
+    }
+}
+
+/* Args:
+     s     - string to parse (is saved in static buffer)
+     delim - delimeter list
+     rslt  - expected return value: (rslt >= 0 ? s+rslt : NULL)
+     token - expected pointed string (if rslt >= 0)
+ */
+#define CHECK(s, delim, rslt, token)	\
+    Check (__LINE__, PSTR (s), PSTR (delim), rslt, PSTR (token))
+
+#define CHECK0(delim, rslt, token)	\
+    Check (__LINE__, 0, PSTR (delim), rslt, PSTR (token))
+
+int main ()
+{
+    /* Empty string.	*/
+
+    CHECK ("", "", -1, "");
+
+    CHECK ("", ".", -1, "");
+
+    CHECK ("", "123", -1, "");
+
+    /* Empty delimeter list.	*/
+
+    CHECK ("A", "", 0, "A");
+    CHECK0 ("", -1, "");
+
+    CHECK ("12", "", 0, "12");
+    CHECK0 ("", -1, "");
+
+    CHECK ("dcba", "", 0, "dcba");
+    CHECK0 ("", -1, "");
+
+    /* No delimeter symbols are founded.	*/
+
+    CHECK ("\t", " ", 0, "\t");
+    CHECK0 (" ", -1, "");
+
+    CHECK ("THE QUICK BROWN FOX", "thequickbrownfox", 0, "THE QUICK BROWN FOX");
+    CHECK0 ("thequickbrownfox", -1, "");
+
+    /* Delimeter list is 1 byte long.	*/
+
+    CHECK ("1", ".", 0, "1");
+    CHECK0 (".", -1, "");
+
+    CHECK ("A,BC,DEF", ",", 0, "A");
+    CHECK0 (",", 2, "BC");
+    CHECK0 (",", 5, "DEF");
+    CHECK0 (",", -1, "");
+
+    /* Delimeter list is 2 bytes long.	*/
+
+    CHECK ("AB", "ab", 0, "AB");
+    CHECK0 ("ab", -1, "");
+
+    CHECK ("123+45-6", "+-", 0, "123");
+    CHECK0 ("+-", 4, "45");
+    CHECK0 ("+-", 7, "6");
+    CHECK0 ("+-", -1, "");
+
+    /* Variable delimeter list.	*/
+
+    CHECK ("A:B*C:D", ":", 0, "A");
+    CHECK0 ("*", 2, "B");
+    CHECK0 (":", 4, "C");
+    CHECK0 ("", 6, "D");
+    CHECK0 (":*", -1, "");
+
+    /* Empty field.	*/
+
+    CHECK (".", ".", -1, "");
+
+    CHECK ("The quick", "kciuq ehT", -1, "");
+
+    CHECK ("1,", ",", 0, "1");
+    CHECK0 (",", -1, "");
+
+    CHECK ("_2", "_", 1, "2");
+    CHECK0 ("_", -1, "");
+
+    CHECK ("A::B", ":", 0, "A");
+    CHECK0 (":", 3, "B");
+    CHECK0 (":", -1, "");
+
+    CHECK ("  a\n\rb  ", "\r\n ", 2, "a");
+    CHECK0 ("\r\n ", 5, "b");
+    CHECK0 ("\r\n ", -1, "");
+
+    /* String is approx. 256 bytes long.	*/
+
+    CHECK ("................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "...............................................................5",
+	   ".", 255, "5");
+
+    CHECK ("................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "................................................................6",
+	   ".", 256, "6");
+
+    return 0;
+}
diff --git a/tests/simulate/printf/snprintf_all-P.c b/tests/simulate/printf/snprintf_all-P.c
new file mode 100644
index 0000000..e86f1fa
--- /dev/null
+++ b/tests/simulate/printf/snprintf_all-P.c
@@ -0,0 +1,33 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* $Id$ */
+
+#define	L_progmem
+#include "snprintf_all.c"
diff --git a/tests/simulate/printf/snprintf_all.c b/tests/simulate/printf/snprintf_all.c
new file mode 100644
index 0000000..771d51f
--- /dev/null
+++ b/tests/simulate/printf/snprintf_all.c
@@ -0,0 +1,138 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* $Id$ */
+
+#ifndef __AVR__
+# define PRINTFLN(line, fmt, ...)	\
+    printf("\nLine %2d: " fmt "\n", line, ##__VA_ARGS__)
+# define EXIT(code)	exit ((code) < 255 ? (code) : 255)
+# define sprintf_P	sprintf
+#else
+# if defined(__AVR_ATmega128__)
+  /* ATmega128 has enough RAM for sprintf(), print to 0x2000 in XRAM. */
+#  define PRINTFLN(line, fmt, ...)	\
+    sprintf ((char *)0x2000, "\nLine %d: " fmt "\n", line, ##__VA_ARGS__)
+# else
+   /* small AVR */
+#  define PRINTFLN(args...)
+# endif
+# define EXIT	exit
+#endif
+
+#define	L_PRINTFLN(args...)	PRINTFLN (__LINE__, args)
+#define L_EXIT()		EXIT (__LINE__)
+
+#include <stdio.h>
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+#ifdef	L_progmem
+# ifdef	 __AVR__
+#  define snprintf	snprintf_P
+# endif
+# define PFMT(s)	PSTR(s)
+#else
+# define PFMT(s)	s
+#endif
+
+void Check (int line,
+            int expval, const char *expstr,
+	    int retval, const char *retstr)
+{
+    int code;
+
+    if (retval != expval)
+	code = line;
+    else if (strcmp_P (retstr, expstr))
+	code = 1000 + line;
+    else
+	return;
+    PRINTFLN (line, "expect: %3d, \"%s\",\n%8s output: %3d, \"%s\"\n",
+	      strlen(expstr), expstr, " ", retval, retval > 0 ? retstr : "");
+#ifdef	DEBUG
+    code = (int)retstr;
+#endif
+    EXIT (code);
+}
+
+#define FILLBUF	0x55	/* Before call of function to test
+			   buf[] is filled with nonzero value.	*/
+/* 'vp' is used to avoid gcc warnings about format string.	*/
+#define CHECK(expval, expstr, buf, size, fmt, ...)	do {	\
+    int (* volatile vp)(char *, size_t, const char *, ...);	\
+    vp = snprintf;						\
+    memset (buf, FILLBUF, sizeof(buf));				\
+    Check (__LINE__,						\
+	   expval, PSTR(expstr),				\
+	   vp (buf, size, PFMT(fmt), ##__VA_ARGS__),		\
+	   buf);						\
+} while (0)
+
+int main ()
+{
+    int (* volatile vp)(char *, size_t, const char *, ...);
+    char s[260];
+    int i;
+
+    /* size == 0	*/
+    vp = snprintf;		/* to avoid compiler warning	*/
+    i = vp (s+10, 0, PFMT(""));
+    if (i) L_EXIT ();
+
+    /* bug #19280: snprintf(s,0,...) write to s[-1]	*/
+    memset (s, FILLBUF, sizeof(s));
+    i = snprintf (s+10, 0, PFMT("foo"));
+    if (i != 3) L_EXIT ();
+    for (i = 0; i != (int)sizeof(s); i++) {
+	if ((unsigned char)s[i] != FILLBUF)
+	    L_EXIT ();
+    }
+
+    /* size == 1	*/
+    s[0] = 1;
+    CHECK (0, "", s, 1, "");
+    CHECK (3, "", s, 1, "foo");
+
+    /* size == 2	*/
+    CHECK (0, "", s, 2, "");
+    CHECK (1, ".", s, 2, ".");
+    CHECK (2, "a", s, 2, "aa");
+    CHECK (5, "1", s, 2, "%d", 12345);
+
+    /* big size	*/
+    CHECK (6, "-12345", s, sizeof(s), "%d", -12345);
+    CHECK (5, "54321", s, ~0u >> 1, "%u", 54321);		/* 32767 */
+    CHECK (4, "abcd", s, ~(~0u >> 1), "%x", 0xabcd);		/* 32768 */
+    CHECK (3, "123", s, ~0u, "%o", 0123);			/* 65535 */
+
+
+    return 0;
+}
diff --git a/tests/simulate/printf/sprintf-1.c b/tests/simulate/printf/sprintf-1.c
new file mode 100644
index 0000000..f43ed7d
--- /dev/null
+++ b/tests/simulate/printf/sprintf-1.c
@@ -0,0 +1,132 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of sprintf(), specifications: none, c, s(S).
+   $Id$	*/
+
+#include <stdio.h>
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+#ifndef __AVR__
+# define sprintf_P	sprintf
+#endif
+
+void Check (int line,
+            const char *expstr,
+	    int retval, const char *retstr)
+{
+    int code;
+
+    if (retval != (int)strlen (retstr))
+	code = 1000 + line;
+    else if (strcmp_P (retstr, expstr))
+	code = line;
+    else
+	return;
+#if	!defined(__AVR__)
+    if (code) {
+	printf ("\nLine %d: expect: %3d, \"%s\","
+		"\n         output: %3d, \"%s\"\n",
+		line, strlen (expstr), expstr, retval, retstr);
+	code = (line < 256 ? line : 255);	/* common OS restriction */
+    }
+#elif	defined(DEBUG)
+    exit ((int)retstr);
+#endif
+    exit (code);
+}
+
+/* 'vp' is used to avoid gcc warnings about format string.	*/
+#define CHECK(expstr, fmt, ...)	do {				\
+    char s[260];						\
+    int i;							\
+    int (* volatile vp)(char *, const char *, ...) = sprintf_P;	\
+    memset (s, 0, sizeof(s));					\
+    i = vp (s, PSTR(fmt), ##__VA_ARGS__);			\
+    Check (__LINE__, PSTR(expstr), i, s);			\
+} while (0)
+
+int main ()
+{
+    CHECK ("", "");
+
+    /* Without format specifications	*/
+    CHECK (" ", " ");
+    CHECK ("\001", "\001");
+    CHECK ("\a\b\t\n\v\f\r ! 09 AZ az \177\200\201 \377",
+	   "\a\b\t\n\v\f\r ! 09 AZ az \177\200\201 \377");
+    CHECK ("%", "%%");
+    CHECK ("%% ", "%%%% ");
+
+    /* '%c' specification	*/
+    CHECK ("a", "%c", 'a');
+    CHECK ("\001\177\200\201\377", "%c%c%c%c%c", 001,0177,0200,0201,0377);
+    CHECK ("A B C D E", "%0c %+c %-c % c %#c", 'A','B','C','D','E');
+    CHECK ("A B C D", "%.c %.0c %.1c %.99c", 'A','B','C','D');
+    CHECK ("A. B.    C.         D", "%1c.%2c.%5c.%10.2c", 'A','B','C','D','E');
+    CHECK ("A.B .C         ", "%-1c.%-2c.%-10c", 'A','B','C');
+    CHECK ("                                                                "
+	   "                                                                "
+	   "                                                                "
+	   "                                                              F",
+	   "%255c", 'F');
+    CHECK ("G                                                               "
+	   "                                                                "
+	   "                                                                "
+	   "                                                               ",
+	   "%-255c", 'G');
+	   
+
+    /* '%s' specification	*/
+    CHECK ("", "%s", "");
+    CHECK ("A", "%s", "A");
+    CHECK ("123456789\001\177\200\201\377", "%s",
+           "123456789\001\177\200\201\377");
+    CHECK ("A B C D E", "%0s %+s %-s % s %#s", "A","B","C","D","E");
+    CHECK ("A. B.    C.         D", "%1s.%2s.%5s.%10.2s", "A","B","C","D");
+    CHECK (".a.0123456789", "%.0s.%.1s.%.10s", "ABCDEF","abcdef","0123456789");
+
+#ifdef	__AVR__
+    /* '%S' specification	*/
+    CHECK ("", "%S", PSTR(""));
+    CHECK ("A", "%S", PSTR("A"));
+    CHECK ("123456789\001\177\200\201\377", "%S",
+           PSTR("123456789\001\177\200\201\377"));
+    CHECK ("A B C D E", "%0S %+S %-S % S %#S",
+	   PSTR("A"), PSTR("B"), PSTR("C"), PSTR("D"), PSTR("E"));
+    CHECK ("A. B.    C.         D", "%1S.%2S.%5S.%10.2S",
+	   PSTR("A"), PSTR("B"), PSTR("C"), PSTR("D"));
+    CHECK (".a.0123456789", "%.0S.%.1S.%.10S",
+	   PSTR("ABCDEF"), PSTR("abcdef"), PSTR("0123456789"));
+#endif
+
+    return 0;
+}
diff --git a/tests/simulate/printf/sprintf-2.c b/tests/simulate/printf/sprintf-2.c
new file mode 100644
index 0000000..00086b7
--- /dev/null
+++ b/tests/simulate/printf/sprintf-2.c
@@ -0,0 +1,162 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of 'd(i,u)' specification.
+   $Id$	*/
+
+#include <stdio.h>
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+#ifndef __AVR__
+# define sprintf_P	sprintf
+#endif
+
+void Check (int line,
+            const char *expstr,
+	    int retval, const char *retstr)
+{
+    int code;
+
+    if (retval != (int)strlen (retstr))
+	code = 1000 + line;
+    else if (strcmp_P (retstr, expstr))
+	code = line;
+    else
+	return;
+#if	!defined(__AVR__)
+    if (code) {
+	printf ("\nLine %3d: expect: %3d, \"%s\","
+		"\n          output: %3d, \"%s\"\n",
+		line, strlen (expstr), expstr, retval, retstr);
+	code = (line < 256 ? line : 255);	/* common OS restriction */
+    }
+#elif	defined(DEBUG)
+    exit ((int)retstr);
+#endif
+    exit (code);
+}
+
+/* 'vp' is used to avoid gcc warnings about format string.	*/
+#define CHECK(expstr, fmt, ...)	do {				\
+    char s[260];						\
+    int i;							\
+    int (* volatile vp)(char *, const char *, ...) = sprintf_P;	\
+    memset (s, 0, sizeof(s));					\
+    i = vp (s, PSTR(fmt), ##__VA_ARGS__);			\
+    Check (__LINE__, PSTR(expstr), i, s);			\
+} while (0)
+
+int main ()
+{
+    /* '%d' specification	*/
+    CHECK ("0", "%d", 0);
+    CHECK ("12345", "%d", 12345);
+    CHECK ("-32768 -32767 -1 0 1 32767",
+           "%d %d %d %d %d %d",
+	   (int)-32768, -32767, -1, 0, 1, 32767);
+
+    CHECK ("0 1 -1", "%0d %0d %0d", 0, 1, -1);
+    CHECK ("+0 +1 -1", "%+d %+d %+d", 0, 1, -1);
+    CHECK ("0 1 -1", "%-d %-d %-d", 0, 1, -1);
+    CHECK ("0 1 -1", "%#d %#d %#d", 0, 1, -1);
+    CHECK (" 0  1 -1", "% d % d % d", 0, 1, -1);
+    
+    CHECK ("0000.0001.-001.1234.-123.12345.-1234",
+	   "%04d.%04d.%04d.%04d.%04d.%04d.%04d",
+	   0, 1, -1, 1234, -123, 12345, -1234);
+
+    CHECK ("    0001", "%08.4d", 1);		/* 0 - ignored	*/
+    CHECK ("       1", "%08.0d", 1);
+    CHECK ("       1", "%08.d", 1);
+
+#ifdef	__AVR__
+    CHECK ("0", "%.0d", 0);
+#endif
+    CHECK ("1 -1", "%.0d %.0d", 1, -1);
+    CHECK ("0 1 -1", "%.1d %.1d %.1d", 0, 1, -1);
+    CHECK ("00 01 -01", "%.2d %.2d %.2d", 0, 1, -1);
+    CHECK ("0000 0001 0012 0123 1234 12345",
+	   "%.4d %.4d %.4d %.4d %.4d %.4d",
+	   0, 1, 12, 123, 1234, 12345);
+
+    CHECK ("0.1.-1", "%1d.%1d.%1d", 0, 1, -1);
+    CHECK (" 1.12.123", "%2d.%2d.%2d", 1, 12, 123);
+    CHECK ("  -1. -12.-123.-1234", "%4d.%4d.%4d.%4d", -1, -12, -123, -1234);
+    CHECK ("  12. -13", "%#4d.%#4d", 12, -13);
+    CHECK ("  14. -15", "% 4d.% 4d", 14, -15);
+    CHECK (" +16. -17", "%+4d.%+4d", 16, -17);
+    CHECK ("18  .-19 ", "%-4d.%-4d", 18, -19);
+
+    CHECK ("    0001.   -0001.    1234.   -1234",
+	   "%8.4d.%8.4d.%8.4d.%8.4d", 1, -1, 1234, -1234);
+    CHECK ("    0012.    0013.    0014.   +0015",
+	   "%08.4d.%#8.4d.% 8.4d.%+8.4d", 12, 13, 14, 15);
+    CHECK ("0001    .0123    .1234    .12345   ",
+	   "%-8.4d.%-8.4d.%-8.4d.%-8.4d", 1, 123, 1234, 12345);
+    CHECK ("-0001   .-0123   .-1234   .-12345  ",
+	   "%-8.4d.%-8.4d.%-8.4d.%-8.4d", -1, -123, -1234, -12345);
+#if !defined(__AVR_AT90S8515__) /* this does not fit */
+
+    CHECK ("                                                                "
+	   "                                                                "
+	   "                                                                "
+	   "                                                              1",
+	   "%255d", 1);
+    CHECK ("1                                                               "
+	   "                                                                "
+	   "                                                                "
+	   "                                                               ",
+	   "%-255d", 1);
+    CHECK ("0000000000000000000000000000000000000000000000000000000000000000"
+	   "0000000000000000000000000000000000000000000000000000000000000000"
+	   "0000000000000000000000000000000000000000000000000000000000000000"
+	   "000000000000000000000000000000000000000000000000000000000000002",
+	   "%.255d", 2);
+
+    /* long arg	*/
+    CHECK ("0 1 -1 2147483647 -2147483647 -2147483648",
+	   "%ld %ld %ld %ld %ld %ld",
+	   0L, 1L, -1L, 2147483647L, -2147483647L, 0x80000000L);
+
+    /* short arg	*/
+    CHECK ("0 2 -2", "%hd %hd %hd", 0, 2, -2);
+
+    /* '%i' specification	*/
+    CHECK ("-9", "%i", -9);
+#endif
+
+    /* '%u' specification	*/
+    CHECK ("0 1 32767 32768 32769 65535",
+           "%u %u %u %u %u %u",
+	   0, 1, 0x7fff, 0x8000, 0x8001, 0xffff);
+
+    return 0;
+}
diff --git a/tests/simulate/printf/sprintf-3.c b/tests/simulate/printf/sprintf-3.c
new file mode 100644
index 0000000..ca9b523
--- /dev/null
+++ b/tests/simulate/printf/sprintf-3.c
@@ -0,0 +1,157 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of 'o' specification.
+   $Id$	*/
+
+#include <stdio.h>
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+#ifndef __AVR__
+# define sprintf_P	sprintf
+#endif
+
+void Check (int line,
+            const char *expstr,
+	    int retval, const char *retstr)
+{
+    int code;
+
+    if (retval != (int)strlen (retstr))
+	code = 1000 + line;
+    else if (strcmp_P (retstr, expstr))
+	code = line;
+    else
+	return;
+#if	!defined(__AVR__)
+    if (code) {
+	printf ("\nLine %3d: expect: %3d, \"%s\","
+		"\n          output: %3d, \"%s\"\n",
+		line, strlen (expstr), expstr, retval, retstr);
+	code = (line < 256 ? line : 255);	/* common OS restriction */
+    }
+#elif	defined(DEBUG)
+    exit ((int)retstr);
+#endif
+    exit (code);
+}
+
+/* 'vp' is used to avoid gcc warnings about format string.	*/
+#define CHECK(expstr, fmt, ...)	do {				\
+    char s[260];						\
+    int i;							\
+    int (* volatile vp)(char *, const char *, ...) = sprintf_P;	\
+    memset (s, 0, sizeof(s));					\
+    i = vp (s, PSTR(fmt), ##__VA_ARGS__);			\
+    Check (__LINE__, PSTR(expstr), i, s);			\
+} while (0)
+
+int main ()
+{
+    /* '%o' specification	*/
+    CHECK ("0", "%o", 0);
+    CHECK ("123456", "%o", 0123456);
+    CHECK ("1 77777 100000 100001 177777",
+           "%o %o %o %o %o",
+	   1, 0x7fff, 0x8000, 0x8001, 0xffff);
+
+    CHECK ("0 1 177777", "%0o %0o %0o", 0, 1, 0xffff);
+    CHECK ("0 1 177777", "% o % o % o", 0, 1, 0xffff);
+    CHECK ("0 1 177777", "%+o %+o %+o", 0, 1, 0xffff);
+    CHECK ("0 1 177777", "%-o %-o %-o", 0, 1, 0xffff);
+    CHECK ("0 01 0177777", "%#o %#o %#o", 0, 1, 0xffff);
+
+#ifdef	__AVR__
+    CHECK ("0", "%.0o", 0);
+#endif
+    CHECK ("1 177777", "%.0o %.0o", 1, 0xffff);
+    CHECK ("0 1 177777", "%.1o %.1o %.1o", 0, 1, 0xffff);
+    CHECK ("00 01 10 177777", "%.2o %.2o %.2o %.2o", 0, 1, 8, 0xffff);
+    CHECK ("0000 0001 0012 0123 1234 12345",
+	   "%.4o %.4o %.4o %.4o %.4o %.4o",
+	   0, 1, 012, 0123, 01234, 012345);
+
+    CHECK ("0.1.177777", "%1o.%1o.%1o", 0, 1, 0xffff);
+    CHECK (" 1.12.123", "%2o.%2o.%2o", 1, 012, 0123);
+    CHECK ("   1.  12. 123.1234.12345",
+	   "%4o.%4o.%4o.%4o.%4o", 1, 012, 0123, 01234, 012345);
+    CHECK (" 012.0123.01234", "%#4o.%#4o.%#4o", 012, 0123, 01234);
+    CHECK ("  14.177777", "% 4o.% 4o", 014, 0xffff);
+    CHECK ("  16.177777", "%+4o.%+4o", 016, 0xffff);
+    CHECK ("17  .177777", "%-4o.%-4o", 017, 0xffff);
+
+    CHECK ("0000.0001.0012.0123.1234.12345.177777",
+	   "%04o.%04o.%04o.%04o.%04o.%04o.%04o",
+	   0, 1, 012, 0123, 01234, 012345, 0177777);
+
+    CHECK ("    0001", "%08.4o", 1);		/* 0 - ignored	*/
+    CHECK ("       1", "%08.0o", 1);
+    CHECK ("       1", "%08.o", 1);
+
+    CHECK ("    0001.    0123.    1234.  177777",
+	   "%8.4o.%8.4o.%8.4o.%8.4o", 1, 0123, 01234, 0xffff);
+    CHECK ("    0012.    0013.    0014",
+	   "%08.4o.% 8.4o.%+8.4o", 012, 013, 014);
+    CHECK ("0001    .0123    .1234    .12345   ",
+	   "%-8.4o.%-8.4o.%-8.4o.%-8.4o", 1, 0123, 01234, 012345);
+
+    CHECK ("    0000.    0001.    0012.    0123.   01234",
+           "%#8.4o.%#8.4o.%#8.4o.%#8.4o.%#8.4o", 0, 1, 012, 0123, 01234);
+
+#if !defined(__AVR_AT90S8515__) /* this does not fit */
+    CHECK ("                                                                "
+	   "                                                                "
+	   "                                                                "
+	   "                                                              1",
+	   "%255o", 1);
+    CHECK ("1                                                               "
+	   "                                                                "
+	   "                                                                "
+	   "                                                               ",
+	   "%-255o", 1);
+    CHECK ("0000000000000000000000000000000000000000000000000000000000000000"
+	   "0000000000000000000000000000000000000000000000000000000000000000"
+	   "0000000000000000000000000000000000000000000000000000000000000000"
+	   "000000000000000000000000000000000000000000000000000000000000002",
+	   "%.255o", 2);
+
+    /* long arg	*/
+    CHECK ("0 1234567 76543210 17777777777 20000000000 20000000001 37777777777",
+	   "%lo %lo %lo %lo %lo %lo %lo",
+	   0L, 01234567L, 076543210L,
+	   0x7fffffffL, 0x80000000L, 0x80000001L, 0xffffffffL);
+#endif
+
+    /* short arg	*/
+    CHECK ("0 2 177776", "%ho %ho %ho", 0, 2, 0xfffe);
+
+    return 0;
+}
diff --git a/tests/simulate/printf/sprintf-4.c b/tests/simulate/printf/sprintf-4.c
new file mode 100644
index 0000000..d72eb4b
--- /dev/null
+++ b/tests/simulate/printf/sprintf-4.c
@@ -0,0 +1,157 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of sprintf(), 'x' specification.
+   $Id$	*/
+
+#include <stdio.h>
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+#ifndef __AVR__
+# define sprintf_P	sprintf
+#endif
+
+void Check (int line,
+            const char *expstr,
+	    int retval, const char *retstr)
+{
+    int code;
+
+    if (retval != (int)strlen (retstr))
+	code = 1000 + line;
+    else if (strcmp_P (retstr, expstr))
+	code = line;
+    else
+	return;
+#if	!defined(__AVR__)
+    if (code) {
+	printf ("\nLine %3d: expect: %3d, \"%s\","
+		"\n          output: %3d, \"%s\"\n",
+		line, strlen (expstr), expstr, retval, retstr);
+	code = (line < 256 ? line : 255);	/* common OS restriction */
+    }
+#elif	defined(DEBUG)
+    exit ((int)retstr);
+#endif
+    exit (code);
+}
+
+/* 'vp' is used to avoid gcc warnings about format string.	*/
+#define CHECK(expstr, fmt, ...)	do {				\
+    char s[260];						\
+    int i;							\
+    int (* volatile vp)(char *, const char *, ...) = sprintf_P;	\
+    memset (s, 0, sizeof(s));					\
+    i = vp (s, PSTR(fmt), ##__VA_ARGS__);			\
+    Check (__LINE__, PSTR(expstr), i, s);			\
+} while (0)
+
+int main ()
+{
+    /* '%x' specification	*/
+    CHECK ("0", "%x", 0);
+    CHECK ("1234 5678 9abc def0",
+	   "%x %x %x %x", 0x1234, 0x5678, 0x9abc, 0xdef0);
+    CHECK ("1 7fff 8000 8001 ffff",
+           "%x %x %x %x %x", 1, 0x7fff, 0x8000, 0x8001, 0xffff);
+
+    CHECK ("0 1 ffff", "%0x %0x %0x", 0, 1, 0xffff);
+    CHECK ("0 1 ffff", "% x % x % x", 0, 1, 0xffff);
+    CHECK ("0 1 ffff", "%+x %+x %+x", 0, 1, 0xffff);
+    CHECK ("0 1 ffff", "%-x %-x %-x", 0, 1, 0xffff);
+    CHECK ("0 0x1 0xffff", "%#x %#x %#x", 0, 1, 0xffff);
+
+#ifdef	__AVR__
+    CHECK ("0", "%.0x", 0);
+#endif
+    CHECK ("1 ffff", "%.0x %.0x", 1, 0xffff);
+    CHECK ("0 1 ffff", "%.1x %.1x %.1x", 0, 1, 0xffff);
+    CHECK ("00 01 ff ffff", "%.2x %.2x %.2x %.2x", 0, 1, 255, 0xffff);
+    CHECK ("000 001 012 123 1234",
+	   "%.3x %.3x %.3x %.3x %.3x", 0, 1, 0x12, 0x123, 0x1234);
+
+    CHECK ("0.1.ffff", "%1x.%1x.%1x", 0, 1, 0xffff);
+    CHECK (" 1.12.123", "%2x.%2x.%2x", 1, 0x12, 0x123);
+    CHECK ("  1. 12.123.1234",
+	   "%3x.%3x.%3x.%3x", 1, 0x12, 0x123, 0x1234);
+    CHECK ("   0. 0x1.0x12.0x123.0x1234",
+	   "%#4x.%#4x.%#4x.%#4x.%#4x", 0, 1, 0x12, 0x123, 0x1234);
+    CHECK ("  14.ffff", "% 4x.% 4x", 0x14, 0xffff);
+    CHECK ("  16.ffff", "%+4x.%+4x", 0x16, 0xffff);
+    CHECK ("17  .ffff", "%-4x.%-4x", 0x17, 0xffff);
+
+    CHECK ("0000.0001.0012.0123.1234",
+	   "%04x.%04x.%04x.%04x.%04x",
+	   0, 1, 0x12, 0x123, 0x1234);
+
+    CHECK ("    0001", "%08.4x", 1);		/* 0 - ignored	*/
+    CHECK ("       1", "%08.0x", 1);
+    CHECK ("       1", "%08.x", 1);
+
+    CHECK ("     000.     001.     012.     123.    1234",
+	   "%8.3x.%8.3x.%8.3x.%8.3x.%8.3x", 0, 1, 0x12, 0x123, 0x1234);
+    CHECK ("    0012.    0013.    0014",
+	   "%08.4x.% 8.4x.%+8.4x", 0x12, 0x13, 0x14);
+    CHECK ("000     .001     .012     .123     .1234    ",
+	   "%-8.3x.%-8.3x.%-8.3x.%-8.3x.%-8.3x", 0, 1, 0x12, 0x123, 0x1234);
+
+    CHECK ("    0000.  0x0001.  0x0012.  0x0123.  0x1234",
+           "%#8.4x.%#8.4x.%#8.4x.%#8.4x.%#8.4x",
+	   0, 1, 0x12, 0x123, 0x1234);
+
+#if !defined(__AVR_AT90S8515__) /* this does not fit */
+    CHECK ("                                                                "
+	   "                                                                "
+	   "                                                                "
+	   "                                                              1",
+	   "%255x", 1);
+    CHECK ("1                                                               "
+	   "                                                                "
+	   "                                                                "
+	   "                                                               ",
+	   "%-255x", 1);
+    CHECK ("0000000000000000000000000000000000000000000000000000000000000000"
+	   "0000000000000000000000000000000000000000000000000000000000000000"
+	   "0000000000000000000000000000000000000000000000000000000000000000"
+	   "000000000000000000000000000000000000000000000000000000000000002",
+	   "%.255x", 2);
+
+    /* long arg	*/
+    CHECK ("0 1 12345678 9abcdef0 7fffffff 80000000 80000001 ffffffff",
+	   "%lx %lx %lx %lx %lx %lx %lx %lx",
+	   0L, 1L, 0x12345678L, 0x9abcdef0L,
+	   0x7fffffffL, 0x80000000L, 0x80000001L, 0xffffffffL);
+
+    /* short arg	*/
+    CHECK ("0 2 fffe", "%hx %hx %hx", 0, 2, 0xfffe);
+#endif
+    return 0;
+}
diff --git a/tests/simulate/printf/sprintf-5.c b/tests/simulate/printf/sprintf-5.c
new file mode 100644
index 0000000..07545bc
--- /dev/null
+++ b/tests/simulate/printf/sprintf-5.c
@@ -0,0 +1,92 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of sprintf(), 'p,X' specifications.
+   $Id$	*/
+
+#include <stdio.h>
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+#ifndef __AVR__
+# define sprintf_P	sprintf
+#endif
+
+void Check (int line,
+            const char *expstr,
+	    int retval, const char *retstr)
+{
+    int code;
+
+    if (retval != (int)strlen (retstr))
+	code = 1000 + line;
+    else if (strcmp_P (retstr, expstr))
+	code = line;
+    else
+	return;
+#if	!defined(__AVR__)
+    if (code) {
+	printf ("\nLine %3d: expect: %3d, \"%s\","
+		"\n          output: %3d, \"%s\"\n",
+		line, strlen (expstr), expstr, retval, retstr);
+	code = (line < 256 ? line : 255);	/* common OS restriction */
+    }
+#elif	defined(DEBUG)
+    exit ((int)retstr);
+#endif
+    exit (code);
+}
+
+/* 'vp' is used to avoid gcc warnings about format string.	*/
+#define CHECK(expstr, fmt, ...)	do {				\
+    char s[260];						\
+    int i;							\
+    int (* volatile vp)(char *, const char *, ...) = sprintf_P;	\
+    memset (s, 0, sizeof(s));					\
+    i = vp (s, PSTR(fmt), ##__VA_ARGS__);			\
+    Check (__LINE__, PSTR(expstr), i, s);			\
+} while (0)
+
+int main ()
+{
+    /* '%X'	*/
+    CHECK ("0 1234 5678 9ABC DEF0",
+           "%X %X %X %X %X", 0, 0x1234, 0x5678, 0x9abc, 0xdef0);
+    CHECK ("0XFEDC 0XBA98 0X7654 0X3210",
+	   "%#X %#X %#X %#X", 0xfedc, 0xba98, 0x7654, 0x3210);
+
+    /* '%p'	*/
+#ifdef	__AVR__
+    CHECK ("0", "%p", 0);
+#endif
+    CHECK ("0x1 0xabcd 0xef02", "%p %p %p", 1, 0xabcd, 0xef02);
+
+    return 0;
+}
diff --git a/tests/simulate/printf/sprintf-inv.c b/tests/simulate/printf/sprintf-inv.c
new file mode 100644
index 0000000..beffada
--- /dev/null
+++ b/tests/simulate/printf/sprintf-inv.c
@@ -0,0 +1,122 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of sprintf(), invalid format.
+   $Id$	*/
+
+#include <stdio.h>
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+#ifndef __AVR__
+# define sprintf_P	sprintf
+#endif
+
+void Check (int line,
+	    int explen,
+            const char *expstr,
+	    int retval, const char *retstr)
+{
+    int code;
+
+    if (retval != explen)
+	code = 1000 + line;
+    else if (strcmp_P (retstr, expstr))
+	code = line;
+    else
+	return;
+#if	!defined(__AVR__)
+    if (code) {
+	printf ("\nLine %3d: expect: %3d, \"%s\","
+		"\n          output: %3d, \"%s\"\n",
+		line, explen, expstr, retval, retstr);
+	code = (line < 256 ? line : 255);	/* common OS restriction */
+    }
+#elif	defined(DEBUG)
+    exit ((int)retstr);
+#endif
+    exit (code);
+}
+
+/* 'vp' is used to avoid gcc warnings about format string.	*/
+#define CHECK(explen, expstr, fmt, ...)	do {			\
+    char s[260];						\
+    int i;							\
+    int (* volatile vp)(char *, const char *, ...) = sprintf_P;	\
+    memset (s, 0, sizeof(s));					\
+    i = vp (s, PSTR(fmt), ##__VA_ARGS__);			\
+    Check (__LINE__, explen, PSTR(expstr), i, s);		\
+} while (0)
+
+int main ()
+{
+    /* Format last symbol is absent	*/
+#ifdef	__AVR__		/* Glibc return -1, if '%' has not a format spec. */
+    CHECK (0, "", "%");
+    CHECK (1, ".", ".%");
+    CHECK (1, ".", ".%0");
+    CHECK (6, "12345 ", "%d %+l", 12345);
+#endif
+
+    /* 'hh' length modifier is possible, but it is ignored in avr-libc	*/
+    CHECK (3, "123", "%hhd", 123);
+    
+    /* Length modifier and conversion mismatch: ignored	*/
+    CHECK (1, "a", "%hhc", 'a');
+    CHECK (1, "b", "%hc", 'b');
+    CHECK (3, "foo", "%hhs", "foo");
+    CHECK (3, "foo", "%hs", "foo");
+    
+    /* If the `space' and `+' flags both appear, the `space' flag
+       is ignored.	*/
+    CHECK (7, "+10.+11", "% +d.%+ d", 10, 11);
+    
+#ifdef	__AVR__
+    /* Unknown format: glibc output is "%b", return value 2.	*/
+    CHECK (0, "", "%b");
+
+    /* Two precision dots.	*/
+    CHECK (0, "", "%8..4d", 1);
+    
+    /* Long long arg	*/
+    CHECK (0, "", "%lld", 1LL);
+
+    /* wint_t, wchar_t: ignore	*/
+    CHECK (1, "c", "%lc", 'c');
+    CHECK (3, "foo", "%ls", "foo");
+    
+    /* The asterisk `*' in width or precision.	*/
+    CHECK (0, "", "%*d", 10, 12345);
+    CHECK (0, "", "%10.*d", 6, 12345);
+    CHECK (0, "", "%*.*d", 10, 6, 12345);
+#endif
+
+    return 0;
+}
diff --git a/tests/simulate/printf/sprintf_flt-big.c b/tests/simulate/printf/sprintf_flt-big.c
new file mode 100644
index 0000000..8b4794c
--- /dev/null
+++ b/tests/simulate/printf/sprintf_flt-big.c
@@ -0,0 +1,187 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of sprintf(), float version, very long strings.
+   $Id$	*/
+
+#include <stdio.h>
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+PROGMEM static const struct sprf_s {
+    char fmt[8];
+    float val;
+    char pattern[260];
+} t[] = {
+
+    { "%255e",		1.234567,
+	"                                "	/* 32 */
+	"                                "	/* 32 */
+	"                                "	/* 32 */
+	"                                "	/* 32 */
+	"                                "	/* 32 */
+	"                                "	/* 32 */
+	"                                "	/* 32 */
+	"                   1.234567e+00"	},
+    { "%255.7e",	1.2345678,
+	"                                "	/* 32 */
+	"                                "	/* 32 */
+	"                                "	/* 32 */
+	"                                "	/* 32 */
+	"                                "	/* 32 */
+	"                                "	/* 32 */
+	"                                "	/* 32 */
+	"                  1.2345678e+00"	},
+    { "%+255e",		1.234567,
+	"                                "	/* 32 */
+	"                                "	/* 32 */
+	"                                "	/* 32 */
+	"                                "	/* 32 */
+	"                                "	/* 32 */
+	"                                "	/* 32 */
+	"                                "	/* 32 */
+	"                  +1.234567e+00"	},
+    { "%0255e",		1.234567,
+	"00000000000000000000000000000000"	/* 32 */
+	"00000000000000000000000000000000"	/* 32 */
+	"00000000000000000000000000000000"	/* 32 */
+	"00000000000000000000000000000000"	/* 32 */
+	"00000000000000000000000000000000"	/* 32 */
+	"00000000000000000000000000000000"	/* 32 */
+	"00000000000000000000000000000000"	/* 32 */
+	"00000000000000000001.234567e+00"	},
+    { "%+0255e",	1.234567,
+	"+0000000000000000000000000000000"	/* 32 */
+	"00000000000000000000000000000000"	/* 32 */
+	"00000000000000000000000000000000"	/* 32 */
+	"00000000000000000000000000000000"	/* 32 */
+	"00000000000000000000000000000000"	/* 32 */
+	"00000000000000000000000000000000"	/* 32 */
+	"00000000000000000000000000000000"	/* 32 */
+	"00000000000000000001.234567e+00"	},
+    { "%+0255e",	-1.234567,
+	"-0000000000000000000000000000000"	/* 32 */
+	"00000000000000000000000000000000"	/* 32 */
+	"00000000000000000000000000000000"	/* 32 */
+	"00000000000000000000000000000000"	/* 32 */
+	"00000000000000000000000000000000"	/* 32 */
+	"00000000000000000000000000000000"	/* 32 */
+	"00000000000000000000000000000000"	/* 32 */
+	"00000000000000000001.234567e+00"	},
+    { "%-255e",		1.234567,
+	"1.234567e+00                    "
+	"                                "	/* 32 */
+	"                                "	/* 32 */
+	"                                "	/* 32 */
+	"                                "	/* 32 */
+	"                                "	/* 32 */
+	"                                "	/* 32 */
+	"                               "	},
+
+    { "%255.0f",	1.25,
+	"                                "	/* 32 */
+	"                                "	/* 32 */
+	"                                "	/* 32 */
+	"                                "	/* 32 */
+	"                                "	/* 32 */
+	"                                "	/* 32 */
+	"                                "	/* 32 */
+	"                              1"	},
+    { "%.255f",		1.25,
+	"1.250000000000000000000000000000"
+	"00000000000000000000000000000000"	/* 32 */
+	"00000000000000000000000000000000"	/* 32 */
+	"00000000000000000000000000000000"	/* 32 */
+	"00000000000000000000000000000000"	/* 32 */
+	"00000000000000000000000000000000"	/* 32 */
+	"00000000000000000000000000000000"	/* 32 */
+	"000000000000000000000000000000000"	},
+    { "%0255f",		1.25,
+	"00000000000000000000000000000000"	/* 32 */
+	"00000000000000000000000000000000"	/* 32 */
+	"00000000000000000000000000000000"	/* 32 */
+	"00000000000000000000000000000000"	/* 32 */
+	"00000000000000000000000000000000"	/* 32 */
+	"00000000000000000000000000000000"	/* 32 */
+	"00000000000000000000000000000000"	/* 32 */
+	"000000000000000000000001.250000"	},
+    { "%-255f",		1.25,
+	"1.250000                        "
+	"                                "	/* 32 */
+	"                                "	/* 32 */
+	"                                "	/* 32 */
+	"                                "	/* 32 */
+	"                                "	/* 32 */
+	"                                "	/* 32 */
+	"                               "	},
+
+    /* the smallest nonzero	*/
+    { "%.45f",		0x1p-149f,
+	"0.000000000000000000000000000000000000000000001"	},
+    { "%.50f",		0x1p-149f,
+	"0.00000000000000000000000000000000000000000000140130"	},
+
+};
+
+void run_sprf (const struct sprf_s *pt, int testno)
+{
+    static char s[300];
+    int n;
+    int code;
+
+#ifdef	__AVR__
+    n = sprintf_P (s, pt->fmt, pgm_read_dword (& pt->val));
+#else
+    n = sprintf (s, pt->fmt, pt->val);
+#endif
+    if (n != (int)strlen_P (pt->pattern))
+	code = testno + 1000;
+    else if (strcmp_P (s, pt->pattern))
+	code = testno;
+    else
+	return;
+#if  !defined(__AVR__)
+    printf ("\ntestno %3d: expect: %3d, \"%s\","
+	    "\n            output: %3d, \"%s\"\n",
+	    testno, strlen(pt->pattern), pt->pattern, n, s);
+    exit (code < 256 ? testno : 255);
+#elif	defined(DEBUG)
+    exit ((int)s);
+#endif
+    exit (code);
+}
+
+int main ()
+{
+    int i;
+    for (i = 0; (unsigned)i != sizeof(t)/sizeof(t[0]); i++)
+	run_sprf (t+i, i+1);
+    return 0;
+}
diff --git a/tests/simulate/printf/sprintf_flt-e01.c b/tests/simulate/printf/sprintf_flt-e01.c
new file mode 100644
index 0000000..da2030e
--- /dev/null
+++ b/tests/simulate/printf/sprintf_flt-e01.c
@@ -0,0 +1,142 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of sprintf(), float version, '%e(E)' specification.
+   $Id$	*/
+
+#include <stdio.h>
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+PROGMEM static const struct sprf_s {
+    char fmt[8];
+    float val;
+    char pattern[21];
+} t[] = {
+
+/* Flags separatly.	*/
+    { "%e",	1.234567,	"1.234567e+00"	},
+    { "%E",	1.234567,	"1.234567E+00"	},
+    { "% e",	1.234567,	" 1.234567e+00"	},
+    { "%+e",	1.234567,	"+1.234567e+00"	},
+    { "%.3e",	1.234567,	"1.235e+00"	},
+    { "%20e",	1.234567,	"        1.234567e+00"	},
+    { "%-20e",	1.234567,	"1.234567e+00        "	},
+    { "%020e",	1.234567,	"000000001.234567e+00"	},
+
+/* Flags together.	*/
+    { "% E",	1.234567,	" 1.234567E+00"	},
+    { "% +e",	1.234567,	"+1.234567e+00"	},
+    { "% e", 	-1.234567,	"-1.234567e+00"	},
+    { "%+020e",	1.234567,	"+00000001.234567e+00"	},
+    { "%-020e",	1.234567,	"1.234567e+00        "	},
+
+/* Precision.	*/
+    { "%.7e",	1.2345678,	"1.2345678e+00"	},
+    { "%.6e",	1.2345678,	"1.234568e+00"	},
+    { "%.5e",	1.2345678,	"1.23457e+00"	},
+    { "%.4e",	1.2345678,	"1.2346e+00"	},
+    { "%.3e",	1.2345678,	"1.235e+00"	},
+    { "%.2e",	1.2345678,	"1.23e+00"	},
+    { "%.1e",	1.2345678,	"1.2e+00"	},
+    { "%.0e",	1.2345678,	"1e+00"		},
+    { "%.e",	1.2345678,	"1e+00"		},
+
+/* Width.	*/
+    { "%1e",	1.2345678,	"1.234568e+00"	},
+    { "%12e",	1.2345678,	"1.234568e+00"	},
+    { "%13e",	1.2345678,	" 1.234568e+00"	},
+    { "%13e",	-1.2345678,	"-1.234568e+00"	},
+    { "%5.0e",	1.2345678,	"1e+00",	},
+    { "%6.0e",	1.2345678,	" 1e+00",	},
+
+/* Min and max values.	*/
+    { "%.7e",	1.1754944e-38,	"1.1754944e-38"	},
+    { "%.7e",	3.4028235e+38,	"3.4028235e+38"	},
+
+/* Exponent "-00".	*/
+    { "%.0e",	9.9999994e-01,	"1e-00"		},
+    { "%.1e",	9.9999994e-01,	"1.0e-00"	},
+    { "%.2e",	9.9999994e-01,	"1.00e-00"	},
+    { "%.3e",	9.9999994e-01,	"1.000e-00"	},
+    { "%.4e",	9.9999994e-01,	"1.0000e-00"	},
+    { "%.5e",	9.9999994e-01,	"1.00000e-00"	},
+    { "%.6e",	9.9999994e-01,	"9.999999e-01"	},
+    { "%.7e",	9.9999994e-01,	"9.9999994e-01"	},
+    { "%10.0e",	-9.9999994e-01,	"    -1e-00"	},
+    { "%.0e",	0.9500001,	"1e-00"		},
+    { "%.1e",	0.9950001,	"1.0e-00"	},
+    { "%.2e",	0.9995001,	"1.00e-00"	},
+    { "%.3e",	0.9999501,	"1.000e-00"	},
+    { "%.4e",	0.9999951,	"1.0000e-00"	},
+    { "%.5e",	0.9999996,	"1.00000e-00"	},
+    { "%.6e",	0.9999996,	"9.999996e-01"	},
+
+};
+
+#ifndef	__AVR__
+# define strlen_P	strlen
+#endif
+
+void run_sprf (const struct sprf_s *pt, int testno)
+{
+    static char s[300];
+    int n;
+    int code;
+
+#ifdef	__AVR__
+    n = sprintf_P (s, pt->fmt, pgm_read_dword (& pt->val));
+#else
+    n = sprintf (s, pt->fmt, pt->val);
+#endif
+    if (n != (int)strlen_P (pt->pattern))
+	code = testno + 1000;
+    else if (strcmp_P (s, pt->pattern))
+	code = testno;
+    else
+	return;
+#if  !defined(__AVR__)
+    printf ("\ntestno %3d: expect: %3d, \"%s\","
+	    "\n            output: %3d, \"%s\"\n",
+	    testno, strlen(pt->pattern), pt->pattern, n, s);
+    exit (code < 256 ? testno : 255);
+#elif	defined(DEBUG)
+    exit ((int)s);
+#endif
+    exit (code);
+}
+
+int main ()
+{
+    int i;
+    for (i = 0; (unsigned)i != sizeof(t)/sizeof(t[0]); i++)
+	run_sprf (t+i, i+1);
+    return 0;
+}
diff --git a/tests/simulate/printf/sprintf_flt-f01.c b/tests/simulate/printf/sprintf_flt-f01.c
new file mode 100644
index 0000000..815e7a6
--- /dev/null
+++ b/tests/simulate/printf/sprintf_flt-f01.c
@@ -0,0 +1,184 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of sprintf(), float version, '%f(F)' specification.
+   $Id$	*/
+
+#include <stdio.h>
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+PROGMEM static const struct sprf_s {
+    char fmt[8];
+    float val;
+    char pattern[21];
+} t[] = {
+
+/* Nonregular cases.	*/
+    { "%f",	0,	"0.000000"	},
+    { "%7.3f",	9.9999,	" 10.000"	},
+
+/* Flags separatly.	*/
+    { "%f",	1.234567,	"1.234567"	},
+    { "%F",	1.234567,	"1.234567"	},
+    { "%f",	-1.234567,	"-1.234567"	},
+    { "% f",	1.234567,	" 1.234567"	},
+    { "%+f",	1.234567,	"+1.234567"	},
+    { "%.3f",	1.234567,	"1.235"		},
+    { "%12f",	1.234567,	"    1.234567"	},
+    { "%-12f",	1.234567,	"1.234567    "	},
+    { "%012f",	1.234567,	"00001.234567"	},
+
+/* Flags together.	*/
+    { "% F",	1.234567,	" 1.234567"	},
+    { "% +f",	1.234567,	"+1.234567"	},
+    { "% f", 	-1.234567,	"-1.234567"	},
+    { "%+012f",	1.234567,	"+0001.234567"	},
+    { "%-012f",	1.234567,	"1.234567    "	},
+
+/* Precision.	*/
+    { "%.7f",	1.2345678,	"1.2345678"	},
+    { "%.6f",	1.2345678,	"1.234568"	},
+    { "%.5f",	1.2345678,	"1.23457"	},
+    { "%.4f",	1.2345678,	"1.2346"	},
+    { "%.3f",	1.2345678,	"1.235"		},
+    { "%.2f",	1.2345678,	"1.23"		},
+    { "%.1f",	1.2345678,	"1.2"		},
+    { "%.0f",	1.2345678,	"1"		},
+    { "%.f",	1.2345678,	"1"		},
+
+/* Width, without dec. point	*/
+    { "%.0f",	10,		"10"		},
+    { "%0.0f",	10,		"10"		},
+    { "%1.0f",	10,		"10"		},
+    { "%2.0f",	10,		"10"		},
+    { "%3.0f",	10,		" 10"		},
+    { "%12.0f",	10,		"          10"	},
+    { "%12.0f",	-10,		"         -10"	},
+
+/* Width, only fractional part.	*/
+    { "%.3f",	0.123,		"0.123"		},
+    { "%0.3f",	0.123,		"0.123"		},
+    { "%1.3f",	0.123,		"0.123"		},
+    { "%5.3f",	0.123,		"0.123"		},
+    { "%6.3f",	0.123,		" 0.123"	},
+    { "%12.3f",	0.123,		"       0.123"	},
+    { "%12.3f",	-0.123,		"      -0.123"	},
+
+/* Width, integer and fractional are present.	*/
+    { "%.3f",	1.234,		"1.234"		},
+    { "%0.3f",	1.234,		"1.234"		},
+    { "%1.3f",	1.234,		"1.234"		},
+    { "%5.3f",	1.234,		"1.234"		},
+    { "%6.3f",	1.234,		" 1.234"	},
+    { "%12.3f",	1.234,		"       1.234"	},
+    { "%12.3f",	-1.234,		"      -1.234"	},
+
+/* Double rounding elimination (ftoa_engine give at least 1 digit).	*/
+    { "%.3f",	0.46,		"0.460"	},
+    { "%.2f",	0.46,		"0.46"	},
+    { "%.1f",	0.46,		"0.5"	},
+    { "%.0f",	0.46,		"0"	},	/* just that very case */
+    { "%1.0f",	0.46,		"0"	},
+    { "%2.0f",	0.46,		" 0"	},
+
+/* Rounding cases.	*/
+    { "%.3f",	0.51,		"0.510"	},
+    { "%.2f",	0.51,		"0.51"	},
+    { "%.1f",	0.51,		"0.5"	},
+    { "%.0f",	0.51,		"1"	},
+    { "%1.0f",	0.51,		"1"	},
+    { "%2.0f",	0.51,		" 1"	},
+
+    { "%.3f",	0.58,		"0.580"	},
+    { "%.2f",	0.58,		"0.58"	},
+    { "%.1f",	0.58,		"0.6"	},
+    { "%.0f",	0.58,		"1"	},
+    { "%1.0f",	0.58,		"1"	},
+    { "%2.0f",	0.58,		" 1"	},
+    
+    { "%.4f",	0.4999,		"0.4999"},
+    { "%.3f",	0.4999,		"0.500"	},
+    { "%.2f",	0.4999,		"0.50"	},
+    { "%.1f",	0.4999,		"0.5"	},
+    { "%.0f",	0.4999,		"0"	},
+
+    { "%.2f",	0.049,		"0.05"	},
+    { "%.1f",	0.049,		"0.0"	},
+    { "%.0f",	0.049,		"0"	},
+
+    { "%.10f",	0.00000000049,	"0.0000000005"	},
+    { "%.9f",	0.00000000049,	"0.000000000"	},
+    { "%.8f",	0.00000000049,	"0.00000000"	},
+    
+    { "%.10f",	0.00000000051,	"0.0000000005"	},
+    { "%.9f",	0.00000000051,	"0.000000001"	},
+    { "%.8f",	0.00000000051,	"0.00000000"	},
+};
+
+#ifndef	__AVR__
+# define strlen_P	strlen
+#endif
+
+void run_sprf (const struct sprf_s *pt, int testno)
+{
+    static char s[300];
+    int n;
+    int code;
+
+#ifdef	__AVR__
+    n = sprintf_P (s, pt->fmt, pgm_read_dword (& pt->val));
+#else
+    n = sprintf (s, pt->fmt, pt->val);
+#endif
+    if (n != (int)strlen_P (pt->pattern))
+	code = testno + 1000;
+    else if (strcmp_P (s, pt->pattern))
+	code = testno;
+    else
+	return;
+#if  !defined(__AVR__)
+    printf ("\ntestno %3d: expect: %3d, \"%s\","
+	    "\n            output: %3d, \"%s\"\n",
+	    testno, strlen(pt->pattern), pt->pattern, n, s);
+    exit (code < 256 ? testno : 255);
+#elif	defined(DEBUG)
+    exit ((int)s);
+#endif
+    exit (code);
+}
+
+int main ()
+{
+    int i;
+    for (i = 0; (unsigned)i != sizeof(t)/sizeof(t[0]); i++)
+	run_sprf (t+i, i+1);
+    return 0;
+}
diff --git a/tests/simulate/printf/sprintf_flt-g01.c b/tests/simulate/printf/sprintf_flt-g01.c
new file mode 100644
index 0000000..75ff6ba
--- /dev/null
+++ b/tests/simulate/printf/sprintf_flt-g01.c
@@ -0,0 +1,180 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of sprintf(), float version, '%g(G)' specification.
+   $Id$	*/
+
+#include <stdio.h>
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+PROGMEM static const struct sprf_s {
+    char fmt[8];
+    float val;
+    char pattern[21];
+} t[] = {
+
+/* Nonregular cases.	*/
+    { "%g",	0,		"0"	},
+    { "%g",	1,		"1"	},
+    { "%.8g",	12345678,	"12345678"	},
+    { "%.8g",	123456780,	"1.2345678e+08"	},
+    { "%.8g",	0.00012345678,	"0.00012345678"	},
+    { "%.8g",	0.000012345678,	"1.2345678e-05"	},
+
+/* Flags separatly.	*/
+    { "%g",	1.23456e-5,	"1.23456e-05"	},
+    { "%G",	1.23456e-5,	"1.23456E-05"	},
+    { "%g",	-1.23456e-5,	"-1.23456e-05"	},
+    { "% g",	1.23456e-5,	" 1.23456e-05"	},
+    { "%+g",	1.23456e-5,	"+1.23456e-05"	},
+    { "%.4g",	1.23456e-5,	"1.235e-05"	},
+    { "%15g",	1.23456e-5,	"    1.23456e-05"	},
+    { "%-15g",	1.23456e-5,	"1.23456e-05    "	},
+    { "%015g",	1.23456e-5,	"00001.23456e-05"	},
+
+/* Flags together.	*/
+    { "% G",	1.23456e-5,	" 1.23456E-05"	},
+    { "% +g",	1.23456e-5,	"+1.23456e-05"	},
+    { "% g", 	-1.23456e-5,	"-1.23456e-05"	},
+    { "%+015g",	1.23456e-5,	"+0001.23456e-05"	},
+    { "%-015g",	1.23456e-5,	"1.23456e-05    "	},
+
+/* Precision, 'f'	*/
+    { "%.8g",	1.2345678,	"1.2345678"	},
+    { "%.7g",	1.2345678,	"1.234568"	},
+    { "%.6g",	1.2345678,	"1.23457"	},
+    { "%.5g",	1.2345678,	"1.2346"	},
+    { "%.4g",	1.2345678,	"1.235"		},
+    { "%.3g",	1.2345678,	"1.23"		},
+    { "%.2g",	1.2345678,	"1.2"		},
+    { "%.1g",	1.2345678,	"1"		},
+    { "%.0g",	1.2345678,	"1"		},
+    { "%.g",	1.2345678,	"1"		},
+    { "%g",	1.2345678,	"1.23457"	},
+
+/* Precision, 'g'	*/
+    { "%.8g",	1.2345678e+12,	"1.2345678e+12"	},
+    { "%.7g",	1.2345678e+12,	"1.234568e+12"	},
+    { "%.6g",	1.2345678e+12,	"1.23457e+12"	},
+    { "%.5g",	1.2345678e+12,	"1.2346e+12"	},
+    { "%.4g",	1.2345678e+12,	"1.235e+12"	},
+    { "%.3g",	1.2345678e+12,	"1.23e+12"	},
+    { "%.2g",	1.2345678e+12,	"1.2e+12"	},
+    { "%.1g",	1.2345678e+12,	"1e+12"		},
+    { "%.0g",	1.2345678e+12,	"1e+12"		},
+    { "%.g",	1.2345678e+12,	"1e+12"		},
+    { "%g",	1.2345678e+12,	"1.23457e+12"	},
+
+/* Width, 'f' without dec. point	*/
+    { "%0g",	10,		"10"		},
+    { "%2g",	10,		"10"		},
+    { "%3g",	10,		" 10"		},
+    { "%12g",	10,		"          10"	},
+    { "%12g",	-10,		"         -10"	},
+
+/* Width, 'f', only fractional part	*/
+    { "%.3g",	0.123,		"0.123"		},
+    { "%0.3g",	0.123,		"0.123"		},
+    { "%5.3g",	0.123,		"0.123"		},
+    { "%6.3g",	0.123,		" 0.123"	},
+    { "%12.3g",	0.123,		"       0.123"	},
+    { "%12.3g",	-0.123,		"      -0.123"	},
+
+/* Width, 'f', integer and fractional parts	*/
+    { "%.5g",	12.345,		"12.345"	},
+    { "%0.5g",	12.345,		"12.345"	},
+    { "%6.5g",	12.345,		"12.345"	},
+    { "%7.5g",	12.345,		" 12.345"	},
+    { "%12.5g",	12.345,		"      12.345"	},
+    { "%12.5g",	-12.345,	"     -12.345"	},
+
+/* Width, 'e' without dec. point	*/
+    { "%0g",	1e+23,		"1e+23"		},
+    { "%5g",	1e+23,		"1e+23"		},
+    { "%6g",	1e+23,		" 1e+23"	},
+    { "%12g",	1e+23,		"       1e+23"	},
+    { "%12g",	-1e+23,		"      -1e+23"	},
+
+/* Width, 'e' with dec. point	*/
+    { "%0g",	1.2e+34,	"1.2e+34"	},
+    { "%7g",	1.2e+34,	"1.2e+34"	},
+    { "%8g",	1.2e+34,	" 1.2e+34"	},
+    { "%12g",	1.2e+34,	"     1.2e+34"	},
+    { "%12g",	-1.2e+34,	"    -1.2e+34"	},
+
+/* In contrast to 'f' spec.	*/
+    { "%.3g",	0.46,		"0.46"	},
+    { "%.2g",	0.46,		"0.46"	},
+    { "%.1g",	0.46,		"0.5"	},
+    { "%.0g",	0.46,		"0.5"	},
+    { "%3.0g",	0.46,		"0.5"	},
+    { "%4.0g",	0.46,		" 0.5"	},
+};
+
+#ifndef	__AVR__
+# define strlen_P	strlen
+#endif
+
+void run_sprf (const struct sprf_s *pt, int testno)
+{
+    static char s[300];
+    int n;
+    int code;
+
+#ifdef	__AVR__
+    n = sprintf_P (s, pt->fmt, pgm_read_dword (& pt->val));
+#else
+    n = sprintf (s, pt->fmt, pt->val);
+#endif
+    if (n != (int)strlen_P (pt->pattern))
+	code = testno + 1000;
+    else if (strcmp_P (s, pt->pattern))
+	code = testno;
+    else
+	return;
+#if  !defined(__AVR__)
+    printf ("\ntestno %3d: expect: %3d, \"%s\","
+	    "\n            output: %3d, \"%s\"\n",
+	    testno, strlen(pt->pattern), pt->pattern, n, s);
+    exit (code < 256 ? testno : 255);
+#elif	defined(DEBUG)
+    exit ((int)s);
+#endif
+    exit (code);
+}
+
+int main ()
+{
+    int i;
+    for (i = 0; (unsigned)i != sizeof(t)/sizeof(t[0]); i++)
+	run_sprf (t+i, i+1);
+    return 0;
+}
diff --git a/tests/simulate/printf/sprintf_flt-g02.c b/tests/simulate/printf/sprintf_flt-g02.c
new file mode 100644
index 0000000..210e461
--- /dev/null
+++ b/tests/simulate/printf/sprintf_flt-g02.c
@@ -0,0 +1,235 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of sprintf(), float version, '%g(G)' specification.
+   $Id$	*/
+
+#include <stdio.h>
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+PROGMEM static const struct sprf_s {
+    char fmt[8];
+    float val;
+    char pattern[21];
+} t[] = {
+
+/* Tailing zeroes removing.	*/
+
+    { "%.7g",	0.000010000002,	"1e-05"		},
+    { "%.8g",	0.000010000002,	"1.0000002e-05"	},
+    { "%.8g",	0.00001000002,	"1.000002e-05"	},
+    { "%.8g",	0.0000100002,	"1.00002e-05"	},
+    { "%.8g",	0.000010002,	"1.0002e-05"	},
+    { "%.8g",	0.00001002,	"1.002e-05"	},
+    { "%.8g",	0.0000102,	"1.02e-05"	},
+    { "%.8g",	0.000012,	"1.2e-05"	},
+
+    { "%.7g",	0.00010000002,	"0.0001"	},
+    { "%.8g",	0.00010000002,	"0.00010000002"	},
+    { "%.8g",	0.0001000002,	"0.0001000002"	},
+    { "%.8g",	0.000100002,	"0.000100002"	},
+    { "%.8g",	0.00010002,	"0.00010002"	},
+    { "%.8g",	0.0001002,	"0.0001002"	},
+    { "%.8g",	0.000102,	"0.000102"	},
+    { "%.8g",	0.00012,	"0.00012"	},
+
+    { "%.7g",	0.10000002,	"0.1"		},
+    { "%.8g",	0.10000002,	"0.10000002"	},
+    { "%.8g",	0.1000002,	"0.1000002"	},
+    { "%.8g",	0.100002,	"0.100002"	},
+    { "%.8g",	0.10002,	"0.10002"	},
+    { "%.8g",	0.1002,		"0.1002"	},
+    { "%.8g",	0.102,		"0.102"		},
+    { "%.8g",	0.12,		"0.12"		},
+
+    { "%.7g",	1.0000002,	"1"		},
+    { "%.8g",	1.0000002,	"1.0000002"	},
+    { "%.8g",	1.000002,	"1.000002"	},
+    { "%.8g",	1.00002,	"1.00002"	},
+    { "%.8g",	1.0002,		"1.0002"	},
+    { "%.8g",	1.002,		"1.002"		},
+    { "%.8g",	1.02,		"1.02"		},
+    { "%.8g",	1.2,		"1.2"		},
+
+    { "%.7g",	10.000002,	"10"		},
+    { "%.8g",	10.000002,	"10.000002"	},
+    { "%.8g",	10.00002,	"10.00002"	},
+    { "%.8g",	10.0002,	"10.0002"	},
+    { "%.8g",	10.002,		"10.002"	},
+    { "%.8g",	10.02,		"10.02"		},
+    { "%.8g",	10.2,		"10.2"		},
+    { "%.8g",	12.,		"12"		},
+
+    { "%.7g",	1000000.2,	"1000000"	},
+    { "%.8g",	1000000.2,	"1000000.2"	},
+    { "%.8g",	1000002.0,	"1000002"	},
+    { "%.8g",	1000020.0,	"1000020"	},
+    { "%.8g",	1200000.0,	"1200000"	},
+
+    { "%.7g",	100000020.0,	"1e+08"		},
+    { "%.8g",	100000020.0,	"1.0000002e+08"	},
+    { "%.8g",	100000200.0,	"1.000002e+08"	},
+    { "%.8g",	100002000.0,	"1.00002e+08"	},
+    { "%.8g",	100020000.0,	"1.0002e+08"	},
+    { "%.8g",	100200000.0,	"1.002e+08"	},
+    { "%.8g",	102000000.0,	"1.02e+08"	},
+    { "%.8g",	120000000.0,	"1.2e+08"	},
+
+/* Tailing zeroes removing with sign presence.	*/
+
+    { "%.7g",	-0.000010000002,"-1e-05"	},
+    { "%.8g",	-0.000010000002,"-1.0000002e-05"},
+    { "%.8g",	-0.00001000002,	"-1.000002e-05"	},
+    { "%.8g",	-0.0000100002,	"-1.00002e-05"	},
+    { "%.8g",	-0.000010002,	"-1.0002e-05"	},
+    { "%.8g",	-0.00001002,	"-1.002e-05"	},
+    { "%.8g",	-0.0000102,	"-1.02e-05"	},
+    { "%.8g",	-0.000012,	"-1.2e-05"	},
+
+    { "%.7g",	-0.10000002,	"-0.1"		},
+    { "%.8g",	-0.10000002,	"-0.10000002"	},
+    { "%.8g",	-0.1000002,	"-0.1000002"	},
+    { "%.8g",	-0.100002,	"-0.100002"	},
+    { "%.8g",	-0.10002,	"-0.10002"	},
+    { "%.8g",	-0.1002,	"-0.1002"	},
+    { "%.8g",	-0.102,		"-0.102"	},
+    { "%.8g",	-0.12,		"-0.12"		},
+
+    { "%.7g",	-1.0000002,	"-1"		},
+    { "%.8g",	-1.0000002,	"-1.0000002"	},
+    { "%.8g",	-1.000002,	"-1.000002"	},
+    { "%.8g",	-1.00002,	"-1.00002"	},
+    { "%.8g",	-1.0002,	"-1.0002"	},
+    { "%.8g",	-1.002,		"-1.002"	},
+    { "%.8g",	-1.02,		"-1.02"		},
+    { "%.8g",	-1.2,		"-1.2"		},
+
+    { "%.7g",	-10.000002,	"-10"		},
+    { "%.8g",	-10.000002,	"-10.000002"	},
+    { "%.8g",	-10.00002,	"-10.00002"	},
+    { "%.8g",	-10.0002,	"-10.0002"	},
+    { "%.8g",	-10.002,	"-10.002"	},
+    { "%.8g",	-10.02,		"-10.02"	},
+    { "%.8g",	-10.2,		"-10.2"		},
+    { "%.8g",	-12.,		"-12"		},
+
+    { "%.7g",	-1000000.2,	"-1000000"	},
+    { "%.8g",	-1000000.2,	"-1000000.2"	},
+    { "%.8g",	-1000002.0,	"-1000002"	},
+    { "%.8g",	-1000020.0,	"-1000020"	},
+    { "%.8g",	-1200000.0,	"-1200000"	},
+
+    { "%.7g",	-100000020.0,	"-1e+08"	},
+    { "%.8g",	-100000020.0,	"-1.0000002e+08"},
+    { "%.8g",	-100000200.0,	"-1.000002e+08"	},
+    { "%.8g",	-100002000.0,	"-1.00002e+08"	},
+    { "%.8g",	-100020000.0,	"-1.0002e+08"	},
+    { "%.8g",	-100200000.0,	"-1.002e+08"	},
+    { "%.8g",	-102000000.0,	"-1.02e+08"	},
+    { "%.8g",	-120000000.0,	"-1.2e+08"	},
+
+/* Decimal point removing.	*/
+    { "%.8g",	2.0000001e-5,	"2.0000001e-05"	},
+    { "%.7g",	2.0000001e-5,	"2e-05"		},
+    { "%.1g",	2.0000001e-5,	"2e-05"		},
+    { "%.7g",	2.0,		"2"		},
+    { "%.1g",	2.0,		"2"		},
+    { "%.7g",	23.0,		"23"		},
+    { "%.2g",	23.0,		"23"		},
+    { "%.7g",	234.0,		"234"		},
+    { "%.3g",	234.0,		"234"		},
+    { "%.7g",	2345.0,		"2345"		},
+    { "%.4g",	2345.0,		"2345"		},
+    { "%.7g",	23456.0,	"23456"		},
+    { "%.5g",	23456.0,	"23456"		},
+    { "%.7g",	234567.0,	"234567"	},
+    { "%.6g",	234567.0,	"234567"	},
+    { "%.7g",	2345678.0,	"2345678"	},
+    { "%.1g",	20.0,		"2e+01"		},
+    { "%.2g",	200.0,		"2e+02"		},
+    { "%.3g",	2000.0,		"2e+03"		},
+    { "%.4g",	20000.0,	"2e+04"		},
+    { "%.5g",	200000.0,	"2e+05"		},
+    { "%.6g",	2000000.0,	"2e+06"		},
+    { "%.7g",	20000000.0,	"2e+07"		},
+    { "%.8g",	200000000.0,	"2e+08"		},
+
+/* Decimale point removing with sign presence.	*/
+    { "%.8g",	-2.0000001e-5,	"-2.0000001e-05"},
+    { "%.7g",	-2.0000001e-5,	"-2e-05"	},
+    { "%.1g",	-2.0000001e-5,	"-2e-05"	},
+    { "%.7g",	-2.0,		"-2"		},
+    { "%.1g",	-2.0,		"-2"		},
+    { "%.7g",	-234567.0,	"-234567"	},
+    { "%.6g",	-234567.0,	"-234567"	},
+    { "%.1g",	-20.0,		"-2e+01"	},
+    { "%.8g",	-200000000.0,	"-2e+08"	},
+};
+
+#ifndef	__AVR__
+# define strlen_P	strlen
+#endif
+
+void run_sprf (const struct sprf_s *pt, int testno)
+{
+    static char s[300];
+    int n;
+    int code;
+
+#ifdef	__AVR__
+    n = sprintf_P (s, pt->fmt, pgm_read_dword (& pt->val));
+#else
+    n = sprintf (s, pt->fmt, pt->val);
+#endif
+    if (n != (int)strlen_P (pt->pattern))
+	code = testno + 1000;
+    else if (strcmp_P (s, pt->pattern))
+	code = testno;
+    else
+	return;
+#if  !defined(__AVR__)
+    printf ("\ntestno %3d: expect: %3d, \"%s\","
+	    "\n            output: %3d, \"%s\"\n",
+	    testno, strlen(pt->pattern), pt->pattern, n, s);
+    exit (code < 256 ? testno : 255);
+#elif	defined(DEBUG)
+    exit ((int)s);
+#endif
+    exit (code);
+}
+
+int main ()
+{
+    int i;
+    for (i = 0; (unsigned)i != sizeof(t)/sizeof(t[0]); i++)
+	run_sprf (t+i, i+1);
+    return 0;
+}
diff --git a/tests/simulate/printf/sprintf_flt-nan.c b/tests/simulate/printf/sprintf_flt-nan.c
new file mode 100644
index 0000000..f9893d2
--- /dev/null
+++ b/tests/simulate/printf/sprintf_flt-nan.c
@@ -0,0 +1,119 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of sprintf(), float version, nonfinite numbers.
+   $Id$	*/
+
+#include <stdio.h>
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+PROGMEM static const struct sprfu_s {
+    char fmt[8];
+    union {
+	long lo;
+	float fl;
+    } val;
+    char pattern[21];
+} t[] = {
+
+    { "%e",	{ 0x7f800000 }, 	"inf"	},
+    { "%e",	{ 0xff800000 },		"-inf"	},
+    { "%f",	{ 0x7f800000 },		"inf"	},
+    { "%G",	{ 0xff800000 },		"-INF"	},
+
+    { "%e",	{ 0x7f800001 },		"nan"	},
+    { "% e",	{ 0x7f800001 },		" nan"	},
+    { "%+e",	{ 0x7f800001 },		"+nan"	},
+    { "%E",	{ 0x7f800001 },		"NAN"	},
+    { "%5e",	{ 0x7f800001 },		"  nan"	},
+    { "%+5e",	{ 0x7f800001 },		" +nan"	},
+    { "%05e",	{ 0x7f800001 },		"  nan"	},
+    { "%-5e",	{ 0x7f800001 },		"nan  "	},
+
+    { "%e",	{ 0xff800001 },		"nan"	},
+    { "% e",	{ 0xff800001 },		" nan"	},
+    { "%+e",	{ 0xff800001 },		"+nan"	},
+    { "%E",	{ 0xff800001 },		"NAN"	},
+    { "%5e",	{ 0xff800001 },		"  nan"	},
+    { "%+5e",	{ 0xff800001 },		" +nan"	},
+    { "%05e",	{ 0xff800001 },		"  nan"	},
+    { "%-5e",	{ 0xff800001 },		"nan  "	},
+
+    { "%e",	{ 0x7fffffff },		"nan"	},
+    { "%e",	{ 0xffffffff },		"nan"	},
+    { "%e",	{ 0x7fc00000 },		"nan"	},
+    { "%e",	{ 0xffc00000 },		"nan"	},
+
+    { "%f",	{ 0x7f800001 },		"nan"	},
+    { "%5F",	{ 0x7f800001 },		"  NAN"	},
+    { "%g",	{ 0x7f800001 },		"nan"	},
+    { "%5G",	{ 0x7f800001 },		"  NAN"	},
+};
+
+#ifndef	__AVR__
+# define strlen_P	strlen
+#endif
+
+void run_sprf (const struct sprfu_s *pt, int testno)
+{
+    static char s[300];
+    int n;
+    int code;
+
+#ifdef	__AVR__
+    n = sprintf_P (s, pt->fmt, pgm_read_dword (& pt->val));
+#else
+    n = sprintf (s, pt->fmt, pt->val.fl);
+#endif
+    if (n != (int)strlen_P (pt->pattern))
+	code = testno + 1000;
+    else if (strcmp_P (s, pt->pattern))
+	code = testno;
+    else
+	return;
+#if  !defined(__AVR__)
+    printf ("\ntestno %3d: expect: %3d, \"%s\","
+	    "\n            output: %3d, \"%s\"\n",
+	    testno, strlen(pt->pattern), pt->pattern, n, s);
+    exit (code < 256 ? testno : 255);
+#elif	defined(DEBUG)
+    exit ((int)s);
+#endif
+    exit (code);
+}
+
+int main ()
+{
+    int i;
+    for (i = 0; (unsigned)i != sizeof(t)/sizeof(t[0]); i++)
+	run_sprf (t+i, i+1);
+    return 0;
+}
diff --git a/tests/simulate/printf/sprintf_min-1.c b/tests/simulate/printf/sprintf_min-1.c
new file mode 100644
index 0000000..5a0d830
--- /dev/null
+++ b/tests/simulate/printf/sprintf_min-1.c
@@ -0,0 +1,136 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of sprintf_min(), specifications: none, c, s(S).
+   $Id$	*/
+
+#ifndef __AVR__
+# define PRINTFLN(line, fmt, ...)	\
+    printf("\nLine %2d: " fmt "\n", line, ##__VA_ARGS__)
+# define EXIT(code)	exit ((code) < 255 ? (code) : 255)
+# define sprintf_P	sprintf
+#else
+# if defined(__AVR_ATmega128__)
+  /* ATmega128 has enough RAM for sprintf(), print to 0x2000 in XRAM. */
+#  define PRINTFLN(line, fmt, ...)	\
+    sprintf ((char *)0x2000, "\nLine %d: " fmt "\n", line, ##__VA_ARGS__)
+# else
+   /* small AVR */
+#  define PRINTFLN(args...)
+# endif
+# define EXIT	exit
+#endif
+
+#include <stdio.h>
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+void Check (int line,
+            const char *expstr,
+	    int retval, const char *retstr)
+{
+    int code;
+
+    if (retval != (int)strlen (retstr))
+	code = 1000 + line;
+    else if (strcmp_P (retstr, expstr))
+	code = line;
+    else
+	return;
+    PRINTFLN (line, "expect: %3d, \"%s\",\n%8s output: %3d, \"%s\"\n",
+	      strlen(expstr), expstr, " ", retval, retstr);
+#ifdef	DEBUG
+    code = (int)retstr;
+#endif
+    EXIT (code);
+}
+
+/* 'vp' is used to avoid gcc warnings about format string.	*/
+#define CHECK(expstr, fmt, ...)	do {				\
+    char s[260];						\
+    int i;							\
+    int (* volatile vp)(char *, const char *, ...) = sprintf_P;	\
+    memset (s, 0, sizeof(s));					\
+    i = vp (s, PSTR(fmt), ##__VA_ARGS__);			\
+    Check (__LINE__, PSTR(expstr), i, s);			\
+} while (0)
+
+int main ()
+{
+    CHECK ("", "");
+
+    /* Without format specifications	*/
+    CHECK (" ", " ");
+    CHECK ("\001", "\001");
+    CHECK ("\a\b\t\n\v\f\r ! 09 AZ az \177\200\201 \377",
+	   "\a\b\t\n\v\f\r ! 09 AZ az \177\200\201 \377");
+    CHECK ("%", "%%");
+    CHECK ("%% ", "%%%% ");
+
+    /* '%c' specification	*/
+    CHECK ("a", "%c", 'a');
+    CHECK ("\001\177\200\201\377", "%c%c%c%c%c", 001,0177,0200,0201,0377);
+    CHECK ("A B C D E", "%0c %+c %-c % c %#c", 'A','B','C','D','E');
+    CHECK ("A B C D", "%.c %.0c %.1c %.99c", 'A','B','C','D');
+#ifdef	__AVR__		/* width and spec are ignored	*/
+    CHECK ("A.B.C.D", "%1c.%2c.%5c.%10.2c", 'A','B','C','D','E');
+    CHECK ("A.B.C", "%-1c.%-2c.%-10c", 'A','B','C');
+    CHECK ("F", "%255c", 'F');
+    CHECK ("G", "%-255c", 'G');
+#endif
+
+    /* '%s' specification	*/
+    CHECK ("", "%s", "");
+    CHECK ("A", "%s", "A");
+    CHECK ("123456789\001\177\200\201\377", "%s",
+           "123456789\001\177\200\201\377");
+    CHECK ("A B C D E", "%0s %+s %-s % s %#s", "A","B","C","D","E");
+#ifdef	__AVR__		/* width and spec are ignored	*/
+    CHECK ("A.B.C.D", "%1s.%2s.%5s.%10.2s", "A","B","C","D");
+    CHECK ("ABCDEF.abcdef.0123456789",
+	   "%.0s.%.1s.%.10s", "ABCDEF","abcdef","0123456789");
+#endif
+
+#ifdef	__AVR__
+    /* '%S' specification	*/
+    CHECK ("", "%S", PSTR(""));
+    CHECK ("A", "%S", PSTR("A"));
+    CHECK ("123456789\001\177\200\201\377", "%S",
+           PSTR("123456789\001\177\200\201\377"));
+    CHECK ("A B C D E", "%0S %+S %-S % S %#S",
+	   PSTR("A"), PSTR("B"), PSTR("C"), PSTR("D"), PSTR("E"));
+    CHECK ("A.B.C.D", "%1S.%2S.%5S.%10.2S",
+	   PSTR("A"), PSTR("B"), PSTR("C"), PSTR("D"));
+    CHECK ("ABCDEF.abcdef.0123456789", "%.0S.%.1S.%.10S",
+	   PSTR("ABCDEF"), PSTR("abcdef"), PSTR("0123456789"));
+#endif
+
+    return 0;
+}
diff --git a/tests/simulate/printf/sprintf_min-2.c b/tests/simulate/printf/sprintf_min-2.c
new file mode 100644
index 0000000..2d61cf5
--- /dev/null
+++ b/tests/simulate/printf/sprintf_min-2.c
@@ -0,0 +1,158 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of sprintf_min(), specifications: d,i,u.
+   $Id$	*/
+
+#ifndef __AVR__
+# define PRINTFLN(line, fmt, ...)	\
+    printf("\nLine %2d: " fmt "\n", line, ##__VA_ARGS__)
+# define EXIT(code)	exit ((code) < 255 ? (code) : 255)
+# define sprintf_P	sprintf
+#else
+# if defined(__AVR_ATmega128__)
+  /* ATmega128 has enough RAM for sprintf(), print to 0x2000 in XRAM. */
+#  define PRINTFLN(line, fmt, ...)	\
+    sprintf ((char *)0x2000, "\nLine %d: " fmt "\n", line, ##__VA_ARGS__)
+# else
+   /* small AVR */
+#  define PRINTFLN(args...)
+# endif
+# define EXIT	exit
+#endif
+
+#include <stdio.h>
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+void Check (int line,
+            const char *expstr,
+	    int retval, const char *retstr)
+{
+    int code;
+
+    if (retval != (int)strlen (retstr))
+	code = 1000 + line;
+    else if (strcmp_P (retstr, expstr))
+	code = line;
+    else
+	return;
+    PRINTFLN (line, "expect: %3d, \"%s\",\n%8s output: %3d, \"%s\"\n",
+	      strlen(expstr), expstr, " ", retval, retstr);
+#ifdef	DEBUG
+    code = (int)retstr;
+#endif
+    EXIT (code);
+}
+
+/* 'vp' is used to avoid gcc warnings about format string.	*/
+#define CHECK(expstr, fmt, ...)	do {				\
+    char s[260];						\
+    int i;							\
+    int (* volatile vp)(char *, const char *, ...) = sprintf_P;	\
+    memset (s, 0, sizeof(s));					\
+    i = vp (s, PSTR(fmt), ##__VA_ARGS__);			\
+    Check (__LINE__, PSTR(expstr), i, s);			\
+} while (0)
+
+int main ()
+{
+    /* '%d' specification	*/
+    CHECK ("0", "%d", 0);
+    CHECK ("12345", "%d", 12345);
+    CHECK ("-32768 -32767 -1 0 1 32767",
+           "%d %d %d %d %d %d",
+	   (int)-32768, -32767, -1, 0, 1, 32767);
+
+    CHECK ("0 1 -1", "%0d %0d %0d", 0, 1, -1);
+    CHECK ("0 1 -1", "%-d %-d %-d", 0, 1, -1);
+    CHECK ("0 1 -1", "%#d %#d %#d", 0, 1, -1);
+#ifdef	__AVR__		/* PRINTF_MIN	*/
+    CHECK ("0 1 -1", "%+d %+d %+d", 0, 1, -1);
+    CHECK ("0 1 -1", "% d % d % d", 0, 1, -1);
+    
+    CHECK ("0.1.-1.1234.-123.12345.-1234",
+	   "%04d.%04d.%04d.%04d.%04d.%04d.%04d",
+	   0, 1, -1, 1234, -123, 12345, -1234);
+
+    CHECK ("1", "%08.4d", 1);
+    CHECK ("1", "%08.0d", 1);
+    CHECK ("1", "%08.d", 1);
+
+    CHECK ("0", "%.0d", 0);
+#endif
+    CHECK ("1 -1", "%.0d %.0d", 1, -1);
+    CHECK ("0 1 -1", "%.1d %.1d %.1d", 0, 1, -1);
+#ifdef	__AVR__		/* PRINTF_MIN	*/
+    CHECK ("0 1 -1", "%.2d %.2d %.2d", 0, 1, -1);
+    CHECK ("0 1 12 123 1234 12345",
+	   "%.4d %.4d %.4d %.4d %.4d %.4d",
+	   0, 1, 12, 123, 1234, 12345);
+
+    CHECK ("0.1.-1", "%1d.%1d.%1d", 0, 1, -1);
+    CHECK ("1.12.123", "%2d.%2d.%2d", 1, 12, 123);
+    CHECK ("-1.-12.-123.-1234", "%4d.%4d.%4d.%4d", -1, -12, -123, -1234);
+    CHECK ("12.-13", "%#4d.%#4d", 12, -13);
+    CHECK ("14.-15", "% 4d.% 4d", 14, -15);
+    CHECK ("16.-17", "%+4d.%+4d", 16, -17);
+    CHECK ("18.-19", "%-4d.%-4d", 18, -19);
+
+    CHECK ("1.-1.1234.-1234",
+	   "%8.4d.%8.4d.%8.4d.%8.4d", 1, -1, 1234, -1234);
+    CHECK ("12.13.14.15",
+	   "%08.4d.%#8.4d.% 8.4d.%+8.4d", 12, 13, 14, 15);
+    CHECK ("1.123.1234.12345",
+	   "%-8.4d.%-8.4d.%-8.4d.%-8.4d", 1, 123, 1234, 12345);
+    CHECK ("-1.-123.-1234.-12345",
+	   "%-8.4d.%-8.4d.%-8.4d.%-8.4d", -1, -123, -1234, -12345);
+
+    CHECK ("1", "%255d", 1);
+    CHECK ("1", "%-255d", 1);
+    CHECK ("2", "%.255d", 2);
+#endif
+
+    /* long arg	*/
+    CHECK ("0 1 -1 2147483647 -2147483647 -2147483648",
+	   "%ld %ld %ld %ld %ld %ld",
+	   0L, 1L, -1L, 2147483647L, -2147483647L, 0x80000000L);
+
+    /* short arg	*/
+    CHECK ("0 2 -2", "%hd %hd %hd", 0, 2, -2);
+
+    /* '%i' specification	*/
+    CHECK ("-9", "%i", -9);
+
+    /* '%u' specification	*/
+    CHECK ("0 1 32767 32768 32769 65535",
+           "%u %u %u %u %u %u",
+	   0, 1, 0x7fff, 0x8000, 0x8001, 0xffff);
+
+    return 0;
+}
diff --git a/tests/simulate/printf/sprintf_min-3.c b/tests/simulate/printf/sprintf_min-3.c
new file mode 100644
index 0000000..03f6b50
--- /dev/null
+++ b/tests/simulate/printf/sprintf_min-3.c
@@ -0,0 +1,153 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of sprintf_min(), specification: o.
+   $Id$	*/
+
+#ifndef __AVR__
+# define PRINTFLN(line, fmt, ...)	\
+    printf("\nLine %2d: " fmt "\n", line, ##__VA_ARGS__)
+# define EXIT(code)	exit ((code) < 255 ? (code) : 255)
+# define sprintf_P	sprintf
+#else
+# if defined(__AVR_ATmega128__)
+  /* ATmega128 has enough RAM for sprintf(), print to 0x2000 in XRAM. */
+#  define PRINTFLN(line, fmt, ...)	\
+    sprintf ((char *)0x2000, "\nLine %d: " fmt "\n", line, ##__VA_ARGS__)
+# else
+   /* small AVR */
+#  define PRINTFLN(args...)
+# endif
+# define EXIT	exit
+#endif
+
+#include <stdio.h>
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+void Check (int line,
+            const char *expstr,
+	    int retval, const char *retstr)
+{
+    int code;
+
+    if (retval != (int)strlen (retstr))
+	code = 1000 + line;
+    else if (strcmp_P (retstr, expstr))
+	code = line;
+    else
+	return;
+    PRINTFLN (line, "expect: %3d, \"%s\",\n%8s output: %3d, \"%s\"\n",
+	      strlen(expstr), expstr, " ", retval, retstr);
+#ifdef	DEBUG
+    code = (int)retstr;
+#endif
+    EXIT (code);
+}
+
+/* 'vp' is used to avoid gcc warnings about format string.	*/
+#define CHECK(expstr, fmt, ...)	do {				\
+    char s[260];						\
+    int i;							\
+    int (* volatile vp)(char *, const char *, ...) = sprintf_P;	\
+    memset (s, 0, sizeof(s));					\
+    i = vp (s, PSTR(fmt), ##__VA_ARGS__);			\
+    Check (__LINE__, PSTR(expstr), i, s);			\
+} while (0)
+
+int main ()
+{
+    /* '%o' specification	*/
+    CHECK ("0", "%o", 0);
+    CHECK ("123456", "%o", 0123456);
+    CHECK ("1 77777 100000 100001 177777",
+           "%o %o %o %o %o",
+	   1, 0x7fff, 0x8000, 0x8001, 0xffff);
+
+    CHECK ("0 1 177777", "%0o %0o %0o", 0, 1, 0xffff);
+    CHECK ("0 1 177777", "% o % o % o", 0, 1, 0xffff);
+    CHECK ("0 1 177777", "%+o %+o %+o", 0, 1, 0xffff);
+    CHECK ("0 1 177777", "%-o %-o %-o", 0, 1, 0xffff);
+    CHECK ("0 01 0177777", "%#o %#o %#o", 0, 1, 0xffff);
+
+#ifdef	__AVR__
+    CHECK ("0", "%.0o", 0);
+#endif
+    CHECK ("1 177777", "%.0o %.0o", 1, 0xffff);
+    CHECK ("0 1 177777", "%.1o %.1o %.1o", 0, 1, 0xffff);
+#ifdef	__AVR__		/* PRINTF_MIN */
+    CHECK ("0 1 10 177777", "%.2o %.2o %.2o %.2o", 0, 1, 8, 0xffff);
+    CHECK ("0 1 12 123 1234 12345",
+	   "%.4o %.4o %.4o %.4o %.4o %.4o",
+	   0, 1, 012, 0123, 01234, 012345);
+
+    CHECK ("0.1.177777", "%1o.%1o.%1o", 0, 1, 0xffff);
+    CHECK ("1.12.123", "%2o.%2o.%2o", 1, 012, 0123);
+    CHECK ("1.12.123.1234.12345",
+	   "%4o.%4o.%4o.%4o.%4o", 1, 012, 0123, 01234, 012345);
+    CHECK ("012.0123.01234", "%#4o.%#4o.%#4o", 012, 0123, 01234);
+    CHECK ("14.177777", "% 4o.% 4o", 014, 0xffff);
+    CHECK ("16.177777", "%+4o.%+4o", 016, 0xffff);
+    CHECK ("17.177777", "%-4o.%-4o", 017, 0xffff);
+
+    CHECK ("0.1.12.123.1234.12345.177777",
+	   "%04o.%04o.%04o.%04o.%04o.%04o.%04o",
+	   0, 1, 012, 0123, 01234, 012345, 0177777);
+
+    CHECK ("1", "%08.4o", 1);		/* 0 - ignored	*/
+    CHECK ("1", "%08.0o", 1);
+    CHECK ("1", "%08.o", 1);
+
+    CHECK ("1.123.1234.177777",
+	   "%8.4o.%8.4o.%8.4o.%8.4o", 1, 0123, 01234, 0xffff);
+    CHECK ("12.13.14",
+	   "%08.4o.% 8.4o.%+8.4o", 012, 013, 014);
+    CHECK ("1.123.1234.12345",
+	   "%-8.4o.%-8.4o.%-8.4o.%-8.4o", 1, 0123, 01234, 012345);
+
+    CHECK ("0.01.012.0123.01234",
+           "%#8.4o.%#8.4o.%#8.4o.%#8.4o.%#8.4o", 0, 1, 012, 0123, 01234);
+
+    CHECK ("1", "%255o", 1);
+    CHECK ("1", "%-255o", 1);
+    CHECK ("2", "%.255o", 2);
+#endif
+
+    /* long arg	*/
+    CHECK ("0 1234567 76543210 17777777777 20000000000 20000000001 37777777777",
+	   "%lo %lo %lo %lo %lo %lo %lo",
+	   0L, 01234567L, 076543210L,
+	   0x7fffffffL, 0x80000000L, 0x80000001L, 0xffffffffL);
+
+    /* short arg	*/
+    CHECK ("0 2 177776", "%ho %ho %ho", 0, 2, 0xfffe);
+
+    return 0;
+}
diff --git a/tests/simulate/printf/sprintf_min-4.c b/tests/simulate/printf/sprintf_min-4.c
new file mode 100644
index 0000000..2adc823
--- /dev/null
+++ b/tests/simulate/printf/sprintf_min-4.c
@@ -0,0 +1,154 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of sprintf_min(), specification: x.
+   $Id$	*/
+
+#ifndef __AVR__
+# define PRINTFLN(line, fmt, ...)	\
+    printf("\nLine %2d: " fmt "\n", line, ##__VA_ARGS__)
+# define EXIT(code)	exit ((code) < 255 ? (code) : 255)
+# define sprintf_P	sprintf
+#else
+# if defined(__AVR_ATmega128__)
+  /* ATmega128 has enough RAM for sprintf(), print to 0x2000 in XRAM. */
+#  define PRINTFLN(line, fmt, ...)	\
+    sprintf ((char *)0x2000, "\nLine %d: " fmt "\n", line, ##__VA_ARGS__)
+# else
+   /* small AVR */
+#  define PRINTFLN(args...)
+# endif
+# define EXIT	exit
+#endif
+
+#include <stdio.h>
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+void Check (int line,
+            const char *expstr,
+	    int retval, const char *retstr)
+{
+    int code;
+
+    if (retval != (int)strlen (retstr))
+	code = 1000 + line;
+    else if (strcmp_P (retstr, expstr))
+	code = line;
+    else
+	return;
+    PRINTFLN (line, "expect: %3d, \"%s\",\n%8s output: %3d, \"%s\"\n",
+	      strlen(expstr), expstr, " ", retval, retstr);
+#ifdef	DEBUG
+    code = (int)retstr;
+#endif
+    EXIT (code);
+}
+
+/* 'vp' is used to avoid gcc warnings about format string.	*/
+#define CHECK(expstr, fmt, ...)	do {				\
+    char s[260];						\
+    int i;							\
+    int (* volatile vp)(char *, const char *, ...) = sprintf_P;	\
+    memset (s, 0, sizeof(s));					\
+    i = vp (s, PSTR(fmt), ##__VA_ARGS__);			\
+    Check (__LINE__, PSTR(expstr), i, s);			\
+} while (0)
+
+int main ()
+{
+    /* '%x' specification	*/
+    CHECK ("0", "%x", 0);
+    CHECK ("1234 5678 9abc def0",
+	   "%x %x %x %x", 0x1234, 0x5678, 0x9abc, 0xdef0);
+    CHECK ("1 7fff 8000 8001 ffff",
+           "%x %x %x %x %x", 1, 0x7fff, 0x8000, 0x8001, 0xffff);
+
+    CHECK ("0 1 ffff", "%0x %0x %0x", 0, 1, 0xffff);
+    CHECK ("0 1 ffff", "% x % x % x", 0, 1, 0xffff);
+    CHECK ("0 1 ffff", "%+x %+x %+x", 0, 1, 0xffff);
+    CHECK ("0 1 ffff", "%-x %-x %-x", 0, 1, 0xffff);
+    CHECK ("0 0x1 0xffff", "%#x %#x %#x", 0, 1, 0xffff);
+
+#ifdef	__AVR__
+    CHECK ("0", "%.0x", 0);
+#endif
+    CHECK ("1 ffff", "%.0x %.0x", 1, 0xffff);
+    CHECK ("0 1 ffff", "%.1x %.1x %.1x", 0, 1, 0xffff);
+#ifdef	__AVR__		/* PRINTF_MIN */
+    CHECK ("0 1 ff ffff", "%.2x %.2x %.2x %.2x", 0, 1, 255, 0xffff);
+    CHECK ("0 1 12 123 1234",
+	   "%.3x %.3x %.3x %.3x %.3x", 0, 1, 0x12, 0x123, 0x1234);
+
+    CHECK ("0.1.ffff", "%1x.%1x.%1x", 0, 1, 0xffff);
+    CHECK ("1.12.123", "%2x.%2x.%2x", 1, 0x12, 0x123);
+    CHECK ("1.12.123.1234",
+	   "%3x.%3x.%3x.%3x", 1, 0x12, 0x123, 0x1234);
+    CHECK ("0.0x1.0x12.0x123.0x1234",
+	   "%#4x.%#4x.%#4x.%#4x.%#4x", 0, 1, 0x12, 0x123, 0x1234);
+    CHECK ("14.ffff", "% 4x.% 4x", 0x14, 0xffff);
+    CHECK ("16.ffff", "%+4x.%+4x", 0x16, 0xffff);
+    CHECK ("17.ffff", "%-4x.%-4x", 0x17, 0xffff);
+
+    CHECK ("0.1.12.123.1234",
+	   "%04x.%04x.%04x.%04x.%04x",
+	   0, 1, 0x12, 0x123, 0x1234);
+
+    CHECK ("1", "%08.4x", 1);		/* 0 - ignored	*/
+    CHECK ("1", "%08.0x", 1);
+    CHECK ("1", "%08.x", 1);
+
+    CHECK ("0.1.12.123.1234",
+	   "%8.3x.%8.3x.%8.3x.%8.3x.%8.3x", 0, 1, 0x12, 0x123, 0x1234);
+    CHECK ("12.13.14",
+	   "%08.4x.% 8.4x.%+8.4x", 0x12, 0x13, 0x14);
+    CHECK ("0.1.12.123.1234",
+	   "%-8.3x.%-8.3x.%-8.3x.%-8.3x.%-8.3x", 0, 1, 0x12, 0x123, 0x1234);
+
+    CHECK ("0.0x1.0x12.0x123.0x1234",
+           "%#8.4x.%#8.4x.%#8.4x.%#8.4x.%#8.4x",
+	   0, 1, 0x12, 0x123, 0x1234);
+
+    CHECK ("1", "%255x", 1);
+    CHECK ("1", "%-255x", 1);
+    CHECK ("2", "%.255x", 2);
+#endif
+
+    /* long arg	*/
+    CHECK ("0 1 12345678 9abcdef0 7fffffff 80000000 80000001 ffffffff",
+	   "%lx %lx %lx %lx %lx %lx %lx %lx",
+	   0L, 1L, 0x12345678L, 0x9abcdef0L,
+	   0x7fffffffL, 0x80000000L, 0x80000001L, 0xffffffffL);
+
+    /* short arg	*/
+    CHECK ("0 2 fffe", "%hx %hx %hx", 0, 2, 0xfffe);
+
+    return 0;
+}
diff --git a/tests/simulate/printf/sprintf_min-5.c b/tests/simulate/printf/sprintf_min-5.c
new file mode 100644
index 0000000..9fb7110
--- /dev/null
+++ b/tests/simulate/printf/sprintf_min-5.c
@@ -0,0 +1,100 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of sprintf_min(), specification: x.
+   $Id$	*/
+
+#ifndef __AVR__
+# define PRINTFLN(line, fmt, ...)	\
+    printf("\nLine %2d: " fmt "\n", line, ##__VA_ARGS__)
+# define EXIT(code)	exit ((code) < 255 ? (code) : 255)
+# define sprintf_P	sprintf
+#else
+# if defined(__AVR_ATmega128__)
+  /* ATmega128 has enough RAM for sprintf(), print to 0x2000 in XRAM. */
+#  define PRINTFLN(line, fmt, ...)	\
+    sprintf ((char *)0x2000, "\nLine %d: " fmt "\n", line, ##__VA_ARGS__)
+# else
+   /* small AVR */
+#  define PRINTFLN(args...)
+# endif
+# define EXIT	exit
+#endif
+
+#include <stdio.h>
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+void Check (int line,
+            const char *expstr,
+	    int retval, const char *retstr)
+{
+    int code;
+
+    if (retval != (int)strlen (retstr))
+	code = 1000 + line;
+    else if (strcmp_P (retstr, expstr))
+	code = line;
+    else
+	return;
+    PRINTFLN (line, "expect: %3d, \"%s\",\n%8s output: %3d, \"%s\"\n",
+	      strlen(expstr), expstr, " ", retval, retstr);
+#ifdef	DEBUG
+    code = (int)retstr;
+#endif
+    EXIT (code);
+}
+
+/* 'vp' is used to avoid gcc warnings about format string.	*/
+#define CHECK(expstr, fmt, ...)	do {				\
+    char s[260];						\
+    int i;							\
+    int (* volatile vp)(char *, const char *, ...) = sprintf_P;	\
+    memset (s, 0, sizeof(s));					\
+    i = vp (s, PSTR(fmt), ##__VA_ARGS__);			\
+    Check (__LINE__, PSTR(expstr), i, s);			\
+} while (0)
+
+int main ()
+{
+    /* '%X'	*/
+    CHECK ("0 1234 5678 9ABC DEF0",
+           "%X %X %X %X %X", 0, 0x1234, 0x5678, 0x9abc, 0xdef0);
+    CHECK ("0XFEDC 0XBA98 0X7654 0X3210",
+	   "%#X %#X %#X %#X", 0xfedc, 0xba98, 0x7654, 0x3210);
+
+    /* '%p'	*/
+#ifdef	__AVR__		/* Glibc result: (nil)	*/
+    CHECK ("0", "%p", 0);
+#endif
+    CHECK ("0x1 0xabcd 0xef02", "%p %p %p", 1, 0xabcd, 0xef02);
+
+    return 0;
+}
diff --git a/tests/simulate/printf/sprintf_min-int.c b/tests/simulate/printf/sprintf_min-int.c
new file mode 100644
index 0000000..7d1bb49
--- /dev/null
+++ b/tests/simulate/printf/sprintf_min-int.c
@@ -0,0 +1,31 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* $Id$ */
+#include "sprintf_std-int.c"
diff --git a/tests/simulate/printf/sprintf_min-inv.c b/tests/simulate/printf/sprintf_min-inv.c
new file mode 100644
index 0000000..8a3c6b2
--- /dev/null
+++ b/tests/simulate/printf/sprintf_min-inv.c
@@ -0,0 +1,144 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of sprintf_min(), invalid format.
+   $Id$	*/
+
+#ifndef __AVR__
+# define PRINTFLN(line, fmt, ...)	\
+    printf("\nLine %2d: " fmt "\n", line, ##__VA_ARGS__)
+# define EXIT(code)	exit ((code) < 255 ? (code) : 255)
+# define sprintf_P	sprintf
+#else
+# if defined(__AVR_ATmega128__)
+  /* ATmega128 has enough RAM for sprintf(), print to 0x2000 in XRAM. */
+#  define PRINTFLN(line, fmt, ...)	\
+    sprintf ((char *)0x2000, "\nLine %d: " fmt "\n", line, ##__VA_ARGS__)
+# else
+   /* small AVR */
+#  define PRINTFLN(args...)
+# endif
+# define EXIT	exit
+#endif
+
+#include <stdio.h>
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+void Check (int line,
+	    int explen,
+            const char *expstr,
+	    int retval, const char *retstr)
+{
+    int code;
+
+    if (retval != explen)
+	code = 1000 + line;
+    else if (strcmp_P (retstr, expstr))
+	code = line;
+    else
+	return;
+    PRINTFLN (line, "expect: %3d, \"%s\",\n%8s output: %3d, \"%s\"\n",
+	      explen, expstr, " ", retval, retstr);
+#ifdef	DEBUG
+    code = (int)retstr;
+#endif
+    EXIT (code);
+}
+
+/* 'vp' is used to avoid gcc warnings about format string.	*/
+#define CHECK(explen, expstr, fmt, ...)	do {			\
+    char s[260];						\
+    int i;							\
+    int (* volatile vp)(char *, const char *, ...) = sprintf_P;	\
+    memset (s, 0, sizeof(s));					\
+    i = vp (s, PSTR(fmt), ##__VA_ARGS__);			\
+    Check (__LINE__, explen, PSTR(expstr), i, s);		\
+} while (0)
+
+int main ()
+{
+    /* Format last symbol is absent	*/
+#ifdef	__AVR__		/* Glibc return -1, if '%' has not a format spec. */
+    CHECK (0, "", "%");
+    CHECK (1, ".", ".%");
+    CHECK (1, ".", ".%0");
+    CHECK (6, "12345 ", "%d %+l", 12345);
+#endif
+
+    /* 'hh' length modifier is possible, but it is ignored in avr-libc	*/
+    CHECK (3, "123", "%hhd", 123);
+    
+    /* Length modifier and conversion mismatch: ignored	*/
+    CHECK (1, "a", "%hhc", 'a');
+    CHECK (1, "b", "%hc", 'b');
+    CHECK (3, "foo", "%hhs", "foo");
+    CHECK (3, "foo", "%hs", "foo");
+    
+    /* If the `space' and `+' flags both appear, the `space' flag
+       is ignored.	*/
+#ifdef	__AVR__
+    CHECK (5, "10.11", "% +d.%+ d", 10, 11);	/* PRINTF_MIN: both ignored */
+#else
+    CHECK (7, "+10.+11", "% +d.%+ d", 10, 11);
+#endif
+    
+#ifdef	__AVR__
+    /* Unknown format: glibc output is "%b", return value 2.	*/
+    CHECK (0, "", "%b");
+
+    /* Two precision dots.	*/
+    // CHECK (-1, "", "%8..4d", 1);
+    CHECK (1, "1", "%8..4d", 1);	/* PRINTF_MIN: not checked	*/
+    
+    /* Long long arg	*/
+    CHECK (0, "", "%lld", 1LL);
+
+    /* wint_t, wchar_t: ignore	*/
+    CHECK (1, "c", "%lc", 'c');
+    CHECK (3, "foo", "%ls", "foo");
+    
+    /* The asterisk `*' in width or precision.	*/
+    CHECK (0, "", "%*d", 10, 12345);
+    CHECK (0, "", "%10.*d", 6, 12345);
+    CHECK (0, "", "%*.*d", 10, 6, 12345);
+    
+    /* Float numbers: are skipped	*/
+    CHECK (1, "?", "%e", 0.0);
+    CHECK (23, "? e ? f ? g ? E ? F ? G",
+	 "%e %c %e %c %e %c %e %c %e %c %e %c",
+	 1.0, 'e', 2.0, 'f', 3.0, 'g', 4.0, 'E', 5.0, 'F', 6.0, 'G');
+    CHECK (14, "? 10 ? 11 ? 12",
+	   "%+0e %d %-10f %d % 10.5g %d",
+	   10.0, 10, 11.0, 11, 12.0, 12);
+#endif
+
+    return 0;
+}
diff --git a/tests/simulate/printf/sprintf_std-int.c b/tests/simulate/printf/sprintf_std-int.c
new file mode 100644
index 0000000..2b43c74
--- /dev/null
+++ b/tests/simulate/printf/sprintf_std-int.c
@@ -0,0 +1,148 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of sprintf(), a set of decimal numbers.
+   Is sutable for all variants: MIN, STD and FLT.
+   $Id$	*/
+
+#ifndef __AVR__
+# define PRINTFLN(line, fmt, ...)	\
+    printf("\nLine %2d: " fmt "\n", line, ##__VA_ARGS__)
+# define EXIT(code)	exit ((code) < 255 ? (code) : 255)
+# define sprintf_P	sprintf
+#else
+# if defined(__AVR_ATmega128__)
+  /* ATmega128 has enough RAM for sprintf(), print to 0x2000 in XRAM. */
+#  define PRINTFLN(line, fmt, ...)	\
+    sprintf ((char *)0x2000, "\nLine %d: " fmt "\n", line, ##__VA_ARGS__)
+# else
+   /* small AVR */
+#  define PRINTFLN(args...)
+# endif
+# define EXIT	exit
+#endif
+
+#include <stdio.h>
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+void Check (int line,
+            const char *expstr,
+	    int retval, const char *retstr)
+{
+    int code;
+
+    if (retval != (int)strlen (retstr))
+	code = 1000 + line;
+    else if (strcmp_P (retstr, expstr))
+	code = line;
+    else
+	return;
+    PRINTFLN (line, "expect: %3d, \"%s\",\n%8s output: %3d, \"%s\"\n",
+	      strlen(expstr), expstr, " ", retval, retstr);
+#ifdef	DEBUG
+    code = (int)retstr;
+#endif
+    EXIT (code);
+}
+
+/* 'vp' is used to avoid gcc warnings about format string.	*/
+#define CHECK(expstr, fmt, ...)	do {				\
+    char s[260];						\
+    int i;							\
+    int (* volatile vp)(char *, const char *, ...) = sprintf_P;	\
+    memset (s, 0, sizeof(s));					\
+    i = vp (s, PSTR(fmt), ##__VA_ARGS__);			\
+    Check (__LINE__, PSTR(expstr), i, s);			\
+} while (0)
+
+#define CHECK_2(fmt, val)	do {	\
+    char s[20];				\
+    int i;				\
+    i = sprintf_P (s, PSTR(fmt), val);	\
+    if (i <= 0 || i > 12)		\
+	EXIT (__LINE__);		\
+    if (val != strtoul(s, 0, 0))	\
+	EXIT (__LINE__ + 1000);		\
+} while (0)
+
+int main ()
+{
+    unsigned long b1, b2;
+
+    CHECK ("012345678", "%d%d%d%d%d%d%d%d%d", 0,1,2,3,4,5,6,7,8);
+    CHECK ("9 10 11", "%d %d %d", 9, 10, 11);
+    CHECK ("99 100 101", "%d %d %d", 99, 100, 101);
+    CHECK ("999 1000 1001", "%d %d %d", 999, 1000, 1001);
+    CHECK ("9999 10000 10001", "%d %d %d", 9999, 10000, 10001);
+    CHECK ("99999 100000 100001", "%ld %ld %ld", 99999L, 100000L, 100001L);
+    CHECK ("999999 1000000 1000001", "%ld %ld %ld",
+	   999999L, 1000000L, 1000001L);
+    CHECK ("9999999 10000000 10000001", "%ld %ld %ld",
+	   9999999L, 10000000L, 10000001L);
+    CHECK ("99999999 100000000 100000001", "%ld %ld %ld",
+           99999999L, 100000000L, 100000001L);
+    CHECK ("999999999 1000000000 1000000001", "%ld %ld %ld",
+	   999999999L, 1000000000L, 1000000001L);
+    CHECK ("2000000000 3000000000 4000000000 4294967295", "%lu %lu %lu %lu",
+	   2000000000ul, 3000000000ul, 4000000000ul, 0xffffffff);
+
+    /* Check a set of numbers.	*/
+    for (b1 = 1; b1; b1 <<= 1) {
+	for (b2 = 1; b2; b2 <<= 1) {
+	    unsigned long x;
+	    x = b1 | b2;
+	    CHECK_2 ("%ld", x);
+	    CHECK_2 ("%lu", x);
+	    CHECK_2 ("%#lo", x);
+	    CHECK_2 ("%#lx", x);
+	    CHECK_2 ("%#lX", x);
+	    x -= 1;
+	    CHECK_2 ("%ld", x);
+	    CHECK_2 ("%lu", x);
+	    CHECK_2 ("%#lo", x);
+	    CHECK_2 ("%#lx", x);
+	    CHECK_2 ("%#lX", x);
+	    x = ~(b1 | b2);
+	    CHECK_2 ("%ld", x);
+	    CHECK_2 ("%lu", x);
+	    CHECK_2 ("%#lo", x);
+	    CHECK_2 ("%#lx", x);
+	    CHECK_2 ("%#lX", x);
+	    x += 1;
+	    CHECK_2 ("%ld", x);
+	    CHECK_2 ("%lu", x);
+	    CHECK_2 ("%#lo", x);
+	    CHECK_2 ("%#lx", x);
+	    CHECK_2 ("%#lX", x);
+	}
+    }
+    return 0;
+}
diff --git a/tests/simulate/printf/sprintf_std-inv.c b/tests/simulate/printf/sprintf_std-inv.c
new file mode 100644
index 0000000..96a8147
--- /dev/null
+++ b/tests/simulate/printf/sprintf_std-inv.c
@@ -0,0 +1,107 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of sprintf_std(), invalid format.
+   $Id$	*/
+
+#ifndef __AVR__
+# define PRINTFLN(line, fmt, ...)	\
+    printf("\nLine %2d: " fmt "\n", line, ##__VA_ARGS__)
+# define EXIT(code)	exit ((code) < 255 ? (code) : 255)
+# define sprintf_P	sprintf
+#else
+# if defined(__AVR_ATmega128__)
+  /* ATmega128 has enough RAM for sprintf(), print to 0x2000 in XRAM. */
+#  define PRINTFLN(line, fmt, ...)	\
+    sprintf ((char *)0x2000, "\nLine %d: " fmt "\n", line, ##__VA_ARGS__)
+# else
+   /* small AVR */
+#  define PRINTFLN(args...)
+# endif
+# define EXIT	exit
+#endif
+
+#include <stdio.h>
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+void Check (int line,
+	    int explen,
+            const char *expstr,
+	    int retval, const char *retstr)
+{
+    int code;
+
+    if (retval != explen)
+	code = 1000 + line;
+    else if (strcmp_P (retstr, expstr))
+	code = line;
+    else
+	return;
+    PRINTFLN (line, "expect: %3d, \"%s\",\n%8s output: %3d, \"%s\"\n",
+	      explen, expstr, " ", retval, retstr);
+#ifdef	DEBUG
+    code = (int)retstr;
+#endif
+    EXIT (code);
+}
+
+/* 'vp' is used to avoid gcc warnings about format string.	*/
+#define CHECK(explen, expstr, fmt, ...)	do {			\
+    char s[260];						\
+    int i;							\
+    int (* volatile vp)(char *, const char *, ...) = sprintf_P;	\
+    memset (s, 0, sizeof(s));					\
+    i = vp (s, PSTR(fmt), ##__VA_ARGS__);			\
+    Check (__LINE__, explen, PSTR(expstr), i, s);		\
+} while (0)
+
+int main ()
+{
+#ifdef	__AVR__		/* PRINTF_STD */
+    /* Float numbers: are skipped	*/
+    CHECK (1, "?", "%e", 0.0);
+    CHECK (23, "? e ? f ? g ? E ? F ? G",
+	   "%e %c %e %c %e %c %e %c %e %c %e %c",
+	   1.0, 'e', 2.0, 'f', 3.0, 'g', 4.0, 'E', 5.0, 'F', 6.0, 'G');
+    CHECK (19, "? 10 ? 11 ? 12 ? 13",
+	   "%+e %d %-f %d % g %d %0F %d",
+	   10.0, 10, 11.0, 11, 12.0, 12, 13.0, 13);
+
+    /* Width is work.	*/
+    CHECK (17, " ?.  ?.   ?.    ?",
+	   "%2e.%3.1f.%+4g.% 5E", 1.0, 2.0, 3.0, 4.0);
+
+    /* Left pad is work.	*/
+    CHECK (6, "? .?  ", "%-2F.%-03G", 5.0, 6.0);
+#endif
+
+    return 0;
+}
diff --git a/tests/simulate/printf/vsnprintf_all-P.c b/tests/simulate/printf/vsnprintf_all-P.c
new file mode 100644
index 0000000..e500f1b
--- /dev/null
+++ b/tests/simulate/printf/vsnprintf_all-P.c
@@ -0,0 +1,33 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* $Id$ */
+
+#define	L_progmem
+#include "vsnprintf_all.c"
diff --git a/tests/simulate/printf/vsnprintf_all.c b/tests/simulate/printf/vsnprintf_all.c
new file mode 100644
index 0000000..476b1c5
--- /dev/null
+++ b/tests/simulate/printf/vsnprintf_all.c
@@ -0,0 +1,133 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* $Id$ */
+
+#ifndef __AVR__
+# define PRINTFLN(line, fmt, ...)	\
+    printf("\nLine %2d: " fmt "\n", line, ##__VA_ARGS__)
+# define EXIT(code)	exit ((code) < 255 ? (code) : 255)
+# define vsnprintf_P	vsnprintf
+#else
+# if defined(__AVR_ATmega128__)
+  /* ATmega128 has enough RAM for sprintf(), print to 0x2000 in XRAM. */
+#  define PRINTFLN(line, fmt, ...)	\
+    sprintf ((char *)0x2000, "\nLine %d: " fmt "\n", line, ##__VA_ARGS__)
+# else
+   /* small AVR */
+#  define PRINTFLN(args...)
+# endif
+# define EXIT	exit
+#endif
+
+#define	L_PRINTFLN(args...)	PRINTFLN (__LINE__, args)
+#define L_EXIT()		EXIT (__LINE__)
+
+#include <stdarg.h>
+#include <stdio.h>
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+#ifdef	L_progmem
+# define vsnprintf	vsnprintf_P
+# define PFMT(s)	PSTR(s)
+#else
+# define PFMT(s)	s
+#endif
+
+void Check (int line,
+            int expval, const char *expstr,
+	    char *buf, size_t size, const char *fmt, ...)
+{
+    va_list ap;
+    int retval;
+    int code;
+
+    va_start (ap, fmt);
+    retval = vsnprintf (buf, size, fmt, ap);
+    va_end (ap);
+
+    if (retval != expval)
+	code = line;
+    else if (size && strcmp_P (buf, expstr))
+	code = 1000 + line;
+    else
+	return;
+    PRINTFLN (line, "expect: %3d, \"%s\",\n%8s output: %3d, \"%s\"\n",
+	      strlen(expstr), expstr, " ", retval, size ? buf : "");
+#ifdef	DEBUG
+    code = (int)retstr;
+#endif
+    EXIT (code);
+}
+
+
+#define FILLBUF	0x55	/* Before call of function to test
+			   buf[] is filled with nonzero value.	*/
+#define CHECK(expval, expstr, buf, size, fmt, ...)	\
+    memset (buf, FILLBUF, sizeof(buf));			\
+    Check (__LINE__, expval, PSTR(expstr),		\
+	   buf, size, PFMT(fmt), ##__VA_ARGS__)
+
+int main ()
+{
+    char s[260];
+    int i;
+
+    /* size == 0	*/
+    CHECK (0, "", s+10, 0, "");
+
+    /* bug #19280: snprintf(s,0,...) write to s[-1]	*/
+    memset (s, FILLBUF, sizeof(s));
+    Check (__LINE__, 3, PSTR(""), s+10, 0, PFMT("foo"));
+    for (i = 0; i != (int)sizeof(s); i++) {
+	if ((unsigned char)s[i] != FILLBUF)
+	    L_EXIT ();
+    }
+
+    /* size == 1	*/
+    s[0] = 1;
+    CHECK (0, "", s, 1, "");
+    CHECK (3, "", s, 1, "foo");
+
+    /* size == 2	*/
+    CHECK (0, "", s, 2, "");
+    CHECK (1, ".", s, 2, ".");
+    CHECK (2, "a", s, 2, "aa");
+    CHECK (5, "1", s, 2, "%d", 12345);
+
+    /* big size	*/
+    CHECK (6, "-12345", s, sizeof(s), "%d", -12345);
+    CHECK (5, "54321", s, ~0u >> 1, "%u", 54321);		/* 32767 */
+    CHECK (4, "abcd", s, ~(~0u >> 1), "%x", 0xabcd);		/* 32768 */
+    CHECK (3, "123", s, ~0u, "%o", 0123);			/* 65535 */
+
+    return 0;
+}
diff --git a/tests/simulate/progmem.h b/tests/simulate/progmem.h
new file mode 100644
index 0000000..175885b
--- /dev/null
+++ b/tests/simulate/progmem.h
@@ -0,0 +1,60 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* $Id$	*/
+
+#ifdef	__AVR__
+
+# include <avr/pgmspace.h>
+
+# define pgm_read_qword(addr)	({			\
+    union {						\
+	unsigned long __dw[2];				\
+	unsigned long long __qw[1];			\
+    } __u;						\
+    __u.__dw[0] = pgm_read_dword (addr);		\
+    __u.__dw[1] = pgm_read_dword ((void *)addr + 4);	\
+    __u.__qw[0];					\
+  })
+
+#else
+
+# define PROGMEM
+# define PSTR(s)		(s)
+# define pgm_read_byte(addr)	(*(unsigned char *)(addr))
+# define pgm_read_word(addr)	(*(unsigned int *)(addr))
+# define pgm_read_dword(addr)	(*(unsigned long *)(addr))
+# define pgm_read_float(addr)	(*(float *)(addr))
+# define pgm_read_qword(addr)	(*(unsigned long long *)(addr))
+# define strlen_P		strlen
+# define strcmp_P		strcmp
+# define strcpy_P		strcpy
+# define memcpy_P		memcpy
+
+#endif
diff --git a/tests/simulate/readcore.py b/tests/simulate/readcore.py
new file mode 100755
index 0000000..506ff3d
--- /dev/null
+++ b/tests/simulate/readcore.py
@@ -0,0 +1,192 @@
+#! /usr/bin/env python
+
+# Copyright (c) 2008, Joerg Wunsch
+# All rights reserved.
+#
+# Redistribution and use in source and binary forms, with or without
+# modification, are permitted provided that the following conditions are met:
+#
+# * Redistributions of source code must retain the above copyright
+#   notice, this list of conditions and the following disclaimer.
+# * Redistributions in binary form must reproduce the above copyright
+#   notice, this list of conditions and the following disclaimer in
+#   the documentation and/or other materials provided with the
+#   distribution.
+# * Neither the name of the copyright holders nor the names of
+#   contributors may be used to endorse or promote products derived
+#   from this software without specific prior written permission.
+#
+# THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+# AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+# IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+# ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+# LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+# CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+# SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+# INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+# CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+# ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+# POSSIBILITY OF SUCH DAMAGE.
+
+# The ATmega128 simulations return an error code string in "external
+# memory" at address 0x2000 upon failure.  If runtest.sh is run with
+# option -s, it will abort the simulation, and leave the file
+# core_avr_dump.core where this script can read the error code string
+# from.  (The simulations on smaller AVRs don't generate this string
+# in order to not bloat their code beyond the available ROM size by
+# including sprintf().)
+
+# If an argument is given to the script, it is used as the name of the
+# simulavr core dump file to read.  Otherwise, the simulavr default
+# name "core_avr_dump.core" is used.
+
+# $Id$
+
+# Enum implementation, from Python recipe:
+# http://aspn.activestate.com/ASPN/Cookbook/Python/Recipe/413486
+# Author: Zoran Isailovski
+def Enum(*names):
+   ##assert names, "Empty enums are not supported" # <- Don't like empty enums? Uncomment!
+
+   class EnumClass(object):
+      __slots__ = names
+      def __iter__(self):        return iter(constants)
+      def __len__(self):         return len(constants)
+      def __getitem__(self, i):  return constants[i]
+      def __repr__(self):        return 'Enum' + str(names)
+      def __str__(self):         return 'enum ' + str(constants)
+
+   class EnumValue(object):
+      __slots__ = ('__value')
+      def __init__(self, value): self.__value = value
+      Value = property(lambda self: self.__value)
+      EnumType = property(lambda self: EnumType)
+      def __hash__(self):        return hash(self.__value)
+      def __cmp__(self, other):
+         # C fans might want to remove the following assertion
+         # to make all enums comparable by ordinal value {;))
+         assert self.EnumType is other.EnumType, "Only values from the same enum are comparable"
+         return cmp(self.__value, other.__value)
+      def __invert__(self):      return constants[maximum - self.__value]
+      def __nonzero__(self):     return bool(self.__value)
+      def __repr__(self):        return str(names[self.__value])
+
+   maximum = len(names) - 1
+   constants = [None] * len(names)
+   for i, each in enumerate(names):
+      val = EnumValue(i)
+      setattr(EnumClass, each, val)
+      constants[i] = val
+   constants = tuple(constants)
+   EnumType = EnumClass()
+   return EnumType
+# end Enum recipe
+
+import re, sys
+
+# Start of CPU register dump
+regmagic = re.compile('^General Purpose Register Dump')
+
+# Location of exit code is r24/r25
+r24magic = re.compile('r24=(..) +r25=(..)')
+
+# Start of external SRAM dump
+srammagic = re.compile('^External SRAM Memory Dump:')
+
+# Start of error code string at address 0x2000
+startaddr = re.compile('^2000 :')
+
+# Pattern to detect repeated lines
+repline = re.compile('-- last line repeats --')
+
+# Turn one line from the memory dump into an ASCII string.
+# Stops processing upon encountering a NUL character.
+# Returns a tuple consisting of the string and a condition
+# code that is 1 when processing has been terminated by
+# detecting NUL, 0 when reaching end of line without seeing
+# NUL.
+def asciiize(s):
+    rv = ''
+    a = s.split()
+    for iascii in a[2:]:
+        i = int(iascii, 16)
+        if i == 0:
+            return (rv, 1)
+        if i == 10 or (i >= 32 and i < 127):
+            rv += chr(i)
+        else:
+            # Non-printable character, not supposed to happen
+            rv += '?'
+    return (rv, 0)
+
+# Calculate exitcode from r24/r25 hex values
+def exitcode(r24, r25):
+    i24 = int(r24, 16)
+    i25 = int(r25, 16)
+    return i25 * 256 + i24
+
+
+# Start of main
+try:
+   corename = sys.argv[1]
+except IndexError:
+   corename = 'core_avr_dump.core'
+
+core = open(corename)
+
+# Our result string
+s = ''
+
+# Exit code
+ec = -1
+
+# Parser state.
+pstateClass = Enum('Done', 'StartAddr', 'SRAMfound', 'GotExitCode',
+                   'FoundCPUregs', 'Starting')
+pstate = pstateClass.Starting
+
+oline = ''
+
+while pstate > pstateClass.Done:
+    l = core.readline()
+    if l == '':
+        # EOF encountered
+        break
+
+    if pstate == pstateClass.Starting:
+        if regmagic.match(l):
+            pstate = pstateClass.FoundCPUregs
+        continue
+    elif pstate == pstateClass.FoundCPUregs:
+        matchobj = r24magic.match(l)
+        if matchobj != None:
+            ec = exitcode(matchobj.group(1), matchobj.group(2))
+            pstate = pstateClass.GotExitCode
+        continue
+    elif pstate == pstateClass.GotExitCode:
+        if srammagic.match(l):
+            pstate = pstateClass.SRAMfound
+        continue
+    elif pstate == pstateClass.SRAMfound or pstate == pstateClass.StartAddr:
+        if repline.match(l):
+            l = oline
+        if pstate == pstateClass.SRAMfound:
+            if startaddr.match(l):
+                pstate = pstateClass.StartAddr
+            else:
+                continue
+        (part, condcode) = asciiize(l)
+        s += part
+        if condcode == 1:
+            pstate = pstateClass.Done
+    oline = l
+
+core.close()
+
+print("Exit code: %d" % ec)
+
+if s != '':
+    print("Message string:")
+    print(s)
+else:
+    print("No message string found.")
diff --git a/tests/simulate/regression/20080322-isinf.c b/tests/simulate/regression/20080322-isinf.c
new file mode 100644
index 0000000..b3fa20f
--- /dev/null
+++ b/tests/simulate/regression/20080322-isinf.c
@@ -0,0 +1,68 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Bug: isinf() produces too large code with GCC 4.3.0
+   $Id$
+
+   GCC 4.3.0 unrolls the isinf() function with call of __unordsf2().
+   The testing method is to force 'region text is full' in case
+   of libgcc's __unordsf2() function usage.	*/
+
+#ifdef	__AVR__
+
+#include <avr/io.h>
+
+/* Sufficient MIN_SIZE value:
+     200   avr-gcc 4.1.2, ATmega128
+     700   avr-gcc 4.3.0, ATmega128, before fixing
+     280   avr-gcc 4.3.0, ATmega128, after fixing of this bug
+ */
+#define MIN_SIZE 320
+
+#define NWORDS	((FLASHEND - _VECTORS_SIZE - MIN_SIZE)/2)
+void very_big_function (void)
+{
+    asm volatile (
+	".rept	(%0)*256 + %1	\n\t"
+	"nop			\n\t"
+	".endr "
+	:: "M" (NWORDS / 256),
+	   "M" (NWORDS % 256)
+    );
+}
+
+#endif
+
+int isinf (double);
+
+int main ()
+{
+    static volatile double x;
+    return isinf (x);
+}
diff --git a/tests/simulate/regression/20080323-jmpbuf.c b/tests/simulate/regression/20080323-jmpbuf.c
new file mode 100644
index 0000000..134047f
--- /dev/null
+++ b/tests/simulate/regression/20080323-jmpbuf.c
@@ -0,0 +1,66 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* missed-optimization: jmp_buf includes unused bytes.
+   $Id$	*/
+
+#include <setjmp.h>
+#include <stdlib.h>
+#include <string.h>
+
+jmp_buf env;
+
+int main ()
+{
+    char isused[sizeof(env)];
+    volatile unsigned char fill;
+    void *p;
+    int i;
+
+    memset (isused, 0, sizeof(isused));
+    fill = 0;
+    do {
+	memset (&env, fill, sizeof(env));
+
+	setjmp (env);
+	rand ();	/* to avoid optimization	*/
+
+	for (i = 0, p = &env; i < (int)sizeof(env); i++, p++) {
+	    if (*(unsigned char *)p != fill)
+		isused[i] = 1;
+	}
+    } while (++fill);
+
+#ifdef	__AVR__
+    if (memchr (isused, 0, sizeof(isused)))
+	exit (__LINE__);
+#endif
+
+    return 0;
+}
diff --git a/tests/simulate/regression/20080405-eeprom.c b/tests/simulate/regression/20080405-eeprom.c
new file mode 100644
index 0000000..2f67ad6
--- /dev/null
+++ b/tests/simulate/regression/20080405-eeprom.c
@@ -0,0 +1,44 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Support of the .eeprom section by 'runtest.sh'.
+   $Id$	*/
+
+#ifdef	__AVR__
+# include <avr/eeprom.h>
+#else
+# define EEMEM
+#endif
+
+EEMEM char e[10];
+
+int main ()
+{
+    return 0;
+}
diff --git a/tests/simulate/regression/20081221-ffs.c b/tests/simulate/regression/20081221-ffs.c
new file mode 100644
index 0000000..65650fd
--- /dev/null
+++ b/tests/simulate/regression/20081221-ffs.c
@@ -0,0 +1,48 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* The _FFS() macro is wrong in case of CPP conditional usage.
+   Seems, it is a bug in CPP parser in case of few '?:' expersions.
+   The CC parser is correct.
+   
+   $Id$
+ */
+
+#include <string.h>
+
+#ifdef	__AVR__
+# if	 _FFS (1) != 1
+#  error
+# endif
+#endif
+
+int main ()
+{
+    return 0;
+}
diff --git a/tests/simulate/regression/bug-01929.c b/tests/simulate/regression/bug-01929.c
new file mode 100644
index 0000000..db7d978
--- /dev/null
+++ b/tests/simulate/regression/bug-01929.c
@@ -0,0 +1,42 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* bug #1929, -Inf not detected
+   $Id$
+ */
+#include <stdlib.h>
+#include <math.h>
+
+int main ()
+{
+    volatile float v = 0;
+    v = -1/v;
+    if (isinf (v)) return 0;
+    exit (__LINE__);
+}
diff --git a/tests/simulate/regression/bug-11511.c b/tests/simulate/regression/bug-11511.c
new file mode 100644
index 0000000..364a699
--- /dev/null
+++ b/tests/simulate/regression/bug-11511.c
@@ -0,0 +1,42 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* bug #11511: NaN not generated correctly by division library
+   $Id$
+ */
+#include <stdlib.h>
+#include <math.h>
+
+int main ()
+{
+    volatile float a = 0, b = 0;
+    float c = a/b;
+    if (isnan (c)) return 0;
+    exit (__LINE__);
+}
diff --git a/tests/simulate/regression/bug-11820.c b/tests/simulate/regression/bug-11820.c
new file mode 100644
index 0000000..39035a2
--- /dev/null
+++ b/tests/simulate/regression/bug-11820.c
@@ -0,0 +1,44 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* bug #11820: wrong output with precision = 3
+   $Id$
+ */
+#include <stdlib.h>
+#include <string.h>
+
+int main ()
+{
+#ifdef	__AVR__		/* dtostre() is not a standart C function.	*/
+    char s[20];
+    dtostre (1e-15, s, 3, 0);
+    if (strcmp (s, "1.000e-15")) exit (__LINE__);
+#endif
+    return 0;
+}
diff --git a/tests/simulate/regression/bug-13330.c b/tests/simulate/regression/bug-13330.c
new file mode 100644
index 0000000..ddbfe3e
--- /dev/null
+++ b/tests/simulate/regression/bug-13330.c
@@ -0,0 +1,44 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* bug #13330: NaN is recognized not always
+   $Id$
+ */
+#include <float.h>
+#include <stdlib.h>
+#include <math.h>
+
+int main ()
+{
+    volatile double vx = -DBL_MAX;
+    vx = vx + vx;
+    if (isnan (vx))
+	exit (__LINE__);
+    return 0;
+}
diff --git a/tests/simulate/regression/bug-18899.c b/tests/simulate/regression/bug-18899.c
new file mode 100644
index 0000000..6290836
--- /dev/null
+++ b/tests/simulate/regression/bug-18899.c
@@ -0,0 +1,40 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* bug #18899: atoi and atol do not handle vertical tab properly
+   $Id$
+ */
+#include <stdlib.h>
+
+int main ()
+{
+    if (atoi ("\v12345") != 12345) exit (__LINE__);
+    if (atol ("\v123456") != 123456) exit (__LINE__);
+    return 0;
+}
diff --git a/tests/simulate/regression/bug-19079.c b/tests/simulate/regression/bug-19079.c
new file mode 100644
index 0000000..1db659b
--- /dev/null
+++ b/tests/simulate/regression/bug-19079.c
@@ -0,0 +1,54 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* bug #19079: sscanf %s eats 1 char too much
+   $Id$	*/
+
+#include <stdio.h>
+#include <string.h>
+
+int main ()
+{
+    char wsp_N[10];
+    char wsp_E[11];
+    int fixva = 0;
+    int nr_sat = 0;
+    char s[] = "$GP,194000.00,5001.4934,N,01954.5390,E,0,02,2.9";
+    int nrconv;
+    
+    nrconv = sscanf (s, "$GP,%*u.%*u,%9s,N,%10s,E,%i,%i,%*s",
+		     wsp_N, wsp_E, &fixva, &nr_sat);
+    if (nrconv != 4) return __LINE__;
+    if (strcmp (wsp_N, "5001.4934")) return __LINE__;
+    if (strcmp (wsp_E, "01954.5390")) return __LINE__;
+    if (fixva != 0) return __LINE__;
+    if (nr_sat != 2) return __LINE__;
+    
+    return 0;
+}
diff --git a/tests/simulate/regression/bug-19134.c b/tests/simulate/regression/bug-19134.c
new file mode 100644
index 0000000..0a9bcd7
--- /dev/null
+++ b/tests/simulate/regression/bug-19134.c
@@ -0,0 +1,44 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* bug #19134: strcasecmp(): result sign is not changed by swaping args.
+   $Id$	*/
+
+#include <string.h>
+
+int main ()
+{
+    char s1[] = "a";
+    char s2[] = "[";
+
+    if (   (strcasecmp (s1, s2) > 0 && strcasecmp (s2, s1) > 0)
+	|| (strcasecmp (s1, s2) < 0 && strcasecmp (s2, s1) < 0) )
+      return __LINE__;
+    return 0;
+}
diff --git a/tests/simulate/regression/bug-19135.c b/tests/simulate/regression/bug-19135.c
new file mode 100644
index 0000000..50e2c73
--- /dev/null
+++ b/tests/simulate/regression/bug-19135.c
@@ -0,0 +1,42 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* bug #19135: strstr(): `needle' is not always founded.
+   $Id$	*/
+
+#include <string.h>
+
+int main ()
+{
+    char haystack[] = "ababac";
+    char *p = strstr (haystack, "abac");
+    if (p != haystack + 2)
+	return __LINE__;
+    return 0;
+}
diff --git a/tests/simulate/regression/bug-19280.c b/tests/simulate/regression/bug-19280.c
new file mode 100644
index 0000000..78bfeec
--- /dev/null
+++ b/tests/simulate/regression/bug-19280.c
@@ -0,0 +1,43 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* bug #19280: snprintf(s,0,fmt,...) write to foreign memory: s[-1]
+   $Id$	*/
+
+#include <stdio.h>
+
+int main ()
+{
+    volatile char s[5];
+
+    s[0] = 1;
+    snprintf ((char *)s + 1, 0, "foo");
+    if (s[0] != 1) return __LINE__;
+    return 0;
+}
diff --git a/tests/simulate/regression/bug-19281.c b/tests/simulate/regression/bug-19281.c
new file mode 100644
index 0000000..ec260f7
--- /dev/null
+++ b/tests/simulate/regression/bug-19281.c
@@ -0,0 +1,39 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* bug #19281: isblank('\v') return TRUE: mismatch to C99
+   $Id$	*/
+
+#include <ctype.h>
+
+int main ()
+{
+    if (isblank('\v')) return __LINE__;
+    return 0;
+}
diff --git a/tests/simulate/regression/bug-21872-1.c b/tests/simulate/regression/bug-21872-1.c
new file mode 100644
index 0000000..6f35bd1
--- /dev/null
+++ b/tests/simulate/regression/bug-21872-1.c
@@ -0,0 +1,75 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* bug #21872: __floatunsisf/undisf incorrectly named
+   $Id$
+
+   Idea is to force 'region text is full' in case of libgcc's conversion
+   function usage.	*/
+
+#ifdef	__AVR__
+
+#include <avr/io.h>
+
+/* avr-gcc 4.2.2 + Avr-libc 1.6.1, before correction:
+      MIN_SIZE == 1000 --> Fault
+      MIN_SIZE == 1100 --> OK
+   avr-gcc 4.2.2 + Avr-libc 1.6.1, after correction:
+      MIN_SIZE == 220 --> Fault
+      MIN_SIZE == 230 --> OK
+   avr-gcc 4.1.2 + Avr-libc 1.6.1, after correction:
+      MIN_SIZE == 650 --> Fault
+      MIN_SIZE == 660 --> OK	*/
+#if	(__GNUC__ == 4 && __GNUC_MINOR__ >= 2) || (__GNUC__ > 4)
+# define MIN_SIZE 400
+#else
+# define MIN_SIZE 850
+#endif
+
+#define NWORDS	((FLASHEND - _VECTORS_SIZE - MIN_SIZE)/2)
+void very_big_function (void)
+{
+    asm volatile (
+	".rept	(%0)*256 + %1	\n\t"
+	"nop			\n\t"
+	".endr "
+	:: "M" (NWORDS / 256),
+	   "M" (NWORDS % 256)
+    );
+}
+
+#endif
+
+int main ()
+{
+    volatile unsigned long vsi = 0;
+    volatile float vsf;
+    vsf = vsi;		/* call of conversion function	*/
+    return 0;
+}
diff --git a/tests/simulate/regression/bug-21872-2.c b/tests/simulate/regression/bug-21872-2.c
new file mode 100644
index 0000000..f1a2bb1
--- /dev/null
+++ b/tests/simulate/regression/bug-21872-2.c
@@ -0,0 +1,75 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* bug #21872: __floatunsisf/undisf incorrectly named
+   $Id$
+   
+   Idea is to force 'region text is full' in case of libgcc's conversion
+   function usage.	*/
+
+#ifdef	__AVR__
+
+#include <avr/io.h>
+
+/* avr-gcc 4.2.2 + Avr-libc 1.6.1, before correction:
+      MIN_SIZE == 3000 --> Fault
+      MIN_SIZE == 3100 --> OK
+   avr-gcc 4.2.2 + Avr-libc 1.6.1, after correction:
+      MIN_SIZE == 250 --> Fault
+      MIN_SIZE == 260 --> OK
+   avr-gcc 4.1.2 + Avr-libc 1.6.1, after correction:
+      MIN_SIZE == 1300 --> Fault
+      MIN_SIZE == 1400 --> OK	*/
+#if	(__GNUC__ == 4 && __GNUC_MINOR__ >= 2) || (__GNUC__ > 4)
+# define MIN_SIZE 500
+#else
+# define MIN_SIZE 1700
+#endif
+
+#define NWORDS	((FLASHEND - _VECTORS_SIZE - MIN_SIZE)/2)
+void very_big_function (void)
+{
+    asm volatile (
+	".rept	(%0)*256 + %1	\n\t"
+	"nop			\n\t"
+	".endr "
+	:: "M" (NWORDS / 256),
+	   "M" (NWORDS % 256)
+    );
+}
+
+#endif
+
+int main ()
+{
+    volatile unsigned long long vdi = 0;
+    volatile float vsf;
+    vsf = vdi;		/* call of conversion function	*/
+    return 0;
+}
diff --git a/tests/simulate/regression/bug-21905-scanf_flt.c b/tests/simulate/regression/bug-21905-scanf_flt.c
new file mode 100644
index 0000000..c727a29
--- /dev/null
+++ b/tests/simulate/regression/bug-21905-scanf_flt.c
@@ -0,0 +1,49 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* bug #21905: scanf: float conversion ignores the suppression symbol
+   $Id$	*/
+
+#include <stdio.h>
+#include <string.h>
+
+int main ()
+{
+    /* Use function pointer to avoid compiler warning.	*/
+    int (* volatile pf) (const char *, const char *, ...) = sscanf;
+    float x, y;
+    int i;
+
+    y = 0;
+    i = pf ("1.2345 6.7", "%e %*e", &x, &y);
+    if (i == 0) return __LINE__;	/* Are you use float version?	*/
+    if ((i != 1) || y) return __LINE__;
+    
+    return 0;
+}
diff --git a/tests/simulate/regression/bug-21906-scanf_flt.c b/tests/simulate/regression/bug-21906-scanf_flt.c
new file mode 100644
index 0000000..0da3432
--- /dev/null
+++ b/tests/simulate/regression/bug-21906-scanf_flt.c
@@ -0,0 +1,47 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* bug #21906: scanf: float conversion, wrong width count in case of sign 
+   or exponent
+   $Id$	*/
+
+#include <stdio.h>
+
+int main ()
+{
+    float x = 0;
+
+    sscanf ("+1.2599", "%5e", &x);
+    if (x != 1.25) return __LINE__;
+    
+    sscanf ("2.5e+11", "%6e", &x);
+    if (x != 25.0) return __LINE__;
+
+    return 0;
+}
diff --git a/tests/simulate/regression/bug-21955.c b/tests/simulate/regression/bug-21955.c
new file mode 100644
index 0000000..d7ebd5d
--- /dev/null
+++ b/tests/simulate/regression/bug-21955.c
@@ -0,0 +1,150 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* bug #21955: pgm_read_xxxx() does not use enhanced LPM instruction
+   $Id$
+
+   Idea is to force 'region text is full': pgm_read_word() takes 5 words
+   in case of classic LPM, and takes 2 words with enhanced LPM.	*/
+
+#ifndef	__AVR__
+
+/* There are not sense to check host computer.	*/
+int main ()
+{
+    return 0;
+}
+
+#else
+
+#include <avr/io.h>
+#include <avr/pgmspace.h>
+
+/* avr-gcc 4.1.2, Avr-libc 1.6.1, main() contains only 1 line with
+   pgm_read_word, bytes:
+      MIN_SIZE == 90  --> Fault
+      MIN_SIZE == 100 --> OK
+   So, for 50 lines it would:
+      100 + 8*49 =  492  for enhanced
+      100 + 14*49 = 786  for enhanced
+   No use __AVR_HAVE_LPMX__ for preprocessing.	*/
+#if  (__AVR_ARCH__ == 2) || (__AVR_ARCH__ == 3)
+# define MIN_SIZE 940
+#else
+# define MIN_SIZE 640
+#endif
+
+#define NWORDS	((FLASHEND - _VECTORS_SIZE - MIN_SIZE)/2)
+void very_big_function (void)
+{
+    asm volatile (
+	".rept	(%0)*256 + %1	\n\t"
+	"nop			\n\t"
+	".endr "
+	:: "M" (NWORDS / 256),
+	   "M" (NWORDS % 256)
+    );
+}
+
+
+int main ()
+{
+    volatile int rslt;
+    int addr = 0;
+
+    /* 10*4 words with enhanced LPM
+       10*7 words with classic LPM	*/
+    addr = pgm_read_word (addr) & 0x7FF;
+    addr = pgm_read_word (addr) & 0x7FF;
+    addr = pgm_read_word (addr) & 0x7FF;
+    addr = pgm_read_word (addr) & 0x7FF;
+    addr = pgm_read_word (addr) & 0x7FF;
+    addr = pgm_read_word (addr) & 0x7FF;
+    addr = pgm_read_word (addr) & 0x7FF;
+    addr = pgm_read_word (addr) & 0x7FF;
+    addr = pgm_read_word (addr) & 0x7FF;
+    addr = pgm_read_word (addr) & 0x7FF;		/* 10 */
+
+    /* 10*4 words with enhanced LPM
+       10*7 words with classic LPM	*/
+    addr = pgm_read_word (addr) & 0x7FF;
+    addr = pgm_read_word (addr) & 0x7FF;
+    addr = pgm_read_word (addr) & 0x7FF;
+    addr = pgm_read_word (addr) & 0x7FF;
+    addr = pgm_read_word (addr) & 0x7FF;
+    addr = pgm_read_word (addr) & 0x7FF;
+    addr = pgm_read_word (addr) & 0x7FF;
+    addr = pgm_read_word (addr) & 0x7FF;
+    addr = pgm_read_word (addr) & 0x7FF;
+    addr = pgm_read_word (addr) & 0x7FF;		/* 20 */
+
+    /* 10*4 words with enhanced LPM
+       10*7 words with classic LPM	*/
+    addr = pgm_read_word (addr) & 0x7FF;
+    addr = pgm_read_word (addr) & 0x7FF;
+    addr = pgm_read_word (addr) & 0x7FF;
+    addr = pgm_read_word (addr) & 0x7FF;
+    addr = pgm_read_word (addr) & 0x7FF;
+    addr = pgm_read_word (addr) & 0x7FF;
+    addr = pgm_read_word (addr) & 0x7FF;
+    addr = pgm_read_word (addr) & 0x7FF;
+    addr = pgm_read_word (addr) & 0x7FF;
+    addr = pgm_read_word (addr) & 0x7FF;		/* 30 */
+
+    /* 10*4 words with enhanced LPM
+       10*7 words with classic LPM	*/
+    addr = pgm_read_word (addr) & 0x7FF;
+    addr = pgm_read_word (addr) & 0x7FF;
+    addr = pgm_read_word (addr) & 0x7FF;
+    addr = pgm_read_word (addr) & 0x7FF;
+    addr = pgm_read_word (addr) & 0x7FF;
+    addr = pgm_read_word (addr) & 0x7FF;
+    addr = pgm_read_word (addr) & 0x7FF;
+    addr = pgm_read_word (addr) & 0x7FF;
+    addr = pgm_read_word (addr) & 0x7FF;
+    addr = pgm_read_word (addr) & 0x7FF;		/* 40 */
+
+    /* 10*4 words with enhanced LPM
+       10*7 words with classic LPM	*/
+    addr = pgm_read_word (addr) & 0x7FF;
+    addr = pgm_read_word (addr) & 0x7FF;
+    addr = pgm_read_word (addr) & 0x7FF;
+    addr = pgm_read_word (addr) & 0x7FF;
+    addr = pgm_read_word (addr) & 0x7FF;
+    addr = pgm_read_word (addr) & 0x7FF;
+    addr = pgm_read_word (addr) & 0x7FF;
+    addr = pgm_read_word (addr) & 0x7FF;
+    addr = pgm_read_word (addr) & 0x7FF;
+    addr = pgm_read_word (addr) & 0x7FF;		/* 50 */
+
+    rslt = (int)addr;
+    return 0;
+}
+
+#endif	/* __AVR__ */
diff --git a/tests/simulate/regression/bug-22593.c b/tests/simulate/regression/bug-22593.c
new file mode 100644
index 0000000..fab6252
--- /dev/null
+++ b/tests/simulate/regression/bug-22593.c
@@ -0,0 +1,70 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* bug #22593: vfscanf improperly scans string parameters with a width
+   option by 1 character
+   $Id$	*/
+
+/* Seems, this is duplication of bug #19079: sscanf %s eats 1 char too much
+ */
+
+#include <stdio.h>
+#include <string.h>
+
+#ifndef	__AVR__
+# define sscanf_P	sscanf
+# define PSTR(s)	(s)
+#else
+# include <avr/pgmspace.h>
+#endif
+
+int main ()
+{
+    char s1[5], s2[5];
+    int result;
+    
+    s1[0] = 0;
+    s2[0] = 0;
+
+    result = sscanf_P (",ABCD,EFGH,", PSTR (",%4s,%4s,"), s1, s2);
+    if (result != 2)
+	return __LINE__;
+    if (strcmp (s1, "ABCD") || strcmp (s2, "EFGH"))
+	return __LINE__;
+
+    s1[0] = 0;
+    s2[0] = 0;
+    result = sscanf_P (",ABCD,EFGH,", PSTR (",%3s,%3s,"), s1, s2);
+    if (result != 1)
+	return __LINE__;
+    if (strcmp (s1, "ABC"))
+	return __LINE__;
+
+    return 0;
+}
diff --git a/tests/simulate/regression/bug-22800.c b/tests/simulate/regression/bug-22800.c
new file mode 100644
index 0000000..a49c4f6
--- /dev/null
+++ b/tests/simulate/regression/bug-22800.c
@@ -0,0 +1,85 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* bug #22800: sprintf() expands a 128char string parameter incorrectly
+   $Id$
+   
+   This bug is marked as INVALID.  It is take place with avr-libc 1.4 only,
+   which is not supported now.  Avr-libc 1.6 is correct.
+ */
+
+#include <stdio.h>
+#include <string.h>
+
+#ifndef	__AVR__
+# define strcmp_P	strcmp
+# define PSTR(s)	(s)
+#else
+# include <avr/pgmspace.h>
+#endif
+
+
+char buffer[210], string[200];
+char tmp[] = "123";
+
+int main ()
+{
+    int i;
+
+    /* This is the bug report code.	*/
+    for (i = 0; i < 129; i++)
+	string[i] = 'B';
+    sprintf (buffer, "%s%s", string, tmp);
+    
+    if (strcmp_P (buffer, PSTR ("BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBB"  /* 32*B */
+				"BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBB"  /* 32*B */
+				"BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBB"  /* 32*B */
+				"BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBB"  /* 32*B */
+				"B123")))
+    {
+	return __LINE__;
+    }
+
+#if	!defined(__AVR__) || (RAMEND >= 0x45F)
+    /* Check the size > 255.	*/
+    {
+	char s[260];
+	char t[sizeof(s)];
+
+	memset (s, 'A', sizeof(s));
+	s[sizeof(s) - 1] = 0;
+	memset (t, 'B', sizeof(t));
+	sprintf (t, "%s", s);
+	
+	if (strcmp (s, t)) return __LINE__;
+    }
+#endif
+    
+    return 0;
+}
diff --git a/tests/simulate/regression/bug-22828.c b/tests/simulate/regression/bug-22828.c
new file mode 100644
index 0000000..1571a08
--- /dev/null
+++ b/tests/simulate/regression/bug-22828.c
@@ -0,0 +1,56 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* bug #22828: eeprom_write_block(): incompatibility in args order
+   $Id$	*/
+
+#include <string.h>
+
+#ifdef	__AVR__
+# include <avr/eeprom.h>
+# define EEPROM_ADDR	(void *)1
+#else
+# define eeprom_write_block(src, dst, size)	memcpy (dst, src, size)
+# define eeprom_read_block(dst, src, size)	memcpy (dst, src, size)
+char EEPROM_ADDR[20];
+#endif
+
+const char s[] = "Apple";
+char t[sizeof(s)];
+
+int main ()
+{
+
+    eeprom_write_block (s, EEPROM_ADDR, sizeof(s));
+    memset (t, 0, sizeof(t));
+    eeprom_read_block (t, EEPROM_ADDR, sizeof(t));
+    if (strcmp (t, "Apple")) return __LINE__;
+
+    return 0;
+}
diff --git a/tests/simulate/regression/bug-25048.cpp b/tests/simulate/regression/bug-25048.cpp
new file mode 100644
index 0000000..21acdd4
--- /dev/null
+++ b/tests/simulate/regression/bug-25048.cpp
@@ -0,0 +1,48 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Avr-libc bug #25048: eeprom.h will not compile as c++ code.
+   This is compile-time bug. It is actual for chips with small amount
+   EEPROM memory, for example AT90S2313.
+   $Id$	*/
+
+#ifndef	__AVR__
+int main ()	{ return 0; }
+#else
+
+#include <avr/eeprom.h>
+
+EEMEM unsigned char c;
+
+int main ()
+{
+    eeprom_write_byte (&c, 0);
+    return eeprom_read_byte (&c);
+}
+#endif
diff --git a/tests/simulate/regression/bug-25723.c b/tests/simulate/regression/bug-25723.c
new file mode 100644
index 0000000..f46a5a8
--- /dev/null
+++ b/tests/simulate/regression/bug-25723.c
@@ -0,0 +1,68 @@
+/* Copyright (c) 2009 Joerg Wunsch
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+  AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+  IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+  ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+  LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+  CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+  SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+  INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+  CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+  ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+  POSSIBILITY OF SUCH DAMAGE.
+*/
+
+/* $Id*/
+
+#include <stdlib.h>
+
+#include "../../libc/stdlib/stdlib_private.h"
+
+/*
+ * Test code from bug #25723, courtesy Lou Amadio.
+ */
+void testMalloc(void)
+{
+    size_t *array = malloc(4 * sizeof(size_t));
+    free(array);
+    array = NULL;
+
+    array = realloc(array, sizeof(size_t));
+    array = realloc(array, 2 * sizeof(size_t));
+    array = realloc(array, 3 * sizeof(size_t));
+    realloc(array, 4 * sizeof(size_t));
+}
+
+int
+main(void)
+{
+  testMalloc();
+
+  /*
+   * In the original (buggy) case, __flp ended up pointing to an entry
+   * of size 65534.  With the fix applied, the subsequent calls to
+   * realloc() ought to have re-consumed the entire space freed
+   * previously, so __flp must be NULL.
+   */
+  if (__flp != NULL)
+    exit(1);
+
+  return 0;
+}
diff --git a/tests/simulate/regression/bug-27235-1.c b/tests/simulate/regression/bug-27235-1.c
new file mode 100644
index 0000000..6c88175
--- /dev/null
+++ b/tests/simulate/regression/bug-27235-1.c
@@ -0,0 +1,74 @@
+/* Copyright (c) 2010  Joerg Wunsch
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* $Id$ */
+
+/* bug #27235: malloc: Several things go wrong
+
+   Part 1: empty gaps result out of reallocing towards a shorter
+   amount, and mallocing on top of that. */
+
+#ifndef	__AVR__
+
+/* There is no sense to check on host computer. */
+int main ()
+{
+    return 0;
+}
+
+#else
+
+#include <stdlib.h>
+
+struct __freelist {
+        size_t sz;
+        struct __freelist *nx;
+};
+
+extern char *__brkval;          /* first location not yet allocated */
+extern struct __freelist *__flp; /* freelist pointer (head of freelist) */
+
+int main(void)
+{
+    void *a, *b;
+
+    a = malloc(34);
+    a = realloc(a, 10);
+    b = malloc(34);
+
+    /* a and b are now expected to be adjacent, and the free list
+       must be zero */
+
+    if ((unsigned int)b - (unsigned int)a != 10 + 2) return __LINE__;
+    if (__flp != NULL) return __LINE__;
+
+    return 0;
+}
+
+#endif  /* !AVR */
diff --git a/tests/simulate/regression/bug-27242.c b/tests/simulate/regression/bug-27242.c
new file mode 100644
index 0000000..7252b2b
--- /dev/null
+++ b/tests/simulate/regression/bug-27242.c
@@ -0,0 +1,102 @@
+/* Copyright (c) 2009 Aleksandar Kanchev
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+  AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+  IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+  ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+  LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+  CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+  SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+  INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+  CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+  ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+  POSSIBILITY OF SUCH DAMAGE.
+*/
+
+/* $Id$ */
+
+#include <stdlib.h>
+
+#include "../../libc/stdlib/stdlib_private.h"
+
+
+/* Test code from bug #27242 (and #25723) */
+int main(void)
+{
+	char *p, *p1;
+
+	p = malloc(16);
+	if (!p)
+		return 1;
+
+	/* releasing 6 bytes creates a new free chunk */
+	p1 = realloc(p, 10);
+	if (p != p1)
+		return 2;
+
+	/*
+	 * The patch for bug #25723 introduces a regression to realloc()
+	 * when called to shrink a memory chunk. We simply verify if
+	 * the new __brkval starts immediately after the last allocated
+	 * chunk.
+	 */
+	p = p1 + 10;
+	if (__brkval != p)
+		return 3;
+
+	/* use the last free chunk */
+	p1 = malloc(4);
+	if (!p1)
+		return 4;
+
+	/* should be empty */
+	if (__flp)
+		return 5;
+
+	p = malloc(10);
+	if (!p)
+		return 6;
+
+	/* force creation of a new minimal free chunk (sz = 3), which
+           will be returned from heap then */
+	p1 = realloc(p, 5);
+	if (p != p1)
+		return 7;
+
+	p = p1 + 5;
+	if (__brkval != p)
+		return 8;
+
+	/* merge with the free chunk (incr = 4 > sz = 3) */
+	p = realloc(p1, 9);
+	if (p != p1)
+		return 9;
+
+	/* chunk size should be 9 */
+	p -= sizeof(size_t);
+	if (*(size_t *)p != 9)
+		return 10;
+
+	/* should be empty */
+	if (__flp)
+		return 11;
+
+	return 0;
+}
+
diff --git a/tests/simulate/regression/bug-28135.c b/tests/simulate/regression/bug-28135.c
new file mode 100644
index 0000000..852b6f0
--- /dev/null
+++ b/tests/simulate/regression/bug-28135.c
@@ -0,0 +1,126 @@
+/* Copyright (c) 2009 Aleksandar Kanchev
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+  AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+  IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+  ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+  LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+  CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+  SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+  INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+  CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+  ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+  POSSIBILITY OF SUCH DAMAGE.
+*/
+
+/* $Id$ */
+
+#include <stdlib.h>
+
+#include "../../libc/stdlib/stdlib_private.h"
+
+
+/* Test code from bug # */
+int main(void)
+{
+	char *p, *p1;
+
+	/* Step 1: test with just one free chunk */
+
+	p = malloc(20);
+	if (!p)
+		return 1;
+
+	/* releasing 10 bytes returns them from the heap */
+	p1 = realloc(p, 10);
+	if (p != p1)
+		return 2;
+
+	if (__flp)
+		return 3;
+
+	/* should extend the free chunk */
+	p = malloc(15);
+	if (!p)
+		return 4;
+
+	/* should be empty */
+	if (__flp)
+		return 5;
+
+	/* should be the following chunk */
+	p1 += 10 + sizeof(size_t);
+	if (p != p1)
+		return 6;
+
+	/* should point right after the last chunk */
+	p += 15;
+	if (p != __brkval)
+		return 7;
+
+	/* Step 2: Test with 2 free chunks. */
+
+	p = malloc(8);
+	if (!p)
+		return 8;
+
+	p1 = malloc(9);
+	if (!p1)
+		return 9;
+
+	free(p);
+
+	p = malloc(20);
+	if (!p)
+		return 10;
+
+	if (!__flp)
+		return 11;
+
+	p1 = realloc(p, 10);
+	if (p1 != p)
+		return 12;
+
+	if (!__flp)
+		return 13;
+
+	if (__flp->nx)
+		return 14;
+
+	p = malloc(15);
+	if (!p)
+		return 15;
+
+	if (!__flp)
+		return 16;
+
+	if (__flp->nx)
+		return 17;
+
+	p1 += 10 + sizeof(size_t);
+	if (p != p1)
+		return 18;
+
+	p += 15;
+	if (p != __brkval)
+		return 19;
+
+	return 0;
+}
+
diff --git a/tests/simulate/regression/bug-31644.c b/tests/simulate/regression/bug-31644.c
new file mode 100644
index 0000000..e692645
--- /dev/null
+++ b/tests/simulate/regression/bug-31644.c
@@ -0,0 +1,99 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* GCC bug #31644: [avr] can't find a register in class 'BASE_POINTER_REGS'
+   while reloading 'asm'
+   This is compile-time bug.
+   $Id$	*/
+
+#ifndef	__AVR__
+int main ()	{ return 0; }
+#else
+
+#include <avr/eeprom.h>
+
+uint8_t pwm_tab_1[126];
+
+static uint16_t ee_chan_1_min EEMEM = 140,
+    ee_chan_1_cent EEMEM = 188,
+    ee_chan_1_max EEMEM = 240,
+    ee_chan_1_forw_min EEMEM = 20,
+    ee_chan_1_forw_max EEMEM = 90,
+    ee_chan_1_back_max EEMEM = 80;
+
+void fill_pwm_table(int8_t chan_num,
+		    uint8_t pwm[],
+		    int16_t forward_max,
+		    int16_t center,
+		    int16_t reverse_min,
+		    int16_t forward_high,
+		    int16_t forward_low,
+		    int16_t reverse_high)
+{
+    pwm[0] = chan_num;
+    pwm[1] = forward_max;
+    pwm[2] = center;
+    pwm[3] = reverse_min;
+    pwm[4] = forward_high;
+    pwm[5] = forward_low;
+    pwm[6] = reverse_high;
+}
+
+void build_pwm_table (void)
+{
+    int16_t center_1,
+	    forward_max_1,
+	    reverse_min_1,
+	    forward_high_1,
+	    forward_low_1,
+	    reverse_high_1;
+
+    center_1 = eeprom_read_word (&ee_chan_1_cent);
+
+    forward_max_1 = eeprom_read_word (&ee_chan_1_max);
+    reverse_min_1 = eeprom_read_word (&ee_chan_1_min);
+    forward_high_1 = eeprom_read_word (&ee_chan_1_forw_max);
+    forward_low_1 = eeprom_read_word (&ee_chan_1_forw_min);
+    reverse_high_1 = eeprom_read_word (&ee_chan_1_back_max);
+
+    fill_pwm_table (1, pwm_tab_1, forward_max_1, center_1,
+		    reverse_min_1,
+		    forward_high_1, forward_low_1, reverse_high_1);
+
+    fill_pwm_table (1, pwm_tab_1, forward_max_1, center_1,
+		    reverse_min_1,
+		    forward_high_1, forward_low_1, reverse_high_1);
+}
+
+int main ()
+{
+    build_pwm_table ();
+    return 0;
+}
+#endif
diff --git a/tests/simulate/regression/bug-35093.c b/tests/simulate/regression/bug-35093.c
new file mode 100644
index 0000000..3fbde03
--- /dev/null
+++ b/tests/simulate/regression/bug-35093.c
@@ -0,0 +1,104 @@
+/* Copyright (c) 2011  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* bug #35093: strlcat_P fails for some destinations
+   $Id$	*/
+
+#ifndef __AVR__
+
+/* Omit the test, as strlcat() is not a standart C function.	*/
+int main ()	{ return 0; }
+
+#else
+
+#include <avr/io.h>
+#include <avr/pgmspace.h>
+#include <string.h>
+
+int main ()
+{
+    /* To activiate this bug, it is needed 0xXXFF address of terminated
+       zero byte.	*/
+# if	RAMEND >= 511
+    char s[260];
+# else
+    char s[8];		/* Too small SRAM: omit testing.	*/
+# endif
+    int i, n;
+
+    /* strlcat_P()	*/
+    for (n = 0; n < (int)sizeof (s) - 2; n++) {
+	for (i = 0; i < n; i++)
+	    s[i] = 'A';
+	s[i] = 0;
+
+	i = strlcat_P (s, PSTR (""), sizeof (s));
+	if (i != n)
+	    return __LINE__;
+
+	i = strlcat_P (s, PSTR ("B"), sizeof (s));
+	if (i != n + 1)
+	    return __LINE__;
+	for (i = 0; i < n; i++) {
+	    if (s[i] != 'A')
+		return __LINE__;
+	}
+	if (s[i++] != 'B')
+	    return __LINE__;
+	if (s[i])
+	    return __LINE__;
+    }
+
+    /* strlcat()	*/
+    for (n = 0; n < (int)sizeof (s) - 2; n++) {
+	for (i = 0; i < n; i++)
+	    s[i] = 'A';
+	s[i] = 0;
+
+	i = strlcat (s, "", sizeof (s));
+	if (i != n)
+	    return __LINE__;
+
+	i = strlcat (s, "B", sizeof (s));
+	if (i != n + 1)
+	    return __LINE__;
+	for (i = 0; i < n; i++) {
+	    if (s[i] != 'A')
+		return __LINE__;
+	}
+	if (s[i++] != 'B')
+	    return __LINE__;
+	if (s[i])
+	    return __LINE__;
+    }
+
+    return 0;
+}
+
+#endif	/* __AVR__ */
diff --git a/tests/simulate/regression/bug-37778.c b/tests/simulate/regression/bug-37778.c
new file mode 100644
index 0000000..4fd86f9
--- /dev/null
+++ b/tests/simulate/regression/bug-37778.c
@@ -0,0 +1,48 @@
+/* Copyright (c) 2013  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* bug #37778: _MemoryBarrier() in cpufunc.h error on compile
+   $Id$	*/
+
+#ifndef __AVR__
+
+/* Omit the test.	*/
+int main ()	{ return 0; }
+
+#else
+
+#include <avr/cpufunc.h>
+
+int main ()
+{
+    _MemoryBarrier ();
+    return 0;
+}
+
+#endif	/* __AVR__ */
diff --git a/tests/simulate/runtest.sh b/tests/simulate/runtest.sh
new file mode 100755
index 0000000..19aa05f
--- /dev/null
+++ b/tests/simulate/runtest.sh
@@ -0,0 +1,353 @@
+#! /bin/sh
+
+# Copyright (c) 2007, Dmitry Xmelkov
+# All rights reserved.
+#
+# Redistribution and use in source and binary forms, with or without
+# modification, are permitted provided that the following conditions are met:
+#
+# * Redistributions of source code must retain the above copyright
+#   notice, this list of conditions and the following disclaimer.
+# * Redistributions in binary form must reproduce the above copyright
+#   notice, this list of conditions and the following disclaimer in
+#   the documentation and/or other materials provided with the
+#   distribution.
+# * Neither the name of the copyright holders nor the names of
+#   contributors may be used to endorse or promote products derived
+#   from this software without specific prior written permission.
+#
+# THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+# AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+# IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+# ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+# LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+# CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+# SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+# INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+# CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+# ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+# POSSIBILITY OF SUCH DAMAGE.
+
+# $Id$
+
+# Script for testing Avr-libc fuctions, mainly, by simulating. An installed
+# simulavr is needed. The simulavr-0.1.2.1 is suitable, only the correction
+# of divide_by_zero error is needed. The script is tuned to run after 'make'
+# without any options, at this place.
+
+set -e
+
+myname="$0"
+
+: ${AVR_GCC:=avr-gcc}
+: ${AVR_NM:=avr-nm}
+: ${AVR_OBJCOPY:=avr-objcopy}
+: ${SIMULAVR:=simulavr}
+
+: ${AVRDIR=../..}
+: ${MCU_LIST="atmega128 at90s8515"}
+: ${MCU_LIST_FULL="atmega128 at90s2313 at90s4414 at90s8515 atmega8 atmega16"}
+
+HOST_PASS=			# Add pass at host computer
+HOST_ONLY=			# Pass at host only, skip AVR mode
+MAKE_ONLY=			# Compile/link only
+FLAG_STOP=			# Stop at any error
+FLAG_KEEPCORE=			# Keep simulator core file upon error
+
+Errx ()
+{
+    echo "$myname: $*"
+    exit 1
+}
+
+Usage ()
+{
+    cat <<EOF
+Usage: $1 [-a AVRDIR] [-g AVR_GCC] [-ictTsh] [FILE]...
+Options:
+  -a AVRDIR   Specify avr-libc root (default is $AVRDIR)
+  -i          Test an installed avr-libc
+  -c          Compile/link only
+  -g AVRGCC   Specify avr-gcc program (default is $AVR_GCC)
+  -k          Keep simulator core file upon simulation error
+  -t          Add pass at host computer
+  -T          Pass at host only
+  -s          Stop at any error, temparary files will save
+  -h          Print this help
+If FILE is not specified, the full test list is used.
+EOF
+}
+
+while getopts "a:icg:ktTsh" opt ; do
+    case $opt in
+	a)	AVRDIR="$OPTARG" ;;
+	i)	AVRDIR= ;;
+	c)	MAKE_ONLY=1 ;;
+	g)	AVR_GCC="$OPTARG" ;;
+	k)	FLAG_KEEPCORE=1 ;;
+	t)	HOST_PASS=1 ;;
+	T)	HOST_ONLY=1 ; HOST_PASS=1 ;;
+	s)	FLAG_STOP=1 ;;
+	h)	Usage `basename $myname` ; exit 0 ;;
+	*)	Errx "Invalid option(s). Try '-h' for more info."
+    esac
+done
+shift $((OPTIND - 1))
+test_list=${*:-"regression/*.c stdlib/*.c string/*.c pmstring/*.c \
+		printf/*.c scanf/*.c fplib/*.c math/*.c other/*.c \
+		avr/*.[cS]"}
+    
+CPPFLAGS="-Wundef -I."
+CFLAGS="-g -W -Wall -std=gnu99 -pipe -Os"
+CORE=core_avr_dump.core
+HOST_CC=gcc
+HOST_CFLAGS="-W -Wall -std=gnu99 -pipe -O2 -I."
+
+Err_echo ()
+{
+    echo "*** $*"
+    if [ $FLAG_STOP ] ; then
+	Errx "Stop"
+    fi
+}
+
+# Usage: Host_exe EXEFILE
+Host_exe ()
+{
+    $1
+    RETVAL=$?
+    [ $RETVAL -eq 0 ]
+}
+
+# Usage: Simulate ELFILE MCU
+Simulate ()
+{
+    local bin_file=`basename $1 .elf`.bin
+    local exit_addr=0x`$AVR_NM $1 | grep __stop_program | cut -f1 -d' '`
+    $AVR_OBJCOPY -O binary -R .eeprom $1 $bin_file
+    rm -f $CORE
+    if	$SIMULAVR -d $2 -B $exit_addr -C $bin_file 2>&1 >/dev/null \
+	| grep "ERROR:"
+    then
+	RETVAL=-1
+    else
+	if [ -e $CORE ]
+	then
+	    RETVAL=0
+	    local i
+	    for i in 25 24 ; do
+		RETVAL=$(( ( RETVAL * 256 )
+			   | 0x`grep r$i $CORE | tr -s [:space:] '\n' |
+				grep r$i | cut -d= -f2` ))
+	    done
+	else
+	    echo "Core dump is not created"
+	    RETVAL=-1
+	fi
+    fi
+    rm $bin_file
+    [ $RETVAL -eq 0 ]
+}
+
+# Usage: Compile SRCFILE MCU ELFILE PRVERS
+Compile ()
+{
+    local crt=
+    local libs=
+    local flags=
+
+    if [ -z "$AVRDIR" ] ; then
+	libs="-lm"
+    else
+	local avrno
+        case $2 in
+	    at90s2313)  avrno=2 ; crt=crts2313.o ;;
+	    at90s4414)  avrno=2 ; crt=crts4414.o ;;
+	    at90s8515)  avrno=2 ; crt=crts8515.o ;;
+	    atmega8)    avrno=4 ; crt=crtm8.o ;;
+	    atmega16)   avrno=5 ; crt=crtm16.o ;;
+	    atmega128)  avrno=5 ; crt=crtm128.o ;;
+	    *)
+		Errx "Compile(): invalid MCU: $2"
+	esac
+	flags="-isystem $AVRDIR/include -nostdlib"
+	crt=`find $AVRDIR/avr/lib -name $crt -print | head -1`
+	libs="$AVRDIR/avr/lib/avr$avrno/libc.a	\
+	      $AVRDIR/avr/lib/avr$avrno/libm.a -lgcc"
+    fi
+
+    case $4 in
+      PR_MIN)
+	flags="$flags -Wl,-u,vfprintf"
+	if [ -z "$AVRDIR" ] ; then
+	    libs="-lprintf_min $libs"
+	else
+	    libs="$AVRDIR/avr/lib/avr$avrno/libprintf_min.a $libs"
+	fi
+	;;
+      PR_FLT)
+	flags="$flags -Wl,-u,vfprintf"
+	if [ -z "$AVRDIR" ] ; then
+	    libs="-lprintf_flt $libs"
+	else
+	    libs="$AVRDIR/avr/lib/avr$avrno/libprintf_flt.a $libs"
+	fi
+	;;
+      SC_MIN)
+	flags="$flags -Wl,-u,vfscanf"
+	if [ -z "$AVRDIR" ] ; then
+	    libs="-lscanf_min $libs"
+	else
+	    libs="$AVRDIR/avr/lib/avr$avrno/libscanf_min.a $libs"
+	fi
+	;;
+      SC_FLT)
+	flags="$flags -Wl,-u,vfscanf"
+	if [ -z "$AVRDIR" ] ; then
+	    libs="-lscanf_flt $libs"
+	else
+	    libs="$AVRDIR/avr/lib/avr$avrno/libscanf_flt.a $libs"
+	fi
+	;;
+    esac
+
+    $AVR_GCC $CPPFLAGS $CFLAGS $flags -mmcu=$2 -o $3 $crt $1 $libs
+}
+
+
+n_files=0	# number of operated files
+n_emake=0	# number of compile/link errors
+n_ehost=0	# number of 'run-at-host' errors
+n_esimul=0	# number of simulation errors
+
+for test_file in $test_list ; do
+    case `basename $test_file` in
+
+	*.c)
+	    n_files=$(($n_files + 1))
+	    
+	    rootname=`basename $test_file .c`
+
+	    if [ $HOST_PASS ] ; then
+		exe_file=./$rootname.exe
+		echo -n "At_host:  $test_file ... "
+		if ! ${HOST_CC} ${HOST_CFLAGS} -o $exe_file $test_file -lm
+		then
+		    Err_echo "compile failed"
+		    n_emake=$(($n_emake + 1))
+		elif [ -z $MAKE_ONLY ] && ! Host_exe $exe_file ; then
+		    Err_echo "execute failed: $RETVAL"
+		    n_ehost=$(($n_ehost + 1))
+		else
+		    echo "OK"
+		fi
+		rm -f $exe_file
+	    fi
+
+	    if [ -z $HOST_ONLY ] ; then
+		case $rootname in
+		    *printf_min*)	prlist="PR_MIN" ;;
+		    *printf_std*)	prlist="PR_STD" ;;
+		    *printf_flt*)	prlist="PR_FLT" ;;
+		    *printf_all*)	prlist="PR_STD PR_FLT PR_MIN" ;;
+		    *printf*)		prlist="PR_STD PR_FLT" ;;
+		    *scanf_min*)	prlist="SC_MIN" ;;
+		    *scanf_std*)	prlist="SC_STD" ;;
+		    *scanf_flt*)	prlist="SC_FLT" ;;
+		    *scanf_brk*)	prlist="SC_STD SC_FLT" ;;
+		    *scanf*)		prlist="SC_STD SC_FLT SC_MIN" ;;
+		    *)			prlist="PR_STD" ;;
+		esac
+
+		case `dirname $test_file` in
+		    avr)  mcu_list="$MCU_LIST_FULL" ;;
+		    *)    mcu_list="$MCU_LIST" ;;
+		esac
+		
+	        elf_file=$rootname.elf
+		for prvers in $prlist ; do
+		    for mcu in $mcu_list ; do
+			echo -n "Simulate: $test_file "
+			case $prvers in
+			    PR_MIN)	echo -n "/printf_min " ;;
+			    PR_FLT)	echo -n "/printf_flt " ;;
+			    SC_MIN)	echo -n "/scanf_min " ;;
+			    SC_FLT)	echo -n "/scanf_flt " ;;
+			esac
+			echo -n "$mcu ... "
+		        if ! Compile $test_file $mcu $elf_file $prvers
+			then
+			    Err_echo "compile failed"
+			    n_emake=$(($n_emake + 1))
+			    break
+			elif [ -z $MAKE_ONLY ] && ! Simulate $elf_file $mcu
+			then
+			    Err_echo "simulate failed: $RETVAL"
+			    if [ $FLAG_KEEPCORE ] ; then
+				mv -f $CORE ${CORE}-$(echo ${test_file} \
+					| sed -e 's,/,_,g')-${mcu}-${prvers}
+			    fi
+			    n_esimul=$(($n_esimul + 1))
+			else
+			    echo "OK"
+			fi
+		    done
+	        done
+		rm -f $elf_file $CORE
+	    fi
+	    ;;
+
+	*.S)
+	    n_files=$(($n_files + 1))
+	    
+	    rootname=`basename $test_file .S`
+
+	    if [ -z $HOST_ONLY ] ; then
+		case `dirname $test_file` in
+		    avr)  mcu_list="$MCU_LIST_FULL" ;;
+		    *)    mcu_list="$MCU_LIST" ;;
+		esac
+		
+	        elf_file=$rootname.elf
+		for mcu in $mcu_list ; do
+		    echo -n "Simulate: $test_file "
+		    echo -n "$mcu ... "
+		    if ! Compile $test_file $mcu $elf_file
+		    then
+			Err_echo "compile failed"
+			n_emake=$(($n_emake + 1))
+			break
+		    elif [ -z $MAKE_ONLY ] && ! Simulate $elf_file $mcu
+		    then
+			Err_echo "simulate failed: $RETVAL"
+			if [ $FLAG_KEEPCORE ] ; then
+			    mv -f $CORE ${CORE}-$(echo ${test_file} \
+					| sed -e 's,/,_,g')-${mcu}
+			fi
+			n_esimul=$(($n_esimul + 1))
+		    else
+			echo "OK"
+		    fi
+		done
+		rm -f $elf_file $CORE
+	    fi
+	    ;;
+
+	*)
+	    Errx "Unknown file type: $test_file"
+    esac
+done
+
+echo "-------"
+echo "Done.  Number of operated files: $n_files"
+
+if [ $(expr $n_emake + $n_ehost + $n_esimul) -gt 0 ] ; then
+    [ $n_emake -gt 0 ]   && echo "*** Compile/link errors: $n_emake"
+    [ $n_ehost -gt 0 ]   && echo "*** At host errors:      $n_ehost"
+    [ $n_esimul -gt 0 ]  && echo "*** Simulate errors:     $n_esimul"
+    exit 1
+else
+    echo "Success."
+fi
+
+# eof
diff --git a/tests/simulate/scanf/scanf-nul.c b/tests/simulate/scanf/scanf-nul.c
new file mode 100644
index 0000000..7296bb9
--- /dev/null
+++ b/tests/simulate/scanf/scanf-nul.c
@@ -0,0 +1,158 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of scanf(): NUL symbol (input file).
+   $Id$	*/
+
+#define _GNU_SOURCE
+#include <stdio.h>
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+#ifdef	__AVR__
+# define ASSERT(expr)			\
+    do {				\
+	if (!(expr)) exit(__LINE__);	\
+    } while (0)
+# define EXIT(v)	exit (v)
+# if defined(__AVR_ATmega128__)
+  /* ATmega128 has enough RAM for sprintf(), print to 0x2000 in XRAM. */
+#  define PRINTF(f...)	sprintf((char *)0x2000, f)
+# else
+  /* small AVR */
+#  define PRINTF(f...)
+# endif
+# define ssize_t	int
+#else
+# include <assert.h>
+# define ASSERT(expr)	assert (expr)
+# define EXIT(v)	exit ((v) < 256 ? (v) : 255)
+# define PRINTF(f...)	printf (f)
+# define sscanf_P	sscanf
+# define memcmp_P	memcmp
+# define _FDEV_EOF	(-1)
+#endif
+
+/* Next variables are useful to debug the AVR.	*/
+int vrslt = 1;
+struct {
+    int i;
+    int j;
+    char s[8];
+    char t[8];
+} v = { 1, 1, {1}, {1} };
+
+const char *getpnt, *getend;
+
+int ugetc (FILE *fp)
+{
+    (void)fp;
+    if (getpnt == getend)
+	return _FDEV_EOF;
+    return pgm_read_byte (getpnt++);
+}
+
+ssize_t uread (void *cookie, char *buf, size_t size)
+{
+    size_t n;
+
+    for (n = 0; n < size; n++) {
+	int i = ugetc (cookie);
+	if (i < 0) break;
+	*buf++ = i;
+    }
+    return n;
+}
+
+int uclose (void *cookie)
+{
+    (void)cookie;
+    return 0;
+}
+
+static FILE * uopen (const char *buf, int size)
+{
+    static FILE *fp;
+
+    if (fp) fclose (fp);
+
+#ifdef	__AVR__
+    fp = fdevopen (0, ugetc);
+#else
+    {
+        cookie_io_functions_t iofuns;
+	memset (& iofuns, 0, sizeof(iofuns));
+        iofuns.read = uread;
+	iofuns.close = uclose;
+        fp = fopencookie (NULL, "rb", iofuns);
+    }
+#endif
+    ASSERT (fp);
+
+    getpnt = buf;
+    getend = buf + size;
+    return fp;
+}
+
+int main ()
+{
+    FILE *fp;
+    int i;
+
+    /* %c	*/
+    memset (&v, ~0, sizeof(v));
+    fp = uopen (PSTR ("A\000B"), 3);
+    vrslt = fscanf (fp, "%c%c%c", v.s, v.s + 1, v.s + 2);
+    ASSERT (vrslt == 3);
+    ASSERT (!memcmp_P (v.s, PSTR("A\000B"), 3));
+
+    /* '\0' is not a space.	*/
+    memset (&v, ~0, sizeof(v));
+    fp = uopen (PSTR ("\t \000"), 3);
+    i = fscanf (fp, " %c", v.s);
+    ASSERT (i == 1);
+    ASSERT (!v.s[0]);
+
+    /* %d	*/
+    memset (&v, ~0, sizeof(v));
+    fp = uopen (PSTR ("123\000456"), 7);
+    i = fscanf (fp, "%d%c%d", & v.i, v.s, & v.j);
+    ASSERT (i == 3);
+    ASSERT (v.i == 123 && !v.s[0] && v.j == 456);
+
+    /* %s	*/
+    memset (&v, ~0, sizeof(v));
+    fp = uopen (PSTR ("A\000BC"), 4);
+    i = fscanf (fp, "%s%s", v.s, v.t);
+    ASSERT (i == 1);
+    ASSERT (!memcmp_P (v.s, PSTR("A\000BC"), 4));
+
+    return 0;
+}
diff --git a/tests/simulate/scanf/scanf_brk-nul.c b/tests/simulate/scanf/scanf_brk-nul.c
new file mode 100644
index 0000000..94bdd27
--- /dev/null
+++ b/tests/simulate/scanf/scanf_brk-nul.c
@@ -0,0 +1,144 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of scanf(): NUL symbol (input file).
+   $Id$	*/
+
+#define _GNU_SOURCE
+#include <stdio.h>
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+#ifdef	__AVR__
+# define ASSERT(expr)			\
+    do {				\
+	if (!(expr)) exit(__LINE__);	\
+    } while (0)
+# define EXIT(v)	exit (v)
+# if defined(__AVR_ATmega128__)
+  /* ATmega128 has enough RAM for sprintf(), print to 0x2000 in XRAM. */
+#  define PRINTF(f...)	sprintf((char *)0x2000, f)
+# else
+  /* small AVR */
+#  define PRINTF(f...)
+# endif
+# define ssize_t	int
+#else
+# include <assert.h>
+# define ASSERT(expr)	assert (expr)
+# define EXIT(v)	exit ((v) < 256 ? (v) : 255)
+# define PRINTF(f...)	printf (f)
+# define sscanf_P	sscanf
+# define memcmp_P	memcmp
+# define _FDEV_EOF	(-1)
+#endif
+
+/* Next variables are useful to debug the AVR.	*/
+int vrslt = 1;
+struct {
+    char s[8];
+    char t[8];
+} v = { {1}, {1} };
+
+const char *getpnt, *getend;
+
+int ugetc (FILE *fp)
+{
+    (void)fp;
+    if (getpnt == getend)
+	return _FDEV_EOF;
+    return pgm_read_byte (getpnt++);
+}
+
+ssize_t uread (void *cookie, char *buf, size_t size)
+{
+    size_t n;
+
+    for (n = 0; n < size; n++) {
+	int i = ugetc (cookie);
+	if (i < 0) break;
+	*buf++ = i;
+    }
+    return n;
+}
+
+int uclose (void *cookie)
+{
+    (void)cookie;
+    return 0;
+}
+
+static FILE * uopen (const char *buf, int size)
+{
+    static FILE *fp;
+
+    if (fp) fclose (fp);
+
+#ifdef	__AVR__
+    fp = fdevopen (0, ugetc);
+#else
+    {
+        cookie_io_functions_t iofuns;
+	memset (& iofuns, 0, sizeof(iofuns));
+        iofuns.read = uread;
+	iofuns.close = uclose;
+        fp = fopencookie (NULL, "rb", iofuns);
+    }
+#endif
+    ASSERT (fp);
+
+    getpnt = buf;
+    getend = buf + size;
+    return fp;
+}
+
+int main ()
+{
+    FILE *fp;
+    int i;
+
+    /* %[	*/
+    memset (&v, ~0, sizeof(v));
+    fp = uopen (PSTR ("A\000BC"), 4);
+    i = fscanf (fp, "%[A-Z]%s", v.s, v.t);
+    ASSERT (i == 2);
+    ASSERT (!memcmp_P (v.s, PSTR("A"), 2));
+    ASSERT (!memcmp_P (v.t, PSTR("\000BC"), 4));
+
+    /* %[^	*/
+    memset (&v, ~0, sizeof(v));
+    fp = uopen (PSTR ("D\000EF"), 4);
+    vrslt = fscanf (fp, "%[^F]%s", v.s, v.t);
+    ASSERT (vrslt == 2);
+    ASSERT (!memcmp_P (v.s, PSTR("D\000E"), 4));
+    ASSERT (!memcmp_P (v.t, PSTR("F"), 2));
+
+    return 0;
+}
diff --git a/tests/simulate/scanf/scanf_flt-nul.c b/tests/simulate/scanf/scanf_flt-nul.c
new file mode 100644
index 0000000..e48be7c
--- /dev/null
+++ b/tests/simulate/scanf/scanf_flt-nul.c
@@ -0,0 +1,135 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of scanf(): NUL symbol (input file).
+   $Id$	*/
+
+#define _GNU_SOURCE
+#include <stdio.h>
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+#ifdef	__AVR__
+# define ASSERT(expr)			\
+    do {				\
+	if (!(expr)) exit(__LINE__);	\
+    } while (0)
+# define EXIT(v)	exit (v)
+# if defined(__AVR_ATmega128__)
+  /* ATmega128 has enough RAM for sprintf(), print to 0x2000 in XRAM. */
+#  define PRINTF(f...)	sprintf((char *)0x2000, f)
+# else
+  /* small AVR */
+#  define PRINTF(f...)
+# endif
+# define ssize_t	int
+#else
+# include <assert.h>
+# define ASSERT(expr)	assert (expr)
+# define EXIT(v)	exit ((v) < 256 ? (v) : 255)
+# define PRINTF(f...)	printf (f)
+# define sscanf_P	sscanf
+# define memcmp_P	memcmp
+# define _FDEV_EOF	(-1)
+#endif
+
+/* Next variables are useful to debug the AVR.	*/
+int vrslt = 1;
+struct {
+    float x,y;
+    char s[8];
+    char t[8];
+} v = { 1, 1, {1}, {1} };
+
+const char *getpnt, *getend;
+
+int ugetc (FILE *fp)
+{
+    (void)fp;
+    if (getpnt == getend)
+	return _FDEV_EOF;
+    return pgm_read_byte (getpnt++);
+}
+
+ssize_t uread (void *cookie, char *buf, size_t size)
+{
+    size_t n;
+
+    for (n = 0; n < size; n++) {
+	int i = ugetc (cookie);
+	if (i < 0) break;
+	*buf++ = i;
+    }
+    return n;
+}
+
+int uclose (void *cookie)
+{
+    (void)cookie;
+    return 0;
+}
+
+static FILE * uopen (const char *buf, int size)
+{
+    static FILE *fp;
+
+    if (fp) fclose (fp);
+
+#ifdef	__AVR__
+    fp = fdevopen (0, ugetc);
+#else
+    {
+        cookie_io_functions_t iofuns;
+	memset (& iofuns, 0, sizeof(iofuns));
+        iofuns.read = uread;
+	iofuns.close = uclose;
+        fp = fopencookie (NULL, "rb", iofuns);
+    }
+#endif
+    ASSERT (fp);
+
+    getpnt = buf;
+    getend = buf + size;
+    return fp;
+}
+
+int main ()
+{
+    FILE *fp;
+
+    /* %e	*/
+    memset (&v, ~0, sizeof(v));
+    fp = uopen (PSTR ("1.0\0002e3"), 7);
+    vrslt = fscanf (fp, "%e%c%e", & v.x, v.s, & v.y);
+    ASSERT (vrslt == 3);
+    ASSERT (v.x == 1.0 && !v.s[0] && v.y == 2e3);
+
+    return 0;
+}
diff --git a/tests/simulate/scanf/sscanf-1.c b/tests/simulate/scanf/sscanf-1.c
new file mode 100644
index 0000000..01037f3
--- /dev/null
+++ b/tests/simulate/scanf/sscanf-1.c
@@ -0,0 +1,140 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of scanf(): none conversion directives.
+   $Id$	*/
+
+#include <stdio.h>
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+#ifdef	__AVR__
+# define ASSERT(expr)			\
+    do {				\
+	if (!(expr)) exit(__LINE__);	\
+    } while (0)
+# define EXIT(v)	exit (v)
+# if defined(__AVR_ATmega128__)
+  /* ATmega128 has enough RAM for sprintf(), print to 0x2000 in XRAM. */
+#  define PRINTF(f...)	sprintf((char *)0x2000, f)
+# else
+  /* small AVR */
+#  define PRINTF(f...)
+# endif
+#else
+# include <assert.h>
+# define ASSERT(expr)	assert (expr)
+# define EXIT(v)	exit ((v) < 256 ? (v) : 255)
+# define PRINTF(f...)	printf (f)
+# define sscanf_P	sscanf
+#endif
+
+/* Next variables are useful to debug the AVR.	*/
+int vrslt = 1;
+struct {
+    char b;
+} v = { 1 };
+
+void Check (int line, int expval, int rslt)
+{
+    vrslt = rslt;
+    if (rslt != expval) {
+	PRINTF ("\nLine %d:  expect= %d, rslt= %d\n", line, expval, rslt);
+	EXIT (line);
+    }
+}
+
+/* The sscanf() is called 4 times: SRAM and FLASH format, 2 values
+   to fill before run.	*/
+#define CHECK(expval, ass_expr, str, fmt, ...)				\
+    do {								\
+	PROGMEM static char fmt_p[] = fmt;				\
+	char str_s[220];						\
+	char fmt_s[40];							\
+	char FILL;							\
+	int i;								\
+	int (* volatile vp)(const char *, const char *, ...);		\
+									\
+	ASSERT (sizeof(str_s) >= sizeof(str));				\
+	ASSERT (sizeof(fmt_s) >= sizeof(fmt_p));			\
+	strcpy_P (str_s, PSTR(str));					\
+	strcpy_P (fmt_s, fmt_p);					\
+									\
+	for (FILL = 0; FILL < 4; FILL++) {				\
+	    memset (&v, FILL, sizeof(v));				\
+	    vp = (FILL & 1) ? sscanf_P : sscanf;			\
+	    i = vp (str_s, (FILL & 1) ? fmt_p : fmt_s, ##__VA_ARGS__);	\
+	    Check (__LINE__, expval, i);				\
+    	    ASSERT (ass_expr);						\
+	}								\
+    } while (0)
+
+int main ()
+{
+    /* Empty format string.	*/
+    CHECK (0, 1, "", "");
+    CHECK (0, 1, " ", "");
+    CHECK (0, 1, "1", "");
+    CHECK (0, 1, "a\n", "");
+
+    /* Format directive is white-space (i.e. isspace) symbol.	*/
+    CHECK (0, 1, "", " ");
+    CHECK (0, 1, "", "\t");
+    CHECK (0, 1, "", "\n");
+    CHECK (0, 1, "", "\r");
+    CHECK (0, 1, "", "\f");
+    CHECK (0, 1, "", "\v");
+    CHECK (0, 1, "", " \t\n\v\f\r");
+
+    /* Format directive is ordinary character, no input.	*/
+    CHECK (-1, 1, "", "a");
+    CHECK (-1, 1, "a", "aa");
+    
+    /* Format directive is ordinary character, input is match.	*/
+    CHECK (0, 1, "a", "a");
+    CHECK (0, 1, "\001", "\001");
+    CHECK (0, 1, "\377", "\377");
+    CHECK (0, 1, "The_quick_brown_fox", "The_quick_brown_fox");
+
+    /* Format directive is ordinary character, input is't match.	*/
+    CHECK (0, 1, "A", "a");
+    CHECK (0, 1, " ", "a");
+    CHECK (0, 1, "\001", "a");
+    CHECK (0, 1, "\377", "a");
+
+    CHECK (0, 1, "aA", "aa");
+    CHECK (0, 1, "a ", "aa");
+    CHECK (0, 1, "a\001", "AA");
+    CHECK (0, 1, "a\377", "AA");
+    
+    CHECK (0, 1, ".", "aaaaaaaa");
+
+    return 0;
+}
diff --git a/tests/simulate/scanf/sscanf-2.c b/tests/simulate/scanf/sscanf-2.c
new file mode 100644
index 0000000..f05854e
--- /dev/null
+++ b/tests/simulate/scanf/sscanf-2.c
@@ -0,0 +1,112 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of scanf(): none conversion directives.
+   $Id$	*/
+
+#include <stdio.h>
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+#ifdef	__AVR__
+# define ASSERT(expr)			\
+    do {				\
+	if (!(expr)) exit(__LINE__);	\
+    } while (0)
+# define EXIT(v)	exit (v)
+# if defined(__AVR_ATmega128__)
+  /* ATmega128 has enough RAM for sprintf(), print to 0x2000 in XRAM. */
+#  define PRINTF(f...)	sprintf((char *)0x2000, f)
+# else
+  /* small AVR */
+#  define PRINTF(f...)
+# endif
+#else
+# include <assert.h>
+# define ASSERT(expr)	assert (expr)
+# define EXIT(v)	exit ((v) < 256 ? (v) : 255)
+# define PRINTF(f...)	printf (f)
+# define sscanf_P	sscanf
+#endif
+
+/* Next variables are useful to debug the AVR.	*/
+int vrslt = 1;
+struct {
+    char b;
+} v = { 1 };
+
+void Check (int line, int expval, int rslt)
+{
+    vrslt = rslt;
+    if (rslt != expval) {
+	PRINTF ("\nLine %d:  expect= %d, rslt= %d\n", line, expval, rslt);
+	EXIT (line);
+    }
+}
+
+/* The sscanf() is called 4 times: SRAM and FLASH format, 2 values
+   to fill before run.	*/
+#define CHECK(expval, ass_expr, str, fmt, ...)				\
+    do {								\
+	PROGMEM static char fmt_p[] = fmt;				\
+	char str_s[220];						\
+	char fmt_s[40];							\
+	char FILL;							\
+	int i;								\
+	int (* volatile vp)(const char *, const char *, ...);		\
+									\
+	ASSERT (sizeof(str_s) >= sizeof(str));				\
+	ASSERT (sizeof(fmt_s) >= sizeof(fmt_p));			\
+	strcpy_P (str_s, PSTR(str));					\
+	strcpy_P (fmt_s, fmt_p);					\
+									\
+	for (FILL = 0; FILL < 4; FILL++) {				\
+	    memset (&v, FILL, sizeof(v));				\
+	    vp = (FILL & 1) ? sscanf_P : sscanf;			\
+	    i = vp (str_s, (FILL & 1) ? fmt_p : fmt_s, ##__VA_ARGS__);	\
+	    Check (__LINE__, expval, i);				\
+    	    ASSERT (ass_expr);						\
+	}								\
+    } while (0)
+
+int main ()
+{
+    /* Mix of two types of directives: ordinary char. and white space.	*/
+    CHECK (0, 1, "a", " a");
+    CHECK (0, 1, " a", " a");
+    CHECK (0, 1, "\t\n\v\v\ra", " a");
+
+    /* "%%"	*/
+    CHECK (-1, 1, "", "%%");
+    CHECK (0, 1, ".", "%%");
+    CHECK (0, 1, "%", "%%");
+
+    return 0;
+}
diff --git a/tests/simulate/scanf/sscanf-c1.c b/tests/simulate/scanf/sscanf-c1.c
new file mode 100644
index 0000000..4276e31
--- /dev/null
+++ b/tests/simulate/scanf/sscanf-c1.c
@@ -0,0 +1,138 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of scanf(): 'c' conversion directive.
+   $Id$	*/
+
+#include <stdio.h>
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+#ifdef	__AVR__
+# define ASSERT(expr)			\
+    do {				\
+	if (!(expr)) exit(__LINE__);	\
+    } while (0)
+# define EXIT(v)	exit (v)
+# if defined(__AVR_ATmega128__)
+  /* ATmega128 has enough RAM for sprintf(), print to 0x2000 in XRAM. */
+#  define PRINTF(f...)	sprintf((char *)0x2000, f)
+# else
+  /* small AVR */
+#  define PRINTF(f...)
+# endif
+#else
+# include <assert.h>
+# define ASSERT(expr)	assert (expr)
+# define EXIT(v)	exit ((v) < 256 ? (v) : 255)
+# define PRINTF(f...)	printf (f)
+# define sscanf_P	sscanf
+# define memcmp_P	memcmp
+#endif
+
+/* Next variables are useful to debug the AVR.	*/
+int vrslt = 1;
+struct {
+    char s[12];
+} v = { {1} };
+
+void Check (int line, int expval, int rslt)
+{
+    vrslt = rslt;
+    if (rslt != expval) {
+	PRINTF ("\nLine %d:  expect= %d, rslt= %d\n", line, expval, rslt);
+	EXIT (line);
+    }
+}
+
+/* The sscanf() is called 4 times: SRAM and FLASH format, 2 values
+   to fill before run.	*/
+#define CHECK(expval, ass_expr, str, fmt, ...)				\
+    do {								\
+	PROGMEM static char fmt_p[] = fmt;				\
+	char str_s[220];						\
+	char fmt_s[40];							\
+	char FILL;							\
+	int i;								\
+	int (* volatile vp)(const char *, const char *, ...);		\
+									\
+	ASSERT (sizeof(str_s) >= sizeof(str));				\
+	ASSERT (sizeof(fmt_s) >= sizeof(fmt_p));			\
+	strcpy_P (str_s, PSTR(str));					\
+	strcpy_P (fmt_s, fmt_p);					\
+									\
+	for (FILL = 0; FILL < 4; FILL++) {				\
+	    memset (&v, FILL, sizeof(v));				\
+	    vp = (FILL & 1) ? sscanf_P : sscanf;			\
+	    i = vp (str_s, (FILL & 1) ? fmt_p : fmt_s, ##__VA_ARGS__);	\
+	    Check (__LINE__, expval, i);				\
+    	    ASSERT (ass_expr);						\
+	}								\
+    } while (0)
+
+int main ()
+{
+    /* Empty input.	*/
+    CHECK (-1, 1, "", "%c", v.s);
+    CHECK (-1, 1, "", " %c", v.s);
+    CHECK (-1, 1, " ", " %c", v.s);
+    CHECK (-1, 1, " ", "  %c", v.s);
+    CHECK (-1, 1, "\t\n\v\f\r", " %c", v.s);
+    
+    /* Normal conversion.	*/
+    CHECK (1, (v.s[0] == 'a'), "a", "%c", v.s);
+    CHECK (3, !memcmp_P (v.s, PSTR(" \001\377"), 3),
+	   " \001\377", "%c%c%c", v.s, v.s + 1, v.s + 2);
+    CHECK (4, !memcmp_P (v.s, PSTR("DCBA"), 4),
+	   "ABCD", "%c%c%c%c", v.s + 3, v.s + 2, v.s + 1, v.s);
+
+    /* Input match.	*/
+    CHECK (1, (v.s[0] == 'q'), "%The        %q", "%%The %%%c", v.s);
+
+    /* Suppress a writing.	*/
+    CHECK (0, (v.s[0] == FILL), "a", "%*c", v.s);
+    CHECK (3, !memcmp_P(v.s, PSTR("ACD"), 3),
+	   "ABCD", "%c%*c%c%c", v.s, v.s + 1, v.s + 2);
+
+    /* Width field.	*/
+    CHECK (1, (v.s[0] == 'A'), "A", "%1c", v.s);
+    CHECK (1, !memcmp_P(v.s, PSTR("AB"), 2), "AB", "%2c", v.s);
+    CHECK (1, !memcmp_P(v.s, PSTR("The_quick_br"), 12),
+	   "The_quick_brown_fox", "%12c", v.s);
+    CHECK (1, !memcmp_P(v.s, PSTR("A\t D"), 4), "A\t D", "%4c", v.s);
+    CHECK (2, !memcmp_P(v.s, PSTR("3412"), 4),
+	   "1234", "%2c%2c", v.s + 2, v.s);
+
+    /* Suppress and width.	*/
+    CHECK (0, (v.s[0] == FILL), "A", "%*1c", v.s);
+    CHECK (0, (v.s[0] == FILL), "AA", "%*2c", v.s);
+
+    return 0;
+}
diff --git a/tests/simulate/scanf/sscanf-c2.c b/tests/simulate/scanf/sscanf-c2.c
new file mode 100644
index 0000000..3953605
--- /dev/null
+++ b/tests/simulate/scanf/sscanf-c2.c
@@ -0,0 +1,129 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of scanf(): 'c' conversion directive.
+   $Id$	*/
+
+#include <stdio.h>
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+#ifdef	__AVR__
+# define ASSERT(expr)			\
+    do {				\
+	if (!(expr)) exit(__LINE__);	\
+    } while (0)
+# define EXIT(v)	exit (v)
+# if defined(__AVR_ATmega128__)
+  /* ATmega128 has enough RAM for sprintf(), print to 0x2000 in XRAM. */
+#  define PRINTF(f...)	sprintf((char *)0x2000, f)
+# else
+  /* small AVR */
+#  define PRINTF(f...)
+# endif
+#else
+# include <assert.h>
+# define ASSERT(expr)	assert (expr)
+# define EXIT(v)	exit ((v) < 256 ? (v) : 255)
+# define PRINTF(f...)	printf (f)
+# define sscanf_P	sscanf
+# define memcmp_P	memcmp
+#endif
+
+/* Next variables are useful to debug the AVR.	*/
+int vrslt = 1;
+struct {
+    char s[12];
+} v = { {1} };
+
+void Check (int line, int expval, int rslt)
+{
+    vrslt = rslt;
+    if (rslt != expval) {
+	PRINTF ("\nLine %d:  expect= %d, rslt= %d\n", line, expval, rslt);
+	EXIT (line);
+    }
+}
+
+/* The sscanf() is called 4 times: SRAM and FLASH format, 2 values
+   to fill before run.	*/
+#define CHECK(expval, ass_expr, str, fmt, ...)				\
+    do {								\
+	PROGMEM static char fmt_p[] = fmt;				\
+	char str_s[220];						\
+	char fmt_s[40];							\
+	char FILL;							\
+	int i;								\
+	int (* volatile vp)(const char *, const char *, ...);		\
+									\
+	ASSERT (sizeof(str_s) >= sizeof(str));				\
+	ASSERT (sizeof(fmt_s) >= sizeof(fmt_p));			\
+	strcpy_P (str_s, PSTR(str));					\
+	strcpy_P (fmt_s, fmt_p);					\
+									\
+	for (FILL = 0; FILL < 4; FILL++) {				\
+	    memset (&v, FILL, sizeof(v));				\
+	    vp = (FILL & 1) ? sscanf_P : sscanf;			\
+	    i = vp (str_s, (FILL & 1) ? fmt_p : fmt_s, ##__VA_ARGS__);	\
+	    Check (__LINE__, expval, i);				\
+    	    ASSERT (ass_expr);						\
+	}								\
+    } while (0)
+
+int main ()
+{
+    /* Zero width.	*/
+#ifdef	__AVR__
+    CHECK (0, (v.s[0] == FILL), "A", "%0c", v.s);
+#else
+    CHECK (1, (v.s[0] == 'A'), "A", "%0c", v.s);
+#endif
+
+    /* Left width digit is 0.	*/
+    CHECK (1, (v.s[0] == 'A'), "A", "%01c", v.s);
+    CHECK (1, !memcmp_P(v.s, PSTR("AB"), 2), "AB", "%02c", v.s);
+
+    /* Invalid symbol after '%'.	*/
+    CHECK (0, (v.s[0] == FILL), "A", "% c", v.s);
+    CHECK (0, (v.s[0] == FILL), "A", "%-c", v.s);
+    CHECK (0, (v.s[0] == FILL), "A", "%+c", v.s);
+    CHECK (0, (v.s[0] == FILL), "A", "%.c", v.s);
+    CHECK (0, (v.s[0] == FILL), "A", "%#c", v.s);
+
+    /* The length modifier.	*/
+    CHECK (1, (v.s[0] == 'A' && v.s[1] == FILL), "A", "%hc", v.s);
+#ifdef	__AVR__
+    CHECK (1, (v.s[0] == 'A' && v.s[1] == FILL), "A", "%lc", v.s);
+#else
+    CHECK (1, (v.s[0] == 'A' && v.s[1] == 0), "A", "%lc", v.s);
+#endif
+
+    return 0;
+}
diff --git a/tests/simulate/scanf/sscanf-d1.c b/tests/simulate/scanf/sscanf-d1.c
new file mode 100644
index 0000000..3159125
--- /dev/null
+++ b/tests/simulate/scanf/sscanf-d1.c
@@ -0,0 +1,174 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of scanf(): 'd' conversion directive.
+   $Id$	*/
+
+#include <stdio.h>
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+#ifdef	__AVR__
+# define ASSERT(expr)			\
+    do {				\
+	if (!(expr)) exit(__LINE__);	\
+    } while (0)
+# define EXIT(v)	exit (v)
+# if defined(__AVR_ATmega128__)
+  /* ATmega128 has enough RAM for sprintf(), print to 0x2000 in XRAM. */
+#  define PRINTF(f...)	sprintf((char *)0x2000, f)
+# else
+  /* small AVR */
+#  define PRINTF(f...)
+# endif
+#else
+# include <assert.h>
+# define ASSERT(expr)	assert (expr)
+# define EXIT(v)	exit ((v) < 256 ? (v) : 255)
+# define PRINTF(f...)	printf (f)
+# define sscanf_P	sscanf
+# define memcmp_P	memcmp
+#endif
+
+/* Next variables are useful to debug the AVR.	*/
+int vrslt = 1;
+struct {
+    int i[8];
+    char s[8];
+} v = { {1}, {1} };
+
+void Check (int line, int expval, int rslt)
+{
+    vrslt = rslt;
+    if (rslt != expval) {
+	PRINTF ("\nLine %d:  expect= %d, rslt= %d\n", line, expval, rslt);
+	EXIT (line);
+    }
+}
+
+/* The sscanf() is called 4 times: SRAM and FLASH format, 2 values
+   to fill before run.	*/
+#define CHECK(expval, ass_expr, str, fmt, ...)				\
+    do {								\
+	PROGMEM static char fmt_p[] = fmt;				\
+	char str_s[220];						\
+	char fmt_s[40];							\
+	char FILL;							\
+	int i;								\
+	int (* volatile vp)(const char *, const char *, ...);		\
+									\
+	ASSERT (sizeof(str_s) >= sizeof(str));				\
+	ASSERT (sizeof(fmt_s) >= sizeof(fmt_p));			\
+	strcpy_P (str_s, PSTR(str));					\
+	strcpy_P (fmt_s, fmt_p);					\
+									\
+	for (FILL = 0; FILL < 4; FILL++) {				\
+	    memset (&v, FILL, sizeof(v));				\
+	    vp = (FILL & 1) ? sscanf_P : sscanf;			\
+	    i = vp (str_s, (FILL & 1) ? fmt_p : fmt_s, ##__VA_ARGS__);	\
+	    Check (__LINE__, expval, i);				\
+    	    ASSERT (ass_expr);						\
+	}								\
+    } while (0)
+
+#define	PVEC(args...)	({ static int __x[] PROGMEM = {args}; __x; })
+
+int main ()
+{
+    /* Empty input.	*/
+    CHECK (-1, (*(char *)v.i == FILL), "", "%d", v.i);
+    CHECK (-1, (*(char *)v.i == FILL), "", " %d", v.i);
+    CHECK (-1, (*(char *)v.i == FILL), " ", " %d", v.i);
+    CHECK (-1, (*(char *)v.i == FILL), " ", "  %d", v.i);
+    CHECK (-1, (*(char *)v.i == FILL), "\t\n\v\f\r", " %d", v.i);
+
+    /* Normal conversion.	*/
+    CHECK (1, (v.i[0] == 0), "0", "%d", v.i);
+    CHECK (
+	8,
+	!memcmp_P (
+	    v.i,
+	    PVEC (0, 0, 1, 32767, -1, -32768, 12345, -6789),
+	    8 * sizeof(int)),
+	"+0 -0 1 32767 -1 -32768 +12345 -6789",
+	"%d %d %d %d %d %d %d %d",
+	v.i + 0, v.i + 1,
+	v.i + 2, v.i + 3,
+	v.i + 4, v.i + 5,
+	v.i + 6, v.i + 7);
+
+    /* '%u' conversion.	*/
+    CHECK (
+	3,
+	!memcmp_P (v.i, PVEC (123, -456, 65535), 3 * sizeof(int)),
+	"123 -456 65535",
+	"%u%u%u", v.i, v.i + 1, v.i + 2);
+
+    /* Leading spaces.	*/
+    CHECK (
+	2,
+	!memcmp_P (v.i, PVEC (12, 123), 2 * sizeof(int)),
+	" 12\t\n\v\f\r123",
+	"%d%d", v.i, v.i + 1);
+
+    /* End of number.	*/
+    CHECK (2, v.i[0] == 0 && v.s[0] == 'x', "0x1", "%d%c", v.i, v.s);
+    CHECK (
+	10,
+	!memcmp_P (v.i, PVEC (1, 2, 3, 4, 5), 5 * sizeof(int))
+	&& !memcmp_P (v.s, PSTR(" \n.\001\377"), 5),
+	"1 2\n3.4\0015\3776",
+	"%d%c%d%c%d%c%d%c%d%c",
+	v.i + 0, v.s + 0,
+	v.i + 1, v.s + 1,
+	v.i + 2, v.s + 2,
+	v.i + 3, v.s + 3,
+	v.i + 4, v.s + 4);
+    CHECK (
+	3,
+	!memcmp_P (v.i, PVEC (6, -7, 8), 3 * sizeof(int)),
+	"6-7+8",
+	"%d%d%d",
+	v.i, v.i + 1, v.i + 2);
+
+    /* Non-decimal input.	*/
+    CHECK (1, (v.i[0] == 10), "010", "%d", v.i);
+    CHECK (1, (v.i[0] == 0), "0x10", "%d", v.i);
+    CHECK (1, (v.i[0] == 10), "10e2", "%d", v.i);
+
+    /* Suppress a writing.	*/
+    CHECK (0, (*(char *)v.i == FILL), "123", "%*d", v.i);
+    CHECK (
+	2,
+	!memcmp_P (v.i, PVEC (1, 3), 2 * sizeof(int)),
+	"1 2 3", "%d%*d%d", v.i, v.i + 1);
+
+    return 0;
+}
diff --git a/tests/simulate/scanf/sscanf-d2.c b/tests/simulate/scanf/sscanf-d2.c
new file mode 100644
index 0000000..739d28c
--- /dev/null
+++ b/tests/simulate/scanf/sscanf-d2.c
@@ -0,0 +1,142 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of scanf(): 'd' conversion directive.
+   $Id$	*/
+
+#include <stdio.h>
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+#ifdef	__AVR__
+# define ASSERT(expr)			\
+    do {				\
+	if (!(expr)) exit(__LINE__);	\
+    } while (0)
+# define EXIT(v)	exit (v)
+# if defined(__AVR_ATmega128__)
+  /* ATmega128 has enough RAM for sprintf(), print to 0x2000 in XRAM. */
+#  define PRINTF(f...)	sprintf((char *)0x2000, f)
+# else
+  /* small AVR */
+#  define PRINTF(f...)
+# endif
+#else
+# include <assert.h>
+# define ASSERT(expr)	assert (expr)
+# define EXIT(v)	exit ((v) < 256 ? (v) : 255)
+# define PRINTF(f...)	printf (f)
+# define sscanf_P	sscanf
+# define memcmp_P	memcmp
+#endif
+
+/* Next variables are useful to debug the AVR.	*/
+int vrslt = 1;
+struct {
+    int i[4];
+} v = { {1} };
+
+void Check (int line, int expval, int rslt)
+{
+    vrslt = rslt;
+    if (rslt != expval) {
+	PRINTF ("\nLine %d:  expect= %d, rslt= %d\n", line, expval, rslt);
+	EXIT (line);
+    }
+}
+
+/* The sscanf() is called 4 times: SRAM and FLASH format, 2 values
+   to fill before run.	*/
+#define CHECK(expval, ass_expr, str, fmt, ...)				\
+    do {								\
+	PROGMEM static char fmt_p[] = fmt;				\
+	char str_s[220];						\
+	char fmt_s[40];							\
+	char FILL;							\
+	int i;								\
+	int (* volatile vp)(const char *, const char *, ...);		\
+									\
+	ASSERT (sizeof(str_s) >= sizeof(str));				\
+	ASSERT (sizeof(fmt_s) >= sizeof(fmt_p));			\
+	strcpy_P (str_s, PSTR(str));					\
+	strcpy_P (fmt_s, fmt_p);					\
+									\
+	for (FILL = 0; FILL < 4; FILL++) {				\
+	    memset (&v, FILL, sizeof(v));				\
+	    vp = (FILL & 1) ? sscanf_P : sscanf;			\
+	    i = vp (str_s, (FILL & 1) ? fmt_p : fmt_s, ##__VA_ARGS__);	\
+	    Check (__LINE__, expval, i);				\
+    	    ASSERT (ass_expr);						\
+	}								\
+    } while (0)
+
+int main ()
+{
+    /* Not a number: EOF	*/
+    CHECK (-1, *(char *)v.i == FILL, "", "%d", v.i);
+    CHECK (-1, *(char *)v.i == FILL, " ", "%d", v.i);
+
+#ifdef	__AVR__
+    CHECK (-1, *(char *)v.i == FILL, "+", "%d", v.i);
+    CHECK (-1, *(char *)v.i == FILL, "-", "%d", v.i);
+#else							/* ???	*/
+    CHECK (0, *(char *)v.i == FILL, "+", "%d", v.i);
+    CHECK (0, *(char *)v.i == FILL, "-", "%d", v.i);
+#endif
+
+    /* Not a number: invalid symbol.	*/
+    CHECK (0, *(char *)v.i == FILL, "A", "%d", v.i);
+    CHECK (0, *(char *)v.i == FILL, ".9", "%d", v.i);
+
+    /* Width field.	*/
+    CHECK (1, (v.i[0] == 9), "9", "%1d", v.i);
+    CHECK (1, (v.i[0] == 9), "98", "%1d", v.i);
+    CHECK (1, (v.i[0] == 98), "9876", "%2d", v.i);
+    CHECK (2, (v.i[0] == 76) && (v.i[1] == 98),
+	   "9876", "%2d%2d", v.i + 1, v.i);
+    CHECK (1, (v.i[0] == 1234), "000000000012345", "%14d", v.i);
+
+    /* Width field and spaces.	*/
+    CHECK (1, (v.i[0] == 12), " 12345", "%2d", v.i);
+    CHECK (1, (v.i[0] == 12), " \t\n\v\f\r12345", "%2d", v.i);
+
+    /* Width field and a sign.	*/
+    CHECK (1, (v.i[0] == 12), "+12345", "%3d", v.i);
+    CHECK (1, (v.i[0] == -12), "-12345", "%3d", v.i);
+
+    /* Width, space and sign.	*/
+    CHECK (1, (v.i[0] == -12), "  -12345", "%3d", v.i);
+
+    /* Suppress and width.	*/
+    CHECK (0, (*(char *)v.i == FILL), "9", "%*1d", v.i);
+    CHECK (0, (*(char *)v.i == FILL), "9876", "%*2d", v.i);
+
+    return 0;
+}
diff --git a/tests/simulate/scanf/sscanf-eof.c b/tests/simulate/scanf/sscanf-eof.c
new file mode 100644
index 0000000..2e3e544
--- /dev/null
+++ b/tests/simulate/scanf/sscanf-eof.c
@@ -0,0 +1,110 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of scanf(): 'i' conversion directive.
+   $Id$	*/
+
+#include <stdio.h>
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+#ifdef	__AVR__
+# define ASSERT(expr)			\
+    do {				\
+	if (!(expr)) exit(__LINE__);	\
+    } while (0)
+# define EXIT(v)	exit (v)
+# if defined(__AVR_ATmega128__)
+  /* ATmega128 has enough RAM for sprintf(), print to 0x2000 in XRAM. */
+#  define PRINTF(f...)	sprintf((char *)0x2000, f)
+# else
+  /* small AVR */
+#  define PRINTF(f...)
+# endif
+#else
+# include <assert.h>
+# define ASSERT(expr)	assert (expr)
+# define EXIT(v)	exit ((v) < 256 ? (v) : 255)
+# define PRINTF(f...)	printf (f)
+# define sscanf_P	sscanf
+# define memcmp_P	memcmp
+#endif
+
+/* Next variables are useful to debug the AVR.	*/
+int vrslt = 1;
+struct {
+    unsigned int i[4];
+} v = { {1} };
+
+void Check (int line, int expval, int rslt)
+{
+    vrslt = rslt;
+    if (rslt != expval) {
+	PRINTF ("\nLine %d:  expect= %d, rslt= %d\n", line, expval, rslt);
+	EXIT (line);
+    }
+}
+
+/* The sscanf() is called 4 times: SRAM and FLASH format, 2 values
+   to fill before run.	*/
+#define CHECK(expval, ass_expr, str, fmt, ...)				\
+    do {								\
+	PROGMEM static char fmt_p[] = fmt;				\
+	char str_s[220];						\
+	char fmt_s[40];							\
+	char FILL;							\
+	int i;								\
+	int (* volatile vp)(const char *, const char *, ...);		\
+									\
+	ASSERT (sizeof(str_s) >= sizeof(str));				\
+	ASSERT (sizeof(fmt_s) >= sizeof(fmt_p));			\
+	strcpy_P (str_s, PSTR(str));					\
+	strcpy_P (fmt_s, fmt_p);					\
+									\
+	for (FILL = 0; FILL < 4; FILL++) {				\
+	    memset (&v, FILL, sizeof(v));				\
+	    vp = (FILL & 1) ? sscanf_P : sscanf;			\
+	    i = vp (str_s, (FILL & 1) ? fmt_p : fmt_s, ##__VA_ARGS__);	\
+	    Check (__LINE__, expval, i);				\
+    	    ASSERT (ass_expr);						\
+	}								\
+    } while (0)
+
+int main ()
+{
+    /* Empty input.	*/
+    CHECK (-1, (*(char *)v.i == FILL), "", "%x", v.i);
+    CHECK (-1, (*(char *)v.i == FILL), "", " %x", v.i);
+    CHECK (-1, (*(char *)v.i == FILL), " ", " %x", v.i);
+    CHECK (-1, (*(char *)v.i == FILL), " ", "  %x", v.i);
+    CHECK (-1, (*(char *)v.i == FILL), "\t\n\v\f\r", " %x", v.i);
+
+    return 0;
+}
diff --git a/tests/simulate/scanf/sscanf-eon.c b/tests/simulate/scanf/sscanf-eon.c
new file mode 100644
index 0000000..c6141a6
--- /dev/null
+++ b/tests/simulate/scanf/sscanf-eon.c
@@ -0,0 +1,117 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of scanf(): end of number (integral).
+   $Id$	*/
+
+#include <ctype.h>
+#include <stdio.h>
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+#ifdef	__AVR__
+# define ASSERT(expr)			\
+    do {				\
+	if (!(expr)) exit(__LINE__);	\
+    } while (0)
+# define EXIT(v)	exit (v)
+# if defined(__AVR_ATmega128__)
+  /* ATmega128 has enough RAM for sprintf(), print to 0x2000 in XRAM. */
+#  define PRINTF(f...)	sprintf((char *)0x2000, f)
+# else
+  /* small AVR */
+#  define PRINTF(f...)
+# endif
+#else
+# include <assert.h>
+# define ASSERT(expr)	assert (expr)
+# define EXIT(v)	exit ((v) < 256 ? (v) : 255)
+# define PRINTF(f...)	printf (f)
+# define sscanf_P	sscanf
+# define memcmp_P	memcmp
+#endif
+
+/* Next variables are useful to debug the AVR.	*/
+int vrslt = 1;
+struct {
+    int i[3];
+    unsigned char s[3];
+} v = { {1}, {1} };
+
+int main ()
+{
+    char s[16];
+    unsigned char c;
+    int n;
+
+    /* Decimal.	*/
+    for (c = 255; c; c--) {
+	if (isdigit (c))
+	    continue;
+	strcpy_P (s, PSTR("0.1.29."));
+	s[1] = s[3] = s[6] = c;
+	memset (&v, ~0, sizeof(v));
+	n = sscanf (s, "%d%c%d%c%d%c",
+		    v.i, v.s, v.i + 1, v.s + 1, v.i + 2, v.s + 2);
+	ASSERT (n == 6);
+	ASSERT (v.s[0] == c && v.s[1] == c && v.s[2] == c);
+	ASSERT (v.i[0] == 0 && v.i[1] == 1 && v.i[2] == 29);
+    }
+
+    /* Octal.	*/
+    for (c = 255; c; c--) {
+	if (isdigit (c) && (c != '8') && (c != '9'))
+	    continue;
+	strcpy_P (s, PSTR("0.1.27."));
+	s[1] = s[3] = s[6] = c;
+	memset (&v, ~0, sizeof(v));
+	n = sscanf (s, "%o%c%o%c%o%c",
+		    v.i, v.s, v.i + 1, v.s + 1, v.i + 2, v.s + 2);
+	ASSERT (n == 6);
+	ASSERT (v.s[0] == c && v.s[1] == c && v.s[2] == c);
+	ASSERT (v.i[0] == 0 && v.i[1] == 1 && v.i[2] == 027);
+    }
+
+    /* Hexidecimal.	*/
+    for (c = 255; c; c--) {
+	if (isxdigit (c))
+	    continue;
+	strcpy_P (s, PSTR("F.1.20."));
+	s[1] = s[3] = s[6] = c;
+	memset (&v, ~0, sizeof(v));
+	n = sscanf (s, "%x%c%x%c%x%c",
+		    v.i, v.s, v.i + 1, v.s + 1, v.i + 2, v.s + 2);
+	ASSERT (n == 6);
+	ASSERT (v.s[0] == c && v.s[1] == c && v.s[2] == c);
+	ASSERT (v.i[0] == 0xF && v.i[1] == 1 && v.i[2] == 0x20);
+    }
+
+    return 0;
+}
diff --git a/tests/simulate/scanf/sscanf-h.c b/tests/simulate/scanf/sscanf-h.c
new file mode 100644
index 0000000..d87cb0e
--- /dev/null
+++ b/tests/simulate/scanf/sscanf-h.c
@@ -0,0 +1,137 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of scanf(): 'h' type modifier.
+   $Id$	*/
+
+#include <stdio.h>
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+#ifdef	__AVR__
+# define ASSERT(expr)			\
+    do {				\
+	if (!(expr)) exit(__LINE__);	\
+    } while (0)
+# define EXIT(v)	exit (v)
+# if defined(__AVR_ATmega128__)
+  /* ATmega128 has enough RAM for sprintf(), print to 0x2000 in XRAM. */
+#  define PRINTF(f...)	sprintf((char *)0x2000, f)
+# else
+  /* small AVR */
+#  define PRINTF(f...)
+# endif
+#else
+# include <assert.h>
+# define ASSERT(expr)	assert (expr)
+# define EXIT(v)	exit ((v) < 256 ? (v) : 255)
+# define PRINTF(f...)	printf (f)
+# define sscanf_P	sscanf
+# define memcmp_P	memcmp
+#endif
+
+/* Next variables are useful to debug the AVR.	*/
+int vrslt = 1;
+struct {
+    short i[10];
+} v = { {1} };
+
+void Check (int line, int expval, int rslt)
+{
+    vrslt = rslt;
+    if (rslt != expval) {
+	PRINTF ("\nLine %d:  expect= %d, rslt= %d\n", line, expval, rslt);
+	EXIT (line);
+    }
+}
+
+/* The sscanf() is called 4 times: SRAM and FLASH format, 2 values
+   to fill before run.	*/
+#define CHECK(expval, ass_expr, str, fmt, ...)				\
+    do {								\
+	PROGMEM static char fmt_p[] = fmt;				\
+	char str_s[220];						\
+	char fmt_s[40];							\
+	char FILL;							\
+	int i;								\
+	int (* volatile vp)(const char *, const char *, ...);		\
+									\
+	ASSERT (sizeof(str_s) >= sizeof(str));				\
+	ASSERT (sizeof(fmt_s) >= sizeof(fmt_p));			\
+	strcpy_P (str_s, PSTR(str));					\
+	strcpy_P (fmt_s, fmt_p);					\
+									\
+	for (FILL = 0; FILL < 4; FILL++) {				\
+	    memset (&v, FILL, sizeof(v));				\
+	    vp = (FILL & 1) ? sscanf_P : sscanf;			\
+	    i = vp (str_s, (FILL & 1) ? fmt_p : fmt_s, ##__VA_ARGS__);	\
+	    Check (__LINE__, expval, i);				\
+    	    ASSERT (ass_expr);						\
+	}								\
+    } while (0)
+
+int main ()
+{
+    /* Empty input.	*/
+    CHECK (-1, (*(char *)v.i == FILL), "", "%hd", v.i);
+    CHECK (-1, (*(char *)v.i == FILL), "", " %hd", v.i);
+    CHECK (-1, (*(char *)v.i == FILL), " ", " %hd", v.i);
+    CHECK (-1, (*(char *)v.i == FILL), " ", "  %hd", v.i);
+    CHECK (-1, (*(char *)v.i == FILL), "\t\n\v\f\r", " %hd", v.i);
+
+    /* All possible conversions.	*/
+    CHECK (
+	8,
+	v.i[0] == 10 && v.i[1] == 20 && v.i[2] == 030 && v.i[3] == 040
+	&& v.i[4] == 0x50 && v.i[5] == 0x60 && v.i[6] == 0x70 && v.i[7] == 22
+	&& v.i[8] == 80,
+	"10 20 030 40 50 60 70 80",
+	"%hd %hu %hi %ho %hx %hX %hp %hn %hd",
+	v.i + 0, v.i + 1, v.i + 2, v.i + 3,
+	v.i + 4, v.i + 5, v.i + 6, v.i + 7,
+	v.i + 8);
+
+    /* Width field.	*/
+    CHECK (
+	1,
+	v.i[0] == 12 && *(unsigned char *)(v.i + 1) == FILL,
+	"123", "%2hd", v.i);
+    CHECK (
+	1,
+	v.i[0] == 98 && *(unsigned char *)(v.i + 1) == FILL,
+	"00000000009876", "%12hd", v.i);
+
+    /* Suppress a writing.	*/
+    CHECK (0, (*(unsigned char *)v.i == FILL), "123", "%*hd", v.i);
+    CHECK (2, (v.i[0] == 1) && (v.i[1] == 3) && (*(char *)(v.i + 2) == FILL),
+	   "1 2 3", "%hd%*hd%hd", v.i, v.i + 1);
+
+    return 0;
+}
diff --git a/tests/simulate/scanf/sscanf-hh.c b/tests/simulate/scanf/sscanf-hh.c
new file mode 100644
index 0000000..4aff9b8
--- /dev/null
+++ b/tests/simulate/scanf/sscanf-hh.c
@@ -0,0 +1,149 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of scanf(): 'hh' type modifier
+   $Id$	*/
+
+#include <stdio.h>
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+#ifdef	__AVR__
+# define ASSERT(expr)			\
+    do {				\
+	if (!(expr)) exit(__LINE__);	\
+    } while (0)
+# define EXIT(v)	exit (v)
+# if defined(__AVR_ATmega128__)
+  /* ATmega128 has enough RAM for sprintf(), print to 0x2000 in XRAM. */
+#  define PRINTF(f...)	sprintf((char *)0x2000, f)
+# else
+  /* small AVR */
+#  define PRINTF(f...)
+# endif
+#else
+# include <assert.h>
+# define ASSERT(expr)	assert (expr)
+# define EXIT(v)	exit ((v) < 256 ? (v) : 255)
+# define PRINTF(f...)	printf (f)
+# define sscanf_P	sscanf
+# define memcmp_P	memcmp
+#endif
+
+/* Next variables are useful to debug the AVR.	*/
+int vrslt = 1;
+struct {
+    signed char i[10];
+} v = { {1} };
+
+void Check (int line, int expval, int rslt)
+{
+    vrslt = rslt;
+    if (rslt != expval) {
+	PRINTF ("\nLine %d:  expect= %d, rslt= %d\n", line, expval, rslt);
+	EXIT (line);
+    }
+}
+
+/* The sscanf() is called 4 times: SRAM and FLASH format, 2 values
+   to fill before run.	*/
+#define CHECK(expval, ass_expr, str, fmt, ...)				\
+    do {								\
+	PROGMEM static char fmt_p[] = fmt;				\
+	char str_s[220];						\
+	char fmt_s[50];							\
+	char FILL;							\
+	int i;								\
+	int (* volatile vp)(const char *, const char *, ...);		\
+									\
+	ASSERT (sizeof(str_s) >= sizeof(str));				\
+	ASSERT (sizeof(fmt_s) >= sizeof(fmt_p));			\
+	strcpy_P (str_s, PSTR(str));					\
+	strcpy_P (fmt_s, fmt_p);					\
+									\
+	for (FILL = 0; FILL < 4; FILL++) {				\
+	    memset (&v, FILL, sizeof(v));				\
+	    vp = (FILL & 1) ? sscanf_P : sscanf;			\
+	    i = vp (str_s, (FILL & 1) ? fmt_p : fmt_s, ##__VA_ARGS__);	\
+	    Check (__LINE__, expval, i);				\
+    	    ASSERT (ass_expr);						\
+	}								\
+    } while (0)
+
+#define	PVEC(args...)	({ static char __x[] PROGMEM = {args}; __x; })
+
+int main ()
+{
+    /* Empty input.	*/
+    CHECK (-1, (*(char *)v.i == FILL), "", "%hhd", v.i);
+    CHECK (-1, (*(char *)v.i == FILL), "", " %hhd", v.i);
+    CHECK (-1, (*(char *)v.i == FILL), " ", " %hhd", v.i);
+    CHECK (-1, (*(char *)v.i == FILL), " ", "  %hhd", v.i);
+    CHECK (-1, (*(char *)v.i == FILL), "\t\n\v\f\r", " %hhd", v.i);
+
+    /* Normal conversion.	*/
+    CHECK (1, (v.i[0] == 0 && v.i[1] == FILL), "0", "%hhd", v.i);
+    CHECK (
+	6,
+	!memcmp_P (v.i, PVEC (1, 127, -128, -2, -1, -1), 6),
+	"1 127 128 255 32767 -2",
+	"%hhd %hhd %hhd %hhd %hhd %hhd",
+	v.i + 0, v.i + 1, v.i + 2,
+	v.i + 5, v.i + 4, v.i + 3);
+
+    /* All possible conversion types.	*/
+    CHECK (
+	8,
+	!memcmp_P (v.i, PVEC (1, 2, 3, 4, 5, 6, 7, 14, 8), 9),
+	"1 2 3 4 5 6 7 8",
+	"%hhd %hhu %hhi %hho %hhx %hhX %hhp %hhn %hhd",
+	v.i + 0, v.i + 1, v.i + 2, v.i + 3,
+	v.i + 4, v.i + 5, v.i + 6, v.i + 7,
+	v.i + 8);
+
+    /* Width field.	*/
+    CHECK (1, v.i[0] == 12 && v.i[1] == FILL, "123", "%2hhd", v.i);
+    CHECK (1, v.i[0] == 98 && v.i[1] == FILL, "00000000009876", "%12hhd", v.i);
+
+    /* A few conversions.	*/
+    CHECK (2, !memcmp_P (v.i, PVEC (1,2), 2) && (v.i[2] == FILL),
+	   "1 2", "%hhd%hhd", v.i, v.i + 1);
+    CHECK (2, !memcmp_P (v.i, PVEC (1,3), 2) && (v.i[2] == FILL),
+	   "1+3", "%hhd%hhd", v.i, v.i + 1);
+    CHECK (2, !memcmp_P (v.i, PVEC (1,-1), 2) && (v.i[2] == FILL),
+	   "1-1", "%hhd%hhd", v.i, v.i + 1);
+
+    /* Suppress a writing.	*/
+    CHECK (0, (*(char *)v.i == FILL), "123", "%*hhd", v.i);
+    CHECK (2, !memcmp_P (v.i, PVEC (1,3), 2) && (v.i[2] == FILL),
+	   "1 2 3", "%hhd%*hhd%hhd", v.i, v.i + 1);
+
+    return 0;
+}
diff --git a/tests/simulate/scanf/sscanf-i.c b/tests/simulate/scanf/sscanf-i.c
new file mode 100644
index 0000000..d1f76fa
--- /dev/null
+++ b/tests/simulate/scanf/sscanf-i.c
@@ -0,0 +1,135 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of scanf(): 'i' conversion directive.
+   $Id$	*/
+
+#include <stdio.h>
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+#ifdef	__AVR__
+# define ASSERT(expr)			\
+    do {				\
+	if (!(expr)) exit(__LINE__);	\
+    } while (0)
+# define EXIT(v)	exit (v)
+# if defined(__AVR_ATmega128__)
+  /* ATmega128 has enough RAM for sprintf(), print to 0x2000 in XRAM. */
+#  define PRINTF(f...)	sprintf((char *)0x2000, f)
+# else
+  /* small AVR */
+#  define PRINTF(f...)
+# endif
+#else
+# include <assert.h>
+# define ASSERT(expr)	assert (expr)
+# define EXIT(v)	exit ((v) < 256 ? (v) : 255)
+# define PRINTF(f...)	printf (f)
+# define sscanf_P	sscanf
+# define memcmp_P	memcmp
+#endif
+
+/* Next variables are useful to debug the AVR.	*/
+int vrslt = 1;
+struct {
+    unsigned int i[8];
+} v = { {1} };
+
+void Check (int line, int expval, int rslt)
+{
+    vrslt = rslt;
+    if (rslt != expval) {
+	PRINTF ("\nLine %d:  expect= %d, rslt= %d\n", line, expval, rslt);
+	EXIT (line);
+    }
+}
+
+/* The sscanf() is called 4 times: SRAM and FLASH format, 2 values
+   to fill before run.	*/
+#define CHECK(expval, ass_expr, str, fmt, ...)				\
+    do {								\
+	PROGMEM static char fmt_p[] = fmt;				\
+	char str_s[220];						\
+	char fmt_s[40];							\
+	char FILL;							\
+	int i;								\
+	int (* volatile vp)(const char *, const char *, ...);		\
+									\
+	ASSERT (sizeof(str_s) >= sizeof(str));				\
+	ASSERT (sizeof(fmt_s) >= sizeof(fmt_p));			\
+	strcpy_P (str_s, PSTR(str));					\
+	strcpy_P (fmt_s, fmt_p);					\
+									\
+	for (FILL = 0; FILL < 4; FILL++) {				\
+	    memset (&v, FILL, sizeof(v));				\
+	    vp = (FILL & 1) ? sscanf_P : sscanf;			\
+	    i = vp (str_s, (FILL & 1) ? fmt_p : fmt_s, ##__VA_ARGS__);	\
+	    Check (__LINE__, expval, i);				\
+    	    ASSERT (ass_expr);						\
+	}								\
+    } while (0)
+
+#define	PVEC(args...)	({ static int __x[] PROGMEM = {args}; __x; })
+
+int main ()
+{
+    /* Simplest.	*/
+    CHECK (1, (v.i[0] == 0), "0", "%i", v.i);
+    CHECK (1, (v.i[0] == 0), "+0", "%i", v.i);
+    CHECK (1, (v.i[0] == 0), "-0", "%i", v.i);
+    CHECK (1, (v.i[0] == 1), "1", "%i", v.i);
+
+    /* Decimal.	*/
+    CHECK (
+	5,
+	!memcmp_P (v.i, PVEC(1234, 5678, -90, 0, 1234), 5 * sizeof(int)),
+	"1234 5678 -90 0A 1234f",
+	"%i %i %i %i%*s %i",
+	v.i, v.i + 1, v.i + 2, v.i + 3, v.i + 4);
+
+    /* Octal.	*/
+    CHECK (
+	4,
+	!memcmp_P (v.i, PVEC(01234, 06700, 0, 01234), 4 * sizeof(int)),
+	"01234 06700 08 012349",
+	"%i %i %i%*s %i",
+	v.i, v.i + 1, v.i + 2, v.i + 3);
+
+    /* Hexidecimal.	*/
+    CHECK (
+	5,
+	!memcmp_P (v.i, PVEC(0x1234,0x5678,0x9ABC,0xDEF0,0), 5 * sizeof(int)),
+	"0x1234 0X5678 0x9ABc 0XDEF0 0x",
+	"%i %i %i %i %i",
+	v.i, v.i + 1, v.i + 2, v.i + 3, v.i + 4);
+
+    return 0;
+}
diff --git a/tests/simulate/scanf/sscanf-l.c b/tests/simulate/scanf/sscanf-l.c
new file mode 100644
index 0000000..bee0cf3
--- /dev/null
+++ b/tests/simulate/scanf/sscanf-l.c
@@ -0,0 +1,162 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of scanf(): 'l' type modifier.
+   $Id$	*/
+
+#include <stdio.h>
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+#ifdef	__AVR__
+# define ASSERT(expr)			\
+    do {				\
+	if (!(expr)) exit(__LINE__);	\
+    } while (0)
+# define EXIT(v)	exit (v)
+# if defined(__AVR_ATmega128__)
+  /* ATmega128 has enough RAM for sprintf(), print to 0x2000 in XRAM. */
+#  define PRINTF(f...)	sprintf((char *)0x2000, f)
+# else
+  /* small AVR */
+#  define PRINTF(f...)
+# endif
+#else
+# include <assert.h>
+# define ASSERT(expr)	assert (expr)
+# define EXIT(v)	exit ((v) < 256 ? (v) : 255)
+# define PRINTF(f...)	printf (f)
+# define sscanf_P	sscanf
+# define memcmp_P	memcmp
+#endif
+
+/* Next variables are useful to debug the AVR.	*/
+int vrslt = 1;
+struct {
+    long i[10];
+} v = { {1} };
+
+void Check (int line, int expval, int rslt)
+{
+    vrslt = rslt;
+    if (rslt != expval) {
+	PRINTF ("\nLine %d:  expect= %d, rslt= %d\n", line, expval, rslt);
+	EXIT (line);
+    }
+}
+
+/* The sscanf() is called 4 times: SRAM and FLASH format, 2 values
+   to fill before run.	*/
+#define CHECK(expval, ass_expr, str, fmt, ...)				\
+    do {								\
+	PROGMEM static char fmt_p[] = fmt;				\
+	char str_s[220];						\
+	char fmt_s[40];							\
+	char FILL;							\
+	int i;								\
+	int (* volatile vp)(const char *, const char *, ...);		\
+									\
+	ASSERT (sizeof(str_s) >= sizeof(str));				\
+	ASSERT (sizeof(fmt_s) >= sizeof(fmt_p));			\
+	strcpy_P (str_s, PSTR(str));					\
+	strcpy_P (fmt_s, fmt_p);					\
+									\
+	for (FILL = 0; FILL < 4; FILL++) {				\
+	    memset (&v, FILL, sizeof(v));				\
+	    vp = (FILL & 1) ? sscanf_P : sscanf;			\
+	    i = vp (str_s, (FILL & 1) ? fmt_p : fmt_s, ##__VA_ARGS__);	\
+	    Check (__LINE__, expval, i);				\
+    	    ASSERT (ass_expr);						\
+	}								\
+    } while (0)
+
+int main ()
+{
+    long n;
+
+    /* Empty input.	*/
+    CHECK (-1, (*(char *)v.i == FILL), "", "%ld", v.i);
+    CHECK (-1, (*(char *)v.i == FILL), "", " %ld", v.i);
+    CHECK (-1, (*(char *)v.i == FILL), " ", " %ld", v.i);
+    CHECK (-1, (*(char *)v.i == FILL), " ", "  %ld", v.i);
+    CHECK (-1, (*(char *)v.i == FILL), "\t\n\v\f\r", " %ld", v.i);
+
+    /* Normal conversion.	*/
+    CHECK (1, (v.i[0] == 1234567890) && (*(char *)(v.i + 1) == FILL),
+	   "1234567890", "%ld", v.i);
+    CHECK (1, ((unsigned long)(v.i[0]) == 4111222333)
+	      && (*(char *)(v.i + 1) == FILL),
+	   "4111222333", "%lu", v.i);
+    CHECK (1, (v.i[0] == 012345670123) && (*(char *)(v.i + 1) == FILL),
+	   "012345670123", "%li", v.i);
+    CHECK (1, ((unsigned long)(v.i[0]) == 021076543210)
+	      && (*(char *)(v.i + 1) == FILL),
+	   "21076543210", "%lo", v.i);
+    CHECK (1, (v.i[0] == 0x12345678) && (*(char *)(v.i + 1) == FILL),
+	   "12345678", "%lx", v.i);
+    CHECK (1, (v.i[0] == 0x09ABCDEF) && (*(char *)(v.i + 1) == FILL),
+	   "0x09ABCDEF", "%lX", v.i);
+    CHECK (1, (v.i[0] == 0x01234567) && (*(char *)(v.i + 1) == FILL),
+	   "1234567", "%lp", v.i);
+    n = ~0L;
+    CHECK (0, (n == 1) && (*(char *)(v.i) == FILL),
+	   " ", " %ln", &n);
+
+#if !defined(__AVR_AT90S8515__) /* this does not fit */
+    /* All possible conversions.	*/
+    CHECK (
+	8,
+	v.i[0] == 10 && v.i[1] == 20 && v.i[2] == 030 && v.i[3] == 040
+	&& v.i[4] == 0x50 && v.i[5] == 0x60 && v.i[6] == 0x70 && v.i[7] == 22
+	&& v.i[8] == 80,
+	"10 20 030 40 50 60 70 80",
+	"%ld %lu %li %lo %lx %lX %lp %ln %ld",
+	v.i + 0, v.i + 1, v.i + 2, v.i + 3,
+	v.i + 4, v.i + 5, v.i + 6, v.i + 7,
+	v.i + 8);
+#endif
+
+    /* Width field.	*/
+    CHECK (
+	1,
+	v.i[0] == 12 && *(unsigned char *)(v.i + 1) == FILL,
+	"123", "%2ld", v.i);
+    CHECK (
+	1,
+	v.i[0] == 98 && *(unsigned char *)(v.i + 1) == FILL,
+	"00000000009876", "%12ld", v.i);
+
+    /* Suppress a writing.	*/
+    CHECK (0, (*(unsigned char *)v.i == FILL), "123", "%*ld", v.i);
+    CHECK (2, (v.i[0] == 1) && (v.i[1] == 3) && (*(char *)(v.i + 2) == FILL),
+	   "1 2 3", "%ld%*ld%ld", v.i, v.i + 1);
+
+    return 0;
+}
diff --git a/tests/simulate/scanf/sscanf-o1.c b/tests/simulate/scanf/sscanf-o1.c
new file mode 100644
index 0000000..bfef7be
--- /dev/null
+++ b/tests/simulate/scanf/sscanf-o1.c
@@ -0,0 +1,158 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of scanf(): 'o' conversion directive.
+   $Id$	*/
+
+#include <stdio.h>
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+#ifdef	__AVR__
+# define ASSERT(expr)			\
+    do {				\
+	if (!(expr)) exit(__LINE__);	\
+    } while (0)
+# define EXIT(v)	exit (v)
+# if defined(__AVR_ATmega128__)
+  /* ATmega128 has enough RAM for sprintf(), print to 0x2000 in XRAM. */
+#  define PRINTF(f...)	sprintf((char *)0x2000, f)
+# else
+  /* small AVR */
+#  define PRINTF(f...)
+# endif
+#else
+# include <assert.h>
+# define ASSERT(expr)	assert (expr)
+# define EXIT(v)	exit ((v) < 256 ? (v) : 255)
+# define PRINTF(f...)	printf (f)
+# define sscanf_P	sscanf
+# define memcmp_P	memcmp
+#endif
+
+/* Next variables are useful to debug the AVR.	*/
+int vrslt = 1;
+struct {
+    unsigned int i[10];
+    char s[10];
+} v = { {1}, {1} };
+
+void Check (int line, int expval, int rslt)
+{
+    vrslt = rslt;
+    if (rslt != expval) {
+	PRINTF ("\nLine %d:  expect= %d, rslt= %d\n", line, expval, rslt);
+	EXIT (line);
+    }
+}
+
+/* The sscanf() is called 4 times: SRAM and FLASH format, 2 values
+   to fill before run.	*/
+#define CHECK(expval, ass_expr, str, fmt, ...)				\
+    do {								\
+	PROGMEM static char fmt_p[] = fmt;				\
+	char str_s[220];						\
+	char fmt_s[40];							\
+	char FILL;							\
+	int i;								\
+	int (* volatile vp)(const char *, const char *, ...);		\
+									\
+	ASSERT (sizeof(str_s) >= sizeof(str));				\
+	ASSERT (sizeof(fmt_s) >= sizeof(fmt_p));			\
+	strcpy_P (str_s, PSTR(str));					\
+	strcpy_P (fmt_s, fmt_p);					\
+									\
+	for (FILL = 0; FILL < 4; FILL++) {				\
+	    memset (&v, FILL, sizeof(v));				\
+	    vp = (FILL & 1) ? sscanf_P : sscanf;			\
+	    i = vp (str_s, (FILL & 1) ? fmt_p : fmt_s, ##__VA_ARGS__);	\
+	    Check (__LINE__, expval, i);				\
+    	    ASSERT (ass_expr);						\
+	}								\
+    } while (0)
+
+#define	PVEC(args...)	({ static int __x[] PROGMEM = {args}; __x; })
+
+int main ()
+{
+    /* Empty input.	*/
+    CHECK (-1, (*(char *)v.i == FILL), "", "%o", v.i);
+    CHECK (-1, (*(char *)v.i == FILL), "", " %o", v.i);
+    CHECK (-1, (*(char *)v.i == FILL), " ", " %o", v.i);
+    CHECK (-1, (*(char *)v.i == FILL), " ", "  %o", v.i);
+    CHECK (-1, (*(char *)v.i == FILL), "\t\n\v\f\r", " %o", v.i);
+
+    /* Normal conversion.	*/
+    CHECK (1, (v.i[0] == 0), "0", "%o", v.i);
+    CHECK (
+	10,
+	!memcmp_P (
+	    v.i,
+	    PVEC (0, 0, 1, 0123456, 077777, 0100000, 0177777, -1,
+		  012345, -07654),
+	    10 * sizeof(int)),
+	"+0 -0 1 123456 77777 100000 177777 -1 +12345 -7654",
+	"%o %o %o %o %o %o %o %o %o %o",
+	v.i + 0, v.i + 1,
+	v.i + 2, v.i + 3,
+	v.i + 4, v.i + 5,
+	v.i + 6, v.i + 7,
+	v.i + 8, v.i + 9);
+
+    /* Leading spaces.	*/
+    CHECK (1, (v.i[0] == 012), " 12", "%o", v.i);
+    CHECK (1, (v.i[0] == 0123), "\t\n\v\f\r123", "%o", v.i);
+
+    /* Leading '0'.	*/
+    CHECK (1, (v.i[0] == 04567), "04567", "%o", v.i);
+    CHECK (1, (v.i[0] == 07654), "00000000007654", "%o", v.i);
+
+    /* End of number.	*/
+    CHECK (2, v.i[0] == 0 && v.s[0] == 'x', "0x1", "%o%c", v.i, v.s);
+    CHECK (
+	14,
+	!memcmp_P (v.i, PVEC (1,2,3,4,5,6,7), 7 * sizeof(int))
+	&& !memcmp_P (v.s, PSTR(" \n.89\001\377"), 7),
+	"1 2\n3.48596\0017\3776",
+	"%o%c%o%c%o%c%o%c%o%c%o%c%o%c",
+	v.i + 0, v.s + 0,
+	v.i + 1, v.s + 1,
+	v.i + 2, v.s + 2,
+	v.i + 3, v.s + 3,
+	v.i + 4, v.s + 4,
+	v.i + 5, v.s + 5,
+	v.i + 6, v.s + 6);
+    CHECK (
+	3,
+	!memcmp_P (v.i, PVEC (1, -2, 3), 3 * sizeof(int)),
+	"1-2+3", "%o%o%o", v.i, v.i + 1, v.i + 2);
+
+    return 0;
+}
diff --git a/tests/simulate/scanf/sscanf-o2.c b/tests/simulate/scanf/sscanf-o2.c
new file mode 100644
index 0000000..9292696
--- /dev/null
+++ b/tests/simulate/scanf/sscanf-o2.c
@@ -0,0 +1,139 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of scanf(): 'o' conversion directive.
+   $Id$	*/
+
+#include <stdio.h>
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+#ifdef	__AVR__
+# define ASSERT(expr)			\
+    do {				\
+	if (!(expr)) exit(__LINE__);	\
+    } while (0)
+# define EXIT(v)	exit (v)
+# if defined(__AVR_ATmega128__)
+  /* ATmega128 has enough RAM for sprintf(), print to 0x2000 in XRAM. */
+#  define PRINTF(f...)	sprintf((char *)0x2000, f)
+# else
+  /* small AVR */
+#  define PRINTF(f...)
+# endif
+#else
+# include <assert.h>
+# define ASSERT(expr)	assert (expr)
+# define EXIT(v)	exit ((v) < 256 ? (v) : 255)
+# define PRINTF(f...)	printf (f)
+# define sscanf_P	sscanf
+# define memcmp_P	memcmp
+#endif
+
+/* Next variables are useful to debug the AVR.	*/
+int vrslt = 1;
+struct {
+    int i[4];
+} v = { {1} };
+
+void Check (int line, int expval, int rslt)
+{
+    vrslt = rslt;
+    if (rslt != expval) {
+	PRINTF ("\nLine %d:  expect= %d, rslt= %d\n", line, expval, rslt);
+	EXIT (line);
+    }
+}
+
+/* The sscanf() is called 4 times: SRAM and FLASH format, 2 values
+   to fill before run.	*/
+#define CHECK(expval, ass_expr, str, fmt, ...)				\
+    do {								\
+	PROGMEM static char fmt_p[] = fmt;				\
+	char str_s[220];						\
+	char fmt_s[40];							\
+	char FILL;							\
+	int i;								\
+	int (* volatile vp)(const char *, const char *, ...);		\
+									\
+	ASSERT (sizeof(str_s) >= sizeof(str));				\
+	ASSERT (sizeof(fmt_s) >= sizeof(fmt_p));			\
+	strcpy_P (str_s, PSTR(str));					\
+	strcpy_P (fmt_s, fmt_p);					\
+									\
+	for (FILL = 0; FILL < 4; FILL++) {				\
+	    memset (&v, FILL, sizeof(v));				\
+	    vp = (FILL & 1) ? sscanf_P : sscanf;			\
+	    i = vp (str_s, (FILL & 1) ? fmt_p : fmt_s, ##__VA_ARGS__);	\
+	    Check (__LINE__, expval, i);				\
+    	    ASSERT (ass_expr);						\
+	}								\
+    } while (0)
+
+int main ()
+{
+    /* Non-octal input.	*/
+    CHECK (1, (v.i[0] == 1), "18", "%o", v.i);
+    CHECK (1, (v.i[0] == 012), "129", "%o", v.i);
+    CHECK (0, (*(char *)v.i == FILL), "9", "%o", v.i);
+    CHECK (1, (v.i[0] == 0), "0x10", "%o", v.i);
+    CHECK (1, (v.i[0] == 010), "10e2", "%o", v.i);
+
+    /* Suppress a writing.	*/
+    CHECK (0, (*(char *)v.i == FILL), "123", "%*o", v.i);
+    CHECK (2, (v.i[0] == 1) && (v.i[1] == 3),
+	   "1 2 3", "%o%*o%o", v.i, v.i + 1);
+
+    /* Width field.	*/
+    CHECK (1, (v.i[0] == 7), "7", "%1o", v.i);
+    CHECK (1, (v.i[0] == 7), "76", "%1o", v.i);
+    CHECK (1, (v.i[0] == 0), "01", "%1o", v.i);
+    CHECK (1, (v.i[0] == 076), "7654", "%2o", v.i);
+    CHECK (2, (v.i[0] == 054) && (v.i[1] == 076),
+	   "7654", "%2o%2o", v.i + 1, v.i);
+    CHECK (1, (v.i[0] == 01234), "000000000012345", "%14o", v.i);
+
+    /* Width field and spaces.	*/
+    CHECK (1, (v.i[0] == 012), " 12345", "%2o", v.i);
+    CHECK (1, (v.i[0] == 012), " \t\n\v\f\r12345", "%2o", v.i);
+
+    /* Width field and a sign.	*/
+    CHECK (1, (v.i[0] == 012), "+12345", "%3o", v.i);
+    CHECK (1, (v.i[0] == -012), "-12345", "%3o", v.i);
+
+    /* Width, space and sign.	*/
+    CHECK (1, (v.i[0] == -012), "  -12345", "%3o", v.i);
+
+    /* Suppress and width.	*/
+    CHECK (0, (*(char *)v.i == FILL), "7", "%*1o", v.i);
+    CHECK (0, (*(char *)v.i == FILL), "7654", "%*2o", v.i);
+
+    return 0;
+}
diff --git a/tests/simulate/scanf/sscanf-s1.c b/tests/simulate/scanf/sscanf-s1.c
new file mode 100644
index 0000000..e493504
--- /dev/null
+++ b/tests/simulate/scanf/sscanf-s1.c
@@ -0,0 +1,144 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of scanf(): 's' conversion directive.
+   $Id$	*/
+
+#include <stdio.h>
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+#ifdef	__AVR__
+# define ASSERT(expr)			\
+    do {				\
+	if (!(expr)) exit(__LINE__);	\
+    } while (0)
+# define EXIT(v)	exit (v)
+# if defined(__AVR_ATmega128__)
+  /* ATmega128 has enough RAM for sprintf(), print to 0x2000 in XRAM. */
+#  define PRINTF(f...)	sprintf((char *)0x2000, f)
+# else
+  /* small AVR */
+#  define PRINTF(f...)
+# endif
+#else
+# include <assert.h>
+# define ASSERT(expr)	assert (expr)
+# define EXIT(v)	exit ((v) < 256 ? (v) : 255)
+# define PRINTF(f...)	printf (f)
+# define sscanf_P	sscanf
+# define memcmp_P	memcmp
+#endif
+
+/* Next variables are useful to debug the AVR.	*/
+int vrslt = 1;
+struct {
+    char c[12];
+} v = { {1} };
+
+void Check (int line, int expval, int rslt)
+{
+    vrslt = rslt;
+    if (rslt != expval) {
+	PRINTF ("\nLine %d:  expect= %d, rslt= %d\n", line, expval, rslt);
+	EXIT (line);
+    }
+}
+
+/* The sscanf() is called 4 times: SRAM and FLASH format, 2 values
+   to fill before run.	*/
+#define CHECK(expval, ass_expr, str, fmt, ...)				\
+    do {								\
+	PROGMEM static char fmt_p[] = fmt;				\
+	char str_s[220];						\
+	char fmt_s[40];							\
+	char FILL;							\
+	int i;								\
+	int (* volatile vp)(const char *, const char *, ...);		\
+									\
+	ASSERT (sizeof(str_s) >= sizeof(str));				\
+	ASSERT (sizeof(fmt_s) >= sizeof(fmt_p));			\
+	strcpy_P (str_s, PSTR(str));					\
+	strcpy_P (fmt_s, fmt_p);					\
+									\
+	for (FILL = 0; FILL < 4; FILL++) {				\
+	    memset (&v, FILL, sizeof(v));				\
+	    vp = (FILL & 1) ? sscanf_P : sscanf;			\
+	    i = vp (str_s, (FILL & 1) ? fmt_p : fmt_s, ##__VA_ARGS__);	\
+	    Check (__LINE__, expval, i);				\
+    	    ASSERT (ass_expr);						\
+	}								\
+    } while (0)
+
+int main ()
+{
+    /* Empty input.	*/
+    CHECK (-1, 1, "", "%s", v.c);
+    CHECK (-1, 1, " ", " %s", v.c);
+    CHECK (-1, 1, "\t\n\v\f\r", " %s", v.c);
+    
+    /* Normal conversion.	*/
+    CHECK (1, !strcmp_P(v.c, PSTR("A")), "A", "%s", v.c);
+    CHECK (1, !strcmp_P(v.c, PSTR("\001")), "\001", "%s", v.c);
+    CHECK (1, !strcmp_P(v.c, PSTR("\377")), "\377", "%s", v.c);
+    CHECK (1, !strcmp_P(v.c, PSTR("ABCD")), "ABCD", "%s", v.c);
+
+    /* Leading spaces.	*/
+//    CHECK (-1, (v.c[0] == FILL), " ", "%s", v.c);
+//    CHECK (-1, (v.c[0] == FILL), "\t\n\v\f\r", "%s", v.c);
+    CHECK (1, !strcmp_P(v.c, PSTR("A")), " A", "%s", v.c);
+    CHECK (1, !strcmp_P(v.c, PSTR("AB")), "\t\n\v\f\rAB", "%s", v.c);
+
+    /* End of string.	*/
+    CHECK (1, !strcmp_P(v.c, PSTR("A")), "A B", "%s", v.c);
+    CHECK (1, !strcmp_P(v.c, PSTR("A")), "A\tB", "%s", v.c);
+    CHECK (1, !strcmp_P(v.c, PSTR("A")), "A\nB", "%s", v.c);
+    CHECK (1, !strcmp_P(v.c, PSTR("A")), "A\vB", "%s", v.c);
+    CHECK (1, !strcmp_P(v.c, PSTR("A")), "A\fB", "%s", v.c);
+    CHECK (1, !strcmp_P(v.c, PSTR("A")), "A\rB", "%s", v.c);
+
+    /* A few conversions.	*/
+    CHECK (2, !memcmp_P(v.c, PSTR("AB\000CD\000"), 6),
+	   "AB CD", "%s%s", v.c, v.c + 3);
+
+    /* Ungetc.	*/
+    CHECK (
+	5,
+	!memcmp_P (v.c, PSTR("A\000 B\000\nC\000"), 8),
+	"A B\nC", "%s%c%s%c %s",
+	v.c, v.c + 2, v.c + 3, v.c + 5, v.c + 6);
+
+    /* Suppress a writing.	*/
+    CHECK (0, (v.c[0] == FILL), "A", "%*s", v.c);
+    CHECK (2, !memcmp_P(v.c, PSTR("A\000C\000"), 4),
+	   "A B C", "%s%*s%s", v.c, v.c + 2);
+
+    return 0;
+}
diff --git a/tests/simulate/scanf/sscanf-s2.c b/tests/simulate/scanf/sscanf-s2.c
new file mode 100644
index 0000000..7db0953
--- /dev/null
+++ b/tests/simulate/scanf/sscanf-s2.c
@@ -0,0 +1,155 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of scanf(): 's' conversion directive.
+   $Id$	*/
+
+#include <stdio.h>
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+#ifdef	__AVR__
+# define ASSERT(expr)			\
+    do {				\
+	if (!(expr)) exit(__LINE__);	\
+    } while (0)
+# define EXIT(v)	exit (v)
+# if defined(__AVR_ATmega128__)
+  /* ATmega128 has enough RAM for sprintf(), print to 0x2000 in XRAM. */
+#  define PRINTF(f...)	sprintf((char *)0x2000, f)
+# else
+  /* small AVR */
+#  define PRINTF(f...)
+# endif
+#else
+# include <assert.h>
+# define ASSERT(expr)	assert (expr)
+# define EXIT(v)	exit ((v) < 256 ? (v) : 255)
+# define PRINTF(f...)	printf (f)
+# define sscanf_P	sscanf
+# define memcmp_P	memcmp
+#endif
+
+/* Next variables are useful to debug the AVR.	*/
+int vrslt = 1;
+struct {
+    char c;
+    char s[8];
+} v[6] = { {1, {1}} };
+
+void Check (int line, int expval, int rslt)
+{
+    vrslt = rslt;
+    if (rslt != expval) {
+	PRINTF ("\nLine %d:  expect= %d, rslt= %d\n", line, expval, rslt);
+	EXIT (line);
+    }
+}
+
+/* The sscanf() is called 4 times: SRAM and FLASH format, 2 values
+   to fill before run.	*/
+#define CHECK(expval, ass_expr, str, fmt, ...)				\
+    do {								\
+	PROGMEM static char fmt_p[] = fmt;				\
+	char str_s[220];						\
+	char fmt_s[40];							\
+	char FILL;							\
+	int i;								\
+	int (* volatile vp)(const char *, const char *, ...);		\
+									\
+	ASSERT (sizeof(str_s) >= sizeof(str));				\
+	ASSERT (sizeof(fmt_s) >= sizeof(fmt_p));			\
+	strcpy_P (str_s, PSTR(str));					\
+	strcpy_P (fmt_s, fmt_p);					\
+									\
+	for (FILL = 0; FILL < 4; FILL++) {				\
+	    memset (&v, FILL, sizeof(v));				\
+	    vp = (FILL & 1) ? sscanf_P : sscanf;			\
+	    i = vp (str_s, (FILL & 1) ? fmt_p : fmt_s, ##__VA_ARGS__);	\
+	    Check (__LINE__, expval, i);				\
+    	    ASSERT (ass_expr);						\
+	}								\
+    } while (0)
+
+int main ()
+{
+    /* Width field.	*/
+    CHECK (1, !strcmp_P(v[0].s, PSTR("A")), "A", "%1s", v[0].s);
+    CHECK (1, !strcmp_P(v[0].s, PSTR("A")), "ABCD", "%1s", v[0].s);
+    CHECK (1, !strcmp_P(v[0].s, PSTR("AB")), "ABCD", "%2s", v[0].s);
+    CHECK (2, !memcmp_P(v[0].s, PSTR("CD\000AB\000"), 6),
+	   "ABCD", "%2s%2s", v[0].s + 3, v[0].s);
+    CHECK (1, !strcmp_P(v[0].s, PSTR("The_quick_b")),
+	   "The_quick_brown_fox", "%11s", v[0].s);
+
+    /* Suppress and width.	*/
+    CHECK (0, (v[0].s[0] == FILL), "A", "%*1s", v[0].s);
+    CHECK (0, (v[0].s[0] == FILL), "AA", "%*2s", v[0].s);
+
+    /* Split long string.	*/
+    CHECK (
+	6,
+	!strcmp_P (v[0].s, PSTR("ABCDE"))
+	&& !strcmp_P (v[1].s, PSTR("FGHIJ"))
+	&& !strcmp_P (v[2].s, PSTR("KLMNO"))
+	&& !strcmp_P (v[3].s, PSTR("PQRST"))
+	&& !strcmp_P (v[4].s, PSTR("UVWXY"))
+	&& !strcmp_P (v[5].s, PSTR("Z")),
+	"ABCDEFGHIJKLMNOPQRSTUVWXYZ",
+	"%5s%5s %5s  %5s\t%5s\n%5s",
+	v[0].s, v[1].s, v[2].s, v[3].s, v[4].s, v[5].s);
+
+    /* Zero width.	*/
+#ifdef	__AVR__
+    CHECK (0, (v[0].s[0] == FILL), "A", "%0s", v[0].s);
+#else
+    CHECK (1, !strcmp_P(v[0].s, PSTR("A")), "A", "%0s", v[0].s);  /* ??? */
+#endif
+
+    /* Left width digit is 0.	*/
+    CHECK (
+	2,
+	!strcmp_P(v[0].s, PSTR("A")) && !strcmp_P(v[1].s, PSTR("BC")),
+	"ABCD",
+	"%01s %02s", v[0].s, v[1].s);
+
+    /* Invalid symbol after '%'.	*/
+    CHECK (0, (v[0].s[0] == FILL), "A", "% s", v[0].s);
+    CHECK (0, (v[0].s[0] == FILL), "A", "%-s", v[0].s);
+    CHECK (0, (v[0].s[0] == FILL), "A", "%+s", v[0].s);
+    CHECK (0, (v[0].s[0] == FILL), "A", "%.s", v[0].s);
+    CHECK (0, (v[0].s[0] == FILL), "A", "%#s", v[0].s);
+
+    /* The length modifier.	*/
+    CHECK (1, !strcmp_P(v[0].s, PSTR("A")), "A", "%hs", v[0].s);
+    CHECK (1, !strcmp_P(v[0].s, PSTR("A")), "A", "%ls", v[0].s);
+
+    return 0;
+}
diff --git a/tests/simulate/scanf/sscanf-x1.c b/tests/simulate/scanf/sscanf-x1.c
new file mode 100644
index 0000000..752f016
--- /dev/null
+++ b/tests/simulate/scanf/sscanf-x1.c
@@ -0,0 +1,180 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of scanf(): 'x' conversion directive.
+   $Id$	*/
+
+#include <stdio.h>
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+#ifdef	__AVR__
+# define ASSERT(expr)			\
+    do {				\
+	if (!(expr)) exit(__LINE__);	\
+    } while (0)
+# define EXIT(v)	exit (v)
+# if defined(__AVR_ATmega128__)
+  /* ATmega128 has enough RAM for sprintf(), print to 0x2000 in XRAM. */
+#  define PRINTF(f...)	sprintf((char *)0x2000, f)
+# else
+  /* small AVR */
+#  define PRINTF(f...)
+# endif
+#else
+# include <assert.h>
+# define ASSERT(expr)	assert (expr)
+# define EXIT(v)	exit ((v) < 256 ? (v) : 255)
+# define PRINTF(f...)	printf (f)
+# define sscanf_P	sscanf
+# define memcmp_P	memcmp
+#endif
+
+/* Next variables are useful to debug the AVR.	*/
+int vrslt = 1;
+struct {
+    unsigned int i[10];
+    char s[10];
+} v = { {1}, {1} };
+
+void Check (int line, int expval, int rslt)
+{
+    vrslt = rslt;
+    if (rslt != expval) {
+	PRINTF ("\nLine %d:  expect= %d, rslt= %d\n", line, expval, rslt);
+	EXIT (line);
+    }
+}
+
+/* The sscanf() is called 4 times: SRAM and FLASH format, 2 values
+   to fill before run.	*/
+#define CHECK(expval, ass_expr, str, fmt, ...)				\
+    do {								\
+	PROGMEM static char fmt_p[] = fmt;				\
+	char str_s[220];						\
+	char fmt_s[40];							\
+	char FILL;							\
+	int i;								\
+	int (* volatile vp)(const char *, const char *, ...);		\
+									\
+	ASSERT (sizeof(str_s) >= sizeof(str));				\
+	ASSERT (sizeof(fmt_s) >= sizeof(fmt_p));			\
+	strcpy_P (str_s, PSTR(str));					\
+	strcpy_P (fmt_s, fmt_p);					\
+									\
+	for (FILL = 0; FILL < 4; FILL++) {				\
+	    memset (&v, FILL, sizeof(v));				\
+	    vp = (FILL & 1) ? sscanf_P : sscanf;			\
+	    i = vp (str_s, (FILL & 1) ? fmt_p : fmt_s, ##__VA_ARGS__);	\
+	    Check (__LINE__, expval, i);				\
+    	    ASSERT (ass_expr);						\
+	}								\
+    } while (0)
+
+#define	PVEC(args...)	({ static int __x[] PROGMEM = {args}; __x; })
+
+int main ()
+{
+    /* Empty input.	*/
+    CHECK (-1, (*(char *)v.i == FILL), "", "%x", v.i);
+    CHECK (-1, (*(char *)v.i == FILL), "", " %x", v.i);
+    CHECK (-1, (*(char *)v.i == FILL), " ", " %x", v.i);
+    CHECK (-1, (*(char *)v.i == FILL), " ", "  %x", v.i);
+    CHECK (-1, (*(char *)v.i == FILL), "\t\n\v\f\r", " %x", v.i);
+
+    /* Normal conversion.	*/
+    CHECK (1, (v.i[0] == 0), "0", "%x", v.i);
+#if 0
+    CHECK (1, (v.i[0] == 0), "+0", "%x", v.i);
+    CHECK (1, (v.i[0] == 0), "-0", "%x", v.i);
+    CHECK (1, (v.i[0] == 1), "1", "%x", v.i);
+    CHECK (1, (v.i[0] == 0x1234), "1234", "%x", v.i);
+    CHECK (1, (v.i[0] == 0x5678), "5678", "%x", v.i);
+    CHECK (1, (v.i[0] == 0x9ABC), "9ABC", "%x", v.i);
+    CHECK (1, (v.i[0] == 0xDEF0), "DEF0", "%x", v.i);
+    CHECK (1, (v.i[0] == 0xFFFF), "FFFF", "%x", v.i);
+    CHECK (1, (v.i[0] == (unsigned)(-1)), "-1", "%x", v.i);
+    CHECK (1, (v.i[0] == 1), "-FFFFFFFF", "%x", v.i);
+#else
+    CHECK (
+	10,
+	!memcmp_P (
+	    v.i,
+	    PVEC (0, 0, 1, 0x1234, 0x5678, 0x9ABC, 0xDEF0, 0xFFFF, -1, 1),
+	    10 * sizeof(int)),
+	"+0 -0 1 1234 5678 9ABC DEF0 FFFF -1 -FFFFFFFF",
+	"%x %x %x %x %x %x %x %x %x %x",
+	v.i + 0, v.i + 1,
+	v.i + 2, v.i + 3,
+	v.i + 4, v.i + 5,
+	v.i + 6, v.i + 7,
+	v.i + 8, v.i + 9);
+#endif
+
+    /* Low/upper characters.	*/
+    CHECK (
+	8,
+	!memcmp_P (
+	    v.i,
+	    PVEC(0xABCD, 0xEF, 0xABCD, 0xEF, 0xABCD, 0xEF, 0xABCD, 0xEF),
+	    8 * sizeof(int)),
+	"abcd ef abcd ef ABCD EF AbCd eF",
+	"%x %x %X %X %X %X %x %X",
+	v.i + 0, v.i + 1,
+	v.i + 2, v.i + 3,
+	v.i + 4, v.i + 5,
+	v.i + 6, v.i + 7);
+
+    /* '%p' conversion.	*/
+    CHECK (
+	3,
+	!memcmp_P (v.i, PVEC(0xABCD, -0x12EF, 0x10), 3 * sizeof(int)),
+	"ABCD -12EF 0x10",
+	"%p%p%p", v.i, v.i + 1, v.i + 2);
+
+    /* Leading spaces.	*/
+    CHECK (1, (v.i[0] == 0x12), " 12", "%x", v.i);
+    CHECK (1, (v.i[0] == 0x123), "\t\n\v\f\r123", "%x", v.i);
+
+    /* Leading '0'.	*/
+    CHECK (1, (v.i[0] == 04567), "04567", "%o", v.i);
+    CHECK (1, (v.i[0] == 07654), "00000000007654", "%o", v.i);
+
+    /* Hex prefix.	*/
+    CHECK (
+	6, !memcmp_P (v.i, PVEC(1,2,3,4,0xA987,-0x100), 6 * sizeof(int)),
+	"0x1 0X2 0x3 0X4 0xA987 -0x100",
+	"%x%x%X%X%x%x",
+	v.i + 0, v.i + 1,
+	v.i + 2, v.i + 3,
+	v.i + 4, v.i + 5);
+
+    return 0;
+}
diff --git a/tests/simulate/scanf/sscanf-x2.c b/tests/simulate/scanf/sscanf-x2.c
new file mode 100644
index 0000000..03b14f1
--- /dev/null
+++ b/tests/simulate/scanf/sscanf-x2.c
@@ -0,0 +1,145 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of scanf(): 'x' conversion directive.
+   $Id$	*/
+
+#include <stdio.h>
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+#ifdef	__AVR__
+# define ASSERT(expr)			\
+    do {				\
+	if (!(expr)) exit(__LINE__);	\
+    } while (0)
+# define EXIT(v)	exit (v)
+# if defined(__AVR_ATmega128__)
+  /* ATmega128 has enough RAM for sprintf(), print to 0x2000 in XRAM. */
+#  define PRINTF(f...)	sprintf((char *)0x2000, f)
+# else
+  /* small AVR */
+#  define PRINTF(f...)
+# endif
+#else
+# include <assert.h>
+# define ASSERT(expr)	assert (expr)
+# define EXIT(v)	exit ((v) < 256 ? (v) : 255)
+# define PRINTF(f...)	printf (f)
+# define sscanf_P	sscanf
+# define memcmp_P	memcmp
+#endif
+
+/* Next variables are useful to debug the AVR.	*/
+int vrslt = 1;
+struct {
+    unsigned int i[8];
+    char s[8];
+} v = { {1}, {1} };
+
+void Check (int line, int expval, int rslt)
+{
+    vrslt = rslt;
+    if (rslt != expval) {
+	PRINTF ("\nLine %d:  expect= %d, rslt= %d\n", line, expval, rslt);
+	EXIT (line);
+    }
+}
+
+/* The sscanf() is called 4 times: SRAM and FLASH format, 2 values
+   to fill before run.	*/
+#define CHECK(expval, ass_expr, str, fmt, ...)				\
+    do {								\
+	PROGMEM static char fmt_p[] = fmt;				\
+	char str_s[220];						\
+	char fmt_s[40];							\
+	char FILL;							\
+	int i;								\
+	int (* volatile vp)(const char *, const char *, ...);		\
+									\
+	ASSERT (sizeof(str_s) >= sizeof(str));				\
+	ASSERT (sizeof(fmt_s) >= sizeof(fmt_p));			\
+	strcpy_P (str_s, PSTR(str));					\
+	strcpy_P (fmt_s, fmt_p);					\
+									\
+	for (FILL = 0; FILL < 4; FILL++) {				\
+	    memset (&v, FILL, sizeof(v));				\
+	    vp = (FILL & 1) ? sscanf_P : sscanf;			\
+	    i = vp (str_s, (FILL & 1) ? fmt_p : fmt_s, ##__VA_ARGS__);	\
+	    Check (__LINE__, expval, i);				\
+    	    ASSERT (ass_expr);						\
+	}								\
+    } while (0)
+
+#define	PVEC(args...)	({ static int __x[] PROGMEM = {args}; __x; })
+
+int main ()
+{
+    /* End of number.	*/
+    CHECK (
+	3, !memcmp_P (v.i, PVEC(0x12, -0x34, 0x56), 3 * sizeof(int)),
+	"12-34+56",
+	"%x%x%x", v.i, v.i + 1, v.i + 2);
+    CHECK (
+	10,
+	!memcmp_P (v.i, PVEC(1,2,3,4,5), 5 * sizeof(int))
+	&& !memcmp_P (v.s, PSTR(" \n.\001\377"), 5),
+	"1 2\n3.4\0015\3776",
+	"%x%c%x%c%x%c%x%c%x%c",
+	v.i + 0, v.s + 0,
+	v.i + 1, v.s + 1,
+	v.i + 2, v.s + 2,
+	v.i + 3, v.s + 3,
+	v.i + 4, v.s + 4);
+    CHECK (
+	12,
+	!memcmp_P (v.i, PVEC(1,2,3,4,5,6), 6 * sizeof(int))
+	&& !memcmp_P (v.s, PSTR("/:@G`g"), 6),
+	"1/2:3@4G5`6g7",
+	"%x%c%x%c%x%c%x%c%x%c%x%c",
+	v.i + 0, v.s + 0,
+	v.i + 1, v.s + 1,
+	v.i + 2, v.s + 2,
+	v.i + 3, v.s + 3,
+	v.i + 4, v.s + 4,
+	v.i + 5, v.s + 5);
+
+    /* Non-hexdecimal input.	*/
+    CHECK (1, (v.i[0] == 0x10), "010", "%x", v.i);
+    CHECK (1, (v.i[0] == 0x10E2), "10e2", "%x", v.i);
+    CHECK (1, (v.i[0] == 0x10E), "10e+2", "%x", v.i);
+
+    /* Suppress a writing.	*/
+    CHECK (0, (*(char *)v.i == FILL), "123", "%*x", v.i);
+    CHECK (2, (v.i[0] == 1) && (v.i[1] == 3),
+	   "1 2 3", "%x%*x%x", v.i, v.i + 1);
+
+    return 0;
+}
diff --git a/tests/simulate/scanf/sscanf-x3.c b/tests/simulate/scanf/sscanf-x3.c
new file mode 100644
index 0000000..e41d5bf
--- /dev/null
+++ b/tests/simulate/scanf/sscanf-x3.c
@@ -0,0 +1,131 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of scanf(): 'x' conversion directive.
+   $Id$	*/
+
+#include <stdio.h>
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+#ifdef	__AVR__
+# define ASSERT(expr)			\
+    do {				\
+	if (!(expr)) exit(__LINE__);	\
+    } while (0)
+# define EXIT(v)	exit (v)
+# if defined(__AVR_ATmega128__)
+  /* ATmega128 has enough RAM for sprintf(), print to 0x2000 in XRAM. */
+#  define PRINTF(f...)	sprintf((char *)0x2000, f)
+# else
+  /* small AVR */
+#  define PRINTF(f...)
+# endif
+#else
+# include <assert.h>
+# define ASSERT(expr)	assert (expr)
+# define EXIT(v)	exit ((v) < 256 ? (v) : 255)
+# define PRINTF(f...)	printf (f)
+# define sscanf_P	sscanf
+# define memcmp_P	memcmp
+#endif
+
+/* Next variables are useful to debug the AVR.	*/
+int vrslt = 1;
+struct {
+    unsigned int i[8];
+    char s[8];
+} v = { {1}, {1} };
+
+void Check (int line, int expval, int rslt)
+{
+    vrslt = rslt;
+    if (rslt != expval) {
+	PRINTF ("\nLine %d:  expect= %d, rslt= %d\n", line, expval, rslt);
+	EXIT (line);
+    }
+}
+
+/* The sscanf() is called 4 times: SRAM and FLASH format, 2 values
+   to fill before run.	*/
+#define CHECK(expval, ass_expr, str, fmt, ...)				\
+    do {								\
+	PROGMEM static char fmt_p[] = fmt;				\
+	char str_s[220];						\
+	char fmt_s[40];							\
+	char FILL;							\
+	int i;								\
+	int (* volatile vp)(const char *, const char *, ...);		\
+									\
+	ASSERT (sizeof(str_s) >= sizeof(str));				\
+	ASSERT (sizeof(fmt_s) >= sizeof(fmt_p));			\
+	strcpy_P (str_s, PSTR(str));					\
+	strcpy_P (fmt_s, fmt_p);					\
+									\
+	for (FILL = 0; FILL < 4; FILL++) {				\
+	    memset (&v, FILL, sizeof(v));				\
+	    vp = (FILL & 1) ? sscanf_P : sscanf;			\
+	    i = vp (str_s, (FILL & 1) ? fmt_p : fmt_s, ##__VA_ARGS__);	\
+	    Check (__LINE__, expval, i);				\
+    	    ASSERT (ass_expr);						\
+	}								\
+    } while (0)
+
+#define	PVEC(args...)	({ static int __x[] PROGMEM = {args}; __x; })
+
+int main ()
+{
+    /* Width field.	*/
+    CHECK (1, (v.i[0] == 9), "9", "%1x", v.i);
+    CHECK (1, (v.i[0] == 9), "98", "%1x", v.i);
+    CHECK (1, (v.i[0] == 0xFE), "FEDC", "%2x", v.i);
+    CHECK (2, (v.i[0] == 0x34) && (v.i[1] == 0x12),
+	   "1234", "%2x%2x", v.i + 1, v.i);
+    CHECK (1, (v.i[0] == 0x1234), "000000000012345", "%14x", v.i);
+    CHECK (1, (v.i[0] == 0x1234), "0x0000000012345", "%14x", v.i);
+    CHECK (1, (v.i[0] == 0), "01", "%1x", v.i);
+
+    /* Width field and spaces.	*/
+    CHECK (1, (v.i[0] == 0x12), " 12345", "%2x", v.i);
+    CHECK (1, (v.i[0] == 0x12), " \t\n\v\f\r12345", "%2x", v.i);
+
+    /* Width field and a sign.	*/
+    CHECK (1, (v.i[0] == 0x12), "+12345", "%3x", v.i);
+    CHECK (1, ((int)v.i[0] == -0x12), "-12345", "%3x", v.i);
+
+    /* Width, space and sign.	*/
+    CHECK (1, ((int)v.i[0] == -0x12), "  -12345", "%3x", v.i);
+
+    /* Suppress and width.	*/
+    CHECK (0, (*(char *)v.i == FILL), "9", "%*1x", v.i);
+    CHECK (0, (*(char *)v.i == FILL), "9876", "%*2x", v.i);
+
+    return 0;
+}
diff --git a/tests/simulate/scanf/sscanf_brk-1.c b/tests/simulate/scanf/sscanf_brk-1.c
new file mode 100644
index 0000000..47e4e60
--- /dev/null
+++ b/tests/simulate/scanf/sscanf_brk-1.c
@@ -0,0 +1,135 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of scanf(): '[' conversion directive.
+   $Id$	*/
+
+#include <stdio.h>
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+#ifdef	__AVR__
+# define ASSERT(expr)			\
+    do {				\
+	if (!(expr)) exit(__LINE__);	\
+    } while (0)
+# define EXIT(v)	exit (v)
+# if defined(__AVR_ATmega128__)
+  /* ATmega128 has enough RAM for sprintf(), print to 0x2000 in XRAM. */
+#  define PRINTF(f...)	sprintf((char *)0x2000, f)
+# else
+  /* small AVR */
+#  define PRINTF(f...)
+# endif
+#else
+# include <assert.h>
+# define ASSERT(expr)	assert (expr)
+# define EXIT(v)	exit ((v) < 256 ? (v) : 255)
+# define PRINTF(f...)	printf (f)
+# define sscanf_P	sscanf
+# define memcmp_P	memcmp
+#endif
+
+/* Next variables are useful to debug the AVR.	*/
+int vrslt = 1;
+struct {
+    char c[12];
+} v = { {1} };
+
+void Check (int line, int expval, int rslt)
+{
+    vrslt = rslt;
+    if (rslt != expval) {
+	PRINTF ("\nLine %d:  expect= %d, rslt= %d\n", line, expval, rslt);
+	EXIT (line);
+    }
+}
+
+/* The sscanf() is called 4 times: SRAM and FLASH format, 2 values
+   to fill before run.	*/
+#define CHECK(expval, ass_expr, str, fmt, ...)				\
+    do {								\
+	PROGMEM static char fmt_p[] = fmt;				\
+	char str_s[220];						\
+	char fmt_s[40];							\
+	char FILL;							\
+	int i;								\
+	int (* volatile vp)(const char *, const char *, ...);		\
+									\
+	ASSERT (sizeof(str_s) >= sizeof(str));				\
+	ASSERT (sizeof(fmt_s) >= sizeof(fmt_p));			\
+	strcpy_P (str_s, PSTR(str));					\
+	strcpy_P (fmt_s, fmt_p);					\
+									\
+	for (FILL = 0; FILL < 4; FILL++) {				\
+	    memset (&v, FILL, sizeof(v));				\
+	    vp = (FILL & 1) ? sscanf_P : sscanf;			\
+	    i = vp (str_s, (FILL & 1) ? fmt_p : fmt_s, ##__VA_ARGS__);	\
+	    Check (__LINE__, expval, i);				\
+    	    ASSERT (ass_expr);						\
+	}								\
+    } while (0)
+
+int main ()
+{
+    /* Empty input.	*/
+    CHECK (-1, 1, "", "%[a]", v.c);
+    CHECK (-1, 1, " ", " %[a]", v.c);
+    CHECK (-1, 1, "\t\n\v\f\r", " %[a]", v.c);
+    
+    /* Normal conversion.	*/
+    CHECK (1, !strcmp_P(v.c, PSTR("A")), "A", "%[A]", v.c);
+    CHECK (1, !strcmp_P(v.c, PSTR("[")), "[", "%[[]", v.c);
+    CHECK (1, !strcmp_P(v.c, PSTR("\001")), "\001", "%[\001]", v.c);
+    CHECK (1, !strcmp_P(v.c, PSTR("\377")), "\377", "%[\377]", v.c);
+    CHECK (1, !strcmp_P(v.c, PSTR("ABCD")), "ABCD", "%[ABCD]", v.c);
+
+    /* The special symbol as normal.	*/
+    CHECK (1, !strcmp_P(v.c, PSTR("]")), "]", "%[]]", v.c);
+    CHECK (1, !strcmp_P(v.c, PSTR("]]")), "]]}", "%[]]", v.c);
+    CHECK (1, !strcmp_P(v.c, PSTR("^")), "^", "%[ ^]", v.c);
+    CHECK (1, !strcmp_P(v.c, PSTR("-")), "-", "%[-]", v.c);
+    CHECK (1, !strcmp_P(v.c, PSTR("-a")), "-a", "%[a-]", v.c);
+    CHECK (1, !strcmp_P(v.c, PSTR("-^]")), "-^]", "%[]^-]", v.c);
+
+    /* End of string.	*/
+    CHECK (1, !strcmp_P(v.c, PSTR("A")), "A A", "%[A]", v.c);
+    CHECK (1, !strcmp_P(v.c, PSTR("A")), "AB", "%[A]", v.c);
+    CHECK (1, !strcmp_P(v.c, PSTR("A")), "Aa", "%[A]", v.c);
+
+    /* Leading spaces.	*/
+    CHECK (0, v.c[0] == FILL, " A", "%[A]", v.c);
+
+    /* Spaces in string.	*/
+    CHECK (1, !strcmp_P(v.c, PSTR(" A")), " A", "%[A ]", v.c);
+    CHECK (1, !strcmp_P(v.c, PSTR("Z A")), "Z A", "%[A Z]", v.c);
+
+    return 0;
+}
diff --git a/tests/simulate/scanf/sscanf_brk-2.c b/tests/simulate/scanf/sscanf_brk-2.c
new file mode 100644
index 0000000..2d7073a
--- /dev/null
+++ b/tests/simulate/scanf/sscanf_brk-2.c
@@ -0,0 +1,119 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of scanf(): '[' conversion directive.
+   $Id$	*/
+
+#include <stdio.h>
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+#ifdef	__AVR__
+# define ASSERT(expr)			\
+    do {				\
+	if (!(expr)) exit(__LINE__);	\
+    } while (0)
+# define EXIT(v)	exit (v)
+# if defined(__AVR_ATmega128__)
+  /* ATmega128 has enough RAM for sprintf(), print to 0x2000 in XRAM. */
+#  define PRINTF(f...)	sprintf((char *)0x2000, f)
+# else
+  /* small AVR */
+#  define PRINTF(f...)
+# endif
+#else
+# include <assert.h>
+# define ASSERT(expr)	assert (expr)
+# define EXIT(v)	exit ((v) < 256 ? (v) : 255)
+# define PRINTF(f...)	printf (f)
+# define sscanf_P	sscanf
+# define memcmp_P	memcmp
+#endif
+
+/* Next variables are useful to debug the AVR.	*/
+int vrslt = 1;
+struct {
+    char c[12];
+} v = { {1} };
+
+void Check (int line, int expval, int rslt)
+{
+    vrslt = rslt;
+    if (rslt != expval) {
+	PRINTF ("\nLine %d:  expect= %d, rslt= %d\n", line, expval, rslt);
+	EXIT (line);
+    }
+}
+
+/* The sscanf() is called 4 times: SRAM and FLASH format, 2 values
+   to fill before run.	*/
+#define CHECK(expval, ass_expr, str, fmt, ...)				\
+    do {								\
+	PROGMEM static char fmt_p[] = fmt;				\
+	char str_s[220];						\
+	char fmt_s[40];							\
+	char FILL;							\
+	int i;								\
+	int (* volatile vp)(const char *, const char *, ...);		\
+									\
+	ASSERT (sizeof(str_s) >= sizeof(str));				\
+	ASSERT (sizeof(fmt_s) >= sizeof(fmt_p));			\
+	strcpy_P (str_s, PSTR(str));					\
+	strcpy_P (fmt_s, fmt_p);					\
+									\
+	for (FILL = 0; FILL < 4; FILL++) {				\
+	    memset (&v, FILL, sizeof(v));				\
+	    vp = (FILL & 1) ? sscanf_P : sscanf;			\
+	    i = vp (str_s, (FILL & 1) ? fmt_p : fmt_s, ##__VA_ARGS__);	\
+	    Check (__LINE__, expval, i);				\
+    	    ASSERT (ass_expr);						\
+	}								\
+    } while (0)
+
+int main ()
+{
+    /* Exclude set.	*/
+    CHECK (1, !strcmp_P(v.c, PSTR("A")), "A", "%[^B]", v.c);
+    CHECK (1, !strcmp_P(v.c, PSTR("AC")), "AC", "%[^B]", v.c);
+    CHECK (1, !strcmp_P(v.c, PSTR("\002")), "\002", "%[^\001]", v.c);
+    CHECK (1, !strcmp_P(v.c, PSTR("\376")), "\376\377", "%[^\377]", v.c);
+    CHECK (1, !strcmp_P(v.c, PSTR("abcd")), "abcd", "%[^ABCD]", v.c);
+
+    /* The length modifier.	*/
+    CHECK (1, !strcmp_P(v.c, PSTR("A")), "A", "%h[A-Z]", v.c);
+    CHECK (1, !strcmp_P(v.c, PSTR("A")), "A", "%hh[A-Z]", v.c);
+#ifdef	__AVR__
+    CHECK (1, !strcmp_P(v.c, PSTR("AB")), "AB", "%l[A-Z]", v.c);
+#else
+//    CHECK (1, (v.c[0] == 'A' && v.c[1] == 0), "A", "%lc", v.c);
+#endif
+
+    return 0;
+}
diff --git a/tests/simulate/scanf/sscanf_brk-3.c b/tests/simulate/scanf/sscanf_brk-3.c
new file mode 100644
index 0000000..e262c04
--- /dev/null
+++ b/tests/simulate/scanf/sscanf_brk-3.c
@@ -0,0 +1,143 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of scanf(): '[' conversion directive.
+   $Id$	*/
+
+#include <stdio.h>
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+#ifdef	__AVR__
+# define ASSERT(expr)			\
+    do {				\
+	if (!(expr)) exit(__LINE__);	\
+    } while (0)
+# define EXIT(v)	exit (v)
+# if defined(__AVR_ATmega128__)
+  /* ATmega128 has enough RAM for sprintf(), print to 0x2000 in XRAM. */
+#  define PRINTF(f...)	sprintf((char *)0x2000, f)
+# else
+  /* small AVR */
+#  define PRINTF(f...)
+# endif
+#else
+# include <assert.h>
+# define ASSERT(expr)	assert (expr)
+# define EXIT(v)	exit ((v) < 256 ? (v) : 255)
+# define PRINTF(f...)	printf (f)
+# define sscanf_P	sscanf
+# define memcmp_P	memcmp
+#endif
+
+/* Next variables are useful to debug the AVR.	*/
+int vrslt = 1;
+struct {
+    char c[12];
+} v = { {1} };
+
+void Check (int line, int expval, int rslt)
+{
+    vrslt = rslt;
+    if (rslt != expval) {
+	PRINTF ("\nLine %d:  expect= %d, rslt= %d\n", line, expval, rslt);
+	EXIT (line);
+    }
+}
+
+/* The sscanf() is called 4 times: SRAM and FLASH format, 2 values
+   to fill before run.	*/
+#define CHECK(expval, ass_expr, str, fmt, ...)				\
+    do {								\
+	PROGMEM static char fmt_p[] = fmt;				\
+	char str_s[220];						\
+	char fmt_s[40];							\
+	char FILL;							\
+	int i;								\
+	int (* volatile vp)(const char *, const char *, ...);		\
+									\
+	ASSERT (sizeof(str_s) >= sizeof(str));				\
+	ASSERT (sizeof(fmt_s) >= sizeof(fmt_p));			\
+	strcpy_P (str_s, PSTR(str));					\
+	strcpy_P (fmt_s, fmt_p);					\
+									\
+	for (FILL = 0; FILL < 4; FILL++) {				\
+	    memset (&v, FILL, sizeof(v));				\
+	    vp = (FILL & 1) ? sscanf_P : sscanf;			\
+	    i = vp (str_s, (FILL & 1) ? fmt_p : fmt_s, ##__VA_ARGS__);	\
+	    Check (__LINE__, expval, i);				\
+    	    ASSERT (ass_expr);						\
+	}								\
+    } while (0)
+
+int main ()
+{
+#if 0
+    /* Exclude set.	*/
+    CHECK (1, !strcmp_P(v.c, PSTR("A")), "A", "%[^B]", v.c);
+    CHECK (1, !strcmp_P(v.c, PSTR("AC")), "AC", "%[^B]", v.c);
+    CHECK (1, !strcmp_P(v.c, PSTR("\002")), "\002", "%[^\001]", v.c);
+    CHECK (1, !strcmp_P(v.c, PSTR("\376")), "\376\377", "%[^\377]", v.c);
+    CHECK (1, !strcmp_P(v.c, PSTR("abcd")), "abcd", "%[^ABCD]", v.c);
+#endif
+
+    /* Range.	*/
+    CHECK (1, !strcmp_P(v.c, PSTR("A")), "ABCD", "%[A-A]", v.c);
+    CHECK (1, !strcmp_P(v.c, PSTR("AB")), "ABCD", "%[A-B]", v.c);
+    CHECK (1, !strcmp_P(v.c, PSTR("ABC")), "ABCD", "%[A-C]", v.c);
+    CHECK (1, !strcmp_P(v.c, PSTR("\001\177\200")),
+	   "\001\177\200\377", "%[\001-\376]", v.c);
+
+    /* Reverse order.	*/
+    CHECK (1, !strcmp_P(v.c, PSTR("AB")), "ABCD", "%[B-A]", v.c);
+#ifdef	__AVR__
+    CHECK (1, !strcmp_P(v.c, PSTR("ABC")), "ABCD", "%[C-A]", v.c);
+    CHECK (1, !strcmp_P(v.c, PSTR("\002\177\200\377")),
+	   "\002\177\200\377\001", "%[\377-\002]", v.c);
+#endif
+
+    /* Two ranges.	*/
+    CHECK (1, !strcmp_P(v.c, PSTR("ABCDEF")), "ABCDEFG", "%[A-CD-F]", v.c);
+    CHECK (1, !strcmp_P(v.c, PSTR("ABCEFG")), "ABCEFGD", "%[A-CE-G]", v.c);
+    CHECK (1, !strcmp_P(v.c, PSTR("ABCDE")), "ABCDEFG", "%[A-C-E]", v.c);
+
+    /* Exclude range.	*/
+    CHECK (1, !strcmp_P(v.c, PSTR("019")), "0198", "%[^2-8]", v.c);
+
+    /* Range + hyphen.	*/
+    CHECK (1, !strcmp_P(v.c, PSTR("-ABC")), "-ABCD", "%[A-C-]", v.c);
+    CHECK (1, !strcmp_P(v.c, PSTR(",+-")), ",+-.", "%[+--]", v.c);
+    
+    /* Strange usage of hyphen.	*/
+    CHECK (1, !strcmp_P(v.c, PSTR("-")), "-.", "%[--]", v.c);
+    CHECK (1, !strcmp_P(v.c, PSTR("-")), "-.", "%[---]", v.c);
+
+    return 0;
+}
diff --git a/tests/simulate/scanf/sscanf_brk-4.c b/tests/simulate/scanf/sscanf_brk-4.c
new file mode 100644
index 0000000..e5a8930
--- /dev/null
+++ b/tests/simulate/scanf/sscanf_brk-4.c
@@ -0,0 +1,143 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of scanf(): '[' conversion directive.
+   $Id$	*/
+
+#include <stdio.h>
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+#ifdef	__AVR__
+# define ASSERT(expr)			\
+    do {				\
+	if (!(expr)) exit(__LINE__);	\
+    } while (0)
+# define EXIT(v)	exit (v)
+# if defined(__AVR_ATmega128__)
+  /* ATmega128 has enough RAM for sprintf(), print to 0x2000 in XRAM. */
+#  define PRINTF(f...)	sprintf((char *)0x2000, f)
+# else
+  /* small AVR */
+#  define PRINTF(f...)
+# endif
+#else
+# include <assert.h>
+# define ASSERT(expr)	assert (expr)
+# define EXIT(v)	exit ((v) < 256 ? (v) : 255)
+# define PRINTF(f...)	printf (f)
+# define sscanf_P	sscanf
+# define memcmp_P	memcmp
+#endif
+
+/* Next variables are useful to debug the AVR.	*/
+int vrslt = 1;
+struct {
+    char c[12];
+} v = { {1} };
+
+void Check (int line, int expval, int rslt)
+{
+    vrslt = rslt;
+    if (rslt != expval) {
+	PRINTF ("\nLine %d:  expect= %d, rslt= %d\n", line, expval, rslt);
+	EXIT (line);
+    }
+}
+
+/* The sscanf() is called 4 times: SRAM and FLASH format, 2 values
+   to fill before run.	*/
+#define CHECK(expval, ass_expr, str, fmt, ...)				\
+    do {								\
+	PROGMEM static char fmt_p[] = fmt;				\
+	char str_s[220];						\
+	char fmt_s[40];							\
+	char FILL;							\
+	int i;								\
+	int (* volatile vp)(const char *, const char *, ...);		\
+									\
+	ASSERT (sizeof(str_s) >= sizeof(str));				\
+	ASSERT (sizeof(fmt_s) >= sizeof(fmt_p));			\
+	strcpy_P (str_s, PSTR(str));					\
+	strcpy_P (fmt_s, fmt_p);					\
+									\
+	for (FILL = 0; FILL < 4; FILL++) {				\
+	    memset (&v, FILL, sizeof(v));				\
+	    vp = (FILL & 1) ? sscanf_P : sscanf;			\
+	    i = vp (str_s, (FILL & 1) ? fmt_p : fmt_s, ##__VA_ARGS__);	\
+	    Check (__LINE__, expval, i);				\
+    	    ASSERT (ass_expr);						\
+	}								\
+    } while (0)
+
+int main ()
+{
+    /* A few conversions.	*/
+    CHECK (2, !memcmp_P(v.c, PSTR("AB\000CD\000"), 6),
+	   "ABCD", "%[AB]%[CD]", v.c, v.c + 3);
+
+    /* Suppress a writing.	*/
+    CHECK (0, (v.c[0] == FILL), "A", "%*[A]", v.c);
+    CHECK (2, !memcmp_P(v.c, PSTR("A\000C\000"), 4),
+	   "ABC", "%[A]%*[B]%[C]", v.c, v.c + 2);
+
+    /* Width field.	*/
+    CHECK (1, !strcmp_P(v.c, PSTR("A")), "A", "%1[A]", v.c);
+    CHECK (1, !strcmp_P(v.c, PSTR("A")), "ABCD", "%1[A-Z]", v.c);
+    CHECK (1, !strcmp_P(v.c, PSTR("AB")), "ABCD", "%2[A-Z]", v.c);
+    CHECK (2, !memcmp_P(v.c, PSTR("CD\000AB\000"), 6),
+	   "ABCD", "%2[A-Z]%2[A-Z]", v.c + 3, v.c);
+    CHECK (1, !strcmp_P(v.c, PSTR("the_quick_b")),
+	   "the_quick_brown_fox", "%11[a-z_]", v.c);
+
+    /* Suppress and width.	*/
+    CHECK (0, (v.c[0] == FILL), "A", "%*1[A]", v.c);
+    CHECK (0, (v.c[0] == FILL), "AA", "%*2[A]", v.c);
+
+    /* Zero width.	*/
+#ifdef	__AVR__
+    CHECK (0, (v.c[0] == FILL && v.c[1] == FILL), "A", "%0[A]", v.c);
+#else
+    CHECK (1, !strcmp_P(v.c, PSTR("A")), "A", "%0[A]", v.c);	/* ??? */
+#endif
+
+    /* Left width digit is 0.	*/
+    CHECK (1, !strcmp_P(v.c, PSTR("A")), "ABCD", "%01[A-Z]", v.c);
+    CHECK (1, !strcmp_P(v.c, PSTR("AB")), "ABCD", "%02[A-Z]", v.c);
+
+    /* Invalid symbol after '%'.	*/
+    CHECK (0, (v.c[0] == FILL), "A", "% [A]", v.c);
+    CHECK (0, (v.c[0] == FILL), "A", "%-[A]", v.c);
+    CHECK (0, (v.c[0] == FILL), "A", "%+[A]", v.c);
+    CHECK (0, (v.c[0] == FILL), "A", "%.[A]", v.c);
+    CHECK (0, (v.c[0] == FILL), "A", "%#[A]", v.c);
+
+    return 0;
+}
diff --git a/tests/simulate/scanf/sscanf_flt-f1.c b/tests/simulate/scanf/sscanf_flt-f1.c
new file mode 100644
index 0000000..6ed7a32
--- /dev/null
+++ b/tests/simulate/scanf/sscanf_flt-f1.c
@@ -0,0 +1,162 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of scanf(): float conversion.
+   $Id$	*/
+
+#include <stdio.h>
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+#ifdef	__AVR__
+# define ASSERT(expr)			\
+    do {				\
+	if (!(expr)) exit(__LINE__);	\
+    } while (0)
+# define EXIT(v)	exit (v)
+# if defined(__AVR_ATmega128__)
+  /* ATmega128 has enough RAM for sprintf(), print to 0x2000 in XRAM. */
+#  define PRINTF(f...)	sprintf((char *)0x2000, f)
+# else
+  /* small AVR */
+#  define PRINTF(f...)
+# endif
+#else
+# include <assert.h>
+# define ASSERT(expr)	assert (expr)
+# define EXIT(v)	exit ((v) < 256 ? (v) : 255)
+# define PRINTF(f...)	printf (f)
+# define sscanf_P	sscanf
+# define memcmp_P	memcmp
+#endif
+
+/* Next variables are useful to debug the AVR.	*/
+int vrslt = 1;
+struct {
+    float x[7];
+    char c[7];
+} v = { {1.0}, {1} };
+
+void Check (int line, int expval, int rslt)
+{
+    vrslt = rslt;
+    if (rslt != expval) {
+	PRINTF ("\nLine %d:  expect= %d, rslt= %d\n", line, expval, rslt);
+	EXIT (line);
+    }
+}
+
+/* The sscanf() is called 4 times: SRAM and FLASH format, 2 values
+   to fill before run.	*/
+#define CHECK(expval, ass_expr, str, fmt, ...)				\
+    do {								\
+	PROGMEM static char fmt_p[] = fmt;				\
+	char str_s[220];						\
+	char fmt_s[40];							\
+	char FILL;							\
+	int i;								\
+	int (* volatile vp)(const char *, const char *, ...);		\
+									\
+	ASSERT (sizeof(str_s) >= sizeof(str));				\
+	ASSERT (sizeof(fmt_s) >= sizeof(fmt_p));			\
+	strcpy_P (str_s, PSTR(str));					\
+	strcpy_P (fmt_s, fmt_p);					\
+									\
+	for (FILL = 0; FILL < 4; FILL++) {				\
+	    memset (&v, FILL, sizeof(v));				\
+	    vp = (FILL & 1) ? sscanf_P : sscanf;			\
+	    i = vp (str_s, (FILL & 1) ? fmt_p : fmt_s, ##__VA_ARGS__);	\
+	    Check (__LINE__, expval, i);				\
+    	    ASSERT (ass_expr);						\
+	}								\
+    } while (0)
+
+int main ()
+{
+    /* All possible conversion symbols.	*/
+    CHECK (
+	6,
+	v.x[0] == 1.0 && v.x[1] == 2.0 && v.x[2] == 3.0
+	&& v.x[3] == 4.0 && v.x[4] == 5.0 && v.x[5] == 6.0,
+	"1 2 3 4 5 6", "%e %E %f %F %g %G",
+	& v.x[0], & v.x[1], & v.x[2], & v.x[3], & v.x[4], & v.x[5]);
+
+    /* Empty input.	*/
+    CHECK (-1, (*(char *)v.x == FILL), "", "%e", v.x);
+    CHECK (-1, (*(char *)v.x == FILL), "", " %e", v.x);
+    CHECK (-1, (*(char *)v.x == FILL), " ", " %e", v.x);
+    CHECK (-1, (*(char *)v.x == FILL), " ", "  %e", v.x);
+    CHECK (-1, (*(char *)v.x == FILL), "\t\n\v\f\r", " %e", v.x);
+
+    /* 0.0	*/
+    CHECK (
+	6,
+	v.x[0] == 0.0 && v.x[1] == 0.0 && v.x[2] == 0.0
+	&& v.x[3] == 0.0 && v.x[4] == 0.0 && v.x[5] == 0.0,
+	"0 0. .0 0.0 +0 +0.0", "%e %e %e %e %e %e",
+	& v.x[0], & v.x[1], & v.x[2], & v.x[3], & v.x[4], & v.x[5]);
+
+    /* -0.0	*/
+    CHECK (
+	6,
+	v.x[0] == -0.0 && v.x[1] == -0.0 && v.x[2] == -0.0
+	&& v.x[3] == -0.0 && v.x[4] == -0.0 && v.x[5] == -0.0,
+	"-0 -0. -.0 -0.0 -00 -0e+00", "%e %e %e %e %e %e",
+	& v.x[0], & v.x[1], & v.x[2], & v.x[3], & v.x[4], & v.x[5]);
+
+    /* End of number.	*/
+    CHECK (
+	12,
+	v.x[0] == 123 && v.c[0] == ' '
+	&& v.x[1] == 456 && v.c[1] == '\001'
+	&& v.x[2] == 789 && v.c[2] == '\377'
+	&& v.x[3] == 12. && v.c[3] == '/'
+	&& v.x[4] == 345 && v.c[4] == ':'
+	&& v.x[5] == 678 && v.c[5] == 'd',
+	"123 456\001789\377012/345:678d+11",
+	"%e%c %e%c %e%c %e%c %e%c %e%c",
+	& v.x[0], & v.c[0], & v.x[1], & v.c[1], & v.x[2], & v.c[2],
+	& v.x[3], & v.c[3], & v.x[4], & v.c[4], & v.x[5], & v.c[5]);
+
+    CHECK (
+	12,
+	v.x[0] == 234 && v.c[0] == '.'
+	&& v.x[1] == 567 && v.c[1] == '+'
+	&& v.x[2] == 890 && v.c[2] == '-'
+	&& v.x[3] == 123 && v.c[3] == 'f'
+	&& v.x[4] == 456 && v.c[4] == '\177'
+	&& v.x[5] == 0.5 && v.c[5] == '.',
+	"234..567+890-123f+456\1770.5.",
+	"%e%c %e%c %e%c %e%c %e%c %e%c",
+	& v.x[0], & v.c[0], & v.x[1], & v.c[1], & v.x[2], & v.c[2],
+	& v.x[3], & v.c[3], & v.x[4], & v.c[4], & v.x[5], & v.c[5]);
+
+    return 0;
+}
diff --git a/tests/simulate/scanf/sscanf_flt-f2.c b/tests/simulate/scanf/sscanf_flt-f2.c
new file mode 100644
index 0000000..2bb5f58
--- /dev/null
+++ b/tests/simulate/scanf/sscanf_flt-f2.c
@@ -0,0 +1,193 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of scanf(): float conversion.
+   $Id$	*/
+
+#include <stdio.h>
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+#ifdef	__AVR__
+# define ASSERT(expr)			\
+    do {				\
+	if (!(expr)) exit(__LINE__);	\
+    } while (0)
+# define EXIT(v)	exit (v)
+# if defined(__AVR_ATmega128__)
+  /* ATmega128 has enough RAM for sprintf(), print to 0x2000 in XRAM. */
+#  define PRINTF(f...)	sprintf((char *)0x2000, f)
+# else
+  /* small AVR */
+#  define PRINTF(f...)
+# endif
+#else
+# include <assert.h>
+# define ASSERT(expr)	assert (expr)
+# define EXIT(v)	exit ((v) < 256 ? (v) : 255)
+# define PRINTF(f...)	printf (f)
+# define sscanf_P	sscanf
+# define memcmp_P	memcmp
+#endif
+
+/* Next variables are useful to debug the AVR.	*/
+int vrslt = 1;
+struct {
+    float x[10];
+} v = { {1.0} };
+
+void Check (int line, int expval, int rslt)
+{
+    vrslt = rslt;
+    if (rslt != expval) {
+	PRINTF ("\nLine %d:  expect= %d, rslt= %d\n", line, expval, rslt);
+	EXIT (line);
+    }
+}
+
+/* The sscanf() is called 4 times: SRAM and FLASH format, 2 values
+   to fill before run.	*/
+#define CHECK(expval, ass_expr, str, fmt, ...)				\
+    do {								\
+	PROGMEM static char fmt_p[] = fmt;				\
+	char str_s[220];						\
+	char fmt_s[40];							\
+	char FILL;							\
+	int i;								\
+	int (* volatile vp)(const char *, const char *, ...);		\
+									\
+	ASSERT (sizeof(str_s) >= sizeof(str));				\
+	ASSERT (sizeof(fmt_s) >= sizeof(fmt_p));			\
+	strcpy_P (str_s, PSTR(str));					\
+	strcpy_P (fmt_s, fmt_p);					\
+									\
+	for (FILL = 0; FILL < 4; FILL++) {				\
+	    memset (&v, FILL, sizeof(v));				\
+	    vp = (FILL & 1) ? sscanf_P : sscanf;			\
+	    i = vp (str_s, (FILL & 1) ? fmt_p : fmt_s, ##__VA_ARGS__);	\
+	    Check (__LINE__, expval, i);				\
+    	    ASSERT (ass_expr);						\
+	}								\
+    } while (0)
+
+int main ()
+{
+    PROGMEM static const float ones[10] = {1, 1, 1, 1, 1, 1, 1, 1, 1, 1};
+
+    /* All symbols.	*/
+    CHECK (
+	4,
+	v.x[0] == 12345678 && v.x[1] == 0.25
+	&& v.x[2] == 90 && v.x[3] == -0.5,
+	"12345678 .25e0 +9e+01 -0.5E-00",
+	"%e %e %e %e",
+	& v.x[0], & v.x[1], & v.x[2], & v.x[3]);
+
+    /* 1.0	*/
+    CHECK (
+	10,
+	!memcmp_P (v.x, ones, 10 * sizeof(float)),
+	"1. 1.0 01 001. 0001.0 00001.00 1.e0 1.00000e000000 1e+00 1e-0",
+	"%e %e %e %e %e %e %e %e %e %e",
+	& v.x[0], & v.x[1], & v.x[2], & v.x[3],	& v.x[4],
+	& v.x[5], & v.x[6], & v.x[7], & v.x[8], & v.x[9]);
+
+    /* Negative exponents.	*/
+    CHECK (
+	10,
+	!memcmp_P (v.x, ones, 10 * sizeof(float)),
+	"10e-1 "
+	"100e-2 "
+	"1000e-3 "
+	"10000e-4 "
+	"100000e-5 "
+	"1000000e-6 "
+	"10000000e-7 "
+	"100000000e-8 "
+	"1000000000e-9 "
+	"10000000000e-10 ",
+	"%e %e %e %e %e %e %e %e %e %e",
+	& v.x[0], & v.x[1], & v.x[2], & v.x[3],	& v.x[4],
+	& v.x[5], & v.x[6], & v.x[7], & v.x[8], & v.x[9]);
+
+    CHECK (
+	10,
+	!memcmp_P (v.x, ones, 10 * sizeof(float)),
+	"100000000000e-11 "
+	"1000000000000e-12 "
+	"10000000000000e-13 "
+	"100000000000000e-14 "
+	"1000000000000000e-15 "
+	"10000000000000000e-16 "
+	"100000000000000000e-17 "
+	"1000000000000000000e-18 "
+	"10000000000000000000e-19 "
+	"100000000000000000000e-20 ",
+	"%e %e %e %e %e %e %e %e %e %e",
+	& v.x[0], & v.x[1], & v.x[2], & v.x[3],	& v.x[4],
+	& v.x[5], & v.x[6], & v.x[7], & v.x[8], & v.x[9]);
+
+    /* Positive exponents.	*/
+    CHECK (
+	10,
+	!memcmp_P (v.x, ones, 10 * sizeof(float)),
+	".1e1 "
+	".01e2 "
+	".001e3 "
+	".0001e4 "
+	".00001e5 "
+	".000001e6 "
+	".0000001e7 "
+	".00000001e8 "
+	".000000001e9 "
+	".0000000001e10 ",
+	"%e %e %e %e %e %e %e %e %e %e",
+	& v.x[0], & v.x[1], & v.x[2], & v.x[3],	& v.x[4],
+	& v.x[5], & v.x[6], & v.x[7], & v.x[8], & v.x[9]);
+
+    CHECK (
+	10,
+	!memcmp_P (v.x, ones, 10 * sizeof(float)),
+	".00000000001e11 "
+	".000000000001e12 "
+	".0000000000001e13 "
+	".00000000000001e14 "
+	".000000000000001e15 "
+	".0000000000000001e16 "
+	".00000000000000001e17 "
+	".000000000000000001e18 "
+	".0000000000000000001e19 "
+	".00000000000000000001e20 ",
+	"%e %e %e %e %e %e %e %e %e %e",
+	& v.x[0], & v.x[1], & v.x[2], & v.x[3],	& v.x[4],
+	& v.x[5], & v.x[6], & v.x[7], & v.x[8], & v.x[9]);
+
+    return 0;
+}
diff --git a/tests/simulate/scanf/sscanf_flt-f3.c b/tests/simulate/scanf/sscanf_flt-f3.c
new file mode 100644
index 0000000..0cd5a3c
--- /dev/null
+++ b/tests/simulate/scanf/sscanf_flt-f3.c
@@ -0,0 +1,175 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of scanf(): float conversion.
+   $Id$	*/
+
+#include <math.h>
+#include <stdio.h>
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+#ifdef	__AVR__
+# define ASSERT(expr)			\
+    do {				\
+	if (!(expr)) exit(__LINE__);	\
+    } while (0)
+# define EXIT(v)	exit (v)
+# if defined(__AVR_ATmega128__)
+  /* ATmega128 has enough RAM for sprintf(), print to 0x2000 in XRAM. */
+#  define PRINTF(f...)	sprintf((char *)0x2000, f)
+# else
+  /* small AVR */
+#  define PRINTF(f...)
+# endif
+#else
+# include <assert.h>
+# define ASSERT(expr)	assert (expr)
+# define EXIT(v)	exit ((v) < 256 ? (v) : 255)
+# define PRINTF(f...)	printf (f)
+# define sscanf_P	sscanf
+# define memcmp_P	memcmp
+#endif
+
+/* Next variables are useful to debug the AVR.	*/
+int vrslt = 1;
+struct {
+    union {
+	long lo;
+	float fl;
+    } x[8];
+} v = { {{1.0}} };
+
+void Check (int line, int expval, int rslt)
+{
+    vrslt = rslt;
+    if (rslt != expval) {
+	PRINTF ("\nLine %d:  expect= %d, rslt= %d\n", line, expval, rslt);
+	EXIT (line);
+    }
+}
+
+/* The sscanf() is called 4 times: SRAM and FLASH format, 2 values
+   to fill before run.	*/
+#define CHECK(expval, ass_expr, str, fmt, ...)				\
+    do {								\
+	PROGMEM static char fmt_p[] = fmt;				\
+	char str_s[220];						\
+	char fmt_s[40];							\
+	char FILL;							\
+	int i;								\
+	int (* volatile vp)(const char *, const char *, ...);		\
+									\
+	ASSERT (sizeof(str_s) >= sizeof(str));				\
+	ASSERT (sizeof(fmt_s) >= sizeof(fmt_p));			\
+	strcpy_P (str_s, PSTR(str));					\
+	strcpy_P (fmt_s, fmt_p);					\
+									\
+	for (FILL = 0; FILL < 4; FILL++) {				\
+	    memset (&v, FILL, sizeof(v));				\
+	    vp = (FILL & 1) ? sscanf_P : sscanf;			\
+	    i = vp (str_s, (FILL & 1) ? fmt_p : fmt_s, ##__VA_ARGS__);	\
+	    Check (__LINE__, expval, i);				\
+    	    ASSERT (ass_expr);						\
+	}								\
+    } while (0)
+
+int main ()
+{
+    /* The smallest.	*/
+    CHECK (
+	2,
+	v.x[0].lo == 0x00000001 && v.x[1].lo == 0x00000002,
+	"0.0000000000000000000000000000000000000000000014 "
+	"0.0000000000000000000000000000000000000000000028",
+	"%e %e",
+	& v.x[0].fl, & v.x[1].fl);
+
+    CHECK (
+	8,
+	v.x[0].lo == 0x00000001 && v.x[1].lo == 0x00000001
+	&& v.x[2].lo == 0x00000001 && v.x[3].lo == 0x00000001
+	&& v.x[4].lo == 0x00000001 && v.x[5].lo == 0x00000001
+	&& v.x[6].lo == 0x00000001 && v.x[7].lo == 0x00000001,
+	"1.4012985e-45 "
+	"1.401298e-45 "
+	"1.40130e-45 "
+	"1.4013e-45 "
+	"1.401e-45 "
+	"1.40e-45 "
+	"1.4e-45 "
+	"1e-45",
+	"%e %e %e %e %e %e %e %e",
+	& v.x[0].fl, & v.x[1].fl, 
+	& v.x[2].fl, & v.x[3].fl, 
+	& v.x[4].fl, & v.x[5].fl, 
+	& v.x[6].fl, & v.x[7].fl);
+
+    /* The biggest.	*/
+    CHECK (
+	1,
+	v.x[0].lo == 0x7f7fffff,
+	"340282350000000000000000000000000000000",
+	"%e",
+	& v.x[0].fl);
+
+    /* Note: it is impossible to obtain 0x7f7fffff with AVR
+       due to round errors.	*/
+    CHECK (
+	2,
+	v.x[0].lo == 0x7f7ffffc || v.x[1].lo == 0x7f7ffffb,
+	"3.4028229e+38 3.4028228e+38",
+	"%e %e",
+	& v.x[0].fl, & v.x[1].fl);
+
+    /* Underflow.	*/
+    CHECK (
+	4,
+	v.x[0].fl == -0.0 && v.x[1].fl == 0.0
+	&& v.x[2].fl == 0 && v.x[3].fl == -0.0,
+	"-0.7e-45 1e-99 "
+	"0.0000000000000000000000000000000000000000000007 "	/* 0.7e-45 */
+	"-0.000000000000000000000000000000000000000000000000000000000099999 ",
+	"%e %e %e %e",
+	& v.x[0].fl, & v.x[1].fl, & v.x[2].fl, & v.x[3].fl);
+
+    /* Overflow.	*/
+    CHECK (
+	4,
+	v.x[0].fl == INFINITY && v.x[1].fl == -INFINITY
+	&& v.x[2].fl == -INFINITY && v.x[3].fl == INFINITY,
+	"3.4028236e+38 -1e99 "
+	"-340282360000000000000000000000000000000 "
+	"10000000000000000000000000000000000000000000000000000000000000000",
+	"%e %e %e %e",
+	& v.x[0].fl, & v.x[1].fl, & v.x[2].fl, & v.x[3].fl);
+
+    return 0;
+}
diff --git a/tests/simulate/scanf/sscanf_flt-fnn.c b/tests/simulate/scanf/sscanf_flt-fnn.c
new file mode 100644
index 0000000..a7c06f9
--- /dev/null
+++ b/tests/simulate/scanf/sscanf_flt-fnn.c
@@ -0,0 +1,185 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of scanf(): float conversion.
+   $Id$	*/
+
+#include <math.h>
+#include <stdio.h>
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+#ifdef	__AVR__
+# define ASSERT(expr)			\
+    do {				\
+	if (!(expr)) exit(__LINE__);	\
+    } while (0)
+# define EXIT(v)	exit (v)
+# if defined(__AVR_ATmega128__)
+  /* ATmega128 has enough RAM for sprintf(), print to 0x2000 in XRAM. */
+#  define PRINTF(f...)	sprintf((char *)0x2000, f)
+# else
+  /* small AVR */
+#  define PRINTF(f...)
+# endif
+#else
+# include <assert.h>
+# define ASSERT(expr)	assert (expr)
+# define EXIT(v)	exit ((v) < 256 ? (v) : 255)
+# define PRINTF(f...)	printf (f)
+# define sscanf_P	sscanf
+# define memcmp_P	memcmp
+#endif
+
+/* Next variables are useful to debug the AVR.	*/
+int vrslt = 1;
+struct {
+    float x[7];
+    char c[7];
+} v = { {1.0}, {1} };
+
+void Check (int line, int expval, int rslt)
+{
+    vrslt = rslt;
+    if (rslt != expval) {
+	PRINTF ("\nLine %d:  expect= %d, rslt= %d\n", line, expval, rslt);
+	EXIT (line);
+    }
+}
+
+/* The sscanf() is called 4 times: SRAM and FLASH format, 2 values
+   to fill before run.	*/
+#define CHECK(expval, ass_expr, str, fmt, ...)				\
+    do {								\
+	PROGMEM static char fmt_p[] = fmt;				\
+	char str_s[220];						\
+	char fmt_s[40];							\
+	char FILL;							\
+	int i;								\
+	int (* volatile vp)(const char *, const char *, ...);		\
+									\
+	strcpy_P (str_s, PSTR(str));					\
+	strcpy_P (fmt_s, fmt_p);					\
+									\
+	for (FILL = 0; FILL < 4; FILL++) {				\
+	    memset (&v, FILL, sizeof(v));				\
+	    vp = (FILL & 1) ? sscanf_P : sscanf;			\
+	    i = vp (str_s, (FILL & 1) ? fmt_p : fmt_s, ##__VA_ARGS__);	\
+	    Check (__LINE__, expval, i);				\
+    	    ASSERT (ass_expr);						\
+	}								\
+    } while (0)
+
+int all_nans (const float v[], int n)
+{
+    int i;
+    for (i = 0; i < n; i++) {
+	if (!isnan (v[i]))
+	    return 0;
+    }
+    return 1;
+}
+
+int main ()
+{
+    /* No valid digits.	*/
+    CHECK (0, 1, ". ", "%e", & v.x[0]);
+    CHECK (0, 1, "+ ", "%e", & v.x[0]);
+    CHECK (0, 1, "- ", "%e", & v.x[0]);
+    CHECK (0, 1, "E ", "%e", & v.x[0]);
+    CHECK (0, 1, "+-123", "%e", & v.x[0]);
+    CHECK (0, 1, "-+123", "%e", & v.x[0]);
+    CHECK (0, 1, ".-123", "%e", & v.x[0]);
+    CHECK (0, 1, ".+123", "%e", & v.x[0]);
+    CHECK (0, 1, "e12", "%e", & v.x[0]);
+    CHECK (0, 1, "- 1", "%e", & v.x[0]);
+    CHECK (0, 1, "IN ", "%e", & v.x[0]);
+    CHECK (0, 1, "NA ", "%e", & v.x[0]);
+    CHECK (0, 1, "infinit ", "%e", & v.x[0]);
+
+    /* NaN	*/
+    CHECK (
+	6,
+	all_nans (v.x, 6),
+	"nan NAN NaN -nan +NAN -nAn",
+	"%E %e %F %f %G %g",
+	& v.x[0], & v.x[1], & v.x[2], & v.x[3], & v.x[4], & v.x[5]);
+
+    /* Character after NaN.	*/
+    CHECK (
+	10,
+	all_nans (v.x, 6) && !memcmp_P (v.c, PSTR (".+eQ"), 4),
+	"nan. nan+ nane NANQ nannan",
+	"%e%c %e%c %e%c %e%c %e %e",
+	& v.x[0], & v.c[0], & v.x[1], & v.c[1],	& v.x[2], & v.c[2],
+	& v.x[3], & v.c[3], & v.x[4], & v.x[5]);
+	
+    /* Inf	*/
+    CHECK (
+	6,
+	!memcmp_P (
+	    v.x,
+	    ({	static float __x[] PROGMEM = {
+		    INFINITY, INFINITY, INFINITY,
+		    INFINITY, -INFINITY, -INFINITY
+		};
+		__x;
+	    }),
+	    6 * sizeof(float)),
+	"INF inf +Inf INFINITY -infinity -InFiNiTy",
+	"%e %E %f %F %g %G",
+	& v.x[0], & v.x[1], & v.x[2], & v.x[3], & v.x[4], & v.x[5]);
+
+#if !defined(__AVR_AT90S8515__) /* this does not fit */
+    /* Character after Inf.	*/
+    CHECK (
+	9,
+	!memcmp_P (
+	    v.x,
+	    ({	static float __x[] PROGMEM = {
+		    INFINITY, INFINITY, INFINITY,
+		    INFINITY, INFINITY, -INFINITY
+		};
+		__x;
+	    }),
+	    6 * sizeof(float))
+	&& !memcmp_P (v.c, PSTR (" s\b"), 3),
+	"inf infinityinfinitys INF\b inf-inf",
+	"%e%c %e%e%c %e%c %e%e",
+	& v.x[0], & v.c[0],
+	& v.x[1],
+	& v.x[2], & v.c[1],
+	& v.x[3], & v.c[2],
+	& v.x[4],
+	& v.x[5]);
+#endif
+
+    return 0;
+}
diff --git a/tests/simulate/scanf/sscanf_flt-fw.c b/tests/simulate/scanf/sscanf_flt-fw.c
new file mode 100644
index 0000000..6bc4296
--- /dev/null
+++ b/tests/simulate/scanf/sscanf_flt-fw.c
@@ -0,0 +1,140 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of scanf(): float conversion, width field.
+   $Id$	*/
+
+#include <math.h>
+#include <stdio.h>
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+#ifdef	__AVR__
+# define ASSERT(expr)			\
+    do {				\
+	if (!(expr)) exit(__LINE__);	\
+    } while (0)
+# define EXIT(v)	exit (v)
+# if defined(__AVR_ATmega128__)
+  /* ATmega128 has enough RAM for sprintf(), print to 0x2000 in XRAM. */
+#  define PRINTF(f...)	sprintf((char *)0x2000, f)
+# else
+  /* small AVR */
+#  define PRINTF(f...)
+# endif
+#else
+# include <assert.h>
+# define ASSERT(expr)	assert (expr)
+# define EXIT(v)	exit ((v) < 256 ? (v) : 255)
+# define PRINTF(f...)	printf (f)
+# define sscanf_P	sscanf
+# define memcmp_P	memcmp
+#endif
+
+/* Next variables are useful to debug the AVR.	*/
+int vrslt = 1;
+struct {
+    float x[8];
+    char s[8];
+} v = { {1.0}, {1} };
+
+void Check (int line, int expval, int rslt)
+{
+    vrslt = rslt;
+    if (rslt != expval) {
+	PRINTF ("\nLine %d:  expect= %d, rslt= %d\n", line, expval, rslt);
+	EXIT (line);
+    }
+}
+
+/* The sscanf() is called 4 times: SRAM and FLASH format, 2 values
+   to fill before run.	*/
+#define CHECK(expval, ass_expr, str, fmt, ...)				\
+    do {								\
+	PROGMEM static char fmt_p[] = fmt;				\
+	char str_s[220];						\
+	char fmt_s[50];							\
+	char FILL;							\
+	int i;								\
+	int (* volatile vp)(const char *, const char *, ...);		\
+									\
+	ASSERT (sizeof(str_s) >= sizeof(str));				\
+	ASSERT (sizeof(fmt_s) >= sizeof(fmt_p));			\
+	strcpy_P (str_s, PSTR(str));					\
+	strcpy_P (fmt_s, fmt_p);					\
+									\
+	for (FILL = 0; FILL < 4; FILL++) {				\
+	    memset (&v, FILL, sizeof(v));				\
+	    vp = (FILL & 1) ? sscanf_P : sscanf;			\
+	    i = vp (str_s, (FILL & 1) ? fmt_p : fmt_s, ##__VA_ARGS__);	\
+	    Check (__LINE__, expval, i);				\
+    	    ASSERT (ass_expr);						\
+	}								\
+    } while (0)
+
+int main ()
+{
+    /* 1 character.	*/
+#ifdef	__AVR__
+    /* ???: Glibc gets 2 characters and places 1.0 into v.x	*/
+    CHECK (1, v.x[0] == 0, "01", "%1e", v.x);
+#endif
+    CHECK (1, v.x[0] == 1, "1", "%1e", v.x);
+    CHECK (
+	2,
+	v.x[0] == 2 && v.x[1] == 9,
+	"298", "%1f%1g", v.x, v.x + 1);
+
+    /* Space before number.	*/
+    CHECK (1, v.x[0] == 12, " 1234.5", "%2e", v.x);
+
+    /* All possible symbols of float number.	*/
+    CHECK (
+	16,
+	!memcmp_P (
+	    v.x,
+	    ({	static float __x[8] PROGMEM = {
+		    12, -45, 0.5, 10, .25, 1e1, 2e2, .125
+		};  __x; }),
+	    8 * sizeof(float))
+	&& !memcmp_P (v.s, PSTR("36759093"), 8),
+	"+123 -456 0.57 10.5 .259 1e10 2e+29 125.e-33",
+	"%3e%c %3e%c %3e%c %3e%c %3e%c %3e%c %4e%c %7e%c",
+	v.x + 0, v.s + 0, v.x + 1, v.s + 1,
+	v.x + 2, v.s + 2, v.x + 3, v.s + 3,
+	v.x + 4, v.s + 4, v.x + 5, v.s + 5,
+	v.x + 6, v.s + 6, v.x + 7, v.s + 7);
+
+    /* Suppress and width.	*/
+    CHECK (0, (*(char *)v.x == FILL), "9", "%*1e", v.x);
+    CHECK (1, v.x[0] == 76, "9876", "%*2e%2e", v.x);
+
+    return 0;
+}
diff --git a/tests/simulate/stdlib/abort-1.c b/tests/simulate/stdlib/abort-1.c
new file mode 100644
index 0000000..6d3003f
--- /dev/null
+++ b/tests/simulate/stdlib/abort-1.c
@@ -0,0 +1,48 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of abort() function. Now it is a normal function and
+   the user can to replace it.
+   $Id$	*/
+
+#include <stdlib.h>
+
+volatile int v;		/* to suppress any optimization	*/
+
+__attribute__((noreturn)) void abort (void)
+{
+    exit (v);
+}
+
+int main ()
+{
+    v = 0;
+    abort ();
+    return __LINE__;
+}
diff --git a/tests/simulate/stdlib/atoi-1.c b/tests/simulate/stdlib/atoi-1.c
new file mode 100644
index 0000000..a3a5370
--- /dev/null
+++ b/tests/simulate/stdlib/atoi-1.c
@@ -0,0 +1,107 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* $Id$ */
+
+#include <stdio.h>
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+PROGMEM const struct {
+    char s[10];
+    int val;
+} t[] = {
+
+    /* Empty string	*/
+    { "", 0 },
+    { " ", 0 },
+    { "\t\n\v\f\r", 0 },
+
+    /* Common values	*/
+    { "0", 0 },
+    { "+0", 0 },
+    { "-0", 0 },
+    { "1", 1 },
+    { "+1", 1 },
+    { "-1", -1 },
+    { "32767", 32767 },
+    { "-32767", -32767 },
+    { "-32768", -32768 },
+    
+    /* Nonzero end character	*/
+    { "12\001", 12 },
+    { "123\377", 123 },
+    { "1234/", 1234 },		/* '0'-1 == '/'	*/
+    { "12345:", 12345 },	/* '9'+1 == ':'	*/
+    { "321 4", 321 },
+    
+    /* Empty symbols at begin	*/
+    { " -4", -4 },
+    { "\t+5", 5 },
+    { "\t\n\v\f\r-321", -321 },		/* bug #18899	*/
+    
+    /* No digits	*/
+    { "\001123", 0 },
+    { "\377-123", 0 },
+    { "\010123", 0 },		/* '\t'-1 == 010	*/
+    { "\016+123", 0 },		/* '\r'+1 == 016	*/
+    
+    /* atoi() accepts 10-base only	*/
+    { "010", 10 },
+    { "0x10", 0 },
+    { "0X10", 0 },
+};
+
+volatile int vlt = 1;		/* for debug conveniency	*/
+
+void t_exit (int idx)
+{
+#ifdef	__AVR__
+    exit (idx + 1);
+#else
+    printf ("result=%d against t[%d]={\"%s\", %d}\n",
+	    vlt, idx, t[idx].s, t[idx].val);
+    exit (1);
+#endif
+}
+
+int main ()
+{
+    int i;
+    char s[sizeof(t[0].s)];
+
+    for (i = 0; i < (int)(sizeof(t) / sizeof(t[0])); i++) {
+	strcpy_P (s, t[i].s);
+	vlt = atoi (s);
+	if (vlt != (int)pgm_read_word (& t[i].val))
+	    t_exit (i);
+    }
+    return 0;
+}
diff --git a/tests/simulate/stdlib/atol-1.c b/tests/simulate/stdlib/atol-1.c
new file mode 100644
index 0000000..af9c41b
--- /dev/null
+++ b/tests/simulate/stdlib/atol-1.c
@@ -0,0 +1,113 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* $Id$ */
+
+#include <stdio.h>
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+PROGMEM const struct {
+    char s[12];
+    long val;
+} t[] = {
+
+    /* Empty string	*/
+    { "", 0 },
+    { " ", 0 },
+    { "\t\n\v\f\r", 0 },
+
+    /* Common values	*/
+    { "0", 0 },
+    { "+0", 0 },
+    { "-0", 0 },
+    { "1", 1 },
+    { "+1", 1 },
+    { "-1", -1 },
+    { "32767", 32767 },
+    { "32768", 32768 },
+    { "-32767", -32767 },
+    { "-32768", -32768 },
+    { "-987654321", -987654321 },
+    { "+1234567890", 1234567890 },
+    { "2147483647", 2147483647 },
+    { "-2147483647", -2147483647 },
+    { "-2147483648", 0x80000000 },
+    
+    /* Nonzero end character	*/
+    { "12\001", 12 },
+    { "123\377", 123 },
+    { "1234/", 1234 },		/* '0'-1 == '/'	*/
+    { "12345:", 12345 },	/* '9'+1 == ':'	*/
+    { "321 4", 321 },
+    
+    /* Empty symbols at begin	*/
+    { " -4", -4 },
+    { "\t+5", 5 },
+    { "\t\n\v\f\r-321", -321 },		/* bug #18899	*/
+    
+    /* No digits	*/
+    { "\001123", 0 },
+    { "\377-123", 0 },
+    { "\010123", 0 },		/* '\t'-1 == 010	*/
+    { "\016+123", 0 },		/* '\r'+1 == 016	*/
+    
+    /* atol() accepts 10-base only	*/
+    { "010", 10 },
+    { "0x10", 0 },
+    { "0X10", 0 },
+};
+
+volatile long vlt = 1;		/* for debug conveniency	*/
+
+void t_exit (int idx)
+{
+#ifdef	__AVR__
+    exit (idx + 1);
+#else
+    printf ("result=%ld against t[%d]={\"%s\", %ld}\n",
+	    vlt, idx, t[idx].s, t[idx].val);
+    exit (1);
+#endif
+}
+
+int main ()
+{
+    int i;
+    char s[sizeof(t[0].s)];
+
+    for (i = 0; i < (int)(sizeof(t) / sizeof(t[0])); i++) {
+	strcpy_P (s, t[i].s);
+	vlt = atol (s);
+	if (vlt != (long)pgm_read_dword (& t[i].val))
+	    t_exit (i);
+    }
+    return 0;
+}
diff --git a/tests/simulate/stdlib/atol-2.c b/tests/simulate/stdlib/atol-2.c
new file mode 100644
index 0000000..89dca30
--- /dev/null
+++ b/tests/simulate/stdlib/atol-2.c
@@ -0,0 +1,120 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* This is a copy of 'atol-1.c', but without <stdlib.h>.
+   The purpose is to check a native atol() function, as today (2007-02-06)
+   the <stdlib.h> header substitutes an inlined version with strtol() usage.
+
+   $Id$
+ */
+
+#include <stdio.h>
+#include <string.h>
+#include "progmem.h"
+
+long atol (const char *);
+void exit (int);
+
+PROGMEM const struct {
+    char s[12];
+    long val;
+} t[] = {
+
+    /* Empty string	*/
+    { "", 0 },
+    { " ", 0 },
+    { "\t\n\v\f\r", 0 },
+
+    /* Common values	*/
+    { "0", 0 },
+    { "+0", 0 },
+    { "-0", 0 },
+    { "1", 1 },
+    { "+1", 1 },
+    { "-1", -1 },
+    { "32767", 32767 },
+    { "32768", 32768 },
+    { "-32767", -32767 },
+    { "-32768", -32768 },
+    { "-987654321", -987654321 },
+    { "+1234567890", 1234567890 },
+    { "2147483647", 2147483647 },
+    { "-2147483647", -2147483647 },
+    { "-2147483648", 0x80000000 },
+    
+    /* Nonzero end character	*/
+    { "12\001", 12 },
+    { "123\377", 123 },
+    { "1234/", 1234 },		/* '0'-1 == '/'	*/
+    { "12345:", 12345 },	/* '9'+1 == ':'	*/
+    { "321 4", 321 },
+    
+    /* Empty symbols at begin	*/
+    { " -4", -4 },
+    { "\t+5", 5 },
+    { "\t\n\v\f\r-321", -321 },		/* bug #18899	*/
+    
+    /* No digits	*/
+    { "\001123", 0 },
+    { "\377-123", 0 },
+    { "\010123", 0 },		/* '\t'-1 == 010	*/
+    { "\016+123", 0 },		/* '\r'+1 == 016	*/
+    
+    /* atol() accepts 10-base only	*/
+    { "010", 10 },
+    { "0x10", 0 },
+    { "0X10", 0 },
+};
+
+volatile long vlt = 1;		/* for debug conveniency	*/
+
+void t_exit (int idx)
+{
+#ifdef	__AVR__
+    exit (idx + 1);
+#else
+    printf ("result=%ld against t[%d]={\"%s\", %ld}\n",
+	    vlt, idx, t[idx].s, t[idx].val);
+    exit (1);
+#endif
+}
+
+int main ()
+{
+    int i;
+    char s[sizeof(t[0].s)];
+
+    for (i = 0; i < (int)(sizeof(t) / sizeof(t[0])); i++) {
+	strcpy_P (s, t[i].s);
+	vlt = atol (s);
+	if (vlt != (long)pgm_read_dword (& t[i].val))
+	    t_exit (i);
+    }
+    return 0;
+}
diff --git a/tests/simulate/stdlib/bsearch-1.c b/tests/simulate/stdlib/bsearch-1.c
new file mode 100644
index 0000000..5bdc56d
--- /dev/null
+++ b/tests/simulate/stdlib/bsearch-1.c
@@ -0,0 +1,77 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Simplest cases.
+   $Id$
+ */
+#include <stdlib.h>
+
+int cmp (const void *p1, const void *p2)
+{
+    return *(unsigned char *)p1 - *(unsigned char *)p2;
+}
+
+int main ()
+{
+    static unsigned char arr[100];
+    unsigned char key;
+
+    if (bsearch (arr, arr, 0, 1, cmp) != 0)
+	exit (__LINE__);
+    
+    /* If element size equal to 0, Glibc and original bsearch
+       return comparison result of first element.
+       New bsearch do the same.	*/
+    if (bsearch (arr, arr, sizeof(arr), 0, cmp) != arr)
+	exit (__LINE__);
+    key = 1;
+    if (bsearch (& key, arr, sizeof(arr), 0, cmp) != 0)
+	exit (__LINE__);
+    
+    /* key has address from arr	*/
+    if (bsearch (arr, arr, 1, 1, cmp) != arr)
+	exit (__LINE__);
+
+    /* key has another address	*/
+    key = arr[0];
+    if (bsearch (& key, arr, 1, 1, cmp) != arr)
+	exit (__LINE__);
+
+    /* key > arr[0]	*/
+    key = 1;
+    if (bsearch (& key, arr, 1, 1, cmp) != 0)
+	exit (__LINE__);
+
+    /* key < arr[0]	*/
+    arr[0] = 2;
+    if (bsearch (& key, arr, 1, 1, cmp) != 0)
+	exit (__LINE__);
+
+    return 0;
+}
diff --git a/tests/simulate/stdlib/bsearch-2.c b/tests/simulate/stdlib/bsearch-2.c
new file mode 100644
index 0000000..0933d3c
--- /dev/null
+++ b/tests/simulate/stdlib/bsearch-2.c
@@ -0,0 +1,96 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Tests of branch logic. Number of probing is checked.
+   $Id$
+ */
+#include <stdlib.h>
+
+/* Calculate max number of compare function calls, depends of nmemb	*/
+int max_calls (size_t nmemb)
+{
+    int n = 0;		/* result		*/
+    size_t exp = 1;	/* margin: 1,2,4,8...	*/
+    do {
+	if (exp > nmemb) break;
+	n += 1;
+    } while (exp *= 2);
+    return (n ? n : 1);
+}
+
+int cmp_calls;
+
+int cmp (const void *p1, const void *p2)
+{
+    cmp_calls += 1;
+    return *(unsigned char *)p1 - *(unsigned char *)p2;
+}
+
+int main ()
+{
+    unsigned char arr[33], key;
+    size_t nmemb;
+    int i;
+    
+    /* max_calls verify	*/
+    if (   max_calls(1) != 1
+	|| max_calls(2) != 2
+	|| max_calls(3) != 2
+	|| max_calls(7) != 3
+	|| max_calls(8) != 4 ) exit (__LINE__);
+    
+    /* Filling of arr: 1,3,5...	*/
+    for (i= 0; i < (int)sizeof(arr); i++)
+	arr[i] = 1 + 2*i;
+
+    for (nmemb= 1; nmemb <= sizeof(arr); nmemb++) {
+    
+	/* Non-existance keys:  arr[i] < key < arr[i+1]	*/
+	for (i= 0; (size_t)i <= nmemb; i++) {
+	    key = 2*i;
+	    cmp_calls = 0;
+	    if (bsearch (& key, arr, nmemb, 1, cmp) != 0)
+		exit (__LINE__);
+	    if (cmp_calls > max_calls(nmemb))
+		exit (__LINE__);
+	}
+	
+	/* All existance keys.	*/
+	for (i= 0; (size_t)i < nmemb; i++) {
+	    key = arr[i];
+	    cmp_calls = 0;
+	    if (bsearch (& key, arr, nmemb, 1, cmp) != arr + i)
+		exit (__LINE__);
+	    if (cmp_calls > max_calls(nmemb))
+		exit (__LINE__);
+	}
+
+    }
+    return 0;
+}
diff --git a/tests/simulate/stdlib/bsearch-3.c b/tests/simulate/stdlib/bsearch-3.c
new file mode 100644
index 0000000..ba91c5e
--- /dev/null
+++ b/tests/simulate/stdlib/bsearch-3.c
@@ -0,0 +1,75 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Multibytes members.
+   $Id$
+ */
+
+#include <stdlib.h>
+#include <string.h>
+#include <stdio.h>
+
+size_t size;	/* to pass size of members	*/
+
+int cmp (const void *p1, const void *p2)
+{
+    return memcmp(p1, p2, size);
+}
+
+int main ()
+{
+    char arr[100];
+    size_t nmemb;
+    int i;
+    
+    /* Filling of arr: 0,1,2...	*/
+    for (i= 0; (size_t)i < sizeof(arr); i++)
+	arr[i] = i;
+
+    for (size= 1;  size <= sizeof(arr);  size++) {
+	for (nmemb= 1;  nmemb <= sizeof(arr) / size;  nmemb++) {
+	    /* scanning all keys	*/
+	    for (i= 0;  (size_t)i <= sizeof(arr) - size;  i++) {
+		if ((i % size) == 0 && (i / size) < nmemb) {
+		    if (bsearch (arr + i, arr, nmemb, size, cmp) != arr + i) {
+#ifndef	__AVR__
+			printf ("size= %d  nmemb= %d  i= %d\n",
+				size, nmemb, i );
+#endif
+			exit (__LINE__);
+		    }
+		} else {
+		    if (bsearch (arr + i, arr, nmemb, size, cmp))
+			exit (__LINE__);
+		}
+	    }
+	}
+    }
+    return 0;
+}
diff --git a/tests/simulate/stdlib/dtostre-01.c b/tests/simulate/stdlib/dtostre-01.c
new file mode 100644
index 0000000..d84a0b9
--- /dev/null
+++ b/tests/simulate/stdlib/dtostre-01.c
@@ -0,0 +1,56 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Nonregular cases.
+   $Id$
+ */
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+#include "dtostre.h"
+
+PROGMEM static const struct dtostre_s t[] = {
+
+    { { .fl = 1e-15 }, 3, 0,		"1.000e-15" },
+    { { .fl = -1e-15 }, 3, 0,		"-1.000e-15" },
+
+    { { .fl = 1.234567 }, 6, 0,		"1.234567e+00" },
+    { { .fl = -1.234567 }, 6, 0,	"-1.234567e+00" },
+    
+    { { .fl = 9.876543 }, 6, 0,		"9.876543e+00" },
+
+};
+
+int main ()
+{
+    int i;
+    for (i= 0; (size_t)i != sizeof(t)/sizeof(t[0]); i++)
+	run_dtostre (t+i, i+1);
+    return 0;
+}
diff --git a/tests/simulate/stdlib/dtostre-02.c b/tests/simulate/stdlib/dtostre-02.c
new file mode 100644
index 0000000..a2c7b50
--- /dev/null
+++ b/tests/simulate/stdlib/dtostre-02.c
@@ -0,0 +1,164 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* $Id */
+
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+#include "dtostre.h"
+
+PROGMEM static const struct dtostre_s t[] = {
+
+    { { 0x3f800000 }, 0, 0,	"1e+00" },    
+    { { 0x3f800000 }, 1, 0,	"1.0e+00" },
+    { { 0x3f800000 }, 2, 0,	"1.00e+00" },
+    { { 0x3f800000 }, 3, 0,	"1.000e+00" },
+    { { 0x3f800000 }, 4, 0,	"1.0000e+00" },
+    { { 0x3f800000 }, 5, 0,	"1.00000e+00" },
+    { { 0x3f800000 }, 6, 0,	"1.000000e+00" },
+    { { 0x3f800000 }, 7, 0,	"1.0000000e+00" },
+    { { 0x3f800000 }, 8, 0,	"1.0000000e+00" },
+    { { 0x3f800000 }, 255, 0,	"1.0000000e+00" },
+
+    { { 0x3f800000 }, 0, DTOSTR_ALWAYS_SIGN,	" 1e+00" },    
+    { { 0x3f800000 }, 0, DTOSTR_PLUS_SIGN,	"+1e+00" },    
+    { { 0x3f800000 }, 0, DTOSTR_UPPERCASE,	"1E+00" },    
+    { { 0x3f800000 }, 0,
+	DTOSTR_ALWAYS_SIGN | DTOSTR_PLUS_SIGN | DTOSTR_UPPERCASE,
+	"+1E+00" },
+
+    { { 0xbf800000 }, 0, 0,	"-1e+00" },    
+    { { 0xbf800000 }, 0, DTOSTR_ALWAYS_SIGN,	"-1e+00" },    
+    { { 0xbf800000 }, 0, DTOSTR_PLUS_SIGN,	"-1e+00" },    
+    { { 0xbf800000 }, 0, DTOSTR_UPPERCASE,	"-1E+00" },
+    
+    { { .fl = 1e-15 }, 0, 0,	"1e-15" },
+    { { .fl = 1e-15 }, 1, 0,	"1.0e-15" },
+    { { .fl = 1e-15 }, 2, 0,	"1.00e-15" },
+    { { .fl = 1e-15 }, 3, 0,	"1.000e-15" },	/* avr-libc bug # 11820	*/
+    { { .fl = 1e-15 }, 4, 0,	"1.0000e-15" },
+    { { .fl = 1e-15 }, 5, 0,	"1.00000e-15" },
+    { { .fl = 1e-15 }, 6, 0,	"1.000000e-15" },
+    { { .fl = 1e-15 }, 7, 0,	"1.0000000e-15" },
+    { { .fl = 1e-15 }, 8, 0,	"1.0000000e-15" },
+
+    { { .fl = 1e-37 }, 0, 0,	"1e-37" },
+    { { .fl = 1e-36 }, 0, 0,	"1e-36" },
+    { { .fl = 1e-35 }, 0, 0,	"1e-35" },
+    { { .fl = 1e-34 }, 0, 0,	"1e-34" },
+    { { .fl = 1e-33 }, 0, 0,	"1e-33" },
+    { { .fl = 1e-32 }, 0, 0,	"1e-32" },
+    { { .fl = 1e-31 }, 0, 0,	"1e-31" },
+    { { .fl = 1e-30 }, 0, 0,	"1e-30" },
+
+    { { .fl = 1e-29 }, 0, 0,	"1e-29" },
+    { { .fl = 1e-28 }, 0, 0,	"1e-28" },
+    { { .fl = 1e-27 }, 0, 0,	"1e-27" },
+    { { .fl = 1e-26 }, 0, 0,	"1e-26" },
+    { { .fl = 1e-25 }, 0, 0,	"1e-25" },
+    { { .fl = 1e-24 }, 0, 0,	"1e-24" },
+    { { .fl = 1e-23 }, 0, 0,	"1e-23" },
+    { { .fl = 1e-22 }, 0, 0,	"1e-22" },
+    { { .fl = 1e-21 }, 0, 0,	"1e-21" },
+    { { .fl = 1e-20 }, 0, 0,	"1e-20" },
+
+    { { .fl = 1e-19 }, 0, 0,	"1e-19" },
+    { { .fl = 1e-18 }, 0, 0,	"1e-18" },
+    { { .fl = 1e-17 }, 0, 0,	"1e-17" },
+    { { .fl = 1e-16 }, 0, 0,	"1e-16" },
+    { { .fl = 1e-15 }, 0, 0,	"1e-15" },
+    { { .fl = 1e-14 }, 0, 0,	"1e-14" },
+    { { .fl = 1e-13 }, 0, 0,	"1e-13" },
+    { { .fl = 1e-12 }, 0, 0,	"1e-12" },
+    { { .fl = 1e-11 }, 0, 0,	"1e-11" },
+    { { .fl = 1e-10 }, 0, 0,	"1e-10" },
+
+    { { .fl = 1e-09 }, 0, 0,	"1e-09" },
+    { { .fl = 1e-08 }, 0, 0,	"1e-08" },
+    { { .fl = 1e-07 }, 0, 0,	"1e-07" },
+    { { .fl = 1e-06 }, 0, 0,	"1e-06" },
+    { { .fl = 1e-05 }, 0, 0,	"1e-05" },
+    { { .fl = 1e-04 }, 0, 0,	"1e-04" },
+    { { .fl = 1e-03 }, 0, 0,	"1e-03" },
+    { { .fl = 1e-02 }, 0, 0,	"1e-02" },
+    { { .fl = 1e-01 }, 0, 0,	"1e-01" },
+
+    { { .fl = 1e+00 }, 0, 0,	"1e+00" },
+
+    { { .fl = 1e+01 }, 0, 0,	"1e+01" },
+    { { .fl = 1e+02 }, 0, 0,	"1e+02" },
+    { { .fl = 1e+03 }, 0, 0,	"1e+03" },
+    { { .fl = 1e+04 }, 0, 0,	"1e+04" },
+    { { .fl = 1e+05 }, 0, 0,	"1e+05" },
+    { { .fl = 1e+06 }, 0, 0,	"1e+06" },
+    { { .fl = 1e+07 }, 0, 0,	"1e+07" },
+    { { .fl = 1e+08 }, 0, 0,	"1e+08" },
+    { { .fl = 1e+09 }, 0, 0,	"1e+09" },
+
+    { { .fl = 1e+10 }, 0, 0,	"1e+10" },
+    { { .fl = 1e+11 }, 0, 0,	"1e+11" },
+    { { .fl = 1e+12 }, 0, 0,	"1e+12" },
+    { { .fl = 1e+13 }, 0, 0,	"1e+13" },
+    { { .fl = 1e+14 }, 0, 0,	"1e+14" },
+    { { .fl = 1e+15 }, 0, 0,	"1e+15" },
+    { { .fl = 1e+16 }, 0, 0,	"1e+16" },
+    { { .fl = 1e+17 }, 0, 0,	"1e+17" },
+    { { .fl = 1e+18 }, 0, 0,	"1e+18" },
+    { { .fl = 1e+19 }, 0, 0,	"1e+19" },
+
+    { { .fl = 1e+20 }, 0, 0,	"1e+20" },
+    { { .fl = 1e+21 }, 0, 0,	"1e+21" },
+    { { .fl = 1e+22 }, 0, 0,	"1e+22" },
+    { { .fl = 1e+23 }, 0, 0,	"1e+23" },
+    { { .fl = 1e+24 }, 0, 0,	"1e+24" },
+    { { .fl = 1e+25 }, 0, 0,	"1e+25" },
+    { { .fl = 1e+26 }, 0, 0,	"1e+26" },
+    { { .fl = 1e+27 }, 0, 0,	"1e+27" },
+    { { .fl = 1e+28 }, 0, 0,	"1e+28" },
+    { { .fl = 1e+29 }, 0, 0,	"1e+29" },
+
+    { { .fl = 1e+30 }, 0, 0,	"1e+30" },
+    { { .fl = 1e+31 }, 0, 0,	"1e+31" },
+    { { .fl = 1e+32 }, 0, 0,	"1e+32" },
+    { { .fl = 1e+33 }, 0, 0,	"1e+33" },
+    { { .fl = 1e+34 }, 0, 0,	"1e+34" },
+    { { .fl = 1e+35 }, 0, 0,	"1e+35" },
+    { { .fl = 1e+36 }, 0, 0,	"1e+36" },
+    { { .fl = 1e+37 }, 0, 0,	"1e+37" },
+    { { .fl = 1e+38 }, 0, 0,	"1e+38" },
+};
+
+int main ()
+{
+    int i;
+    for (i= 0; (size_t)i != sizeof(t)/sizeof(t[0]); i++)
+	run_dtostre (t+i, i+1);
+    return 0;
+}
diff --git a/tests/simulate/stdlib/dtostre-03.c b/tests/simulate/stdlib/dtostre-03.c
new file mode 100644
index 0000000..1c46fb2
--- /dev/null
+++ b/tests/simulate/stdlib/dtostre-03.c
@@ -0,0 +1,130 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* $Id */
+
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+#include "dtostre.h"
+
+PROGMEM static const struct dtostre_s t[] = {
+
+    { { .fl = 1.2e-38 }, 1, 0,	"1.2e-38" },
+    { { .fl = 9.9e-38 }, 1, 0,	"9.9e-38" },
+    { { .fl = 1.1e-37 }, 1, 0,	"1.1e-37" },
+    { { .fl = 9.9e-37 }, 1, 0,	"9.9e-37" },
+    { { .fl = 1.1e-36 }, 1, 0,	"1.1e-36" },
+    { { .fl = 9.9e-36 }, 1, 0,	"9.9e-36" },
+    { { .fl = 1.1e-35 }, 1, 0,	"1.1e-35" },
+    { { .fl = 9.9e-35 }, 1, 0,	"9.9e-35" },
+    { { .fl = 1.1e-34 }, 1, 0,	"1.1e-34" },
+    { { .fl = 9.9e-34 }, 1, 0,	"9.9e-34" },
+    { { .fl = 1.1e-33 }, 1, 0,	"1.1e-33" },
+    { { .fl = 9.9e-33 }, 1, 0,	"9.9e-33" },
+    { { .fl = 1.1e-32 }, 1, 0,	"1.1e-32" },
+    { { .fl = 9.9e-32 }, 1, 0,	"9.9e-32" },
+    { { .fl = 1.1e-31 }, 1, 0,	"1.1e-31" },
+    { { .fl = 9.9e-31 }, 1, 0,	"9.9e-31" },
+    { { .fl = 1.1e-30 }, 1, 0,	"1.1e-30" },
+    { { .fl = 9.9e-30 }, 1, 0,	"9.9e-30" },
+
+    { { .fl = 1.1e-29 }, 1, 0,	"1.1e-29" },
+    { { .fl = 9.9e-29 }, 1, 0,	"9.9e-29" },
+    { { .fl = 1.1e-28 }, 1, 0,	"1.1e-28" },
+    { { .fl = 9.9e-28 }, 1, 0,	"9.9e-28" },
+    { { .fl = 1.1e-27 }, 1, 0,	"1.1e-27" },
+    { { .fl = 9.9e-27 }, 1, 0,	"9.9e-27" },
+    { { .fl = 1.1e-26 }, 1, 0,	"1.1e-26" },
+    { { .fl = 9.9e-26 }, 1, 0,	"9.9e-26" },
+    { { .fl = 1.1e-25 }, 1, 0,	"1.1e-25" },
+    { { .fl = 9.9e-25 }, 1, 0,	"9.9e-25" },
+    { { .fl = 1.1e-24 }, 1, 0,	"1.1e-24" },
+    { { .fl = 9.9e-24 }, 1, 0,	"9.9e-24" },
+    { { .fl = 1.1e-23 }, 1, 0,	"1.1e-23" },
+    { { .fl = 9.9e-23 }, 1, 0,	"9.9e-23" },
+    { { .fl = 1.1e-22 }, 1, 0,	"1.1e-22" },
+    { { .fl = 9.9e-22 }, 1, 0,	"9.9e-22" },
+    { { .fl = 1.1e-21 }, 1, 0,	"1.1e-21" },
+    { { .fl = 9.9e-21 }, 1, 0,	"9.9e-21" },
+    { { .fl = 1.1e-20 }, 1, 0,	"1.1e-20" },
+    { { .fl = 9.9e-20 }, 1, 0,	"9.9e-20" },
+
+    { { .fl = 1.1e-19 }, 1, 0,	"1.1e-19" },
+    { { .fl = 9.9e-19 }, 1, 0,	"9.9e-19" },
+    { { .fl = 1.1e-18 }, 1, 0,	"1.1e-18" },
+    { { .fl = 9.9e-18 }, 1, 0,	"9.9e-18" },
+    { { .fl = 1.1e-17 }, 1, 0,	"1.1e-17" },
+    { { .fl = 9.9e-17 }, 1, 0,	"9.9e-17" },
+    { { .fl = 1.1e-16 }, 1, 0,	"1.1e-16" },
+    { { .fl = 9.9e-16 }, 1, 0,	"9.9e-16" },
+    { { .fl = 1.1e-15 }, 1, 0,	"1.1e-15" },
+    { { .fl = 9.9e-15 }, 1, 0,	"9.9e-15" },
+    { { .fl = 1.1e-14 }, 1, 0,	"1.1e-14" },
+    { { .fl = 9.9e-14 }, 1, 0,	"9.9e-14" },
+    { { .fl = 1.1e-13 }, 1, 0,	"1.1e-13" },
+    { { .fl = 9.9e-13 }, 1, 0,	"9.9e-13" },
+    { { .fl = 1.1e-12 }, 1, 0,	"1.1e-12" },
+    { { .fl = 9.9e-12 }, 1, 0,	"9.9e-12" },
+    { { .fl = 1.1e-11 }, 1, 0,	"1.1e-11" },
+    { { .fl = 9.9e-11 }, 1, 0,	"9.9e-11" },
+    { { .fl = 1.1e-10 }, 1, 0,	"1.1e-10" },
+    { { .fl = 9.9e-10 }, 1, 0,	"9.9e-10" },
+
+    { { .fl = 1.1e-09 }, 1, 0,	"1.1e-09" },
+    { { .fl = 9.9e-09 }, 1, 0,	"9.9e-09" },
+    { { .fl = 1.1e-08 }, 1, 0,	"1.1e-08" },
+    { { .fl = 9.9e-08 }, 1, 0,	"9.9e-08" },
+    { { .fl = 1.1e-07 }, 1, 0,	"1.1e-07" },
+    { { .fl = 9.9e-07 }, 1, 0,	"9.9e-07" },
+    { { .fl = 1.1e-06 }, 1, 0,	"1.1e-06" },
+    { { .fl = 9.9e-06 }, 1, 0,	"9.9e-06" },
+    { { .fl = 1.1e-05 }, 1, 0,	"1.1e-05" },
+    { { .fl = 9.9e-05 }, 1, 0,	"9.9e-05" },
+    { { .fl = 1.1e-04 }, 1, 0,	"1.1e-04" },
+    { { .fl = 9.9e-04 }, 1, 0,	"9.9e-04" },
+    { { .fl = 1.1e-03 }, 1, 0,	"1.1e-03" },
+    { { .fl = 9.9e-03 }, 1, 0,	"9.9e-03" },
+    { { .fl = 1.1e-02 }, 1, 0,	"1.1e-02" },
+    { { .fl = 9.9e-02 }, 1, 0,	"9.9e-02" },
+    { { .fl = 1.1e-01 }, 1, 0,	"1.1e-01" },
+    { { .fl = 9.9e-01 }, 1, 0,	"9.9e-01" },
+    
+    { { .fl = 1.1e+00 }, 1, 0,	"1.1e+00" },
+    { { .fl = 9.9e+00 }, 1, 0,	"9.9e+00" },
+
+};
+
+int main ()
+{
+    int i;
+    for (i= 0; (size_t)i != sizeof(t)/sizeof(t[0]); i++)
+	run_dtostre (t+i, i+1);
+    return 0;
+}
diff --git a/tests/simulate/stdlib/dtostre-04.c b/tests/simulate/stdlib/dtostre-04.c
new file mode 100644
index 0000000..d34b06b
--- /dev/null
+++ b/tests/simulate/stdlib/dtostre-04.c
@@ -0,0 +1,129 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* $Id */
+
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+#include "dtostre.h"
+
+PROGMEM static const struct dtostre_s t[] = {
+
+    { { .fl = 1.1e+00 }, 1, 0,	"1.1e+00" },
+    { { .fl = 9.9e+00 }, 1, 0,	"9.9e+00" },
+    { { .fl = 1.1e+01 }, 1, 0,	"1.1e+01" },
+    { { .fl = 9.9e+01 }, 1, 0,	"9.9e+01" },
+    { { .fl = 1.1e+02 }, 1, 0,	"1.1e+02" },
+    { { .fl = 9.9e+02 }, 1, 0,	"9.9e+02" },
+    { { .fl = 1.1e+03 }, 1, 0,	"1.1e+03" },
+    { { .fl = 9.9e+03 }, 1, 0,	"9.9e+03" },
+    { { .fl = 1.1e+04 }, 1, 0,	"1.1e+04" },
+    { { .fl = 9.9e+04 }, 1, 0,	"9.9e+04" },
+    { { .fl = 1.1e+05 }, 1, 0,	"1.1e+05" },
+    { { .fl = 9.9e+05 }, 1, 0,	"9.9e+05" },
+    { { .fl = 1.1e+06 }, 1, 0,	"1.1e+06" },
+    { { .fl = 9.9e+06 }, 1, 0,	"9.9e+06" },
+    { { .fl = 1.1e+07 }, 1, 0,	"1.1e+07" },
+    { { .fl = 9.9e+07 }, 1, 0,	"9.9e+07" },
+    { { .fl = 1.1e+08 }, 1, 0,	"1.1e+08" },
+    { { .fl = 9.9e+08 }, 1, 0,	"9.9e+08" },
+    { { .fl = 1.1e+09 }, 1, 0,	"1.1e+09" },
+    { { .fl = 9.9e+09 }, 1, 0,	"9.9e+09" },
+
+    { { .fl = 1.1e+10 }, 1, 0,	"1.1e+10" },
+    { { .fl = 9.9e+10 }, 1, 0,	"9.9e+10" },
+    { { .fl = 1.1e+11 }, 1, 0,	"1.1e+11" },
+    { { .fl = 9.9e+11 }, 1, 0,	"9.9e+11" },
+    { { .fl = 1.1e+12 }, 1, 0,	"1.1e+12" },
+    { { .fl = 9.9e+12 }, 1, 0,	"9.9e+12" },
+    { { .fl = 1.1e+13 }, 1, 0,	"1.1e+13" },
+    { { .fl = 9.9e+13 }, 1, 0,	"9.9e+13" },
+    { { .fl = 1.1e+14 }, 1, 0,	"1.1e+14" },
+    { { .fl = 9.9e+14 }, 1, 0,	"9.9e+14" },
+    { { .fl = 1.1e+15 }, 1, 0,	"1.1e+15" },
+    { { .fl = 9.9e+15 }, 1, 0,	"9.9e+15" },
+    { { .fl = 1.1e+16 }, 1, 0,	"1.1e+16" },
+    { { .fl = 9.9e+16 }, 1, 0,	"9.9e+16" },
+    { { .fl = 1.1e+17 }, 1, 0,	"1.1e+17" },
+    { { .fl = 9.9e+17 }, 1, 0,	"9.9e+17" },
+    { { .fl = 1.1e+18 }, 1, 0,	"1.1e+18" },
+    { { .fl = 9.9e+18 }, 1, 0,	"9.9e+18" },
+    { { .fl = 1.1e+19 }, 1, 0,	"1.1e+19" },
+    { { .fl = 9.9e+19 }, 1, 0,	"9.9e+19" },
+
+    { { .fl = 1.1e+20 }, 1, 0,	"1.1e+20" },
+    { { .fl = 9.9e+20 }, 1, 0,	"9.9e+20" },
+    { { .fl = 1.1e+21 }, 1, 0,	"1.1e+21" },
+    { { .fl = 9.9e+21 }, 1, 0,	"9.9e+21" },
+    { { .fl = 1.1e+22 }, 1, 0,	"1.1e+22" },
+    { { .fl = 9.9e+22 }, 1, 0,	"9.9e+22" },
+    { { .fl = 1.1e+23 }, 1, 0,	"1.1e+23" },
+    { { .fl = 9.9e+23 }, 1, 0,	"9.9e+23" },
+    { { .fl = 1.1e+24 }, 1, 0,	"1.1e+24" },
+    { { .fl = 9.9e+24 }, 1, 0,	"9.9e+24" },
+    { { .fl = 1.1e+25 }, 1, 0,	"1.1e+25" },
+    { { .fl = 9.9e+25 }, 1, 0,	"9.9e+25" },
+    { { .fl = 1.1e+26 }, 1, 0,	"1.1e+26" },
+    { { .fl = 9.9e+26 }, 1, 0,	"9.9e+26" },
+    { { .fl = 1.1e+27 }, 1, 0,	"1.1e+27" },
+    { { .fl = 9.9e+27 }, 1, 0,	"9.9e+27" },
+    { { .fl = 1.1e+28 }, 1, 0,	"1.1e+28" },
+    { { .fl = 9.9e+28 }, 1, 0,	"9.9e+28" },
+    { { .fl = 1.1e+29 }, 1, 0,	"1.1e+29" },
+    { { .fl = 9.9e+29 }, 1, 0,	"9.9e+29" },
+
+    { { .fl = 1.1e+30 }, 1, 0,	"1.1e+30" },
+    { { .fl = 9.9e+30 }, 1, 0,	"9.9e+30" },
+    { { .fl = 1.1e+31 }, 1, 0,	"1.1e+31" },
+    { { .fl = 9.9e+31 }, 1, 0,	"9.9e+31" },
+    { { .fl = 1.1e+32 }, 1, 0,	"1.1e+32" },
+    { { .fl = 9.9e+32 }, 1, 0,	"9.9e+32" },
+    { { .fl = 1.1e+33 }, 1, 0,	"1.1e+33" },
+    { { .fl = 9.9e+33 }, 1, 0,	"9.9e+33" },
+    { { .fl = 1.1e+34 }, 1, 0,	"1.1e+34" },
+    { { .fl = 9.9e+34 }, 1, 0,	"9.9e+34" },
+    { { .fl = 1.1e+35 }, 1, 0,	"1.1e+35" },
+    { { .fl = 9.9e+35 }, 1, 0,	"9.9e+35" },
+    { { .fl = 1.1e+36 }, 1, 0,	"1.1e+36" },
+    { { .fl = 9.9e+36 }, 1, 0,	"9.9e+36" },
+    { { .fl = 1.1e+37 }, 1, 0,	"1.1e+37" },
+    { { .fl = 9.9e+37 }, 1, 0,	"9.9e+37" },
+    { { .fl = 1.1e+38 }, 1, 0,	"1.1e+38" },
+    { { .fl = 3.4e+38 }, 1, 0,	"3.4e+38" },
+
+};
+
+int main ()
+{
+    int i;
+    for (i= 0; (size_t)i != sizeof(t)/sizeof(t[0]); i++)
+	run_dtostre (t+i, i+1);
+    return 0;
+}
diff --git a/tests/simulate/stdlib/dtostre-05.c b/tests/simulate/stdlib/dtostre-05.c
new file mode 100644
index 0000000..6ab4099
--- /dev/null
+++ b/tests/simulate/stdlib/dtostre-05.c
@@ -0,0 +1,142 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* First and last value for each ftoa_engine's table entry.
+   $Id$
+*/
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+#include "dtostre.h"
+
+PROGMEM static const struct dtostre_s t[] = {
+
+    { { 0x03ffffff }, 7, 0,	"1.5046327e-36" },
+
+    { { 0x04000000 }, 7, 0,	"1.5046328e-36" },
+    { { 0x07ffffff }, 7, 0,	"3.8518597e-34" },
+
+    { { 0x08000000 }, 7, 0,	"3.8518599e-34" },
+    { { 0x0bffffff }, 7, 0,	"9.8607607e-32" },
+
+    { { 0x0c000000 }, 7, 0,	"9.8607613e-32" },
+    { { 0x0fffffff }, 7, 0,	"2.5243547e-29" },
+
+    { { 0x10000000 }, 7, 0,	"2.5243549e-29" },
+    { { 0x13ffffff }, 7, 0,	"6.4623482e-27" },
+
+    { { 0x14000000 }, 7, 0,	"6.4623485e-27" },
+    { { 0x17ffffff }, 7, 0,	"1.6543611e-24" },
+
+    { { 0x18000000 }, 7, 0,	"1.6543612e-24" },
+    { { 0x1bffffff }, 7, 0,	"4.2351645e-22" },
+
+    { { 0x1c000000 }, 7, 0,	"4.2351647e-22" },
+    { { 0x1fffffff }, 7, 0,	"1.0842021e-19" },
+
+    { { 0x20000000 }, 7, 0,	"1.0842022e-19" },
+    { { 0x23ffffff }, 7, 0,	"2.7755574e-17" },
+
+    { { 0x24000000 }, 7, 0,	"2.7755576e-17" },
+    { { 0x27ffffff }, 7, 0,	"7.1054269e-15" },
+
+    { { 0x28000000 }, 7, 0,	"7.1054274e-15" },
+    { { 0x2bffffff }, 7, 0,	"1.8189893e-12" },
+
+    { { 0x2c000000 }, 7, 0,	"1.8189894e-12" },
+    { { 0x2fffffff }, 7, 0,	"4.6566126e-10" },
+
+    { { 0x30000000 }, 7, 0,	"4.6566129e-10" },
+    { { 0x33ffffff }, 7, 0,	"1.1920928e-07" },
+
+    { { 0x34000000 }, 7, 0,	"1.1920929e-07" },
+    { { 0x37ffffff }, 7, 0,	"3.0517576e-05" },
+
+    { { 0x38000000 }, 7, 0,	"3.0517578e-05" },
+    { { 0x3bffffff }, 7, 0,	"7.8124995e-03" },
+
+    { { 0x3c000000 }, 7, 0,	"7.8125000e-03" },
+    { { 0x3fffffff }, 7, 0,	"1.9999999e+00" },
+
+    { { 0x40000000 }, 7, 0,	"2.0000000e+00" },
+    { { 0x43ffffff }, 7, 0,	"5.1199997e+02" },
+
+    { { 0x44000000 }, 7, 0,	"5.1200000e+02" },
+    { { 0x47ffffff }, 7, 0,	"1.3107199e+05" },
+
+    { { 0x48000000 }, 7, 0,	"1.3107200e+05" },
+    { { 0x4bffffff }, 7, 0,	"3.3554430e+07" },
+
+    { { 0x4c000000 }, 7, 0,	"3.3554432e+07" },
+    { { 0x4fffffff }, 7, 0,	"8.5899341e+09" },
+
+    { { 0x50000000 }, 7, 0,	"8.5899346e+09" },
+    { { 0x53ffffff }, 7, 0,	"2.1990231e+12" },
+
+    { { 0x54000000 }, 7, 0,	"2.1990233e+12" },
+    { { 0x57ffffff }, 7, 0,	"5.6294992e+14" },
+
+    { { 0x58000000 }, 7, 0,	"5.6294995e+14" },
+    { { 0x5bffffff }, 7, 0,	"1.4411518e+17" },
+
+    { { 0x5c000000 }, 7, 0,	"1.4411519e+17" },
+    { { 0x5fffffff }, 7, 0,	"3.6893486e+19" },
+
+    { { 0x60000000 }, 7, 0,	"3.6893488e+19" },
+    { { 0x63ffffff }, 7, 0,	"9.4447324e+21" },
+
+    { { 0x64000000 }, 7, 0,	"9.4447330e+21" },
+    { { 0x67ffffff }, 7, 0,	"2.4178515e+24" },
+
+    { { 0x68000000 }, 7, 0,	"2.4178516e+24" },
+    { { 0x6bffffff }, 7, 0,	"6.1896998e+26" },
+
+    { { 0x6c000000 }, 7, 0,	"6.1897002e+26" },
+    { { 0x6fffffff }, 7, 0,	"1.5845632e+29" },
+
+    { { 0x70000000 }, 7, 0,	"1.5845633e+29" },
+    { { 0x73ffffff }, 7, 0,	"4.0564817e+31" },
+
+    { { 0x74000000 }, 7, 0,	"4.0564819e+31" },
+    { { 0x77ffffff }, 7, 0,	"1.0384593e+34" },
+
+    { { 0x78000000 }, 7, 0,	"1.0384594e+34" },
+    { { 0x7bffffff }, 7, 0,	"2.6584558e+36" },
+
+    { { 0x7c000000 }, 7, 0,	"2.6584560e+36" },
+
+};
+
+int main ()
+{
+    int i;
+    for (i= 0; (size_t)i != sizeof(t)/sizeof(t[0]); i++)
+	run_dtostre (t+i, i+1);
+    return 0;
+}
diff --git a/tests/simulate/stdlib/dtostre-06.c b/tests/simulate/stdlib/dtostre-06.c
new file mode 100644
index 0000000..9111434
--- /dev/null
+++ b/tests/simulate/stdlib/dtostre-06.c
@@ -0,0 +1,92 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Rounding.
+   $Id$
+*/
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+#include "dtostre.h"
+
+PROGMEM static const struct dtostre_s t[] = {
+
+    { { .fl = 4.4444442 }, 7, 0,	"4.4444442e+00" },
+    { { .fl = 4.4444442 }, 6, 0,	"4.444444e+00" },
+    { { .fl = 4.4444442 }, 5, 0,	"4.44444e+00" },
+    { { .fl = 4.4444442 }, 4, 0,	"4.4444e+00" },
+    { { .fl = 4.4444442 }, 3, 0,	"4.444e+00" },
+    { { .fl = 4.4444442 }, 2, 0,	"4.44e+00" },
+    { { .fl = 4.4444442 }, 1, 0,	"4.4e+00" },
+    { { .fl = 4.4444442 }, 0, 0,	"4e+00" },
+
+    { { .fl = 6.6666665 }, 7, 0,	"6.6666665e+00" },
+    { { .fl = 6.6666665 }, 6, 0,	"6.666667e+00" },
+    { { .fl = 6.6666665 }, 5, 0,	"6.66667e+00" },
+    { { .fl = 6.6666665 }, 4, 0,	"6.6667e+00" },
+    { { .fl = 6.6666665 }, 3, 0,	"6.667e+00" },
+    { { .fl = 6.6666665 }, 2, 0,	"6.67e+00" },
+    { { .fl = 6.6666665 }, 1, 0,	"6.7e+00" },
+    { { .fl = 6.6666665 }, 0, 0,	"7e+00" },
+    
+    { { .fl = 9.999999 }, 6, 0,		"9.999999e+00" },
+    { { .fl = 9.999999 }, 5, 0,		"1.00000e+01" },
+    { { .fl = 9.999999 }, 4, 0,		"1.0000e+01" },
+    { { .fl = 9.999999 }, 3, 0,		"1.000e+01" },
+    { { .fl = 9.999999 }, 2, 0,		"1.00e+01" },
+    { { .fl = 9.999999 }, 1, 0,		"1.0e+01" },
+    { { .fl = 9.999999 }, 0, 0,		"1e+01" },
+    
+    { { .fl = 1.2341233 }, 7, 0,	"1.2341233e+00" },
+    { { .fl = 1.2341233 }, 6, 0,	"1.234123e+00" },
+    { { .fl = 1.2341233 }, 5, 0,	"1.23412e+00" },
+    { { .fl = 1.2341233 }, 4, 0,	"1.2341e+00" },
+    { { .fl = 1.2341233 }, 3, 0,	"1.234e+00" },
+    { { .fl = 1.2341233 }, 2, 0,	"1.23e+00" },
+    { { .fl = 1.2341233 }, 1, 0,	"1.2e+00" },
+    { { .fl = 1.2341233 }, 0, 0,	"1e+00" },
+
+    { { .fl = 5.6789565 }, 7, 0,	"5.6789565e+00" },
+    { { .fl = 5.6789565 }, 6, 0,	"5.678957e+00" },
+    { { .fl = 5.6789565 }, 5, 0,	"5.67896e+00" },
+    { { .fl = 5.6789565 }, 4, 0,	"5.6790e+00" },
+    { { .fl = 5.6789565 }, 3, 0,	"5.679e+00" },
+    { { .fl = 5.6789565 }, 2, 0,	"5.68e+00" },
+    { { .fl = 5.6789565 }, 1, 0,	"5.7e+00" },
+    { { .fl = 5.6789565 }, 0, 0,	"6e+00" },
+
+};
+
+int main ()
+{
+    int i;
+    for (i= 0; (size_t)i != sizeof(t)/sizeof(t[0]); i++)
+	run_dtostre (t+i, i+1);
+    return 0;
+}
diff --git a/tests/simulate/stdlib/dtostre-expm00.c b/tests/simulate/stdlib/dtostre-expm00.c
new file mode 100644
index 0000000..36aeb02
--- /dev/null
+++ b/tests/simulate/stdlib/dtostre-expm00.c
@@ -0,0 +1,65 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Case of negative zero exponent: 'e-00'.
+   $Id$
+ */
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+#include "dtostre.h"
+
+PROGMEM static const struct dtostre_s t[] = {
+
+    { { 0x3f7fffff }, 0, 0,	"1e-00" },
+    { { 0x3f7fffff }, 1, 0,	"1.0e-00" },
+    { { 0x3f7fffff }, 2, 0,	"1.00e-00" },
+    { { 0x3f7fffff }, 3, 0,	"1.000e-00" },
+    { { 0x3f7fffff }, 4, 0,	"1.0000e-00" },
+    { { 0x3f7fffff }, 5, 0,	"1.00000e-00" },
+    { { 0x3f7fffff }, 6, 0,	"9.999999e-01" },
+    { { 0x3f7fffff }, 7, 0,	"9.9999994e-01" },
+
+    { { 0xbf7fffff }, 0, 0,	"-1e-00" },
+    
+    { { .fl = 0.9500001 }, 0, 0,	"1e-00" },
+    { { .fl = 0.9950001 }, 1, 0,	"1.0e-00" },
+    { { .fl = 0.9995001 }, 2, 0,	"1.00e-00" },
+    { { .fl = 0.9999501 }, 3, 0,	"1.000e-00" },
+    { { .fl = 0.9999951 }, 4, 0,	"1.0000e-00" },
+    { { .fl = 0.9999996 }, 5, 0,	"1.00000e-00" },
+};
+
+int main ()
+{
+    int i;
+    for (i= 0; (size_t)i != sizeof(t)/sizeof(t[0]); i++)
+	run_dtostre (t+i, i+1);
+    return 0;
+}
diff --git a/tests/simulate/stdlib/dtostre-minmax.c b/tests/simulate/stdlib/dtostre-minmax.c
new file mode 100644
index 0000000..9ddc1d2
--- /dev/null
+++ b/tests/simulate/stdlib/dtostre-minmax.c
@@ -0,0 +1,74 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* $Id$ */
+
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+#include "dtostre.h"
+
+PROGMEM static const struct dtostre_s t[] = {
+
+    { { 0x00800000 }, 0, 0,	"1e-38" },
+    { { 0x00800000 }, 1, 0,	"1.2e-38" },
+    { { 0x00800000 }, 2, 0,	"1.18e-38" },
+    { { 0x00800000 }, 3, 0,	"1.175e-38" },
+    { { 0x00800000 }, 4, 0,	"1.1755e-38" },
+    { { 0x00800000 }, 5, 0,	"1.17549e-38" },
+    { { 0x00800000 }, 6, 0,	"1.175494e-38" },
+    { { 0x00800000 }, 7, 0,	"1.1754944e-38" },
+
+    { { 0x00800001 }, 7, 0,	"1.1754945e-38" },
+    { { 0x00800002 }, 7, 0,	"1.1754946e-38" },
+    { { 0x00800003 }, 7, 0,	"1.1754948e-38" },
+    { { 0x00800004 }, 7, 0,	"1.1754949e-38" },
+    
+    { { 0x7f7fffff }, 0, 0,	"3e+38" },
+    { { 0x7f7fffff }, 1, 0,	"3.4e+38" },
+    { { 0x7f7fffff }, 2, 0,	"3.40e+38" },
+    { { 0x7f7fffff }, 3, 0,	"3.403e+38" },
+    { { 0x7f7fffff }, 4, 0,	"3.4028e+38" },
+    { { 0x7f7fffff }, 5, 0,	"3.40282e+38" },
+    { { 0x7f7fffff }, 6, 0,	"3.402823e+38" },
+    { { 0x7f7fffff }, 7, 0,	"3.4028235e+38" },
+
+    { { 0x7f7ffffe }, 7, 0,	"3.4028233e+38" },
+    { { 0x7f7ffffd }, 7, 0,	"3.4028231e+38" },
+    { { 0x7f7ffffc }, 7, 0,	"3.4028229e+38" },
+    { { 0x7f7ffffb }, 7, 0,	"3.4028227e+38" },
+};
+
+int main ()
+{
+    int i;
+    for (i= 0; (size_t)i != sizeof(t)/sizeof(t[0]); i++)
+	run_dtostre (t+i, i+1);
+    return 0;
+}
diff --git a/tests/simulate/stdlib/dtostre-nans.c b/tests/simulate/stdlib/dtostre-nans.c
new file mode 100644
index 0000000..f5524be
--- /dev/null
+++ b/tests/simulate/stdlib/dtostre-nans.c
@@ -0,0 +1,69 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* $Id$ */
+
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+#include "dtostre.h"
+
+PROGMEM static const struct dtostre_s t[] = {
+
+    { { 0x7f800000 }, 0, 0,			"inf" },
+    { { 0x7f800000 }, 0, DTOSTR_ALWAYS_SIGN,	" inf" },
+    { { 0x7f800000 }, 0, DTOSTR_PLUS_SIGN,	"+inf" },
+    { { 0x7f800000 }, 0, DTOSTR_UPPERCASE,	"INF" },
+    { { 0xff800000 }, 0, 0,			"-inf" },
+    { { 0xff800000 }, 0, DTOSTR_ALWAYS_SIGN,	"-inf" },
+    { { 0xff800000 }, 0, DTOSTR_PLUS_SIGN,	"-inf" },
+    { { 0xff800000 }, 0, DTOSTR_UPPERCASE,	"-INF" },
+
+    { { 0x7f800001 }, 0, 0,			"nan" },
+    { { 0x7f800001 }, 0, DTOSTR_ALWAYS_SIGN,	" nan" },
+    { { 0x7f800001 }, 0, DTOSTR_PLUS_SIGN,	"+nan" },
+    { { 0x7f800001 }, 0, DTOSTR_UPPERCASE,	"NAN" },
+    { { 0xff800001 }, 0, 0,			"nan" },    /* no '-NaN' */
+    { { 0xff800001 }, 0, DTOSTR_ALWAYS_SIGN,	" nan" },
+    { { 0xff800001 }, 0, DTOSTR_PLUS_SIGN,	"+nan" },
+    { { 0xff800001 }, 0, DTOSTR_UPPERCASE,	"NAN" },
+
+    { { 0x7fffffff }, 0, 0,			"nan" },
+    { { 0xffffffff }, 0, 0,			"nan" },
+    { { 0x7fc00000 }, 0, 0,			"nan" },
+    { { 0xffc00000 }, 0, 0,			"nan" },
+};
+
+int main ()
+{
+    int i;
+    for (i= 0; (size_t)i != sizeof(t)/sizeof(t[0]); i++)
+	run_dtostre (t+i, i+1);
+    return 0;
+}
diff --git a/tests/simulate/stdlib/dtostre-subnrm.c b/tests/simulate/stdlib/dtostre-subnrm.c
new file mode 100644
index 0000000..8fe6394
--- /dev/null
+++ b/tests/simulate/stdlib/dtostre-subnrm.c
@@ -0,0 +1,67 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test for subnormal numbers.
+   $Id$
+ */
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+#include "dtostre.h"
+
+PROGMEM static const struct dtostre_s t[] = {
+
+    { { 0x007fffff }, 7, 0,	"1.1754942e-38" },
+
+    { { 0x00000001 }, 0, 0,	"1e-45" },
+    { { 0x00000001 }, 1, 0,	"1.4e-45" },
+    { { 0x00000001 }, 2, 0,	"1.40e-45" },
+    { { 0x00000001 }, 3, 0,	"1.401e-45" },
+    { { 0x00000001 }, 4, 0,	"1.4013e-45" },
+    { { 0x00000001 }, 5, 0,	"1.40130e-45" },
+/*    { { 0x00000001 }, 6, 0,	"1.401298e-45" },	*/
+/*    { { 0x00000001 }, 7, 0,	"1.4012985e-45" },	*/
+
+    { { 0x00000002 }, 0, 0,	"3e-45" },
+    { { 0x00000002 }, 1, 0,	"2.8e-45" },
+    { { 0x00000002 }, 2, 0,	"2.80e-45" },
+    { { 0x00000002 }, 3, 0,	"2.803e-45" },
+    { { 0x00000002 }, 4, 0,	"2.8026e-45" },
+    { { 0x00000002 }, 5, 0,	"2.80260e-45" },
+/*    { { 0x00000002 }, 6, 0,	"2.802597e-45" },	*/
+/*    { { 0x00000002 }, 7, 0,	"2.8025969e-45" },	*/
+};
+
+int main ()
+{
+    int i;
+    for (i= 0; (size_t)i != sizeof(t)/sizeof(t[0]); i++)
+	run_dtostre (t+i, i+1);
+    return 0;
+}
diff --git a/tests/simulate/stdlib/dtostre-zero.c b/tests/simulate/stdlib/dtostre-zero.c
new file mode 100644
index 0000000..5ff3480
--- /dev/null
+++ b/tests/simulate/stdlib/dtostre-zero.c
@@ -0,0 +1,63 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* $Id$ */
+
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+#include "dtostre.h"
+
+PROGMEM static const struct dtostre_s t[] = {
+    
+    { { 0 }, 0, 0,		"0e+00" },
+    { { 0x80000000 }, 0, 0,	"-0e+00" },	/* 'minus 0'	*/
+    { { 0 }, 0, DTOSTR_PLUS_SIGN,	"+0e+00" },
+    { { 0 }, 0, DTOSTR_ALWAYS_SIGN,	" 0e+00" },
+    { { 0 }, 0, DTOSTR_ALWAYS_SIGN | DTOSTR_PLUS_SIGN,	"+0e+00" },
+    { { 0 }, 0, DTOSTR_UPPERCASE,	"0E+00" },
+    { { 0 }, 1, 0,		"0.0e+00" },
+    { { 0 }, 2, 0,		"0.00e+00" },
+    { { 0 }, 3, 0,		"0.000e+00" },
+    { { 0 }, 4, 0,		"0.0000e+00" },
+    { { 0 }, 5, 0,		"0.00000e+00" },
+    { { 0 }, 6, 0,		"0.000000e+00" },
+    { { 0 }, 7, 0,		"0.0000000e+00" },
+    { { 0 }, 8, 0,		"0.0000000e+00" },
+    { { 0 }, 255, 0,		"0.0000000e+00" },
+
+};
+
+int main ()
+{
+    int i;
+    for (i= 0; (size_t)i != sizeof(t)/sizeof(t[0]); i++)
+	run_dtostre (t+i, i+1);
+    return 0;
+}
diff --git a/tests/simulate/stdlib/dtostre.h b/tests/simulate/stdlib/dtostre.h
new file mode 100644
index 0000000..af87b58
--- /dev/null
+++ b/tests/simulate/stdlib/dtostre.h
@@ -0,0 +1,137 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Header+source file to test the dtostre() function.
+   $Id$
+ */
+
+#ifndef	PATTERN_SIZE
+# define PATTERN_SIZE	15
+#endif
+
+struct dtostre_s {
+    union {
+	long lo;
+	float fl;
+    };
+    unsigned char prec;
+    unsigned char flags;
+    char pattern[PATTERN_SIZE];
+};
+
+#ifndef	__AVR__
+
+# include <stdio.h>
+# include <string.h>
+
+# define DTOSTR_ALWAYS_SIGN 0x01	/* put '+' or ' ' for positives */
+# define DTOSTR_PLUS_SIGN   0x02	/* put '+' rather than ' ' */
+# define DTOSTR_UPPERCASE   0x04	/* put 'E' rather 'e' */
+
+/* This function is intended for run of test cases on the host computer.
+ */
+char * dtostre (double val, char *s, unsigned char prec, unsigned char flags)
+{
+    char fmt[8];
+    char sign[2];
+    char e;
+    
+    if (prec > 7) prec = 7;
+    
+    strcpy(sign, "");
+    if (flags & DTOSTR_ALWAYS_SIGN)
+	strcpy(sign, " ");
+    if (flags & DTOSTR_PLUS_SIGN)
+	strcpy(sign, "+");
+
+    e = (flags & DTOSTR_UPPERCASE) ? 'E' : 'e';
+
+    sprintf(fmt, "%%%s.%d%c", sign, prec, e);
+    sprintf(s, fmt, val);
+    return s;
+}
+#endif	/* !__AVR__ */
+
+#define	PZLEN	5	/* protected zone length	*/
+
+void run_dtostre (const struct dtostre_s *pt, int testno)
+{
+    union {
+	long lo;
+	float fl;
+    } val;
+    unsigned char prec, flags;
+    static char s[2*PZLEN + sizeof(pt->pattern)];
+    char c, *ps;
+    void *pv;
+    
+    memset(s, testno, sizeof(s));
+
+#ifdef	__AVR__
+    val.lo = pgm_read_dword (& pt->lo);
+    prec   = pgm_read_byte (& pt->prec);
+    flags  = pgm_read_byte (& pt->flags);
+#else
+    val.lo = pt->lo;
+    prec   = pt->prec;
+    flags  = pt->flags;
+#endif
+    ps = dtostre (val.fl, s + PZLEN, prec, flags);
+
+    if (ps != s + PZLEN)
+	exit (testno + 0x1000);
+    for (ps = s; ps != s + PZLEN; ps++) {
+	if ((unsigned char)*ps != (testno & 0377))
+	    exit (testno + 0x2000);
+    }
+
+    pv = & pt->pattern;
+#ifdef	__AVR__
+    do {
+	c = pgm_read_byte(pv++);
+	if (*ps++ != c) {
+	    exit (testno + 0x3000);
+	}
+    } while (c);
+#else
+    do {
+	c = *(char *)(pv++);
+	if (*ps++ != c) {
+	    printf ("*** testno= %d:  must= %s  was= %s\n",
+		testno, pt->pattern, s + PZLEN);
+	    exit (testno + 0x3000);
+	}
+    } while (c);
+#endif
+
+    for (; ps != s + sizeof(s); ps++) {
+	if ((unsigned char)*ps != (testno & 0377))
+	    exit (testno + 0x4000);
+    }
+}
diff --git a/tests/simulate/stdlib/dtostrf-01.c b/tests/simulate/stdlib/dtostrf-01.c
new file mode 100644
index 0000000..76e1445
--- /dev/null
+++ b/tests/simulate/stdlib/dtostrf-01.c
@@ -0,0 +1,63 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Tests for 'dtostrf'.
+   $Id$
+*/
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+#include "dtostrf.h"
+
+PROGMEM static const struct dtostrf_s t[] = {
+
+/* Nonregular cases.	*/
+    { { .fl = 1.0 }, 0, 0,	"1" },
+    { { .fl = 0.0 }, 0, 0,	"0" },
+    { { .fl = 1.1 }, 0, 1,	"1.1" },
+    { { .fl = 1.2 }, 4, 1,	" 1.2" },
+    { { .fl = 0.5 }, 0, 1,	"0.5" },
+    { { .fl = 0.5 }, 0, 2,	"0.50" },
+    { { .fl = 0.5 }, 0, 8,	"0.50000000" },
+    { { .fl = 0.5 }, 0, 9,	"0.500000000" },
+    { { .fl = 123.45 }, 0, 2,	"123.45" },
+    { { .fl = 0.999999 }, 0, 6,	"0.999999"	},
+    
+    { { .fl = 1.234 }, -8, 3,	"1.234   "	},
+    { { .fl = -1.234 }, -8, 3,	"-1.234  "	},
+
+};
+
+int main ()
+{
+    int i;
+    for (i= 0; (size_t)i != sizeof(t)/sizeof(t[0]); i++)
+	run_dtostrf (t+i, i+1);
+    return 0;
+}
diff --git a/tests/simulate/stdlib/dtostrf-big.c b/tests/simulate/stdlib/dtostrf-big.c
new file mode 100644
index 0000000..488ab4d
--- /dev/null
+++ b/tests/simulate/stdlib/dtostrf-big.c
@@ -0,0 +1,105 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* $Id$ */
+
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+#define PATTERN_SIZE	270
+#include "dtostrf.h"
+
+PROGMEM static const struct dtostrf_s t[] = {
+
+    { { .fl = 1.2345678 }, 127, 7,
+	"                                "	/* 32 */
+	"                                "	/* 32 */
+	"                                "	/* 32 */
+	"                      1.2345678" },
+
+    { { .fl = 1.2345678 }, -128, 7,
+	"1.2345678                       "	/* 32 */
+	"                                "	/* 32 */
+	"                                "	/* 32 */
+	"                                " },
+
+    { { .fl = -1.2345678 }, 127, 7,
+	"                                "	/* 32 */
+	"                                "	/* 32 */
+	"                                "	/* 32 */
+	"                     -1.2345678" },
+
+    { { .fl = -1.2345678 }, -128, 7,
+	"-1.2345678                      "	/* 32 */
+	"                                "	/* 32 */
+	"                                "	/* 32 */
+	"                                " },
+
+    { { .fl = 12345678. }, 0, 255,
+	"12345678."
+	"00000000000000000000000000000000"	/* 32 */
+	"00000000000000000000000000000000"	/* 32 */
+	"00000000000000000000000000000000"	/* 32 */
+	"00000000000000000000000000000000"	/* 32 */
+	"00000000000000000000000000000000"	/* 32 */
+	"00000000000000000000000000000000"	/* 32 */
+	"00000000000000000000000000000000"	/* 32 */
+	"0000000000000000000000000000000" },
+
+    { { .fl = -12345678. }, 0, 255,
+	"-12345678."
+	"00000000000000000000000000000000"	/* 32 */
+	"00000000000000000000000000000000"	/* 32 */
+	"00000000000000000000000000000000"	/* 32 */
+	"00000000000000000000000000000000"	/* 32 */
+	"00000000000000000000000000000000"	/* 32 */
+	"00000000000000000000000000000000"	/* 32 */
+	"00000000000000000000000000000000"	/* 32 */
+	"0000000000000000000000000000000" },
+
+    { { .fl = .5 }, 0, 255,
+	"0."
+	"50000000000000000000000000000000"	/* 32 */
+	"00000000000000000000000000000000"	/* 32 */
+	"00000000000000000000000000000000"	/* 32 */
+	"00000000000000000000000000000000"	/* 32 */
+	"00000000000000000000000000000000"	/* 32 */
+	"00000000000000000000000000000000"	/* 32 */
+	"00000000000000000000000000000000"	/* 32 */
+	"0000000000000000000000000000000" },
+};
+
+int main ()
+{
+    int i;
+    for (i= 0; (size_t)i != sizeof(t)/sizeof(t[0]); i++)
+	run_dtostrf (t+i, i+1);
+    return 0;
+}
diff --git a/tests/simulate/stdlib/dtostrf-minmax.c b/tests/simulate/stdlib/dtostrf-minmax.c
new file mode 100644
index 0000000..e8b8ecd
--- /dev/null
+++ b/tests/simulate/stdlib/dtostrf-minmax.c
@@ -0,0 +1,85 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Min and max float values.
+   $Id$
+ */
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+#define PATTERN_SIZE	50
+#include "dtostrf.h"
+
+PROGMEM static const struct dtostrf_s t[] = {
+
+    { { 0x00800000 }, 0, 45,
+	"0.000000000000000000000000000000000000011754944"	},
+    { { 0x00800000 }, 0, 44,
+	"0.00000000000000000000000000000000000001175494"	},
+    { { 0x00800000 }, 0, 43,
+	"0.0000000000000000000000000000000000000117549"	},
+    { { 0x00800000 }, 0, 42,
+	"0.000000000000000000000000000000000000011755"	},
+    { { 0x00800000 }, 0, 41,
+	"0.00000000000000000000000000000000000001175"	},
+    { { 0x00800000 }, 0, 40,
+	"0.0000000000000000000000000000000000000118"	},
+    { { 0x00800000 }, 0, 39,
+	"0.000000000000000000000000000000000000012"	},
+    { { 0x00800000 }, 0, 38,
+	"0.00000000000000000000000000000000000001"	},
+    { { 0x00800000 }, 0, 37,
+	"0.0000000000000000000000000000000000000"	},
+    { { 0x00800000 }, 0, 36,
+	"0.000000000000000000000000000000000000"	},
+
+    { { 0x80800000 }, 0, 45,
+	"-0.000000000000000000000000000000000000011754944"	},
+    { { 0x00800000 }, 49, 45,
+	"  0.000000000000000000000000000000000000011754944"	},
+    { { 0x80800000 }, 49, 45,
+	" -0.000000000000000000000000000000000000011754944"	},
+
+#ifdef	__AVR__		/* Reason: Glibc calculate all digits.	*/
+    { { 0x7f7fffff }, 0, 0,
+	"340282350000000000000000000000000000000" },
+    { { 0xff7fffff }, 0, 0,
+	"-340282350000000000000000000000000000000" },
+#endif
+
+};
+
+int main ()
+{
+    int i;
+    for (i= 0; (size_t)i != sizeof(t)/sizeof(t[0]); i++)
+	run_dtostrf (t+i, i+1);
+    return 0;
+}
diff --git a/tests/simulate/stdlib/dtostrf-nans.c b/tests/simulate/stdlib/dtostrf-nans.c
new file mode 100644
index 0000000..3e8a1d1
--- /dev/null
+++ b/tests/simulate/stdlib/dtostrf-nans.c
@@ -0,0 +1,76 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* 'NaN' and 'Inf'.
+   $Id$
+ */
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+#include "dtostrf.h"
+
+PROGMEM static const struct dtostrf_s t[] = {
+
+    { { 0x7f800000 }, 0, 0,	"INF"		},
+    { { 0x7f800000 }, 10, 0,	"       INF"	},
+    { { 0x7f800000 }, -10, 0,	"INF       "	},
+
+    { { 0x7f800000 }, 0, 1,	"INF"		},
+    { { 0x7f800000 }, 0, 255,	"INF"		},
+    { { 0x7f800000 }, 4, 2,	" INF"		},
+
+    { { 0xff800000 }, 0, 0,	"-INF"		},
+    { { 0xff800000 }, 10, 0,	"      -INF"	},
+    { { 0xff800000 }, -10, 0,	"-INF      "	},
+
+    { { 0x7f800001 }, 0, 0,	"NAN"		},
+    { { 0x7f800001 }, 10, 0,	"       NAN"	},
+    { { 0x7f800001 }, -10, 0,	"NAN       "	},
+
+    { { 0xff800001 }, 0, 0,	"NAN"		},    /* no '-NaN' */
+    { { 0xff800001 }, 10, 0,	"       NAN"	},
+    { { 0xff800001 }, -10, 0,	"NAN       "	},
+
+    { { 0x7fffffff }, 0, 0,	"NAN" },
+    { { 0xffffffff }, 0, 0,	"NAN" },
+    { { 0x7fc00000 }, 0, 0,	"NAN" },
+    { { 0xffc00000 }, 0, 0,	"NAN" },
+
+    { { 0x7fc00000 }, 0, 1,	"NAN" },
+    { { 0x7fc00000 }, 0, 255,	"NAN" },
+    { { 0x7fc00000 }, 4, 2,	" NAN" },
+};
+
+int main ()
+{
+    int i;
+    for (i= 0; (size_t)i != sizeof(t)/sizeof(t[0]); i++)
+	run_dtostrf (t+i, i+1);
+    return 0;
+}
diff --git a/tests/simulate/stdlib/dtostrf-round.c b/tests/simulate/stdlib/dtostrf-round.c
new file mode 100644
index 0000000..173f24f
--- /dev/null
+++ b/tests/simulate/stdlib/dtostrf-round.c
@@ -0,0 +1,87 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of extra rounding.
+   $Id$
+ */
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+#include "dtostrf.h"
+
+PROGMEM static const struct dtostrf_s t[] = {
+
+    { { .fl = .46 }, 0, 3,	"0.460"	},
+    { { .fl = .46 }, 0, 2,	"0.46"	},
+    { { .fl = .46 }, 0, 1,	"0.5"	},
+    { { .fl = .46 }, 0, 0,	"0"	}, /* just that very case */
+    { { .fl = .46 }, 1, 0,	"0"	},
+    { { .fl = .46 }, 2, 0,	" 0"	},
+
+    { { .fl = .51 }, 0, 3,	"0.510"	},
+    { { .fl = .51 }, 0, 2,	"0.51"	},
+    { { .fl = .51 }, 0, 1,	"0.5"	},
+    { { .fl = .51 }, 0, 0,	"1"	},
+    { { .fl = .51 }, 1, 0,	"1"	},
+    { { .fl = .51 }, 2, 0,	" 1"	},
+
+    { { .fl = .58 }, 0, 3,	"0.580"	},
+    { { .fl = .58 }, 0, 2,	"0.58"	},
+    { { .fl = .58 }, 0, 1,	"0.6"	},
+    { { .fl = .58 }, 0, 0,	"1"	},
+    { { .fl = .58 }, 1, 0,	"1"	},
+    { { .fl = .58 }, 2, 0,	" 1"	},
+    
+    { { .fl = 0.4999 }, 0, 4,	"0.4999"},
+    { { .fl = 0.4999 }, 0, 3,	"0.500"	},
+    { { .fl = 0.4999 }, 0, 2,	"0.50"	},
+    { { .fl = 0.4999 }, 0, 1,	"0.5"	},
+    { { .fl = 0.4999 }, 0, 0,	"0"	},
+
+    { { .fl = 0.049 }, 0, 2,	"0.05"	},
+    { { .fl = 0.049 }, 0, 1,	"0.0"	},
+    { { .fl = 0.049 }, 0, 0,	"0"	},
+
+    { { .fl = 0.0000000000049 }, 0, 12,	"0.000000000005"},
+    { { .fl = 0.0000000000049 }, 0, 11,	"0.00000000000"	},
+    { { .fl = 0.0000000000049 }, 0, 10,	"0.0000000000"	},
+    
+    { { .fl = 0.0000000000051 }, 0, 12,	"0.000000000005"},
+    { { .fl = 0.0000000000051 }, 0, 11,	"0.00000000001"	},
+    { { .fl = 0.0000000000051 }, 0, 10,	"0.0000000000"	},
+    
+};
+
+int main ()
+{
+    int i;
+    for (i= 0; (size_t)i != sizeof(t)/sizeof(t[0]); i++)
+	run_dtostrf (t+i, i+1);
+    return 0;
+}
diff --git a/tests/simulate/stdlib/dtostrf-width.c b/tests/simulate/stdlib/dtostrf-width.c
new file mode 100644
index 0000000..b84a370
--- /dev/null
+++ b/tests/simulate/stdlib/dtostrf-width.c
@@ -0,0 +1,81 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Argument 'width' test.
+   $Id$
+ */
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+#define PATTERN_SIZE	20
+#include "dtostrf.h"
+
+PROGMEM static const struct dtostrf_s t[] = {
+
+    { { .fl = .123 }, 0, 3,	"0.123" },
+    { { .fl = .123 }, 1, 3,	"0.123" },
+    { { .fl = .123 }, 5, 3,	"0.123" },
+    { { .fl = .123 }, 6, 3,	" 0.123" },
+    { { .fl = .123 }, 10, 3,	"     0.123" },
+    { { .fl = -.123 }, 10, 3,	"    -0.123" },
+    
+    { { .fl = 123.45 }, 0, 2,	"123.45" },
+    { { .fl = 123.45 }, 1, 2,	"123.45" },
+    { { .fl = 123.45 }, 6, 2,	"123.45" },
+    { { .fl = 123.45 }, 7, 2,	" 123.45" },
+    { { .fl = 123.45 }, 10, 2,	"    123.45" },
+    { { .fl = -123.45 }, 10, 2,	"   -123.45" },
+
+    { { .fl = 10. }, 0, 0,	"10" },
+    { { .fl = 10. }, 1, 0,	"10" },
+    { { .fl = 10. }, 2, 0,	"10" },
+    { { .fl = 10. }, 3, 0,	" 10" },
+    { { .fl = 10. }, 10, 0,	"        10" },
+    { { .fl = -10. }, 10, 0,	"       -10" },
+
+    { { .fl = .123 }, -1, 3,	"0.123" },
+    { { .fl = 123.45 }, -1, 2,	"123.45" },
+    { { .fl = 10. }, -1, 0,	"10" },
+
+    { { .fl = .123 }, -10, 3,	"0.123     " },
+    { { .fl = -.123 }, -10, 3,	"-0.123    " },
+    { { .fl = 123.45 }, -10, 2,	"123.45    " },
+    { { .fl = -123.45 }, -10, 2,"-123.45   " },
+    { { .fl = 10. }, -10, 0,	"10        " },
+    { { .fl = -10. }, -10, 0,	"-10       " },
+};
+
+int main ()
+{
+    int i;
+    for (i= 0; (size_t)i != sizeof(t)/sizeof(t[0]); i++)
+	run_dtostrf (t+i, i+1);
+    return 0;
+}
diff --git a/tests/simulate/stdlib/dtostrf.h b/tests/simulate/stdlib/dtostrf.h
new file mode 100644
index 0000000..0931b1f
--- /dev/null
+++ b/tests/simulate/stdlib/dtostrf.h
@@ -0,0 +1,122 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Header+source file to test the dtostrf() function.
+   $Id$
+ */
+
+#ifndef	PATTERN_SIZE
+# define PATTERN_SIZE	15
+#endif
+
+struct dtostrf_s {
+    union {
+	long lo;
+	float fl;
+    };
+    signed char width;
+    unsigned char prec;
+    char pattern[PATTERN_SIZE];
+};
+
+#ifndef	__AVR__
+
+# include <stdio.h>
+# include <string.h>
+
+/* This function is intended for run of test cases on the host computer.
+ */
+char * dtostrf (double val, signed char width, unsigned char prec, char *s)
+{
+    char fmt[16];	/* "%-110.100F"	*/
+    
+    sprintf (fmt, "%%%d.%dF", width, prec);
+    sprintf (s, fmt, val);
+    return s;
+}
+#endif	/* !__AVR__ */
+
+#define	PZLEN	5	/* protected zone length	*/
+
+void run_dtostrf (const struct dtostrf_s *pt, int testno)
+{
+    union {
+	long lo;
+	float fl;
+    } val;
+    signed char width;
+    unsigned char prec;
+    static char s[2*PZLEN + sizeof(pt->pattern)];
+    char c, *ps;
+    void *pv;
+    
+    memset (s, testno, sizeof(s));
+
+#ifdef	__AVR__
+    val.lo = pgm_read_dword (& pt->lo);
+    width  = pgm_read_byte (& pt->width);
+    prec   = pgm_read_byte (& pt->prec);
+#else
+    val.lo = pt->lo;
+    width  = pt->width;
+    prec   = pt->prec;
+#endif
+    ps = dtostrf (val.fl, width, prec, s + PZLEN);
+
+    if (ps != s + PZLEN)
+	exit (testno + 0x1000);
+    for (ps = s; ps != s + PZLEN; ps++) {
+	if ((unsigned char)*ps != (testno & 0377))
+	    exit (testno + 0x2000);
+    }
+
+    pv = & pt->pattern;
+#ifdef	__AVR__
+    do {
+	c = pgm_read_byte(pv++);
+	if (*ps++ != c) {
+	    exit (testno + 0x3000);
+	}
+    } while (c);
+#else
+    do {
+	c = *(char *)(pv++);
+	if (*ps++ != c) {
+	    printf ("*** testno= %d:  must= %s  was= %s\n",
+		testno, pt->pattern, s + PZLEN);
+	    exit (testno + 0x3000);
+	}
+    } while (c);
+#endif
+
+    for (; ps != s + sizeof(s); ps++) {
+	if ((unsigned char)*ps != (testno & 0377))
+	    exit (testno + 0x4000);
+    }
+}
diff --git a/tests/simulate/stdlib/exit-1.c b/tests/simulate/stdlib/exit-1.c
new file mode 100644
index 0000000..b80bee4
--- /dev/null
+++ b/tests/simulate/stdlib/exit-1.c
@@ -0,0 +1,43 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of exit() function.
+   $Id$	*/
+
+#include <stdlib.h>
+
+int main ()
+{
+    /* To suppress any optimization, call a library function by using a
+       volatile pointer.	*/
+    void (* volatile vp) (int) = 0;
+    vp = &exit;
+    vp (0);
+    return __LINE__;
+}
diff --git a/tests/simulate/stdlib/isalnum-1.c b/tests/simulate/stdlib/isalnum-1.c
new file mode 100644
index 0000000..6b9d200
--- /dev/null
+++ b/tests/simulate/stdlib/isalnum-1.c
@@ -0,0 +1,89 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of isalnum() function.
+   $Id$
+ */
+#include <ctype.h>
+#include <stdlib.h>
+#include <string.h>
+#include <stdio.h>
+
+#ifndef	__AVR__
+# define PRINTFLN(fmt, ...)	\
+    printf ("\nLine %d: " fmt "\n", __LINE__, ##__VA_ARGS__)
+# define EXIT(code)	exit ((code) < 255 ? (code) : 100 + (code) % 100)
+#else
+# if defined(__AVR_ATmega128__)
+  /* ATmega128 has enough RAM for sprintf(), print to 0x2000 in XRAM. */
+#  define PRINTFLN(fmt, ...)	\
+    sprintf ((char *)0x2000, "\nLine %d: " fmt "\n", __LINE__, ##__VA_ARGS__)
+# else
+   /* small AVR */
+#  define PRINTFLN(args...)
+# endif
+# define EXIT	exit
+#endif
+
+int main ()
+{
+    int i;
+    
+    for (i = -1; i < 256; i++) {
+	if ((i >= '0' && i <= '9')
+	    || (i >= 'A' && i <= 'Z')
+	    || (i >= 'a' && i <= 'z'))
+	{
+	    if (!isalnum (i)) {
+		PRINTFLN ("isalnum(%#x) --> false", i);
+		EXIT (__LINE__);
+	    }
+	} else {
+	    if (isalnum (i)) {
+		PRINTFLN ("isalnum(%#x) --> true", i);
+		EXIT (__LINE__);
+	    }
+	}
+    }
+    
+
+/* Skip the host, as according to C standart it is not safety to use an
+   argument beyound -1..255 value.  But Avr-libc's ctype functions permit
+   this.	*/
+#ifdef	__AVR__
+    {
+	unsigned int u;
+	for (u = 0xffff; u > 0xff; u--)
+	    if (isalnum (u))
+		EXIT (__LINE__);
+    }
+#endif
+
+    return 0;
+}
diff --git a/tests/simulate/stdlib/isalpha-1.c b/tests/simulate/stdlib/isalpha-1.c
new file mode 100644
index 0000000..a1296f3
--- /dev/null
+++ b/tests/simulate/stdlib/isalpha-1.c
@@ -0,0 +1,86 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of isalpha() function.
+   $Id$
+ */
+#include <ctype.h>
+#include <stdlib.h>
+#include <string.h>
+#include <stdio.h>
+
+#ifndef	__AVR__
+# define PRINTFLN(fmt, ...)	\
+    printf ("\nLine %d: " fmt "\n", __LINE__, ##__VA_ARGS__)
+# define EXIT(code)	exit ((code) < 255 ? (code) : 100 + (code) % 100)
+#else
+# if defined(__AVR_ATmega128__)
+  /* ATmega128 has enough RAM for sprintf(), print to 0x2000 in XRAM. */
+#  define PRINTFLN(fmt, ...)	\
+    sprintf ((char *)0x2000, "\nLine %d: " fmt "\n", __LINE__, ##__VA_ARGS__)
+# else
+   /* small AVR */
+#  define PRINTFLN(args...)
+# endif
+# define EXIT	exit
+#endif
+
+int main ()
+{
+    int i;
+    
+    for (i = -1; i < 256; i++) {
+	if ((i >= 'A' && i <= 'Z') || (i >= 'a' && i <= 'z')) {
+	    if (!isalpha (i)) {
+		PRINTFLN ("isalpha(%#x) --> false", i);
+		EXIT (__LINE__);
+	    }
+	} else {
+	    if (isalpha (i)) {
+		PRINTFLN ("isalpha(%#x) --> true", i);
+		EXIT (__LINE__);
+	    }
+	}
+    }
+    
+
+/* Skip the host, as according to C standart it is not safety to use an
+   argument beyound -1..255 value.  But Avr-libc's ctype functions permit
+   this.	*/
+#ifdef	__AVR__
+    {
+	unsigned int u;
+	for (u = 0xffff; u > 0xff; u--)
+	    if (isalpha (u))
+		EXIT (__LINE__);
+    }
+#endif
+
+    return 0;
+}
diff --git a/tests/simulate/stdlib/isascii-1.c b/tests/simulate/stdlib/isascii-1.c
new file mode 100644
index 0000000..7b75d2e
--- /dev/null
+++ b/tests/simulate/stdlib/isascii-1.c
@@ -0,0 +1,86 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of isascii() function.
+   $Id$
+ */
+#include <ctype.h>
+#include <stdlib.h>
+#include <string.h>
+#include <stdio.h>
+
+#ifndef	__AVR__
+# define PRINTFLN(fmt, ...)	\
+    printf ("\nLine %d: " fmt "\n", __LINE__, ##__VA_ARGS__)
+# define EXIT(code)	exit ((code) < 255 ? (code) : 100 + (code) % 100)
+#else
+# if defined(__AVR_ATmega128__)
+  /* ATmega128 has enough RAM for sprintf(), print to 0x2000 in XRAM. */
+#  define PRINTFLN(fmt, ...)	\
+    sprintf ((char *)0x2000, "\nLine %d: " fmt "\n", __LINE__, ##__VA_ARGS__)
+# else
+   /* small AVR */
+#  define PRINTFLN(args...)
+# endif
+# define EXIT	exit
+#endif
+
+int main ()
+{
+    int i;
+    
+    for (i = -1; i < 256; i++) {
+	if (i >= 0 && i < 0x80) {
+	    if (!isascii (i)) {
+		PRINTFLN ("isascii(%#x) --> false", i);
+		EXIT (__LINE__);
+	    }
+	} else {
+	    if (isascii (i)) {
+		PRINTFLN ("isascii(%#x) --> true", i);
+		EXIT (__LINE__);
+	    }
+	}
+    }
+    
+
+/* Skip the host, as according to C standart it is not safety to use an
+   argument beyound -1..255 value.  But Avr-libc's ctype functions permit
+   this.	*/
+#ifdef	__AVR__
+    {
+	unsigned int u;
+	for (u = 0xffff; u > 0xff; u--)
+	    if (isascii (u))
+		EXIT (__LINE__);
+    }
+#endif
+
+    return 0;
+}
diff --git a/tests/simulate/stdlib/isblank-1.c b/tests/simulate/stdlib/isblank-1.c
new file mode 100644
index 0000000..e181869
--- /dev/null
+++ b/tests/simulate/stdlib/isblank-1.c
@@ -0,0 +1,86 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of isblank() function.
+   $Id$
+ */
+#include <ctype.h>
+#include <stdlib.h>
+#include <string.h>
+#include <stdio.h>
+
+#ifndef	__AVR__
+# define PRINTFLN(fmt, ...)	\
+    printf ("\nLine %d: " fmt "\n", __LINE__, ##__VA_ARGS__)
+# define EXIT(code)	exit ((code) < 255 ? (code) : 100 + (code) % 100)
+#else
+# if defined(__AVR_ATmega128__)
+  /* ATmega128 has enough RAM for sprintf(), print to 0x2000 in XRAM. */
+#  define PRINTFLN(fmt, ...)	\
+    sprintf ((char *)0x2000, "\nLine %d: " fmt "\n", __LINE__, ##__VA_ARGS__)
+# else
+   /* small AVR */
+#  define PRINTFLN(args...)
+# endif
+# define EXIT	exit
+#endif
+
+int main ()
+{
+    int i;
+    
+    for (i = -1; i < 256; i++) {
+	if (i == ' ' || i == '\t') {
+	    if (!isblank (i)) {
+		PRINTFLN ("isblank(%#x) --> false", i);
+		EXIT (__LINE__);
+	    }
+	} else {
+	    if (isblank (i)) {
+		PRINTFLN ("isblank(%#x) --> true", i);
+		EXIT (__LINE__);
+	    }
+	}
+    }
+    
+
+/* Skip the host, as according to C standart it is not safety to use an
+   argument beyound -1..255 value.  But Avr-libc's ctype functions permit
+   this.	*/
+#ifdef	__AVR__
+    {
+	unsigned int u;
+	for (u = 0xffff; u > 0xff; u--)
+	    if (isblank (u))
+		EXIT (__LINE__);
+    }
+#endif
+
+    return 0;
+}
diff --git a/tests/simulate/stdlib/iscntrl-1.c b/tests/simulate/stdlib/iscntrl-1.c
new file mode 100644
index 0000000..9a91fe9
--- /dev/null
+++ b/tests/simulate/stdlib/iscntrl-1.c
@@ -0,0 +1,86 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of iscntrl() function.
+   $Id$
+ */
+#include <ctype.h>
+#include <stdlib.h>
+#include <string.h>
+#include <stdio.h>
+
+#ifndef	__AVR__
+# define PRINTFLN(fmt, ...)	\
+    printf ("\nLine %d: " fmt "\n", __LINE__, ##__VA_ARGS__)
+# define EXIT(code)	exit ((code) < 255 ? (code) : 100 + (code) % 100)
+#else
+# if defined(__AVR_ATmega128__)
+  /* ATmega128 has enough RAM for sprintf(), print to 0x2000 in XRAM. */
+#  define PRINTFLN(fmt, ...)	\
+    sprintf ((char *)0x2000, "\nLine %d: " fmt "\n", __LINE__, ##__VA_ARGS__)
+# else
+   /* small AVR */
+#  define PRINTFLN(args...)
+# endif
+# define EXIT	exit
+#endif
+
+int main ()
+{
+    int i;
+    
+    for (i = -1; i < 256; i++) {
+	if ((i >= 0 && i < ' ') || i == 0x7f) {
+	    if (!iscntrl (i)) {
+		PRINTFLN ("iscntrl(%#x) --> false", i);
+		EXIT (__LINE__);
+	    }
+	} else {
+	    if (iscntrl (i)) {
+		PRINTFLN ("iscntrl(%#x) --> true", i);
+		EXIT (__LINE__);
+	    }
+	}
+    }
+    
+
+/* Skip the host, as according to C standart it is not safety to use an
+   argument beyound -1..255 value.  But Avr-libc's ctype functions permit
+   this.	*/
+#ifdef	__AVR__
+    {
+	unsigned int u;
+	for (u = 0xffff; u > 0xff; u--)
+	    if (iscntrl (u))
+		EXIT (__LINE__);
+    }
+#endif
+
+    return 0;
+}
diff --git a/tests/simulate/stdlib/isdigit-1.c b/tests/simulate/stdlib/isdigit-1.c
new file mode 100644
index 0000000..7b47c2b
--- /dev/null
+++ b/tests/simulate/stdlib/isdigit-1.c
@@ -0,0 +1,86 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of isdigit() function.
+   $Id$
+ */
+#include <ctype.h>
+#include <stdlib.h>
+#include <string.h>
+#include <stdio.h>
+
+#ifndef	__AVR__
+# define PRINTFLN(fmt, ...)	\
+    printf ("\nLine %d: " fmt "\n", __LINE__, ##__VA_ARGS__)
+# define EXIT(code)	exit ((code) < 255 ? (code) : 100 + (code) % 100)
+#else
+# if defined(__AVR_ATmega128__)
+  /* ATmega128 has enough RAM for sprintf(), print to 0x2000 in XRAM. */
+#  define PRINTFLN(fmt, ...)	\
+    sprintf ((char *)0x2000, "\nLine %d: " fmt "\n", __LINE__, ##__VA_ARGS__)
+# else
+   /* small AVR */
+#  define PRINTFLN(args...)
+# endif
+# define EXIT	exit
+#endif
+
+int main ()
+{
+    int i;
+    
+    for (i = -1; i < 256; i++) {
+	if (i && strchr ("0123456789", i)) {
+	    if (!isdigit (i)) {
+		PRINTFLN ("isdigit(%#x) --> false", i);
+		EXIT (__LINE__);
+	    }
+	} else {
+	    if (isdigit (i)) {
+		PRINTFLN ("isdigit(%#x) --> true", i);
+		EXIT (__LINE__);
+	    }
+	}
+    }
+    
+
+/* Skip the host, as according to C standart it is not safety to use an
+   argument beyound -1..255 value.  But Avr-libc's ctype functions permit
+   this.	*/
+#ifdef	__AVR__
+    {
+	unsigned int u;
+	for (u = 0xffff; u > 0xff; u--)
+	    if (isdigit (u))
+		EXIT (__LINE__);
+    }
+#endif
+
+    return 0;
+}
diff --git a/tests/simulate/stdlib/isgraph-1.c b/tests/simulate/stdlib/isgraph-1.c
new file mode 100644
index 0000000..35263e6
--- /dev/null
+++ b/tests/simulate/stdlib/isgraph-1.c
@@ -0,0 +1,86 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of isgraph() function.
+   $Id$
+ */
+#include <ctype.h>
+#include <stdlib.h>
+#include <string.h>
+#include <stdio.h>
+
+#ifndef	__AVR__
+# define PRINTFLN(fmt, ...)	\
+    printf ("\nLine %d: " fmt "\n", __LINE__, ##__VA_ARGS__)
+# define EXIT(code)	exit ((code) < 255 ? (code) : 100 + (code) % 100)
+#else
+# if defined(__AVR_ATmega128__)
+  /* ATmega128 has enough RAM for sprintf(), print to 0x2000 in XRAM. */
+#  define PRINTFLN(fmt, ...)	\
+    sprintf ((char *)0x2000, "\nLine %d: " fmt "\n", __LINE__, ##__VA_ARGS__)
+# else
+   /* small AVR */
+#  define PRINTFLN(args...)
+# endif
+# define EXIT	exit
+#endif
+
+int main ()
+{
+    int i;
+    
+    for (i = -1; i < 256; i++) {
+	if (i > ' ' && i < 0x7F) {
+	    if (!isgraph (i)) {
+		PRINTFLN ("isgraph(%#x) --> false", i);
+		EXIT (__LINE__);
+	    }
+	} else {
+	    if (isgraph (i)) {
+		PRINTFLN ("isgraph(%#x) --> true", i);
+		EXIT (__LINE__);
+	    }
+	}
+    }
+    
+
+/* Skip the host, as according to C standart it is not safety to use an
+   argument beyound -1..255 value. Avr-libc's ctype functions permit
+   this.	*/
+#ifdef	__AVR__
+    {
+	unsigned int u;
+	for (u = 0xffff; u > 0xff; u--)
+	    if (isgraph (u))
+		EXIT (__LINE__);
+    }
+#endif
+
+    return 0;
+}
diff --git a/tests/simulate/stdlib/islower-1.c b/tests/simulate/stdlib/islower-1.c
new file mode 100644
index 0000000..4118641
--- /dev/null
+++ b/tests/simulate/stdlib/islower-1.c
@@ -0,0 +1,86 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of islower() function.
+   $Id$
+ */
+#include <ctype.h>
+#include <stdlib.h>
+#include <string.h>
+#include <stdio.h>
+
+#ifndef	__AVR__
+# define PRINTFLN(fmt, ...)	\
+    printf ("\nLine %d: " fmt "\n", __LINE__, ##__VA_ARGS__)
+# define EXIT(code)	exit ((code) < 255 ? (code) : 100 + (code) % 100)
+#else
+# if defined(__AVR_ATmega128__)
+  /* ATmega128 has enough RAM for sprintf(), print to 0x2000 in XRAM. */
+#  define PRINTFLN(fmt, ...)	\
+    sprintf ((char *)0x2000, "\nLine %d: " fmt "\n", __LINE__, ##__VA_ARGS__)
+# else
+   /* small AVR */
+#  define PRINTFLN(args...)
+# endif
+# define EXIT	exit
+#endif
+
+int main ()
+{
+    int i;
+    
+    for (i = -1; i < 256; i++) {
+	if (i >= 'a' && i <= 'z') {
+	    if (!islower (i)) {
+		PRINTFLN ("islower(%#x) --> false", i);
+		EXIT (__LINE__);
+	    }
+	} else {
+	    if (islower (i)) {
+		PRINTFLN ("islower(%#x) --> true", i);
+		EXIT (__LINE__);
+	    }
+	}
+    }
+    
+
+/* Skip the host, as according to C standart it is not safety to use an
+   argument beyound -1..255 value.  But Avr-libc's ctype functions permit
+   this.	*/
+#ifdef	__AVR__
+    {
+	unsigned int u;
+	for (u = 0xffff; u > 0xff; u--)
+	    if (islower (u))
+		EXIT (__LINE__);
+    }
+#endif
+
+    return 0;
+}
diff --git a/tests/simulate/stdlib/isprint-1.c b/tests/simulate/stdlib/isprint-1.c
new file mode 100644
index 0000000..dcbe112
--- /dev/null
+++ b/tests/simulate/stdlib/isprint-1.c
@@ -0,0 +1,86 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of isprint() function.
+   $Id$
+ */
+#include <ctype.h>
+#include <stdlib.h>
+#include <string.h>
+#include <stdio.h>
+
+#ifndef	__AVR__
+# define PRINTFLN(fmt, ...)	\
+    printf ("\nLine %d: " fmt "\n", __LINE__, ##__VA_ARGS__)
+# define EXIT(code)	exit ((code) < 255 ? (code) : 100 + (code) % 100)
+#else
+# if defined(__AVR_ATmega128__)
+  /* ATmega128 has enough RAM for sprintf(), print to 0x2000 in XRAM. */
+#  define PRINTFLN(fmt, ...)	\
+    sprintf ((char *)0x2000, "\nLine %d: " fmt "\n", __LINE__, ##__VA_ARGS__)
+# else
+   /* small AVR */
+#  define PRINTFLN(args...)
+# endif
+# define EXIT	exit
+#endif
+
+int main ()
+{
+    int i;
+    
+    for (i = -1; i < 256; i++) {
+	if (i >= ' ' && i <= 0x7E) {
+	    if (!isprint (i)) {
+		PRINTFLN ("isprint(%#x) --> false", i);
+		EXIT (__LINE__);
+	    }
+	} else {
+	    if (isprint (i)) {
+		PRINTFLN ("isprint(%#x) --> true", i);
+		EXIT (__LINE__);
+	    }
+	}
+    }
+    
+
+/* Skip the host, as according to C standart it is not safety to use an
+   argument beyound -1..255 value. Avr-libc's ctype functions permit
+   this.	*/
+#ifdef	__AVR__
+    {
+	unsigned int u;
+	for (u = 0xffff; u > 0xff; u--)
+	    if (isprint (u))
+		EXIT (__LINE__);
+    }
+#endif
+
+    return 0;
+}
diff --git a/tests/simulate/stdlib/ispunct-1.c b/tests/simulate/stdlib/ispunct-1.c
new file mode 100644
index 0000000..1e5429c
--- /dev/null
+++ b/tests/simulate/stdlib/ispunct-1.c
@@ -0,0 +1,91 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of ispunct() function.
+   $Id$
+ */
+#include <ctype.h>
+#include <stdlib.h>
+#include <string.h>
+#include <stdio.h>
+
+#ifndef	__AVR__
+# define PRINTFLN(fmt, ...)	\
+    printf ("\nLine %d: " fmt "\n", __LINE__, ##__VA_ARGS__)
+# define EXIT(code)	exit ((code) < 255 ? (code) : 100 + (code) % 100)
+#else
+# if defined(__AVR_ATmega128__)
+  /* ATmega128 has enough RAM for sprintf(), print to 0x2000 in XRAM. */
+#  define PRINTFLN(fmt, ...)	\
+    sprintf ((char *)0x2000, "\nLine %d: " fmt "\n", __LINE__, ##__VA_ARGS__)
+# else
+   /* small AVR */
+#  define PRINTFLN(args...)
+# endif
+# define EXIT	exit
+#endif
+
+int main ()
+{
+    int i;
+    
+    for (i = -1; i < 256; i++) {
+	if (i > ' '
+	    && i < 0x7f
+	    && !(i >= '0' && i <= '9')
+	    && !(i >= 'A' && i <= 'Z')
+	    && !(i >= 'a' && i <= 'z'))
+	{
+	    if (!ispunct (i)) {
+		PRINTFLN ("ispunct(%#x) --> false", i);
+		EXIT (__LINE__);
+	    }
+	} else {
+	    if (ispunct (i)) {
+		PRINTFLN ("ispunct(%#x) --> true", i);
+		EXIT (__LINE__);
+	    }
+	}
+    }
+    
+
+/* Skip the host, as according to C standart it is not safety to use an
+   argument beyound -1..255 value. Avr-libc's ctype functions permit
+   this.	*/
+#ifdef	__AVR__
+    {
+	unsigned int u;
+	for (u = 0xffff; u > 0xff; u--)
+	    if (ispunct (u))
+		EXIT (__LINE__);
+    }
+#endif
+
+    return 0;
+}
diff --git a/tests/simulate/stdlib/isspace-1.c b/tests/simulate/stdlib/isspace-1.c
new file mode 100644
index 0000000..6bcce17
--- /dev/null
+++ b/tests/simulate/stdlib/isspace-1.c
@@ -0,0 +1,86 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of isspace() function.
+   $Id$
+ */
+#include <ctype.h>
+#include <stdlib.h>
+#include <string.h>
+#include <stdio.h>
+
+#ifndef	__AVR__
+# define PRINTFLN(fmt, ...)	\
+    printf ("\nLine %d: " fmt "\n", __LINE__, ##__VA_ARGS__)
+# define EXIT(code)	exit ((code) < 255 ? (code) : 100 + (code) % 100)
+#else
+# if defined(__AVR_ATmega128__)
+  /* ATmega128 has enough RAM for sprintf(), print to 0x2000 in XRAM. */
+#  define PRINTFLN(fmt, ...)	\
+    sprintf ((char *)0x2000, "\nLine %d: " fmt "\n", __LINE__, ##__VA_ARGS__)
+# else
+   /* small AVR */
+#  define PRINTFLN(args...)
+# endif
+# define EXIT	exit
+#endif
+
+int main ()
+{
+    int i;
+    
+    for (i = -1; i < 256; i++) {
+	if (i && strchr (" \t\n\v\f\r", i)) {
+	    if (!isspace (i)) {
+		PRINTFLN ("isspace(%#x) --> false", i);
+		EXIT (__LINE__);
+	    }
+	} else {
+	    if (isspace (i)) {
+		PRINTFLN ("isspace(%#x) --> true", i);
+		EXIT (__LINE__);
+	    }
+	}
+    }
+    
+
+/* Skip the host, as according to C standart it is not safety to use an
+   argument beyound -1..255 value. Avr-libc's ctype functions permit
+   this.	*/
+#ifdef	__AVR__
+    {
+	unsigned int u;
+	for (u = 0xffff; u > 0xff; u--)
+	    if (isspace (u))
+		EXIT (__LINE__);
+    }
+#endif
+
+    return 0;
+}
diff --git a/tests/simulate/stdlib/isupper-1.c b/tests/simulate/stdlib/isupper-1.c
new file mode 100644
index 0000000..57206f0
--- /dev/null
+++ b/tests/simulate/stdlib/isupper-1.c
@@ -0,0 +1,86 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of isupper() function.
+   $Id$
+ */
+#include <ctype.h>
+#include <stdlib.h>
+#include <string.h>
+#include <stdio.h>
+
+#ifndef	__AVR__
+# define PRINTFLN(fmt, ...)	\
+    printf ("\nLine %d: " fmt "\n", __LINE__, ##__VA_ARGS__)
+# define EXIT(code)	exit ((code) < 255 ? (code) : 100 + (code) % 100)
+#else
+# if defined(__AVR_ATmega128__)
+  /* ATmega128 has enough RAM for sprintf(), print to 0x2000 in XRAM. */
+#  define PRINTFLN(fmt, ...)	\
+    sprintf ((char *)0x2000, "\nLine %d: " fmt "\n", __LINE__, ##__VA_ARGS__)
+# else
+   /* small AVR */
+#  define PRINTFLN(args...)
+# endif
+# define EXIT	exit
+#endif
+
+int main ()
+{
+    int i;
+    
+    for (i = -1; i < 256; i++) {
+	if (i >= 'A' && i <= 'Z') {
+	    if (!isupper (i)) {
+		PRINTFLN ("isupper(%#x) --> false", i);
+		EXIT (__LINE__);
+	    }
+	} else {
+	    if (isupper (i)) {
+		PRINTFLN ("isupper(%#x) --> true", i);
+		EXIT (__LINE__);
+	    }
+	}
+    }
+    
+
+/* Skip the host, as according to C standart it is not safety to use an
+   argument beyound -1..255 value.  But Avr-libc's ctype functions permit
+   this.	*/
+#ifdef	__AVR__
+    {
+	unsigned int u;
+	for (u = 0xffff; u > 0xff; u--)
+	    if (isupper (u))
+		EXIT (__LINE__);
+    }
+#endif
+
+    return 0;
+}
diff --git a/tests/simulate/stdlib/isxdigit-1.c b/tests/simulate/stdlib/isxdigit-1.c
new file mode 100644
index 0000000..9db8831
--- /dev/null
+++ b/tests/simulate/stdlib/isxdigit-1.c
@@ -0,0 +1,86 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of isxdigit() function.
+   $Id$
+ */
+#include <ctype.h>
+#include <stdlib.h>
+#include <string.h>
+#include <stdio.h>
+
+#ifndef	__AVR__
+# define PRINTFLN(fmt, ...)	\
+    printf ("\nLine %d: " fmt "\n", __LINE__, ##__VA_ARGS__)
+# define EXIT(code)	exit ((code) < 255 ? (code) : 100 + (code) % 100)
+#else
+# if defined(__AVR_ATmega128__)
+  /* ATmega128 has enough RAM for sprintf(), print to 0x2000 in XRAM. */
+#  define PRINTFLN(fmt, ...)	\
+    sprintf ((char *)0x2000, "\nLine %d: " fmt "\n", __LINE__, ##__VA_ARGS__)
+# else
+   /* small AVR */
+#  define PRINTFLN(args...)
+# endif
+# define EXIT	exit
+#endif
+
+int main ()
+{
+    int i;
+    
+    for (i = -1; i < 256; i++) {
+	if (i && strchr ("0123456789ABCDEFabcdef", i)) {
+	    if (!isxdigit (i)) {
+		PRINTFLN ("isxdigit(%#x) --> false", i);
+		EXIT (__LINE__);
+	    }
+	} else {
+	    if (isxdigit (i)) {
+		PRINTFLN ("isxdigit(%#x) --> true", i);
+		EXIT (__LINE__);
+	    }
+	}
+    }
+    
+
+/* Skip the host, as according to C standart it is not safety to use an
+   argument beyound -1..255 value.  But Avr-libc's ctype functions permit
+   this.	*/
+#ifdef	__AVR__
+    {
+	unsigned int u;
+	for (u = 0xffff; u > 0xff; u--)
+	    if (isxdigit (u))
+		EXIT (__LINE__);
+    }
+#endif
+
+    return 0;
+}
diff --git a/tests/simulate/stdlib/itoa-1.c b/tests/simulate/stdlib/itoa-1.c
new file mode 100644
index 0000000..801c694
--- /dev/null
+++ b/tests/simulate/stdlib/itoa-1.c
@@ -0,0 +1,154 @@
+/* Copyright (c) 2012  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of itoa() with all possible inline variants.
+   $Id$	*/
+
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+#ifndef	__AVR__
+# include <stdio.h>
+# define PRINTFLN(line, fmt, ...)	\
+    printf ("\n%s:%d: " fmt "\n", __FILE__, line, ##__VA_ARGS__);
+# define EXIT(code)	exit ((code) < 255 ? (code) : 100 + (code) % 100)
+#else
+# define PRINTFLN(args...)
+# define EXIT(code)	exit (code)
+#endif
+
+#ifndef	__AVR__
+static char *utoa_recursive (unsigned val, char *s, unsigned radix)
+{
+    int c;
+
+    if (val >= radix)
+	s = utoa_recursive (val / radix, s, radix);
+    c = val % radix;
+    c += (c < 10 ? '0' : 'a' - 10);
+    *s++ = c;
+    return s;
+}
+
+static char *itoa (int val, char *s, int radix)
+{
+    if (radix < 2 || radix > 36) {
+	s[0] = 0;
+    } else {
+	char *p = s;
+	if (radix == 10 && val < 0) {
+	    val = -val;
+	    *p++ = '-';
+	}
+	*utoa_recursive (val, p, radix) = 0;
+    }
+    return s;
+}
+#endif
+
+
+int main ()
+{
+    char s[40];
+    char *(* volatile fun)(int, char *, int);
+    volatile int rdx;
+
+    /* Inline function, possible call of __itoa_ncheck().	*/
+
+    itoa (-12345, s, 10);
+    if (strcmp_P (s, PSTR ("-12345")))
+	EXIT (__LINE__);
+    itoa (35, s, 2);
+    if (strcmp_P (s, PSTR ("100011")))
+	EXIT (__LINE__);
+    itoa (35, s, 36);
+    if (strcmp_P (s, PSTR ("z")))
+	EXIT (__LINE__);
+
+    if (itoa (2, s, 1) != s || s[0])
+	EXIT (__LINE__);
+    s[0] = '2';
+    if (itoa (2, s, 37) != s || s[0])
+	EXIT (__LINE__);
+    s[0] = '2';
+    if (itoa (2, s, 0x0108) != s || s[0])
+	EXIT (__LINE__);
+
+    /* Library function, call of itoa().	*/
+
+    fun = itoa;
+    fun (-12345, s, 10);
+    if (strcmp_P (s, PSTR ("-12345")))
+	EXIT (__LINE__);
+    fun (35, s, 2);
+    if (strcmp_P (s, PSTR ("100011")))
+	EXIT (__LINE__);
+    fun (35, s, 36);
+    if (strcmp_P (s, PSTR ("z")))
+	EXIT (__LINE__);
+
+    if (fun (2, s, 1) != s || s[0])
+	EXIT (__LINE__);
+    s[0] = '2';
+    if (fun (2, s, 37) != s || s[0])
+	EXIT (__LINE__);
+    s[0] = '2';
+    if (fun (2, s, 0x0108) != s || s[0])
+	EXIT (__LINE__);
+
+    /* Unknown radix, call of __itoa().	*/
+
+    rdx = 10;
+    itoa (-12345, s, rdx);
+    if (strcmp_P (s, PSTR ("-12345")))
+	EXIT (__LINE__);
+    rdx = 2;
+    itoa (35, s, rdx);
+    if (strcmp_P (s, PSTR ("100011")))
+	EXIT (__LINE__);
+    rdx = 36;
+    itoa (35, s, rdx);
+    if (strcmp_P (s, PSTR ("z")))
+	EXIT (__LINE__);
+
+    rdx = 1;
+    if (itoa (2, s, rdx) != s || s[0])
+	EXIT (__LINE__);
+    rdx = 37;
+    s[0] = '2';
+    if (itoa (2, s, rdx) != s || s[0])
+	EXIT (__LINE__);
+    rdx = 0x0108;
+    s[0] = '2';
+    if (itoa (2, s, rdx) != s || s[0])
+	EXIT (__LINE__);
+
+    return 0;
+}
diff --git a/tests/simulate/stdlib/itoa-2.c b/tests/simulate/stdlib/itoa-2.c
new file mode 100644
index 0000000..1b22b4a
--- /dev/null
+++ b/tests/simulate/stdlib/itoa-2.c
@@ -0,0 +1,143 @@
+/* Copyright (c) 2012  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of itoa() function with patterns.
+   $Id$	*/
+
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+#ifndef	__AVR__
+# include <stdio.h>
+# define PRINTFLN(line, fmt, ...)	\
+    printf ("\n%s:%d: " fmt "\n", __FILE__, line, ##__VA_ARGS__);
+# define EXIT(code)	exit ((code) < 255 ? (code) : 100 + (code) % 100)
+#else
+# define PRINTFLN(args...)
+# define EXIT(code)	exit (code)
+#endif
+
+#ifndef	__AVR__
+static char *utoa_recursive (unsigned val, char *s, unsigned radix)
+{
+    int c;
+
+    if (val >= radix)
+	s = utoa_recursive (val / radix, s, radix);
+    c = val % radix;
+    c += (c < 10 ? '0' : 'a' - 10);
+    *s++ = c;
+    return s;
+}
+
+static char *itoa (int val, char *s, int radix)
+{
+    if (radix < 2 || radix > 36) {
+	s[0] = 0;
+    } else {
+	char *p = s;
+	if (radix == 10 && val < 0) {
+	    val = -val;
+	    *p++ = '-';
+	}
+	*utoa_recursive (val, p, radix) = 0;
+    }
+    return s;
+}
+#endif
+
+static void
+Check (int line, int val, const char *rslt, int radix)
+{
+    char s[40];
+
+#ifndef	__AVR__
+    if (radix >= 2 && radix <= 36) {
+	long x = strtol (rslt, 0, radix);
+	if (x != val) {
+	    PRINTFLN (line, "strtol(\"%s\",,%d)= %ld,  val= %d",
+		      rslt, radix, x, val);
+	    EXIT (2000 + line);
+	}
+    }
+#endif
+
+    memset (s, 0xff, sizeof (s) - 1);
+    s[sizeof (s) - 1] = 0;
+    if (itoa (val, s, radix) != s) {
+	PRINTFLN (line, "Incorrect result");
+	EXIT (1000 + line);
+    }
+
+    if (strcmp_P (s, rslt)) {
+	PRINTFLN (line, "itoa(%d,,%d) puts: %s, must: %s",
+		  val, radix, s, rslt);
+	EXIT (line);
+    }
+}
+
+#define CHECK(val, rslt, base)	\
+    Check (__LINE__, val, PSTR (rslt), base)
+
+
+int main ()
+{
+    int i;
+
+    /* Invalid radix.	*/
+    CHECK (0, "", 0);
+    CHECK (0, "", 1);
+    CHECK (0, "", 37);
+    CHECK (10, "", 0x0102);
+    CHECK (-256, "", -10);
+
+    /* Decimal negative.	*/
+    CHECK (-1, "-1", 10);
+    CHECK (-255, "-255", 10);
+    CHECK (-256, "-256", 10);
+    CHECK (-257, "-257", 10);
+    CHECK (-32767, "-32767", 10);
+    CHECK (-32768, "-32768", 10);
+
+    /* Only radix == 10 is signed.	*/
+    for (i = 2; i <= 36; i++) {
+	char s[40];
+	itoa (-1, s, i);
+	if (i == 10) {
+	    if (s[0] != '-') exit (__LINE__);
+	} else {
+	    if (s[0] == '-') exit (__LINE__);
+	}
+    }
+
+    CHECK (-12345, "-12345", 10);
+
+    return 0;
+}
diff --git a/tests/simulate/stdlib/ltoa-1.c b/tests/simulate/stdlib/ltoa-1.c
new file mode 100644
index 0000000..16a4762
--- /dev/null
+++ b/tests/simulate/stdlib/ltoa-1.c
@@ -0,0 +1,154 @@
+/* Copyright (c) 2012  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of ltoa() with all possible inline variants.
+   $Id$	*/
+
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+#ifndef	__AVR__
+# include <stdio.h>
+# define PRINTFLN(line, fmt, ...)	\
+    printf ("\n%s:%d: " fmt "\n", __FILE__, line, ##__VA_ARGS__);
+# define EXIT(code)	exit ((code) < 255 ? (code) : 100 + (code) % 100)
+#else
+# define PRINTFLN(args...)
+# define EXIT(code)	exit (code)
+#endif
+
+#ifndef	__AVR__
+static char *ultoa_recursive (unsigned long val, char *s, unsigned radix)
+{
+    int c;
+
+    if (val >= radix)
+	s = ultoa_recursive (val / radix, s, radix);
+    c = val % radix;
+    c += (c < 10 ? '0' : 'a' - 10);
+    *s++ = c;
+    return s;
+}
+
+static char *ltoa (long val, char *s, int radix)
+{
+    if (radix < 2 || radix > 36) {
+	s[0] = 0;
+    } else {
+	char *p = s;
+	if (radix == 10 && val < 0) {
+	    val = -val;
+	    *p++ = '-';
+	}
+	*ultoa_recursive (val, p, radix) = 0;
+    }
+    return s;
+}
+#endif
+
+
+int main ()
+{
+    char s[40];
+    char *(* volatile fun)(long, char *, int);
+    volatile int rdx;
+
+    /* Inline function, possible call of __ltoa_ncheck().	*/
+
+    ltoa (-12345678, s, 10);
+    if (strcmp_P (s, PSTR ("-12345678")))
+	EXIT (__LINE__);
+    ltoa (35, s, 2);
+    if (strcmp_P (s, PSTR ("100011")))
+	EXIT (__LINE__);
+    ltoa (35, s, 36);
+    if (strcmp_P (s, PSTR ("z")))
+	EXIT (__LINE__);
+
+    if (ltoa (2, s, 1) != s || s[0])
+	EXIT (__LINE__);
+    s[0] = '2';
+    if (ltoa (2, s, 37) != s || s[0])
+	EXIT (__LINE__);
+    s[0] = '2';
+    if (ltoa (2, s, 0x0108) != s || s[0])
+	EXIT (__LINE__);
+
+    /* Library function, call of ltoa().	*/
+
+    fun = ltoa;
+    fun (-12345678, s, 10);
+    if (strcmp_P (s, PSTR ("-12345678")))
+	EXIT (__LINE__);
+    fun (35, s, 2);
+    if (strcmp_P (s, PSTR ("100011")))
+	EXIT (__LINE__);
+    fun (35, s, 36);
+    if (strcmp_P (s, PSTR ("z")))
+	EXIT (__LINE__);
+
+    if (fun (2, s, 1) != s || s[0])
+	EXIT (__LINE__);
+    s[0] = '2';
+    if (fun (2, s, 37) != s || s[0])
+	EXIT (__LINE__);
+    s[0] = '2';
+    if (fun (2, s, 0x0108) != s || s[0])
+	EXIT (__LINE__);
+
+    /* Unknown radix, call of __ltoa().	*/
+
+    rdx = 10;
+    ltoa (-12345678, s, rdx);
+    if (strcmp_P (s, PSTR ("-12345678")))
+	EXIT (__LINE__);
+    rdx = 2;
+    ltoa (35, s, rdx);
+    if (strcmp_P (s, PSTR ("100011")))
+	EXIT (__LINE__);
+    rdx = 36;
+    ltoa (35, s, rdx);
+    if (strcmp_P (s, PSTR ("z")))
+	EXIT (__LINE__);
+
+    rdx = 1;
+    if (ltoa (2, s, rdx) != s || s[0])
+	EXIT (__LINE__);
+    rdx = 37;
+    s[0] = '2';
+    if (ltoa (2, s, rdx) != s || s[0])
+	EXIT (__LINE__);
+    rdx = 0x0108;
+    s[0] = '2';
+    if (ltoa (2, s, rdx) != s || s[0])
+	EXIT (__LINE__);
+
+    return 0;
+}
diff --git a/tests/simulate/stdlib/ltoa-2.c b/tests/simulate/stdlib/ltoa-2.c
new file mode 100644
index 0000000..aed002a
--- /dev/null
+++ b/tests/simulate/stdlib/ltoa-2.c
@@ -0,0 +1,149 @@
+/* Copyright (c) 2012  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of ltoa() function with patterns.
+   $Id$	*/
+
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+#ifndef	__AVR__
+# include <stdio.h>
+# define PRINTFLN(line, fmt, ...)	\
+    printf ("\n%s:%d: " fmt "\n", __FILE__, line, ##__VA_ARGS__);
+# define EXIT(code)	exit ((code) < 255 ? (code) : 100 + (code) % 100)
+#else
+# define PRINTFLN(args...)
+# define EXIT(code)	exit (code)
+#endif
+
+#ifndef	__AVR__
+static char *ultoa_recursive (unsigned long val, char *s, unsigned radix)
+{
+    int c;
+
+    if (val >= radix)
+	s = ultoa_recursive (val / radix, s, radix);
+    c = val % radix;
+    c += (c < 10 ? '0' : 'a' - 10);
+    *s++ = c;
+    return s;
+}
+
+static char *ltoa (long val, char *s, int radix)
+{
+    if (radix < 2 || radix > 36) {
+	s[0] = 0;
+    } else {
+	char *p = s;
+	if (radix == 10 && val < 0) {
+	    val = -val;
+	    *p++ = '-';
+	}
+	*ultoa_recursive (val, p, radix) = 0;
+    }
+    return s;
+}
+#endif
+
+static void
+Check (int line, long val, const char *rslt, int radix)
+{
+    char s[40];
+
+#ifndef	__AVR__
+    if (radix >= 2 && radix <= 36) {
+	long x = strtol (rslt, 0, radix);
+	if (x != val) {
+	    PRINTFLN (line, "strtol(\"%s\",,%d)= %ld,  val= %ld",
+		      rslt, radix, x, val);
+	    EXIT (2000 + line);
+	}
+    }
+#endif
+
+    memset (s, 0xff, sizeof (s) - 1);
+    s[sizeof (s) - 1] = 0;
+    if (ltoa (val, s, radix) != s) {
+	PRINTFLN (line, "Incorrect result");
+	EXIT (1000 + line);
+    }
+
+    if (strcmp_P (s, rslt)) {
+	PRINTFLN (line, "ltoa(%ld,,%d) puts: %s, must: %s",
+		  val, radix, s, rslt);
+	EXIT (line);
+    }
+}
+
+#define CHECK(val, rslt, base)	\
+    Check (__LINE__, val, PSTR (rslt), base)
+
+
+int main ()
+{
+    int i;
+
+    /* Invalid radix.	*/
+    CHECK (0, "", 0);
+    CHECK (0, "", 1);
+    CHECK (0, "", 37);
+    CHECK (10, "", 0x0102);
+    CHECK (-256, "", -10);
+
+    /* Decimal negative.	*/
+    CHECK (-1, "-1", 10);
+    CHECK (-255, "-255", 10);
+    CHECK (-256, "-256", 10);
+    CHECK (-257, "-257", 10);
+    CHECK (-65535, "-65535", 10);
+    CHECK (-65536, "-65536", 10);
+    CHECK (-65537, "-65537", 10);
+    CHECK (-16777215, "-16777215", 10);
+    CHECK (-16777216, "-16777216", 10);
+    CHECK (-16777217, "-16777217", 10);
+    CHECK (-2147483647, "-2147483647", 10);
+    CHECK (-2147483648, "-2147483648", 10);
+
+    /* Only radix == 10 is signed.	*/
+    for (i = 2; i <= 36; i++) {
+	char s[40];
+	ltoa (-1, s, i);
+	if (i == 10) {
+	    if (s[0] != '-') exit (__LINE__);
+	} else {
+	    if (s[0] == '-') exit (__LINE__);
+	}
+    }
+
+    CHECK (-123456789, "-123456789", 10);
+
+    return 0;
+}
diff --git a/tests/simulate/stdlib/malloc-1.c b/tests/simulate/stdlib/malloc-1.c
new file mode 100644
index 0000000..588143d
--- /dev/null
+++ b/tests/simulate/stdlib/malloc-1.c
@@ -0,0 +1,102 @@
+/* Copyright (c) 2010  Joerg Wunsch
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* $Id$ */
+
+/* Allocate a bunch of things, and free them again.  At the end,
+   the freelist is supposed to consist of a single entry. */
+
+#ifndef	__AVR__
+
+/* There is no sense to check on host computer. */
+int main ()
+{
+    return 0;
+}
+
+#else
+
+#include <stdint.h>
+#include <stdlib.h>
+
+struct __freelist {
+        size_t sz;
+        struct __freelist *nx;
+};
+
+extern char *__brkval;          /* first location not yet allocated */
+extern struct __freelist *__flp; /* freelist pointer (head of freelist) */
+extern char *__malloc_heap_start;
+extern char *__malloc_heap_end;
+
+#if defined(__AVR_ATmega128__)
+static const int sizes[8] =
+{
+    5, 8, 2, 122, 256, 1, 32, 25 /* 451 + 1 [padding] + 2 * 8 [ptrs] = 468 */
+};
+#define TARGETVAL 468
+#elif defined(__AVR_AT90S8515__)
+static const int sizes[8] =
+{
+    5, 8, 2, 22, 256, 1, 12, 25 /* 331 + 1 [padding] + 2 * 8 [ptrs] = 348 */
+};
+#define TARGETVAL 348
+#else
+#  error "Unknown MCU type"
+#endif
+
+
+int main(void)
+{
+    void *ptrs[8];
+    uint8_t i;
+
+    for (i = 0; i < 8; i++)
+    {
+        void *p = malloc(sizes[i]);
+        /* first test: all allocations are supposed to fit */
+        if (p == NULL) return __LINE__;
+        ptrs[i] = p;
+    }
+    /* second test: the amount of memory allocated to the heap must
+       match the expected TARGETVAL */
+    if (__brkval - __malloc_heap_start != TARGETVAL) return __LINE__;
+
+    for (i = 0; i < 8; i++)
+    {
+        free(ptrs[i]);
+    }
+
+    /* after freeing everything, the freelist must be empty */
+    if (__flp != NULL) return __LINE__;
+
+    return 0;
+}
+
+#endif  /* !AVR */
diff --git a/tests/simulate/stdlib/malloc-2.c b/tests/simulate/stdlib/malloc-2.c
new file mode 100644
index 0000000..6d93b03
--- /dev/null
+++ b/tests/simulate/stdlib/malloc-2.c
@@ -0,0 +1,90 @@
+/* Copyright (c) 2010  Joerg Wunsch
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* $Id$ */
+
+/* Setup the heap to a certain area, and make sure allocation won't go
+   beyond the restriction. */
+
+#ifndef	__AVR__
+
+/* There is no sense to check on host computer. */
+int main ()
+{
+    return 0;
+}
+
+#else
+
+#include <stdint.h>
+#include <stdlib.h>
+
+struct __freelist {
+        size_t sz;
+        struct __freelist *nx;
+};
+
+extern char *__brkval;          /* first location not yet allocated */
+extern struct __freelist *__flp; /* freelist pointer (head of freelist) */
+extern char *__malloc_heap_start;
+extern char *__malloc_heap_end;
+
+#if defined(__AVR_ATmega128__)
+#define HEAP_START 0x200
+#define HEAP_END   0x1000
+#define ALLOC_FAILS 0xe00
+#define ALLOC_WORKS 0xdfe
+#elif defined(__AVR_AT90S8515__)
+#define HEAP_START 0x100
+#define HEAP_END   0x200
+#define ALLOC_FAILS 0x100
+#define ALLOC_WORKS 0xfe
+#else
+#  error "Unknown MCU type"
+#endif
+
+
+int main(void)
+{
+    void *p;
+
+    __malloc_heap_start = (void *)HEAP_START;
+    __malloc_heap_end = (void *)HEAP_END;
+
+    p = malloc(ALLOC_FAILS);
+    if (p != NULL) return __LINE__;
+
+    p = malloc(ALLOC_WORKS);
+    if (p == NULL) return __LINE__;
+    if (p != (void *)(HEAP_START + 2)) return __LINE__;
+
+    return 0;
+}
+
+#endif  /* !AVR */
diff --git a/tests/simulate/stdlib/malloc-3.c b/tests/simulate/stdlib/malloc-3.c
new file mode 100644
index 0000000..7fcc4c9
--- /dev/null
+++ b/tests/simulate/stdlib/malloc-3.c
@@ -0,0 +1,94 @@
+/* Copyright (c) 2010  Joerg Wunsch
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* $Id$ */
+
+/* Test heap restrictions implied by __malloc_margin. */
+
+#ifndef	__AVR__
+
+/* There is no sense to check on host computer. */
+int main ()
+{
+    return 0;
+}
+
+#else
+
+#include <stdint.h>
+#include <stdlib.h>
+
+struct __freelist {
+        size_t sz;
+        struct __freelist *nx;
+};
+
+extern char *__brkval;          /* first location not yet allocated */
+extern struct __freelist *__flp; /* freelist pointer (head of freelist) */
+extern char *__malloc_heap_start;
+extern char *__malloc_heap_end;
+
+#if defined(__AVR_ATmega128__)
+#define HEAP_START 0x200
+#elif defined(__AVR_AT90S8515__)
+#define HEAP_START 0x100
+#else
+#  error "Unknown MCU type"
+#endif
+
+
+int main(void)
+{
+    volatile void *dummy;
+
+    __malloc_heap_start = (void *)HEAP_START;
+    unsigned int bottom_of_stack = (unsigned int)&dummy;
+    size_t s = bottom_of_stack - HEAP_START;
+
+    /* try allocating everything from heap start through bottom
+       of stack; expected to fail */
+    void *p = malloc(s);
+    if (p != NULL) return __LINE__;
+
+    /* reduce by __malloc_margin's default value; still expected to
+       fail*/
+    s -= 32;
+    p = malloc(s);
+    if (p != NULL) return __LINE__;
+
+    /* reduce by some more bytes (size of malloc()'s stack frame);
+       expected to work */
+    s -= 10;                    /* AVR-GCC 4.3.4: 8 bytes needed */
+    p = malloc(s);
+    if (p == NULL) return __LINE__;
+
+    return 0;
+}
+
+#endif  /* !AVR */
diff --git a/tests/simulate/stdlib/malloc-4.c b/tests/simulate/stdlib/malloc-4.c
new file mode 100644
index 0000000..852240f
--- /dev/null
+++ b/tests/simulate/stdlib/malloc-4.c
@@ -0,0 +1,81 @@
+/* Copyright (c) 2010  Joerg Wunsch
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* $Id$ */
+
+/* Test heap in external memory, including correctly obeying the top
+   limit. */
+
+#ifndef	__AVR__
+
+/* There is no sense to check on host computer. */
+int main ()
+{
+    return 0;
+}
+
+#else
+
+#include <stdint.h>
+#include <stdlib.h>
+
+struct __freelist {
+        size_t sz;
+        struct __freelist *nx;
+};
+
+extern char *__brkval;          /* first location not yet allocated */
+extern struct __freelist *__flp; /* freelist pointer (head of freelist) */
+extern char *__malloc_heap_start;
+extern char *__malloc_heap_end;
+
+#define HEAP_START 0xe000
+#define HEAP_END   0xffff
+#define ALLOC_FAILS 0x2000
+#define ALLOC_WORKS 0x1ffd
+
+
+int main(void)
+{
+    void *p;
+
+    __malloc_heap_start = (void *)HEAP_START;
+    __malloc_heap_end = (void *)HEAP_END;
+
+    p = malloc(ALLOC_FAILS);
+    if (p != NULL) return __LINE__;
+
+    p = malloc(ALLOC_WORKS);
+    if (p == NULL) return __LINE__;
+    if (p != (void *)(HEAP_START + 2)) return __LINE__;
+
+    return 0;
+}
+
+#endif  /* !AVR */
diff --git a/tests/simulate/stdlib/malloc-5.c b/tests/simulate/stdlib/malloc-5.c
new file mode 100644
index 0000000..1bd0541
--- /dev/null
+++ b/tests/simulate/stdlib/malloc-5.c
@@ -0,0 +1,78 @@
+/* Copyright (c) 2010  Joerg Wunsch
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* $Id$ */
+
+/* Freelist test #1: bottom of freelist. */
+
+#ifndef	__AVR__
+
+/* There is no sense to check on host computer. */
+int main ()
+{
+    return 0;
+}
+
+#else
+
+#include <stdint.h>
+#include <stdlib.h>
+
+struct __freelist {
+        size_t sz;
+        struct __freelist *nx;
+};
+
+extern char *__brkval;          /* first location not yet allocated */
+extern struct __freelist *__flp; /* freelist pointer (head of freelist) */
+extern char *__malloc_heap_start;
+extern char *__malloc_heap_end;
+
+int main(void)
+{
+    void *ptrs[6];
+    uint8_t i;
+
+    for (i = 0; i < 6; i++)
+    {
+        void *p = malloc(10);
+        if (p == NULL) return __LINE__;
+        ptrs[i] = p;
+    }
+
+    free(ptrs[0]);
+    /* There must be exactly one entry in freelist. */
+    if ((char *)(ptrs[0]) - 2 != (void *)__flp) return __LINE__;
+    if (__flp->sz != 10) return __LINE__;
+    if (__flp->nx != NULL) return __LINE__;
+
+    return 0;
+}
+
+#endif  /* !AVR */
diff --git a/tests/simulate/stdlib/malloc-6.c b/tests/simulate/stdlib/malloc-6.c
new file mode 100644
index 0000000..d3082e6
--- /dev/null
+++ b/tests/simulate/stdlib/malloc-6.c
@@ -0,0 +1,77 @@
+/* Copyright (c) 2010  Joerg Wunsch
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* $Id$ */
+
+/* Freelist test #2: top of freelist. */
+
+#ifndef	__AVR__
+
+/* There is no sense to check on host computer. */
+int main ()
+{
+    return 0;
+}
+
+#else
+
+#include <stdint.h>
+#include <stdlib.h>
+
+struct __freelist {
+        size_t sz;
+        struct __freelist *nx;
+};
+
+extern char *__brkval;          /* first location not yet allocated */
+extern struct __freelist *__flp; /* freelist pointer (head of freelist) */
+extern char *__malloc_heap_start;
+extern char *__malloc_heap_end;
+
+int main(void)
+{
+    void *ptrs[6];
+    uint8_t i;
+
+    for (i = 0; i < 6; i++)
+    {
+        void *p = malloc(10);
+        if (p == NULL) return __LINE__;
+        ptrs[i] = p;
+    }
+
+    free(ptrs[5]);
+    /* Freelist must be still empty, and __brkval reduced. */
+    if (__flp != NULL) return __LINE__;
+    if ((char *)(ptrs[5]) - 2 != __brkval) return __LINE__;
+
+    return 0;
+}
+
+#endif  /* !AVR */
diff --git a/tests/simulate/stdlib/malloc-7.c b/tests/simulate/stdlib/malloc-7.c
new file mode 100644
index 0000000..70eb540
--- /dev/null
+++ b/tests/simulate/stdlib/malloc-7.c
@@ -0,0 +1,100 @@
+/* Copyright (c) 2010  Joerg Wunsch
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* $Id$ */
+
+/* Freelist test #3: aggregation test. */
+
+#ifndef	__AVR__
+
+/* There is no sense to check on host computer. */
+int main ()
+{
+    return 0;
+}
+
+#else
+
+#include <stdint.h>
+#include <stdlib.h>
+
+struct __freelist {
+        size_t sz;
+        struct __freelist *nx;
+};
+
+extern char *__brkval;          /* first location not yet allocated */
+extern struct __freelist *__flp; /* freelist pointer (head of freelist) */
+extern char *__malloc_heap_start;
+extern char *__malloc_heap_end;
+
+int main(void)
+{
+    void *ptrs[6];
+    uint8_t i;
+
+    for (i = 0; i < 6; i++)
+    {
+        void *p = malloc(10);
+        if (p == NULL) return __LINE__;
+        ptrs[i] = p;
+    }
+
+    free(ptrs[5]);
+    /* Freelist must be still empty, and __brkval reduced. */
+    if (__flp != NULL) return __LINE__;
+    if ((char *)(ptrs[5]) - 2 != __brkval) return __LINE__;
+
+    free(ptrs[4]);
+    /* Still no entry, and __brkval further down. */
+    if (__flp != NULL) return __LINE__;
+    if ((char *)(ptrs[4]) - 2 != __brkval) return __LINE__;
+
+    struct __freelist *ofp = __flp;
+
+    free(ptrs[1]);
+    /* One entry added. */
+    if ((char *)(ptrs[1]) - 2 != (void *)__flp) return __LINE__;
+    if (__flp->sz != 10) return __LINE__;
+    if (__flp->nx != (void *)ofp) return __LINE__;
+
+    free(ptrs[3]);
+    /* __brkval lowered again. */
+    if (__flp->nx != NULL) return __LINE__;
+    if ((char *)(ptrs[3]) - 2 != __brkval) return __LINE__;
+
+    free(ptrs[2]);
+    /* ...and again. */
+    if (__flp->nx != NULL) return __LINE__;
+    if ((char *)(ptrs[1]) - 2 != __brkval) return __LINE__;
+
+    return 0;
+}
+
+#endif  /* !AVR */
diff --git a/tests/simulate/stdlib/malloc-8.c b/tests/simulate/stdlib/malloc-8.c
new file mode 100644
index 0000000..dbde2de
--- /dev/null
+++ b/tests/simulate/stdlib/malloc-8.c
@@ -0,0 +1,325 @@
+/* Copyright (c) 2009 Joerg Wunsch
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+  AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+  IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+  ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+  LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+  CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+  SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+  INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+  CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+  ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+  POSSIBILITY OF SUCH DAMAGE.
+*/
+
+/* $Id$ */
+
+#include <stdlib.h>
+#include <stdbool.h>
+#include <string.h>
+#include <stdint.h>
+
+#ifdef __AVR__
+#include "../../libc/stdlib/stdlib_private.h"
+#endif
+
+/*
+ * Basic malloc() test:
+ *
+ * Two lists are maintained simultaneously, both featuring a different
+ * payload size to trigger memory fragmentation issues.  A single
+ * linked list is regularly appended to, and deleted from in a
+ * semi-random manner.  In parallel, a double linked list is
+ * maintained in ascending order of its payload values, gets new nodes
+ * inserted, and nodes removed from close to the end.  After a number
+ * of runs (500), the random sequence is replayed, and the remaining
+ * list entries are removed, again, in the same semi-random order they
+ * have been created with.  All successful append/insert and remove
+ * operations are accounted.  At the end, the number of all
+ * append/insert operations and delete operations must match for each
+ * of the lists, and malloc's internal free list is monitored for only
+ * consisting of a single large block (representing all the dynamic
+ * memory that has been freed up again).
+ */
+
+#define N 500
+
+struct list1
+{
+  struct list1 *next;
+  uint16_t payload;
+};
+
+struct list2
+{
+  struct list2 *next, *prev;
+  int32_t payload;
+};
+
+struct list1 *l1head, *l1tail;
+struct list2 *l2head, *l2tail;
+
+bool l1append(uint16_t payload)
+{
+  struct list1 *ele = malloc(sizeof(struct list1));
+  if (ele == NULL)
+    return false;
+  ele->payload = payload;
+  ele->next = NULL;
+  if (l1tail == NULL)
+    {
+      l1head = l1tail = ele;
+      return true;
+    }
+  l1tail->next = ele;
+  l1tail = ele;
+
+  return true;
+}
+
+struct list1 *l1find(uint16_t payload)
+{
+  if (l1head == NULL)
+    return NULL;
+  struct list1 *ele = l1head;
+  while (ele != NULL && ele->payload != payload)
+    ele = ele->next;
+  return ele;
+}
+
+void l1delete(struct list1 *ele)
+{
+  struct list1 *e = l1head;
+  struct list1 *f = NULL;
+
+  if (ele == NULL)
+    return;
+
+  while (e != NULL && e != ele)
+    {
+      f = e;
+      e = e->next;
+    }
+  if (e == NULL)
+    exit(33);
+  if (f == NULL)
+    {
+      /* First element matched, new head. */
+      l1head = e->next;
+      if (l1tail == ele)
+	/* No member left. */
+	l1tail = NULL;
+    }
+  else
+    {
+      f->next = ele->next;
+      if (l1tail == ele)
+	/* New tail. */
+	l1tail = f;
+    }
+  free(ele);
+}
+
+bool l2insert(int32_t payload)
+{
+  struct list2 *ele = malloc(sizeof(struct list2));
+  if (ele == NULL)
+    return false;
+  ele->payload = payload;
+  ele->next = ele->prev = NULL;
+
+  if (l2head == NULL && l2tail == NULL)
+    {
+      l2head = l2tail = ele;
+      return true;
+    }
+
+  struct list2 *p = l2head;
+  while (p != NULL && p->payload < ele->payload)
+    p = p->next;
+
+  if (p == NULL)
+    {
+      /* new tail */
+      l2tail->next = ele;
+      ele->prev = l2tail;
+      l2tail = ele;
+
+      return true;
+    }
+
+  /* insert here */
+  ele->prev = p->prev;
+  ele->next = p;
+
+  if (p->prev != NULL)
+    p->prev->next = ele;
+  else
+    /* new head */
+    l2head = ele;
+  p->prev = ele;
+
+  return true;
+}
+
+void l2delete(struct list2 *ele)
+{
+  struct list2 *p = l2head;
+
+  if (ele == NULL)
+    return;
+
+  while (p != NULL && p != ele)
+    p = p->next;
+
+  if (p == NULL)
+    exit(34);
+
+  if (p->prev != NULL)
+    p->prev->next = p->next;
+  else
+    l2head = p->next;
+
+  if (p->next != NULL)
+    p->next->prev = p->prev;
+  else
+    l2tail = p->prev;
+
+  free(ele);
+}
+
+struct list2 *l2find_3rd_last(void)
+{
+  uint8_t i;
+  struct list2 *ele;
+
+  if (l2tail == NULL)
+    return NULL;
+
+  for (i = 0, ele = l2tail; i < 3; ele = ele->prev)
+    {
+      if (ele->prev == NULL)
+	break;
+    }
+
+  return ele;
+}
+
+#ifdef	__AVR__
+void fill_mem(void) __attribute__((section(".init3"),naked));
+void fill_mem(void)
+{
+  extern uint8_t __bss_end;
+  uint8_t *p = &__bss_end;
+  do
+    *p++ = 0xa5;
+  while (p < (uint8_t *)RAMEND);
+}
+#else
+size_t __malloc_margin;
+#endif
+
+uint16_t stats[4];
+
+#define RAND_START_VALUE 4242
+int
+main(void)
+{
+  uint16_t i;
+  int32_t r;
+  uint8_t x;
+  int32_t v;
+
+  __malloc_margin = 32;
+
+  srandom(RAND_START_VALUE);
+  for (i = 0; i < N; i++)
+    {
+      r = random();
+      x = r & 0x0f;
+      v = ((int32_t)x << 28) | ((int32_t)x << 24) |
+      ((int32_t)x << 20) | ((int32_t)x << 16) |
+      ((int32_t)x << 12) | ((int32_t)x << 8) |
+      ((int32_t)x << 4) | (int32_t)x;
+      if (r & 0x10)
+	{
+	  if (l1append(v))
+	    stats[0]++;
+	}
+      else if (r & 0x20)
+	{
+	  struct list1 *p = l1find(v);
+	  if (p != NULL)
+	    {
+	      stats[1]++;
+	      l1delete(p);
+	    }
+	}
+      if (r & 0x40)
+	{
+	  if (l2insert(v))
+	    stats[2]++;
+	}
+      else if (r & 0x80)
+	{
+	  struct list2 *p = l2find_3rd_last();
+	  if (p != NULL)
+	    {
+	      stats[3]++;
+	      l2delete(p);
+	    }
+	}
+    }
+  srandom(RAND_START_VALUE);	/* repeat random sequence */
+  while (l1head != NULL || l2head != NULL)
+    {
+      r = random();
+      x = r & 0x0f;
+      v = ((int32_t)x << 28) | ((int32_t)x << 24) |
+      ((int32_t)x << 20) | ((int32_t)x << 16) |
+      ((int32_t)x << 12) | ((int32_t)x << 8) |
+      ((int32_t)x << 4) | (int32_t)x;
+      if (r & 0x10)
+	{
+	  struct list1 *p = l1find(v);
+	  if (p != NULL)
+	    {
+	      stats[1]++;
+	      l1delete(p);
+	    }
+	}
+      else if (r & 0x40)
+	{
+	  struct list2 *p = l2find_3rd_last();
+	  if (p != NULL)
+	    {
+	      stats[3]++;
+	      l2delete(p);
+	    }
+	}
+    }
+  if (stats[0] != stats[1] || stats[2] != stats[3])
+    exit(1);
+#ifdef __AVR__
+  if (__flp != NULL)
+    exit(2);
+#endif
+  return 0;
+}
diff --git a/tests/simulate/stdlib/realloc-1.c b/tests/simulate/stdlib/realloc-1.c
new file mode 100644
index 0000000..f628f63
--- /dev/null
+++ b/tests/simulate/stdlib/realloc-1.c
@@ -0,0 +1,86 @@
+/* Copyright (c) 2010  Joerg Wunsch
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* $Id$ */
+
+/* Basic realloc() test: ensure the realloc'ed area's initial
+   contents matches the previously malloc'ed one. */
+
+#ifndef	__AVR__
+
+/* There is no sense to check on host computer. */
+int main ()
+{
+    return 0;
+}
+
+#else
+
+#include <stdint.h>
+#include <stdlib.h>
+
+struct __freelist {
+        size_t sz;
+        struct __freelist *nx;
+};
+
+extern char *__brkval;          /* first location not yet allocated */
+extern struct __freelist *__flp; /* freelist pointer (head of freelist) */
+extern char *__malloc_heap_start;
+extern char *__malloc_heap_end;
+
+int main(void)
+{
+    /* allocate first chunk; expected to work */
+    uint8_t *p = malloc(42);
+    if (p == NULL) return __LINE__;
+
+    /* allocate second chunk; also expected to work */
+    void *q = malloc(23);
+    if (q == NULL) return __LINE__;
+
+    /* fill some data into first chunk */
+    uint8_t i;
+    for (i = 0; i < 42; i++)
+        p[i] = i ^ 0x42;
+
+    /* extend first chunk; expected to work but expected to go into a
+       different location than the initial allocation */
+    uint8_t *r = realloc(p, 142);
+    if (r == NULL) return __LINE__;
+    if (r == p) return __LINE__;
+
+    /* verify contents */
+    for (i = 0; i < 42; i++)
+        if (r[i] != (i ^ 0x42)) return __LINE__;
+
+    return 0;
+}
+
+#endif  /* !AVR */
diff --git a/tests/simulate/stdlib/realloc-2.c b/tests/simulate/stdlib/realloc-2.c
new file mode 100644
index 0000000..ffc4093
--- /dev/null
+++ b/tests/simulate/stdlib/realloc-2.c
@@ -0,0 +1,119 @@
+/* Copyright (c) 2010  Joerg Wunsch
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* $Id$ */
+
+/* Like malloc-1.c, but after freeing everything, try to subsequently
+   allocate everything through a single pointer, and realloc(). */
+
+#ifndef	__AVR__
+
+/* There is no sense to check on host computer. */
+int main ()
+{
+    return 0;
+}
+
+#else
+
+#include <stdint.h>
+#include <stdlib.h>
+
+struct __freelist {
+        size_t sz;
+        struct __freelist *nx;
+};
+
+extern char *__brkval;          /* first location not yet allocated */
+extern struct __freelist *__flp; /* freelist pointer (head of freelist) */
+extern char *__malloc_heap_start;
+extern char *__malloc_heap_end;
+
+#if defined(__AVR_ATmega128__)
+static const int sizes[8] =
+{
+    5, 8, 2, 122, 256, 1, 32, 25 /* 451 + 1 [padding] + 2 * 8 [ptrs] = 468 */
+};
+#define TARGETVAL 468
+#elif defined(__AVR_AT90S8515__)
+static const int sizes[8] =
+{
+    5, 8, 2, 22, 256, 1, 12, 25 /* 331 + 1 [padding] + 2 * 8 [ptrs] = 348 */
+};
+#define TARGETVAL 348
+#else
+#  error "Unknown MCU type"
+#endif
+
+
+int main(void)
+{
+    void *ptrs[8];
+    uint8_t i;
+
+    for (i = 0; i < 8; i++)
+    {
+        void *p = malloc(sizes[i]);
+        /* first test: all allocations are supposed to fit */
+        if (p == NULL) return __LINE__;
+        ptrs[i] = p;
+    }
+    /* second test: the amount of memory allocated to the heap must
+       match the expected TARGETVAL */
+    if (__brkval - __malloc_heap_start != TARGETVAL) return __LINE__;
+
+    char *obrk = __brkval;
+
+    for (i = 0; i < 8; i++)
+    {
+        free(ptrs[i]);
+    }
+
+    /* after freeing everything, the freelist must be empty */
+    if (__flp != NULL) return __LINE__;
+    if (__brkval != __malloc_heap_start) return __LINE__;
+
+    size_t s = sizes[0];
+    void *p = malloc(s);
+    if (p == NULL) return __LINE__;
+    for (i = 1; i < 8; i++)
+    {
+        s += sizes[i];
+        void *q = realloc(p, s);
+        if (q == NULL) return __LINE__;
+        if (q != p) return __LINE__;
+    }
+
+    /* Verify the allocation length did not increase. */
+    if (__brkval > obrk) return __LINE__;
+
+    return 0;
+}
+
+#endif  /* !AVR */
diff --git a/tests/simulate/stdlib/realloc-3.c b/tests/simulate/stdlib/realloc-3.c
new file mode 100644
index 0000000..cc06065
--- /dev/null
+++ b/tests/simulate/stdlib/realloc-3.c
@@ -0,0 +1,297 @@
+/* Copyright (c) 2009 Joerg Wunsch
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+  AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+  IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+  ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+  LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+  CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+  SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+  INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+  CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+  ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+  POSSIBILITY OF SUCH DAMAGE.
+*/
+
+/* $Id$ */
+
+#include <stdlib.h>
+#include <stdbool.h>
+#include <stdint.h>
+#include <string.h>
+
+#ifdef __AVR__
+#include <avr/pgmspace.h>
+#include "../../libc/stdlib/stdlib_private.h"
+#else
+#include "progmem.h"
+# define prog_char	char
+#endif
+
+/*
+ * Basic realloc() test:
+ *
+ * Simulates a serial receiver that semi-randomly "receives"
+ * characters from some builtin text strings, and queues them in
+ * variable-length records, forming a FIFO.  As the data arrive one
+ * byte at a time, realloc() is used to extend the current record to
+ * make the data fit.  Another semi-random part pulls data from the
+ * FIFO head (again, one char at a time), and deletes the records
+ * once they are completely processed.
+ * After N (=2000) cycles, no more data are added to the FIFO, and
+ * the remaining data are drained.
+ * Finally, the number of characters "received" and "sent" is
+ * compared, and must match, and the free list pointer is monitored
+ * to ensure it only contains a single large block of all dynamic
+ * memory that has been freed after use.
+ */
+
+struct list1
+{
+  struct list1 *next;
+  bool done;
+  size_t payloadlen;
+  char payload[0];
+};
+
+struct list1 *l1head, *l1tail;
+
+#if defined(__AVR_AT90S8515__)
+#  define N 500
+#else
+#  define N 2000
+#endif
+
+bool l1append(char c)
+{
+  struct list1 *ele = malloc(sizeof(struct list1) + 1);
+  if (ele == NULL)
+    return false;
+  ele->payloadlen = 1;
+  ele->payload[0] = c;
+  ele->next = NULL;
+  ele->done = false;
+  if (l1tail == NULL)
+    {
+      l1head = l1tail = ele;
+      return true;
+    }
+  l1tail->next = ele;
+  l1tail = ele;
+
+  return true;
+}
+
+bool l1extend(char c)
+{
+  if (l1tail == NULL)
+    exit(42);
+  struct list1 *ele = l1tail;
+  struct list1 *p;
+
+  p = realloc(ele, sizeof(struct list1) + ele->payloadlen + 1);
+  if (p == NULL)
+    return false;
+
+  p->payload[p->payloadlen] = c;
+  p->payloadlen++;
+  if (p != ele)
+    {
+      if (ele == l1head)
+	{
+	  l1head = p;
+	}
+      else
+	{
+	  struct list1 *walk = l1head;
+	  while (walk != NULL && walk->next != ele)
+	    walk = walk->next;
+	  if (walk == NULL)
+	    exit(43);
+	  walk->next = p;
+	}
+      l1tail = p;
+    }
+
+  return true;
+}
+
+void l1delete(void)
+{
+  if (l1head == NULL)
+    exit(44);
+  struct list1 *p = l1head->next;
+  free(l1head);
+  l1head = p;
+}
+
+#ifdef	__AVR__
+void fill_mem(void) __attribute__((section(".init3"),naked));
+void fill_mem(void)
+{
+  extern uint8_t __bss_end;
+  uint8_t *p = &__bss_end;
+  do
+    *p++ = 0xa5;
+  while (p < (uint8_t *)RAMEND);
+}
+#else
+size_t __malloc_margin;
+#endif
+
+#define S(i,s) static prog_char string##i[] = s
+
+S(0, "The ");
+S(1, "quick ");
+S(2, "brown ");
+S(3, "fox ");
+S(4, "jumps ");
+S(5, "over ");
+S(6, "the lazy ");
+S(7, "dog.  ");
+
+static prog_char *strings[8] = {
+  string0, string1, string2, string3, string4, string5, string6, string7
+};
+
+static uint8_t s_idx;
+static prog_char *cur_c;
+
+/*
+ * Simulates e.g. a serial receiver.  "Receives" characters from some
+ * flash strings.
+ */
+char getdata(void)
+{
+  char c;
+
+  if (cur_c == NULL)
+    {
+      cur_c = strings[0];
+      c = pgm_read_byte(cur_c);
+      cur_c++;
+      return c;
+    }
+  c = pgm_read_byte(cur_c);
+  cur_c++;
+  if (c == '\0')
+    {
+      if (++s_idx == 8)
+	s_idx = 0;
+      cur_c = strings[s_idx];
+    }
+  return c;
+}
+
+static char *txp;
+
+/*
+ * Simulates e.g. a serial transmitter -- but transmits to /dev/null
+ * for simplicity. ;)  It always transmits data from the payload
+ * portion of the current list head.
+ */
+bool putdata(void)
+{
+  if (l1head == NULL)
+    return false;
+  if (txp == NULL)
+    {
+      if (!l1head->done)
+	return false;
+      txp = l1head->payload;
+    }
+  char devnull = *txp++;	/* /dev/null = devnull; */
+  if (devnull == '\0')
+    {
+      /* end of current record */
+      txp = NULL;
+      l1delete();
+    }
+  return true;
+}
+
+uint16_t stats[2];
+
+#define RAND_START_VALUE 42
+int
+main(void)
+{
+  uint16_t i;
+  long r;
+  bool rx_in_progress = false;
+
+  __malloc_margin = 50;
+
+  srandom(RAND_START_VALUE);
+  for (i = 0; i < N; i++)
+    {
+      r = random();
+      if (r & 0x01)
+	{
+	  char c = getdata();
+	  if (!rx_in_progress)
+	    {
+	      /* allocate new tail */
+	      if (l1append(c))
+		stats[0]++;
+	    }
+	  else
+	    {
+	      if (l1extend(c))
+		stats[0]++;
+	    }
+	  if (c == '\0')
+	    {
+	      /* end of record, allocate new one next time */
+	      rx_in_progress = false;
+	      l1tail->done = true;
+	    }
+	  else
+	    {
+	      /* extend current record next time */
+	      rx_in_progress = true;
+	    }
+	}
+      else if (r & 0x02)
+	{
+	  if (putdata())
+	    stats[1]++;
+	}
+    }
+  if (rx_in_progress)
+    {
+      /* terminate current record */
+      if (l1extend('\0'))
+	stats[0]++;
+      l1tail->done = true;
+    }
+  srandom(RAND_START_VALUE);	/* repeat random sequence */
+  while (l1head != NULL)
+    {
+      if (putdata())
+	stats[1]++;
+    }
+  if (stats[0] != stats[1])
+    exit(1);
+#ifdef __AVR__
+  if (__flp->nx != NULL)
+    exit(2);
+#endif
+  return 0;
+}
diff --git a/tests/simulate/stdlib/setjmp-1.c b/tests/simulate/stdlib/setjmp-1.c
new file mode 100644
index 0000000..27224eb
--- /dev/null
+++ b/tests/simulate/stdlib/setjmp-1.c
@@ -0,0 +1,119 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of setjmp()/longjmp() functions: return value.
+   $Id$	*/
+
+#include <stdlib.h>
+#include <setjmp.h>
+
+jmp_buf env;
+
+int main ()
+{
+    int (* volatile v_setjmp) (jmp_buf);
+    void (* volatile v_longjmp) (jmp_buf, int);
+
+    /* Return 0 from setjmp().	*/
+    if (setjmp (env))
+	exit (__LINE__);
+
+    /* Pass value throw longjmp().	*/
+    switch (setjmp (env)) {
+	case 0:
+	    longjmp (env, 12345);
+	    exit (__LINE__);
+	case 12345:
+	    break;
+	default:
+	    exit (__LINE__);
+    }
+
+    /* Replace 0 arg of longjmp().	*/
+    switch (setjmp (env)) {
+	case 0:
+	    longjmp (env, 0);
+	    exit (__LINE__);
+	case 1:
+	    break;
+	default:
+	    exit (__LINE__);
+    }
+
+    /* Check -1 value.	*/
+    switch (setjmp (env)) {
+	case 0:
+	    longjmp (env, -1);
+	    exit (__LINE__);
+	case -1:
+	    break;
+	default:
+	    exit (__LINE__);
+    }
+
+    /* Repeat above with volatile function pointers: exclude
+       posible compiler optimization.	*/
+    v_setjmp = setjmp;
+    v_longjmp = longjmp;
+
+    if (v_setjmp (env))
+	exit (__LINE__);
+
+    switch (v_setjmp (env)) {
+	case 0:
+	    v_longjmp (env, 12345);
+	    exit (__LINE__);
+	case 12345:
+	    break;
+	default:
+	    exit (__LINE__);
+    }
+
+    switch (v_setjmp (env)) {
+	case 0:
+	    v_longjmp (env, 0);
+	    exit (__LINE__);
+	case 1:
+	    break;
+	default:
+	    exit (__LINE__);
+    }
+    
+    switch (v_setjmp (env)) {
+	case 0:
+	    v_longjmp (env, -1);
+	    exit (__LINE__);
+	case -1:
+	    break;
+	default:
+	    exit (__LINE__);
+    }
+
+    return 0;
+}
diff --git a/tests/simulate/stdlib/setjmp-2.c b/tests/simulate/stdlib/setjmp-2.c
new file mode 100644
index 0000000..39e70f5
--- /dev/null
+++ b/tests/simulate/stdlib/setjmp-2.c
@@ -0,0 +1,144 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of setjmp()/longjmp(): preservation call-saved registers.
+   $Id$	*/
+
+#include <stdlib.h>
+#include <setjmp.h>
+
+jmp_buf env;
+
+/* foo2() uses (and destroys) call-saved registers. Complex return
+   value is used to force allocate all variables.	*/
+int foo2 (void)
+{
+    int v1, v2, v3, v4, v5, v6, v7, v8;
+    
+    srand (1);
+    v1 = rand ();
+    v2 = rand ();
+    v3 = rand ();
+    v4 = rand ();
+    v5 = rand ();
+    v6 = rand ();
+    v7 = rand ();
+    v8 = rand ();
+    
+    v1 *= rand ();
+    v1 += v2 * rand ();
+    v1 += v3 * rand ();
+    v1 += v4 * rand ();
+    v1 += v5 * rand ();
+    v1 += v6 * rand ();
+    v1 += v7 * rand ();
+    v1 += v8 * rand ();
+    
+    while (!v1) v1 = rand ();
+    
+    longjmp (env, v1);
+}
+
+/* Recalculate result above.	*/
+int calc (int initial)
+{
+    int v1, v2, v3, v4, v5, v6, v7, v8;
+    
+    srand (initial);
+    v1 = rand ();
+    v2 = rand ();
+    v3 = rand ();
+    v4 = rand ();
+    v5 = rand ();
+    v6 = rand ();
+    v7 = rand ();
+    v8 = rand ();
+    
+    v1 *= rand ();
+    v1 += v2 * rand ();
+    v1 += v3 * rand ();
+    v1 += v4 * rand ();
+    v1 += v5 * rand ();
+    v1 += v6 * rand ();
+    v1 += v7 * rand ();
+    v1 += v8 * rand ();
+    
+    while (!v1) v1 = rand ();
+
+    return v1;
+}
+
+/* foo1() does not use call-save registers.
+   The setjmp() must do this.	*/
+void foo1 (void)
+{
+    int x;
+
+    if ( (x = setjmp (env)) != 0) {
+	if (x != calc (1))
+	    exit (__LINE__);
+	return;
+    }
+    foo2 ();
+    exit (__LINE__);
+}
+
+/* main() allocates many variables in call-saved registers.
+ */
+int main ()
+{
+    int v1, v2, v3, v4, v5, v6, v7, v8;
+
+    srand (2);
+    v1 = rand ();
+    v2 = rand ();
+    v3 = rand ();
+    v4 = rand ();
+    v5 = rand ();
+    v6 = rand ();
+    v7 = rand ();
+    v8 = rand ();
+
+    foo1 ();
+    
+    srand (2);
+    if (   v1 != rand()
+	|| v2 != rand()
+	|| v3 != rand()
+	|| v4 != rand()
+	|| v5 != rand()
+	|| v6 != rand()
+	|| v7 != rand()
+	|| v8 != rand())
+    {
+	exit (__LINE__);
+    }
+    
+    return 0;
+}
diff --git a/tests/simulate/stdlib/setjmp-3.c b/tests/simulate/stdlib/setjmp-3.c
new file mode 100644
index 0000000..ab30f66
--- /dev/null
+++ b/tests/simulate/stdlib/setjmp-3.c
@@ -0,0 +1,82 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of setjmp()/longjmp() functions: jmp_buf bounds.
+   $Id$	*/
+
+#include <stdlib.h>
+#include <setjmp.h>
+
+struct {
+    char beg[16];
+    jmp_buf env;
+    char end[16];
+} buf;
+
+volatile int one = 1;		/* to suppress optimization	*/
+
+void foo (void)
+{
+    longjmp (buf.env, one);
+}
+
+int main ()
+{
+    volatile unsigned char fill = 0;
+    void * volatile p;		/* Avr-gcc >= 4.1.2 outputs incorrect
+				    warning without 'volatile'.	*/
+
+    do {
+	/* filling	*/
+	for (p = &buf; p != (void *)&buf + sizeof (buf); p++)
+	    *(char *)p = fill;
+
+	/* buf.env usage	*/
+	switch (setjmp (buf.env)) {
+	    case 1:
+		break;
+	    case 0:
+		foo ();
+	    default:
+		exit (__LINE__);
+	}
+	
+	/* checking	*/
+	for (p = &buf; p != (void *)&buf + sizeof (buf); p++) {
+	    if (*(unsigned char *)p != fill
+		&& (p < (void *)&buf.env
+		    || p >= (void *)&buf.env + sizeof(buf.env)))
+	    {
+		exit (__LINE__);
+	    }
+	}
+    } while (++fill);
+    
+    return 0;
+}
diff --git a/tests/simulate/stdlib/setjmp-4.c b/tests/simulate/stdlib/setjmp-4.c
new file mode 100644
index 0000000..e903fcc
--- /dev/null
+++ b/tests/simulate/stdlib/setjmp-4.c
@@ -0,0 +1,70 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of setjmp()/longjmp() functions: frame pointer restoring.
+   $Id$	*/
+
+#include <setjmp.h>
+#include <stdlib.h>
+#include <string.h>
+
+jmp_buf env;
+
+/* foo_jmp() use stack.	longjmp must restore frame pointer from env.	*/
+void foo_jmp (const char *p)
+{
+    char s[16];
+    strcpy (s, p);
+    s[0] += 1;
+    longjmp (env, strtol (s, 0, 0));
+}
+
+/* foo() use stack. If frame pointer would be scratch, return value
+   (or all program) would be another.	*/
+int foo (char *p)
+{
+    volatile char s[16];
+    strcpy ((char *)s, p);
+    switch (setjmp (env)) {
+	case 0:     break;
+	case 2:     return strtol ((const char *)s, 0, 0);
+	default:    exit (__LINE__);
+    }
+    foo_jmp ("1");
+    exit (__LINE__);
+}
+
+int main ()
+{
+    if (foo ("1234") != 1234)
+	exit (__LINE__);
+    if (foo ("4321") != 4321)
+	exit (__LINE__);
+    return 0;
+}
diff --git a/tests/simulate/stdlib/setjmp-5.c b/tests/simulate/stdlib/setjmp-5.c
new file mode 100644
index 0000000..0e17b99
--- /dev/null
+++ b/tests/simulate/stdlib/setjmp-5.c
@@ -0,0 +1,65 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of setjmp()/longjmp() functions: SREG restoring.
+   $Id$	*/
+
+#ifdef	__AVR__
+
+#include <setjmp.h>
+#include <stdlib.h>
+#include <avr/io.h>
+
+jmp_buf env;
+
+int main ()
+{
+    SREG = 0;
+    if (setjmp (env)) {
+	if (SREG & (1 << SREG_I)) exit (__LINE__);
+    } else {
+	if (SREG & (1 << SREG_I)) exit (__LINE__);
+	SREG = 0xff;
+	longjmp (env, 1);
+    }
+    
+    SREG = 0xff;
+    if (setjmp (env)) {
+	if ((SREG & (1 << SREG_I)) == 0) exit (__LINE__);
+    } else {
+	if ((SREG & (1 << SREG_I)) == 0) exit (__LINE__);
+	SREG = 0;
+	longjmp (env, 1);
+    }
+    return 0;
+}
+
+#else
+int main ()	{ return 0; }
+#endif
diff --git a/tests/simulate/stdlib/strtod-1.c b/tests/simulate/stdlib/strtod-1.c
new file mode 100644
index 0000000..ee8b6e4
--- /dev/null
+++ b/tests/simulate/stdlib/strtod-1.c
@@ -0,0 +1,178 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of strtod() function. Base cases.
+   $Id$
+ */
+#include <errno.h>
+#include <math.h>
+#include <stdio.h>
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+volatile union lofl_u v = { .lo = 1 };
+
+PROGMEM const struct {		/* Table of test cases.	*/
+    char s[20];
+    unsigned char len;
+    float val;
+    int eno;
+} t[] = {
+
+    /* Empty string	*/
+    { "", 0,	0, 0 },
+    { " ", 0,	0, 0 },
+    { "\t\n\r\f\v", 0, 0, 0 },
+
+    /* 0.0	*/
+    { "0", 1,		0.0, 0 },
+    { "0.0", 3,		0.0, 0 },
+    { "+0", 2,		0.0, 0 },
+    { "+0.0", 4,	0.0, 0 },
+    
+    /* -0.0	*/
+    { "-0", 2,		-0.0, 0 },
+    { "-0.0", 4,	-0.0, 0 },
+    
+    /* Leading spaces	*/
+    { " \t\n\r\f\v1", 7,	1, 0 },
+    
+    /* Non-zero character at the end of number	*/
+    { "123 ", 3, 123, 0 },
+    { "123/", 3, 123, 0 },
+    { "123:", 3, 123, 0 },
+    { "123\x01", 3, 123, 0 },
+    { "123\xff", 3, 123, 0 },
+    { "123-", 3, 123, 0 },
+    { "123+", 3, 123, 0 },
+    { "123..", 4, 123, 0 },
+
+    /* No valid digits	*/
+    { ".", 0,	0, 0 },
+    { "+", 0,	0, 0 },
+    { "-", 0,	0, 0 },
+    { "e", 0,	0, 0 },
+    { "E", 0,	0, 0 },
+    { "+-123", 0, 0, 0 },
+    { "-+123", 0, 0, 0 },
+    { ".-123", 0, 0, 0 },
+    { ".+123", 0, 0, 0 },
+    { "e12",   0, 0, 0 },
+    { "- 1",   0, 0, 0 },
+    { "IN",    0, 0, 0 },
+    { "NA",    0, 0, 0 },
+    
+    /* Infinity	*/
+    { "INF", 3,		INFINITY, 0 },
+    { " inf", 4,	INFINITY, 0 },
+    { "+Inf", 4,	INFINITY, 0 },
+
+    { "-INF", 4,	-INFINITY, 0 },
+    { "\t-inF", 5,	-INFINITY, 0 },
+    
+    { "INFINITY", 8,	INFINITY, 0 },
+    { "-InFiNiTy", 9,	-INFINITY, 0 },
+
+    { "INFINIT", 3,	INFINITY, 0 },
+    { "infinitys", 8,	INFINITY, 0 },
+    
+    /* NaN	*/
+    { "NAN", 3,		NAN, 0 },
+    { " nan", 4,	NAN, 0 },
+    { "-NaN", 4,	NAN, 0 },
+    { "NANQ", 3,	NAN, 0 },
+    
+    /* Overflow	*/
+    { "1e309", 5,	INFINITY, ERANGE },
+    { "-1e309", 6,	-INFINITY, ERANGE },
+
+    { "1e32767", 7,		INFINITY, ERANGE },
+    { "1e32768", 7,		INFINITY, ERANGE },
+    { "1e32769", 7,		INFINITY, ERANGE },
+    { "1e9999999999", 12,	INFINITY, ERANGE },
+    
+    /* Underflow	*/
+    { "1e-350", 6,	0.0, ERANGE },
+#ifdef	__AVR__
+    { "-1e-350", 7,	-0.0, ERANGE },
+#else
+    { "-1e-350", 7,	0.0, ERANGE },		/* ???	*/
+#endif
+    { "1e-32767", 8,		0.0, ERANGE },
+    { "1e-32768", 8,		0.0, ERANGE },
+    { "1e-32769", 8,		0.0, ERANGE },
+    { "1e-9999999999", 13,	0.0, ERANGE },
+    
+    /* Nonregular cases	*/
+    { "1234.5", 6,	1234.5, 0 },
+    { "-9.876e12", 9,	-9.876e12, 0 },
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]:  %#lx\n", index - 1, v.lo);
+#endif
+    exit (index ? index : -1);
+}
+
+int main ()
+{
+    char s [sizeof(t[0].s)];
+    char *p;
+    union lofl_u mst;
+    unsigned char len;
+    int eno;
+    int i;
+    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	strcpy_P (s, t[i].s);
+	len = pgm_read_byte (& t[i].len);
+	mst.fl = pgm_read_float (& t[i].val);
+	eno = pgm_read_word (& t[i].eno);
+	
+	errno = 0;
+	p = 0;
+	v.fl = strtod (s, &p);
+	
+	if (!p || (p - s) != len || errno != eno)
+	    x_exit (i+1);
+	if (isnan(mst.fl) && isnan(v.fl))
+	    continue;
+	if (v.lo != mst.lo)
+	    x_exit (i+1);
+    }
+    return 0;
+}
diff --git a/tests/simulate/stdlib/strtod-2.c b/tests/simulate/stdlib/strtod-2.c
new file mode 100644
index 0000000..1af1dba
--- /dev/null
+++ b/tests/simulate/stdlib/strtod-2.c
@@ -0,0 +1,160 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of strtod() function. "+1.0"
+   $Id$
+ */
+#include <errno.h>
+#include <math.h>
+#include <stdio.h>
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+volatile union lofl_u v = { .lo = 1 };
+
+PROGMEM const struct {		/* Table of test cases.	*/
+    char s[20];
+    unsigned char len;
+    float val;
+    int eno;
+} t[] = {
+
+    { "1", 1,		1, 0 },
+    { "1.", 2,		1, 0 },
+    { "1.0", 3,		1, 0 },
+    { "1.00", 4,	1, 0 },
+
+    { "01", 2,		1, 0 },
+    { "001.", 4,	1, 0 },
+    { "0001.0", 6,	1, 0 },
+    { "00001.00", 8,	1, 0 },
+
+    { "1e0", 3,		1, 0 },
+    { "1e00", 4,	1, 0 },
+    { "1e+0", 4,	1, 0 },
+    { "1e+00", 5,	1, 0 },
+    { "1e-0", 4,	1, 0 },
+    { "1e-00", 5,	1, 0 },
+
+    { "1.e0", 4,	1, 0 },
+    { "1.0e0", 5,	1, 0 },
+    { "1.00e0", 6,	1, 0 },
+    { "001.0e0", 7,	1, 0 },
+
+    { "10e-1", 5,		1, 0 },
+    { "100e-2", 6,		1, 0 },
+    { "1000e-3", 7,		1, 0 },
+    { "10000e-4", 8,		1, 0 },
+    { "100000e-5", 9,		1, 0 },
+    { "1000000e-6", 10,		1, 0 },
+    { "10000000e-7", 11,	1, 0 },
+    { "100000000e-8", 12,	1, 0 },
+    { "1000000000e-9", 13,	1, 0 },
+    { "10000000000e-10", 15,	1, 0 },
+    { "100000000000e-11", 16,	1, 0 },
+    { "1000000000000e-12", 17,	1, 0 },
+    { "10000000000000e-13", 18,	1, 0 },
+    { "100000000000000e-14", 19, 1, 0 },
+    
+    { ".1e+1", 5,		1, 0 },
+    { ".1e1", 4,		1, 0 },
+    { ".01e2", 5,		1, 0 },
+    { ".001e3", 6,		1, 0 },
+    { ".0001e4", 7,		1, 0 },
+    { ".00001e5", 8,		1, 0 },
+    { ".000001e6", 9,		1, 0 },
+    { ".0000001e7", 10,		1, 0 },
+    { ".00000001e8", 11,	1, 0 },
+    { ".000000001e9", 12,	1, 0 },
+    { ".0000000001e10", 14,	1, 0 },
+    { ".00000000001e11", 15,	1, 0 },
+    { ".000000000001e12", 16,	1, 0 },
+    { ".0000000000001e13", 17,	1, 0 },
+    { ".00000000000001e14", 18,	1, 0 },
+    { ".000000000000001e15", 19, 1, 0 },
+
+    { "100000001e-8", 12,	1, 0 },
+    { "100000004e-8", 12,	1, 0 },
+/*  { "1000000033e-9", 13,	1, 0 },	--> 0x3f800001	today	*/
+    { "1000000032e-9", 13,	1, 0 },
+    { "10000000329e-10", 15,	1, 0 },
+    { "100000003299e-11", 16,	1, 0 },
+    { "1000000032999e-12", 17,	1, 0 },
+    { "10000000329999e-13", 18,	1, 0 },
+    { "100000003299999e-14", 19, 1, 0 },
+    
+    { "99999998e-8", 11,	1, 0 },
+    { "999999971e-9", 12,	1, 0 },
+    { "9999999702e-10", 14,	1, 0 },
+    { "99999997020e-11", 15,	1, 0 },
+    { "999999970200e-12", 16,	1, 0 },
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]:  %#lx\n", index - 1, v.lo);
+#endif
+    exit (index ? index : -1);
+}
+
+int main ()
+{
+    char s [sizeof(t[0].s)];
+    char *p;
+    union lofl_u mst;
+    unsigned char len;
+    int eno;
+    int i;
+    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	strcpy_P (s, t[i].s);
+	len = pgm_read_byte (& t[i].len);
+	mst.fl = pgm_read_float (& t[i].val);
+	eno = pgm_read_word (& t[i].eno);
+	
+	errno = 0;
+	p = 0;
+	v.fl = strtod (s, &p);
+	
+	if (!p || (p - s) != len || errno != eno)
+	    x_exit (i+1);
+	if (isnan(mst.fl) && isnan(v.fl))
+	    continue;
+	if (v.lo != mst.lo)
+	    x_exit (i+1);
+    }
+    return 0;
+}
diff --git a/tests/simulate/stdlib/strtod-3.c b/tests/simulate/stdlib/strtod-3.c
new file mode 100644
index 0000000..d6ecaca
--- /dev/null
+++ b/tests/simulate/stdlib/strtod-3.c
@@ -0,0 +1,117 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of strtod() function. big/small values.
+   $Id$
+ */
+#include <errno.h>
+#include <math.h>
+#include <stdio.h>
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+union lofl_u {
+    long lo;
+    float fl;
+};
+
+volatile union lofl_u v = { .lo = 1 };
+
+PROGMEM const struct {		/* Table of test cases.	*/
+    char s[20];
+    unsigned char len;
+    union lofl_u val;
+    int eno;
+} t[] = {
+
+    { "1.4012985e-45", 13,	{ 0x00000001 }, 0 },
+    { "1.401298e-45", 12,	{ 0x00000001 }, 0 },
+    { "1.40130e-45", 11,	{ 0x00000001 }, 0 },
+    { "1.4013e-45", 10,		{ 0x00000001 }, 0 },
+    { "1.401e-45", 9,		{ 0x00000001 }, 0 },
+    { "1.40e-45", 8,		{ 0x00000001 }, 0 },
+    { "1.4e-45", 7,		{ 0x00000001 }, 0 },
+    { "1e-45", 5,		{ 0x00000001 }, 0 },
+
+    { "3e-45", 5,		{ 0x00000002 }, 0 },
+
+#ifndef	__AVR__    	/* strtod() is't absolutely accurate today	*/
+    { "3.4028235e+38", 13,	{ 0x7f7fffff }, 0 },
+#endif
+    { "3.4028229e+38", 13,	{ 0x7f7ffffc }, 0 },
+
+    /* Near acc overflow.	*/
+    { "4294967200", 10,	{ .fl = 4294967200 }, 0 },
+    { "4294967270", 10,	{ .fl = 4294967300 }, 0 },
+    { "4294967279", 10,	{ .fl = 4294967300 }, 0 },
+    { "4294967280", 10,	{ .fl = 4294967300 }, 0 },
+    { "4294967289", 10,	{ .fl = 4294967300 }, 0 },
+    { "4294967290", 10,	{ .fl = 4294967300 }, 0 },
+    { "4294967295", 10, { .fl = 4294967300 }, 0 },	/* 0xffffffff	*/
+    { "4294967296", 10, { .fl = 4294967300 }, 0 },
+    { "4294967400", 10,	{ .fl = 4294967400 }, 0 },
+};
+
+void x_exit (int index)
+{
+#ifndef	__AVR__
+    fprintf (stderr, "t[%d]:  %#lx\n", index - 1, v.lo);
+#endif
+    exit (index ? index : -1);
+}
+
+int main ()
+{
+    char s [sizeof(t[0].s)];
+    char *p;
+    union lofl_u mst;
+    unsigned char len;
+    int eno;
+    int i;
+    
+    for (i = 0; i < (int) (sizeof(t) / sizeof(t[0])); i++) {
+	strcpy_P (s, t[i].s);
+	len = pgm_read_byte (& t[i].len);
+	mst.lo = pgm_read_dword (& t[i].val);
+	eno = pgm_read_word (& t[i].eno);
+	
+	errno = 0;
+	p = 0;
+	v.fl = strtod (s, &p);
+	
+	if (!p || (p - s) != len || errno != eno)
+	    x_exit (i+1);
+	if (isnan(mst.fl) && isnan(v.fl))
+	    continue;
+	if (v.lo != mst.lo)
+	    x_exit (i+1);
+    }
+    return 0;
+}
diff --git a/tests/simulate/stdlib/strtol-1.c b/tests/simulate/stdlib/strtol-1.c
new file mode 100644
index 0000000..a412cb1
--- /dev/null
+++ b/tests/simulate/stdlib/strtol-1.c
@@ -0,0 +1,102 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Base test.
+   $Id$
+ */
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+#include "strtol.h"
+
+PROGMEM static const struct t_s {
+    char s[14];		/* string to convert	*/
+    int base;
+    long ret;		/* result must	*/
+    int err;		/* errno must	*/
+    unsigned char len;	/* endptr displacement must	*/
+} t[] = {
+    { "", 0,	    0, 0, 0 },
+    { "-", 0,	    0, 0, 0 },
+    { "+", 0,	    0, 0, 0 },
+    { "    ", 0,    0, 0, 0 },
+
+#ifdef	__AVR__		/* AVR: errno is't set in case of invalid base	*/
+    { "", -1,	    0, 0, 0 },
+    { "0", 1,	    0, 0, 0 },
+    { "123", 37,    0, 0, 0 },
+#else
+    { "", -1,	    0, EINVAL, 0 },
+    { "0", 1,	    0, EINVAL, 0 },
+    { "123", 37,    0, EINVAL, 0 },
+#endif
+	
+    { "0", 0,	    0, 0, 1 },
+    { "0 ", 0,	    0, 0, 1 },
+    { " 0", 0,	    0, 0, 2 },
+    { "\t0", 0,	    0, 0, 2 },
+    { " \t 0", 0,   0, 0, 4 },
+    { "0x0", 0,	    0, 0, 3 },
+    { "0000", 0,    0, 0, 4 },
+    { "+0", 0,	    0, 0, 2 },
+    { "-0", 0,	    0, 0, 2 },
+	
+    { "0x", 0,	    0, 0, 1 },
+    { "0x", 16,	    0, 0, 1 },
+    { "0X", 0,	    0, 0, 1 },
+    { " 0x", 0,	    0, 0, 2 },
+    { "0xx", 0,	    0, 0, 1 },
+    { "-0x", 0,	    0, 0, 2 },
+    { "-0x", 16,    0, 0, 2 },
+    { "+0x", 0,	    0, 0, 2 },
+	
+    { "1", 0,	    1, 0, 1 },
+    { "-1", 0,	    -1, 0, 2 },
+
+    { "210", 3,	    2*9 + 1*3 + 0,		0, 3 },
+    { "a98", 11,    10*11*11L + 9*11 + 8,	0, 3 },
+    { "xyz", 36,    33*36*36L + 34*36 + 35,	0, 3 },
+	
+    { "12345", 8,    012345, 0, 5 },
+    { "12345", 10,    12345, 0, 5 },
+    { "12345", 16,    0x12345, 0, 5 },
+};
+
+int main ()
+{
+    struct t_s tt;
+    int i;
+    
+    for (i = 0; i != (int)(sizeof(t)/sizeof(t[0])); i++) {
+	memcpy_P (&tt, t+i, sizeof(tt));
+	if (t_strtol (tt.s, tt.base, tt.ret, tt.err, tt.len))
+	    exit (i+1);
+    }
+    return 0;
+}
diff --git a/tests/simulate/stdlib/strtol-2.c b/tests/simulate/stdlib/strtol-2.c
new file mode 100644
index 0000000..293332f
--- /dev/null
+++ b/tests/simulate/stdlib/strtol-2.c
@@ -0,0 +1,72 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Overflow.
+   $Id$
+ */
+#include <stdlib.h>
+#include "strtol.h"
+
+int main ()
+{
+    static struct t_s {
+	char s[14];		/* string to convert	*/
+	int base;
+	long ret;		/* result must	*/
+	int err;		/* errno must	*/
+	unsigned char len;	/* endptr displacement must	*/
+    } t[] = {
+	
+	{ "2147483647", 0,	0x7fffffff, 0, 10 },
+	{ "0x7fffffff", 0,	0x7fffffff, 0, 10 },
+	{ "017777777777", 0,	0x7fffffff, 0, 12 },
+	{ "2147483648", 0,	0x7fffffff, ERANGE, 10 },
+	{ "0x80000000", 0,	0x7fffffff, ERANGE, 10 },
+	{ "020000000000", 0,	0x7fffffff, ERANGE, 12 },
+	
+	{ "-2147483647", 0,	0x80000001, 0, 11 },
+	{ "-0x7fffffff", 0,	0x80000001, 0, 11 },
+	{ "-017777777777", 0,	0x80000001, 0, 13 },
+	{ "-2147483648", 0,	0x80000000, 0, 11 },
+	{ "-0x80000000", 0,	0x80000000, 0, 11 },
+	{ "-020000000000", 0,	0x80000000, 0, 13 },
+	{ "-2147483649", 0,	0x80000000, ERANGE, 11 },
+	{ "-0x80000001", 0,	0x80000000, ERANGE, 11 },
+	{ "-020000000001", 0,	0x80000000, ERANGE, 13 },
+
+    };
+    int i;
+    
+    for (i = 0; i != (int)(sizeof(t)/sizeof(t[0])); i++) {
+	struct t_s *p = t+i;
+	if (t_strtol (p->s, p->base, p->ret, p->err, p->len))
+	    exit (i+1);
+    }
+    return 0;
+}
diff --git a/tests/simulate/stdlib/strtol-3.c b/tests/simulate/stdlib/strtol-3.c
new file mode 100644
index 0000000..a7c5792
--- /dev/null
+++ b/tests/simulate/stdlib/strtol-3.c
@@ -0,0 +1,73 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Binary conversion.
+   $Id$
+ */
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+#include "strtol.h"
+
+int main ()
+{
+    PROGMEM static struct t_s {
+	char s[34];		/* string to convert	*/
+	int base;
+	long ret;		/* result must	*/
+	int err;		/* errno must	*/
+	unsigned char len;	/* endptr displacement must	*/
+    } t[] = {
+	
+	{ "0", 2,	0, 0, 1 },
+	{ "1", 2,	1, 0, 1 },
+	{ "-1", 2,	-1, 0, 2 },
+	{ "10101010", 2,	0xaa, 0, 8 },
+	{ "1111111111111111111111111111110", 2,	  0x7ffffffe, 0, 31 },
+	{ "1111111111111111111111111111111", 2,	  0x7fffffff, 0, 31 },
+	{ "10000000000000000000000000000000", 2,  0x7fffffff, ERANGE, 32 },
+	{ "10000000000000000000000000000001", 2,  0x7fffffff, ERANGE, 32 },
+	{ "-1111111111111111111111111111111", 2,  0x80000001, 0, 32 },
+	{ "-10000000000000000000000000000000", 2, 0x80000000, 0, 33 },
+	{ "-10000000000000000000000000000001", 2, 0x80000000, ERANGE, 33 },
+	{ "-10000000000000000000000000000010", 2, 0x80000000, ERANGE, 33 },
+	
+    };
+    struct t_s tt;
+    int i;
+    
+    for (i = 0; i != (int)(sizeof(t)/sizeof(t[0])); i++) {
+	struct t_s *p;
+	memcpy_P (&tt, t + i, sizeof(tt));
+	p = &tt;
+	if (t_strtol (p->s, p->base, p->ret, p->err, p->len))
+	    exit (i+1);
+    }
+    return 0;
+}
diff --git a/tests/simulate/stdlib/strtol-4.c b/tests/simulate/stdlib/strtol-4.c
new file mode 100644
index 0000000..87b5968
--- /dev/null
+++ b/tests/simulate/stdlib/strtol-4.c
@@ -0,0 +1,101 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* With printf.
+   $Id$
+ */
+#include <stdlib.h>
+#include <stdio.h>
+#include <string.h>
+#include "strtol.h"
+
+int main ()
+{
+    char s[16];
+    long x;
+    
+    for (x = 0; x <= 100; x++) {
+	sprintf(s, "%ld", x);
+	if (t_strtol(s, 0, x, 0, strlen(s)))
+	    exit(__LINE__);
+	sprintf(s, "%lx", x);
+	if (t_strtol(s, 16, x, 0, strlen(s)))
+	    exit(__LINE__);
+	sprintf(s, "%lo", x);
+	if (t_strtol(s, 8, x, 0, strlen(s)))
+	    exit(__LINE__);
+    }
+    
+    for (x = 0; x >= -100; x--) {
+	sprintf(s, "%ld", x);
+	if (t_strtol(s, 0, x, 0, strlen(s)))
+	    exit(__LINE__);
+	sprintf(s, "-%lx", -x);
+	if (t_strtol(s, 16, x, 0, strlen(s)))
+	    exit(__LINE__);
+	sprintf(s, "-%lo", -x);
+	if (t_strtol(s, 8, x, 0, strlen(s)))
+	    exit(__LINE__);
+    }
+    
+    for (x = LONG_MAX; x >= LONG_MAX - 100; x--) {
+	sprintf(s, "%ld", x);
+	if (t_strtol(s, 0, x, 0, strlen(s)))
+	    exit(__LINE__);
+	sprintf(s, "%lx", x);
+	if (t_strtol(s, 16, x, 0, strlen(s)))
+	    exit(__LINE__);
+	sprintf(s, "%lo", x);
+	if (t_strtol(s, 8, x, 0, strlen(s)))
+	    exit(__LINE__);
+    }
+    
+    for (x = LONG_MIN; x <= LONG_MIN + 100; x++) {
+	sprintf(s, "%ld", x);
+	if (t_strtol(s, 0, x, 0, strlen(s)))
+	    exit(__LINE__);
+	sprintf(s, "-%lx", -x);
+	if (t_strtol(s, 16, x, 0, strlen(s)))
+	    exit(__LINE__);
+	sprintf(s, "-%lo", -x);
+	if (t_strtol(s, 8, x, 0, strlen(s)))
+	    exit(__LINE__);
+    }
+    
+    for (x = 1; x <= 300; x++) {
+	sprintf(s, "8%07lx", x);
+	if (t_strtol(s, 16, 0x7fffffff, ERANGE, strlen(s)))
+	    exit(__LINE__);
+	sprintf(s, "-8%07lx", x);
+	if (t_strtol(s, 16, 0x80000000, ERANGE, strlen(s)))
+	    exit(__LINE__);
+    }
+
+    return 0;
+}
diff --git a/tests/simulate/stdlib/strtol.h b/tests/simulate/stdlib/strtol.h
new file mode 100644
index 0000000..0442c37
--- /dev/null
+++ b/tests/simulate/stdlib/strtol.h
@@ -0,0 +1,64 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* $Id$	*/
+
+#include <ctype.h>
+#include <errno.h>
+#include <limits.h>
+#include <stdlib.h>
+#ifndef	__AVR__
+# include <stdio.h>
+#endif
+#ifndef	EINVAL		/* Addition for errno.h in avr-libc-1.2.0	*/
+# define EINVAL	22	/* Invalid argument	*/
+#endif
+
+static int t_strtol (const char *s, int base, long ret, int err, int len)
+{
+    char * endptr;
+    
+    errno = 0;
+    endptr = (char *)s - 1;		/* invalid value	*/
+    if (strtol (s, & endptr, base) != ret
+	|| errno != err
+#ifdef	__AVR__
+	|| endptr - s != len)
+#else		/* Glibc 2.3.1 is not set endptr in the case of EINVAL	*/
+	|| (errno != EINVAL && (endptr - s) != len) )
+#endif
+    {
+#ifndef	__AVR__
+	printf ("strtol(\"%s\",,%d): %ld, errno: %d, len: %d\n",
+	    s, base, strtol(s, & endptr, base), errno, endptr - s);
+#endif
+	return 1;
+    }
+    return 0;
+}
diff --git a/tests/simulate/stdlib/strtoul-1.c b/tests/simulate/stdlib/strtoul-1.c
new file mode 100644
index 0000000..c571a1b
--- /dev/null
+++ b/tests/simulate/stdlib/strtoul-1.c
@@ -0,0 +1,112 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Base test.
+   $Id$
+ */
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+#include "strtoul.h"
+
+PROGMEM static const struct t_s {
+    char s[14];		/* string to convert	*/
+    int base;
+    unsigned long ret;	/* result must	*/
+    int err;		/* errno must	*/
+    unsigned char len;	/* endptr displacement must	*/
+} t[] = {
+    { "", 0,	    0, 0, 0 },
+    { "-", 0,	    0, 0, 0 },
+    { "+", 0,	    0, 0, 0 },
+    { "    ", 0,    0, 0, 0 },
+
+#ifdef	__AVR__		/* AVR: errno is't set in case of invalid base	*/
+    { "", -1,	    0, 0, 0 },
+    { "0", 1,	    0, 0, 0 },
+    { "123", 37,    0, 0, 0 },
+#else
+    { "", -1,	    0, EINVAL, 0 },
+    { "0", 1,	    0, EINVAL, 0 },
+    { "123", 37,    0, EINVAL, 0 },
+#endif
+	
+    { "0", 0,	    0, 0, 1 },
+    { "0 ", 0,	    0, 0, 1 },
+    { " 0", 0,	    0, 0, 2 },
+    { "\t0", 0,	    0, 0, 2 },
+    { " \t 0", 0,   0, 0, 4 },
+    { "0x0", 0,	    0, 0, 3 },
+    { "0000", 0,    0, 0, 4 },
+    { "+0", 0,	    0, 0, 2 },
+    { "-0", 0,	    0, 0, 2 },
+	
+    { "0x", 0,	    0, 0, 1 },
+    { "0x", 16,	    0, 0, 1 },
+    { "0X", 0,	    0, 0, 1 },
+    { " 0x", 0,	    0, 0, 2 },
+    { "0xx", 0,	    0, 0, 1 },
+    { "-0x", 0,	    0, 0, 2 },
+    { "-0x", 16,    0, 0, 2 },
+    { "+0x", 0,	    0, 0, 2 },
+	
+    { "1", 0,	    1, 0, 1 },
+    { "-1", 0,	    -1, 0, 2 },
+
+    { "210", 3,	    2*9 + 1*3 + 0,		0, 3 },
+    { "a98", 11,    10*11*11L + 9*11 + 8,	0, 3 },
+    { "xyz", 36,    33*36*36L + 34*36 + 35,	0, 3 },
+	
+    { "12345", 8,    012345, 0, 5 },
+    { "12345", 10,   12345, 0, 5 },
+    { "12345", 16,   0x12345, 0, 5 },
+    
+    { "4294967294", 0,	 0xfffffffe, 0, 10 },
+    { "4294967295", 0,	 0xffffffff, 0, 10 },
+    { "037777777776", 0, 0xfffffffe, 0, 12 },
+    { "037777777777", 0, 0xffffffff, 0, 12 },
+    { "0xfffffffe", 0,   0xfffffffe, 0, 10 },
+    { "0xffffffff", 0,   0xffffffff, 0, 10 },
+    
+    { "0xabcdef", 0,	 0xabcdef, 0, 8 },
+    { "0XABCDEF", 0,	 0xabcdef, 0, 8 },
+};
+
+int main ()
+{
+    struct t_s tt;
+    int i;
+    
+    for (i = 0; i != (int)(sizeof(t)/sizeof(t[0])); i++) {
+	memcpy_P (&tt, t+i, sizeof(tt));
+	if (t_strtoul (tt.s, tt.base, tt.ret, tt.err, tt.len))
+	    exit (i+1);
+    }
+    return 0;
+}
diff --git a/tests/simulate/stdlib/strtoul-2.c b/tests/simulate/stdlib/strtoul-2.c
new file mode 100644
index 0000000..a8fe907
--- /dev/null
+++ b/tests/simulate/stdlib/strtoul-2.c
@@ -0,0 +1,110 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Overflow.
+   $Id$
+ */
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+#include "strtoul.h"
+
+int main ()
+{
+    PROGMEM static struct t_s {
+	char s[14];		/* string to convert	*/
+	int base;
+	unsigned long ret;	/* result must	*/
+	int err;		/* errno must	*/
+	unsigned char len;	/* endptr displacement must	*/
+    } t[] = {
+	
+	{ "2147483647", 0,	0x7fffffff, 0, 10 },
+	{ "0x7fffffff", 0,	0x7fffffff, 0, 10 },
+	{ "017777777777", 0,	0x7fffffff, 0, 12 },
+	{ "2147483648", 0,	0x80000000, 0, 10 },
+	{ "0x80000000", 0,	0x80000000, 0, 10 },
+	{ "020000000000", 0,	0x80000000, 0, 12 },
+	
+	{ "4294967295", 0,	0xffffffff, 0, 10 },
+	{ "4294967296", 0,	0xffffffff, ERANGE, 10 },
+	{ "4294967297", 0,	0xffffffff, ERANGE, 10 },
+	{ "4294967298", 0,	0xffffffff, ERANGE, 10 },
+	{ "4294967299", 0,	0xffffffff, ERANGE, 10 },
+	{ "4294967300", 0,	0xffffffff, ERANGE, 10 },
+	{ "4294967301", 0,	0xffffffff, ERANGE, 10 },
+	{ "4294967302", 0,	0xffffffff, ERANGE, 10 },
+	{ "4294967303", 0,	0xffffffff, ERANGE, 10 },
+	{ "4294967304", 0,	0xffffffff, ERANGE, 10 },
+	{ "4294967305", 0,	0xffffffff, ERANGE, 10 },
+	{ "4294967306", 0,	0xffffffff, ERANGE, 10 },
+	{ "9999999999999", 0,	0xffffffff, ERANGE, 13 },
+
+	{ "037777777777", 0,	0xffffffff, 0, 12 },
+	{ "040000000000", 0,	0xffffffff, ERANGE, 12 },
+	{ "040000000001", 0,	0xffffffff, ERANGE, 12 },
+	{ "040000000006", 0,	0xffffffff, ERANGE, 12 },
+	{ "040000000007", 0,	0xffffffff, ERANGE, 12 },
+	{ "040000000010", 0,	0xffffffff, ERANGE, 12 },
+	{ "0777777777777", 0,	0xffffffff, ERANGE, 13 },
+	
+	{ "0xffffffff", 0,	0xffffffff, 0, 10},
+	{ "0x100000000", 0,	0xffffffff, ERANGE, 11 },
+	{ "0x100000001", 0,	0xffffffff, ERANGE, 11 },
+	{ "0x10000000e", 0,	0xffffffff, ERANGE, 11 },
+	{ "0x10000000f", 0,	0xffffffff, ERANGE, 11 },
+	{ "0x100000010", 0,	0xffffffff, ERANGE, 11 },
+	{ "0xfffffffffff", 0,	0xffffffff, ERANGE, 13 },
+	
+	{ "-2147483647", 0,	0x80000001, 0, 11 },
+	{ "-0x7fffffff", 0,	0x80000001, 0, 11 },
+	{ "-017777777777", 0,	0x80000001, 0, 13 },
+	{ "-2147483648", 0,	0x80000000, 0, 11 },
+	{ "-0x80000000", 0,	0x80000000, 0, 11 },
+	{ "-020000000000", 0,	0x80000000, 0, 13 },
+	{ "-2147483649", 0,	0x7fffffff, 0, 11 },
+	{ "-0x80000001", 0,	0x7fffffff, 0, 11 },
+	{ "-020000000001", 0,	0x7fffffff, 0, 13 },
+	
+	{ "-4294967295", 0,	0x00000001, 0, 11 },
+	{ "-4294967296", 0,	0xffffffff, ERANGE, 11 },
+	{ "-4294967297", 0,	0xffffffff, ERANGE, 11 },
+
+    };
+    int i;
+    
+    for (i = 0; i != (int)(sizeof(t)/sizeof(t[0])); i++) {
+	struct t_s tt, *p;
+	memcpy_P (&tt, t + i, sizeof(tt));
+	p = &tt;
+	if (t_strtoul (p->s, p->base, p->ret, p->err, p->len))
+	    exit (i+1);
+    }
+    return 0;
+}
diff --git a/tests/simulate/stdlib/strtoul-3.c b/tests/simulate/stdlib/strtoul-3.c
new file mode 100644
index 0000000..48f9493
--- /dev/null
+++ b/tests/simulate/stdlib/strtoul-3.c
@@ -0,0 +1,81 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Binary conversion.
+   $Id$
+ */
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+#include "strtoul.h"
+
+int main ()
+{
+    PROGMEM static struct t_s {
+	char s[35];		/* string to convert	*/
+	int base;
+	unsigned long ret;	/* result must	*/
+	int err;		/* errno must	*/
+	unsigned char len;	/* endptr displacement must	*/
+    } t[] = {
+	
+	{ "0", 2,	0, 0, 1 },
+	{ "1", 2,	1, 0, 1 },
+	{ "-1", 2,	-1, 0, 2 },
+	{ "10101010", 2,	0xaa, 0, 8 },
+
+	{ "1111111111111111111111111111110", 2,	   0x7ffffffe, 0, 31 },
+	{ "1111111111111111111111111111111", 2,    0x7fffffff, 0, 31 },
+	{ "10000000000000000000000000000000", 2,   0x80000000, 0, 32 },
+	{ "10000000000000000000000000000001", 2,   0x80000001, 0, 32 },
+	{ "11111111111111111111111111111111", 2,   0xffffffff, 0, 32 },
+	{ "100000000000000000000000000000000", 2,  0xffffffff, ERANGE, 33 },
+	{ "100000000000000000000000000000001", 2,  0xffffffff, ERANGE, 33 },
+
+	{ "-1111111111111111111111111111111", 2,   0x80000001, 0, 32 },
+	{ "-10000000000000000000000000000000", 2,  0x80000000, 0, 33 },
+	{ "-10000000000000000000000000000001", 2,  0x7fffffff, 0, 33 },
+	{ "-10000000000000000000000000000010", 2,  0x7ffffffe, 0, 33 },
+	{ "-11111111111111111111111111111111", 2,  0x00000001, 0, 33 },
+	{ "-100000000000000000000000000000000", 2, 0xffffffff, ERANGE, 34 },
+	{ "-100000000000000000000000000000001", 2, 0xffffffff, ERANGE, 34 },
+	
+    };
+    struct t_s tt;
+    int i;
+    
+    for (i = 0; i != (int)(sizeof(t)/sizeof(t[0])); i++) {
+	struct t_s *p;
+	memcpy_P (&tt, t + i, sizeof(tt));
+	p = &tt;
+	if (t_strtoul (p->s, p->base, p->ret, p->err, p->len))
+	    exit (i+1);
+    }
+    return 0;
+}
diff --git a/tests/simulate/stdlib/strtoul.h b/tests/simulate/stdlib/strtoul.h
new file mode 100644
index 0000000..c3d8861
--- /dev/null
+++ b/tests/simulate/stdlib/strtoul.h
@@ -0,0 +1,64 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* $Id$	*/
+
+#include <errno.h>
+#include <limits.h>
+#include <stdlib.h>
+#ifndef	__AVR__
+# include <stdio.h>
+#endif
+#ifndef	EINVAL		/* Addition for errno.h in avr-libc-1.2.0	*/
+# define EINVAL	22	/* Invalid argument	*/
+#endif
+
+static int
+t_strtoul (const char *s, int base, unsigned long ret, int err, int len)
+{
+    char * endptr;
+    
+    errno = 0;
+    endptr = (char *)s - 1;		/* invalid value	*/
+    if (strtoul (s, & endptr, base) != ret
+	|| errno != err
+#ifdef	__AVR__
+	|| endptr - s != len)
+#else		/* Glibc 2.3.1 is not set endptr in the case of EINVAL	*/
+	|| (errno != EINVAL && (endptr - s) != len) )
+#endif
+    {
+#ifndef	__AVR__
+	printf ("strtoul(\"%s\",,%d): %lu, errno: %d, len: %d\n",
+	    s, base, strtoul(s, & endptr, base), errno, endptr - s);
+#endif
+	return 1;
+    }
+    return 0;
+}
diff --git a/tests/simulate/stdlib/tolower-1.c b/tests/simulate/stdlib/tolower-1.c
new file mode 100644
index 0000000..e704b5e
--- /dev/null
+++ b/tests/simulate/stdlib/tolower-1.c
@@ -0,0 +1,86 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of tolower() function.
+   $Id$
+ */
+#include <ctype.h>
+#include <stdlib.h>
+#include <stdio.h>
+
+#ifndef	__AVR__
+# define PRINTFLN(fmt, ...)	\
+    printf ("\nLine %d: " fmt "\n", __LINE__, ##__VA_ARGS__)
+# define EXIT(code)	exit ((code) < 255 ? (code) : 100 + (code) % 100)
+#else
+# if defined(__AVR_ATmega128__)
+  /* ATmega128 has enough RAM for sprintf(), print to 0x2000 in XRAM. */
+#  define PRINTFLN(fmt, ...)	\
+    sprintf ((char *)0x2000, "\nLine %d: " fmt "\n", __LINE__, ##__VA_ARGS__)
+# else
+   /* small AVR */
+#  define PRINTFLN(args...)
+# endif
+# define EXIT	exit
+#endif
+
+int main ()
+{
+    int i, v;
+    
+    for (i = -1; i < 256; i++) {
+	v = tolower (i);
+	if (i >= 'A' && i <= 'Z') {
+	    if (v != i + 'a' - 'A') {
+		PRINTFLN ("tolower(%#x) --> %#x", i, v);
+		EXIT (__LINE__);
+	    }
+	} else {
+	    if (v != i) {
+		PRINTFLN ("tolower(%#x) --> %#x", i, v);
+		EXIT (__LINE__);
+	    }
+	}
+    }
+    
+
+/* Skip the host, as according to C standart it is not safety to use an
+   argument beyound -1..255 value. Avr-libc's ctype functions permit
+   this.	*/
+#ifdef	__AVR__
+    {
+	unsigned int u;
+	for (u = 0xffff; u > 0xff; u--)
+	    if (u != (unsigned int)tolower (u))
+		EXIT (__LINE__);
+    }
+#endif
+
+    return 0;
+}
diff --git a/tests/simulate/stdlib/toupper-1.c b/tests/simulate/stdlib/toupper-1.c
new file mode 100644
index 0000000..baa656e
--- /dev/null
+++ b/tests/simulate/stdlib/toupper-1.c
@@ -0,0 +1,86 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of toupper() function.
+   $Id$
+ */
+#include <ctype.h>
+#include <stdlib.h>
+#include <stdio.h>
+
+#ifndef	__AVR__
+# define PRINTFLN(fmt, ...)	\
+    printf ("\nLine %d: " fmt "\n", __LINE__, ##__VA_ARGS__)
+# define EXIT(code)	exit ((code) < 255 ? (code) : 100 + (code) % 100)
+#else
+# if defined(__AVR_ATmega128__)
+  /* ATmega128 has enough RAM for sprintf(), print to 0x2000 in XRAM. */
+#  define PRINTFLN(fmt, ...)	\
+    sprintf ((char *)0x2000, "\nLine %d: " fmt "\n", __LINE__, ##__VA_ARGS__)
+# else
+   /* small AVR */
+#  define PRINTFLN(args...)
+# endif
+# define EXIT	exit
+#endif
+
+int main ()
+{
+    int i, v;
+    
+    for (i = -1; i < 256; i++) {
+	v = toupper (i);
+	if (i >= 'a' && i <= 'z') {
+	    if (v != i + 'A' - 'a') {
+		PRINTFLN ("toupper(%#x) --> %#x", i, v);
+		EXIT (__LINE__);
+	    }
+	} else {
+	    if (v != i) {
+		PRINTFLN ("toupper(%#x) --> %#x", i, v);
+		EXIT (__LINE__);
+	    }
+	}
+    }
+    
+
+/* Skip the host, as according to C standart it is not safety to use an
+   argument beyound -1..255 value. Avr-libc's ctype functions permit
+   this.	*/
+#ifdef	__AVR__
+    {
+	unsigned int u;
+	for (u = 0xffff; u > 0xff; u--)
+	    if (u != (unsigned int)toupper (u))
+		EXIT (__LINE__);
+    }
+#endif
+
+    return 0;
+}
diff --git a/tests/simulate/stdlib/ultoa-1.c b/tests/simulate/stdlib/ultoa-1.c
new file mode 100644
index 0000000..991da30
--- /dev/null
+++ b/tests/simulate/stdlib/ultoa-1.c
@@ -0,0 +1,148 @@
+/* Copyright (c) 2012  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of ultoa() with all possible inline variants.
+   $Id$	*/
+
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+#ifndef	__AVR__
+# include <stdio.h>
+# define PRINTFLN(line, fmt, ...)	\
+    printf ("\n%s:%d: " fmt "\n", __FILE__, line, ##__VA_ARGS__);
+# define EXIT(code)	exit ((code) < 255 ? (code) : 100 + (code) % 100)
+#else
+# define PRINTFLN(args...)
+# define EXIT(code)	exit (code)
+#endif
+
+#ifndef	__AVR__
+static char *ultoa_recursive (unsigned long val, char *s, unsigned radix)
+{
+    int c;
+
+    if (val >= radix)
+	s = ultoa_recursive (val / radix, s, radix);
+    c = val % radix;
+    c += (c < 10 ? '0' : 'a' - 10);
+    *s++ = c;
+    return s;
+}
+
+static char *ultoa (unsigned long val, char *s, int radix)
+{
+    if (radix < 2 || radix > 36)
+	s[0] = 0;
+    else
+	*ultoa_recursive (val, s, radix) = 0;
+    return s;
+}
+#endif
+
+
+int main ()
+{
+    char s[40];
+    char *(* volatile fun)(unsigned long, char *, int);
+    volatile int rdx;
+
+    /* Inline function, possible call of __ltoa_ncheck().	*/
+
+    ultoa (4000999000, s, 10);
+    if (strcmp_P (s, PSTR ("4000999000")))
+	EXIT (__LINE__);
+    ultoa (35, s, 2);
+    if (strcmp_P (s, PSTR ("100011")))
+	EXIT (__LINE__);
+    ultoa (35, s, 36);
+    if (strcmp_P (s, PSTR ("z")))
+	EXIT (__LINE__);
+
+    if (ultoa (2, s, 1) != s || s[0])
+	EXIT (__LINE__);
+    s[0] = '2';
+    if (ultoa (2, s, 37) != s || s[0])
+	EXIT (__LINE__);
+    s[0] = '2';
+    if (ultoa (2, s, 0x0108) != s || s[0])
+	EXIT (__LINE__);
+
+    /* Library function, call of ultoa().	*/
+
+    fun = ultoa;
+    fun (4000999000, s, 10);
+    if (strcmp_P (s, PSTR ("4000999000")))
+	EXIT (__LINE__);
+    fun (35, s, 2);
+    if (strcmp_P (s, PSTR ("100011")))
+	EXIT (__LINE__);
+    fun (35, s, 36);
+    if (strcmp_P (s, PSTR ("z")))
+	EXIT (__LINE__);
+
+    if (fun (2, s, 1) != s || s[0])
+	EXIT (__LINE__);
+    s[0] = '2';
+    if (fun (2, s, 37) != s || s[0])
+	EXIT (__LINE__);
+    s[0] = '2';
+    if (fun (2, s, 0x0108) != s || s[0])
+	EXIT (__LINE__);
+
+    /* Unknown radix, call of __ultoa().	*/
+
+    rdx = 10;
+    ultoa (4000999000, s, rdx);
+    if (strcmp_P (s, PSTR ("4000999000")))
+	EXIT (__LINE__);
+    rdx = 2;
+    ultoa (35, s, rdx);
+    if (strcmp_P (s, PSTR ("100011")))
+	EXIT (__LINE__);
+    rdx = 36;
+    ultoa (35, s, rdx);
+    if (strcmp_P (s, PSTR ("z")))
+	EXIT (__LINE__);
+
+    rdx = 1;
+    if (ultoa (2, s, rdx) != s || s[0])
+	EXIT (__LINE__);
+    rdx = 37;
+    s[0] = '2';
+    if (ultoa (2, s, rdx) != s || s[0])
+	EXIT (__LINE__);
+    rdx = 0x0108;
+    s[0] = '2';
+    if (ultoa (2, s, rdx) != s || s[0])
+	EXIT (__LINE__);
+
+    return 0;
+}
diff --git a/tests/simulate/stdlib/ultoa-2.c b/tests/simulate/stdlib/ultoa-2.c
new file mode 100644
index 0000000..c5387dd
--- /dev/null
+++ b/tests/simulate/stdlib/ultoa-2.c
@@ -0,0 +1,224 @@
+/* Copyright (c) 2012  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of ultoa() with patterns.
+   $Id$	*/
+
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+#ifndef	__AVR__
+# include <stdio.h>
+# define PRINTFLN(line, fmt, ...)	\
+    printf ("\n%s:%d: " fmt "\n", __FILE__, line, ##__VA_ARGS__);
+# define EXIT(code)	exit ((code) < 255 ? (code) : 100 + (code) % 100)
+#else
+# define PRINTFLN(args...)
+# define EXIT(code)	exit (code)
+#endif
+
+#ifndef	__AVR__
+static char *ultoa_recursive (unsigned long val, char *s, unsigned radix)
+{
+    int c;
+
+    if (val >= radix)
+	s = ultoa_recursive (val / radix, s, radix);
+    c = val % radix;
+    c += (c < 10 ? '0' : 'a' - 10);
+    *s++ = c;
+    return s;
+}
+
+static char *ultoa (unsigned long val, char *s, int radix)
+{
+    if (radix < 2 || radix > 36)
+	s[0] = 0;
+    else
+	*ultoa_recursive (val, s, radix) = 0;
+    return s;
+}
+#endif
+
+static void
+Check (int line, unsigned long val, const char *rslt, int radix)
+{
+    char s[40];
+
+#ifndef	__AVR__
+    if (radix >= 2 && radix <= 36) {
+	unsigned long x = strtoul (rslt, 0, radix);
+	if (x != val) {
+	    PRINTFLN (line, "strtoul(\"%s\",,%d)= %lu,  val= %lu",
+		      rslt, radix, x, val);
+	    EXIT (2000 + line);
+	}
+    }
+#endif
+
+    memset (s, 0xff, sizeof (s) - 1);
+    s[sizeof (s) - 1] = 0;
+    if (ultoa (val, s, radix) != s) {
+	PRINTFLN (line, "Incorrect result");
+	EXIT (1000 + line);
+    }
+
+    if (strcmp_P (s, rslt)) {
+	PRINTFLN (line, "ultoa(%lu,,%d) puts: %s, must: %s",
+		  val, radix, s, rslt);
+	EXIT (line);
+    }
+}
+
+#define CHECK(val, rslt, base)	\
+    Check (__LINE__, val, PSTR (rslt), base)
+
+
+int main ()
+{
+    int i;
+
+    /* Invalid radix.	*/
+    CHECK (0, "", 0);
+    CHECK (0, "", 1);
+    CHECK (0, "", 37);
+    CHECK (10, "", 0x0102);
+    CHECK (256, "", 0x8008);
+
+    /* Radix-independent results.	*/
+    for (i = 2; i <= 36; i++) {
+	unsigned long x;
+
+	CHECK (0, "0", i);
+	CHECK (1, "1", i);
+
+	CHECK (i, "10", i);
+	CHECK (i + 1, "11", i);
+
+	x = i * i;
+	CHECK (x, "100", i);
+	CHECK (x + 1, "101", i);
+	CHECK (x + i, "110", i);
+	CHECK (x + i + 1, "111", i);
+
+	x *= i;
+	CHECK (x, "1000", i);
+	x *= i;
+	CHECK (x, "10000", i);
+	x *= i;
+	CHECK (x, "100000", i);
+    }
+
+    CHECK (0xfe, "11111110", 2);
+    CHECK (0xfe, "254", 10);
+    CHECK (0xfe, "211", 11);
+    CHECK (0xfe, "72", 36);
+
+    CHECK (0xff, "11111111", 2);
+    CHECK (0xff, "255", 10);
+    CHECK (0xff, "212", 11);
+    CHECK (0xff, "73", 36);
+
+    CHECK (0x100, "100000000", 2);
+    CHECK (0x100, "256", 10);
+    CHECK (0x100, "213", 11);
+    CHECK (0x100, "74", 36);
+
+    CHECK (0x101, "100000001", 2);
+    CHECK (0x101, "257", 10);
+    CHECK (0x101, "214", 11);
+    CHECK (0x101, "75", 36);
+
+    CHECK (0xfffe, "1111111111111110", 2);
+    CHECK (0xfffe, "65534", 10);
+    CHECK (0xfffe, "45267", 11);
+    CHECK (0xfffe, "1eke", 36);
+
+    CHECK (0xffff, "1111111111111111", 2);
+    CHECK (0xffff, "65535", 10);
+    CHECK (0xffff, "45268", 11);
+    CHECK (0xffff, "1ekf", 36);
+
+    CHECK (0x10000, "10000000000000000", 2);
+    CHECK (0x10000, "65536", 10);
+    CHECK (0x10000, "45269", 11);
+    CHECK (0x10000, "1ekg", 36);
+
+    CHECK (0x10001, "10000000000000001", 2);
+    CHECK (0x10001, "65537", 10);
+    CHECK (0x10001, "4526a", 11);
+    CHECK (0x10001, "1ekh", 36);
+
+    CHECK (0xfffffe, "111111111111111111111110", 2);
+    CHECK (0xfffffe, "16777214", 10);
+    CHECK (0xfffffe, "9519a73", 11);
+    CHECK (0xfffffe, "9zldq", 36);
+
+    CHECK (0xffffff, "111111111111111111111111", 2);
+    CHECK (0xffffff, "16777215", 10);
+    CHECK (0xffffff, "9519a74", 11);
+    CHECK (0xffffff, "9zldr", 36);
+
+    CHECK (0x1000000, "1000000000000000000000000", 2);
+    CHECK (0x1000000, "16777216", 10);
+    CHECK (0x1000000, "9519a75", 11);
+    CHECK (0x1000000, "9zlds", 36);
+
+    CHECK (0x1000001, "1000000000000000000000001", 2);
+    CHECK (0x1000001, "16777217", 10);
+    CHECK (0x1000001, "9519a76", 11);
+    CHECK (0x1000001, "9zldt", 36);
+
+    CHECK (0xfffffffe, "11111111111111111111111111111110", 2);
+    CHECK (0xfffffffe, "37777777776", 8);
+    CHECK (0xfffffffe, "4294967294", 10);
+    CHECK (0xfffffffe, "1904440552", 11);
+    CHECK (0xfffffffe, "fffffffe", 16);
+    CHECK (0xfffffffe, "1z141z2", 36);
+
+    CHECK (0xffffffff, "11111111111111111111111111111111", 2);
+    CHECK (0xffffffff, "37777777777", 8);
+    CHECK (0xffffffff, "4294967295", 10);
+    CHECK (0xffffffff, "1904440553", 11);
+    CHECK (0xffffffff, "ffffffff", 16);
+    CHECK (0xffffffff, "1z141z3", 36);
+
+    CHECK (10, "a", 11);
+    CHECK (35, "z", 36);
+
+    CHECK (01234567, "1234567", 8);
+    CHECK (07654321, "7654321", 8);
+    CHECK (123456789, "123456789", 10);
+    CHECK (987654321, "987654321", 10);
+    CHECK (0x89ABCDEF, "89abcdef", 16);
+    CHECK (0xFEDCBA98, "fedcba98", 16);
+
+    return 0;
+}
diff --git a/tests/simulate/stdlib/ultoa-3.c b/tests/simulate/stdlib/ultoa-3.c
new file mode 100644
index 0000000..e43c861
--- /dev/null
+++ b/tests/simulate/stdlib/ultoa-3.c
@@ -0,0 +1,157 @@
+/* Copyright (c) 2012  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of ultoa() function with strtoul() usage.
+   $Id$	*/
+
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+#ifndef	__AVR__
+# include <stdio.h>
+# define PRINTFLN(line, fmt, ...)	\
+    printf ("\n%s:%d: " fmt "\n", __FILE__, line, ##__VA_ARGS__);
+# define EXIT(code)	exit ((code) < 255 ? (code) : 100 + (code) % 100)
+#else
+# define PRINTFLN(args...)
+# define EXIT(code)	exit (code)
+#endif
+
+#ifndef	__AVR__
+static char *ultoa_recursive (unsigned long val, char *s, unsigned radix)
+{
+    int c;
+
+    if (val >= radix)
+	s = ultoa_recursive (val / radix, s, radix);
+    c = val % radix;
+    c += (c < 10 ? '0' : 'a' - 10);
+    *s++ = c;
+    return s;
+}
+
+static char *ultoa (unsigned long val, char *s, int radix)
+{
+    if (radix < 2 || radix > 36)
+	s[0] = 0;
+    else
+	*ultoa_recursive (val, s, radix) = 0;
+    return s;
+}
+#endif
+
+static void
+Check (int line, unsigned long val, int radix)
+{
+    char s[40], *p;
+    unsigned long x;
+
+    memset (s, 0xff, sizeof (s) - 1);
+    s[sizeof (s) - 1] = 0;
+    if (ultoa (val, s, radix) != s) {
+	PRINTFLN (line, "Incorrect result");
+	EXIT (1000 + line);
+    }
+
+    x = strtoul (s, &p, radix);
+    if (x != val) {
+	PRINTFLN (line, "strtoul (ultoa (%lu,s,%d)) = %lu", val, radix, x);
+	EXIT (line);
+    }
+
+    if (p != s + strlen (s)) {
+	PRINTFLN (line, "Invalid character");
+	EXIT (line);
+    }
+}
+
+#define CHECK(val, base)	Check (__LINE__, val, base)
+
+
+int main ()
+{
+    int i;
+    int radix;
+
+    for (radix = 2; radix <= 36; radix++) {
+	int n;
+
+	CHECK (0x55555555, radix);
+	CHECK (0xaaaaaaaa, radix);
+
+	for (i = 0; i < 32; i++) {
+	    CHECK (1uL << i, radix);
+	    CHECK (~0uL << i, radix);
+	}
+
+	for (i = 0; i < 31; i++) {
+	    CHECK (3uL << i, radix);
+	    CHECK (~3uL << i, radix);
+	}
+
+	for (i = 0; i < 30; i++) {
+	    CHECK (7uL << i, radix);
+	    CHECK (~7uL << i, radix);
+	}
+
+	for (i = 0; i < 29; i++) {
+	    CHECK (017uL << i, radix);
+	    CHECK (~017uL << i, radix);
+	}
+
+	for (i = 0; i < 28; i++) {
+	    CHECK (037uL << i, radix);
+	    CHECK (~037uL << i, radix);
+	}
+
+	for (i = 0; i < 27; i++) {
+	    CHECK (077uL << i, radix);
+	    CHECK (~077uL << i, radix);
+	}
+
+	for (i = 0; i < 26; i++) {
+	    CHECK (0177uL << i, radix);
+	    CHECK (~0177uL << i, radix);
+	}
+
+	for (i = 0; i < 25; i++) {
+	    CHECK (0377uL << i, radix);
+	    CHECK (~0377uL << i, radix);
+	}
+
+	n = radix*radix;
+	for (i = 5; i <= n; i++) {
+	    CHECK (i, radix);
+	    CHECK (-i, radix);
+	}
+    }
+
+    return 0;
+}
diff --git a/tests/simulate/stdlib/utoa-1.c b/tests/simulate/stdlib/utoa-1.c
new file mode 100644
index 0000000..2098f72
--- /dev/null
+++ b/tests/simulate/stdlib/utoa-1.c
@@ -0,0 +1,148 @@
+/* Copyright (c) 2012  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of utoa() with all possible inline variants.
+   $Id$	*/
+
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+#ifndef	__AVR__
+# include <stdio.h>
+# define PRINTFLN(line, fmt, ...)	\
+    printf ("\n%s:%d: " fmt "\n", __FILE__, line, ##__VA_ARGS__);
+# define EXIT(code)	exit ((code) < 255 ? (code) : 100 + (code) % 100)
+#else
+# define PRINTFLN(args...)
+# define EXIT(code)	exit (code)
+#endif
+
+#ifndef	__AVR__
+static char *utoa_recursive (unsigned val, char *s, unsigned radix)
+{
+    int c;
+
+    if (val >= radix)
+	s = utoa_recursive (val / radix, s, radix);
+    c = val % radix;
+    c += (c < 10 ? '0' : 'a' - 10);
+    *s++ = c;
+    return s;
+}
+
+static char *utoa (unsigned val, char *s, int radix)
+{
+    if (radix < 2 || radix > 36)
+	s[0] = 0;
+    else
+	*utoa_recursive (val, s, radix) = 0;
+    return s;
+}
+#endif
+
+
+int main ()
+{
+    char s[40];
+    char *(* volatile fun)(unsigned, char *, int);
+    volatile int rdx;
+
+    /* Inline function, possible call of __ltoa_ncheck().	*/
+
+    utoa (60000, s, 10);
+    if (strcmp_P (s, PSTR ("60000")))
+	EXIT (__LINE__);
+    utoa (35, s, 2);
+    if (strcmp_P (s, PSTR ("100011")))
+	EXIT (__LINE__);
+    utoa (35, s, 36);
+    if (strcmp_P (s, PSTR ("z")))
+	EXIT (__LINE__);
+
+    if (utoa (2, s, 1) != s || s[0])
+	EXIT (__LINE__);
+    s[0] = '2';
+    if (utoa (2, s, 37) != s || s[0])
+	EXIT (__LINE__);
+    s[0] = '2';
+    if (utoa (2, s, 0x0108) != s || s[0])
+	EXIT (__LINE__);
+
+    /* Library function, call of utoa().	*/
+
+    fun = utoa;
+    fun (60000, s, 10);
+    if (strcmp_P (s, PSTR ("60000")))
+	EXIT (__LINE__);
+    fun (35, s, 2);
+    if (strcmp_P (s, PSTR ("100011")))
+	EXIT (__LINE__);
+    fun (35, s, 36);
+    if (strcmp_P (s, PSTR ("z")))
+	EXIT (__LINE__);
+
+    if (fun (2, s, 1) != s || s[0])
+	EXIT (__LINE__);
+    s[0] = '2';
+    if (fun (2, s, 37) != s || s[0])
+	EXIT (__LINE__);
+    s[0] = '2';
+    if (fun (2, s, 0x0108) != s || s[0])
+	EXIT (__LINE__);
+
+    /* Unknown radix, call of __utoa().	*/
+
+    rdx = 10;
+    utoa (60000, s, rdx);
+    if (strcmp_P (s, PSTR ("60000")))
+	EXIT (__LINE__);
+    rdx = 2;
+    utoa (35, s, rdx);
+    if (strcmp_P (s, PSTR ("100011")))
+	EXIT (__LINE__);
+    rdx = 36;
+    utoa (35, s, rdx);
+    if (strcmp_P (s, PSTR ("z")))
+	EXIT (__LINE__);
+
+    rdx = 1;
+    if (utoa (2, s, rdx) != s || s[0])
+	EXIT (__LINE__);
+    rdx = 37;
+    s[0] = '2';
+    if (utoa (2, s, rdx) != s || s[0])
+	EXIT (__LINE__);
+    rdx = 0x0108;
+    s[0] = '2';
+    if (utoa (2, s, rdx) != s || s[0])
+	EXIT (__LINE__);
+
+    return 0;
+}
diff --git a/tests/simulate/stdlib/utoa-2.c b/tests/simulate/stdlib/utoa-2.c
new file mode 100644
index 0000000..f62ccb2
--- /dev/null
+++ b/tests/simulate/stdlib/utoa-2.c
@@ -0,0 +1,180 @@
+/* Copyright (c) 2012  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of utoa() with patterns.
+   $Id$	*/
+
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+#ifndef	__AVR__
+# include <stdio.h>
+# define PRINTFLN(line, fmt, ...)	\
+    printf ("\n%s:%d: " fmt "\n", __FILE__, line, ##__VA_ARGS__);
+# define EXIT(code)	exit ((code) < 255 ? (code) : 100 + (code) % 100)
+#else
+# define PRINTFLN(args...)
+# define EXIT(code)	exit (code)
+#endif
+
+#ifndef	__AVR__
+static char *utoa_recursive (unsigned val, char *s, unsigned radix)
+{
+    int c;
+
+    if (val >= radix)
+	s = utoa_recursive (val / radix, s, radix);
+    c = val % radix;
+    c += (c < 10 ? '0' : 'a' - 10);
+    *s++ = c;
+    return s;
+}
+
+static char *utoa (unsigned val, char *s, int radix)
+{
+    if (radix < 2 || radix > 36)
+	s[0] = 0;
+    else
+	*utoa_recursive (val, s, radix) = 0;
+    return s;
+}
+#endif
+
+static void
+Check (int line, unsigned val, const char *rslt, int radix)
+{
+    char s[40];
+
+#ifndef	__AVR__
+    if (radix >= 2 && radix <= 36) {
+	unsigned long x = strtoul (rslt, 0, radix);
+	if (x != val) {
+	    PRINTFLN (line, "strtoul(\"%s\",,%d)= %lu,  val= %u",
+		      rslt, radix, x, val);
+	    EXIT (2000 + line);
+	}
+    }
+#endif
+
+    memset (s, 0xff, sizeof (s) - 1);
+    s[sizeof (s) - 1] = 0;
+    if (utoa (val, s, radix) != s) {
+	PRINTFLN (line, "Incorrect result");
+	EXIT (1000 + line);
+    }
+
+    if (strcmp_P (s, rslt)) {
+	PRINTFLN (line, "utoa(%u,,%d) puts: %s, must: %s",
+		  val, radix, s, rslt);
+	EXIT (line);
+    }
+}
+
+#define CHECK(val, rslt, base)	\
+    Check (__LINE__, val, PSTR (rslt), base)
+
+
+int main ()
+{
+    int i;
+
+    /* Invalid radix.	*/
+    CHECK (0, "", 0);
+    CHECK (0, "", 1);
+    CHECK (0, "", 37);
+    CHECK (10, "", 0x0102);
+    CHECK (256, "", 0x8008);
+
+    /* Radix-independent results.	*/
+    for (i = 2; i <= 36; i++) {
+	unsigned long x;
+
+	CHECK (0, "0", i);
+	CHECK (1, "1", i);
+
+	CHECK (i, "10", i);
+	CHECK (i + 1, "11", i);
+
+	x = i * i;
+	CHECK (x, "100", i);
+	CHECK (x + 1, "101", i);
+	CHECK (x + i, "110", i);
+	CHECK (x + i + 1, "111", i);
+
+	x *= i;
+	CHECK (x, "1000", i);
+	CHECK (x + 1, "1001", i);
+	CHECK (x + i, "1010", i);
+	CHECK (x + i + 1, "1011", i);
+	CHECK (x + i*i + i + 1, "1111", i);
+    }
+
+    CHECK (0xfe, "11111110", 2);
+    CHECK (0xfe, "254", 10);
+    CHECK (0xfe, "211", 11);
+    CHECK (0xfe, "72", 36);
+
+    CHECK (0xff, "11111111", 2);
+    CHECK (0xff, "255", 10);
+    CHECK (0xff, "212", 11);
+    CHECK (0xff, "73", 36);
+
+    CHECK (0x100, "100000000", 2);
+    CHECK (0x100, "256", 10);
+    CHECK (0x100, "213", 11);
+    CHECK (0x100, "74", 36);
+
+    CHECK (0x101, "100000001", 2);
+    CHECK (0x101, "257", 10);
+    CHECK (0x101, "214", 11);
+    CHECK (0x101, "75", 36);
+
+    CHECK (0xfffe, "1111111111111110", 2);
+    CHECK (0xfffe, "65534", 10);
+    CHECK (0xfffe, "45267", 11);
+    CHECK (0xfffe, "1eke", 36);
+
+    CHECK (0xffff, "1111111111111111", 2);
+    CHECK (0xffff, "65535", 10);
+    CHECK (0xffff, "45268", 11);
+    CHECK (0xffff, "1ekf", 36);
+
+    CHECK (10, "a", 11);
+    CHECK (35, "z", 36);
+
+    CHECK (0123456, "123456", 8);
+    CHECK (076543, "76543", 8);
+    CHECK (12345, "12345", 10);
+    CHECK (9876, "9876", 10);
+    CHECK (0x89AB, "89ab", 16);
+    CHECK (0xFEDC, "fedc", 16);
+
+    return 0;
+}
diff --git a/tests/simulate/stdlib/utoa-3.c b/tests/simulate/stdlib/utoa-3.c
new file mode 100644
index 0000000..99d13ee
--- /dev/null
+++ b/tests/simulate/stdlib/utoa-3.c
@@ -0,0 +1,157 @@
+/* Copyright (c) 2012  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of utoa() function with strtoul() usage.
+   $Id$	*/
+
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+#ifndef	__AVR__
+# include <stdio.h>
+# define PRINTFLN(line, fmt, ...)	\
+    printf ("\n%s:%d: " fmt "\n", __FILE__, line, ##__VA_ARGS__);
+# define EXIT(code)	exit ((code) < 255 ? (code) : 100 + (code) % 100)
+#else
+# define PRINTFLN(args...)
+# define EXIT(code)	exit (code)
+#endif
+
+#ifndef	__AVR__
+static char *utoa_recursive (unsigned val, char *s, unsigned radix)
+{
+    int c;
+
+    if (val >= radix)
+	s = utoa_recursive (val / radix, s, radix);
+    c = val % radix;
+    c += (c < 10 ? '0' : 'a' - 10);
+    *s++ = c;
+    return s;
+}
+
+static char *utoa (unsigned val, char *s, int radix)
+{
+    if (radix < 2 || radix > 36)
+	s[0] = 0;
+    else
+	*utoa_recursive (val, s, radix) = 0;
+    return s;
+}
+#endif
+
+static void
+Check (int line, unsigned val, int radix)
+{
+    char s[40], *p;
+    unsigned long x;
+
+    memset (s, 0xff, sizeof (s) - 1);
+    s[sizeof (s) - 1] = 0;
+    if (utoa (val, s, radix) != s) {
+	PRINTFLN (line, "Incorrect result");
+	EXIT (1000 + line);
+    }
+
+    x = strtoul (s, &p, radix);
+    if (x != val) {
+	PRINTFLN (line, "strtoul (utoa (%u,s,%d)) = %lu", val, radix, x);
+	EXIT (line);
+    }
+
+    if (p != s + strlen (s)) {
+	PRINTFLN (line, "Invalid character");
+	EXIT (line);
+    }
+}
+
+#define CHECK(val, base)	Check (__LINE__, val, base)
+
+
+int main ()
+{
+    int i;
+    int radix;
+
+    for (radix = 2; radix <= 36; radix++) {
+	int n;
+
+	CHECK (0x5555, radix);
+	CHECK (0xaaaa, radix);
+
+	for (i = 0; i < 16; i++) {
+	    CHECK (1 << i, radix);
+	    CHECK (~0 << i, radix);
+	}
+
+	for (i = 0; i < 15; i++) {
+	    CHECK (3 << i, radix);
+	    CHECK (~3 << i, radix);
+	}
+
+	for (i = 0; i < 14; i++) {
+	    CHECK (7 << i, radix);
+	    CHECK (~7 << i, radix);
+	}
+
+	for (i = 0; i < 13; i++) {
+	    CHECK (017 << i, radix);
+	    CHECK (~017 << i, radix);
+	}
+
+	for (i = 0; i < 12; i++) {
+	    CHECK (037 << i, radix);
+	    CHECK (~037 << i, radix);
+	}
+
+	for (i = 0; i < 11; i++) {
+	    CHECK (077 << i, radix);
+	    CHECK (~077 << i, radix);
+	}
+
+	for (i = 0; i < 10; i++) {
+	    CHECK (0177 << i, radix);
+	    CHECK (~0177 << i, radix);
+	}
+
+	for (i = 0; i < 9; i++) {
+	    CHECK (0377 << i, radix);
+	    CHECK (~0377 << i, radix);
+	}
+
+	n = radix*radix;
+	for (i = 5; i <= n; i++) {
+	    CHECK (i, radix);
+	    CHECK (-i, radix);
+	}
+    }
+
+    return 0;
+}
diff --git a/tests/simulate/string/ffs-1.c b/tests/simulate/string/ffs-1.c
new file mode 100644
index 0000000..e209738
--- /dev/null
+++ b/tests/simulate/string/ffs-1.c
@@ -0,0 +1,92 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of ffs() function.
+   $Id$	*/
+
+#include <stdlib.h>
+#include <string.h>
+
+int main ()
+{
+    static struct t_s {
+	int val;
+	unsigned char pattern;
+    } t[] = {
+	{ 0, 0 },
+	{ 1, 1 },
+	{ 0xffff, 1 },
+	{ 0x0002, 2 },
+	{ 0x8002, 2 },
+	{ 0xfff2, 2 },
+	{ 0x0040, 7 },
+	{ 0x0140, 7 },
+	{ 0x0080, 8 },
+	{ 0xff80, 8 },
+	{ 0x0100, 9 },
+	{ 0xff00, 9 },
+	{ 0x8000, 16 },
+    };
+    volatile int vx;
+    int i;
+    
+    /* Possibly, this is an inline substitution.	*/
+    for (i = 0; i != (int)(sizeof(t)/sizeof(t[0])); i++) {
+	if (ffs(t[i].val) != t[i].pattern)
+	    exit (1 + i);
+    }
+    
+    /* Force a function call (against inline substitution).	*/
+    for (i = 0; i != (int)(sizeof(t)/sizeof(t[0])); i++) {
+	int (* volatile vffs)(int) = ffs;
+	if (vffs(t[i].val) != t[i].pattern)
+	    exit (101 + i);
+    }
+    
+    /* Side effects?	*/
+    vx = 7;
+    if (ffs(++vx) != 4 || vx != 8)
+	exit (__LINE__);
+    vx = 16;
+    if (ffs(vx++) != 5 || vx != 17)
+	exit (__LINE__);
+
+    vx = 127;
+    if (ffs(ffs(++vx)) != 4 || vx != 128)
+	exit (__LINE__);
+
+    /* Implicit check	*/
+    vx = 1;
+    if (__builtin_constant_p(++vx) || __builtin_constant_p(vx = -1))
+	exit (__LINE__);
+    if (vx != 1)    
+	exit (__LINE__);
+
+    return 0;
+}
diff --git a/tests/simulate/string/ffs_macro.c b/tests/simulate/string/ffs_macro.c
new file mode 100644
index 0000000..12d2c3d
--- /dev/null
+++ b/tests/simulate/string/ffs_macro.c
@@ -0,0 +1,107 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of _FFS() macro.
+   $Id$	*/
+
+#include <stdlib.h>
+#include <string.h>
+
+#ifndef	__AVR__
+# define _FFS(x)	ffs ((x) & 0xffff)
+#endif
+
+/* Check usage in CPP expressions.	*/
+#ifdef	__AVR__
+
+# if	_FFS (0) != 0		\
+     || _FFS (1) != 1		\
+     || _FFS (2) != 2		\
+     || _FFS (4) != 3		\
+     || _FFS (8) != 4		\
+     || _FFS (16) != 5		\
+     || _FFS (32) != 6		\
+     || _FFS (64) != 7		\
+     || _FFS (128) != 8		\
+     || _FFS (256) != 9		\
+     || _FFS (512) != 10	\
+     || _FFS (1024) != 11	\
+     || _FFS (2048) != 12	\
+     || _FFS (4096) != 13	\
+     || _FFS (8192) != 14	\
+     || _FFS (16384) != 15	\
+     || _FFS (32768) != 16
+#  error
+# endif
+
+# if	_FFS (-1) != 1	\
+     || _FFS (32769) != 1
+#  error
+# endif
+
+# if	_FFS (65536) != 0	/* Only 16 bits are evaluated.	*/
+#  error
+# endif
+
+#endif
+
+int main ()
+{
+    if (_FFS (0) != 0) exit (__LINE__);
+    if (_FFS (1) != 1) exit (__LINE__);
+    if (_FFS (2) != 2) exit (__LINE__);
+    if (_FFS (4) != 3) exit (__LINE__);
+    if (_FFS (8) != 4) exit (__LINE__);
+    if (_FFS (16) != 5) exit (__LINE__);
+    if (_FFS (32) != 6) exit (__LINE__);
+    if (_FFS (64) != 7) exit (__LINE__);
+    if (_FFS (128) != 8) exit (__LINE__);
+    if (_FFS (256) != 9) exit (__LINE__);
+    if (_FFS (512) != 10) exit (__LINE__);
+    if (_FFS (1024) != 11) exit (__LINE__);
+    if (_FFS (2048) != 12) exit (__LINE__);
+    if (_FFS (4096) != 13) exit (__LINE__);
+    if (_FFS (8192) != 14) exit (__LINE__);
+    if (_FFS (16384) != 15) exit (__LINE__);
+    if (_FFS (32768) != 16) exit (__LINE__);
+
+    if (_FFS (_FFS (_FFS (2))) != 2) exit (__LINE__);
+
+    if (_FFS (0x8001) != 1) exit (__LINE__);
+    if (_FFS (0xFFFF) != 1) exit (__LINE__);
+    if (_FFS (0x0006) != 2) exit (__LINE__);
+    if (_FFS (0x0180) != 8) exit (__LINE__);
+    if (_FFS (0xC000) != 15) exit (__LINE__);
+
+    /* Only 16 bits are evaluated.	*/
+    if (_FFS (0x20000) != 0) exit (__LINE__);
+    if (_FFS (0xFFFF0000) != 0) exit (__LINE__);
+
+    return 0;
+}
diff --git a/tests/simulate/string/ffsl-1.c b/tests/simulate/string/ffsl-1.c
new file mode 100644
index 0000000..2f004ad
--- /dev/null
+++ b/tests/simulate/string/ffsl-1.c
@@ -0,0 +1,76 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* $Id$	*/
+
+#ifndef	__AVR__
+# define _GNU_SOURCE
+#endif
+#include <stdlib.h>
+#include <string.h>
+
+int main ()
+{
+    static struct t_s {
+	long val;
+	unsigned char pattern;
+    } t[] = {
+	{ 0, 0 },
+	{ 1, 1 },
+	{ 0xffffffff, 1 },
+	{ 0x00000002, 2 },
+	{ 0x80000002, 2 },
+	{ 0xfffffff2, 2 },
+	{ 0x00000040, 7 },
+	{ 0xffffff40, 7 },
+	{ 0x00000080, 8 },
+	{ 0xffffff80, 8 },
+
+	{ 0x00000100, 9 },
+	{ 0xffffff00, 9 },
+	{ 0x00008000, 16 },
+	{ 0xffff8000, 16 },
+	
+	{ 0x00010000, 17 },
+	{ 0xffff0000, 17 },
+	{ 0x00800000, 24 },
+	{ 0xff800000, 24 },
+	
+	{ 0x01000000, 25 },
+	{ 0xff000000, 25 },
+	{ 0x80000000, 32 },
+    };
+    int i;
+    
+    for (i = 0; i != (int)(sizeof(t)/sizeof(t[0])); i++) {
+	if (ffsl (t[i].val) != t[i].pattern)
+	    exit (1 + i);
+    }
+    return 0;
+}
diff --git a/tests/simulate/string/ffsll-1.c b/tests/simulate/string/ffsll-1.c
new file mode 100644
index 0000000..3561974
--- /dev/null
+++ b/tests/simulate/string/ffsll-1.c
@@ -0,0 +1,97 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* $Id$	*/
+
+#ifndef	__AVR__
+# define _GNU_SOURCE
+#endif
+#include <stdlib.h>
+#include <string.h>
+
+int main ()
+{
+    static struct t_s {
+	long long val;
+	unsigned char pattern;
+    } t[] = {
+	{ 0LL, 0 },
+	{ 1LL, 1 },
+	{ 0xffffffffffffffffLL, 1 },
+	{ 0x0000000000000002LL, 2 },
+	{ 0x8000000000000002LL, 2 },
+	{ 0x7ffffffffffffff2LL, 2 },
+	{ 0xfffffffffffffff2LL, 2 },
+	{ 0x0000000000000040LL, 7 },
+	{ 0xffffffffffffff40LL, 7 },
+	{ 0x0000000000000080LL, 8 },
+	{ 0xffffffffffffff80LL, 8 },
+
+	{ 0x0000000000000100LL, 9 },
+	{ 0xffffffffffffff00LL, 9 },
+	{ 0x0000000000008000LL, 16 },
+	{ 0xffffffffffff8000LL, 16 },
+	
+	{ 0x0000000000010000LL, 17 },
+	{ 0xffffffffffff0000LL, 17 },
+	{ 0x0000000000800000LL, 24 },
+	{ 0xffffffffff800000LL, 24 },
+	
+	{ 0x0000000001000000LL, 25 },
+	{ 0xffffffffff000000LL, 25 },
+	{ 0x0000000080000000LL, 32 },
+	{ 0xffffffff80000000LL, 32 },
+	
+	{ 0x0000000100000000LL, 33 },
+	{ 0xffffffff00000000LL, 33 },
+	{ 0x0000008000000000LL, 40 },
+	{ 0xffffff8000000000LL, 40 },
+	
+	{ 0x0000010000000000LL, 41 },
+	{ 0xffffff0000000000LL, 41 },
+	{ 0x0000800000000000LL, 48 },
+	{ 0xffff800000000000LL, 48 },
+	
+	{ 0x0001000000000000LL, 49 },
+	{ 0xffff000000000000LL, 49 },
+	{ 0x0080000000000000LL, 56 },
+	{ 0xff80000000000000LL, 56 },
+
+	{ 0x0100000000000000LL, 57 },
+	{ 0xff00000000000000LL, 57 },
+	{ 0x8000000000000000LL, 64 },
+    };
+    int i;
+    
+    for (i = 0; i != (int)(sizeof(t)/sizeof(t[0])); i++) {
+	if (ffsll (t[i].val) != t[i].pattern)
+	    exit (1 + i);
+    }
+    return 0;
+}
diff --git a/tests/simulate/string/memccpy.c b/tests/simulate/string/memccpy.c
new file mode 100644
index 0000000..824f511
--- /dev/null
+++ b/tests/simulate/string/memccpy.c
@@ -0,0 +1,166 @@
+/* Copyright (c) 2009  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of memccpy() function.
+   $Id$	*/
+
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+#ifndef	__AVR__
+# include <stdio.h>
+# define PRINTFLN(line, fmt, ...)	\
+    printf ("\n%s:%d: " fmt "\n", __FILE__, line, ##__VA_ARGS__);
+# define EXIT(code)	exit ((code) < 255 ? (code) : 100 + (code) % 100)
+# define memcmp_P	memcmp
+# define prog_void	void
+#else
+# define PRINTFLN(args...)
+# define EXIT(code)	exit (code)
+#endif
+
+/* The expected return value must be (dst + expret) in case of expret >= 0,
+   or NULL in case of expret == -1.
+ */
+static void
+Check (int line,
+       const prog_void *src , int val, size_t len,	/* memccpy() args */
+       int expret,					/* expecter return */
+       const prog_void *expdst, size_t explen)		/* expected result */
+{
+    char tsrc[len];
+    char tdst[len];
+    char *p;
+
+    memcpy_P (tsrc, src, len);
+    p = memccpy (tdst, tsrc, val, len);
+
+    if (expret == -1) {
+	if (p) {
+	    PRINTFLN (line, "nonzero result, must NULL");
+	    EXIT (1000 + line);
+	}
+    } else {
+	if (!p) {
+	    PRINTFLN (line, "result is NULL, must dst+%d", expret);
+	    EXIT (2000 + line);
+	}
+	if (p != tdst + expret) {
+	    PRINTFLN (line, "result: dst+%d, must: dst+%d", p - tdst, expret);
+	    EXIT (3000 + line);
+	}
+    }
+    if (explen) {
+	if (memcmp_P (tdst, expdst, explen)) {
+	    PRINTFLN (line, "result string is wrong");
+	    EXIT (4000 + line);
+	}
+    }
+}
+
+#define CHECK(src, val, len, expret, expdst, explen)	\
+    Check (__LINE__, PSTR (src), val, len, expret, PSTR (expdst), explen)
+
+int main ()
+{
+    /* Empty input.	*/
+    CHECK ("", 0, 0,	-1, "", 0);
+    CHECK ("", 255, 0,	-1, "", 0);
+
+    /* 1 byte src.	*/
+    CHECK ("A", 'A', 1,   1, "A", 1);
+    CHECK ("A", 'a', 1,  -1, "A", 1);
+    CHECK ("A", 0, 1,    -1, "A", 1);
+    CHECK ("A", 255, 1,  -1, "A", 1);
+
+    CHECK ("\000", 0, 1,    1, "\000", 1);
+    CHECK ("\000", 1, 1,   -1, "\000", 1);
+    CHECK ("\000", 255, 1, -1, "\000", 1);
+
+    CHECK ("\377", 255, 1,   1, "\377", 1);
+    CHECK ("\377", 0, 1,    -1, "\377", 1);
+    CHECK ("\377", 'B', 1,  -1, "\377", 1);
+
+    /* 2 bytes src, first byte is match.	*/
+    CHECK ("CD", 'C', 2,    1, "C", 1);
+    CHECK ("\000E", 0, 2,   1, "\000", 1);
+    CHECK ("\377F", 255, 2, 1, "\377", 1);
+
+    /* 2 bytes src, second byte is match.	*/
+    CHECK ("GH", 'H', 2,        2, "GH", 2);
+    CHECK ("\000\377", 255, 2,  2, "\000\377", 2);
+    CHECK ("\377\000", 0, 2,    2, "\377\000", 2);
+
+    /* 2 bytes src, no matches.	*/
+    CHECK ("IJ", 'K', 2,      -1, "IJ", 2);
+    CHECK ("\000\001", 2, 2,  -1, "\000\001", 2);
+
+    /* Long string.	*/
+    CHECK ("The quick brown fox", 'k', 19,  9, "The quick", 9);
+    CHECK ("The quick brown fox", 'j', 19, -1, "The quick brown fox", 19);
+
+#if	!defined (RAMEND) || RAMEND > 0x400
+    /* src is 255 bytes long.	*/
+    CHECK ("................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "..............................................................5",
+	   '5', 255, 255,
+	   "................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "..............................................................5",
+	   255);
+
+    /* src is 256 bytes long.	*/
+    CHECK ("................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "...............................................................6",
+	   '6', 256, 256,
+	   "................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "...............................................................6",
+	   256);
+
+    /* src is 255 bytes long.	*/
+    CHECK ("................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "................................................................7",
+	   '7', 257, 257,
+	   "................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "................................................................7",
+	   257);
+#endif
+}
diff --git a/tests/simulate/string/memchr.c b/tests/simulate/string/memchr.c
new file mode 100644
index 0000000..67a1c5a
--- /dev/null
+++ b/tests/simulate/string/memchr.c
@@ -0,0 +1,97 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* $Id$	*/
+
+#ifndef	__AVR__
+# include <stdio.h>
+#endif
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+void Check (int line, const char *s, int c, size_t len, int expect)
+{
+    char t[320];
+    char *p;
+    
+    if (len > sizeof(t))
+	exit (1);
+    memcpy_P (t, s, len);
+    p = memchr (t, c, len);
+    if ((expect == -1 && !p) || (t + expect == p))
+	return;
+#ifndef	__AVR__
+    printf ("\nLine %d: expect: %d, result: %d\n",
+	    line, expect, (p ? p-t : -1));
+    if (line > 255) line = 255;			/* common OS restriction */
+#endif
+    exit (line);
+}
+
+#define CHECK(s, c, len, expect)	do {	\
+    Check (__LINE__, PSTR(s), c, len, expect);	\
+} while (0)
+
+int main ()
+{
+    /* Not found	*/
+    CHECK ("", 0, 0, -1);
+    CHECK ("", 255, 0, -1);
+    CHECK ("ABCDEF", 'a', 6, -1);
+    
+    /* Found	*/
+    CHECK ("\000", 0, 1, 0);
+    CHECK ("\001", 1, 1, 0);
+    CHECK ("\377", 255, 1, 0);
+    CHECK ("987654321", '7', 9, 2);
+
+    /* '\0' has't a special sense	*/
+    CHECK ("12345", 0, 6, 5);
+    CHECK (".\000.", 0, 3, 1);
+    CHECK ("\000a\000b", 'b', 4, 3);
+
+    /* First occurance	*/
+    CHECK ("abcdabcd", 'b', 8, 1);
+    CHECK ("........", '.', 8, 0);
+    
+    /* 'c' converted to a char	*/
+    CHECK ("ABCDEF", 'A'+0x100, 6, 0);
+    CHECK ("ABCDE\377", ~0, 6, 5);
+    
+    /* Very long string	*/
+    CHECK ("................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "*...............................................................",
+	   '*', 320, 256);
+
+    return 0;
+}
diff --git a/tests/simulate/string/memcmp.c b/tests/simulate/string/memcmp.c
new file mode 100644
index 0000000..529f5ca
--- /dev/null
+++ b/tests/simulate/string/memcmp.c
@@ -0,0 +1,109 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* $Id$	*/
+
+#ifndef __AVR__
+# include <stdio.h>
+#endif
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+void Check (int line, const char *s1, const char *s2, size_t len, int expect)
+{
+    char t1[200];
+    char t2[200];
+    int i;
+    if (len > sizeof(t1) || len > sizeof(t2))
+	exit (1);
+    memcpy_P (t1, s1, len ? len : 1);
+    memcpy_P (t2, s2, len ? len : 1);
+    i = memcmp (t1, t2, len);
+    if (i == expect)
+	return;
+#if	!defined(__AVR__)
+    /* Glibc memcmp() returns: -1/0/+1.	*/
+    if (   (i < 0 && expect < 0)
+	|| (i > 0 && expect > 0)
+	|| (i == 0 && expect == 0) )
+      return;
+    printf ("\nLine %d: expect: %d, result: %d\n",
+	    line, expect, i);
+    if (line > 255) line = 255;
+#elif	defined(DEBUG)
+    exit (i);
+#endif
+    exit (line);
+}
+
+#define CHECK(s1, s2, len, expect)	do {		\
+    Check (__LINE__, PSTR(s1), PSTR(s2), len, expect);	\
+} while (0)
+
+int main ()
+{
+    /* len == 0	*/
+    CHECK ("", "", 0, 0);
+    CHECK ("A", "A", 0, 0);
+    CHECK ("B", "C", 0, 0);
+
+    /* len == 1	*/
+    CHECK ("\000", "\001", 1, -1);
+    CHECK ("\000", "\377", 1, -255);
+    CHECK ("\001", "\000", 1, 1);
+    CHECK ("\377", "\000", 1, 255);
+
+    /* Agrs are equal.	*/
+    CHECK ("\001", "\001", 1, 0);
+    CHECK ("\001", "\001", 2, 0);
+    CHECK ("1234\377", "1234\377", 1, 0);
+    CHECK ("1234\377+", "1234\377-", 5, 0);
+
+    /* Args are not equal.	*/
+    CHECK ("ABCDEF", "ABCDE\000", 6, 'F');
+    CHECK ("abcde\000", "abcdef", 6, -'f');
+    CHECK ("12345", "12245", 5, 1);
+
+    /* Case is important.	*/
+    CHECK ("xyz", "xYz", 3, 'y'-'Y');
+    CHECK ("QUICK", "qUICK", 5, 'Q'-'q');
+
+    /* Chars are unsigned	*/
+    CHECK ("\200", "\177", 1, 1);
+    CHECK ("\177", "\200", 1, -1);
+    CHECK ("\001", "\377", 1, -254);
+    CHECK ("\377", "\001", 1, 254);
+
+    /* '\0' is possible in the middle of array	*/
+    CHECK ("\000ABC\000D", "\000ABC\000C", 5, 0);
+    CHECK ("\000ABC\000D", "\000ABC\000C", 6, 1);
+
+    return 0;
+}
diff --git a/tests/simulate/string/memmem.c b/tests/simulate/string/memmem.c
new file mode 100644
index 0000000..7bd6cba
--- /dev/null
+++ b/tests/simulate/string/memmem.c
@@ -0,0 +1,174 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* $Id$	*/
+
+#ifndef __AVR__
+# define _GNU_SOURCE		/* to include memmem()	*/
+# define PRINTFLN(line, fmt, ...)	\
+    printf("\nLine %d: " fmt "\n", line, ##__VA_ARGS__)
+# define EXIT(code)	exit ((code) < 255 ? (code) : 255)
+# define memcmp_P	memcmp
+#else
+# if defined(__AVR_ATmega128__)
+  /* ATmega128 has enough RAM for sprintf(), print to 0x2000 in XRAM. */
+#  define PRINTFLN(line, fmt, ...)	\
+    sprintf ((char *)0x2000, "\nLine %d: " fmt "\n", line, ##__VA_ARGS__)
+# else
+   /* small AVR */
+#  define PRINTFLN(args...)
+# endif
+# define EXIT	exit
+#endif
+
+#include <stdlib.h>
+#include <string.h>
+#include <stdio.h>
+#include "progmem.h"
+
+void Check (int line,
+	    const void *s1, size_t n1, const char *s2, size_t n2, int expect)
+{
+    char t1[300];
+    char t2[100];
+    char *p;
+
+    if (n1 > sizeof(t1) || n2 > sizeof(t2))
+	exit (1);
+    memcpy_P (t1, s1, n1);
+    memcpy_P (t2, s2, n2);
+    p = memmem (t1, n1, t2, n2);
+
+    if (expect < 0) {
+	if (p) {
+	    PRINTFLN (line, "return nonzero");
+	    EXIT (line);
+	}
+    } else {
+	if (p != t1 + expect) {
+	    PRINTFLN (line, "expect= %d  result= %d", expect, p - t1);
+	    EXIT (1000 + line);
+	}
+    }
+    if (memcmp_P (t1, s1, n1) || memcmp_P (t2, s2, n2)) {
+	PRINTFLN (line, "string(s) is changed");
+	EXIT (2000 + line);
+    }
+}
+
+#define CHECK(s1, n1, s2, n2, expect)	do {			\
+    Check (__LINE__, PSTR(s1), n1, PSTR(s2), n2, expect);	\
+} while (0)
+
+/* Very long s2[]. Separate function: we are restricted in stack usage. */
+void Check_2 (void)
+{
+    char s1[8];
+    char s2[260];
+	
+    memset (s1, '.', sizeof(s1));
+    memset (s2, '.', sizeof(s2));
+    if (memmem (s1, sizeof(s1), s2, sizeof(s2)))
+	EXIT (__LINE__);
+}
+
+int main ()
+{
+    /* Empty 'needle'.	*/
+    CHECK ("", 0, "", 0, 0);
+    CHECK ("12345", 5, "1", 0, 0);
+
+    /* 'needle' of 1 byte long	*/
+    CHECK ("", 0, "a", 1, -1);
+    CHECK ("b", 1, "a", 1, -1);
+    CHECK ("a", 1, "a", 1, 0);
+    CHECK ("abcbef", 6, "a", 1, 0);
+    CHECK (".a", 2, "a", 1, 1);
+    CHECK (".a.", 3, "a", 1, 1);
+    CHECK ("ABCDEFGH", 8, "H", 1, 7);
+    CHECK ("", 0, "\000", 1, -1);
+    CHECK ("", 1, "\000", 1, 0);
+    CHECK (".", 2, "\000", 1, 1);
+    CHECK ("\000\001", 2, "\001", 1, 1);
+    
+    /* 'needle' of 2 bytes long	*/
+    CHECK ("", 0, "12", 2, -1);
+    CHECK ("1", 1, "12", 2, -1);
+    CHECK ("13", 2, "12", 2, -1);
+    CHECK ("32", 2, "12", 2, -1);
+    CHECK ("12", 2, "12", 2, 0);
+    CHECK ("123", 3, "12", 2, 0);
+    CHECK ("012", 3, "12", 2, 1);
+    CHECK ("01200", 5, "12", 2, 1);
+    CHECK ("\000", 1, "\000\000", 2, -1);
+    CHECK ("\000\000", 2, "\000\000", 2, 0);
+    
+    /* partially mathing	*/
+    CHECK ("a_ab_abc_abcd_abcde", 19, "abcdef", 6, -1);
+    CHECK ("a_ab_abc_abcd_abcde_abcdef", 26, "abcdef", 6, 20);
+    CHECK ("aababcabcdabcde", 15, "abcdef", 6, -1);
+    CHECK ("aababcabcdabcdeabcdef", 21, "abcdef", 6, 15);
+    
+    /* repeated chars	*/
+    CHECK ("abaabaaabaaaab", 14, "aaaaab", 6, -1);
+    CHECK ("abaabaaabaaaabaaaaab", 20, "aaaaab", 6, 14);
+    
+    /* A first match is returned.	*/
+    CHECK ("_foo_foo", 8, "foo", 3, 1);
+    
+    /* Case is not ignored.	*/
+    CHECK ("A", 1, "a", 1, -1);
+    CHECK (".z", 2, ".Z", 2, -1);
+
+    /* Very long s1	*/
+    CHECK ("................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "...............................................................*",
+	   256, "*", 1, 255);
+    CHECK ("................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "*", 257, "*", 1, 256);
+    CHECK ("................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "................................................................"
+	   ".*.", 258, "*", 1, 257);
+    CHECK ("................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "...*..", 260, ".*", 2, 258);
+
+    Check_2 ();
+
+    return 0;
+}
diff --git a/tests/simulate/string/memrchr.c b/tests/simulate/string/memrchr.c
new file mode 100644
index 0000000..9431102
--- /dev/null
+++ b/tests/simulate/string/memrchr.c
@@ -0,0 +1,133 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* $Id$	*/
+
+#ifndef __AVR__
+# define _GNU_SOURCE	/* to include memrchr()	*/
+# define PRINTFLN(line, fmt, ...)	\
+    printf("\nLine %d: " fmt "\n", line, ##__VA_ARGS__)
+# define EXIT(code)	exit ((code) < 255 ? (code) : 255)
+# define memcmp_P	memcmp
+#else
+# if defined(__AVR_ATmega128__)
+  /* ATmega128 has enough RAM for sprintf(), print to 0x2000 in XRAM. */
+#  define PRINTFLN(line, fmt, ...)	\
+    sprintf ((char *)0x2000, "\nLine %d: " fmt "\n", line, ##__VA_ARGS__)
+# else
+   /* small AVR */
+#  define PRINTFLN(args...)
+# endif
+# define EXIT	exit
+#endif
+
+#include <stdlib.h>
+#include <string.h>
+#include <stdio.h>
+#include "progmem.h"
+
+void Check (int line, const char *s, int c, size_t len, int expect)
+{
+    char t[320];
+    char *p;
+    
+    if (len > sizeof(t))
+	exit (1);
+    memcpy_P (t, s, len);
+    p = memrchr (t, c, len);
+
+    if (expect < 0) {
+	if (p) {
+	    PRINTFLN (line, "non zero pointer is returned");
+	    EXIT (line);
+	}
+    } else {
+	if (p != t + expect) {
+	    PRINTFLN (line, "expect= %d  result= %d", expect, p - t);
+	    EXIT (line + 1000);
+	}
+    }
+    if (memcmp_P (t, s, len)) {
+	PRINTFLN (line, "string is changed");
+	EXIT (line + 2000);
+    }
+}
+
+#define CHECK(s, c, len, expect)	do {	\
+    Check (__LINE__, PSTR(s), c, len, expect);	\
+} while (0)
+
+int main ()
+{
+    /* Not found	*/
+    CHECK ("", 0, 0, -1);
+    CHECK ("", 255, 0, -1);
+    CHECK ("ABCDEF", 'a', 6, -1);
+    
+    /* Found	*/
+    CHECK ("\000", 0, 1, 0);
+    CHECK ("\001", 1, 1, 0);
+    CHECK ("\377", 255, 1, 0);
+    CHECK ("987654321", '7', 9, 2);
+
+    /* '\0' has't a special sense	*/
+    CHECK ("12345", 0, 6, 5);
+    CHECK (".\000.", 0, 3, 1);
+    CHECK ("\000a\000b", 'b', 4, 3);
+
+    /* Last occurance	*/
+    CHECK ("abcdabcd", 'b', 8, 5);
+    CHECK ("........", '.', 8, 7);
+    
+    /* 'c' converted to a char	*/
+    CHECK ("ABCDEF", 'A'+0x100, 6, 0);
+    CHECK ("ABCDE\377", ~0, 6, 5);
+    
+    /* Very long string	*/
+    CHECK ("................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "...............................................................*"
+	   "................................................................",
+	   '*', 320, 255);
+    CHECK ("................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "*...............................................................",
+	   '*', 320, 256);
+    CHECK ("................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "................................................................"
+	   ".*..............................................................",
+	   '*', 320, 257);
+
+    return 0;
+}
diff --git a/tests/simulate/string/strcasecmp.c b/tests/simulate/string/strcasecmp.c
new file mode 100644
index 0000000..17f1a21
--- /dev/null
+++ b/tests/simulate/string/strcasecmp.c
@@ -0,0 +1,100 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* $Id$	*/
+
+#ifndef __AVR__
+# include <stdio.h>
+#endif
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+void Check (int line, const char *s1, const char *s2, int expect)
+{
+    char t1[200];
+    char t2[200];
+    int i;
+    if (   strlen_P(s1) > sizeof(t1) - 1
+	|| strlen_P(s2) > sizeof(t2) - 1)
+      exit (1);
+    strcpy_P (t1, s1);
+    strcpy_P (t2, s2);
+    i = strcasecmp (t1, t2);
+    if (i == expect)
+	return;
+#if	!defined(__AVR__)
+    printf ("\nLine %d: expect: %d, result: %d\n",
+	    line, expect, i);
+    if (line > 255) line = 255;
+#elif	defined(DEBUG)
+    exit (i);
+#endif
+    exit (line);
+}
+
+#define CHECK(s1, s2, expect)	do {			\
+    Check (__LINE__, PSTR(s1), PSTR(s2), expect);	\
+} while (0)
+
+int main ()
+{
+    /* One or both strings are empty.	*/
+    CHECK ("", "", 0);
+    CHECK ("", "\001", -1);
+    CHECK ("", "\377", -255);
+    CHECK ("\001", "", 1);
+    CHECK ("\377", "", 255);
+
+    /* bug #19134	*/
+    CHECK ("a", "[", 'a' - '[');
+    CHECK ("[", "a", '[' - 'a');
+
+    /* Agrs are equal.	*/
+    CHECK ("\001", "\001", 0);
+    CHECK ("1234\377", "1234\377", 0);
+    CHECK ("ABC", "abc", 0);
+    CHECK ("FoO", "fOO", 0);
+
+    /* Args are not equal.	*/
+    CHECK ("@", "`", '@' - '`');	/* '@'=='A'-1, '`'=='a'-1	*/
+    CHECK ("{", "[", '{' - '[');	/* '{'=='z'+1, '['=='A'+1	*/
+
+    /* Alpha is always converted to lower	*/
+    CHECK ("1", "A", '1'-'a');
+    CHECK ("Z", "2", 'z'-'2');
+
+    /* Chars are unsigned	*/
+    CHECK ("\200", "\177", 1);
+    CHECK ("\177", "\200", -1);
+    CHECK ("\001", "\377", -254);
+    CHECK ("\377", "\001", 254);
+
+    return 0;
+}
diff --git a/tests/simulate/string/strcasestr.c b/tests/simulate/string/strcasestr.c
new file mode 100644
index 0000000..930b76f
--- /dev/null
+++ b/tests/simulate/string/strcasestr.c
@@ -0,0 +1,223 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* $Id$	*/
+
+#ifndef __AVR__
+# define _GNU_SOURCE		/* to include strcasestr()	*/
+# define PRINTFLN(line, fmt, ...)	\
+    printf("\nLine %d: " fmt "\n", line, ##__VA_ARGS__)
+# define EXIT(code)	exit ((code) < 255 ? (code) : 255)
+#else
+# if defined(__AVR_ATmega128__)
+  /* ATmega128 has enough RAM for sprintf(), print to 0x2000 in XRAM. */
+#  define PRINTFLN(line, fmt, ...)	\
+    sprintf ((char *)0x2000, "\nLine %d: " fmt "\n", line, ##__VA_ARGS__)
+# else
+   /* small AVR */
+#  define PRINTFLN(args...)
+# endif
+# define EXIT	exit
+#endif
+
+#include <ctype.h>
+#include <stdlib.h>
+#include <string.h>
+#include <stdio.h>
+#include "progmem.h"
+
+void Check (int line, const char *s1, const char *s2, int expect)
+{
+    char t1[300];
+    char t2[100];
+    char *p;
+
+    if ((strlen_P(s1) > sizeof(t1) - 1) || (strlen_P(s2) > sizeof(t2) - 1))
+	exit (1);
+    strcpy_P (t1, s1);
+    strcpy_P (t2, s2);
+    p = strcasestr (t1, t2);
+
+    if (expect < 0) {
+	if (p) {
+	    PRINTFLN (line, "return nonzero");
+	    EXIT (line);
+	}
+    } else {
+	if (p != t1 + expect) {
+	    PRINTFLN (line, "expect= %d  result= %d", expect, p - t1);
+	    EXIT (1000 + line);
+	}
+    }
+    if (strcmp_P (t1, s1) || strcmp_P (t2, s2)) {
+	PRINTFLN (line, "string(s) is changed");
+	EXIT (2000 + line);
+    }
+}
+
+#define CHECK(s1, s2, expect)	do {			\
+    Check (__LINE__, PSTR(s1), PSTR(s2), expect);	\
+} while (0)
+
+int main ()
+{
+    int c1, c2;
+    char s1[4];
+    char s2[4];
+
+    /* Empty 'needle'.	*/
+    CHECK ("", "", 0);
+    CHECK ("12345", "", 0);
+
+    /* bug #19135	*/
+    CHECK ("ababac", "abac", 2);
+
+    /* 'needle' of 1 byte long	*/
+    CHECK ("", "a", -1);
+    CHECK ("b", "a", -1);
+    CHECK ("a", "a", 0);
+    CHECK ("abcbef", "a", 0);
+    CHECK (".a", "a", 1);
+    CHECK (".a.", "a", 1);
+    CHECK ("ABCDEFGH", "H", 7);
+    
+    /* 'needle' of 2 bytes long	*/
+    CHECK ("", "12", -1);
+    CHECK ("13", "12", -1);
+    CHECK ("32", "12", -1);
+    CHECK ("12", "12", 0);
+    CHECK ("123", "12", 0);
+    CHECK ("012", "12", 1);
+    CHECK ("01200", "12", 1);
+    
+    /* partially mathing	*/
+    CHECK ("a_ab_abc_abcd_abcde", "abcdef", -1);
+    CHECK ("a_ab_abc_abcd_abcde_abcdef", "abcdef", 20);
+    CHECK ("aababcabcdabcde", "abcdef", -1);
+    CHECK ("aababcabcdabcdeabcdef", "abcdef", 15);
+    
+    /* repeated chars	*/
+    CHECK ("abaabaaabaaaab", "aaaaab", -1);
+    CHECK ("abaabaaabaaaabaaaaab", "aaaaab", 14);
+    
+    /* A first match is returned.	*/
+    CHECK ("_foo_foo", "foo", 1);
+    
+    /* Case is ignored.	*/
+    CHECK ("A", "a", 0);
+    CHECK ("qwertyuiopasdfghjklzxcvbnm",
+	   "QWERTYUIOPASDFGHJKLZXCVBNM",
+	   0);
+    CHECK (" QWERTYUIOPASDFGHJKLZXCVBNM",
+	   "qwertyuiopasdfghjklzxcvbnm",
+	   1);
+    CHECK ("  The Quick Brown Fox ", "thE quicK browN foX", 2);
+
+    /* Case is ignored for alphas only.	*/
+    CHECK ("", "\040", -1);
+    CHECK ("\100", "\140", -1);		/* first	*/
+    CHECK ("\140", "\100", -1);
+    CHECK ("\133", "\173", -1);
+    CHECK ("\173", "\133", -1);
+    CHECK (".\100", ".\140", -1);	/* second	*/
+    CHECK (".\140", ".\100", -1);
+    CHECK (".\133", ".\173", -1);
+    CHECK (".\173", ".\133", -1);
+    CHECK ("\100\140", "\140", 1);	/* second match	*/
+    
+    /* Very long s1	*/
+    CHECK ("................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "...............................................................A",
+	   "a", 255);
+    CHECK ("................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "a", "A", 256);
+    CHECK ("................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "................................................................"
+	   ".a", "A", 257);
+    CHECK ("................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "................................................................"
+	   ".a", "..A", 255);
+
+    /* Let us check a set of possible combinations of 2 symbols.	*/
+    for (c1 = 1; c1 < 256; c1++) {
+	for (c2 = 1; c2 < 256; c2++) {
+	    if (c1 == c2
+		|| (isalpha(c1) && isalpha(c2) && ((c1 ^ c2) == ('A' ^ 'a'))))
+	    {
+
+		/* first char: ("c","c")	*/
+		s1[0] = c1;  s1[1] = 0;
+		s2[0] = c2;  s2[1] = 0;
+		if (strcasestr (s1, s2) != s1)
+		    EXIT (__LINE__);
+
+		/* second char: (".c", ".c")	*/
+		s1[0] = '.';  s1[1] = c1;  s1[2] = 0;
+		s2[0] = '.';  s2[1] = c2;  s2[2] = 0;
+		if (strcasestr (s1, s2) != s1)
+		    EXIT (__LINE__);
+
+		/* substring is shifted: ("..c", ".c")	*/
+		s1[0] = '.';  s1[1] = '.';  s1[2] = c1;  s1[3] = 0;
+		s2[0] = '.';  s2[1] = c2;  s2[2] = 0;
+		if (strcasestr (s1, s2) != s1 + (c2 != '.'))
+		    EXIT (__LINE__);
+
+	    } else {
+
+		/* first char: ("c","c")	*/
+		s1[0] = c1;  s1[1] = 0;
+		s2[0] = c2;  s2[1] = 0;
+		if (strcasestr (s1, s2) != 0)
+#ifdef	DEBUG
+		    EXIT (c1 | c2<<8);
+#else
+		    EXIT (__LINE__);
+#endif
+
+		/* second char: (".c", ".c")	*/
+		s1[0] = '.';  s1[1] = c1;  s1[2] = 0;
+		s2[0] = '.';  s2[1] = c2;  s2[2] = 0;
+		if (strcasestr (s1, s2) != 0)
+		    EXIT (__LINE__);
+	    }
+	}
+    }
+
+    return 0;
+}
diff --git a/tests/simulate/string/strchr.c b/tests/simulate/string/strchr.c
new file mode 100644
index 0000000..d0ea102
--- /dev/null
+++ b/tests/simulate/string/strchr.c
@@ -0,0 +1,88 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* $Id$	*/
+
+#include <stdio.h>
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+void Check (int line, const char *s, int c, int expect)
+{
+    char t[300], *p;
+    strcpy_P (t, s);
+    p = strchr (t, c);
+    if (expect == -1 && !p)
+	return;
+    if (t + expect == p)
+	return;
+#ifndef	__AVR__
+    printf ("\nLine %d: expect: %d, result: %d\n",
+	    line, expect, (p ? p-t : -1));
+#endif
+    exit (line);
+}
+
+#define CHECK(s, c, expect)	do {		\
+    Check (__LINE__, PSTR(s), c, expect);	\
+} while (0)
+
+int main ()
+{
+    /* Not found	*/
+    CHECK ("", 1, -1);
+    CHECK ("", 255, -1);
+    CHECK ("ABCDEF", 'a', -1);
+    
+    /* Found	*/
+    CHECK ("\001", 1, 0);
+    CHECK ("\377", 255, 0);
+    CHECK ("987654321", '7', 2);
+
+    /* '\0' is a part of string	*/
+    CHECK ("12345", 0, 5);
+    CHECK ("", 0, 0);
+
+    /* First occurance	*/
+    CHECK ("abcdabcd", 'b', 1);
+    
+    /* 'c' converted to a char	*/
+    CHECK ("ABCDEF", 'A'+0x100, 0);
+    CHECK ("ABCDE\377", ~0, 5);
+    
+    /* Very long string	*/
+    CHECK ("................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "*...............", '*', 256);
+
+    return 0;
+}
diff --git a/tests/simulate/string/strchrnul.c b/tests/simulate/string/strchrnul.c
new file mode 100644
index 0000000..16173bf
--- /dev/null
+++ b/tests/simulate/string/strchrnul.c
@@ -0,0 +1,119 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* $Id$ */
+
+#ifndef __AVR__
+# define _GNU_SOURCE	/* to include strchrnul()	*/
+# define PRINTFLN(line, fmt, ...)	\
+    printf("\nLine %d: " fmt "\n", line, ##__VA_ARGS__)
+# define EXIT(code)	exit ((code) < 255 ? (code) : 255)
+# define memcmp_P	memcmp
+#else
+# if defined(__AVR_ATmega128__)
+  /* ATmega128 has enough RAM for sprintf(), print to 0x2000 in XRAM. */
+#  define PRINTFLN(line, fmt, ...)	\
+    sprintf ((char *)0x2000, "\nLine %d: " fmt "\n", line, ##__VA_ARGS__)
+# else
+   /* small AVR */
+#  define PRINTFLN(args...)
+# endif
+# define EXIT	exit
+#endif
+
+#include <stdlib.h>
+#include <string.h>
+#include <stdio.h>
+#include "progmem.h"
+
+void Check (int line, const char *s, int c, int expect)
+{
+    char t[300], *p;
+    
+    if (strlen_P(s) > sizeof(t) - 1)
+	exit (1);
+    strcpy_P (t, s);
+    p = strchrnul (t, c);
+    
+    if (p != t + expect) {
+	PRINTFLN (line, "expect: %d, result: %d", expect, p - t);
+	EXIT (line);
+    }
+    if (strcmp_P (t, s)) {
+	PRINTFLN (line, "string was changed");
+	EXIT (1000 + line);
+    }
+}
+
+#define CHECK(s, c, expect)	do {		\
+    Check (__LINE__, PSTR(s), c, expect);	\
+} while (0)
+
+int main ()
+{
+    /* Not found	*/
+    CHECK ("", 1, 0);
+    CHECK ("", 255, 0);
+    CHECK ("ABCDEF", 'a', 6);
+    
+    /* Found	*/
+    CHECK ("\001", 1, 0);
+    CHECK ("\377", 255, 0);
+    CHECK ("987654321", '7', 2);
+
+    /* '\0' is a part of string	*/
+    CHECK ("12345", 0, 5);
+    CHECK ("", 0, 0);
+
+    /* First occurance	*/
+    CHECK ("abcdabcd", 'b', 1);
+    
+    /* 'c' converted to a char	*/
+    CHECK ("ABCDEF", 'A'+0x100, 0);
+    CHECK ("ABCDE\377", ~0, 5);
+    
+    /* Very long string	*/
+    CHECK ("................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "...............................................................*"
+	   "...............", '*', 255);
+    CHECK ("................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "*..............", '*', 256);
+    CHECK ("................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "................................................................"
+	   ".*.............", '*', 257);
+
+    return 0;
+}
diff --git a/tests/simulate/string/strcmp.c b/tests/simulate/string/strcmp.c
new file mode 100644
index 0000000..496ca6a
--- /dev/null
+++ b/tests/simulate/string/strcmp.c
@@ -0,0 +1,97 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* $Id$	*/
+
+#ifndef __AVR__
+# include <stdio.h>
+#endif
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+void Check (int line, const char *s1, const char *s2, int expect)
+{
+    char t1[200];
+    char t2[200];
+    int i;
+    if (   strlen_P(s1) > sizeof(t1) - 1
+	|| strlen_P(s2) > sizeof(t2) - 1)
+      exit (1);
+    strcpy_P (t1, s1);
+    strcpy_P (t2, s2);
+    i = strcmp (t1, t2);
+    if (i == expect)
+	return;
+#if	!defined(__AVR__)
+    printf ("\nLine %d: expect: %d, result: %d\n",
+	    line, expect, i);
+    if (line > 255) line = 255;
+#elif	defined(DEBUG)
+    exit (i);
+#endif
+    exit (line);
+}
+
+#define CHECK(s1, s2, expect)	do {			\
+    Check (__LINE__, PSTR(s1), PSTR(s2), expect);	\
+} while (0)
+
+int main ()
+{
+    /* One or both strings are empty.	*/
+    CHECK ("", "", 0);
+    CHECK ("", "\001", -1);
+    CHECK ("", "\377", -255);
+    CHECK ("\001", "", 1);
+    CHECK ("\377", "", 255);
+
+    /* Agrs are equal.	*/
+    CHECK ("\001", "\001", 0);
+    CHECK ("1234\377", "1234\377", 0);
+    CHECK ("ABC", "ABC", 0);
+    CHECK ("foo", "foo", 0);
+
+    /* Args are not equal.	*/
+    CHECK ("ABCDEF", "ABCDE", 'F');
+    CHECK ("abcde", "abcdef", -'f');
+    CHECK ("12345", "12245", 1);
+
+    /* Case is important.	*/
+    CHECK ("xyz", "xYz", 'y'-'Y');
+    CHECK ("QUICK", "qUICK", 'Q'-'q');
+
+    /* Chars are unsigned	*/
+    CHECK ("\200", "\177", 1);
+    CHECK ("\177", "\200", -1);
+    CHECK ("\001", "\377", -254);
+    CHECK ("\377", "\001", 254);
+
+    return 0;
+}
diff --git a/tests/simulate/string/strcspn.c b/tests/simulate/string/strcspn.c
new file mode 100644
index 0000000..1160d4e
--- /dev/null
+++ b/tests/simulate/string/strcspn.c
@@ -0,0 +1,125 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* $Id$	*/
+
+#ifndef __AVR__
+# include <stdio.h>
+#endif
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+void Check (int line, const char *s1, const char *s2, size_t expect)
+{
+    char t1[300];
+    char t2[100];
+    size_t n;
+
+    if (   strlen_P(s1) > sizeof(t1) - 1
+	|| strlen_P(s2) > sizeof(t2) - 1)
+      exit (1);
+    strcpy_P (t1, s1);
+    strcpy_P (t2, s2);
+    n = strcspn (t1, t2);
+    if (n == expect)
+	return;
+#if   !defined(__AVR__)
+    printf ("\nLine %d: expect: %d, result: %d\n",
+	    line, expect, n);
+    if (line > 255) line = 255;
+#elif	defined(DEBUG)
+    exit (n ? n : ~0);
+#endif
+    exit (line);
+}
+
+#define CHECK(s1, s2, expect)	do {			\
+    Check (__LINE__, PSTR(s1), PSTR(s2), expect);	\
+} while (0)
+
+int main ()
+{
+    /* Empty string.	*/
+    CHECK ("", "", 0);
+    CHECK ("", "A", 0);
+    CHECK ("", "abcdef", 0);
+    CHECK ("A", "", 1);
+    CHECK ("0123456789", "", 10);
+
+    /* accept[] length is 1.	*/
+    CHECK ("B", "A", 1);
+    CHECK ("abcdefghij", "A", 10);
+    CHECK ("A", "A", 0);
+    CHECK ("AAAAAAAA", "A", 0);
+
+    /* accept[] length is 2.	*/
+    CHECK ("c", "ab", 1);
+    CHECK ("cd", "ab", 2);
+    CHECK ("cde", "ab", 3);
+    CHECK ("a", "ab", 0);
+    CHECK (".a", "ab", 1);
+    CHECK ("..a", "ab", 2);
+    CHECK ("...a", "ab", 3);
+    CHECK ("b", "ab", 0);
+    CHECK (".b", "ab", 1);
+    CHECK ("..b", "ab", 2);
+    CHECK ("...b", "ab", 3);
+    CHECK ("0101010101", "23", 10);
+    CHECK ("0123456789AB", ".A", 10);
+    
+    /* accept[] length > 2	*/
+    CHECK ("the quick brown fox", "QWERTYUIOPASDFGHJKLZXCVBNM", 19);
+    CHECK ("the quick brown fox ...", ".QWERTYUIOPASDFGHJKLZXCVBNM", 20);
+    CHECK ("the quick brown fox .?", "QWERTYUIOPASDFGHJKLZXCVBNM?", 21);
+    
+    /* non ASCII chars	*/
+    CHECK ("\001", "\001", 0);
+    CHECK ("\377", "\377", 0);
+    CHECK ("\002\376", "\001\377", 2);
+
+    /* Result approx. 256	*/
+    CHECK ("................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "...............................................................",
+	   "*", 255);
+    CHECK ("................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "................................................................",
+	   "*", 256);
+    CHECK ("................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "................................................................"
+	   ".*", "*", 257);
+
+    return 0;
+}
diff --git a/tests/simulate/string/strlcat.c b/tests/simulate/string/strlcat.c
new file mode 100644
index 0000000..d68c7d3
--- /dev/null
+++ b/tests/simulate/string/strlcat.c
@@ -0,0 +1,311 @@
+/*
+ * Copyright (c) 1998 Todd C. Miller <Todd.Miller@courtesan.com>
+ * Copyright (c) 2009 Dmitry Xmelkov
+ * All rights reserved.
+ *
+ * Redistribution and use in source and binary forms, with or without
+ * modification, are permitted provided that the following conditions
+ * are met:
+ * 1. Redistributions of source code must retain the above copyright
+ *    notice, this list of conditions and the following disclaimer.
+ * 2. Redistributions in binary form must reproduce the above copyright
+ *    notice, this list of conditions and the following disclaimer in the
+ *    documentation and/or other materials provided with the distribution.
+ * 3. The name of the author may not be used to endorse or promote products
+ *    derived from this software without specific prior written permission.
+ *
+ * THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESS OR IMPLIED WARRANTIES,
+ * INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY
+ * AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL
+ * THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
+ * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
+ * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;
+ * OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
+ * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR
+ * OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF
+ * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of strlcat(). The program includes the strlcat() function copy
+   for testing themselves.
+   $Id$
+ */
+
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+#ifndef __AVR__
+# include <stdio.h>
+# define PRINTFLN(line, fmt, ...)	\
+    printf("\nLine %d: " fmt "\n", line, ##__VA_ARGS__)
+# define EXIT(code)	exit ((code) < 255 ? (code) : 255)
+#else
+# define PRINTFLN(line, fmt, ...)
+# define EXIT	exit
+#endif
+
+#ifndef	__AVR__
+
+/* Appends src to string dst of size siz (unlike strncat(), siz is the
+   full size of dst, not space left).  At most siz-1 characters will be
+   copied.  Always NULL terminates (unless siz <= strlen(dst)).
+
+   The strlcat() function returns strlen(src) + MIN(siz,
+   strlen(initial dst)).  If retval >= siz, truncation occurred.
+ */
+
+size_t strlcat (char *dst, const char *src, size_t siz)
+{
+	register char *d = dst;
+	register const char *s = src;
+	register size_t n = siz;
+	size_t dlen;
+
+	/* Find the end of dst and adjust bytes left but don't go past end */
+	while (n-- != 0 && *d != '\0')
+		d++;
+	dlen = d - dst;
+	n = siz - dlen;
+
+	if (n == 0)
+		return(dlen + strlen(s));
+	while (*s != '\0') {
+		if (n != 1) {
+			*d++ = *s;
+			n--;
+		}
+		s++;
+	}
+	*d = '\0';
+
+	return(dlen + (s - src));	/* count does not include NUL */
+}
+#endif	/* !__AVR__ */
+
+void Check (int line,
+	    const char *dst, const char *src, size_t size,
+	    const char *result)
+{
+    char d[strlen_P (dst) + strlen_P (src) + 1];
+    char s[strlen_P (src) + 1];
+    size_t n, must;
+
+    strcpy_P (d, dst);
+    strcpy_P (s, src);
+
+    must = (size < strlen_P (dst) ? size : strlen_P (dst)) + strlen_P (src);
+    n = strlcat (d, s, size);
+    if (n != must) {
+	PRINTFLN (line, "wrong return value: %zu, must: %zu", n, must);
+	EXIT (line);
+    }
+
+    if (strcmp_P (d, result) != 0) {
+	PRINTFLN (line, "wrong result dst: %s", d);
+	EXIT (1000 + line);
+    }
+}
+
+#define CHECK(dst, src, size, result)					\
+    do {								\
+	Check (__LINE__, PSTR (dst), PSTR (src), size, PSTR (result));	\
+    } while (0)
+
+
+int main ()
+{
+    /* Arg 'size' is 0.	*/
+    CHECK ("", "", 0, "");
+    CHECK ("1", "", 0, "1");
+    CHECK ("23", "", 0, "23");
+    CHECK ("", "A", 0, "");
+    CHECK ("1", "A", 0, "1");
+    CHECK ("23", "A", 0, "23");
+    CHECK ("", "BC", 0, "");
+    CHECK ("1", "BC", 0, "1");
+    CHECK ("23", "BC", 0, "23");
+
+    /* Arg 'size' is 1.	*/
+    CHECK ("", "", 1, "");
+    CHECK ("1", "", 1, "1");
+    CHECK ("23", "", 1, "23");
+    CHECK ("", "A", 1, "");
+    CHECK ("1", "A", 1, "1");
+    CHECK ("23", "A", 1, "23");
+    CHECK ("", "BC", 1, "");
+    CHECK ("1", "BC", 1, "1");
+    CHECK ("23", "BC", 1, "23");
+
+    /* Arg 'size' is 2.	*/
+    CHECK ("", "", 2, "");
+    CHECK ("1", "", 2, "1");
+    CHECK ("23", "", 2, "23");
+    CHECK ("456", "", 2, "456");
+    CHECK ("", "A", 2, "A");
+    CHECK ("1", "A", 2, "1");
+    CHECK ("23", "A", 2, "23");
+    CHECK ("456", "A", 2, "456");
+    CHECK ("", "BC", 2, "B");
+    CHECK ("1", "BC", 2, "1");
+    CHECK ("23", "BC", 2, "23");
+    CHECK ("456", "BC", 2, "456");
+
+    /* Arg 'size' is 3.	*/
+    CHECK ("", "", 3, "");
+    CHECK ("1", "", 3, "1");
+    CHECK ("23", "", 3, "23");
+    CHECK ("456", "", 3, "456");
+    CHECK ("7890", "", 3, "7890");
+    CHECK ("", "A", 3, "A");
+    CHECK ("1", "A", 3, "1A");
+    CHECK ("23", "A", 3, "23");
+    CHECK ("456", "A", 3, "456");
+    CHECK ("7890", "A", 3, "7890");
+    CHECK ("", "BC", 3, "BC");
+    CHECK ("1", "BC", 3, "1B");
+    CHECK ("23", "BC", 3, "23");
+    CHECK ("456", "BC", 3, "456");
+    CHECK ("7890", "BC", 3, "7890");
+    CHECK ("", "DEF", 3, "DE");
+    CHECK ("1", "DEF", 3, "1D");
+    CHECK ("23", "DEF", 3, "23");
+    CHECK ("456", "DEF", 3, "456");
+    CHECK ("7890", "DEF", 3, "7890");
+
+    /* Margin chars.	*/
+    CHECK ("\001", "\377", 10, "\001\377");
+    CHECK ("\377", "\001", 20, "\377\001");
+
+    /* Arg 'size' is very big.	*/
+    CHECK ("123", "ABC", 32767, "123ABC");
+    CHECK ("456", "D", 32768, "456D");
+    CHECK ("0", "EFG", 65535, "0EFG");
+
+    CHECK ("The quick ", "brown fox", 19, "The quick brown fo");
+
+#if	!defined (RAMEND) || RAMEND > 0x400
+
+    /* Arg 'size' is 256.	*/
+    CHECK ("................................................................"
+	   "................................................................"
+	   "................................................................"
+	   ".............................................................4",
+	   "A", 256,
+	   "................................................................"
+	   "................................................................"
+	   "................................................................"
+	   ".............................................................4A");
+    CHECK ("................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "..............................................................5",
+	   "B", 256,
+	   "................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "..............................................................5");
+    CHECK ("C",
+	   "................................................................"
+	   "................................................................"
+	   "................................................................"
+	   ".............................................................4",
+	   256,
+	   "C..............................................................."
+	   "................................................................"
+	   "................................................................"
+	   "..............................................................4");
+    CHECK ("D",
+	   "................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "..............................................................5",
+	   256,
+	   "D..............................................................."
+	   "................................................................"
+	   "................................................................"
+	   "...............................................................");
+
+    /* Arg 'size' is 257.	*/
+    CHECK ("................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "..............................................................5",
+	   "E", 257,
+	   "................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "..............................................................5E");
+    CHECK ("................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "...............................................................6",
+	   "F", 257,
+	   "................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "...............................................................6");
+    CHECK ("G",
+	   "................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "..............................................................5",
+	   257,
+	   "G..............................................................."
+	   "................................................................"
+	   "................................................................"
+	   "...............................................................5");
+    CHECK ("H",
+	   "................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "...............................................................6",
+	   257,
+	   "H..............................................................."
+	   "................................................................"
+	   "................................................................"
+	   "................................................................");
+
+    /* Arg 'size' is 258.	*/
+    CHECK ("................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "...............................................................6",
+	   "I", 258,
+	   "................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "...............................................................6I");
+    CHECK ("................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "................................................................7",
+	   "J", 258,
+	   "................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "................................................................7");
+    CHECK ("K",
+	   "................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "...............................................................6",
+	   258,
+	   "K..............................................................."
+	   "................................................................"
+	   "................................................................"
+	   "................................................................6");
+    CHECK ("L",
+	   "................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "................................................................7",
+	   258,
+	   "L..............................................................."
+	   "................................................................"
+	   "................................................................"
+	   ".................................................................");
+#endif
+
+    return 0;
+}
diff --git a/tests/simulate/string/strlcpy.c b/tests/simulate/string/strlcpy.c
new file mode 100644
index 0000000..259633f
--- /dev/null
+++ b/tests/simulate/string/strlcpy.c
@@ -0,0 +1,201 @@
+/*
+ * Copyright (c) 1998 Todd C. Miller <Todd.Miller@courtesan.com>
+ * Copyright (c) 2009 Dmitry Xmelkov
+ * All rights reserved.
+ *
+ * Redistribution and use in source and binary forms, with or without
+ * modification, are permitted provided that the following conditions
+ * are met:
+ * 1. Redistributions of source code must retain the above copyright
+ *    notice, this list of conditions and the following disclaimer.
+ * 2. Redistributions in binary form must reproduce the above copyright
+ *    notice, this list of conditions and the following disclaimer in the
+ *    documentation and/or other materials provided with the distribution.
+ * 3. The name of the author may not be used to endorse or promote products
+ *    derived from this software without specific prior written permission.
+ *
+ * THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESS OR IMPLIED WARRANTIES,
+ * INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY
+ * AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL
+ * THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
+ * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
+ * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;
+ * OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
+ * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR
+ * OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF
+ * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* Test of strlcpy(). The program includes the strlcpy() function copy
+   for testing themselves.
+   $Id$
+ */
+
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+#ifndef __AVR__
+# include <stdio.h>
+# define PRINTFLN(line, fmt, ...)	\
+    printf("\nLine %d: " fmt "\n", line, ##__VA_ARGS__)
+# define EXIT(code)	exit ((code) < 255 ? (code) : 255)
+#else
+# define PRINTFLN(line, fmt, ...)
+# define EXIT	exit
+#endif
+
+#ifndef	__AVR__
+/*
+ * Copy src to string dst of size siz.  At most siz-1 characters
+ * will be copied.  Always NUL terminates (unless siz == 0).
+ * Returns strlen(src); if retval >= siz, truncation occurred.
+ */
+size_t strlcpy (char *dst, const char *src, size_t siz)
+{
+        register char *d = dst;
+        register const char *s = src;
+        register size_t n = siz;
+
+        /* Copy as many bytes as will fit */
+        if (n != 0 && --n != 0) {
+                do {
+                        if ((*d++ = *s++) == 0)
+                                break;
+                } while (--n != 0);
+        }
+
+        /* Not enough room in dst, add NUL and traverse rest of src */
+        if (n == 0) {
+                if (siz != 0)
+                        *d = '\0';                /* NUL-terminate dst */
+                while (*s++)
+                        ;
+        }
+
+        return(s - src - 1);        /* count does not include NUL */
+}
+#endif	/* !__AVR__ */
+
+
+void
+Check (int line, const char *src, size_t size, const char *result)
+{
+    char dst[(size < strlen_P (src) ? size : strlen_P (src)) + 1];
+    char tmpsrc[strlen_P (src) + 1];
+    size_t n;
+
+    strcpy_P (tmpsrc, src);
+
+    /* fill dst[]	*/
+    for (n = 0; n < sizeof (dst); n++)
+	dst[n] = line + n;
+
+
+    n = strlcpy (dst, tmpsrc, size);
+    if (n != strlen_P (src)) {
+	PRINTFLN (line, "wrong return value: %zu", n);
+	EXIT (line);
+    }
+
+    if (!size && ((dst[0] - line) & 0xFF)) {
+	PRINTFLN (line, "dst is changed with 0 size");
+	EXIT (1000 + line);
+    }
+    if (size && strcmp_P (dst, result) != 0) {
+	PRINTFLN (line, "wrong result: %s", dst);
+	EXIT (2000 + line);
+    }
+}
+
+
+#define CHECK(src, size, result)				\
+    do {							\
+	Check (__LINE__, PSTR (src), size, PSTR (result));	\
+    } while (0)
+
+
+int main ()
+{
+    CHECK ("", 0, "");
+    CHECK ("", 1, "");
+    CHECK ("", 65535, "");
+
+    CHECK ("A", 0, "");
+    CHECK ("A", 1, "");
+    CHECK ("A", 2, "A");
+    CHECK ("A", 65535, "A");
+
+    CHECK ("ab", 0, "");
+    CHECK ("ab", 1, "");
+    CHECK ("ab", 2, "a");
+    CHECK ("ab", 3, "ab");
+    CHECK ("ab", 4, "ab");
+
+    CHECK ("The quick brown fox", 50, "The quick brown fox");
+    CHECK ("The quick brown fox", 8, "The qui");
+
+    CHECK ("................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "...............................................................",
+	   2, ".");	/* 255	*/
+    CHECK ("................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "................................................................",
+	   2, ".");	/* 256	*/
+    CHECK ("................................................................"
+	   "................................................................"
+	   "................................................................"
+	   ".................................................................",
+	   2, ".");	/* 257	*/
+
+#if	!defined (RAMEND) || RAMEND > 0x400
+    /* strlen(src) == 255	*/
+    CHECK ("................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "..............................................................1",
+	   258,
+	   "................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "..............................................................1");
+
+    /* strlen(src) == 256	*/
+    CHECK ("................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "...............................................................2",
+	   258,
+	   "................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "...............................................................2");
+
+    /* strlen(src) == 257	*/
+    CHECK ("................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "................................................................3",
+	   258,
+	   "................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "................................................................3");
+
+    /* strlen(src) == 258	*/
+    CHECK ("................................................................"
+	   "................................................................"
+	   "................................................................"
+	   ".................................................................4",
+	   258,
+	   "................................................................"
+	   "................................................................"
+	   "................................................................"
+	   ".................................................................");
+#endif
+
+    return 0;
+}
diff --git a/tests/simulate/string/strlwr.c b/tests/simulate/string/strlwr.c
new file mode 100644
index 0000000..954a432
--- /dev/null
+++ b/tests/simulate/string/strlwr.c
@@ -0,0 +1,100 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* $Id$	*/
+
+#ifndef __AVR__
+# include <ctype.h>
+# include <stdio.h>
+#endif
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+#ifndef	__AVR__			/* strlwr() is't a standart function	*/
+char * strlwr (char *s)
+{
+    char *p = s;
+    while (*p) {
+	*p = tolower(*p);
+	p++;
+    }
+    return s;
+}
+#endif
+
+void Check (int line, const char *s, const char *expect)
+{
+    char t[200];
+    char *p;
+    int code;
+
+    if (strlen_P(s) > sizeof(t) - 1)
+	exit (1);
+    strcpy_P (t, s);
+    p = strlwr (t);
+    if (p != t)
+	code = line + 1000;
+    else if (strcmp_P (t, expect))
+	code = line;
+    else
+	return;
+#if	!defined(__AVR__)
+    printf ("\nLine %d: expect: \"%s\""
+	    "\n         result: \"%s\"\n",
+	    line, expect, t);
+    if (code > 255) code = 255;
+#elif	defined(DEBUG)
+    exit ((int)t);
+#endif
+    exit (code);
+}
+
+#define CHECK(s, expect)	do {		\
+    Check (__LINE__, PSTR(s), PSTR(expect));	\
+} while (0)
+
+int main ()
+{
+    /* Empty string.	*/
+    CHECK ("", "");
+    
+    CHECK ("A", "a");
+    CHECK ("Z", "z");
+    CHECK ("@[", "@[");		/* '@'=='A'-1, '['=='Z'+1	*/
+    CHECK ("`az{", "`az{");	/* '`'=='a'-1, '{'=='z'+1	*/
+
+    CHECK ("QWERTYUIOPASDFGHJKLZXCVBNM", "qwertyuiopasdfghjklzxcvbnm");
+    CHECK ("FoO", "foo");
+    
+    /* non-ASCII	*/
+    CHECK ("\001A\177\200\201B\377", "\001a\177\200\201b\377");
+
+    return 0;
+}
diff --git a/tests/simulate/string/strncasecmp.c b/tests/simulate/string/strncasecmp.c
new file mode 100644
index 0000000..9a7fca8
--- /dev/null
+++ b/tests/simulate/string/strncasecmp.c
@@ -0,0 +1,115 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* $Id$	*/
+
+#ifndef __AVR__
+# include <stdio.h>
+#endif
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+void Check (int line, const char *s1, const char *s2, size_t len, int expect)
+{
+    char t1[200];
+    char t2[200];
+    int i;
+    if (   strlen_P(s1) > sizeof(t1) - 1
+	|| strlen_P(s2) > sizeof(t2) - 1)
+      exit (1);
+    strcpy_P (t1, s1);
+    strcpy_P (t2, s2);
+    i = strncasecmp (t1, t2, len);
+    if (i == expect)
+	return;
+#if	!defined(__AVR__)
+    printf ("\nLine %d: expect: %d, result: %d\n",
+	    line, expect, i);
+    if (line > 255) line = 255;
+#elif	defined(DEBUG)
+    exit (i);
+#endif
+    exit (line);
+}
+
+#define CHECK(s1, s2, len,expect)	do {		\
+    Check (__LINE__, PSTR(s1), PSTR(s2), len, expect);	\
+} while (0)
+
+int main ()
+{
+    /* One or both strings are empty.	*/
+    CHECK ("", "", 10, 0);
+    CHECK ("", "\001", 10, -1);
+    CHECK ("", "\377", 10, -255);
+    CHECK ("\001", "", 10, 1);
+    CHECK ("\377", "", 10, 255);
+
+    /* bug #19134	*/
+    CHECK ("a", "[", 10, 'a' - '[');
+    CHECK ("[", "a", 10, '[' - 'a');
+
+    /* Agrs are equal.	*/
+    CHECK ("\001", "\001", 10, 0);
+    CHECK ("1234\377", "1234\377", 10, 0);
+    CHECK ("ABC", "abc", 10, 0);
+    CHECK ("FoO", "fOO", 10, 0);
+
+    /* Args are not equal.	*/
+    CHECK ("@", "`", 10, '@' - '`');	/* '@'=='A'-1, '`'=='a'-1	*/
+    CHECK ("{", "[", 10, '{' - '[');	/* '{'=='z'+1, '['=='A'+1	*/
+
+    /* Alpha is always converted to lower	*/
+    CHECK ("1", "A", 10, '1'-'a');
+    CHECK ("Z", "2", 10, 'z'-'2');
+
+    /* Chars are unsigned	*/
+    CHECK ("\200", "\177", 10, 1);
+    CHECK ("\177", "\200", 10, -1);
+    CHECK ("\001", "\377", 10, -254);
+    CHECK ("\377", "\001", 10, 254);
+    
+    /* Length too small	*/
+    CHECK ("", "", 0, 0);
+    CHECK ("ab", "ac", 1, 0);
+    CHECK ("FOO", "foo123", 3, 0);
+    CHECK ("ABCDEF", "AbcD", 4, 0);
+    
+    /* Length too big	*/
+    CHECK ("", "", ~0, 0);
+    CHECK ("foo", "Foo", ~0, 0);
+    
+    /* Length is equal to string length	*/
+    CHECK ("12345678", "12345678", 8, 0);
+    CHECK ("12345679", "12345678", 8, 1);
+    CHECK ("12345678", "12345679", 8, -1);
+    
+    return 0;
+}
diff --git a/tests/simulate/string/strpbrk.c b/tests/simulate/string/strpbrk.c
new file mode 100644
index 0000000..413f06a
--- /dev/null
+++ b/tests/simulate/string/strpbrk.c
@@ -0,0 +1,100 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* $Id$	*/
+
+#ifndef __AVR__
+# include <stdio.h>
+#endif
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+void Check (int line, const char *s1, const char *s2, int expect)
+{
+    char t1[200];
+    char t2[200];
+    char *p;
+
+    if (   strlen_P(s1) > sizeof(t1) - 1
+	|| strlen_P(s2) > sizeof(t2) - 1)
+      exit (1);
+    strcpy_P (t1, s1);
+    strcpy_P (t2, s2);
+    p = strpbrk (t1, t2);
+    if ((!p && expect == -1)  || (p == t1 + expect))
+	return;
+#if	!defined(__AVR__)
+    printf ("\nLine %d: expect: %d, result: %d\n",
+	    line, expect, (p ? p - t1 : -1));
+    if (line > 255) line = 255;
+#elif	defined(DEBUG)
+    exit (p ? p - t1 : -1);
+#endif
+    exit (line);
+}
+
+#define CHECK(s1, s2, expect)	do {			\
+    Check (__LINE__, PSTR(s1), PSTR(s2), expect);	\
+} while (0)
+
+int main ()
+{
+    /* Empty string.	*/
+    CHECK ("", "", -1);
+    CHECK ("A", "", -1);
+    CHECK ("", "A", -1);
+
+    /* accept[] length is 1.	*/
+    CHECK ("A", "A", 0);
+    CHECK (".B.", "B", 1);
+    CHECK ("........C", "C", 8);
+    CHECK ("a", "A", -1);
+    CHECK ("AA", "a", -1);
+
+    /* accept[] length is 2.	*/
+    CHECK ("a.", "ab", 0);
+    CHECK (".a", "ab", 1);
+    CHECK ("b.", "ab", 0);
+    CHECK (".b", "ab", 1);
+    CHECK ("c", "ab", -1);
+    CHECK ("0123456789", "56", 5);
+    CHECK ("0123456789", "-+", -1);
+    
+    /* Long strings.	*/
+    CHECK ("qwertyuiopasdfghjklzxcvbnm", "MNBVCXZLKJHGFDSAPOIUYTREWQ", -1);
+    CHECK ("qwertyuiopasdfghjklzxcvbnm", "MNBVCXZLKJHGFDSAPOIUYTREWQm", 25);
+
+    /* non ASCII chars	*/
+    CHECK ("\001", "\001", 0);
+    CHECK ("\377", "\377", 0);
+    CHECK ("\002\376", "\001\377", -1);
+
+    return 0;
+}
diff --git a/tests/simulate/string/strrchr.c b/tests/simulate/string/strrchr.c
new file mode 100644
index 0000000..8454909
--- /dev/null
+++ b/tests/simulate/string/strrchr.c
@@ -0,0 +1,93 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* $Id$	*/
+
+#ifndef __AVR__
+# include <stdio.h>
+#endif
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+void Check (int line, const char *s, int c, int expect)
+{
+    char t[300], *p;
+    strcpy_P (t, s);
+    p = strrchr (t, c);
+    if (expect == -1 && !p)
+	return;
+    if (t + expect == p)
+	return;
+#ifndef	__AVR__
+    printf ("\nLine %d: expect: %d, result: %d\n",
+	    line, expect, (p ? p-t : -1));
+#endif
+    exit (line);
+}
+
+#define CHECK(s, c, expect)	do {		\
+    Check (__LINE__, PSTR(s), c, expect);	\
+} while (0)
+
+int main ()
+{
+    /* Not found	*/
+    CHECK ("", 1, -1);
+    CHECK ("", 255, -1);
+    CHECK ("ABCDEF", 'a', -1);
+    
+    /* Found	*/
+    CHECK ("\001", 1, 0);
+    CHECK ("\377", 255, 0);
+    CHECK ("987654321", '7', 2);
+
+    /* '\0' is a part of string	*/
+    CHECK ("12345", 0, 5);
+    CHECK ("", 0, 0);
+
+    /* Last occurance	*/
+    CHECK ("00", '0', 1);
+    CHECK ("abcdabcd", 'b', 5);
+    CHECK ("***********", '*', 10);
+    
+    /* 'c' converted to a char	*/
+    CHECK ("ABCDEF", 'A'+0x100, 0);
+    CHECK ("ABCDE\377", ~0, 5);
+    CHECK ("+", ~0xff, 1);
+    
+    /* Very long string	*/
+    CHECK ("................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "*...............", '*', 256);
+
+    return 0;
+}
diff --git a/tests/simulate/string/strrev.c b/tests/simulate/string/strrev.c
new file mode 100644
index 0000000..9a20d1a
--- /dev/null
+++ b/tests/simulate/string/strrev.c
@@ -0,0 +1,149 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* $Id$	*/
+
+#ifndef __AVR__
+# include <stdio.h>
+#endif
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+#ifndef	__AVR__		/* strrev() is't a standart function	*/
+char * strrev (char *s)
+{
+    char *p1, *p2;
+    
+    for (p2 = s; *p2; ) p2++;
+    p1 = s;
+    while (p1 < p2) {
+	char c1 = *p1;
+	char c2 = *--p2;
+	*p1++ = c2;
+	*p2 = c1;
+    }
+    return s;
+}
+#endif
+
+void Check (int line, const char *s, const char *expect)
+{
+    char t[300];
+    char *p;
+    int code = 0;
+    int i;
+
+    for (i = 2; i; i--) {
+	if (strlen_P(s) > sizeof(t) - 1)
+	    exit (1);
+        strcpy_P (t, s);
+	p = strrev (t);
+        if (p != t) {
+	    code = line + 1000;
+	    break;
+	}
+        if (strcmp_P (t, expect)) {
+	    code = line;
+	    break;
+	}
+	p = (char *)s;		/* change strings	*/
+	s = expect;
+	expect = p;
+    }
+    if (!code)
+	return;
+#if   !defined(__AVR__)
+    printf ("\nLine %d: expect: \"%s\""
+	    "\n         result: \"%s\"\n",
+	    line, expect, t);
+    if (code > 255) code = 255;
+#elif	defined(DEBUG)
+    exit ((int)t);
+#endif
+    exit (code);
+}
+
+#define CHECK(s, expect)	do {		\
+    Check (__LINE__, PSTR(s), PSTR(expect));	\
+} while (0)
+
+int main ()
+{
+    /* Empty string.	*/
+    CHECK ("", "");
+    
+    /* 1 char long	*/
+    CHECK ("a", "a");
+    CHECK ("\001", "\001");
+    CHECK ("\377", "\377");
+    
+    /* 2 chars long	*/
+    CHECK ("01", "10");
+    CHECK ("**", "**");
+    
+    /* 3 and more chars long	*/
+    CHECK ("abc", "cba");
+    CHECK ("qwer", "rewq");
+    CHECK ("12345", "54321");
+    CHECK ("[];'./", "/.';][");
+    CHECK ("\001\177\200\201\377", "\377\201\200\177\001");
+    CHECK ("The quick brown fox jumps over the lazy dog.",
+	   ".god yzal eht revo spmuj xof nworb kciuq ehT");
+
+    /* Very long string.	*/
+    CHECK ("1..............................................................2"
+	   "3..............................................................4"
+	   "5..............................................................6"
+	   "7..............................................................",
+	   "..............................................................7"
+	   "6..............................................................5"
+	   "4..............................................................3"
+	   "2..............................................................1");
+
+    CHECK ("1..............................................................2"
+	   "3..............................................................4"
+	   "5..............................................................6"
+	   "7..............................................................8",
+	   "8..............................................................7"
+	   "6..............................................................5"
+	   "4..............................................................3"
+	   "2..............................................................1");
+
+    CHECK ("1..............................................................2"
+	   "3..............................................................4"
+	   "5..............................................................6"
+	   "7..............................................................89",
+	   "98..............................................................7"
+	   "6..............................................................5"
+	   "4..............................................................3"
+	   "2..............................................................1");
+    
+    return 0;
+}
diff --git a/tests/simulate/string/strsep.c b/tests/simulate/string/strsep.c
new file mode 100644
index 0000000..75ced6f
--- /dev/null
+++ b/tests/simulate/string/strsep.c
@@ -0,0 +1,168 @@
+/* Copyright (c) 2008  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* $Id$	*/
+
+#include <stdlib.h>
+#include <string.h>
+#include <stdio.h>
+#include "progmem.h"
+
+#ifndef __AVR__
+# define PRINTFLN(line, fmt, ...)	\
+    printf("\nLine %d: " fmt "\n", line, ##__VA_ARGS__)
+# define EXIT(code)	exit ((code) < 255 ? (code) : 255)
+# define memcmp_P	memcmp
+#else
+# if defined(__AVR_ATmega128__)
+  /* ATmega128 has enough RAM for sprintf(), print to 0x2000 in XRAM. */
+#  define PRINTFLN(line, fmt, ...)	\
+    sprintf ((char *)0x2000, "\nLine %d: " fmt "\n", line, ##__VA_ARGS__)
+# else
+   /* small AVR */
+#  define PRINTFLN(args...)
+# endif
+# define EXIT	exit
+#endif
+
+void Check (int line, const char *s1, const char *s2, int clr, int pnt)
+{
+    char t1[300];
+    char t2[100];
+    char *sp;
+    char *rp;
+
+    if ((strlen_P(s1) > sizeof(t1) - 1) || (strlen_P(s2) > sizeof(t2) - 1))
+	exit (1);
+    strcpy_P (t1, s1);
+    strcpy_P (t2, s2);
+    sp = t1;
+    rp = strsep (&sp, t2);
+
+    if (rp != t1) {
+	PRINTFLN (line, "false return value");
+	EXIT (5000 + line);
+    }
+    if (clr < 0) {
+	if (strcmp_P (t1, s1)) {
+	    PRINTFLN (line, "string is changed");
+	    EXIT (line);
+	}
+    } else {
+	if (strlen (t1) != (size_t)clr) {
+	    PRINTFLN (line, "strlen: expect= %d  result= %d",
+			 clr, strlen (t1));
+	    EXIT (1000 + line);
+	}
+	if (memcmp_P (t1, s1, clr)
+	    || t1[clr]
+	    || strcmp_P (t1 + clr + 1, s1 + clr + 1))
+	{
+	    PRINTFLN (line, "string mismatch");
+	    EXIT (2000 + line);
+	}
+    }
+    if (pnt < 0) {
+	if (sp) {
+	    PRINTFLN (line, "sp is not a NULL");
+	    EXIT (3000 + line);
+	}
+    } else {
+	if (sp != t1 + pnt) {
+	    PRINTFLN (line, "sp: expect= %d  result= %d",
+			 pnt, sp - t1);
+	    EXIT (4000 + line);
+	}
+    }
+}
+
+/* Args:
+     s - string to parse
+     delim - delimeter list
+     clr   - if (clr >= 0) s[cln] must be cleared
+     pnt   - if (pnt >= 0) s[pnt] must be pointed, else NULL
+ */
+#define CHECK(s, delim, clr, pnt)	do {		\
+    Check (__LINE__, PSTR(s), PSTR(delim), clr, pnt);	\
+} while (0)
+
+int main ()
+{
+    char *p;
+    
+    /* NULL at first call	*/
+    p = 0;
+    if (strsep (&p, "") || p) exit (__LINE__);
+    if (strsep (&p, "abc") || p) exit (__LINE__);
+
+    /* Empty string	*/
+    CHECK ("", "", -1, -1);
+    CHECK ("", "abc", -1, -1);
+    
+    /* Empty delimeter list	*/
+    CHECK ("a", "", -1, -1);
+    CHECK ("12345678", "", -1, -1);
+    
+    /* No delimeter symbols are founded	*/
+    CHECK ("\tabc", " ", -1, -1);
+    CHECK ("THE QUICK BROWN FOX", "thequickbrownfox", -1, -1);
+    
+    /* delim is 1 byte long	*/
+    CHECK (".", ".", 0, 1);
+    CHECK ("abc", "a", 0, 1);
+    CHECK ("abc", "b", 1, 2);
+    CHECK ("abc", "c", 2, 3);
+
+    /* delim is 2 bytes long	*/
+    CHECK ("0", "01", 0, 1);
+    CHECK ("1", "01", 0, 1);
+    CHECK ("A.", "AB", 0, 1);
+    CHECK ("B.", "AB", 0, 1);
+    CHECK ("CAD", "AB", 1, 2);
+    CHECK ("CDB", "AB", 2, 3);
+    
+    /* delim length > 2 bytes	*/
+    CHECK ("the quick", "0123456789 ", 3, 4);
+
+    /* Very long string	*/
+    CHECK ("................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "...............................................................*",
+	   "*", 255, 256);
+    CHECK ("................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "*", "*", 256, 257);
+
+    /* Non ASCII bytes	*/
+    CHECK ("\001\002\377", "\001", 0, 1);
+    CHECK ("\001\002\377", "\377", 2, 3);
+}
diff --git a/tests/simulate/string/strspn.c b/tests/simulate/string/strspn.c
new file mode 100644
index 0000000..d134200
--- /dev/null
+++ b/tests/simulate/string/strspn.c
@@ -0,0 +1,116 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* $Id$	*/
+
+#ifndef __AVR__
+# include <stdio.h>
+#endif
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+void Check (int line, const char *s1, const char *s2, size_t expect)
+{
+    char t1[300];
+    char t2[100];
+    size_t n;
+
+    if (   strlen_P(s1) > sizeof(t1) - 1
+	|| strlen_P(s2) > sizeof(t2) - 1)
+      exit (1);
+    strcpy_P (t1, s1);
+    strcpy_P (t2, s2);
+    n = strspn (t1, t2);
+    if (n == expect)
+	return;
+#if   !defined(__AVR__)
+    printf ("\nLine %d: expect: %d, result: %d\n",
+	    line, expect, n);
+    if (line > 255) line = 255;
+#elif	defined(DEBUG)
+    exit (n ? n : ~0);
+#endif
+    exit (line);
+}
+
+#define CHECK(s1, s2, expect)	do {			\
+    Check (__LINE__, PSTR(s1), PSTR(s2), expect);	\
+} while (0)
+
+int main ()
+{
+    /* Empty string.	*/
+    CHECK ("", "", 0);
+    CHECK ("A", "", 0);
+    CHECK ("", "A", 0);
+
+    /* accept[] length is 1.	*/
+    CHECK ("B", "A", 0);
+    CHECK ("A", "A", 1);
+    CHECK ("AAAAAAAA", "A", 8);
+
+    /* accept[] length is 2.	*/
+    CHECK ("c", "ab", 0);
+    CHECK ("cd", "ab", 0);
+    CHECK ("a", "ab", 1);
+    CHECK ("a.", "ab", 1);
+    CHECK ("ba", "ab", 2);
+    CHECK ("ab.", "ab", 2);
+    CHECK ("0101010101", "10", 10);
+    CHECK ("0123456789AB", "+0", 1);
+    
+    /* accept[] length > 2	*/
+    CHECK ("the quick brown fox", " qwertyuiopasdfghjklzxcvbnm", 19);
+    CHECK ("the quick brown fox ...", " qwertyuiopasdfghjklzxcvbnm", 20);
+    
+    /* non ASCII chars	*/
+    CHECK ("\001", "\001", 1);
+    CHECK ("\377", "\377", 1);
+    CHECK ("\002\376", "\001\377", 0);
+
+    /* Result approx. 256	*/
+    CHECK ("................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "...............................................................",
+	   ".", 255);
+    CHECK ("................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "................................................................",
+	   "*.", 256);
+    CHECK ("................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "................................................................"
+	   ".+", "*.", 257);
+
+    return 0;
+}
diff --git a/tests/simulate/string/strstr.c b/tests/simulate/string/strstr.c
new file mode 100644
index 0000000..b7895ee
--- /dev/null
+++ b/tests/simulate/string/strstr.c
@@ -0,0 +1,111 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* $Id$	*/
+
+#ifndef __AVR__
+# include <stdio.h>
+#endif
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+void Check (int line, const char *s1, const char *s2, int expect)
+{
+    char t1[200];
+    char t2[200];
+    char *p;
+
+    if (   strlen_P(s1) > sizeof(t1) - 1
+	|| strlen_P(s2) > sizeof(t2) - 1)
+      exit (1);
+    strcpy_P (t1, s1);
+    strcpy_P (t2, s2);
+    p = strstr (t1, t2);
+    if ((!p && expect == -1)  || (p == t1 + expect))
+	return;
+#if	!defined(__AVR__)
+    printf ("\nLine %d: expect: %d, result: %d\n",
+	    line, expect, (p ? p - t1 : -1));
+    if (line > 255) line = 255;
+#elif	defined(DEBUG)
+    exit (p ? p - t1 : -1);
+#endif
+    exit (line);
+}
+
+#define CHECK(s1, s2, expect)	do {			\
+    Check (__LINE__, PSTR(s1), PSTR(s2), expect);	\
+} while (0)
+
+int main ()
+{
+    /* Empty 'needle'.	*/
+    CHECK ("", "", 0);
+    CHECK ("12345", "", 0);
+
+    /* bug #19135	*/
+    CHECK ("ababac", "abac", 2);
+
+    /* 'needle' of 1 byte long	*/
+    CHECK ("", "a", -1);
+    CHECK ("b", "a", -1);
+    CHECK ("a", "a", 0);
+    CHECK ("abcbef", "a", 0);
+    CHECK (".a", "a", 1);
+    CHECK (".a.", "a", 1);
+    CHECK ("ABCDEFGH", "H", 7);
+    
+    /* 'needle' of 2 bytes long	*/
+    CHECK ("", "12", -1);
+    CHECK ("13", "12", -1);
+    CHECK ("32", "12", -1);
+    CHECK ("12", "12", 0);
+    CHECK ("123", "12", 0);
+    CHECK ("012", "12", 1);
+    CHECK ("01200", "12", 1);
+    
+    /* partially mathing	*/
+    CHECK ("a_ab_abc_abcd_abcde", "abcdef", -1);
+    CHECK ("a_ab_abc_abcd_abcde_abcdef", "abcdef", 20);
+    CHECK ("aababcabcdabcde", "abcdef", -1);
+    CHECK ("aababcabcdabcdeabcdef", "abcdef", 15);
+    
+    /* repeated chars	*/
+    CHECK ("abaabaaabaaaab", "aaaaab", -1);
+    CHECK ("abaabaaabaaaabaaaaab", "aaaaab", 14);
+    
+    /* A first match is returned.	*/
+    CHECK ("_foo_foo", "foo", 1);
+    
+    /* Case is importent.	*/
+    CHECK ("A", "a", -1);
+
+    return 0;
+}
diff --git a/tests/simulate/string/strtok.c b/tests/simulate/string/strtok.c
new file mode 100644
index 0000000..1c2bbcd
--- /dev/null
+++ b/tests/simulate/string/strtok.c
@@ -0,0 +1,190 @@
+/* Copyright (c) 2009  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* $Id$	*/
+
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+#ifndef	__AVR__
+# include <stdio.h>
+# define PRINTFLN(line, fmt, ...)	\
+    printf ("\n%s:%d: " fmt "\n", __FILE__, line, ##__VA_ARGS__);
+# define EXIT(code)	exit ((code) < 255 ? (code) : 100 + (code) % 100)
+#else
+# define PRINTFLN(args...)
+# define EXIT(code)	exit (code)
+#endif
+
+static void
+Check (int line, const char *s, const char *delim, int rslt, const char *token)
+{
+    static char ts[260];
+    char td[strlen_P (delim) + 1];
+    char *p;
+
+    if (s) {
+	if (strlen_P (s) >= sizeof (ts)) {
+	    PRINTFLN (line, "Too small buffer");
+	    EXIT (1000 + line);
+	}
+	strcpy_P (ts, s);
+    }
+    strcpy_P (td, delim);
+
+    p = strtok (s ? ts : 0, td);
+
+    if (!p) {
+	if (rslt >= 0) {
+	    PRINTFLN (line, "Return 0, must: s+%d", rslt);
+	    EXIT (2000 + line);
+	}
+    } else {
+	if (rslt < 0) {
+	    PRINTFLN (line, "Return nonzero pointer: s+%d", p - ts);
+	    EXIT (3000 + line);
+	}
+	if ((p - ts) != rslt) {
+	    PRINTFLN (line, "Return s+%d, must: s+%d",
+		      p - ts, rslt);
+	    EXIT (4000 + line);
+	}
+	if (strcmp_P (p, token)) {
+	    PRINTFLN (line, "Return token \"%s\", must: \"%s\"", p, token);
+	    EXIT (5000 + line);
+	}
+    }
+}
+
+/* Args:
+     s     - string to parse (is saved in static buffer)
+     delim - delimeter list
+     rslt  - expected return value: (rslt >= 0 ? s+rslt : NULL)
+     token - expected pointed string (if rslt >= 0)
+ */
+#define CHECK(s, delim, rslt, token)	\
+    Check (__LINE__, PSTR (s), PSTR (delim), rslt, PSTR (token))
+
+#define CHECK0(delim, rslt, token)	\
+    Check (__LINE__, 0, PSTR (delim), rslt, PSTR (token))
+
+int main ()
+{
+    /* Empty string.	*/
+
+    CHECK ("", "", -1, "");
+
+    CHECK ("", ".", -1, "");
+
+    CHECK ("", "123", -1, "");
+
+    /* Empty delimeter list.	*/
+
+    CHECK ("A", "", 0, "A");
+    CHECK0 ("", -1, "");
+
+    CHECK ("12", "", 0, "12");
+    CHECK0 ("", -1, "");
+
+    CHECK ("dcba", "", 0, "dcba");
+    CHECK0 ("", -1, "");
+
+    /* No delimeter symbols are founded.	*/
+
+    CHECK ("\t", " ", 0, "\t");
+    CHECK0 (" ", -1, "");
+
+    CHECK ("THE QUICK BROWN FOX", "thequickbrownfox", 0, "THE QUICK BROWN FOX");
+    CHECK0 ("thequickbrownfox", -1, "");
+
+    /* Delimeter list is 1 byte long.	*/
+
+    CHECK ("1", ".", 0, "1");
+    CHECK0 (".", -1, "");
+
+    CHECK ("A,BC,DEF", ",", 0, "A");
+    CHECK0 (",", 2, "BC");
+    CHECK0 (",", 5, "DEF");
+    CHECK0 (",", -1, "");
+
+    /* Delimeter list is 2 bytes long.	*/
+
+    CHECK ("AB", "ab", 0, "AB");
+    CHECK0 ("ab", -1, "");
+
+    CHECK ("123+45-6", "+-", 0, "123");
+    CHECK0 ("+-", 4, "45");
+    CHECK0 ("+-", 7, "6");
+    CHECK0 ("+-", -1, "");
+
+    /* Variable delimeter list.	*/
+
+    CHECK ("A:B*C:D", ":", 0, "A");
+    CHECK0 ("*", 2, "B");
+    CHECK0 (":", 4, "C");
+    CHECK0 ("", 6, "D");
+    CHECK0 (":*", -1, "");
+
+    /* Empty field.	*/
+
+    CHECK (".", ".", -1, "");
+
+    CHECK ("The quick", "kciuq ehT", -1, "");
+
+    CHECK ("1,", ",", 0, "1");
+    CHECK0 (",", -1, "");
+
+    CHECK ("_2", "_", 1, "2");
+    CHECK0 ("_", -1, "");
+
+    CHECK ("A::B", ":", 0, "A");
+    CHECK0 (":", 3, "B");
+    CHECK0 (":", -1, "");
+
+    CHECK ("  a\n\rb  ", "\r\n ", 2, "a");
+    CHECK0 ("\r\n ", 5, "b");
+    CHECK0 ("\r\n ", -1, "");
+
+    /* String is approx. 256 bytes long.	*/
+
+    CHECK ("................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "...............................................................5",
+	   ".", 255, "5");
+
+    CHECK ("................................................................"
+	   "................................................................"
+	   "................................................................"
+	   "................................................................6",
+	   ".", 256, "6");
+
+    return 0;
+}
diff --git a/tests/simulate/string/strupr.c b/tests/simulate/string/strupr.c
new file mode 100644
index 0000000..0cb6cd1
--- /dev/null
+++ b/tests/simulate/string/strupr.c
@@ -0,0 +1,100 @@
+/* Copyright (c) 2007  Dmitry Xmelkov
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* $Id$	*/
+
+#ifndef __AVR__
+# include <ctype.h>
+# include <stdio.h>
+#endif
+#include <stdlib.h>
+#include <string.h>
+#include "progmem.h"
+
+#ifndef	__AVR__			/* strupr() is't a standart function	*/
+char * strupr (char *s)
+{
+    char *p = s;
+    while (*p) {
+	*p = toupper(*p);
+	p++;
+    }
+    return s;
+}
+#endif
+
+void Check (int line, const char *s, const char *expect)
+{
+    char t[200];
+    char *p;
+    int code;
+
+    if (strlen_P(s) > sizeof(t) - 1)
+	exit (1);
+    strcpy_P (t, s);
+    p = strupr (t);
+    if (p != t)
+	code = line + 1000;
+    else if (strcmp_P (t, expect))
+	code = line;
+    else
+	return;
+#if	!defined(__AVR__)
+    printf ("\nLine %d: expect: \"%s\""
+	    "\n         result: \"%s\"\n",
+	    line, expect, t);
+    if (code > 255) code = 255;
+#elif	defined(DEBUG)
+    exit ((int)t);
+#endif
+    exit (code);
+}
+
+#define CHECK(s, expect)	do {		\
+    Check (__LINE__, PSTR(s), PSTR(expect));	\
+} while (0)
+
+int main ()
+{
+    /* Empty string.	*/
+    CHECK ("", "");
+    
+    CHECK ("a", "A");
+    CHECK ("z", "Z");
+    CHECK ("@[", "@[");		/* '@'=='A'-1, '['=='Z'+1	*/
+    CHECK ("`az{", "`AZ{");	/* '`'=='a'-1, '{'=='z'+1	*/
+
+    CHECK ("qwertyuiopasdfghjklzxcvbnm", "QWERTYUIOPASDFGHJKLZXCVBNM");
+    CHECK ("fOo", "FOO");
+    
+    /* non-ASCII	*/
+    CHECK ("\001a\177\200\201b\377", "\001A\177\200\201B\377");
+
+    return 0;
+}
diff --git a/tests/simulate/util/crc16-1.c b/tests/simulate/util/crc16-1.c
new file mode 100644
index 0000000..0abcdf0
--- /dev/null
+++ b/tests/simulate/util/crc16-1.c
@@ -0,0 +1,86 @@
+/* Copyright (c) 2010  Joerg Wunsch
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* $Id$ */
+
+/* Test the various CRC algorithms.
+   Part 1: CRC-16, x^16 + x^15 + x^2 + 1 (0xa001), ANSI X3.28 */
+
+#include <stdint.h>
+#include <stdlib.h>
+
+#ifdef	__AVR__
+# include <util/crc16.h>
+#else  /* host computer */
+
+static uint16_t
+_crc16_update(uint16_t crc, uint8_t a)
+{
+    int i;
+
+    crc ^= a;
+    for (i = 0; i < 8; ++i)
+    {
+        if (crc & 1)
+            crc = (crc >> 1) ^ 0xA001;
+        else
+            crc = (crc >> 1);
+    }
+
+    return crc;
+}
+
+#endif  /* AVR */
+
+const char message[] = "Hello, world!";
+const size_t mlen = 13;
+
+/*
+ * See MODBUS Over Serial Line FOR LEGACY APPLICATIONS ONLY
+ *
+ * http://www.modbus.org/docs/PI_MBUS_300.pdf
+ *
+ * for an alternate (table based) reference implementation.  Note that
+ * this implementation internally byte swaps the CRC, so the result
+ * there is 0x4971.
+ */
+const uint16_t crc_result = 0x7149;
+
+int main(void)
+{
+    uint16_t crc = 0xffff;
+    uint8_t i;
+
+    for (i = 0; i < mlen; i++)
+        crc = _crc16_update(crc, message[i]);
+    if (crc != crc_result) return __LINE__;
+
+    return 0;
+}
+
diff --git a/tests/simulate/util/crc16-2.c b/tests/simulate/util/crc16-2.c
new file mode 100644
index 0000000..70e72b2
--- /dev/null
+++ b/tests/simulate/util/crc16-2.c
@@ -0,0 +1,75 @@
+/* Copyright (c) 2010  Joerg Wunsch
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* $Id$ */
+
+/* Test the various CRC algorithms.
+   Part 2: CCITT-CRC x^16 + x^12 + x^5 + 1 (0x8408) */
+
+#include <stdint.h>
+#include <stdlib.h>
+
+#ifdef	__AVR__
+# include <util/crc16.h>
+#else  /* host computer */
+
+static uint16_t
+_crc_ccitt_update (uint16_t crc, uint8_t data)
+{
+    data ^= crc & 0xff;
+    data ^= data << 4;
+
+    return ((((uint16_t)data << 8) | ((crc & 0xff00) >> 8))
+            ^ (uint8_t)(data >> 4)
+            ^ ((uint16_t)data << 3));
+}
+
+#endif  /* AVR */
+
+/*
+ * Test vector taken from IEEE 802.15.4 standard.  This is a complete
+ * frame that already includes the frame-check sequence (FCS), so
+ * recalculating it must yield 0.
+ */
+const char message[] = "\x02\x00\x6a\xe4\x79";
+const size_t mlen = 5;
+
+
+int main(void)
+{
+    uint16_t crc = 0;
+    uint8_t i;
+
+    for (i = 0; i < mlen; i++)
+        crc = _crc_ccitt_update(crc, message[i]);
+    if (crc != 0) return __LINE__;
+
+    return 0;
+}
+
diff --git a/tests/simulate/util/crc16-3.c b/tests/simulate/util/crc16-3.c
new file mode 100644
index 0000000..f874240
--- /dev/null
+++ b/tests/simulate/util/crc16-3.c
@@ -0,0 +1,76 @@
+/* Copyright (c) 2010  Joerg Wunsch
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* $Id$ */
+
+/* Test the various CRC algorithms.
+   Part 3: Xmodem-CRC x^16 + x^12 + x^5 + 1 (0x1021) */
+
+#include <stdint.h>
+#include <stdlib.h>
+
+#ifdef	__AVR__
+# include <util/crc16.h>
+#else  /* host computer */
+
+static uint16_t
+_crc_xmodem_update (uint16_t crc, uint8_t data)
+{
+    int i;
+
+    crc = crc ^ ((uint16_t)data << 8);
+    for (i=0; i<8; i++)
+    {
+        if (crc & 0x8000)
+            crc = (crc << 1) ^ 0x1021;
+        else
+            crc <<= 1;
+    }
+
+    return crc;
+}
+
+#endif  /* AVR */
+
+const char message[] = "Hello, world!";
+const size_t mlen = 13;
+const uint16_t crc_result = 0x7ade;
+
+int main(void)
+{
+    uint16_t crc = 0;
+    uint8_t i;
+
+    for (i = 0; i < mlen; i++)
+        crc = _crc_xmodem_update(crc, message[i]);
+    if (crc != crc_result) return __LINE__;
+
+    return 0;
+}
+
diff --git a/tests/simulate/util/crc16-4.c b/tests/simulate/util/crc16-4.c
new file mode 100644
index 0000000..aee7e60
--- /dev/null
+++ b/tests/simulate/util/crc16-4.c
@@ -0,0 +1,76 @@
+/* Copyright (c) 2010  Joerg Wunsch
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* $Id$ */
+
+/* Test the various CRC algorithms.
+   Part 4: Dallas i-Button 8-bit CRC, x^8 + x^5 + x^4 + 1 (0x8C) */
+
+#include <stdint.h>
+#include <stdlib.h>
+
+#ifdef	__AVR__
+# include <util/crc16.h>
+#else  /* host computer */
+
+static uint8_t
+_crc_ibutton_update(uint8_t crc, uint8_t data)
+{
+    uint8_t i;
+
+    crc = crc ^ data;
+    for (i = 0; i < 8; i++)
+    {
+        if (crc & 0x01)
+            crc = (crc >> 1) ^ 0x8C;
+        else
+            crc >>= 1;
+    }
+
+    return crc;
+}
+
+#endif  /* AVR */
+
+/* Dallas i-Button test vector (including CRC) */
+const char message[] = "\x02\x1c\xb8\x01\x00\x00\x00\xa2";
+const size_t mlen = 8;
+
+int main(void)
+{
+    uint8_t crc = 0;
+    uint8_t i;
+
+    for (i = 0; i < mlen; i++)
+        crc = _crc_ibutton_update(crc, message[i]);
+    if (crc != 0) return __LINE__;
+
+    return 0;
+}
+
diff --git a/tests/simulate/util/crc16-5.c b/tests/simulate/util/crc16-5.c
new file mode 100644
index 0000000..3f16ea9
--- /dev/null
+++ b/tests/simulate/util/crc16-5.c
@@ -0,0 +1,85 @@
+/* Copyright (c) 2010  Joerg Wunsch
+   Copyright (c) 2013  Frederic Nadeau
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE.
+ */
+
+/* $Id$ */
+
+/* Test the various CRC algorithms.
+   Part 5:  8-bit CCITT-CRC, x^8 + x^2 + x + 1 (0xE0) */
+
+#include <stdint.h>
+#include <stdlib.h>
+
+#ifdef	__AVR__
+# include <util/crc16.h>
+#else  /* host computer */
+
+static uint8_t
+_crc8_ccitt_update (uint8_t inCrc, uint8_t inData)
+{
+    uint8_t   i;
+	uint8_t   data;
+
+	data = inCrc ^ inData;
+
+    for ( i = 0; i < 8; i++ )
+	{
+    	if (( data & 0x80 ) != 0 )
+    	{
+    		data <<= 1;
+        	data ^= 0x07;
+    	}
+    	else
+    	{
+    		data <<= 1;
+    	}
+    }
+    return data;
+}
+
+#endif  /* AVR */
+
+/* LTC6802-1 test vector (including CRC) */
+const char message[] = "\xE1\x04\x02\x20\x6C\x6C\x62";
+const size_t mlen = 7;
+
+#include <stdio.h>
+
+int main(void)
+{
+    uint8_t crc = 0;
+    uint8_t i;
+
+    for (i = 0; i < mlen; i++)
+        crc = _crc8_ccitt_update(crc, message[i]);
+    if (crc != 0) return __LINE__;
+
+    return 0;
+}
+
diff --git a/xml/Atmel2libc.py b/xml/Atmel2libc.py
new file mode 100755
index 0000000..a912752
--- /dev/null
+++ b/xml/Atmel2libc.py
@@ -0,0 +1,547 @@
+#! /usr/bin/env python
+#
+# Copyright (c) 2004,2005  Theodore A. Roth
+# All rights reserved.
+#
+# Redistribution and use in source and binary forms, with or without
+# modification, are permitted provided that the following conditions are met:
+#
+# * Redistributions of source code must retain the above copyright
+#   notice, this list of conditions and the following disclaimer.
+#
+# * Redistributions in binary form must reproduce the above copyright
+#   notice, this list of conditions and the following disclaimer in
+#   the documentation and/or other materials provided with the
+#   distribution.
+#
+# * Neither the name of the copyright holders nor the names of
+#   contributors may be used to endorse or promote products derived
+#   from this software without specific prior written permission.
+#
+# THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+# AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+# IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+# ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+# LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+# CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+# SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+# INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+# CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+# ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+# POSSIBILITY OF SUCH DAMAGE.
+#
+# $Id$
+#
+
+import string
+import re
+from xml.parsers import expat
+
+class Element:
+    'A parsed XML element'
+
+    def __init__(self,name,attributes,depth=0):
+        'Element constructor'
+        # The element's tag name
+        self.name = name
+        # The element's attribute dictionary
+        self.attributes = attributes
+        # The element's cdata
+        self.cdata = ''
+        # The element's child element list (sequence)
+        self.children = []
+
+        self.depth = depth
+        
+    def AddChild(self, element, depth=0):
+        'Add a reference to a child element'
+        element.depth = depth
+        self.children.append(element)
+        
+    def getAttribute(self,key):
+        'Get an attribute value'
+        return self.attributes.get(key)
+    
+    def getData(self):
+        'Get the cdata'
+        return self.cdata
+        
+    def getElements(self,name=''):
+        'Get a list of child elements'
+        #If no tag name is specified, return the all children
+        if not name:
+            return self.children
+        else:
+            # else return only those children with a matching tag name
+            elements = []
+            for element in self.children:
+                if element.name == name:
+                    elements.append(element)
+            return elements
+
+    def getSubTree (self, path):
+        '''Path is a list of element names.
+        The last element of the path is returned or None if the element is
+        not found. The first name in path, should match self.name.
+
+        This does not work if there are many children with the same name.
+        '''
+        if self.name != path[0]:
+            return None
+
+        if len (path) == 1:
+            # We're are the last element in the path.
+            return self
+
+        for child in self.children:
+            if child.name == path[1]:
+                return child.getSubTree (path[1:])
+
+        return None
+
+    def __repr__(self):
+        indent = '  ' * self.depth
+        s ='%s[ %s, %s, "%s", {' % (indent, self.name, self.attributes,
+                                      self.cdata)
+        cs = ''
+        for c in self.children:
+            cs += '\n%s' % (c)
+
+        if len (cs):
+            s += '%s\n%s}]' % (cs,indent)
+        else:
+            s += '}]'
+
+        return s
+
+class Xml2Obj:
+    'XML to Object'
+
+    encoding = 'utf-8'
+    
+    def __init__(self):
+        self.root = None
+        self.nodeStack = []
+        
+    def StartElement(self,name,attributes):
+        'SAX start element even handler'
+        # Instantiate an Element object
+        element = Element(name.encode(Xml2Obj.encoding),attributes)
+        
+        # Push element onto the stack and make it a child of parent
+        if len(self.nodeStack) > 0:
+            parent = self.nodeStack[-1]
+            parent.AddChild(element, parent.depth+1)
+        else:
+            self.root = element
+        self.nodeStack.append(element)
+        
+    def EndElement(self,name):
+        'SAX end element event handler'
+        self.nodeStack = self.nodeStack[:-1]
+
+    def CharacterData(self,data):
+        'SAX character data event handler'
+        if string.strip(data):
+            data = data.replace('&', '&amp;')
+            data = data.encode(Xml2Obj.encoding)
+            element = self.nodeStack[-1]
+            element.cdata += data
+            return
+
+    def Parse(self,filename):
+        # Create a SAX parser
+        Parser = expat.ParserCreate()
+
+        # SAX event handlers
+        Parser.StartElementHandler = self.StartElement
+        Parser.EndElementHandler = self.EndElement
+        Parser.CharacterDataHandler = self.CharacterData
+
+        # Parse the XML File
+        ParserStatus = Parser.Parse(open(filename,'r').read(), 1)
+        
+        return self.root
+
+def convert_vect_addr (addr):
+    """Atmel defines vector addresses as 16-bits wide words in the atmel files
+    while avr-libc defines them as byte addresses.
+
+    The incoming addr is a string that looks like this: '$0034'
+
+    We will convert that into a number and store it internally as such.
+    """
+    if addr[0] != '$':
+        raise NotHexNumberErr, addr
+
+    return int (addr[1:], 16) * 2
+
+def print_wrapped (indent, line):
+    ilen = len (indent)
+    llen = len (line)
+    print indent[:-1],
+    if ilen + llen > 78:
+        i = 78 - ilen
+        while i:
+            if line[i] == ' ':
+                print line[:i]
+                print_wrapped (indent+'  ', line[i+1:])
+                break
+            i -= 1
+        else:
+            # Couldn't find a place to wrap before col 78, try to find one
+            # after.
+            i = 79 - ilen
+            while i < llen:
+                if line[i] == ' ':
+                    print line[:i]
+                    print_wrapped (indent+'  ', line[i+1:])
+                    break
+                i += 1
+            else:
+                # Give up and just print the line.
+                print line
+    else:
+        print line
+
+def dump_header (root, depth=0):
+    name = root.getSubTree (['AVRPART', 'ADMIN', 'PART_NAME']).getData()
+    print '<?xml version="1.0"?>'
+    print '<!DOCTYPE device SYSTEM "Device.dtd">'
+    print '<device name="%s">' % (name)
+
+    # Avoid CVS changing ID in python script.
+    print '  <version>%s</version>' % ('$'+'Id$')
+    print '  <description></description>'
+
+def dump_footer (root):
+    print '</device>'
+
+def dump_memory_sizes (root):
+    path = ['AVRPART', 'MEMORY']
+    mem = root.getSubTree (path)
+
+    flash_size = int (mem.getElements ('PROG_FLASH')[0].getData ())
+    eep_size = int (mem.getElements ('EEPROM')[0].getData ())
+
+    isram = mem.getSubTree (['MEMORY', 'INT_SRAM'])
+    isram_size = int (isram.getElements ('SIZE')[0].getData ())
+    isram_start = isram.getElements ('START_ADDR')[0].getData ()[1:]
+
+    xsram = mem.getSubTree (['MEMORY', 'EXT_SRAM'])
+    try:
+        xsram_size = int (xsram.getElements ('SIZE')[0].getData ())
+    except ValueError:
+        # Some XSRAM entries come with just "NA" as the value
+        xsram_size = 0
+    xsram_start = xsram.getElements ('START_ADDR')[0].getData ()[1:]
+
+    print '  <memory_sizes>'
+    print '    <flash_size>0x%x</flash_size>' % (flash_size)
+    print '    <eeprom_size>0x%x</eeprom_size>' % (eep_size)
+    print '    <int_sram_size start_addr="0x%s">0x%x</int_sram_size>' % (
+        isram_start, isram_size)
+    print '    <ext_sram_size start_addr="0x%s">0x%x</ext_sram_size>' % (
+        xsram_start, xsram_size)
+    print '  </memory_sizes>'
+
+def dump_vectors (root, tradnames):
+    """Get the interupt vectors.
+    """
+
+    path = [ 'AVRPART', 'INTERRUPT_VECTOR' ]
+
+    irqs = root.getSubTree (path)
+
+    nvects = int (irqs.getElements ('NMB_VECTORS')[0].getData ())
+
+    vectors = []
+    for i in range (1, nvects+1):
+        try:
+            vect = irqs.getElements ('VECTOR%d' % (i))[0]
+        except IndexError:
+            # some devices have holes in the vector table =:-)
+            vectors.append(())
+            continue
+
+        name = vect.getElements ('SOURCE')[0].getData ()
+        saddr = vect.getElements ('PROGRAM_ADDRESS')[0].getData ()
+        desc = vect.getElements ('DEFINITION')[0].getData ()
+
+        addr = convert_vect_addr (saddr)
+
+        vectors.append ((addr, name, desc))
+
+    # Determine the size of the vector insn from the address of the 2nd vector.
+    insn_size = vectors[1][0]
+
+    print '  <interrupts insn_size="%d" num_vects="%d">' % (insn_size,
+                                                            nvects)
+    n = 0
+    for v in vectors:
+        # we are not really interested in the reset vector
+        if n == 0:
+            n += 1
+            continue
+        try:
+            name = re.sub('[/-]', '', v[1].upper())
+            name = re.sub(',', ' ', name)
+            # The ATmega16HVA file has a silly SPI;STC vector name
+            name = re.sub(';', '_', name)
+            name = re.sub(r'\s+', '_', name)
+            if re.match('^[A-Z0-9_]+$', name):
+                pass
+            else:
+                raise 'Invalid characters in vector name even after substitution', name
+
+            print '    <vector addr="0x%04x" num="%d" name="%s">' % (v[0], n, v[1])
+            print_wrapped ('      ', '<description>%s</description>' % (v[2]))
+            print '      <sig_name>%s_vect</sig_name>' % name
+            for altname in tradnames.Vecname(n):
+                print '      <alt_name>%s</alt_name>' % altname
+            print '    </vector>'
+        except IndexError:
+            # this catches holes in the vector table
+            pass
+        n += 1
+    print '  </interrupts>'
+
+def gather_io_info (root):
+    """
+    The bit information may be spread across multiple IO_MODULES.
+
+    Man that sucks. :-(
+
+    Oh, and it gets worse. They have duplicate bit elements, but the
+    duplicates are not quite complete (see SFIOR in the mega128 file). Now,
+    why couldn't they just list all the register info in a single linear
+    table, then in the modules, just list the registers used by the module and
+    look up the register info in the linear table?
+
+    So what we will do is walk all modules the extract register info and put
+    that info into a dictionary so we can look it up later.
+    """
+    io_reg_info = {}
+
+    path = ['AVRPART', 'IO_MODULE']
+    io_module = root.getSubTree (path)
+
+    # Get the list of all modules.
+    mod_list = io_module.getElements ('MODULE_LIST')[0].getData ()
+    mod_list = mod_list[1:-1].split (':')
+
+    for mod in mod_list:
+        # Get the list of registers for the module.
+        path = ['IO_MODULE', mod, 'LIST']
+        reg_list = io_module.getSubTree (path).getData ()
+        reg_list = reg_list[1:-1].split (':')
+        for reg in reg_list:
+            path[2] = reg
+            element = io_module.getSubTree (path)
+            if io_reg_info.has_key (reg):
+                # NOTE: The ATtiny2313.xml has a bug (There's 2 'ICR1H'
+                # entries in the reg list) that causes the following for loop
+                # to go infinite. Argh! Removing the extra entry seems to get
+                # things working again.
+                for child in element.getElements ():
+                    io_reg_info[reg].AddChild (child, element.depth+1)
+            else:
+                io_reg_info[reg] = element
+
+    return io_reg_info
+
+def dump_ioregs (root):
+    path = ['AVRPART', 'MEMORY', 'IO_MEMORY']
+    io_mem = root.getSubTree (path)
+    ioregs = io_mem.getElements ()
+
+    ioreg_info_dict = gather_io_info (root)
+
+    print '  <ioregisters>'
+
+    # Skip the first 6 elements since they are just give start and stop
+    # addresses.
+
+    for ioreg in ioregs[6:]:
+        name = ioreg.name
+        try:
+            reg_info = ioreg_info_dict[name]
+            try:
+                reg_desc = reg_info.getElements ('DESCRIPTION')[0].getData ()
+            except IndexError:
+                reg_desc = ''
+        except KeyError:
+            reg_info = None
+            reg_desc = ''
+
+        addr = ioreg.getElements ('IO_ADDR')[0].getData ()
+        try:
+            if addr[0] == '$':
+                addr = '0x' + addr[1:]
+            if addr == "NA":
+                addr = ioreg.getElements ('MEM_ADDR')[0].getData ()
+            else:
+                # Add 0x20 so all addresses are memory mapped.
+                addr = '0x%02x' % (int (addr, 16) + 0x20)
+
+            print '    <ioreg name="%s" addr="%s">' % (name, addr)
+            print_wrapped ('      ','<description>%s</description>' % (reg_desc))
+            print '      <alt_name></alt_name>'
+            for i in range (8):
+                if reg_info is None:
+                    continue
+                bit = 'BIT%d' % (i)
+                bit_el = reg_info.getSubTree ([name, bit])
+                if bit_el is None:
+                    continue
+                bit_name = bit_el.getElements ('NAME')[0].getData ()
+                try:
+                    bit_desc = bit_el.getElements ('DESCRIPTION')[0].getData ()
+                except IndexError:
+                    bit_desc = ''
+                try:
+                    bit_access = bit_el.getElements ('ACCESS')[0].getData ()
+                except IndexError:
+                    bit_access = 'FIXME!'
+                bit_init_val = bit_el.getElements ('INIT_VAL')[0].getData ()
+                print '      <bit_field name="%s"' % (bit_name),
+                print 'bit="%d"' % (i),
+                print 'access="%s"' % (bit_access),
+                print 'init="%s">' % (bit_init_val)
+                if bit_desc:
+                    print_wrapped ('        ',
+                                   '<description>%s</description>' % (bit_desc))
+                print '        <alt_name></alt_name>'
+                print '      </bit_field>'
+            print '    </ioreg>'
+        except IndexError:  # empty register declaration
+            pass
+
+    print '  </ioregisters>'
+
+def dump_boot_info (root):
+    path = ['AVRPART', 'MEMORY', 'BOOT_CONFIG']
+
+    info = root.getSubTree (path)
+    if info:
+        # The device has bootloader support.
+        try:
+            data = info.getElements ('NRWW_START_ADDR')[0].getData ()
+            if data[0] == '$':
+                data = '0x' + data[1:]
+            if data == 'x':
+                nrww_start = ''
+            else:
+                nrww_start = ' nrww_start="0x%x"' % (int (data, 16))
+        except IndexError:
+            nrww_start = ''
+
+        try:
+            data = info.getElements ('NRWW_STOP_ADDR')[0].getData ()
+            if data[0] == '$':
+                data = '0x' + data[1:]
+            if data == 'x':
+                nrww_end = ''
+            else:
+                nrww_end = ' nrww_end="0x%x"' % (int (data, 16))
+        except IndexError:
+            nrww_end = ''
+
+        try:
+            data = info.getElements ('RWW_START_ADDR')[0].getData ()
+            if data[0] == '$':
+                data = '0x' + data[1:]
+            try:
+                rww_start = ' rww_start="0x%x"' % (int (data, 16))
+            except ValueError:
+                rww_start = ''
+        except IndexError:
+            rww_start = ''
+
+        try:
+            data = info.getElements ('RWW_STOP_ADDR')[0].getData ()
+            if data[0] == '$':
+                data = '0x' + data[1:]
+            try:
+                rww_end = ' rww_end="0x%x"' % (int (data, 16))
+            except ValueError:
+                rww_end = ''
+        except IndexError:
+            rww_end = ''
+
+        # The Atmel files give the pagesize in words, we need it in bytes.
+
+        pagesize = 'pagesize="%d"' % ( \
+            2 * int (info.getElements ('PAGESIZE')[0].getData ()))
+
+        rww = '%s%s' % (rww_start, rww_end)
+        nrww = '%s%s' % (nrww_start, nrww_end)
+        print '  <bootloader %s%s%s>' % (pagesize, rww, nrww)
+
+        for i in range (8):
+            try:
+                mode = info.getElements ('BOOTSZMODE%d' % (i))[0]
+            except IndexError:
+                continue
+
+            data = mode.getElements ('PAGES')[0].getData ()
+            if data == 'x':
+                data = 'FIXME!'
+            pages = 'pages="%s"' % (data)
+
+            data = mode.getElements ('BOOTSTART')[0].getData ()
+            if data[0] == '$':
+                data = '0x' + data[1:]
+            if data == 'x':
+                start = 'start="FIXME: Broken xml from Atmel!"'
+            else:
+                start = 'start="0x%x"' % (int (data,16))
+
+            print '    <mode num="%d" %s %s />' % (i, pages, start)
+
+        print '  </bootloader>'
+
+class HeaderToVec:
+    'Parse header file for traditional vector names'
+
+    def __init__(self):
+        self.vects = {}
+
+    def Read(self, fname):
+        'Read header file'
+        f = open(fname)
+        r = re.compile(r'#\s*define\s+(SIG_[A-Z0-9_]+)\s+_VECTOR[(](\d+)[)]')
+        for line in f:
+            m = r.match(line)
+            if m != None:
+                intno = int(m.group(2))
+                try:
+                    x = self.vects[intno]
+                except KeyError:
+                    x = []
+                x.append(m.group(1))
+                self.vects[intno] = x
+        f.close()
+
+    def Vecname(self, idx):
+        try:
+            return self.vects[idx]
+        except KeyError:
+            return ''
+
+
+if __name__ == '__main__':
+    import sys
+
+    parser = Xml2Obj()
+    root = parser.Parse(sys.argv[1])
+
+    tradheader = HeaderToVec()
+    tradheader.Read(sys.argv[2])
+
+    dump_header (root)
+    dump_memory_sizes (root)
+    dump_vectors (root, tradheader)
+    dump_ioregs (root)
+    dump_boot_info (root)
+    dump_footer (root)
diff --git a/xml/Descparser.py b/xml/Descparser.py
new file mode 100755
index 0000000..86322cc
--- /dev/null
+++ b/xml/Descparser.py
@@ -0,0 +1,255 @@
+#! /usr/bin/env python
+#
+# Copyright (c) 2004  Theodore A. Roth
+# All rights reserved.
+#
+# Redistribution and use in source and binary forms, with or without
+# modification, are permitted provided that the following conditions are met:
+#
+# * Redistributions of source code must retain the above copyright
+#   notice, this list of conditions and the following disclaimer.
+#
+# * Redistributions in binary form must reproduce the above copyright
+#   notice, this list of conditions and the following disclaimer in
+#   the documentation and/or other materials provided with the
+#   distribution.
+#
+# * Neither the name of the copyright holders nor the names of
+#   contributors may be used to endorse or promote products derived
+#   from this software without specific prior written permission.
+#
+# THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+# AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+# IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+# ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+# LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+# CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+# SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+# INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+# CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+# ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+# POSSIBILITY OF SUCH DAMAGE.
+#
+# $Id$
+#
+
+import os, sys, types
+
+from xml.sax import make_parser
+from xml.sax.handler import ContentHandler
+
+class XML_Mixin:
+    children = {}
+    def __init__ (self, attrs):
+        self.xml_members = []
+        for name in attrs.getNames ():
+            if attrs.getType (name) == 'CDATA':
+                self.xml_members.append (name)
+                setattr (self, name, attrs.getValue (name))
+        self.data = ''
+
+    def create_child (self, name, attrs):
+        return self.children[name] (attrs)
+
+    def add_child (self, name, obj):
+        self.xml_members.append (name)
+        setattr (self, name, obj)
+
+    def characters (self, ch):
+        self.data += ch
+
+    def __str__ (self):
+        s = '[ data = "%s"; ' % (self.data)
+        for member in self.xml_members:
+            s += '%s = %s; ' % (member, str (getattr (self, member)))
+        s += ']\n'
+        return s
+
+class PCData (XML_Mixin):
+    def __repr__ (self):
+        return '"%s"' % (self.data)
+
+class MemorySizes (XML_Mixin):
+    children = {
+        'flash_size': PCData,
+        'eeprom_size': PCData,
+        'int_sram_size': PCData,
+        'ext_sram_size': PCData
+        }
+
+class Vector (XML_Mixin):
+    children = {
+        'description': PCData,
+        'sig_name': PCData,
+        'alt_name': PCData
+        }
+    def add_child (self, name, obj):
+        if name == "alt_name":
+            try:
+                x = getattr (self, name)
+                x.data.append(obj.data)
+                setattr (self, name, x)
+            except AttributeError:
+                x = obj.data
+                obj.data = [x]
+                self.xml_members.append (name)
+                setattr (self, name, obj)
+        else:
+            self.xml_members.append (name)
+            setattr (self, name, obj)
+
+
+class Interrupts (dict, XML_Mixin):
+    children = {
+        'vector': Vector
+        }
+
+    def __init__ (self, attrs):
+        dict.__init__ (self)
+        XML_Mixin.__init__ (self, attrs)
+
+    def add_child (self, name, obj):
+        # Use the Vector 'num' attr as the key for the child object.
+        if self.has_key (obj.num):
+            raise 'Duplicate vector entry', obj
+        self[obj.num] = obj
+
+class BitField (XML_Mixin):
+    children = {
+        'description': PCData,
+        'alt_name': PCData
+        }
+
+class IORegister (XML_Mixin):
+    children = {
+        'description': PCData,
+        'alt_name': PCData,
+        'bit_field': BitField,
+        }
+
+    def add_child (self, name, obj):
+        if name == 'bit_field':
+            if not hasattr (self, name):
+                setattr (self, name, {})
+            # Use the BitField 'bit' attr as the key for the child object.
+            self.bit_field[obj.bit] = obj
+        else:
+            XML_Mixin.add_child (self, name, obj)
+
+class IORegisterDict (dict, XML_Mixin):
+    children = {
+        'ioreg': IORegister
+        }
+
+    def __init__ (self, attrs):
+        dict.__init__ (self)
+        XML_Mixin.__init__ (self, attrs)
+
+    def add_child (self, name, obj):
+        # Use the IORegister 'name' attr as the key for the child object.
+        if self.has_key (obj.name):
+            raise 'Duplicate io register entry', obj
+        self[obj.name] = obj
+
+class BootMode (XML_Mixin):
+    pass
+
+class BootLoader (dict, XML_Mixin):
+    children = {
+        'mode': BootMode
+        }
+
+    def __init__ (self, attrs):
+        dict.__init__ (self)
+        XML_Mixin.__init__ (self, attrs)
+
+    def add_child (self, name, obj):
+        # Use the BootMode 'num' attr as the key for the child object.
+        if self.has_key (obj.num):
+            raise 'Duplicate boot mode entry', obj
+
+        self[obj.num] = obj
+
+class Device (XML_Mixin):
+    children = {
+        'version': PCData,
+        'description': PCData,
+        'memory_sizes': MemorySizes,
+        'interrupts': Interrupts,
+        'ioregisters': IORegisterDict,
+        'bootloader': BootLoader
+        }
+
+class DescHandler (ContentHandler):
+    """Content Handler for the device description xml files.
+    """
+
+    def __init__ (self):
+        self.depth = 0
+        self.stack = []
+
+    def push (self, name, obj):
+        self.stack.append ([name, obj])
+
+    def pop (self):
+        return self.stack.pop ()
+
+    def get_curr_obj (self):
+        return self.stack[-1][1]
+
+    def startElement (self, name, attrs):
+        if self.depth == 0:
+            obj = Device (attrs)
+            self.dev = obj
+        else:
+            # Look up the elements class in the parent's children dict.
+            parent = self.get_curr_obj ()
+            obj = parent.create_child (name, attrs)
+
+        self.push (name, obj)
+        self.depth += 1
+
+    def endElement (self, name):
+        self.depth -= 1
+
+        # Pull the current element off the stack and add it to the parent.
+        (cname, cobj) = self.pop ()
+
+        cobj.data = ' '.join (cobj.data.split ())
+
+        try:
+            parent = self.get_curr_obj ()
+            parent.add_child (cname, cobj)
+        except IndexError:
+            # We're back at the root element, so we're done.
+            pass
+
+        #print '%s%s %s' % ('  '*self.depth, cname, cobj)
+
+    def characters (self, ch):
+        self.get_curr_obj().characters (ch)
+
+    def endDocument (self):
+        #print self.dev
+        pass
+
+if __name__ == '__main__':
+    parser = make_parser ()
+
+    handler = DescHandler ()
+    parser.setContentHandler (handler)
+
+    if len(sys.argv) > 1:
+        parser.parse (open (sys.argv[1]))
+    else:
+        parser.parse (open ('desc-90s1200.xml'))
+
+    l = parser.getContentHandler().dev.interrupts.keys()
+    l.sort(lambda x, y: cmp(int(x), int(y)))
+    for key in l:
+        ele = parser.getContentHandler().dev.interrupts[key]
+        print "/* " + ele.description.data + " */"
+        print "#define " + ele.sig_name.data + "\t_VECTOR(" + key + ")"
+        for x in ele.alt_name.data:
+            print "#define " + x + "\t_VECTOR(" + key + ")"
+        print ""
diff --git a/xml/Device.dtd b/xml/Device.dtd
new file mode 100644
index 0000000..e853511
--- /dev/null
+++ b/xml/Device.dtd
@@ -0,0 +1,148 @@
+<!--
+Copyright (c) 2004, Theodore A. Roth
+All rights reserved.
+
+Redistribution and use in source and binary forms, with or without
+modification, are permitted provided that the following conditions are met:
+
+* Redistributions of source code must retain the above copyright
+  notice, this list of conditions and the following disclaimer.
+
+* Redistributions in binary form must reproduce the above copyright
+  notice, this list of conditions and the following disclaimer in
+  the documentation and/or other materials provided with the
+  distribution.
+
+* Neither the name of the copyright holders nor the names of
+  contributors may be used to endorse or promote products derived
+  from this software without specific prior written permission.
+
+THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+POSSIBILITY OF SUCH DAMAGE.
+-->
+
+<!-- $Id$ -->
+
+<!--
+
+This file provides a Document Type Definition (DTD) for XML data files which
+describe everything thing we need to generate the <avr/io*.h> header files.
+
+Although ATMEL supplies XML device files already with AvrStudio >= 4.x, they
+contain far more data than we need. In addition, there is information that we
+need which they do not provide. Also, it may not be legal for us to include
+those files with avr-libc.
+
+I have written a python program (Atmel2libc.py) which will read ATMEL's XML
+files and spit out a file which will validate against this DTD so that we can
+leverage the data in those files. We will still have to manually add some data
+to our generated xml files before we can use them to generate our headers.
+
+-->
+
+<!ELEMENT device (
+    version,
+    description?,
+    memory_sizes,
+    interrupts,
+    ioregisters,
+    bootloader?
+)>
+    <!ATTLIST device
+        name CDATA #REQUIRED
+    >
+
+    <!ELEMENT version (#PCDATA)>
+    <!ELEMENT description (#PCDATA)>
+
+    <!ELEMENT memory_sizes (
+        flash_size,
+        eeprom_size,
+        int_sram_size,
+        ext_sram_size
+    )>
+        <!ELEMENT flash_size (#PCDATA)>
+        <!ELEMENT eeprom_size (#PCDATA)>
+        <!ELEMENT int_sram_size (#PCDATA)>
+            <!ATTLIST int_sram_size start_addr CDATA #REQUIRED>
+        <!ELEMENT ext_sram_size (#PCDATA)>
+            <!ATTLIST ext_sram_size start_addr CDATA #REQUIRED>
+
+    <!ELEMENT interrupts (vector+)>
+        <!-- insn_size in bytes -->
+        <!ATTLIST interrupts
+            insn_size (2 | 4) #REQUIRED
+            num_vects CDATA #REQUIRED
+        >
+        <!ELEMENT vector (
+            description?,
+            sig_name,
+	    alt_name*
+        )>
+            <!ATTLIST vector
+                addr CDATA #REQUIRED
+                num CDATA #REQUIRED
+                name CDATA #REQUIRED
+            >
+            <!ELEMENT sig_name (#PCDATA)>
+
+    <!ELEMENT ioregisters (ioreg+)>
+    <!ELEMENT ioreg (
+        description?,
+        alt_name*,
+        bit_field*
+    )>
+        <!ATTLIST ioreg
+            name CDATA #REQUIRED
+            addr CDATA #REQUIRED
+        >
+
+        <!ELEMENT alt_name (#PCDATA)>
+
+        <!ELEMENT bit_field (
+            description?,
+            alt_name*
+        )>
+            <!ATTLIST bit_field
+                name CDATA #REQUIRED
+                bit CDATA #REQUIRED
+                access CDATA #REQUIRED
+                init CDATA #REQUIRED
+            >
+
+    <!-- If the is no bootloader element in the XML file, the device does not
+         have bootloader support. -->
+
+    <!-- The pagesize value is in bytes. Atmel's datasheets give it in
+         words. -->
+
+    <!-- Some recent ATtiny devices have boot loader support, but only
+         have non-read while write (NRWW) behaviour throughout the
+         entire flash, and no separate bootloader area.  So do not
+         insist on getting mode elements. -->
+    <!ELEMENT bootloader (mode*)>
+        <!ATTLIST bootloader
+            pagesize CDATA #REQUIRED
+            rww_start CDATA #IMPLIED
+            rww_end CDATA #IMPLIED
+            nrww_start CDATA #IMPLIED
+            nrww_end CDATA #IMPLIED
+        >
+
+        <!-- The boot mode size is (pagesize * pages). -->
+
+        <!ELEMENT mode EMPTY>
+            <!ATTLIST mode
+                num CDATA #REQUIRED
+                pages CDATA #REQUIRED
+                start CDATA #REQUIRED
+            >
diff --git a/xml/Validate.py b/xml/Validate.py
new file mode 100755
index 0000000..b7ec36d
--- /dev/null
+++ b/xml/Validate.py
@@ -0,0 +1,56 @@
+#! /usr/bin/env python
+#
+# Copyright (c) 2004  Theodore A. Roth
+# All rights reserved.
+#
+# Redistribution and use in source and binary forms, with or without
+# modification, are permitted provided that the following conditions are met:
+#
+# * Redistributions of source code must retain the above copyright
+#   notice, this list of conditions and the following disclaimer.
+#
+# * Redistributions in binary form must reproduce the above copyright
+#   notice, this list of conditions and the following disclaimer in
+#   the documentation and/or other materials provided with the
+#   distribution.
+#
+# * Neither the name of the copyright holders nor the names of
+#   contributors may be used to endorse or promote products derived
+#   from this software without specific prior written permission.
+#
+# THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+# AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+# IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+# ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+# LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+# CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+# SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+# INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+# CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+# ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+# POSSIBILITY OF SUCH DAMAGE.
+#
+# $Id$
+#
+
+#
+# Simple script for validating xml files.
+#
+# Usage: ./Validate.py foo.xml bar.xml ...
+#
+
+import os
+import sys
+import glob
+
+from xml.parsers.xmlproc import xmlval
+from xml.parsers.xmlproc.utils import ErrorPrinter
+
+for arg in sys.argv[1:]:
+    for filename in glob.glob (arg):
+        print 'Validating %s' % (arg)
+
+        parser = xmlval.XMLValidator()
+        parser.set_error_handler(ErrorPrinter(parser, out=sys.stdout))
+
+        parser.parse_resource (arg)
diff --git a/xml/avrgcc-header b/xml/avrgcc-header
new file mode 100755
index 0000000..ed40408
--- /dev/null
+++ b/xml/avrgcc-header
@@ -0,0 +1,1354 @@
+#! /bin/sh
+# Copyright (c) 2008 Atmel Corporation
+#   All rights reserved.
+#
+#   Redistribution and use in source and binary forms, with or without
+#   modification, are permitted provided that the following conditions are met:
+#
+#   * Redistributions of source code must retain the above copyright
+#     notice, this list of conditions and the following disclaimer.
+#
+#   * Redistributions in binary form must reproduce the above copyright
+#     notice, this list of conditions and the following disclaimer in
+#     the documentation and/or other materials provided with the
+#     distribution.
+#
+#   * Neither the name of the copyright holders nor the names of
+#     contributors may be used to endorse or promote products derived
+#     from this software without specific prior written permission.
+#
+#  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+#  AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+#  IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+#  ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+#  LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+#  CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+#  SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+#  INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+#  CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+#  ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+#  POSSIBILITY OF SUCH DAMAGE.
+
+# $Id$
+
+# Convert Atmel XML Device file to AVR GCC I/O header file.
+# Needs: xmlstarlet (executable: xml), sed, grep, uniq, mv, rm, echo, sort.
+
+usage() {
+cat << EOF
+usage: $0 -d <xml device file> -h <io header file> [-x]
+    -d <xml device file>    XML Device File (Input)
+    -h <io header file>     I/O Header File (Output). 
+                            If file exists, it will be overwritten.
+    -x                      Optional XMEGA header file output
+EOF
+}
+
+
+abort() {
+    echo $@
+    exec /bin/false
+}
+
+
+# Get options
+devicefile=
+headerfile=
+xmega=
+while test $# -gt 0
+do
+    case "$1" in
+    -d) devicefile="$2"; shift;;
+    -h) headerfile="$2"; shift;;
+    -x) xmega="1";;
+    --)	shift; break;;
+    -*) usage; exit 1;;
+     *) break;;         # terminate while loop
+    esac
+    shift
+done
+# all command line switches are processed,
+
+
+# Test parameters.
+if test "$devicefile" = ""; then
+    usage
+    abort "Error: No device file specified."
+fi
+if test "$headerfile" = ""; then 
+    usage
+    abort "Error: No header file specified."
+fi
+
+
+set -x
+
+
+if test -e "$headerfile"; then rm "$headerfile"; fi
+
+
+# Header
+#-------------------
+
+# Get device name.
+DEVICE=$(xml sel -T -t -v /AVRPART/ADMIN/PART_NAME $devicefile)
+
+# todo: upper-case function not found. Use this value in idempotent guard.
+#DEVICEUPPER=$(xml sel -T -t -v "upper-case(/AVRPART/ADMIN/PART_NAME)" $devicefile)
+
+# Get the current year to place in copyright statement.
+YEAR=$(date --rfc-3339=date | cut -d '-' -f 1)
+
+cat << eof > $headerfile
+/* Copyright (c) $YEAR Atmel Corporation
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+  AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+  IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+  ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+  LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+  CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+  SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+  INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+  CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+  ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+  POSSIBILITY OF SUCH DAMAGE. */
+
+/* \$Id\$ */
+
+/* avr/$headerfile - definitions for ${DEVICE} */
+
+/* This file should only be included from <avr/io.h>, never directly. */
+
+#ifndef _AVR_IO_H_
+#  error "Include <avr/io.h> instead of this file."
+#endif
+
+#ifndef _AVR_IOXXX_H_
+#  define _AVR_IOXXX_H_ "$headerfile"
+#else
+#  error "Attempt to include more than one <avr/ioXXX.h> file."
+#endif 
+
+
+#ifndef _AVR_${DEVICE}_H_
+#define _AVR_${DEVICE}_H_ 1
+
+
+eof
+
+
+
+if test -n "$xmega" ; then
+
+# XMEGA AVR
+#==================
+
+
+# Build IO groups temporary XML file
+#------------------------------------
+if test -e $headerfile-iogroups.xml; then
+    rm -f $headerfile-iogroups.xml
+fi
+
+# Get set of register group names.
+GROUP_NAMES=$(xml sel -T -t -m /AVRPART/V2/modules/module/registers -s "A:T:-" "@offset" -v "concat(@name,' ')" $devicefile)
+
+# Create base iogroups temporary xml file.
+echo "<AVRPART>" | sed "s,>,>\r,g" >> $headerfile-iogroups.xml
+for i in $GROUP_NAMES ; do \
+    xml sel -t -m '/AVRPART/V2/modules/module/registers[@name='\'${i}\'']' -c . $devicefile | sed s,registers,group,g | sed "s,/>,>,g" >> $headerfile-iogroups.xml
+    TYPE=$(xml sel -T -t -m '/AVRPART/V2/modules/module/registers[@name='\'${i}\'']' -v "@implements" $devicefile)
+    xml sel -t -m '/AVRPART/V2/templates/module/registers[@name='\'${TYPE}\'']' -c . $devicefile >> $headerfile-iogroups.xml
+    echo "</group>" | sed "s,>,>\r,g" >> $headerfile-iogroups.xml
+done
+echo "</AVRPART>" | sed "s,>,>\r,g" >> $headerfile-iogroups.xml
+
+# Make all groups have consistent width of offset address.
+for i in $GROUP_NAMES ; do \
+    value=$(printf "0x%04X" $(xml sel -T -t -m '/AVRPART/group[@name='\'${i}\'']' -v "@offset" $headerfile-iogroups.xml))
+    xml ed -O -u '/AVRPART/group[@name='\'${i}\'']/@offset' -v "$value" $headerfile-iogroups.xml > $headerfile-temp.xml
+    mv -f $headerfile-temp.xml $headerfile-iogroups.xml
+done
+
+# Re-sort iogroups temporary XML file.
+xml sel -t -e AVRPART -m "/AVRPART/group" -s "A:T:-" "@offset" -c . $headerfile-iogroups.xml > $headerfile-temp.xml
+mv -f $headerfile-temp.xml $headerfile-iogroups.xml
+
+# Re-get set of register group names.
+GROUP_NAMES=$(xml sel -T -t -m /AVRPART/group -s "A:T:-" "@offset" -v "concat(@name,' ')" $headerfile-iogroups.xml)
+
+# Add absolute address to registers.
+for i in $GROUP_NAMES ; do \
+    GROUP_OFFSET=$(xml sel -T -t -m '/AVRPART/group[@name='\'${i}\'']' -v "@offset" $headerfile-iogroups.xml)
+    REG_NAMES=$(xml sel -T -t -m '/AVRPART/group[@name='\'${i}\'']/registers/child::*' -v "concat(@name,' ')" $headerfile-iogroups.xml)
+    for j in $REG_NAMES ; do \
+        value=$(printf "0x%04X" $(($GROUP_OFFSET + $(xml sel -T -t -m '/AVRPART/group[@name='\'${i}\'']/registers/child::*[@name='\'${j}\'']' -v "@offset" $headerfile-iogroups.xml))))
+        xml ed -O -a '/AVRPART/group[@name='\'${i}\'']/registers/child::*[@name='\'${j}\'']' -t attr -n "address" -v "$value" $headerfile-iogroups.xml > $headerfile-temp.xml
+        mv -f $headerfile-temp.xml $headerfile-iogroups.xml
+    done
+done
+
+
+
+# XMEGA Global Registers
+#---------------------------
+echo "/* Ungrouped common registers */" >> $headerfile
+for i in $GROUP_NAMES ; do
+    REGISTERS=$(xml sel -T -t -m '/AVRPART/group[@name='\'${i}\'']/registers[@globalregs='\'true\'']' -v "concat(@name,' ')" $headerfile-iogroups.xml)
+    for j in $REGISTERS ; do
+        REG_OFFSETS=$(xml sel -T -t -m '/AVRPART/group[@name='\'${i}\'']/registers[@globalregs='\'true\''][@name='\'${j}\'']/child::*' -v "concat(@offset,' ')" $headerfile-iogroups.xml | sort)
+        for k in $REG_OFFSETS ; do
+            REG_NAME=$(xml sel -T -t -m '/AVRPART/group[@name='\'${i}\'']/registers[@globalregs='\'true\''][@name='\'${j}\'']/child::*[@offset='\'${k}\'']' -v "@name" $headerfile-iogroups.xml)
+            if test -n "$REG_NAME" ; then
+                REG_SIZE=$(xml sel -T -t -m '/AVRPART/group[@name='\'${i}\'']/registers[@name='\'${j}\'']/child::*[@offset='\'${k}\'']' -v "@size" $headerfile-iogroups.xml)
+                REG_ADDRESS=$(xml sel -T -t -m '/AVRPART/group[@name='\'${i}\'']/registers[@name='\'${j}\'']/child::*[@offset='\'${k}\'']' -v "@address" $headerfile-iogroups.xml)
+                REG_TEXT=$(xml sel -T -t -m '/AVRPART/group[@name='\'${i}\'']/registers[@name='\'${j}\'']/child::*[@offset='\'${k}\'']' -v "@text" $headerfile-iogroups.xml)
+                if test -n "$REG_SIZE" ; then
+                    if test "$REG_SIZE" = "1" ; then
+                        echo "#define ${REG_NAME}  _SFR_MEM8(${REG_ADDRESS})  /* ${REG_TEXT} */" >> $headerfile
+                    fi
+                    if test "$REG_SIZE" = "2" ; then
+                        echo "#define ${REG_NAME}  _SFR_MEM16(${REG_ADDRESS})  /* ${REG_TEXT} */" >> $headerfile
+                    fi
+                fi
+            fi
+        done
+        echo "" >> $headerfile
+    done
+done
+echo "" >> $headerfile
+
+
+
+# XMEGA types
+#-----------------
+cat << eof >> $headerfile
+/* C Language Only */
+#if !defined (__ASSEMBLER__)
+
+#include <stdint.h>
+
+typedef volatile uint8_t register8_t;
+typedef volatile uint16_t register16_t;
+typedef volatile uint32_t register32_t;
+
+
+#ifdef _WORDREGISTER
+#undef _WORDREGISTER
+#endif
+#define _WORDREGISTER(regname)   \\
+    __extension__ union \\
+    { \\
+        register16_t regname; \\
+        struct \\
+        { \\
+            register8_t regname ## L; \\
+            register8_t regname ## H; \\
+        }; \\
+    }
+
+#ifdef _DWORDREGISTER
+#undef _DWORDREGISTER
+#endif
+#define _DWORDREGISTER(regname)  \\
+    __extension__ union \\
+    { \\
+        register32_t regname; \\
+        struct \\
+        { \\
+            register8_t regname ## 0; \\
+            register8_t regname ## 1; \\
+            register8_t regname ## 2; \\
+            register8_t regname ## 3; \\
+        }; \\
+    }
+
+
+eof
+
+
+# XMEGA Register and Enumerator Structures
+#-----------------------------------------
+
+echo "/*" >> $headerfile
+echo "==========================================================================" >> $headerfile
+echo "IO Module Structures" >> $headerfile
+echo "==========================================================================" >> $headerfile
+echo "*/" >> $headerfile
+echo "" >> $headerfile
+
+MODULES=$(xml sel -T -t -m "/AVRPART/V2/templates/module" -v "concat(@class,' ')" $devicefile)
+for i in $MODULES ; do
+    MODULE_TEXT=$(xml sel -T -t -m '/AVRPART/V2/templates/module[@class='\'${i}\'']' -v "@text" $devicefile)
+    
+    # Generate register structures.
+    REGISTERS=$(xml sel -T -t -m '/AVRPART/V2/templates/module[@class='\'${i}\'']/registers' -v "concat(@name,' ')" $devicefile)
+    for j in $REGISTERS ; do
+        GLOBALREGS=$(xml sel -T -t -m '/AVRPART/V2/templates/module[@class='\'${i}\'']/registers[@name='\'${j}\'']' -v "@globalregs" $devicefile)
+        
+        if test "$GLOBALREGS" != "true" ; then
+
+            echo "/*" >> $headerfile
+            echo "--------------------------------------------------------------------------" >> $headerfile
+            echo "$i - $MODULE_TEXT" >> $headerfile
+            echo "--------------------------------------------------------------------------" >> $headerfile
+            echo "*/" >> $headerfile
+            echo "" >> $headerfile
+
+            REGISTERS_TEXT=$(xml sel -T -t -m '/AVRPART/V2/templates/module[@class='\'${i}\'']/registers[@name='\'${j}\'']' -v "@text" $devicefile)
+            echo "/* ${REGISTERS_TEXT} */" >> $headerfile
+            echo "typedef struct ${j}_struct" >> $headerfile
+            echo "{" >> $headerfile
+            
+            REG_OFFSETS=$(xml sel -T -t -m '/AVRPART/V2/templates/module[@class='\'${i}\'']/registers[@name='\'${j}\'']/child::*' -v "concat(@offset,' ')" $devicefile | sort)
+            for k in $REG_OFFSETS ; do
+                REG_NAME=$(xml sel -T -t -m '/AVRPART/V2/templates/module[@class='\'${i}\'']/registers[@name='\'${j}\'']/child::*[@offset='\'${k}\'']' -v "@name" $devicefile)
+                REG_TEXT=$(xml sel -T -t -m '/AVRPART/V2/templates/module[@class='\'${i}\'']/registers[@name='\'${j}\'']/child::*[@offset='\'${k}\'']' -v "@text" $devicefile)
+                REG_SIZE=$(xml sel -T -t -m '/AVRPART/V2/templates/module[@class='\'${i}\'']/registers[@name='\'${j}\'']/child::*[@offset='\'${k}\'']' -v "@size" $devicefile)
+                
+                if test -z "$REG_NAME" ; then
+                    echo "    register8_t reserved_${k};" >> $headerfile
+                else
+                    if test -n "$REG_SIZE" ; then
+                        if test "$REG_SIZE" = "1" ; then
+                            echo "    register8_t ${REG_NAME};  /* ${REG_TEXT} */" >> $headerfile
+                        elif test "$REG_SIZE" = "2" ; then
+                            echo "    _WORDREGISTER(${REG_NAME});  /* ${REG_TEXT} */" >> $headerfile
+                        fi
+                    else
+                        REG_IMPLEMENTS=$(xml sel -T -t -m '/AVRPART/V2/templates/module[@class='\'${i}\'']/registers[@name='\'${j}\'']/child::*[@offset='\'${k}\'']' -v "@implements" $devicefile)
+                        echo "    ${REG_IMPLEMENTS}_t ${REG_NAME};  /* ${REG_TEXT} */" >> $headerfile
+                    fi
+                fi
+            done
+
+            echo "} ${j}_t;" >> $headerfile
+            echo "" >> $headerfile
+
+        fi
+    done
+    
+    # Generate enumerator structures.
+    ENUMERATORS=$(xml sel -T -t -m '/AVRPART/V2/templates/module[@class='\'${i}\'']/enumerator' -v "concat(@name,' ')" $devicefile)
+    for j in $ENUMERATORS ; do
+        ENUMERATOR_TEXT=$(xml sel -T -t -m '/AVRPART/V2/templates/module[@class='\'${i}\'']/enumerator[@name='\'${j}\'']' -v "@text" $devicefile)
+        echo "/* ${ENUMERATOR_TEXT} */" >> $headerfile
+        echo "typedef enum ${j}_enum" >> $headerfile
+        echo "{" >> $headerfile
+        
+        # Get enum shift value from bitfield data in a different part of the V2 data.
+        ENUM_SHIFT=
+        for m in $REGISTERS ; do
+            REG_OFFSETS=$(xml sel -T -t -m '/AVRPART/V2/templates/module[@class='\'${i}\'']/registers[@name='\'${m}\'']/child::*' -v "concat(@offset,' ')" $devicefile | sort)
+            for n in $REG_OFFSETS ; do
+                BITFIELD_NAMES=$(xml sel -T -t -m '/AVRPART/V2/templates/module[@class='\'${i}\'']/registers[@name='\'${m}\'']/child::*[@offset='\'${n}\'']/bitfield' -v "concat(@name,' ')" $devicefile)
+                for p in $BITFIELD_NAMES ; do
+                    BITFIELD_ENUM=$(xml sel -T -t -m '/AVRPART/V2/templates/module[@class='\'${i}\'']/registers[@name='\'${m}\'']/child::*[@offset='\'${n}\'']/bitfield[@name='\'${p}\'']' -v "@enum" $devicefile)
+                    if test "$BITFIELD_ENUM" = "$j" ; then
+                        
+                        # The enum shift value is equal to the number of lsb 0 bits 
+                        # in the mask value of the bitfield that has a matching enum name.
+                        ENUM_SHIFT=$(xml sel -T -t -m '/AVRPART/V2/templates/module[@class='\'${i}\'']/registers[@name='\'${m}\'']/child::*[@offset='\'${n}\'']/bitfield[@name='\'${p}\'']' \
+                            -v "@mask" $devicefile | \
+                            sed "s,0x.2,1,g" | \
+                            sed "s,0x.4,2,g" | \
+                            sed "s,0x.6,1,g" | \
+                            sed "s,0x.8,3,g" | \
+                            sed "s,0x.C,2,g" | \
+                            sed "s,0x.E,1,g" | \
+                            sed "s,0x10,4,g" | \
+                            sed "s,0x30,4,g" | \
+                            sed "s,0x70,4,g" | \
+                            sed "s,0xF0,4,g" | \
+                            sed "s,0x20,5,g" | \
+                            sed "s,0x60,5,g" | \
+                            sed "s,0xE0,5,g" | \
+                            sed "s,0x40,6,g" | \
+                            sed "s,0xC0,6,g" | \
+                            sed "s,0x80,7,g" | \
+                            sed "s,0x..,0,g" )
+                        
+                        # Match only the first enum value found so break out.
+                        break 3
+                    fi
+                done
+            done
+        done
+
+        ENUMS=$(xml sel -T -t -m '/AVRPART/V2/templates/module[@class='\'${i}\'']/enumerator[@name='\'${j}\'']/enum' -v "concat(@name,' ')" $devicefile)
+        for k in $ENUMS ; do
+            ENUM_VALUE=$(xml sel -T -t -m '/AVRPART/V2/templates/module[@class='\'${i}\'']/enumerator[@name='\'${j}\'']/enum[@name='\'${k}\'']' -v "@val" $devicefile)
+            ENUM_TEXT=$(xml sel -T -t -m '/AVRPART/V2/templates/module[@class='\'${i}\'']/enumerator[@name='\'${j}\'']/enum[@name='\'${k}\'']' -v "@text" $devicefile)
+            echo "    ${j}_${k}_gc = (${ENUM_VALUE}<<${ENUM_SHIFT}),  /* ${ENUM_TEXT} */" >> $headerfile
+        done
+        
+        echo "} ${j}_t;" >> $headerfile
+        echo "" >> $headerfile
+    done
+    echo "" >> $headerfile
+done
+echo "" >> $headerfile
+
+
+
+
+# XMEGA Register Structure Instances
+#--------------------------------------
+echo "/*" >> $headerfile
+echo "==========================================================================" >> $headerfile
+echo "IO Module Instances. Mapped to memory." >> $headerfile
+echo "==========================================================================" >> $headerfile
+echo "*/" >> $headerfile
+echo "" >> $headerfile
+for i in $(xml sel -T -t -m /AVRPART/group -s "A:T:-" "@offset" -v "concat(@name,' ')" $headerfile-iogroups.xml | sed "s,GPIO ,,g" | sed "s,CPU ,,g") ; do
+    IMPLEMENTS=$(xml sel -T -t -m '/AVRPART/group[@name='\'${i}\'']' -v @implements $headerfile-iogroups.xml)
+    OFFSET=$(xml sel -T -t -m '/AVRPART/group[@name='\'${i}\'']' -v @offset $headerfile-iogroups.xml)
+    TEXT=$(xml sel -T -t -m '/AVRPART/group[@name='\'${i}\'']' -v @text $headerfile-iogroups.xml)
+    echo "#define ${i}    (*(${IMPLEMENTS}_t *) ${OFFSET})  /* ${TEXT} */" >> $headerfile
+done
+echo "" >> $headerfile
+echo "" >> $headerfile
+
+
+
+echo "#endif /* !defined (__ASSEMBLER__) */" >> $headerfile
+echo "" >> $headerfile
+echo "" >> $headerfile
+
+
+
+
+# XMEGA Flattened fully qualified IO register names
+#---------------------------------------------------
+
+echo "/* ========== Flattened fully qualified IO register names ========== */" >> $headerfile
+echo "" >> $headerfile
+
+for i in $GROUP_NAMES ; do
+    GROUP_TEXT=$(xml sel -T -t -m '/AVRPART/group[@name='\'${i}\'']' -v "@text" $headerfile-iogroups.xml)
+    echo "/* ${i} - ${GROUP_TEXT} */" >> $headerfile
+    
+    REGISTERS=$(xml sel -T -t -m '/AVRPART/group[@name='\'${i}\'']/registers' -v "concat(@name,' ')" $headerfile-iogroups.xml)
+    for j in $REGISTERS ; do
+    
+        REG_OFFSETS=$(xml sel -T -t -m '/AVRPART/group[@name='\'${i}\'']/registers[@name='\'${j}\'']/child::*' -v "concat(@offset,' ')" $headerfile-iogroups.xml | sort)
+        for k in $REG_OFFSETS ; do
+            REG_NAME=$(xml sel -T -t -m '/AVRPART/group[@name='\'${i}\'']/registers[@name='\'${j}\'']/child::*[@offset='\'${k}\'']' -v "@name" $headerfile-iogroups.xml)
+            if test -n "$REG_NAME" ; then
+                REG_SIZE=$(xml sel -T -t -m '/AVRPART/group[@name='\'${i}\'']/registers[@name='\'${j}\'']/child::*[@offset='\'${k}\'']' -v "@size" $headerfile-iogroups.xml)
+                REG_ADDRESS=$(xml sel -T -t -m '/AVRPART/group[@name='\'${i}\'']/registers[@name='\'${j}\'']/child::*[@offset='\'${k}\'']' -v "@address" $headerfile-iogroups.xml)
+                if test -n "$REG_SIZE" ; then
+                    if test "$REG_SIZE" = "1" ; then
+                        echo "#define ${i}_${REG_NAME}  _SFR_MEM8(${REG_ADDRESS})" >> $headerfile
+                    fi
+                    if test "$REG_SIZE" = "2" ; then
+                        echo "#define ${i}_${REG_NAME}  _SFR_MEM16(${REG_ADDRESS})" >> $headerfile
+                    fi
+                else
+                    REG_IMPLEMENTS=$(xml sel -T -t -m '/AVRPART/group[@name='\'${i}\'']/registers[@name='\'${j}\'']/child::*[@offset='\'${k}\'']' -v "@implements" $headerfile-iogroups.xml)
+                  
+
+                    MODULES=$(xml sel -T -t -m "/AVRPART/V2/templates/module" -v "concat(@class,' ')" $devicefile)
+                    for m in $MODULES ; do
+                        REGISTERS=$(xml sel -T -t -m '/AVRPART/V2/templates/module[@class='\'${m}\'']/registers' -v "concat(@name,' ')" $devicefile)
+                        for n in $REGISTERS ; do
+                            if test "$n" = "$REG_IMPLEMENTS" ; then
+                                REG_OFFSETS=$(xml sel -T -t -m '/AVRPART/V2/templates/module[@class='\'${m}\'']/registers[@name='\'${n}\'']/child::*' -v "concat(@offset,' ')" $devicefile | sort)
+                                for p in $REG_OFFSETS ; do
+                                    SUBREG_NAME=$(xml sel -T -t -m '/AVRPART/V2/templates/module[@class='\'${m}\'']/registers[@name='\'${n}\'']/child::*[@offset='\'${p}\'']' -v "@name" $devicefile)
+                                    SUBREG_SIZE=$(xml sel -T -t -m '/AVRPART/V2/templates/module[@class='\'${m}\'']/registers[@name='\'${n}\'']/child::*[@offset='\'${p}\'']' -v "@size" $devicefile)
+                                    SUBREG_OFFSET=$(xml sel -T -t -m '/AVRPART/V2/templates/module[@class='\'${m}\'']/registers[@name='\'${n}\'']/child::*[@offset='\'${p}\'']' -v "@offset" $devicefile)
+                                    if test -n "$SUBREG_NAME" ; then
+                                        ADDRESS=$(printf "0x%04X" $(($REG_ADDRESS + $SUBREG_OFFSET)))
+                                        if test "$SUBREG_SIZE" = "1" ; then
+                                            echo "#define ${i}_${REG_NAME}_${SUBREG_NAME}  _SFR_MEM8(${ADDRESS})" >> $headerfile
+                                        fi
+                                        if test "$SUBREG_SIZE" = "2" ; then
+                                            echo "#define ${i}_${REG_NAME}_${SUBREG_NAME}  _SFR_MEM16(${ADDRESS})" >> $headerfile
+                                        fi
+                                    fi
+                                done
+                                break 2
+                            fi
+                        done
+                    done    
+                fi
+            fi
+        done
+    done
+    echo "" >> $headerfile
+done
+echo "" >> $headerfile
+
+
+
+#echo "#endif /* !defined (__ASSEMBLER__) */" >> $headerfile
+#echo "" >> $headerfile
+echo "" >> $headerfile
+
+
+# XMEGA Bitfield definitions
+#---------------------------------------------------
+
+echo "/*================== Bitfield Definitions ================== */" >> $headerfile
+echo "" >> $headerfile
+MODULE_NAMES=$(xml sel -T -t -m /AVRPART/V2/templates/module -v "concat(@class,' ')" $devicefile)
+for i in $MODULE_NAMES ; do
+    PREV_MODULE_NAME=
+    MODULE_TEXT=$(xml sel -T -t -m '/AVRPART/V2/templates/module[@class='\'${i}\'']' -v "@text" $devicefile)
+    
+    REGISTER_GROUPS=$(xml sel -T -t -m '/AVRPART/V2/templates/module[@class='\'${i}\'']/registers' -v "concat(@name,' ')" $devicefile)
+    for j in $REGISTER_GROUPS ; do
+    
+        REG_OFFSETS=$(xml sel -T -t -m '/AVRPART/V2/templates/module[@class='\'${i}\'']/registers[@name='\'${j}\'']/child::*' -v "concat(@offset,' ')" $devicefile | sort)
+        for k in $REG_OFFSETS ; do
+            REGNAME=$(xml sel -T -t -m '/AVRPART/V2/templates/module[@class='\'${i}\'']/registers[@name='\'${j}\'']/child::*[@offset='\'${k}\'']' -v "@name" $devicefile)
+            BITFIELDS=$(xml sel -T -t -m '/AVRPART/V2/templates/module[@class='\'${i}\'']/registers[@name='\'${j}\'']/child::*[@offset='\'${k}\'']/bitfield' -v "concat(@name,' ')" $devicefile)
+            
+            if test -n "$BITFIELDS" ; then
+                if test -z $PREV_MODULE_NAME ; then
+                    echo "/* ${i} - ${MODULE_TEXT} */" >> $headerfile
+                    PREV_MODULE_NAME=$i
+                fi
+
+                echo "/* ${j}.${REGNAME}  bit masks and bit positions */" >> $headerfile
+                
+                for m in $BITFIELDS ; do
+                    BITFIELD_GROUP_MASK=$(xml sel -T -t -m '/AVRPART/V2/templates/module[@class='\'${i}\'']/registers[@name='\'${j}\'']/child::*[@offset='\'${k}\'']/bitfield[@name='\'${m}\'']' -v "@mask" $devicefile)
+                    BITFIELD_TEXT=$(xml sel -T -t -m '/AVRPART/V2/templates/module[@class='\'${i}\'']/registers[@name='\'${j}\'']/child::*[@offset='\'${k}\'']/bitfield[@name='\'${m}\'']' -v "@text" $devicefile)
+                    BITFIELD_GROUP_POSITION=$(echo $BITFIELD_GROUP_MASK | \
+                        sed "s,0x.2,1,g" | \
+                        sed "s,0x.4,2,g" | \
+                        sed "s,0x.6,1,g" | \
+                        sed "s,0x.8,3,g" | \
+                        sed "s,0x.C,2,g" | \
+                        sed "s,0x.E,1,g" | \
+                        sed "s,0x10,4,g" | \
+                        sed "s,0x30,4,g" | \
+                        sed "s,0x70,4,g" | \
+                        sed "s,0xF0,4,g" | \
+                        sed "s,0x20,5,g" | \
+                        sed "s,0x60,5,g" | \
+                        sed "s,0xE0,5,g" | \
+                        sed "s,0x40,6,g" | \
+                        sed "s,0xC0,6,g" | \
+                        sed "s,0x80,7,g" | \
+                        sed "s,0x..,0,g" )
+
+                    BITFIELD_MASK=$(($BITFIELD_GROUP_MASK >> $BITFIELD_GROUP_POSITION))
+                    if test $(( $BITFIELD_MASK )) -gt 1 ; then
+                        DEFINITION=" ${j}_${m}_gm "
+                        grep "${DEFINITION}" $headerfile
+                        if test $? -eq 0 ; then
+                            echo "/*${DEFINITION} Predefined. */" >> $headerfile
+                        else
+                            echo "#define ${j}_${m}_gm  ${BITFIELD_GROUP_MASK}  /* ${BITFIELD_TEXT} group mask. */" >> $headerfile
+                        fi
+                        
+                        DEFINITION=" ${j}_${m}_gp "
+                        grep "${DEFINITION}" $headerfile
+                        if test $? -eq 0 ; then
+                            echo "/*${DEFINITION} Predefined. */" >> $headerfile
+                        else
+                            echo "#define ${j}_${m}_gp  ${BITFIELD_GROUP_POSITION}  /* ${BITFIELD_TEXT} group position. */" >> $headerfile
+                        fi
+                        
+                        BITNUM="0"
+                        while test $(($BITFIELD_MASK & 0x01)) -eq 1 ; do
+                            DEFINITION=" ${j}_${m}${BITNUM}_bm "
+                            grep "${DEFINITION}" $headerfile
+                            if test $? -eq 0 ; then
+                                echo "/*${DEFINITION} Predefined. */" >> $headerfile
+                            else
+                                echo "#define ${j}_${m}${BITNUM}_bm  (1<<${BITFIELD_GROUP_POSITION})  /* ${BITFIELD_TEXT} bit ${BITNUM} mask. */" >> $headerfile
+                            fi
+                            
+                            DEFINITION=" ${j}_${m}${BITNUM}_bp "
+                            grep "${DEFINITION}" $headerfile
+                            if test $? -eq 0 ; then
+                                echo "/*${DEFINITION} Predefined. */" >> $headerfile
+                            else
+                                echo "#define ${j}_${m}${BITNUM}_bp  ${BITFIELD_GROUP_POSITION}  /* ${BITFIELD_TEXT} bit ${BITNUM} position. */" >> $headerfile
+                            fi
+                            
+                            BITFIELD_GROUP_POSITION=$(($BITFIELD_GROUP_POSITION + 1))
+                            BITFIELD_MASK=$(($BITFIELD_MASK >> 1))
+                            BITNUM=$(($BITNUM + 1))
+                        done
+                    else
+                        DEFINITION=" ${j}_${m}_bm "
+                        grep "${DEFINITION}" $headerfile
+                        if test $? -eq 0 ; then
+                            echo "/*${DEFINITION} Predefined. */" >> $headerfile
+                        else
+                            echo "#define ${j}_${m}_bm  ${BITFIELD_GROUP_MASK}  /* ${BITFIELD_TEXT} bit mask. */" >> $headerfile
+                        fi
+                        
+                        DEFINITION=" ${j}_${m}_bp "
+                        grep "${DEFINITION}" $headerfile
+                        if test $? -eq 0 ; then
+                            echo "/*${DEFINITION} Predefined. */" >> $headerfile
+                        else
+                            echo "#define ${j}_${m}_bp  ${BITFIELD_GROUP_POSITION}  /* ${BITFIELD_TEXT} bit position. */" >> $headerfile
+                        fi
+                    fi
+                    echo "" >> $headerfile
+                    
+                done
+                echo "" >> $headerfile
+            fi
+        done
+    done
+done
+echo "" >> $headerfile
+
+
+# XMEGA Generic Port Pin definitions
+#---------------------------------------------------
+cat << eof >> $headerfile
+// Generic Port Pins
+
+#define PIN0_bm 0x01 
+#define PIN0_bp 0
+#define PIN1_bm 0x02
+#define PIN1_bp 1
+#define PIN2_bm 0x04 
+#define PIN2_bp 2
+#define PIN3_bm 0x08 
+#define PIN3_bp 3
+#define PIN4_bm 0x10 
+#define PIN4_bp 4
+#define PIN5_bm 0x20 
+#define PIN5_bp 5
+#define PIN6_bm 0x40 
+#define PIN6_bp 6
+#define PIN7_bm 0x80 
+#define PIN7_bp 7
+
+
+eof
+
+
+
+# XMEGA Interrupt Vector definitions
+#---------------------------------------------------
+echo "/* ========== Interrupt Vector Definitions ========== */" >> $headerfile
+echo "/* Vector 0 is the reset vector */" >> $headerfile
+echo "" >> $headerfile
+INTERRUPT_MODULES=$(xml sel -T -t -m /AVRPART/V2/interrupts/interrupt-group -v "concat(@module,' ')" $devicefile)
+for i in $INTERRUPT_MODULES ; do
+    echo "/* ${i} interrupt vectors */" >> $headerfile
+    MODULE_REF=$(xml sel -T -t -m '/AVRPART/V2/interrupts/interrupt-group[@module='\'${i}\'']' -v "@ref" $devicefile)
+    MODULE_OFFSET=$(xml sel -T -t -m '/AVRPART/V2/interrupts/interrupt-group[@module='\'${i}\'']' -v "@offset" $devicefile)
+    
+    INTERRUPTS=$(xml sel -T -t -m '/AVRPART/V2/templates/module/interrupt-group[@name='\'${MODULE_REF}\'']/int' -s "A:T:-" "@offset" -v "concat(@name,' ')" $devicefile)
+    for j in $INTERRUPTS ; do
+        INT_OFFSET=$(xml sel -T -t -m '/AVRPART/V2/templates/module/interrupt-group[@name='\'${MODULE_REF}\'']/int[@name='\'${j}\'']' -v "@offset" $devicefile)
+        INT_TEXT=$(xml sel -T -t -m '/AVRPART/V2/templates/module/interrupt-group[@name='\'${MODULE_REF}\'']/int[@name='\'${j}\'']' -v "@text" $devicefile)
+        VECTOR_NUM=$(($MODULE_OFFSET + $INT_OFFSET))
+        echo "#define ${i}_${j}_vect_num  ${VECTOR_NUM}" >> $headerfile
+        echo "#define ${i}_${j}_vect      _VECTOR(${VECTOR_NUM})  /* ${INT_TEXT} */" >> $headerfile
+    done
+    echo "" >> $headerfile
+done
+echo "" >> $headerfile
+
+# todo: Remove hard-coded vector size.
+echo "#define _VECTOR_SIZE 4 /* Size of individual vector. */" >> $headerfile
+VECTOR_NUM=$(($VECTOR_NUM + 1))
+echo "#define _VECTORS_SIZE (${VECTOR_NUM} * _VECTOR_SIZE)" >> $headerfile
+echo "" >> $headerfile
+echo "" >> $headerfile
+
+
+
+# XMEGA Constant definitions
+#---------------------------------------------------
+echo "/* ========== Constants ========== */" >> $headerfile
+echo "" >> $headerfile
+
+MEMSPACE_NAMES=$(xml sel -T -t -m "/AVRPART/V2/memspaces/memspace" -v "concat(@name,' ')" $devicefile)
+for i in $MEMSPACE_NAMES ; do
+    MEMSPACE_START=$(xml sel -T -t -m '/AVRPART/V2/memspaces/memspace[@name='\'${i}\'']' -v "@start" $devicefile)
+    MEMSPACE_SIZE=$(( $(xml sel -T -t -m '/AVRPART/V2/memspaces/memspace[@name='\'${i}\'']' -v "@size" $devicefile) ))
+    MEMSPACE_PAGE_SIZE=$(( $(xml sel -T -t -m '/AVRPART/V2/memspaces/memspace[@name='\'${i}\'']' -v "@pagesize" $devicefile) ))
+    echo "#define ${i}_START     (${MEMSPACE_START})" >> $headerfile
+    echo "#define ${i}_SIZE      (${MEMSPACE_SIZE})" >> $headerfile
+    echo "#define ${i}_PAGE_SIZE (${MEMSPACE_PAGE_SIZE})" >> $headerfile
+    echo "#define ${i}_END       (${i}_START + ${i}_SIZE - 1)" >> $headerfile
+    echo "" >> $headerfile
+done
+
+echo "#define FLASHEND     PROGMEM_END" >> $headerfile
+echo "#define SPM_PAGESIZE PROGMEM_PAGE_SIZE" >> $headerfile
+echo "#define RAMSTART     INTERNAL_SRAM_START" >> $headerfile
+echo "#define RAMSIZE      INTERNAL_SRAM_SIZE" >> $headerfile
+echo "#define RAMEND       INTERNAL_SRAM_END" >> $headerfile
+echo "#define XRAMSTART    EXTERNAL_SRAM_START" >> $headerfile
+echo "#define XRAMSIZE     EXTERNAL_SRAM_SIZE" >> $headerfile
+if test $(( $(xml sel -T -t -m "/AVRPART/V2/memspaces/memspace[@name='EXTERNAL_SRAM']" -v "@size" $devicefile) )) -gt 0 ; then
+    echo "#define XRAMEND      EXTERNAL_SRAM_END" >> $headerfile
+else
+    echo "#define XRAMEND      INTERNAL_SRAM_END" >> $headerfile
+fi
+echo "#define E2END        EEPROM_END" >> $headerfile
+echo "#define E2PAGESIZE   EEPROM_PAGE_SIZE" >> $headerfile
+echo "" >> $headerfile
+echo "" >> $headerfile
+
+
+
+# XMEGA Fuse information
+#---------------------------------------------------
+FUSECOUNT=$(xml sel -T -t -v 'count(/AVRPART/V2/templates/module/registers[@memspace='\'FUSE\'']/reg)' $devicefile)
+echo "/* ========== Fuses ========== */" >> $headerfile
+echo "#define FUSE_MEMORY_SIZE ${FUSECOUNT}" >> $headerfile
+echo "" >> $headerfile
+FUSEBYTES=$(xml sel -T -t -m '/AVRPART/V2/templates/module/registers[@memspace='\'FUSE\'']/reg' -s "A:T:-" "@offset" -v "concat(@offset,' ')" $devicefile)
+FUSEBYTENUM=0
+for i in $FUSEBYTES ; do
+    FUSEBYTENAME=$(xml sel -T -t -m '/AVRPART/V2/templates/module/registers[@memspace='\'FUSE\'']/reg[@offset='\'${i}\'']' -v "@name" $devicefile)
+    if test -z "$FUSEBYTENAME" ; then
+        echo "/* Fuse Byte ${FUSEBYTENUM} Reserved */" >> $headerfile
+    else
+        echo "/* Fuse Byte ${FUSEBYTENUM} */" >> $headerfile
+        FUSEBITFIELDS=$(xml sel -T -t -m '/AVRPART/V2/templates/module/registers[@memspace='\'FUSE\'']/reg[@offset='\'${i}\'']/bitfield' -s "A:T:-" "@mask" -v "concat(@name,' ')" $devicefile)
+        for j in $FUSEBITFIELDS ; do
+            FUSEBITFIELD_TEXT=$(xml sel -T -t -m '/AVRPART/V2/templates/module/registers[@memspace='\'FUSE\'']/reg[@offset='\'${i}\'']/bitfield[@name='\'${j}\'']' \
+                -v "@text" $devicefile)
+            FUSEBITFIELD_MASK=$(xml sel -T -t -m '/AVRPART/V2/templates/module/registers[@memspace='\'FUSE\'']/reg[@offset='\'${i}\'']/bitfield[@name='\'${j}\'']' \
+                -v "@mask" $devicefile)
+            FUSEBITFIELD_SHIFT=$(echo "$FUSEBITFIELD_MASK" | \
+                sed "s,0x.2,1,g" | \
+                sed "s,0x.4,2,g" | \
+                sed "s,0x.6,1,g" | \
+                sed "s,0x.8,3,g" | \
+                sed "s,0x.C,2,g" | \
+                sed "s,0x.E,1,g" | \
+                sed "s,0x10,4,g" | \
+                sed "s,0x30,4,g" | \
+                sed "s,0x70,4,g" | \
+                sed "s,0xF0,4,g" | \
+                sed "s,0x20,5,g" | \
+                sed "s,0x60,5,g" | \
+                sed "s,0xE0,5,g" | \
+                sed "s,0x40,6,g" | \
+                sed "s,0xC0,6,g" | \
+                sed "s,0x80,7,g" | \
+                sed "s,0x..,0,g" )
+            FUSEBITFIELD_MASK=$(( $FUSEBITFIELD_MASK >> $FUSEBITFIELD_SHIFT ))
+            if test $(( $FUSEBITFIELD_MASK )) -gt 1 ; then 
+                BITNUM=0
+                while test $(($FUSEBITFIELD_MASK & 0x01)) -eq 1 ; do
+                    echo "#define FUSE_${j}${BITNUM}  (unsigned char)~_BV(${FUSEBITFIELD_SHIFT})  /* ${FUSEBITFIELD_TEXT} Bit ${BITNUM} */" >> $headerfile
+                    FUSEBITFIELD_MASK=$(($FUSEBITFIELD_MASK >> 1))
+                    BITNUM=$(($BITNUM + 1))
+                    FUSEBITFIELD_SHIFT=$(($FUSEBITFIELD_SHIFT + 1))
+                done
+            else
+                echo "#define FUSE_${j}  (unsigned char)~_BV(${FUSEBITFIELD_SHIFT})  /* ${FUSEBITFIELD_TEXT} */" >> $headerfile
+            fi
+        done
+        echo "#define FUSE${FUSEBYTENUM}_DEFAULT  (0xFF)" >> $headerfile
+    fi
+    echo "" >> $headerfile
+    FUSEBYTENUM=$((FUSEBYTENUM + 1))
+done
+echo "" >> $headerfile
+# todo: Default XMEGA fuse values are currently hardcoded to 0xFF.
+
+
+
+# XMEGA Lockbit information
+#---------------------------------------------------
+echo "/* ========== Lock Bits ========== */" >> $headerfile
+LOCK_BITS=$(xml sel -T -t -m '/AVRPART/V2/templates/module[@class='\'NVM\'']/registers/reg[@name='\'LOCKBITS\'']/bitfield[@name='\'LB\'']' -v "@name" $devicefile)
+if test -n "$LOCK_BITS" ; then
+    echo "#define __LOCK_BITS_EXIST" >> $headerfile
+fi
+
+BOOT_LOCK_APPLICATION_TABLE_BITS=$(xml sel -T -t -m '/AVRPART/V2/templates/module[@class='\'NVM\'']/registers/reg[@name='\'LOCKBITS\'']/bitfield[@name='\'BLBAT\'']' -v "@name" $devicefile)
+if test -n "$BOOT_LOCK_APPLICATION_TABLE_BITS" ; then
+    echo "#define __BOOT_LOCK_APPLICATION_TABLE_BITS_EXIST" >> $headerfile
+fi
+
+BOOT_LOCK_APPLICATION_BITS=$(xml sel -T -t -m '/AVRPART/V2/templates/module[@class='\'NVM\'']/registers/reg[@name='\'LOCKBITS\'']/bitfield[@name='\'BLBA\'']' -v "@name" $devicefile)
+if test -n "$BOOT_LOCK_APPLICATION_BITS" ; then
+    echo "#define __BOOT_LOCK_APPLICATION_BITS_EXIST" >> $headerfile
+fi
+
+BOOT_LOCK_BOOT_BITS=$(xml sel -T -t -m '/AVRPART/V2/templates/module[@class='\'NVM\'']/registers/reg[@name='\'LOCKBITS\'']/bitfield[@name='\'BLBB\'']' -v "@name" $devicefile)
+if test -n "$BOOT_LOCK_BOOT_BITS" ; then
+    echo "#define __BOOT_LOCK_BOOT_BITS_EXIST" >> $headerfile
+fi
+echo "" >> $headerfile
+echo "" >> $headerfile
+
+
+# XMEGA Signature information
+#----------------------------------------------
+SIGNATURE_0=$(xml sel -T -t -m "/AVRPART/ADMIN/SIGNATURE" -v "ADDR000" $devicefile | sed "s,\\$,0x,g")
+SIGNATURE_1=$(xml sel -T -t -m "/AVRPART/ADMIN/SIGNATURE" -v "ADDR001" $devicefile | sed "s,\\$,0x,g")
+SIGNATURE_2=$(xml sel -T -t -m "/AVRPART/ADMIN/SIGNATURE" -v "ADDR002" $devicefile | sed "s,\\$,0x,g")
+echo "/* ========== Signature ========== */" >> $headerfile
+echo "#define SIGNATURE_0 ${SIGNATURE_0}" >> $headerfile
+echo "#define SIGNATURE_1 ${SIGNATURE_1}" >> $headerfile
+echo "#define SIGNATURE_2 ${SIGNATURE_2}" >> $headerfile
+echo "" >> $headerfile
+echo "" >> $headerfile
+
+
+else
+
+
+# Classic AVR
+#==================
+
+# Registers and bit numbers.
+#-----------------------------
+
+# Get register section from input file and remove some unused elements.
+xml sel -t -c /AVRPART/MEMORY/IO_MEMORY $devicefile | \
+    xml ed -O \
+        -d /IO_MEMORY/IO_START_ADDR \
+        -d /IO_MEMORY/IO_STOP_ADDR \
+        -d /IO_MEMORY/EXT_IO_START_ADDR \
+        -d /IO_MEMORY/EXT_IO_STOP_ADDR \
+        -d /IO_MEMORY/MEM_START_ADDR \
+        -d /IO_MEMORY/MEM_STOP_ADDR > $headerfile-iomemory.xml
+
+# Get list of register names.
+REGNAMES=$(xml el $headerfile-iomemory.xml | sed "s,IO_MEMORY$,,g" | cut -d '/' -f 2 | sed "s,\r,,g" | uniq)
+
+# Convert temporary working XML file to PYX.
+xml pyx $headerfile-iomemory.xml > $headerfile-iomemory.pyx
+
+# For each register...
+MAX_ADDRESS_WIDTH=0
+for i in $REGNAMES ; do \
+    
+    # Get IO address.
+    IOADDR=$(xml sel -t -v /IO_MEMORY/$i/IO_ADDR $headerfile-iomemory.xml | sed "s,\r,," | sed "s,NA,," | sed "s,\\$,0x,g")
+    
+    # Get Memory address.
+    MEMADDR=$(xml sel -t -v /IO_MEMORY/$i/MEM_ADDR $headerfile-iomemory.xml | sed "s,\r,," | sed "s,\\$,0x,g")
+    
+    # Check for max width of address
+    WIDTH=$(( $(echo "$IOADDR" | wc -m) ))
+    if test $WIDTH -gt $MAX_ADDRESS_WIDTH ; then
+        MAX_ADDRESS_WIDTH=$WIDTH
+    fi
+    WIDTH=$(( $(echo "$MEMADDR" | wc -m) ))
+    if test $WIDTH -gt $MAX_ADDRESS_WIDTH ; then
+        MAX_ADDRESS_WIDTH=$WIDTH
+    fi
+    
+    # Get initialization value (if exists).
+    INIT=$(xml sel -t -v /IO_MEMORY/$i/INIT $headerfile-iomemory.xml | sed "s,\r,,")
+    
+    # Determine type of address.
+    if test -z "$IOADDR"; then
+        TYPE="mem"
+    else
+        TYPE="io"
+    fi
+    
+    # Convert named register element to REGISTER element with attributes in the PYX file.
+    sed -i "s,(${i}$,(REGISTER\nAname $i\nAtype $TYPE\nAio_addr $IOADDR\nAmem_addr $MEMADDR\nAsize 8\nAinit $INIT," $headerfile-iomemory.pyx
+    sed -i "s,)${i}$,)REGISTER," $headerfile-iomemory.pyx
+done
+# Subtract 3 from max address width: 2 for "0x" and 1 for line feed when echoing to wc.
+MAX_ADDRESS_WIDTH=$(( $MAX_ADDRESS_WIDTH - 3 ))
+
+
+#   - Convert temporary PYX file back to temporary XML file.
+#   - Remove unused (previously converted) elements, and common registers we won't keep.
+#   - Convert named bit mask elements to BIT elements with attributes
+#   - Sort the register names based on the memory address element.
+#   - Save it to the temporary XML file.
+xml depyx $headerfile-iomemory.pyx | \
+    xml ed -O \
+        -d "/IO_MEMORY/REGISTER/IO_ADDR" \
+        -d "/IO_MEMORY/REGISTER/MEM_ADDR" \
+        -d "/IO_MEMORY/REGISTER/INIT" \
+        -d "/IO_MEMORY/REGISTER[@name='SREG']" \
+        -d "/IO_MEMORY/REGISTER[@name='SP']" \
+        -d "/IO_MEMORY/REGISTER[@name='SPL']" \
+        -d "/IO_MEMORY/REGISTER[@name='SPH']" | \
+    sed 's,<.*_MASK>0x01</,<BIT value="0" name=",g' | \
+    sed 's,<.*_MASK>0x02</,<BIT value="1" name=",g' | \
+    sed 's,<.*_MASK>0x04</,<BIT value="2" name=",g' | \
+    sed 's,<.*_MASK>0x08</,<BIT value="3" name=",g' | \
+    sed 's,<.*_MASK>0x10</,<BIT value="4" name=",g' | \
+    sed 's,<.*_MASK>0x20</,<BIT value="5" name=",g' | \
+    sed 's,<.*_MASK>0x40</,<BIT value="6" name=",g' | \
+    sed 's,<.*_MASK>0x80</,<BIT value="7" name=",g' | \
+    sed 's,_MASK>$,"/>,g' | \
+    xml sel -t -e IO_MEMORY -n -m "/IO_MEMORY/REGISTER" -s "A:T:-" "@mem_addr" -c . -n > $headerfile-iomemory.xml
+
+# Remove temporary PYX file.
+rm $headerfile-iomemory.pyx
+
+# Calculate the set of word size register names needed.
+#   - Get list of all register names, each name followed by an EOL.
+#   - Convert to Unix line endings (for sed patterns to work).
+#   - Cut off ending '_L' of register names.
+#   - Cut off ending '_H' of register names.
+#   - Cut off ending 'L' of register names.
+#   - Cut off ending 'H' of register names.
+#   - Get list of only duplicate register names.
+#   - Remove duplicates.
+REGNAMES_WORD=$(xml sel -T -t -m "/IO_MEMORY/REGISTER" -v "@name" -n $headerfile-iomemory.xml | \
+    sed "s,\r\n,\n,g" | \
+    sed "s,_L$,,g" | \
+    sed "s,_H$,,g" | \
+    sed "s,L$,,g" | \
+    sed "s,H$,,g" | \
+    uniq -d | \
+    uniq)
+
+# Add word registers to temporary working XML file.
+#   - For each word register...
+for i in $REGNAMES_WORD ; do \
+    
+    # Get the register type from the Low register, 
+    #   convert to Unix line endings.
+    TYPE=$(xml sel -t -m '/IO_MEMORY/REGISTER[@name='\'${i}L\'']' -v "@type" $headerfile-iomemory.xml | sed "s,\r,,")
+    
+    # Get the io address from the Low register,
+    #   convert to Unix line endings.
+    IOADDR=$(xml sel -t -m '/IO_MEMORY/REGISTER[@name='\'${i}L\'']' -v "@io_addr" $headerfile-iomemory.xml | sed "s,\r,,")
+    
+    # Get the memory address from the Low register,
+    #   convert to Unix line endings.
+    MEMADDR=$(xml sel -t -m '/IO_MEMORY/REGISTER[@name='\'${i}L\'']' -v "@mem_addr" $headerfile-iomemory.xml | sed "s,\r,,")
+    
+    #   - Insert a new element before the Low register, name it as the word register
+    #   - Append a 'name' attribute
+    #   - Append a 'type' attribute
+    #   - Append a 'io_addr' attribute
+    #   - Append a 'mem_addr' attribute
+    #   - Append a 'size' attribute
+    #   - Rename the element to REGISTER
+    #   - Save to a 2nd temporary XML file.
+    xml ed -O -i '/IO_MEMORY/REGISTER[@name='\'${i}L\'']' --type "elem" -n "$i" -v "" \
+        -a '/IO_MEMORY/'${i} --type "attr" -n "name" -v "$i" \
+        -a '/IO_MEMORY/'${i} --type "attr" -n "type" -v "$TYPE" \
+        -a '/IO_MEMORY/'${i} --type "attr" -n "io_addr" -v "$IOADDR" \
+        -a '/IO_MEMORY/'${i} --type "attr" -n "mem_addr" -v "$MEMADDR" \
+        -a '/IO_MEMORY/'${i} --type "attr" -n "size" -v "16" \
+        -r '/IO_MEMORY/'${i} -v "REGISTER" $headerfile-iomemory.xml > $headerfile-iomem2.xml
+    
+    # Move 2nd temporary XML file to first.
+    mv $headerfile-iomem2.xml $headerfile-iomemory.xml
+done
+
+
+# Fix width of all addresses.
+ALLREGS=$(xml sel -T -t -m "/IO_MEMORY/REGISTER" -v "concat(@name,' ')" $headerfile-iomemory.xml)
+for i in $ALLREGS ; do
+    MEM_ADDR=$(xml sel -T -t -m '/IO_MEMORY/REGISTER[@name='\'${i}\'']' -v "@mem_addr" $headerfile-iomemory.xml)
+    if test -n "$MEM_ADDR" ; then
+        NEW_MEM_ADDR=$(printf "0x%0${MAX_ADDRESS_WIDTH}X" $(( $MEM_ADDR )) )
+        xml ed -O -u '/IO_MEMORY/REGISTER[@name='\'${i}\'']/@mem_addr' -v "$NEW_MEM_ADDR" $headerfile-iomemory.xml > $headerfile-tmp.xml
+        mv $headerfile-tmp.xml $headerfile-iomemory.xml
+    fi
+    IO_ADDR=$(xml sel -T -t -m '/IO_MEMORY/REGISTER[@name='\'${i}\'']' -v "@io_addr" $headerfile-iomemory.xml)
+    if test -n "$IO_ADDR" ; then
+        NEW_IO_ADDR=$(printf "0x%0${MAX_ADDRESS_WIDTH}X" $(( $IO_ADDR )) )
+        xml ed -O -u '/IO_MEMORY/REGISTER[@name='\'${i}\'']/@io_addr' -v "$NEW_IO_ADDR" $headerfile-iomemory.xml > $headerfile-tmp.xml
+        mv $headerfile-tmp.xml $headerfile-iomemory.xml
+    fi
+done
+
+
+# Output data from temporary working XML file to avr-libc I/O header file.
+#   Replace hyphens with underscores.
+echo "/* Registers and associated bit numbers. */" >> $headerfile
+xml sel -T \
+    -t -m "/IO_MEMORY/REGISTER[@type='io']" -s "A:T:-" "@io_addr" -n -v "concat('#define ',@name,' _SFR_IO',@size,'(',@io_addr,')')" -n \
+       -m "BIT[@value]" -s "A:T:-" "@value" -v "concat('#define ',@name,' ',@value)" -n \
+    -t -m "/IO_MEMORY/REGISTER[@type='mem']" -s "A:T:-" "@mem_addr" -n -v "concat('#define ',@name,' _SFR_MEM',@size,'(',@mem_addr,')')" -n \
+       -m "BIT[@value]" -s "A:T:-" "@value" -v "concat('#define ',@name,' ',@value)" -n \
+    -t -n -n $headerfile-iomemory.xml | \
+sed "s,-,_,g" >> $headerfile
+
+
+# Check for ADC 16-bit register and create ADCW with guard for assembly.
+ADC=$(grep "#define ADC " $headerfile | cut -d ' ' -f 3)
+if test -n "$ADC" ; then
+    sed -i "s,#define ADC ,#ifndef __ASSEMBLER__\\n#define ADC $ADC\\n#endif\\n#define ADCW ,g" $headerfile
+fi
+
+# Create list of 8-bit registers that have no associated bit names.
+REGS_NO_BITNAMES=$(xml sel -T -t -m "/IO_MEMORY/REGISTER[@size='8']" \
+    -i "count(BIT)=0" -v "@name" -n $headerfile-iomemory.xml | sed "s,\r\n,\n,g")
+
+# Create list of 8-bit registers in the XML file that have hyphens in the names.
+REGS_WITH_HYPHENS=$(xml sel -T -t -m "/IO_MEMORY/REGISTER[@size='8']" \
+    -i "contains(@name, '-')" -v "@name" -n \
+    -b -m "BIT" \
+    -i "contains(@name, '-')" -v "@name" -n \
+    $headerfile-iomemory.xml | sed "s,\r\n,\n,g")
+
+
+# Interrupt vectors.
+#----------------------
+NMB_VECTORS=$(xml sel -T -t -v /AVRPART/INTERRUPT_VECTOR/NMB_VECTORS $devicefile | sed "s,\r,,g")
+VECTOR_SIZE=$(( $(xml sel -T -t -v /AVRPART/INTERRUPT_VECTOR/VECTOR2/PROGRAM_ADDRESS $devicefile | sed "s,\\$,0x,g" | sed "s,\r,,g") * 2 ))
+echo "/* Interrupt vectors */" >> $headerfile
+echo "/* Vector 0 is the reset vector */" >> $headerfile
+VECTORS=$(xml sel -T -t -m "/AVRPART/INTERRUPT_VECTOR/*[PROGRAM_ADDRESS]" -s "A:T:-" "PROGRAM_ADDRESS" -v "concat(name(),' ')" $devicefile)
+for i in $VECTORS ; do
+    if test "$i" != "VECTOR1" ; then
+        VECTOR_SOURCE=$(xml sel -T -t -m "/AVRPART/INTERRUPT_VECTOR/$i" -v "SOURCE" $devicefile | \
+            sed "s,Reserved.*,Reserved,g" | \
+            sed "s/,//g" | \
+            sed "s, ,_,g")
+        if test "$VECTOR_SOURCE" != "Reserved" ; then
+            VECTOR_NUM=$(( $(echo $i | sed "s,VECTOR,,g") - 1))
+            VECTOR_DESC=$(xml sel -T -t -m "/AVRPART/INTERRUPT_VECTOR/$i" -v "DEFINITION" $devicefile)
+            echo "#define ${VECTOR_SOURCE}_vect_num  ${VECTOR_NUM}" >> $headerfile
+            echo "#define ${VECTOR_SOURCE}_vect      _VECTOR(${VECTOR_NUM})  /* ${VECTOR_DESC} */" >> $headerfile
+        fi
+    fi
+done
+echo "" >> $headerfile
+echo "#define _VECTOR_SIZE ${VECTOR_SIZE} /* Size of individual vector. */" >> $headerfile
+echo "#define _VECTORS_SIZE (${NMB_VECTORS} * _VECTOR_SIZE)" >> $headerfile
+echo "" >> $headerfile
+echo "" >> $headerfile
+
+
+
+# Constants
+#-------------
+echo "/* Constants */" >> $headerfile
+
+# SPM_PAGESIZE
+SPM_PAGESIZE=$(( $(xml sel -T -t -v "/AVRPART/MEMORY/BOOT_CONFIG/PAGESIZE" $devicefile) * 2))
+echo "#define SPM_PAGESIZE (${SPM_PAGESIZE})" >> $headerfile
+
+# RAMSTART
+RAMSTART=$(xml sel -T -t -v "/AVRPART/MEMORY/INT_SRAM/START_ADDR" $devicefile | sed "s,\\$,0x,g") 
+echo "#define RAMSTART     (${RAMSTART})" >> $headerfile
+
+# RAMSIZE
+RAMSIZE=$(xml sel -T -t -v "/AVRPART/MEMORY/INT_SRAM/SIZE" $devicefile)
+echo "#define RAMSIZE      (${RAMSIZE})" >> $headerfile
+
+# RAMEND
+echo "#define RAMEND       (RAMSTART + RAMSIZE - 1)" >> $headerfile
+
+# XRAMSTART
+XRAMSTART=$(xml sel -T -t -v "/AVRPART/MEMORY/EXT_SRAM/START_ADDR" $devicefile | sed "s,\\$,0x,g")
+echo "#define XRAMSTART    (${XRAMSTART})" >> $headerfile
+
+# XRAMSIZE
+XRAMSIZE=$(xml sel -T -t -v "/AVRPART/MEMORY/EXT_SRAM/SIZE" $devicefile)
+echo "#define XRAMSIZE     (${XRAMSIZE})" >> $headerfile
+
+# XRAMEND
+if test $XRAMSIZE -gt 0 ; then
+    echo "#define XRAMEND      (XRAMSIZE - 1)" >> $headerfile
+else
+    echo "#define XRAMEND      (RAMEND)" >> $headerfile
+fi
+
+# E2END
+EEPROM_SIZE=$(( $(xml sel -T -t -v "/AVRPART/MEMORY/EEPROM" $devicefile) ))
+if test $EEPROM_SIZE -gt 0 ; then
+    EEPROM_LAST=$(( $EEPROM_SIZE - 1 ))
+else
+    EEPROM_LAST=0
+fi
+E2END=$(printf "0x%X" $EEPROM_LAST)
+echo "#define E2END        (${E2END})" >> $headerfile
+
+# E2PAGESIZE
+E2PAGESIZE=$(xml sel -T -t -v "/AVRPART/PROGRAMMING/EepromPageSize" $devicefile)
+echo "#define E2PAGESIZE   (${E2PAGESIZE})" >> $headerfile
+
+# FLASHEND
+FLASHEND=$(printf "0x%X" $(( $(xml sel -T -t -v "/AVRPART/MEMORY/PROG_FLASH" $devicefile) - 1)) )
+echo "#define FLASHEND     (${FLASHEND})" >> $headerfile
+
+echo "" >> $headerfile
+echo "" >> $headerfile
+
+
+
+# Fuse information
+#---------------------
+xml sel -T -t -o "/* Fuses */" -n $devicefile >> $headerfile
+
+# Certain XML files have "templates", others do not. Use V1 information.
+NUM_FUSE_BYTES=$(xml sel -T -t -m /AVRPART/FUSE -v "count(LOW) + count(HIGH) + count(EXTENDED)" $devicefile)
+echo "#define FUSE_MEMORY_SIZE ${NUM_FUSE_BYTES}" >> $headerfile
+echo "" >> $headerfile
+
+if test $NUM_FUSE_BYTES -eq 1 ; then
+    # Single Fuse Byte
+    xml sel -t -e AVRPART -m /AVRPART/FUSE/LOW -c . $devicefile | \
+        xml pyx | \
+        sed "s,(FUSE,(FUSE\nAbitnum ,g" | \
+        sed "s,)FUSE.*,)FUSE,g" | \
+        sed "s,-\\$,-,g" | \
+        xml depyx | \
+        xml sel -T \
+        -t -i "count(/AVRPART/LOW)" -o "/* Fuse Byte */" -n \
+        -t -m "/AVRPART/LOW/FUSE[@bitnum]" -s "A:T:-" "@bitnum" -v "concat('#define FUSE_',NAME,'  (unsigned char)~_BV(',@bitnum,')  /* ',TEXT,' */')" -n \
+        -t -i "count(/AVRPART/LOW)" -o "#define FUSE_DEFAULT ("  \
+           -m "/AVRPART/LOW/FUSE" -i "DEFAULT=0" -v "concat('FUSE_',NAME,' &amp; ')" \
+        -t -i "count(/AVRPART/LOW)" -o ")" -n -n | \
+        sed "s, \& ),)," | \
+        sed "s,DEFAULT (),DEFAULT (0xFF)," >> $headerfile
+else
+    # Low Fuse Byte
+    xml sel -t -e AVRPART -m /AVRPART/FUSE/LOW -c . $devicefile | \
+        xml pyx | \
+        sed "s,(FUSE,(FUSE\nAbitnum ,g" | \
+        sed "s,)FUSE.*,)FUSE,g" | \
+        sed "s,-\\$,-,g" | \
+        xml depyx | \
+        xml sel -T \
+        -t -i "count(/AVRPART/LOW)" -o "/* Low Fuse Byte */" -n \
+        -t -m "/AVRPART/LOW/FUSE[@bitnum]" -s "A:T:-" "@bitnum" -v "concat('#define FUSE_',NAME,'  (unsigned char)~_BV(',@bitnum,')  /* ',TEXT,' */')" -n \
+        -t -i "count(/AVRPART/LOW)" -o "#define LFUSE_DEFAULT ("  \
+           -m "/AVRPART/LOW/FUSE" -i "DEFAULT=0" -v "concat('FUSE_',NAME,' &amp; ')" \
+        -t -i "count(/AVRPART/LOW)" -o ")" -n -n | \
+        sed "s, \& ),)," | \
+        sed "s,DEFAULT (),DEFAULT (0xFF)," >> $headerfile
+        
+    # High Fuse Byte    
+    xml sel -t -e AVRPART -m /AVRPART/FUSE/HIGH -c . $devicefile | \
+        xml pyx | \
+        sed "s,(FUSE,(FUSE\nAbitnum ,g" | \
+        sed "s,)FUSE.*,)FUSE,g" | \
+        sed "s,-\\$,-,g" | \
+        xml depyx | \
+        xml sel -T \
+        -t -i "count(/AVRPART/HIGH)" -o "/* High Fuse Byte */" -n \
+        -t -m "/AVRPART/HIGH/FUSE[@bitnum]" -s "A:T:-" "@bitnum" -v "concat('#define FUSE_',NAME,'  (unsigned char)~_BV(',@bitnum,')  /* ',TEXT,' */')" -n \
+        -t -i "count(/AVRPART/HIGH)" -o "#define HFUSE_DEFAULT (" \
+           -m "/AVRPART/HIGH/FUSE" -i "DEFAULT=0" -v "concat('FUSE_',NAME,' &amp; ')" \
+        -t -i "count(/AVRPART/HIGH)" -o ")" -n -n | \
+        sed "s, \& ),)," | \
+        sed "s,DEFAULT (),DEFAULT (0xFF)," >> $headerfile
+
+    # Extended Fuse Byte
+    xml sel -t -e AVRPART -m /AVRPART/FUSE/EXTENDED -c . $devicefile | \
+        xml pyx | \
+        sed "s,(FUSE,(FUSE\nAbitnum ,g" | \
+        sed "s,)FUSE.*,)FUSE,g" | \
+        sed "s,-\\$,-,g" | \
+        xml depyx | \
+        xml sel -T \
+        -t -i "count(/AVRPART/EXTENDED)" -o "/* Extended Fuse Byte */" -n \
+        -t -m "/AVRPART/EXTENDED/FUSE[@bitnum]" -s "A:T:-" "@bitnum" -v "concat('#define FUSE_',NAME,'  (unsigned char)~_BV(',@bitnum,')  /* ',TEXT,' */')" -n \
+        -t -i "count(/AVRPART/EXTENDED)" -o "#define EFUSE_DEFAULT (" \
+           -m "/AVRPART/EXTENDED/FUSE" -i "DEFAULT=0" -v "concat('FUSE_',NAME,' &amp; ')" \
+        -t -i "count(/AVRPART/EXTENDED)" -o ")" -n -n | \
+        sed "s, \& ),)," | \
+        sed "s,DEFAULT (),DEFAULT (0xFF)," >> $headerfile
+fi
+echo "" >> $headerfile
+
+
+
+# Lockbit information
+#-----------------------
+xml sel -T -t -o "/* Lock Bits */" -n $devicefile >> $headerfile
+
+# Normal V2 information location.
+xml sel -T -t -i "count(/AVRPART/V2/templates/module[@class='LOCKBIT']/registers/reg/bitfield[@name='LB'])" -o "#define __LOCK_BITS_EXIST" -n \
+        -i "count(/AVRPART/V2/templates/module[@class='LOCKBIT']/registers/reg/bitfield[@name='BLB0'])" -o "#define __BOOT_LOCK_BITS_0_EXIST" -n \
+        -i "count(/AVRPART/V2/templates/module[@class='LOCKBIT']/registers/reg/bitfield[@name='BLB1'])" -o "#define __BOOT_LOCK_BITS_1_EXIST" -n $devicefile >> $headerfile
+
+# Certain XML files have "templates", others do not. Use alternate XPath.
+xml sel -T -t -i "count(/AVRPART/LOCKBIT/V2/module[@class='LOCKBIT']/registers/reg/bitfield[@name='LB'])" -o "#define __LOCK_BITS_EXIST" -n \
+        -i "count(/AVRPART/LOCKBIT/V2/module[@class='LOCKBIT']/registers/reg/bitfield[@name='BLB0'])" -o "#define __BOOT_LOCK_BITS_0_EXIST" -n \
+        -i "count(/AVRPART/LOCKBIT/V2/module[@class='LOCKBIT']/registers/reg/bitfield[@name='BLB1'])" -o "#define __BOOT_LOCK_BITS_1_EXIST" -n $devicefile >> $headerfile
+
+xml sel -T -t -n -n $devicefile >> $headerfile
+
+
+
+# Signature information
+#--------------------------
+SIGNATURE_0=$(xml sel -T -t -m "/AVRPART/ADMIN/SIGNATURE" -v "ADDR000" $devicefile | sed "s,\\$,0x,g")
+SIGNATURE_1=$(xml sel -T -t -m "/AVRPART/ADMIN/SIGNATURE" -v "ADDR001" $devicefile | sed "s,\\$,0x,g")
+SIGNATURE_2=$(xml sel -T -t -m "/AVRPART/ADMIN/SIGNATURE" -v "ADDR002" $devicefile | sed "s,\\$,0x,g")
+echo "/* Signature */" >> $headerfile
+echo "#define SIGNATURE_0 ${SIGNATURE_0}" >> $headerfile
+echo "#define SIGNATURE_1 ${SIGNATURE_1}" >> $headerfile
+echo "#define SIGNATURE_2 ${SIGNATURE_2}" >> $headerfile
+echo "" >> $headerfile
+echo "" >> $headerfile
+
+
+
+# Device Pin information
+#---------------------------
+# Only available in AVR Studio 4 XML V1 information. V2 does not have this data.
+echo "/* Device Pin Definitions */" >> $headerfile
+# Get all package types.
+PACKAGE_TYPES=$(xml sel -T -t -v '/AVRPART/PACKAGE/PACKAGES' $devicefile | cut -d '[' -f 2 | cut -d ']' -f 1 | cut -d ':' -f 1- --output-delimiter=' ')
+# Determine which package has the most number of pins.
+PACKAGE_MAX=0
+PACKAGE_SELECTED=
+for i in $PACKAGE_TYPES ; do
+    PACKAGE_SIZE=$(xml sel -T -t -v /AVRPART/PACKAGE/${i}/NMB_PIN $devicefile | sed "s,\r,,g")
+    if test $PACKAGE_SIZE -gt $PACKAGE_MAX ; then
+        PACKAGE_MAX=$PACKAGE_SIZE
+        PACKAGE_SELECTED=$i
+    fi
+done
+# Check to make sure that package information is included in the XML file.
+if test -n $PACKAGE_SELECTED ; then
+    # Get list of pins from selected package, and check each pin.
+    PINS=$(xml sel -T -t -m /AVRPART/PACKAGE/$PACKAGE_SELECTED/* -v "name()" -o ' ' $devicefile | sed "s,\r,,g" | sed "s,NMB_PIN,,g")
+    for i in $PINS ; do
+        TARGET=
+        MAP_LIST=
+        
+        # The XML files are inconsistent in their format. Try several options.
+        
+        # Check for NAME tag.
+        NAME=$(xml sel -T -t -m /AVRPART/PACKAGE/$PACKAGE_SELECTED/${i}/NAME -v . -o ' ' $devicefile | sed "s,\r,,g")
+        if test $NAME ; then
+            # Get list of mappings. Inside brackets, colon delimited. The first one in the list is the target information.
+            TARGET=$(echo $NAME | cut -d '[' -f 2 | cut -d ']' -f 1 | cut -d ':' -f 1 --output-delimiter=' ')
+            MAP_LIST=$(echo $NAME | cut -d '[' -f 2 | cut -d ']' -f 1 | cut -d ':' -f 2- --output-delimiter=' ')
+        else
+            # Check for PIN_NAME and ALT_NAME tags.
+            PIN_NAME=$(xml sel -T -t -m /AVRPART/PACKAGE/$PACKAGE_SELECTED/${i}/PIN_NAME -v . -o ' ' $devicefile | sed "s,\r,,g")
+            ALT_NAME=$(xml sel -T -t -m /AVRPART/PACKAGE/$PACKAGE_SELECTED/${i}/ALT_NAME -v . -o ' ' $devicefile | sed "s,\r,,g")
+
+            if test -n "$PIN_NAME" -a -n "$ALT_NAME"  ; then
+                # Determine which field has the target and which has the mappings.
+                TARGET=$ALT_NAME
+                MAP_LIST=$(echo $PIN_NAME | sed "s,^[*]$,&,")
+                if test -z $MAP_LIST ; then
+                    MAP_LIST=$ALT_NAME
+                    TARGET=$PIN_NAME
+                fi
+                
+                # Get list of mappings. Inside brackets, colon delimited.
+                MAP_LIST=$(echo $MAP_LIST | cut -d '[' -f 2 | cut -d ']' -f 1 | cut -d ':' -f 1- --output-delimiter=' ')
+                
+                # Make sure target isn't just a blank character.
+                TARGET=$(echo $TARGET | sed "s, ,,g")
+            fi
+        fi
+        
+        if test -n "$TARGET" -a -n "$MAP_LIST" ; then
+            # Make transformations on map list.
+            #     Remove active low character signified by single quote
+            #     Replace '+' with "_P"
+            #     Replace '-' with "_N"
+            MAP_LIST=$(echo $MAP_LIST | sed "s,',,g" | sed "s,+,_P,g" | sed "s,-,_N,g")
+
+            #     Remove these pin mappings because they cannot be manipulated by software.
+            for j in TOSC1 TOSC2 PDI PDO TCK TMS TDO TDI AVCC AREF AGND HWB RESET XTAL1 XTAL2 VCC GND NC; do
+                MAP_LIST=$(echo $MAP_LIST | sed "s,${j},,g")
+            done
+
+            TARGET_LETTER=$(echo $TARGET | sed "s,^P,,g" | sed "s,[0-9]$,,g")
+            TARGET_NUMBER=$(echo $TARGET | sed "s,^P[A-Z],,g")
+
+            # Add definitions to map alternate pin names to register definitions.
+            for j in $MAP_LIST ; do
+                echo "#define ${j}_DDR   DDR${TARGET_LETTER}" >> $headerfile
+                echo "#define ${j}_PORT  PORT${TARGET_LETTER}" >> $headerfile
+                echo "#define ${j}_PIN   PIN${TARGET_LETTER}" >> $headerfile
+                echo "#define ${j}_BIT   ${TARGET_NUMBER}" >> $headerfile
+                echo "" >> $headerfile
+            done
+        fi
+    done
+fi
+
+
+# End of XMEGA/Classic
+fi
+
+
+# Ending idempotent guard.
+#--------------------------
+echo "#endif /* _AVR_${DEVICE}_H_ */" >> $headerfile
+echo "" >> $headerfile
+
+# Convert to Unix line endings.
+#-------------------------------
+sed -i "s,\r\n,\n,g" $headerfile
+
+
+# Set permissions on the file
+#------------------------------
+chmod 644 $headerfile
+
+
+# I/O Header File and XML Device File Verification
+#--------------------------------------------------
+LOGFILE=$headerfile.log
+# Turn off printing of commands for the verification.
+set +ex
+
+if test -e $LOGFILE ; then
+    rm -f $LOGFILE
+fi
+
+echo Checking for package information in XML file... | tee -a $LOGFILE
+PACKAGE_TYPES=$(xml sel -t -v '/AVRPART/PACKAGE/PACKAGES' $devicefile | cut -d ']' -f 1 | cut -d ':' -f 1- --output-delimiter=' ')
+if test -z "$PACKAGE_TYPES" ; then
+    echo "Package types missing from XML file." | tee -a $LOGFILE
+fi
+echo | tee -a $LOGFILE
+
+echo Checking for misspelled preprocessor directives in header file... | tee -a $LOGFILE
+grep "#" $headerfile | cut -d '#' -f 2 | cut -d ' ' -f 1 | sort | uniq | tee -a $LOGFILE
+echo | tee -a $LOGFILE
+
+echo Checking for duplicate definitions in header file... | tee -a $LOGFILE
+grep "#define" $headerfile | cut -d '#' -f 2 | cut -d ' ' -f 2 | sort | uniq -d | uniq | tee -a $LOGFILE
+echo | tee -a $LOGFILE
+
+echo Checking for hyphens in defined names in header file... | tee -a $LOGFILE
+grep "#define" $headerfile | cut -d '#' -f 2 | cut -d ' ' -f 2 | grep '-' | tee -a $LOGFILE
+echo | tee -a $LOGFILE
+
+echo Checking for hyphens in register and bit names in XML device file... | tee -a $LOGFILE
+echo "$REGS_WITH_HYPHENS" | tee -a $LOGFILE
+echo | tee -a $LOGFILE
+
+echo Checking for invalid signature... | tee -a $LOGFILE
+if test "$SIGNATURE_0" = "0x0" -a "$SIGNATURE_1" = "0x0" -a "$SIGNATURE_2" = "0x0" ; then
+    echo "  Invalid signature: ${SIGNATURE_0} ${SIGNATURE_1} ${SIGNATURE_2}" | tee -a $LOGFILE
+fi
+echo | tee -a $LOGFILE
+
+echo Checking for registers that have no associated bit names... | tee -a $LOGFILE
+echo "$REGS_NO_BITNAMES" | tee -a $LOGFILE
+echo | tee -a $LOGFILE
+
+# todo:
+# Properly get all preprocessor directives
+# Check directives against a known dictionary.
diff --git a/xml/patch-headers.py b/xml/patch-headers.py
new file mode 100755
index 0000000..7586f04
--- /dev/null
+++ b/xml/patch-headers.py
@@ -0,0 +1,437 @@
+#! /usr/bin/env python
+#
+# Copyright (c) 2005,2006,2007  Joerg Wunsch
+# All rights reserved.
+#
+# Redistribution and use in source and binary forms, with or without
+# modification, are permitted provided that the following conditions are met:
+#
+# * Redistributions of source code must retain the above copyright
+#   notice, this list of conditions and the following disclaimer.
+#
+# * Redistributions in binary form must reproduce the above copyright
+#   notice, this list of conditions and the following disclaimer in
+#   the documentation and/or other materials provided with the
+#   distribution.
+#
+# * Neither the name of the copyright holders nor the names of
+#   contributors may be used to endorse or promote products derived
+#   from this software without specific prior written permission.
+#
+# THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+# AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+# IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+# ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+# LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+# CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+# SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+# INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+# CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+# ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+# POSSIBILITY OF SUCH DAMAGE.
+#
+# $Id$
+#
+
+import os, sys, time, types, re
+
+from types import *
+
+from xml.sax import make_parser
+from xml.sax.handler import ContentHandler
+
+from Descparser import *
+from Atmel2libc import *
+
+home = os.environ['HOME']
+
+xmls = home + "/src/jtagII/xml/Partdescriptionfiles"
+headers = home + "/src/avr-libc/include/avr"
+
+docfilename = "vectortable.dox"
+
+# Mapping between header name and device name.  In case of a header
+# name that covers more than one device, the device names form a tuple
+# where the device with the largest feature set is listed as the first
+# one.
+table = {
+    "io1200.h": "AT90S1200",
+    "io2313.h": "AT90S2313",
+    "io2323.h": "AT90S2323",
+    "io2333.h": "AT90S2333",
+    "io2343.h": "AT90S2343",
+    # no XML files
+    #"io43u32x.h": "AT43USB320",
+    #"io43u35x.h": "AT43USB355",
+    "io4414.h": "AT90S4414",
+    "io4433.h": "AT90S4433",
+    "io4434.h": "AT90S4434",
+    # no XML file
+    #"io76c711.h": "AT76C711",
+    "io8515.h": "AT90S8515",
+    # no XML file
+    #"io8534.h": "AT90C8534",
+    "io8535.h": "AT90S8535",
+    "io86r401.h": "AT86RF401",
+    # still no XML file
+    #"io90pwm1.h": "AT90PWM1",
+    "io90pwm216.h": "AT90PWM216",
+    "io90pwm2b.h": "AT90PWM2B",
+    "io90pwm316.h": "AT90PWM316",
+    "io90pwm3b.h": "AT90PWM3B",
+    "io90pwmx.h": ("AT90PWM3", "AT90PWM2", "AT90PWM1"),
+    # no XML file
+    #"ioat94k.h": "AT94k",
+    "iocanxx.h": ("AT90CAN128", "AT90CAN32", "AT90CAN64"),
+    "iom103.h": "ATmega103",
+    "iom128.h": "ATmega128",
+    #"iom1280.h" => "iomxx0_1.h"
+    #"iom1281.h" => "iomxx0_1.h"
+    "iom1284p.h": "ATmega1284P",
+    "iom16.h": "ATmega16",
+    "iom161.h": "ATmega161",
+    "iom162.h": "ATmega162",
+    "iom163.h": "ATmega163",
+    #"iom164.h" => "iomxx4.h"
+    "iom165.h": "ATmega165",
+    "iom165p.h": "ATmega165P",
+    #"iom168.h" => "iomx8.h"
+    "iom168p.h": "ATmega168P",
+    "iom169.h": "ATmega169",
+    "iom169p.h": "ATmega169P",
+    #"iom16hva.h" => "iomxxhva.h"
+    #"iom2560.h" => "iomxx0_1.h"
+    #"iom2561.h" => "iomxx0_1.h"
+    "iom32.h": "ATmega32",
+    "iom323.h": "ATmega323",
+    "iom325.h": "ATmega325",
+    "iom3250.h": ("ATmega3250", "ATmega3250P"),
+    "iom328p.h": "ATmega328P",
+    "iom329.h": "ATmega329",
+    "iom3290.h": ("ATmega3290", "ATmega3290P"),
+    "iom32hvb.h": "ATmega32HVB",
+    "iom406.h": "ATmega406",
+    #"iom48.h" => "iomx8.h"
+    "iom48p.h": "ATmega48P",
+    "iom64.h": "ATmega64",
+    #"iom640.h" => "iomxx0_1.h"
+    #"iom644.h" => "iomxx4.h"
+    "iom645.h": "ATmega645",
+    "iom6450.h": "ATmega6450",
+    "iom649.h": "ATmega649",
+    "iom6490.h": "ATmega6490",
+    "iom8.h": "ATmega8",
+    "iom8515.h": "ATmega8515",
+    "iom8535.h": "ATmega8535",
+    #"iom88.h" => "iomx8.h"
+    "iom88p.h": "ATmega88P",
+    #"iom8hva.h" => "iomxxhva.h"
+    "iomx8.h": ("ATmega168", "ATmega48", "ATmega88"),
+    "iomxx0_1.h": ("ATmega640", "ATmega1280", "ATmega1281", "ATmega2560", "ATmega2561"),
+    "iomxx4.h": ("ATmega324P", "ATmega164P", "ATmega644P", "ATmega644"),
+    # ATmega8HVA XML still missing
+    #"iomxxhva.h": ("ATmega8HVA", "ATmega16HVA"),
+    "iomxxhva.h": ("ATmega16HVA"),
+    "iotn11.h": "ATtiny11",
+    "iotn12.h": "ATtiny12",
+    "iotn13.h": "ATtiny13",
+    "iotn15.h": "ATtiny15",
+    "iotn22.h": "ATtiny22",
+    "iotn2313.h": "ATtiny2313",
+    #"iotn24.h" => "iotnx4.h"
+    #"iotn25.h" => "iotnx5.h"
+    "iotn26.h": "ATtiny26",
+    #"iotn261.h" => "iotnx61.h"
+    "iotn28.h": "ATtiny28",
+    "iotn43u.h": "ATtiny43U",
+    #"iotn44.h" => "iotnx4.h"
+    #"iotn45.h" => "iotnx5.h"
+    #"iotn461.h" => "iotnx61.h"
+    "iotn48.h": "ATtiny48",
+    #"iotn84.h" => "iotnx4.h"
+    #"iotn85.h" => "iotnx5.h"
+    #"iotn861.h" => "iotnx61.h"
+    # No XML file (yet)
+    #"iotn88.h": "ATtiny88",
+    "iotnx4.h": ("ATtiny24", "ATtiny44", "ATtiny84"),
+    "iotnx5.h": ("ATtiny45", "ATtiny25", "ATtiny85"),
+    "iotnx61.h": ("ATtiny261", "ATtiny461", "ATtiny861"),
+    #"iousb1286.h" => "iousbxx6_7.h"
+    #"iousb1287.h" => "iousbxx6_7.h"
+    #"iousb162.h" => "iousbxx2.h"
+    #"iousb646.h" => "iousbxx6_7.h"
+    #"iousb647.h" => "iousbxx6_7.h"
+    #"iousb82.h" => "iousbxx2.h"
+    "iousbxx2.h": ("AT90USB162", "AT90USB82"),
+    "iousbxx6_7.h": ("AT90USB1287", "AT90USB1286", "AT90USB647", "AT90USB646"),
+}
+
+def create_tabs (string):
+    "Create a number of tabs according to the length of string"
+    x = ''
+    lim = (32 - len(string) + 7) / 8
+    if lim <= 0:
+        lim = 1
+    for i in range(0, lim):
+        x += "\t"
+    return x
+
+
+parser = make_parser ()
+
+handler = DescHandler ()
+parser.setContentHandler (handler)
+
+print "Converting XML files:"
+for header in table.keys():
+    try:
+        xmlfile = table[header] + ".xml"
+        basedev = table[header]
+    except TypeError:
+        # in case we've got a tuple of device names
+        xmlfile = table[header][0] + ".xml"
+        basedev = ", ".join(table[header])
+    inputxml = xmls + "/" + xmlfile
+    outputxml = xmlfile
+
+    if os.access(xmlfile, os.F_OK):
+        continue
+
+    sys.stdout.write(basedev + "... ")
+
+    parser1 = Xml2Obj()
+    root = parser1.Parse(inputxml)
+
+    tradheader = HeaderToVec()
+    tradheader.Read(headers + "/" + header)
+
+    savedstdout = sys.stdout
+    sys.stdout = open(outputxml, "w")
+    dump_header (root)
+    dump_memory_sizes (root)
+    dump_vectors (root, tradheader)
+    dump_ioregs (root)
+    dump_boot_info (root)
+    dump_footer (root)
+    sys.stdout.close()
+    sys.stdout = savedstdout
+
+    print "done."
+
+r = re.compile(r'#\s*define\s+((SIG_)?[A-Z0-9_]+(_vect)?)\s+_VECTOR[(](\d+)[)]')
+
+print "Patching headers:"
+docs = {}
+nlist = table.keys()
+nlist.sort()
+for header in nlist:
+    devname = table[header]
+    try:
+        xmlfile = devname + ".xml"
+        basedev = devname
+    except TypeError:
+        # in case we've got a tuple of device names
+        xmlfile = devname[0] + ".xml"
+        basedev = ", ".join(devname)
+    hfile = headers + "/" + header
+
+    sys.stdout.write(basedev + "... ")
+
+    #parser = Xml2Obj()
+    parser.parse (open (xmlfile))
+
+    h = open(hfile)
+    lines = h.readlines()
+    h.close()
+
+    parseddev = parser.getContentHandler().dev
+
+    # Find any interrupt vector definitions, and rewrite them.
+    endcount = len(lines)
+    idx = 0
+    while idx < endcount:
+        line = lines[idx]
+        try:
+            m = r.match(line)
+        except TypeError:
+            print line
+            exit(0)
+        if m != None:
+            firstidx = idx
+            key = m.group(4)            # this is the vector number
+            ele = parseddev.interrupts[key]
+
+            if lines[idx - 1].find(ele.description.data) >= 0:
+                # there is a /* description */ comment in the previous line,
+                # drop it
+                if idx - 1 < firstidx:
+                    firstidx = idx - 1
+
+            lastidx = idx + 1
+            while r.match(lines[lastidx]) and r.match(lines[lastidx]).group(4) == key:
+                # more vector definitions follow, skip them
+                lastidx += 1
+
+            while re.match('^$', lines[lastidx]):
+                # blank lines follow, skip them, too
+                lastidx += 1
+
+            # Now, lastidx points to the first line not belonging
+            # to our current vector definition.  lastidx - firtidx
+            # is the number of lines affected.
+
+            count = lastidx - firstidx
+            del lines[firstidx:lastidx]
+
+            # now, build a new vector entry
+            vecttext = []
+            newcount = 0
+            if len(ele.description.data) > 0:
+                vecttext.append("/* " + ele.description.data + " */\n")
+                newcount += 1
+            vecttext.append("#define " + ele.sig_name.data +
+                            create_tabs(ele.sig_name.data) +
+                            "_VECTOR(" + key + ")\n")
+            newcount += 1
+            try:
+                for x in ele.alt_name.data:
+                    vecttext.append("#define " + x +
+                                    create_tabs(x) + "_VECTOR(" + key + ")\n")
+                    newcount += 1
+            except AttributeError:
+                # no alt_name present
+                pass
+            vecttext.append('\n')
+            newcount += 1
+
+            # insert new vector entry
+            lines[firstidx:firstidx] = vecttext
+
+            endcount += newcount - count
+            # back off beyond what we've just been working on
+            idx = firstidx + newcount
+
+            # collect documentation for this vector
+            try:
+                if type(devname) is TupleType:
+                    for d in devname:
+                        docs[ele.sig_name.data][2].append(d)
+                else:
+                    docs[ele.sig_name.data][2].append(devname)
+            except KeyError:
+                try:
+                    if type(devname) is TupleType:
+                        docs[ele.sig_name.data] = (ele.alt_name.data,
+                                                   ele.description.data,
+                                                   [])
+                        for d in devname:
+                            docs[ele.sig_name.data][2].append(d)
+                    else:
+                        docs[ele.sig_name.data] = (ele.alt_name.data,
+                                                   ele.description.data,
+                                                   [devname])
+                except AttributeError:
+                    # no alt name
+                    pass
+        else:
+            # no match, increment index
+            idx += 1
+
+    newh = open(header, "w")
+    for line in lines:
+        newh.writelines(line)
+    newh.close()
+    print "done."
+
+# Try to find the name of the person running this script.
+user = 'The avr-libc developer group.'
+if os.name == 'posix':
+    import pwd
+    gecos=pwd.getpwnam(os.getlogin())[4]
+    x = gecos.split(',')[0]
+    if re.match('^[A-Z][a-z]* [A-Z][a-z]*', x):
+        # if at least two capitalized words are present, trust that
+        user = x
+
+sys.stdout.write("Writing documentation to " + docfilename + "... ")
+savedstdout = sys.stdout
+sys.stdout = open(docfilename, "w")
+
+print """/* Note: this file has been automatically generated. */
+/* DO NOT EDIT, or your changes WILL BE LOST! */
+
+/* Copyright (c) %d %s
+   All rights reserved.
+
+   Redistribution and use in source and binary forms, with or without
+   modification, are permitted provided that the following conditions are met:
+
+   * Redistributions of source code must retain the above copyright
+     notice, this list of conditions and the following disclaimer.
+
+   * Redistributions in binary form must reproduce the above copyright
+     notice, this list of conditions and the following disclaimer in
+     the documentation and/or other materials provided with the
+     distribution.
+
+   * Neither the name of the copyright holders nor the names of
+     contributors may be used to endorse or promote products derived
+     from this software without specific prior written permission.
+
+   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
+   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+   POSSIBILITY OF SUCH DAMAGE. */
+""" % (time.localtime()[0], user)
+
+# avoid CVS munging with this here in the script
+print '/* $Id' + '$ */\n'
+
+print '''
+/** \\addtogroup avr_interrupts
+
+@{
+
+\\anchor avr_signames
+<small>
+<table border="3">
+  <tr>
+    <td width="20%"><strong>Vector name</strong></td>
+    <td width="20%"><strong>Old vector name</strong></td>
+    <td width="20%"><strong>Description</strong></td>
+    <td width="40%"><strong>Applicable for device</strong></td>
+  </tr>
+'''
+
+vecs = docs.keys()
+vecs.sort()
+for vecname in vecs:
+    x = docs[vecname]
+    nlines = len(x[2])
+    print '  <tr>'
+    print '    <td>' + vecname + '</td>'
+    try:
+        print '    <td>' + x[0] + '</td>'
+    except TypeError:
+        print '    <td>' + ', '.join(x[0]) + '</td>'
+    print '    <td>' + x[1] + '</td>'
+    print '    <td>' + ', '.join(x[2]) + '</td>'
+    print '  </tr>'
+
+print """</table>
+</small>
+
+@}*/
+"""
+
+sys.stdout.close()
+sys.stdout = savedstdout
+
+print "done."
